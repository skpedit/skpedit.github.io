import"./chunk-TTEICWRL.js";import"./chunk-US7LQEOR.js";import"./chunk-AOVBE3SO.js";import"./chunk-RHIQNHGH.js";import"./chunk-ZMXXLGTO.js";import{$ as Il,$a as ct,$b as Fo,$c as RS,$d as zS,$e as p2,$f as Jf,$g as ku,$h as sz,A as bt,Aa as ln,Ab as On,Ac as jf,Ad as o2,Ae as eo,Af as Zf,Ag as o1,Ah as Qg,Ai as Cz,B as gS,Ba as co,Bb as c8,Bc as S8,Bd as Ms,Be as cr,Bf as Nh,Bg as r1,Bh as f1,Bi as As,C as T4,Ca as G4,Cb as d8,Cc as Xk,Cd as N8,Ce as An,Cf as YS,Cg as v2,Ch as U5,Ci as Nl,D as xh,Da as A0,Db as _h,Dc as _a,Dd as ho,De as ii,Df as QS,Dg as A5,Dh as En,Di as wz,E as Fk,Ea as Ds,Eb as F0,Ec as DS,Ed as $g,Ee as Oi,Ef as ZS,Eg as T5,Eh as us,Ei as zQ,F as xo,Fa as j4,Fb as u8,Fc as x8,Fd as FS,Fe as Vt,Ff as q0,Fg as F5,Fh as $5,Fi as bz,G as vt,Ga as uo,Gb as h8,Gc as _8,Gd as Rn,Ge as Qf,Gf as K0,Gg as C2,Gh as TQ,Gi as _2,H as en,Ha as ls,Hb as g8,Hc as ES,Hd as Rh,He as tl,Hf as Y0,Hg as s1,Hh as q5,Hi as yz,I as Jt,Ia as W4,Ib as yQ,Ic as D8,Id as PS,Ie as GS,If as XS,Ig as vn,Ih as FQ,Ii as Sz,J as Cr,Ja as zk,Jb as p8,Jc as E8,Jd as H0,Je as j0,Jf as JS,Jg as P5,Jh as K5,Ji as BQ,K as $n,Ka as Bk,Kb as $k,Kc as yu,Kd as r2,Ke as wr,Kf as e1,Kg as L5,Kh as PQ,Ki as Au,L as an,La as U4,Lb as bS,Lc as Wf,Ld as O8,Le as Fh,Lf as J8,Lg as a1,Lh as Y5,Li as xz,M as Pk,Ma as $4,Mb as yS,Mc as MS,Md as LS,Me as jS,Mf as e5,Mg as N5,Mh as LQ,N as kl,Na as CS,Nb as Br,Nc as Ta,Nd as s2,Ne as WS,Nf as t5,Ng as l1,Nh as Q5,O as F4,Oa as Dn,Ob as Bf,Oc as z0,Od as NS,Oe as Tn,Of as i5,Og as Mu,Oh as Z5,P as Pf,Pa as q4,Pb as f8,Pc as kS,Pd as OS,Pe as it,Pf as n5,Pg as O5,Ph as NQ,Q as pS,Qa as K4,Qb as qk,Qc as IS,Qd as ks,Qe as u2,Qf as o5,Qg as c1,Qh as X5,Qi as Qn,R as P4,Ra as Go,Rb as P0,Rc as M8,Rd as qf,Re as Wr,Rf as r5,Rg as d1,Rh as J5,S as ci,Sa as Rl,Sb as Es,Sc as k8,Sd as z8,Se as q8,Sf as s5,Sg as nm,Sh as ez,T as To,Ta as Y4,Tb as m8,Tc as I8,Td as MQ,Te as pt,Tf as a5,Tg as Q0,Th as tz,U as _t,Ua as Q4,Ub as SS,Uc as Eh,Ud as a2,Ue,Uf as l5,Ug as w2,Uh as iz,V as Jn,Va as Z4,Vb as xS,Vc as Uf,Vd as kQ,Ve as h2,Vf as c5,Vg as Oh,Vh as Zg,W as Ie,Wa as X4,Wb as Kk,Wc as Al,Wd as nn,We as US,Wf as d5,Wg as u1,Wh as Xg,X as Bt,Xa as Vk,Xb as L0,Xc as Jk,Xd as Ah,Xe as Dt,Xf as u5,Xg as Me,Xh as m1,Y as Ct,Ya as cs,Yb as tn,Yc as e2,Yd as Is,Ye as $t,Yf as t1,Yg as Yi,Yh as nz,Z as lo,Za as Hg,Zb as N0,Zc as B0,Zd as Kf,Ze as g2,Zf as Rs,Zg as z5,Zh as oz,_ as hi,_a as Hk,_b as Vr,_c as Wg,_d as lr,_e as IQ,_f as Xf,_g as Eo,_h as rz,a as _,aa as Lk,ab as Gg,ac as Wo,ad as t2,ae as B8,af as $S,ag as h5,ah as B5,ai as az,b as Pt,ba as wn,bb as ut,bc as xi,bd as R8,be as bn,bf as K8,bg as m2,bh as om,bi as lz,c as vu,ca as Ii,cb as jo,cc as Do,cd as Mh,ce as V8,cf as W0,cg as g5,ch as h1,ci as cz,d as rr,da as Ho,db as _o,dc as sr,dd as Vi,de as zn,df as U0,dg as p5,dh as b2,di as OQ,e as k0,ea as L4,eb as T0,ec as v8,ed as A8,ee as H8,ef as Ph,eg as f5,eh as V5,ei as zh,f as Sh,fa as N4,fb as J4,fc as bu,fd as T8,fe as l2,ff as RQ,fg as m5,fh as Z0,fi as dz,g as dS,ga as O4,gb as Ki,gc as C8,gd as F8,ge as G8,gf as Y8,gg as v5,gh as H5,gi as iC,h as A4,ha as z4,hb as e8,hc as w8,hd as _Q,he as c2,hf as AQ,hg as C5,hh as y2,hi as S2,i as wa,ia as fS,ib as ds,ic as Vf,id as $f,ie as BS,if as _u,ig as w5,ih as Iu,ii as uz,j as I0,ja as Cu,jb as t8,jc as _S,jd as i2,je as j8,jf as $0,jg as b5,jh as Pl,ji as v1,k as vQ,ka as Nk,kb as wu,kc as Hf,kd as ar,ke as Th,kf as fi,kg as y5,kh as X0,ki as x2,l as Ut,la as Ok,lb as i8,lc as SQ,ld as kh,le as Yn,lf as Tl,lg as Eu,lh as g1,li as hz,m as pn,ma as B4,mb as n8,mc as Hr,md as jr,me as W8,mf as il,mg as em,mh as J0,mi as ko,n as Ml,na as wQ,nb as wS,nc as Yk,nd as Ug,ne as el,nf as ni,ng as tm,nh as G5,ni as nC,o as uS,oa as V4,ob as Gk,oc as O0,od as V0,oe as U8,of as Lo,og as S5,oh as rm,oi as oC,p as as,pa as bQ,pb as Kn,pc as Gf,pd as DQ,pe as VS,pf as Q8,pg as im,ph as Kg,pi as br,q as ki,qa as ji,qb as Of,qc as Qk,qd as Zi,qe as $8,qf as f2,qg as x5,qh as j5,qi as C1,r as Tk,ra as mS,rb as jk,rc as b8,rd as Su,re as qg,rf as Z8,rg as _5,rh as eC,ri as w1,s as CQ,sa as ba,sb as o8,sc as xQ,sd as xu,se as HS,sf as St,sg as D5,sh as tC,si as gz,t as hS,ta as Lf,tb as Wk,tc as Po,td as n2,te as G0,tf as kt,tg as E5,th as Mo,ti as b1,u as Un,ua as Vg,ub as Uk,uc as Dh,ud as P8,ue as st,uf as X8,ug as i1,uh as W5,ui as pz,v as R0,va as vS,vb as zf,vc as jg,vd as EQ,ve as ei,vf as qS,vg as n1,vh as p1,vi as y1,w as ao,wa as zr,wb as r8,wc as Zk,wd as Ih,we as Wt,wf as KS,wg as M5,wh as sm,wi as fz,x as Xe,xa as qn,xb as s8,xc as gt,xd as AS,xe as Ti,xf as Lh,xg as k5,xh as Yg,xi as mz,y as yt,ya as H4,yb as a8,yc as y8,yd as TS,ye as Yf,yf as Du,yg as I5,yh as Ll,yi as vz,z as Ao,za as Nf,zb as l8,zc as Gr,zd as L8,ze as d2,zf as Fl,zg as R5,zh as Ru,zi as S1}from"./chunk-FXFJW6CT.js";import{a as We,b as At,c as M0,d as Ak,e as lS,f as bh,g as cS,h as yh,i as Nn}from"./chunk-TVXFYX5A.js";var wj=bh((RT,AT)=>{"use strict";(function(e,i){typeof RT=="object"&&typeof AT<"u"?AT.exports=i():typeof define=="function"&&define.amd?define(i):(e=typeof globalThis<"u"?globalThis:e||self,e.marked=i())})(RT,function(){"use strict";function e(Ge,Ne){for(var Ve=0;Ve<Ne.length;Ve++){var j=Ne[Ve];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(Ge,j.key,j)}}function i(Ge,Ne,Ve){return Ne&&e(Ge.prototype,Ne),Ve&&e(Ge,Ve),Ge}function n(Ge,Ne){if(Ge){if(typeof Ge=="string")return o(Ge,Ne);var Ve=Object.prototype.toString.call(Ge).slice(8,-1);if(Ve==="Object"&&Ge.constructor&&(Ve=Ge.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(Ge);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return o(Ge,Ne)}}function o(Ge,Ne){(Ne==null||Ne>Ge.length)&&(Ne=Ge.length);for(var Ve=0,j=new Array(Ne);Ve<Ne;Ve++)j[Ve]=Ge[Ve];return j}function r(Ge,Ne){var Ve;if(typeof Symbol>"u"||Ge[Symbol.iterator]==null){if(Array.isArray(Ge)||(Ve=n(Ge))||Ne&&Ge&&typeof Ge.length=="number"){Ve&&(Ge=Ve);var j=0;return function(){return j>=Ge.length?{done:!0}:{done:!1,value:Ge[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return Ve=Ge[Symbol.iterator](),Ve.next.bind(Ve)}function s(Ge){var Ne={exports:{}};return Ge(Ne,Ne.exports),Ne.exports}var l=s(function(Ge){function Ne(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function Ve(j){Ge.exports.defaults=j}Ge.exports={defaults:Ne(),getDefaults:Ne,changeDefaults:Ve}}),c=/[&<>"']/,d=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,h=/[<>"']|&(?!#?\w+;)/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p=function(Ne){return g[Ne]};function f(Ge,Ne){if(Ne){if(c.test(Ge))return Ge.replace(d,p)}else if(u.test(Ge))return Ge.replace(h,p);return Ge}var y=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function M(Ge){return Ge.replace(y,function(Ne,Ve){return Ve=Ve.toLowerCase(),Ve==="colon"?":":Ve.charAt(0)==="#"?Ve.charAt(1)==="x"?String.fromCharCode(parseInt(Ve.substring(2),16)):String.fromCharCode(+Ve.substring(1)):""})}var k=/(^|[^\[])\^/g;function G(Ge,Ne){Ge=Ge.source||Ge,Ne=Ne||"";var Ve={replace:function(Se,Re){return Re=Re.source||Re,Re=Re.replace(k,"$1"),Ge=Ge.replace(Se,Re),Ve},getRegex:function(){return new RegExp(Ge,Ne)}};return Ve}var J=/[^\w:]/g,$=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _e(Ge,Ne,Ve){if(Ge){var j;try{j=decodeURIComponent(M(Ve)).replace(J,"").toLowerCase()}catch{return null}if(j.indexOf("javascript:")===0||j.indexOf("vbscript:")===0||j.indexOf("data:")===0)return null}Ne&&!$.test(Ve)&&(Ve=at(Ne,Ve));try{Ve=encodeURI(Ve).replace(/%25/g,"%")}catch{return null}return Ve}var Te={},Pe=/^[^:]+:\/*[^/]*$/,$e=/^([^:]+:)[\s\S]*$/,nt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function at(Ge,Ne){Te[" "+Ge]||(Pe.test(Ge)?Te[" "+Ge]=Ge+"/":Te[" "+Ge]=Ei(Ge,"/",!0)),Ge=Te[" "+Ge];var Ve=Ge.indexOf(":")===-1;return Ne.substring(0,2)==="//"?Ve?Ne:Ge.replace($e,"$1")+Ne:Ne.charAt(0)==="/"?Ve?Ne:Ge.replace(nt,"$1")+Ne:Ge+Ne}var Ft={exec:function(){}};function Zt(Ge){for(var Ne=1,Ve,j;Ne<arguments.length;Ne++){Ve=arguments[Ne];for(j in Ve)Object.prototype.hasOwnProperty.call(Ve,j)&&(Ge[j]=Ve[j])}return Ge}function xn(Ge,Ne){var Ve=Ge.replace(/\|/g,function(Re,Fe,Le){for(var Tt=!1,dt=Fe;--dt>=0&&Le[dt]==="\\";)Tt=!Tt;return Tt?"|":" |"}),j=Ve.split(/ \|/),Se=0;if(j.length>Ne)j.splice(Ne);else for(;j.length<Ne;)j.push("");for(;Se<j.length;Se++)j[Se]=j[Se].trim().replace(/\\\|/g,"|");return j}function Ei(Ge,Ne,Ve){var j=Ge.length;if(j===0)return"";for(var Se=0;Se<j;){var Re=Ge.charAt(j-Se-1);if(Re===Ne&&!Ve)Se++;else if(Re!==Ne&&Ve)Se++;else break}return Ge.substr(0,j-Se)}function hn(Ge,Ne){if(Ge.indexOf(Ne[1])===-1)return-1;for(var Ve=Ge.length,j=0,Se=0;Se<Ve;Se++)if(Ge[Se]==="\\")Se++;else if(Ge[Se]===Ne[0])j++;else if(Ge[Se]===Ne[1]&&(j--,j<0))return Se;return-1}function Cn(Ge){Ge&&Ge.sanitize&&!Ge.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ss(Ge,Ne){if(Ne<1)return"";for(var Ve="";Ne>1;)Ne&1&&(Ve+=Ge),Ne>>=1,Ge+=Ge;return Ve+Ge}var ot={escape:f,unescape:M,edit:G,cleanUrl:_e,resolveUrl:at,noopTest:Ft,merge:Zt,splitCells:xn,rtrim:Ei,findClosingBracket:hn,checkSanitizeDeprecation:Cn,repeatString:ss},jt=l.defaults,Ci=ot.rtrim,Gi=ot.splitCells,Bi=ot.escape,nr=ot.findClosingBracket;function Js(Ge,Ne,Ve){var j=Ne.href,Se=Ne.title?Bi(Ne.title):null,Re=Ge[1].replace(/\\([\[\]])/g,"$1");return Ge[0].charAt(0)!=="!"?{type:"link",raw:Ve,href:j,title:Se,text:Re}:{type:"image",raw:Ve,href:j,title:Se,text:Bi(Re)}}function Af(Ge,Ne){var Ve=Ge.match(/^(\s+)(?:```)/);if(Ve===null)return Ne;var j=Ve[1];return Ne.split(`
`).map(function(Se){var Re=Se.match(/^\s+/);if(Re===null)return Se;var Fe=Re[0];return Fe.length>=j.length?Se.slice(j.length):Se}).join(`
`)}var Vo=function(){function Ge(Ve){this.options=Ve||jt}var Ne=Ge.prototype;return Ne.space=function(j){var Se=this.rules.block.newline.exec(j);if(Se)return Se[0].length>1?{type:"space",raw:Se[0]}:{raw:`
`}},Ne.code=function(j){var Se=this.rules.block.code.exec(j);if(Se){var Re=Se[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Se[0],codeBlockStyle:"indented",text:this.options.pedantic?Re:Ci(Re,`
`)}}},Ne.fences=function(j){var Se=this.rules.block.fences.exec(j);if(Se){var Re=Se[0],Fe=Af(Re,Se[3]||"");return{type:"code",raw:Re,lang:Se[2]?Se[2].trim():Se[2],text:Fe}}},Ne.heading=function(j){var Se=this.rules.block.heading.exec(j);if(Se){var Re=Se[2].trim();if(/#$/.test(Re)){var Fe=Ci(Re,"#");(this.options.pedantic||!Fe||/ $/.test(Fe))&&(Re=Fe.trim())}return{type:"heading",raw:Se[0],depth:Se[1].length,text:Re}}},Ne.nptable=function(j){var Se=this.rules.block.nptable.exec(j);if(Se){var Re={type:"table",header:Gi(Se[1].replace(/^ *| *\| *$/g,"")),align:Se[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Se[3]?Se[3].replace(/\n$/,"").split(`
`):[],raw:Se[0]};if(Re.header.length===Re.align.length){var Fe=Re.align.length,Le;for(Le=0;Le<Fe;Le++)/^ *-+: *$/.test(Re.align[Le])?Re.align[Le]="right":/^ *:-+: *$/.test(Re.align[Le])?Re.align[Le]="center":/^ *:-+ *$/.test(Re.align[Le])?Re.align[Le]="left":Re.align[Le]=null;for(Fe=Re.cells.length,Le=0;Le<Fe;Le++)Re.cells[Le]=Gi(Re.cells[Le],Re.header.length);return Re}}},Ne.hr=function(j){var Se=this.rules.block.hr.exec(j);if(Se)return{type:"hr",raw:Se[0]}},Ne.blockquote=function(j){var Se=this.rules.block.blockquote.exec(j);if(Se){var Re=Se[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Se[0],text:Re}}},Ne.list=function(j){var Se=this.rules.block.list.exec(j);if(Se){var Re=Se[0],Fe=Se[2],Le=Fe.length>1,Tt={type:"list",raw:Re,ordered:Le,start:Le?+Fe.slice(0,-1):"",loose:!1,items:[]},dt=Se[0].match(this.rules.block.item),Rt=!1,Xt,qi,Ro,_n,Mi,ga,Ff,Bg,El=dt.length;Ro=this.rules.block.listItemStart.exec(dt[0]);for(var mn=0;mn<El;mn++){if(Xt=dt[mn],Re=Xt,mn!==El-1){if(_n=this.rules.block.listItemStart.exec(dt[mn+1]),this.options.pedantic?_n[1].length>Ro[1].length:_n[1].length>Ro[0].length||_n[1].length>3){dt.splice(mn,2,dt[mn]+`
`+dt[mn+1]),mn--,El--;continue}else(!this.options.pedantic||this.options.smartLists?_n[2][_n[2].length-1]!==Fe[Fe.length-1]:Le===(_n[2].length===1))&&(Mi=dt.slice(mn+1).join(`
`),Tt.raw=Tt.raw.substring(0,Tt.raw.length-Mi.length),mn=El-1);Ro=_n}qi=Xt.length,Xt=Xt.replace(/^ *([*+-]|\d+[.)]) ?/,""),~Xt.indexOf(`
 `)&&(qi-=Xt.length,Xt=this.options.pedantic?Xt.replace(/^ {1,4}/gm,""):Xt.replace(new RegExp("^ {1,"+qi+"}","gm"),"")),ga=Rt||/\n\n(?!\s*$)/.test(Xt),mn!==El-1&&(Rt=Xt.charAt(Xt.length-1)===`
`,ga||(ga=Rt)),ga&&(Tt.loose=!0),this.options.gfm&&(Ff=/^\[[ xX]\] /.test(Xt),Bg=void 0,Ff&&(Bg=Xt[1]!==" ",Xt=Xt.replace(/^\[[ xX]\] +/,""))),Tt.items.push({type:"list_item",raw:Re,task:Ff,checked:Bg,loose:ga,text:Xt})}return Tt}},Ne.html=function(j){var Se=this.rules.block.html.exec(j);if(Se)return{type:this.options.sanitize?"paragraph":"html",raw:Se[0],pre:!this.options.sanitizer&&(Se[1]==="pre"||Se[1]==="script"||Se[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Se[0]):Bi(Se[0]):Se[0]}},Ne.def=function(j){var Se=this.rules.block.def.exec(j);if(Se){Se[3]&&(Se[3]=Se[3].substring(1,Se[3].length-1));var Re=Se[1].toLowerCase().replace(/\s+/g," ");return{tag:Re,raw:Se[0],href:Se[2],title:Se[3]}}},Ne.table=function(j){var Se=this.rules.block.table.exec(j);if(Se){var Re={type:"table",header:Gi(Se[1].replace(/^ *| *\| *$/g,"")),align:Se[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Se[3]?Se[3].replace(/\n$/,"").split(`
`):[]};if(Re.header.length===Re.align.length){Re.raw=Se[0];var Fe=Re.align.length,Le;for(Le=0;Le<Fe;Le++)/^ *-+: *$/.test(Re.align[Le])?Re.align[Le]="right":/^ *:-+: *$/.test(Re.align[Le])?Re.align[Le]="center":/^ *:-+ *$/.test(Re.align[Le])?Re.align[Le]="left":Re.align[Le]=null;for(Fe=Re.cells.length,Le=0;Le<Fe;Le++)Re.cells[Le]=Gi(Re.cells[Le].replace(/^ *\| *| *\| *$/g,""),Re.header.length);return Re}}},Ne.lheading=function(j){var Se=this.rules.block.lheading.exec(j);if(Se)return{type:"heading",raw:Se[0],depth:Se[2].charAt(0)==="="?1:2,text:Se[1]}},Ne.paragraph=function(j){var Se=this.rules.block.paragraph.exec(j);if(Se)return{type:"paragraph",raw:Se[0],text:Se[1].charAt(Se[1].length-1)===`
`?Se[1].slice(0,-1):Se[1]}},Ne.text=function(j){var Se=this.rules.block.text.exec(j);if(Se)return{type:"text",raw:Se[0],text:Se[0]}},Ne.escape=function(j){var Se=this.rules.inline.escape.exec(j);if(Se)return{type:"escape",raw:Se[0],text:Bi(Se[1])}},Ne.tag=function(j,Se,Re){var Fe=this.rules.inline.tag.exec(j);if(Fe)return!Se&&/^<a /i.test(Fe[0])?Se=!0:Se&&/^<\/a>/i.test(Fe[0])&&(Se=!1),!Re&&/^<(pre|code|kbd|script)(\s|>)/i.test(Fe[0])?Re=!0:Re&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Fe[0])&&(Re=!1),{type:this.options.sanitize?"text":"html",raw:Fe[0],inLink:Se,inRawBlock:Re,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Fe[0]):Bi(Fe[0]):Fe[0]}},Ne.link=function(j){var Se=this.rules.inline.link.exec(j);if(Se){var Re=Se[2].trim();if(!this.options.pedantic&&/^</.test(Re)){if(!/>$/.test(Re))return;var Fe=Ci(Re.slice(0,-1),"\\");if((Re.length-Fe.length)%2===0)return}else{var Le=nr(Se[2],"()");if(Le>-1){var Tt=Se[0].indexOf("!")===0?5:4,dt=Tt+Se[1].length+Le;Se[2]=Se[2].substring(0,Le),Se[0]=Se[0].substring(0,dt).trim(),Se[3]=""}}var Rt=Se[2],Xt="";if(this.options.pedantic){var qi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Rt);qi&&(Rt=qi[1],Xt=qi[3])}else Xt=Se[3]?Se[3].slice(1,-1):"";return Rt=Rt.trim(),/^</.test(Rt)&&(this.options.pedantic&&!/>$/.test(Re)?Rt=Rt.slice(1):Rt=Rt.slice(1,-1)),Js(Se,{href:Rt&&Rt.replace(this.rules.inline._escapes,"$1"),title:Xt&&Xt.replace(this.rules.inline._escapes,"$1")},Se[0])}},Ne.reflink=function(j,Se){var Re;if((Re=this.rules.inline.reflink.exec(j))||(Re=this.rules.inline.nolink.exec(j))){var Fe=(Re[2]||Re[1]).replace(/\s+/g," ");if(Fe=Se[Fe.toLowerCase()],!Fe||!Fe.href){var Le=Re[0].charAt(0);return{type:"text",raw:Le,text:Le}}return Js(Re,Fe,Re[0])}},Ne.emStrong=function(j,Se,Re){Re===void 0&&(Re="");var Fe=this.rules.inline.emStrong.lDelim.exec(j);if(Fe&&!(Fe[3]&&Re.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Le=Fe[1]||Fe[2]||"";if(!Le||Le&&(Re===""||this.rules.inline.punctuation.exec(Re))){var Tt=Fe[0].length-1,dt,Rt,Xt=Tt,qi=0,Ro=Fe[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ro.lastIndex=0,Se=Se.slice(-1*j.length+Tt);(Fe=Ro.exec(Se))!=null;)if(dt=Fe[1]||Fe[2]||Fe[3]||Fe[4]||Fe[5]||Fe[6],!!dt){if(Rt=dt.length,Fe[3]||Fe[4]){Xt+=Rt;continue}else if((Fe[5]||Fe[6])&&Tt%3&&!((Tt+Rt)%3)){qi+=Rt;continue}if(Xt-=Rt,!(Xt>0)){if(Xt+qi-Rt<=0&&!Se.slice(Ro.lastIndex).match(Ro)&&(Rt=Math.min(Rt,Rt+Xt+qi)),Math.min(Tt,Rt)%2)return{type:"em",raw:j.slice(0,Tt+Fe.index+Rt+1),text:j.slice(1,Tt+Fe.index+Rt)};if(Math.min(Tt,Rt)%2===0)return{type:"strong",raw:j.slice(0,Tt+Fe.index+Rt+1),text:j.slice(2,Tt+Fe.index+Rt-1)}}}}}},Ne.codespan=function(j){var Se=this.rules.inline.code.exec(j);if(Se){var Re=Se[2].replace(/\n/g," "),Fe=/[^ ]/.test(Re),Le=/^ /.test(Re)&&/ $/.test(Re);return Fe&&Le&&(Re=Re.substring(1,Re.length-1)),Re=Bi(Re,!0),{type:"codespan",raw:Se[0],text:Re}}},Ne.br=function(j){var Se=this.rules.inline.br.exec(j);if(Se)return{type:"br",raw:Se[0]}},Ne.del=function(j){var Se=this.rules.inline.del.exec(j);if(Se)return{type:"del",raw:Se[0],text:Se[2]}},Ne.autolink=function(j,Se){var Re=this.rules.inline.autolink.exec(j);if(Re){var Fe,Le;return Re[2]==="@"?(Fe=Bi(this.options.mangle?Se(Re[1]):Re[1]),Le="mailto:"+Fe):(Fe=Bi(Re[1]),Le=Fe),{type:"link",raw:Re[0],text:Fe,href:Le,tokens:[{type:"text",raw:Fe,text:Fe}]}}},Ne.url=function(j,Se){var Re;if(Re=this.rules.inline.url.exec(j)){var Fe,Le;if(Re[2]==="@")Fe=Bi(this.options.mangle?Se(Re[0]):Re[0]),Le="mailto:"+Fe;else{var Tt;do Tt=Re[0],Re[0]=this.rules.inline._backpedal.exec(Re[0])[0];while(Tt!==Re[0]);Fe=Bi(Re[0]),Re[1]==="www."?Le="http://"+Fe:Le=Fe}return{type:"link",raw:Re[0],text:Fe,href:Le,tokens:[{type:"text",raw:Fe,text:Fe}]}}},Ne.inlineText=function(j,Se,Re){var Fe=this.rules.inline.text.exec(j);if(Fe){var Le;return Se?Le=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Fe[0]):Bi(Fe[0]):Fe[0]:Le=Bi(this.options.smartypants?Re(Fe[0]):Fe[0]),{type:"text",raw:Fe[0],text:Le}}},Ge}(),or=ot.noopTest,sn=ot.edit,xl=ot.merge,Yt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:or,table:or,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};Yt._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,Yt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Yt.def=sn(Yt.def).replace("label",Yt._label).replace("title",Yt._title).getRegex(),Yt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Yt.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,Yt.item=sn(Yt.item,"gm").replace(/bull/g,Yt.bullet).getRegex(),Yt.listItemStart=sn(/^( *)(bull)/).replace("bull",Yt.bullet).getRegex(),Yt.list=sn(Yt.list).replace(/bull/g,Yt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Yt.def.source+")").getRegex(),Yt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Yt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Yt.html=sn(Yt.html,"i").replace("comment",Yt._comment).replace("tag",Yt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Yt.paragraph=sn(Yt._paragraph).replace("hr",Yt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Yt._tag).getRegex(),Yt.blockquote=sn(Yt.blockquote).replace("paragraph",Yt.paragraph).getRegex(),Yt.normal=xl({},Yt),Yt.gfm=xl({},Yt.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Yt.gfm.nptable=sn(Yt.gfm.nptable).replace("hr",Yt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Yt._tag).getRegex(),Yt.gfm.table=sn(Yt.gfm.table).replace("hr",Yt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Yt._tag).getRegex(),Yt.pedantic=xl({},Yt.normal,{html:sn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Yt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:or,paragraph:sn(Yt.normal._paragraph).replace("hr",Yt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Yt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Ot={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:or,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:or,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Ot._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ot.punctuation=sn(Ot.punctuation).replace(/punctuation/g,Ot._punctuation).getRegex(),Ot.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ot.escapedEmSt=/\\\*|\\_/g,Ot._comment=sn(Yt._comment).replace("(?:-->|$)","-->").getRegex(),Ot.emStrong.lDelim=sn(Ot.emStrong.lDelim).replace(/punct/g,Ot._punctuation).getRegex(),Ot.emStrong.rDelimAst=sn(Ot.emStrong.rDelimAst,"g").replace(/punct/g,Ot._punctuation).getRegex(),Ot.emStrong.rDelimUnd=sn(Ot.emStrong.rDelimUnd,"g").replace(/punct/g,Ot._punctuation).getRegex(),Ot._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ot._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ot._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ot.autolink=sn(Ot.autolink).replace("scheme",Ot._scheme).replace("email",Ot._email).getRegex(),Ot._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ot.tag=sn(Ot.tag).replace("comment",Ot._comment).replace("attribute",Ot._attribute).getRegex(),Ot._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ot._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ot._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ot.link=sn(Ot.link).replace("label",Ot._label).replace("href",Ot._href).replace("title",Ot._title).getRegex(),Ot.reflink=sn(Ot.reflink).replace("label",Ot._label).getRegex(),Ot.reflinkSearch=sn(Ot.reflinkSearch,"g").replace("reflink",Ot.reflink).replace("nolink",Ot.nolink).getRegex(),Ot.normal=xl({},Ot),Ot.pedantic=xl({},Ot.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:sn(/^!?\[(label)\]\((.*?)\)/).replace("label",Ot._label).getRegex(),reflink:sn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ot._label).getRegex()}),Ot.gfm=xl({},Ot.normal,{escape:sn(Ot.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),Ot.gfm.url=sn(Ot.gfm.url,"i").replace("email",Ot.gfm._extended_email).getRegex(),Ot.breaks=xl({},Ot.gfm,{br:sn(Ot.br).replace("{2,}","*").getRegex(),text:sn(Ot.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var sS={block:Yt,inline:Ot},kk=l.defaults,Tf=sS.block,_l=sS.inline,S0=ot.repeatString;function _s(Ge){return Ge.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function aS(Ge){var Ne="",Ve,j,Se=Ge.length;for(Ve=0;Ve<Se;Ve++)j=Ge.charCodeAt(Ve),Math.random()>.5&&(j="x"+j.toString(16)),Ne+="&#"+j+";";return Ne}var mu=function(){function Ge(Ve){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ve||kk,this.options.tokenizer=this.options.tokenizer||new Vo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var j={block:Tf.normal,inline:_l.normal};this.options.pedantic?(j.block=Tf.pedantic,j.inline=_l.pedantic):this.options.gfm&&(j.block=Tf.gfm,this.options.breaks?j.inline=_l.breaks:j.inline=_l.gfm),this.tokenizer.rules=j}Ge.lex=function(j,Se){var Re=new Ge(Se);return Re.lex(j)},Ge.lexInline=function(j,Se){var Re=new Ge(Se);return Re.inlineTokens(j)};var Ne=Ge.prototype;return Ne.lex=function(j){return j=j.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(j,this.tokens,!0),this.inline(this.tokens),this.tokens},Ne.blockTokens=function(j,Se,Re){Se===void 0&&(Se=[]),Re===void 0&&(Re=!0),this.options.pedantic&&(j=j.replace(/^ +$/gm,""));for(var Fe,Le,Tt,dt;j;){if(Fe=this.tokenizer.space(j)){j=j.substring(Fe.raw.length),Fe.type&&Se.push(Fe);continue}if(Fe=this.tokenizer.code(j)){j=j.substring(Fe.raw.length),dt=Se[Se.length-1],dt&&dt.type==="paragraph"?(dt.raw+=`
`+Fe.raw,dt.text+=`
`+Fe.text):Se.push(Fe);continue}if(Fe=this.tokenizer.fences(j)){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Fe=this.tokenizer.heading(j)){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Fe=this.tokenizer.nptable(j)){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Fe=this.tokenizer.hr(j)){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Fe=this.tokenizer.blockquote(j)){j=j.substring(Fe.raw.length),Fe.tokens=this.blockTokens(Fe.text,[],Re),Se.push(Fe);continue}if(Fe=this.tokenizer.list(j)){for(j=j.substring(Fe.raw.length),Tt=Fe.items.length,Le=0;Le<Tt;Le++)Fe.items[Le].tokens=this.blockTokens(Fe.items[Le].text,[],!1);Se.push(Fe);continue}if(Fe=this.tokenizer.html(j)){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Re&&(Fe=this.tokenizer.def(j))){j=j.substring(Fe.raw.length),this.tokens.links[Fe.tag]||(this.tokens.links[Fe.tag]={href:Fe.href,title:Fe.title});continue}if(Fe=this.tokenizer.table(j)){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Fe=this.tokenizer.lheading(j)){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Re&&(Fe=this.tokenizer.paragraph(j))){j=j.substring(Fe.raw.length),Se.push(Fe);continue}if(Fe=this.tokenizer.text(j)){j=j.substring(Fe.raw.length),dt=Se[Se.length-1],dt&&dt.type==="text"?(dt.raw+=`
`+Fe.raw,dt.text+=`
`+Fe.text):Se.push(Fe);continue}if(j){var Rt="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(Rt);break}else throw new Error(Rt)}}return Se},Ne.inline=function(j){var Se,Re,Fe,Le,Tt,dt,Rt=j.length;for(Se=0;Se<Rt;Se++)switch(dt=j[Se],dt.type){case"paragraph":case"text":case"heading":{dt.tokens=[],this.inlineTokens(dt.text,dt.tokens);break}case"table":{for(dt.tokens={header:[],cells:[]},Le=dt.header.length,Re=0;Re<Le;Re++)dt.tokens.header[Re]=[],this.inlineTokens(dt.header[Re],dt.tokens.header[Re]);for(Le=dt.cells.length,Re=0;Re<Le;Re++)for(Tt=dt.cells[Re],dt.tokens.cells[Re]=[],Fe=0;Fe<Tt.length;Fe++)dt.tokens.cells[Re][Fe]=[],this.inlineTokens(Tt[Fe],dt.tokens.cells[Re][Fe]);break}case"blockquote":{this.inline(dt.tokens);break}case"list":{for(Le=dt.items.length,Re=0;Re<Le;Re++)this.inline(dt.items[Re].tokens);break}}return j},Ne.inlineTokens=function(j,Se,Re,Fe){Se===void 0&&(Se=[]),Re===void 0&&(Re=!1),Fe===void 0&&(Fe=!1);var Le,Tt,dt=j,Rt,Xt,qi;if(this.tokens.links){var Ro=Object.keys(this.tokens.links);if(Ro.length>0)for(;(Rt=this.tokenizer.rules.inline.reflinkSearch.exec(dt))!=null;)Ro.includes(Rt[0].slice(Rt[0].lastIndexOf("[")+1,-1))&&(dt=dt.slice(0,Rt.index)+"["+S0("a",Rt[0].length-2)+"]"+dt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Rt=this.tokenizer.rules.inline.blockSkip.exec(dt))!=null;)dt=dt.slice(0,Rt.index)+"["+S0("a",Rt[0].length-2)+"]"+dt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Rt=this.tokenizer.rules.inline.escapedEmSt.exec(dt))!=null;)dt=dt.slice(0,Rt.index)+"++"+dt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;j;){if(Xt||(qi=""),Xt=!1,Le=this.tokenizer.escape(j)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.tag(j,Re,Fe)){j=j.substring(Le.raw.length),Re=Le.inLink,Fe=Le.inRawBlock;var _n=Se[Se.length-1];_n&&Le.type==="text"&&_n.type==="text"?(_n.raw+=Le.raw,_n.text+=Le.text):Se.push(Le);continue}if(Le=this.tokenizer.link(j)){j=j.substring(Le.raw.length),Le.type==="link"&&(Le.tokens=this.inlineTokens(Le.text,[],!0,Fe)),Se.push(Le);continue}if(Le=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(Le.raw.length);var Mi=Se[Se.length-1];Le.type==="link"?(Le.tokens=this.inlineTokens(Le.text,[],!0,Fe),Se.push(Le)):Mi&&Le.type==="text"&&Mi.type==="text"?(Mi.raw+=Le.raw,Mi.text+=Le.text):Se.push(Le);continue}if(Le=this.tokenizer.emStrong(j,dt,qi)){j=j.substring(Le.raw.length),Le.tokens=this.inlineTokens(Le.text,[],Re,Fe),Se.push(Le);continue}if(Le=this.tokenizer.codespan(j)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.br(j)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.del(j)){j=j.substring(Le.raw.length),Le.tokens=this.inlineTokens(Le.text,[],Re,Fe),Se.push(Le);continue}if(Le=this.tokenizer.autolink(j,aS)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(!Re&&(Le=this.tokenizer.url(j,aS))){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.inlineText(j,Fe,_s)){j=j.substring(Le.raw.length),Le.raw.slice(-1)!=="_"&&(qi=Le.raw.slice(-1)),Xt=!0,Tt=Se[Se.length-1],Tt&&Tt.type==="text"?(Tt.raw+=Le.raw,Tt.text+=Le.text):Se.push(Le);continue}if(j){var ga="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(ga);break}else throw new Error(ga)}}return Se},i(Ge,null,[{key:"rules",get:function(){return{block:Tf,inline:_l}}}]),Ge}(),pi=l.defaults,x0=ot.cleanUrl,Xn=ot.escape,gn=function(){function Ge(Ve){this.options=Ve||pi}var Ne=Ge.prototype;return Ne.code=function(j,Se,Re){var Fe=(Se||"").match(/\S*/)[0];if(this.options.highlight){var Le=this.options.highlight(j,Fe);Le!=null&&Le!==j&&(Re=!0,j=Le)}return j=j.replace(/\n$/,"")+`
`,Fe?'<pre><code class="'+this.options.langPrefix+Xn(Fe,!0)+'">'+(Re?j:Xn(j,!0))+`</code></pre>
`:"<pre><code>"+(Re?j:Xn(j,!0))+`</code></pre>
`},Ne.blockquote=function(j){return`<blockquote>
`+j+`</blockquote>
`},Ne.html=function(j){return j},Ne.heading=function(j,Se,Re,Fe){return this.options.headerIds?"<h"+Se+' id="'+this.options.headerPrefix+Fe.slug(Re)+'">'+j+"</h"+Se+`>
`:"<h"+Se+">"+j+"</h"+Se+`>
`},Ne.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ne.list=function(j,Se,Re){var Fe=Se?"ol":"ul",Le=Se&&Re!==1?' start="'+Re+'"':"";return"<"+Fe+Le+`>
`+j+"</"+Fe+`>
`},Ne.listitem=function(j){return"<li>"+j+`</li>
`},Ne.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ne.paragraph=function(j){return"<p>"+j+`</p>
`},Ne.table=function(j,Se){return Se&&(Se="<tbody>"+Se+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+Se+`</table>
`},Ne.tablerow=function(j){return`<tr>
`+j+`</tr>
`},Ne.tablecell=function(j,Se){var Re=Se.header?"th":"td",Fe=Se.align?"<"+Re+' align="'+Se.align+'">':"<"+Re+">";return Fe+j+"</"+Re+`>
`},Ne.strong=function(j){return"<strong>"+j+"</strong>"},Ne.em=function(j){return"<em>"+j+"</em>"},Ne.codespan=function(j){return"<code>"+j+"</code>"},Ne.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ne.del=function(j){return"<del>"+j+"</del>"},Ne.link=function(j,Se,Re){if(j=x0(this.options.sanitize,this.options.baseUrl,j),j===null)return Re;var Fe='<a href="'+Xn(j)+'"';return Se&&(Fe+=' title="'+Se+'"'),Fe+=">"+Re+"</a>",Fe},Ne.image=function(j,Se,Re){if(j=x0(this.options.sanitize,this.options.baseUrl,j),j===null)return Re;var Fe='<img src="'+j+'" alt="'+Re+'"';return Se&&(Fe+=' title="'+Se+'"'),Fe+=this.options.xhtml?"/>":">",Fe},Ne.text=function(j){return j},Ge}(),zg=function(){function Ge(){}var Ne=Ge.prototype;return Ne.strong=function(j){return j},Ne.em=function(j){return j},Ne.codespan=function(j){return j},Ne.del=function(j){return j},Ne.html=function(j){return j},Ne.text=function(j){return j},Ne.link=function(j,Se,Re){return""+Re},Ne.image=function(j,Se,Re){return""+Re},Ne.br=function(){return""},Ge}(),Dl=function(){function Ge(){this.seen={}}var Ne=Ge.prototype;return Ne.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ne.getNextSafeSlug=function(j,Se){var Re=j,Fe=0;if(this.seen.hasOwnProperty(Re)){Fe=this.seen[j];do Fe++,Re=j+"-"+Fe;while(this.seen.hasOwnProperty(Re))}return Se||(this.seen[j]=Fe,this.seen[Re]=0),Re},Ne.slug=function(j,Se){Se===void 0&&(Se={});var Re=this.serialize(j);return this.getNextSafeSlug(Re,Se.dryrun)},Ge}(),_0=l.defaults,D0=ot.unescape,mt=function(){function Ge(Ve){this.options=Ve||_0,this.options.renderer=this.options.renderer||new gn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zg,this.slugger=new Dl}Ge.parse=function(j,Se){var Re=new Ge(Se);return Re.parse(j)},Ge.parseInline=function(j,Se){var Re=new Ge(Se);return Re.parseInline(j)};var Ne=Ge.prototype;return Ne.parse=function(j,Se){Se===void 0&&(Se=!0);var Re="",Fe,Le,Tt,dt,Rt,Xt,qi,Ro,_n,Mi,ga,Ff,Bg,El,mn,Rk,k4,E0,I4=j.length;for(Fe=0;Fe<I4;Fe++)switch(Mi=j[Fe],Mi.type){case"space":continue;case"hr":{Re+=this.renderer.hr();continue}case"heading":{Re+=this.renderer.heading(this.parseInline(Mi.tokens),Mi.depth,D0(this.parseInline(Mi.tokens,this.textRenderer)),this.slugger);continue}case"code":{Re+=this.renderer.code(Mi.text,Mi.lang,Mi.escaped);continue}case"table":{for(Ro="",qi="",dt=Mi.header.length,Le=0;Le<dt;Le++)qi+=this.renderer.tablecell(this.parseInline(Mi.tokens.header[Le]),{header:!0,align:Mi.align[Le]});for(Ro+=this.renderer.tablerow(qi),_n="",dt=Mi.cells.length,Le=0;Le<dt;Le++){for(Xt=Mi.tokens.cells[Le],qi="",Rt=Xt.length,Tt=0;Tt<Rt;Tt++)qi+=this.renderer.tablecell(this.parseInline(Xt[Tt]),{header:!1,align:Mi.align[Tt]});_n+=this.renderer.tablerow(qi)}Re+=this.renderer.table(Ro,_n);continue}case"blockquote":{_n=this.parse(Mi.tokens),Re+=this.renderer.blockquote(_n);continue}case"list":{for(ga=Mi.ordered,Ff=Mi.start,Bg=Mi.loose,dt=Mi.items.length,_n="",Le=0;Le<dt;Le++)mn=Mi.items[Le],Rk=mn.checked,k4=mn.task,El="",mn.task&&(E0=this.renderer.checkbox(Rk),Bg?mn.tokens.length>0&&mn.tokens[0].type==="text"?(mn.tokens[0].text=E0+" "+mn.tokens[0].text,mn.tokens[0].tokens&&mn.tokens[0].tokens.length>0&&mn.tokens[0].tokens[0].type==="text"&&(mn.tokens[0].tokens[0].text=E0+" "+mn.tokens[0].tokens[0].text)):mn.tokens.unshift({type:"text",text:E0}):El+=E0),El+=this.parse(mn.tokens,Bg),_n+=this.renderer.listitem(El,k4,Rk);Re+=this.renderer.list(_n,ga,Ff);continue}case"html":{Re+=this.renderer.html(Mi.text);continue}case"paragraph":{Re+=this.renderer.paragraph(this.parseInline(Mi.tokens));continue}case"text":{for(_n=Mi.tokens?this.parseInline(Mi.tokens):Mi.text;Fe+1<I4&&j[Fe+1].type==="text";)Mi=j[++Fe],_n+=`
`+(Mi.tokens?this.parseInline(Mi.tokens):Mi.text);Re+=Se?this.renderer.paragraph(_n):_n;continue}default:{var R4='Token with "'+Mi.type+'" type was not found.';if(this.options.silent){console.error(R4);return}else throw new Error(R4)}}return Re},Ne.parseInline=function(j,Se){Se=Se||this.renderer;var Re="",Fe,Le,Tt=j.length;for(Fe=0;Fe<Tt;Fe++)switch(Le=j[Fe],Le.type){case"escape":{Re+=Se.text(Le.text);break}case"html":{Re+=Se.html(Le.text);break}case"link":{Re+=Se.link(Le.href,Le.title,this.parseInline(Le.tokens,Se));break}case"image":{Re+=Se.image(Le.href,Le.title,Le.text);break}case"strong":{Re+=Se.strong(this.parseInline(Le.tokens,Se));break}case"em":{Re+=Se.em(this.parseInline(Le.tokens,Se));break}case"codespan":{Re+=Se.codespan(Le.text);break}case"br":{Re+=Se.br();break}case"del":{Re+=Se.del(this.parseInline(Le.tokens,Se));break}case"text":{Re+=Se.text(Le.text);break}default:{var dt='Token with "'+Le.type+'" type was not found.';if(this.options.silent){console.error(dt);return}else throw new Error(dt)}}return Re},Ge}(),zt=ot.merge,wi=ot.checkSanitizeDeprecation,Qi=ot.escape,Io=l.getDefaults,ca=l.changeDefaults,Ik=l.defaults;function Ni(Ge,Ne,Ve){if(typeof Ge>"u"||Ge===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ge!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ge)+", string expected");if(typeof Ne=="function"&&(Ve=Ne,Ne=null),Ne=zt({},Ni.defaults,Ne||{}),wi(Ne),Ve){var j=Ne.highlight,Se;try{Se=mu.lex(Ge,Ne)}catch(Tt){return Ve(Tt)}var Re=function(dt){var Rt;if(!dt)try{Rt=mt.parse(Se,Ne)}catch(Xt){dt=Xt}return Ne.highlight=j,dt?Ve(dt):Ve(null,Rt)};if(!j||j.length<3||(delete Ne.highlight,!Se.length))return Re();var Fe=0;Ni.walkTokens(Se,function(Tt){Tt.type==="code"&&(Fe++,setTimeout(function(){j(Tt.text,Tt.lang,function(dt,Rt){if(dt)return Re(dt);Rt!=null&&Rt!==Tt.text&&(Tt.text=Rt,Tt.escaped=!0),Fe--,Fe===0&&Re()})},0))}),Fe===0&&Re();return}try{var Le=mu.lex(Ge,Ne);return Ne.walkTokens&&Ni.walkTokens(Le,Ne.walkTokens),mt.parse(Le,Ne)}catch(Tt){if(Tt.message+=`
Please report this to https://github.com/markedjs/marked.`,Ne.silent)return"<p>An error occurred:</p><pre>"+Qi(Tt.message+"",!0)+"</pre>";throw Tt}}Ni.options=Ni.setOptions=function(Ge){return zt(Ni.defaults,Ge),ca(Ni.defaults),Ni},Ni.getDefaults=Io,Ni.defaults=Ik,Ni.use=function(Ge){var Ne=zt({},Ge);if(Ge.renderer&&function(){var j=Ni.defaults.renderer||new gn,Se=function(Le){var Tt=j[Le];j[Le]=function(){for(var dt=arguments.length,Rt=new Array(dt),Xt=0;Xt<dt;Xt++)Rt[Xt]=arguments[Xt];var qi=Ge.renderer[Le].apply(j,Rt);return qi===!1&&(qi=Tt.apply(j,Rt)),qi}};for(var Re in Ge.renderer)Se(Re);Ne.renderer=j}(),Ge.tokenizer&&function(){var j=Ni.defaults.tokenizer||new Vo,Se=function(Le){var Tt=j[Le];j[Le]=function(){for(var dt=arguments.length,Rt=new Array(dt),Xt=0;Xt<dt;Xt++)Rt[Xt]=arguments[Xt];var qi=Ge.tokenizer[Le].apply(j,Rt);return qi===!1&&(qi=Tt.apply(j,Rt)),qi}};for(var Re in Ge.tokenizer)Se(Re);Ne.tokenizer=j}(),Ge.walkTokens){var Ve=Ni.defaults.walkTokens;Ne.walkTokens=function(j){Ge.walkTokens(j),Ve&&Ve(j)}}Ni.setOptions(Ne)},Ni.walkTokens=function(Ge,Ne){for(var Ve=r(Ge),j;!(j=Ve()).done;){var Se=j.value;switch(Ne(Se),Se.type){case"table":{for(var Re=r(Se.tokens.header),Fe;!(Fe=Re()).done;){var Le=Fe.value;Ni.walkTokens(Le,Ne)}for(var Tt=r(Se.tokens.cells),dt;!(dt=Tt()).done;)for(var Rt=dt.value,Xt=r(Rt),qi;!(qi=Xt()).done;){var Ro=qi.value;Ni.walkTokens(Ro,Ne)}break}case"list":{Ni.walkTokens(Se.items,Ne);break}default:Se.tokens&&Ni.walkTokens(Se.tokens,Ne)}}},Ni.parseInline=function(Ge,Ne){if(typeof Ge>"u"||Ge===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ge!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ge)+", string expected");Ne=zt({},Ni.defaults,Ne||{}),wi(Ne);try{var Ve=mu.lexInline(Ge,Ne);return Ne.walkTokens&&Ni.walkTokens(Ve,Ne.walkTokens),mt.parseInline(Ve,Ne)}catch(j){if(j.message+=`
Please report this to https://github.com/markedjs/marked.`,Ne.silent)return"<p>An error occurred:</p><pre>"+Qi(j.message+"",!0)+"</pre>";throw j}},Ni.Parser=mt,Ni.parser=mt.parse,Ni.Renderer=gn,Ni.TextRenderer=zg,Ni.Lexer=mu,Ni.lexer=mu.lex,Ni.Tokenizer=Vo,Ni.Slugger=Dl,Ni.parse=Ni;var mQ=Ni;return mQ})});var mW=bh(jp=>{"use strict";Rn();$n();kl();bt();$t();Ho();n2();Bt();Yi();Vi();i2();BQ();zQ();Pt();Do();Ti();wn();ki();Qg();var pW=jp&&jp.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},fW=jp&&jp.__param||function(e,i){return function(n,o){i(n,o,e)}},oP=jp&&jp.__awaiter||function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},$w=class{constructor(i,n){this._workerService=n,this._callOnDispose=new Xe,this._callOnModel=new Xe,this._editor=i,this._callOnDispose.add(i.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(i.onDidChangeModel(()=>this._update())),this._callOnDispose.add(i.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(e2.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(45)||!this._editor.hasModel())return;let i=this._editor.getModel(),[n]=e2.ordered(i);if(!n||!n.autoFormatTriggerCharacters)return;let o=new xu;for(let r of n.autoFormatTriggerCharacters)o.add(r.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(r=>{let s=r.charCodeAt(r.length-1);o.has(s)&&this._trigger(String.fromCharCode(s))}))}_trigger(i){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;let n=this._editor.getModel(),o=this._editor.getPosition(),r=!1,s=this._editor.onDidChangeModelContent(l=>{if(l.isFlush){r=!0,s.dispose();return}for(let c=0,d=l.changes.length;c<d;c++)if(l.changes[c].range.endLineNumber<=o.lineNumber){r=!0,s.dispose();return}});Sz(this._workerService,n,o,i,n.getFormattingOptions()).then(l=>{s.dispose(),!r&&ho(l)&&(wz.execute(this._editor,l,!0),bz(l))},l=>{throw s.dispose(),l})}};$w.ID="editor.contrib.autoFormat";$w=pW([fW(1,$f)],$w);var qw=class{constructor(i,n){this.editor=i,this._instantiationService=n,this._callOnDispose=new Xe,this._callOnModel=new Xe,this._callOnDispose.add(i.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(i.onDidChangeModel(()=>this._update())),this._callOnDispose.add(i.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Jk.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(44)&&this.editor.hasModel()&&Jk.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:i})=>this._trigger(i)))}_trigger(i){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(_2,this.editor,i,2,Ll.None,Jt.None).catch(Ut))}};qw.ID="editor.contrib.formatOnPaste";qw=pW([fW(1,hi)],qw);var iP=class extends it{constructor(){super({id:"editor.action.formatDocument",label:_("formatDocument.label","Format Document"),alias:"Format Document",precondition:st.and(Me.notInCompositeEditor,Me.writable,Me.hasDocumentFormattingProvider),kbOpts:{kbExpr:Me.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(i,n){return oP(this,void 0,void 0,function*(){if(n.hasModel()){let o=i.get(hi);yield i.get(Ru).showWhile(o.invokeFunction(yz,n,1,Ll.None,Jt.None),250)}})}},nP=class extends it{constructor(){super({id:"editor.action.formatSelection",label:_("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:st.and(Me.writable,Me.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2084),weight:100},contextMenuOpts:{when:Me.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(i,n){return oP(this,void 0,void 0,function*(){if(!n.hasModel())return;let o=i.get(hi),r=n.getModel(),s=n.getSelections().map(c=>c.isEmpty()?new Ie(c.startLineNumber,1,c.startLineNumber,r.getLineMaxColumn(c.startLineNumber)):c);yield i.get(Ru).showWhile(o.invokeFunction(_2,n,s,1,Ll.None,Jt.None),250)})}};Dt($w.ID,$w);Dt(qw.ID,qw);Ue(iP);Ue(nP);xi.registerCommand("editor.action.format",e=>oP(void 0,void 0,void 0,function*(){let i=e.get(Ii).getFocusedCodeEditor();if(!i||!i.hasModel())return;let n=e.get(Wo);i.getSelection().isEmpty()?yield n.executeCommand("editor.action.formatDocument"):yield n.executeCommand("editor.action.formatSelection")}))});var lE,DW=lS(()=>{"use strict";lo();lE=class{constructor(i,n,o){this._editRange=i,this._originalSelection=n,this._text=o}getEditOperations(i,n){n.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(i,n){let r=n.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Ct(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):new Ct(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)}}});var EW=bh(Yw=>{"use strict";Pt();Bt();lo();Yi();$t();i2();DW();Kg();Oi();l1();Lo();ln();ki();var Ule=Yw&&Yw.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},$le=Yw&&Yw.__param||function(e,i){return function(n,o){i(n,o,e)}},pg=class hP{constructor(i,n){this.decorationIds=[],this.editor=i,this.editorWorkerService=n}static get(i){return i.getContribution(hP.ID)}dispose(){}run(i,n){this.currentRequest&&this.currentRequest.cancel();let o=this.editor.getSelection(),r=this.editor.getModel();if(!r||!o)return;let s=o;if(s.startLineNumber!==s.endLineNumber)return;let l=new g1(this.editor,5),c=r.uri;return this.editorWorkerService.canNavigateValueSet(c)?(this.currentRequest=ji(d=>this.editorWorkerService.navigateValueSet(c,s,n)),this.currentRequest.then(d=>{if(!d||!d.range||!d.value||!l.validate(this.editor))return;let u=Ie.lift(d.range),h=d.range,g=d.value.length-(s.endColumn-s.startColumn);h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+d.value.length},g>1&&(s=new Ct(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+g-1));let p=new lE(u,s,d.value);this.editor.pushUndoStop(),this.editor.executeCommand(i,p),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:h,options:hP.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Lf(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Ut)}).catch(Ut)):Promise.resolve(void 0)}};pg.ID="editor.contrib.inPlaceReplaceController";pg.DECORATION=ni.register({className:"valueSetReplacement"});pg=Ule([$le(1,$f)],pg);var gP=class extends it{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:3154,weight:100}})}run(i,n){let o=pg.get(n);return o?o.run(this.id,!0):Promise.resolve(void 0)}},pP=class extends it{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:3156,weight:100}})}run(i,n){let o=pg.get(n);return o?o.run(this.id,!1):Promise.resolve(void 0)}};Dt(pg.ID,pg);Ue(gP);Ue(pP);ii((e,i)=>{let n=e.getColor(a1);n&&i.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${n}; }`)})});var JE,LL=lS(()=>{"use strict";Pt();el();$t();kQ();JE=(()=>{class e extends it{constructor(){super({id:e.ID,label:_({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(n,o){let s=!a2.getTabFocusMode();a2.setTabFocusMode(s),s?Yn(_("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Yn(_("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return e.ID="editor.action.toggleTabFocusMode",e})();Ue(JE)});var oU=bh(Xp=>{"use strict";Pt();bt();$t();Ho();OQ();var yde=Xp&&Xp.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},iU=Xp&&Xp.__param||function(e,i){return function(n,o){i(n,o,e)}},Sde=Xp&&Xp.__awaiter||function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},nU="ignoreUnusualLineTerminators";function xde(e,i,n){e.setModelProperty(i.uri,nU,n)}function _de(e,i){return e.getModelProperty(i.uri,nU)}var ly=class extends yt{constructor(i,n,o){super(),this._editor=i,this._dialogService=n,this._codeEditorService=o,this._config=this._editor.getOption(110),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(110)&&(this._config=this._editor.getOption(110),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Sde(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;let i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||_de(this._codeEditorService,i)===!0||this._editor.getOption(77))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:_("unusualLineTerminators.title","Unusual Line Terminators"),message:_("unusualLineTerminators.message","Detected unusual line terminators"),detail:_("unusualLineTerminators.detail","This file contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`."),primaryButton:_("unusualLineTerminators.fix","Fix this file"),secondaryButton:_("unusualLineTerminators.ignore","Ignore problem for this file")})).confirmed){xde(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())})}};ly.ID="editor.contrib.unusualLineTerminatorsDetector";ly=yde([iU(1,cz),iU(2,Ii)],ly);Dt(ly.ID,ly)});var rU=bh(dy=>{"use strict";ln();bt();$t();Vi();Dh();PQ();Oi();Kf();NQ();LQ();var Dde=dy&&dy.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},NL=dy&&dy.__param||function(e,i){return function(n,o){i(n,o,e)}},cy=class extends yt{constructor(i,n,o,r){super(),this._modelService=n,this._themeService=o,this._configurationService=r,this._editor=i,this._tokenizeViewport=new qn(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(s=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(R8.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration(Q5)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(let i of this._outstandingRequests)i.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(i){for(let n=0,o=this._outstandingRequests.length;n<o;n++)if(this._outstandingRequests[n]===i){this._outstandingRequests.splice(n,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let i=this._editor.getModel();if(i.hasCompleteSemanticTokens())return;if(!Z5(i,this._themeService,this._configurationService)){i.hasSomeSemanticTokens()&&i.setSemanticTokens(null,!1);return}let n=Y5(i);if(!n){i.hasSomeSemanticTokens()&&i.setSemanticTokens(null,!1);return}let o=this._modelService.getSemanticTokensProviderStyling(n),r=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(r.map(s=>this._requestRange(i,s,n,o)))}_requestRange(i,n,o,r){let s=i.getVersionId(),l=ji(c=>Promise.resolve(o.provideDocumentRangeSemanticTokens(i,n,c)));return l.then(c=>{!c||i.isDisposed()||i.getVersionId()!==s||i.setPartialSemanticTokens(n,K5(c,r,i.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(l),()=>this._removeOutstandingRequest(l)),l}};cy.ID="editor.contrib.viewportSemanticTokens";cy=Dde([NL(1,Po),NL(2,eo),NL(3,Is)],cy);Dt(cy.ID,cy)});var lU=lS(()=>{});var hU=bh(gy=>{"use strict";lU();Ki();IQ();vz();el();ku();bt();wa();On();To();$t();Yi();LL();Ti();wn();us();bu();vn();Oi();Th();var cU=gy&&gy.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},rM=gy&&gy.__param||function(e,i){return function(n,o){i(n,o,e)}},dU=new ei("accessibilityHelpWidgetVisible",!1),nf=class uU extends yt{constructor(i,n){super(),this._editor=i,this._widget=this._register(n.createInstance(Hv,this._editor))}static get(i){return i.getContribution(uU.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};nf.ID="editor.contrib.accessibilityHelpController";nf=cU([rM(1,hi)],nf);function Lde(e,i){return!e||e.length===0?zn.noSelection:e.length===1?i?ds(zn.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,i):ds(zn.singleSelection,e[0].positionLineNumber,e[0].positionColumn):i?ds(zn.multiSelectionRange,e.length,i):e.length>0?ds(zn.multiSelection,e.length):""}var Hv=class sM extends Eo{constructor(i,n,o,r){super(),this._contextKeyService=n,this._keybindingService=o,this._openerService=r,this._editor=i,this._isVisibleKey=dU.bindTo(this._contextKeyService),this._domNode=g2(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=g2(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(ls(this._contentDomNode.domNode,"keydown",s=>{if(this._isVisible&&(s.equals(2083)&&(Yn(zn.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),Ds(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),s.preventDefault(),s.stopPropagation()),s.equals(2086))){Yn(zn.openingDocs);let l=this._editor.getRawOptions().accessibilityHelpUrl;typeof l>"u"&&(l="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(ci.parse(l)),s.preventDefault(),s.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return sM.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(i,n,o){let r=this._keybindingService.lookupKeybinding(i);return r?ds(n,r.getAriaLabel()):ds(o,i)}_buildContent(){let i=this._editor.getOptions(),n=this._editor.getSelections(),o=0;if(n){let c=this._editor.getModel();c&&n.forEach(d=>{o+=c.getValueLengthInRange(d)})}let r=Lde(n,o);i.get(51)?i.get(77)?r+=zn.readonlyDiffEditor:r+=zn.editableDiffEditor:i.get(77)?r+=zn.readonlyEditor:r+=zn.editableEditor;let s=rr?zn.changeConfigToOnMac:zn.changeConfigToOnWinLinux;switch(i.get(2)){case 0:r+=`

 - `+s;break;case 2:r+=`

 - `+zn.auto_on;break;case 1:r+=`

 - `+zn.auto_off,r+=" "+s;break}i.get(126)?r+=`

 - `+this._descriptionForCommand(JE.ID,zn.tabFocusModeOnMsg,zn.tabFocusModeOnMsgNoKb):r+=`

 - `+this._descriptionForCommand(JE.ID,zn.tabFocusModeOffMsg,zn.tabFocusModeOffMsgNoKb);let l=rr?zn.openDocMac:zn.openDocWinLinux;r+=`

 - `+l,r+=`

`+zn.outroMsg,this._contentDomNode.domNode.appendChild(fz(r)),this._contentDomNode.domNode.setAttribute("aria-label",r)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,Ds(this._contentDomNode.domNode),this._editor.focus())}_layout(){let i=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(sM.WIDTH,i.width-40)),o=Math.max(5,Math.min(sM.HEIGHT,i.height-40));this._domNode.setWidth(n),this._domNode.setHeight(o);let r=Math.round((i.height-o)/2);this._domNode.setTop(r);let s=Math.round((i.width-n)/2);this._domNode.setLeft(s)}};Hv.ID="editor.contrib.accessibilityHelpWidget";Hv.WIDTH=500;Hv.HEIGHT=300;Hv=cU([rM(1,Wt),rM(2,En),rM(3,sr)],Hv);var vN=class extends it{constructor(){super({id:"editor.action.showAccessibilityHelp",label:zn.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(i,n){let o=nf.get(n);o&&o.show()}};Dt(nf.ID,nf);Ue(vN);var Nde=Tn.bindToContribution(nf.get);pt(new Nde({id:"closeAccessibilityHelp",precondition:dU,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:Me.focus,primary:9,secondary:[1033]}}));ii((e,i)=>{let n=e.getColor(Rs);n&&i.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${n}; }`);let o=e.getColor(Xf);o&&i.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${o}; }`);let r=e.getColor(Nh);r&&i.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${r}; }`);let s=e.getColor(Lh);s&&i.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)})});var pU=lS(()=>{});var vU=bh(py=>{"use strict";pU();Ki();Tl();bt();$t();Vi();_Q();kh();U5();vn();Oi();Th();d2();var zde=py&&py.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},fU=py&&py.__param||function(e,i){return function(n,o){i(n,o,e)}},Gv=class mU extends yt{constructor(i,n,o){super(),this._editor=i,this._modeService=o,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(Mh.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}static get(i){return i.getContribution(mU.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Hde(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Gv.ID="editor.contrib.inspectTokens";Gv=zde([fU(1,f1),fU(2,ar)],Gv);var CN=class extends it{constructor(){super({id:"editor.action.inspectTokens",label:H8.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(i,n){let o=Gv.get(n);o&&o.launch()}};function Bde(e){let i="";for(let n=0,o=e.length;n<o;n++){let r=e.charCodeAt(n);switch(r){case 9:i+="\u2192";break;case 32:i+="\xB7";break;default:i+=String.fromCharCode(r)}}return i}function Vde(e){let i=Mh.get(e.language);return i||{getInitialState:()=>A8,tokenize:(n,o,r,s)=>T8(e.language,n,r,s),tokenize2:(n,o,r,s)=>F8(e.id,n,r,s)}}var Hde=(()=>{class e extends yt{constructor(n,o){super(),this.allowEditorOverflow=!0,this._editor=n,this._modeService=o,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=Vde(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(r=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return e._ID}_compute(n){let o=this._getTokensAtLine(n.lineNumber),r=0;for(let u=o.tokens1.length-1;u>=0;u--){let h=o.tokens1[u];if(n.column-1>=h.offset){r=u;break}}let s=0;for(let u=o.tokens2.length>>>1;u>=0;u--)if(n.column-1>=o.tokens2[u<<1]){s=u;break}let l=this._model.getLineContent(n.lineNumber),c="";if(r<o.tokens1.length){let u=o.tokens1[r].offset,h=r+1<o.tokens1.length?o.tokens1[r+1].offset:l.length;c=l.substring(u,h)}Gg(this._domNode,ut("h2.tm-token",void 0,Bde(c),ut("span.tm-token-length",void 0,`${c.length} ${c.length===1?"char":"chars"}`))),ct(this._domNode,ut("hr.tokens-inspect-separator",{style:"clear:both"}));let d=(s<<1)+1<o.tokens2.length?this._decodeMetadata(o.tokens2[(s<<1)+1]):null;ct(this._domNode,ut("table.tm-metadata-table",void 0,ut("tbody",void 0,ut("tr",void 0,ut("td.tm-metadata-key",void 0,"language"),ut("td.tm-metadata-value",void 0,`${d?d.languageIdentifier.language:"-?-"}`)),ut("tr",void 0,ut("td.tm-metadata-key",void 0,"token type"),ut("td.tm-metadata-value",void 0,`${d?this._tokenTypeToString(d.tokenType):"-?-"}`)),ut("tr",void 0,ut("td.tm-metadata-key",void 0,"font style"),ut("td.tm-metadata-value",void 0,`${d?this._fontStyleToString(d.fontStyle):"-?-"}`)),ut("tr",void 0,ut("td.tm-metadata-key",void 0,"foreground"),ut("td.tm-metadata-value",void 0,`${d?fi.Format.CSS.formatHex(d.foreground):"-?-"}`)),ut("tr",void 0,ut("td.tm-metadata-key",void 0,"background"),ut("td.tm-metadata-value",void 0,`${d?fi.Format.CSS.formatHex(d.background):"-?-"}`))))),ct(this._domNode,ut("hr.tokens-inspect-separator")),r<o.tokens1.length&&ct(this._domNode,ut("span.tm-token-type",void 0,o.tokens1[r].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(n){let o=Mh.getColorMap(),r=jf.getLanguageId(n),s=jf.getTokenType(n),l=jf.getFontStyle(n),c=jf.getForeground(n),d=jf.getBackground(n);return{languageIdentifier:this._modeService.getLanguageIdentifier(r),tokenType:s,fontStyle:l,foreground:o[c],background:o[d]}}_tokenTypeToString(n){switch(n){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(n){let o="";return n&1&&(o+="italic "),n&2&&(o+="bold "),n&4&&(o+="underline "),o.length===0&&(o="---"),o}_getTokensAtLine(n){let o=this._getStateBeforeLine(n),r=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,o,0),s=this._tokenizationSupport.tokenize2(this._model.getLineContent(n),!0,o,0);return{startState:o,tokens1:r.tokens,tokens2:s.tokens,endState:r.endState}}_getStateBeforeLine(n){let o=this._tokenizationSupport.getInitialState();for(let r=1;r<n;r++)o=this._tokenizationSupport.tokenize(this._model.getLineContent(r),!0,o,0).endState;return o}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return e._ID="editor.contrib.inspectTokensWidget",e})();Dt(Gv.ID,Gv);Ue(CN);ii((e,i)=>{let n=e.getColor(tm);if(n){let s=e.type===Yf.HIGH_CONTRAST?2:1;i.addRule(`.monaco-editor .tokens-inspect-widget { border: ${s}px solid ${n}; }`),i.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${n}; }`)}let o=e.getColor(Eu);o&&i.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${o}; }`);let r=e.getColor(em);r&&i.addRule(`.monaco-editor .tokens-inspect-widget { color: ${r}; }`)})});var X$=bh((Wct,Z$)=>{"use strict";function B$(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(i=>{let n=e[i],o=typeof n;(o==="object"||o==="function")&&!Object.isFrozen(n)&&B$(n)}),e}var TM=class{constructor(i){i.data===void 0&&(i.data={}),this.data=i.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function V$(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Dg(e,...i){let n=Object.create(null);for(let o in e)n[o]=e[o];return i.forEach(function(o){for(let r in o)n[r]=o[r]}),n}var Jhe="</span>",F$=e=>!!e.scope,ege=(e,{prefix:i})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let n=e.split(".");return[`${i}${n.shift()}`,...n.map((o,r)=>`${o}${"_".repeat(r+1)}`)].join(" ")}return`${i}${e}`},PO=class{constructor(i,n){this.buffer="",this.classPrefix=n.classPrefix,i.walk(this)}addText(i){this.buffer+=V$(i)}openNode(i){if(!F$(i))return;let n=ege(i.scope,{prefix:this.classPrefix});this.span(n)}closeNode(i){F$(i)&&(this.buffer+=Jhe)}value(){return this.buffer}span(i){this.buffer+=`<span class="${i}">`}},P$=(e={})=>{let i={children:[]};return Object.assign(i,e),i},LO=class e{constructor(){this.rootNode=P$(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(i){this.top.children.push(i)}openNode(i){let n=P$({scope:i});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(i){return this.constructor._walk(i,this.rootNode)}static _walk(i,n){return typeof n=="string"?i.addText(n):n.children&&(i.openNode(n),n.children.forEach(o=>this._walk(i,o)),i.closeNode(n)),i}static _collapse(i){typeof i!="string"&&i.children&&(i.children.every(n=>typeof n=="string")?i.children=[i.children.join("")]:i.children.forEach(n=>{e._collapse(n)}))}},NO=class extends LO{constructor(i){super(),this.options=i}addText(i){i!==""&&this.add(i)}startScope(i){this.openNode(i)}endScope(){this.closeNode()}__addSublanguage(i,n){let o=i.root;n&&(o.scope=`language:${n}`),this.add(o)}toHTML(){return new PO(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function My(e){return e?typeof e=="string"?e:e.source:null}function H$(e){return gf("(?=",e,")")}function tge(e){return gf("(?:",e,")*")}function ige(e){return gf("(?:",e,")?")}function gf(...e){return e.map(n=>My(n)).join("")}function nge(e){let i=e[e.length-1];return typeof i=="object"&&i.constructor===Object?(e.splice(e.length-1,1),i):{}}function zO(...e){return"("+(nge(e).capture?"":"?:")+e.map(o=>My(o)).join("|")+")"}function G$(e){return new RegExp(e.toString()+"|").exec("").length-1}function oge(e,i){let n=e&&e.exec(i);return n&&n.index===0}var rge=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function BO(e,{joinWith:i}){let n=0;return e.map(o=>{n+=1;let r=n,s=My(o),l="";for(;s.length>0;){let c=rge.exec(s);if(!c){l+=s;break}l+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),c[0][0]==="\\"&&c[1]?l+="\\"+String(Number(c[1])+r):(l+=c[0],c[0]==="("&&n++)}return l}).map(o=>`(${o})`).join(i)}var sge=/\b\B/,j$="[a-zA-Z]\\w*",VO="[a-zA-Z_]\\w*",W$="\\b\\d+(\\.\\d+)?",U$="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",$$="\\b(0b[01]+)",age="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",lge=(e={})=>{let i=/^#![ ]*\//;return e.binary&&(e.begin=gf(i,/.*\b/,e.binary,/\b.*/)),Dg({scope:"meta",begin:i,end:/$/,relevance:0,"on:begin":(n,o)=>{n.index!==0&&o.ignoreMatch()}},e)},ky={begin:"\\\\[\\s\\S]",relevance:0},cge={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ky]},dge={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ky]},uge={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},PM=function(e,i,n={}){let o=Dg({scope:"comment",begin:e,end:i,contains:[]},n);o.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let r=zO("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return o.contains.push({begin:gf(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),o},hge=PM("//","$"),gge=PM("/\\*","\\*/"),pge=PM("#","$"),fge={scope:"number",begin:W$,relevance:0},mge={scope:"number",begin:U$,relevance:0},vge={scope:"number",begin:$$,relevance:0},Cge={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ky,{begin:/\[/,end:/\]/,relevance:0,contains:[ky]}]},wge={scope:"title",begin:j$,relevance:0},bge={scope:"title",begin:VO,relevance:0},yge={begin:"\\.\\s*"+VO,relevance:0},Sge=function(e){return Object.assign(e,{"on:begin":(i,n)=>{n.data._beginMatch=i[1]},"on:end":(i,n)=>{n.data._beginMatch!==i[1]&&n.ignoreMatch()}})},AM=Object.freeze({__proto__:null,APOS_STRING_MODE:cge,BACKSLASH_ESCAPE:ky,BINARY_NUMBER_MODE:vge,BINARY_NUMBER_RE:$$,COMMENT:PM,C_BLOCK_COMMENT_MODE:gge,C_LINE_COMMENT_MODE:hge,C_NUMBER_MODE:mge,C_NUMBER_RE:U$,END_SAME_AS_BEGIN:Sge,HASH_COMMENT_MODE:pge,IDENT_RE:j$,MATCH_NOTHING_RE:sge,METHOD_GUARD:yge,NUMBER_MODE:fge,NUMBER_RE:W$,PHRASAL_WORDS_MODE:uge,QUOTE_STRING_MODE:dge,REGEXP_MODE:Cge,RE_STARTERS_RE:age,SHEBANG:lge,TITLE_MODE:wge,UNDERSCORE_IDENT_RE:VO,UNDERSCORE_TITLE_MODE:bge});function xge(e,i){e.input[e.index-1]==="."&&i.ignoreMatch()}function _ge(e,i){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Dge(e,i){i&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=xge,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Ege(e,i){Array.isArray(e.illegal)&&(e.illegal=zO(...e.illegal))}function Mge(e,i){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function kge(e,i){e.relevance===void 0&&(e.relevance=1)}var Ige=(e,i)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");let n=Object.assign({},e);Object.keys(e).forEach(o=>{delete e[o]}),e.keywords=n.keywords,e.begin=gf(n.beforeMatch,H$(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Rge=["of","and","for","in","not","or","if","then","parent","list","value"],Age="keyword";function q$(e,i,n=Age){let o=Object.create(null);return typeof e=="string"?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach(function(s){Object.assign(o,q$(e[s],i,s))}),o;function r(s,l){i&&(l=l.map(c=>c.toLowerCase())),l.forEach(function(c){let d=c.split("|");o[d[0]]=[s,Tge(d[0],d[1])]})}}function Tge(e,i){return i?Number(i):Fge(e)?0:1}function Fge(e){return Rge.includes(e.toLowerCase())}var L$={},hf=e=>{console.error(e)},N$=(e,...i)=>{console.log(`WARN: ${e}`,...i)},Jv=(e,i)=>{L$[`${e}/${i}`]||(console.log(`Deprecated as of ${e}. ${i}`),L$[`${e}/${i}`]=!0)},FM=new Error;function K$(e,i,{key:n}){let o=0,r=e[n],s={},l={};for(let c=1;c<=i.length;c++)l[c+o]=r[c],s[c+o]=!0,o+=G$(i[c-1]);e[n]=l,e[n]._emit=s,e[n]._multi=!0}function Pge(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw hf("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),FM;if(typeof e.beginScope!="object"||e.beginScope===null)throw hf("beginScope must be object"),FM;K$(e,e.begin,{key:"beginScope"}),e.begin=BO(e.begin,{joinWith:""})}}function Lge(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw hf("skip, excludeEnd, returnEnd not compatible with endScope: {}"),FM;if(typeof e.endScope!="object"||e.endScope===null)throw hf("endScope must be object"),FM;K$(e,e.end,{key:"endScope"}),e.end=BO(e.end,{joinWith:""})}}function Nge(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Oge(e){Nge(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Pge(e),Lge(e)}function zge(e){function i(l,c){return new RegExp(My(l),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(c?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,d){d.position=this.position++,this.matchIndexes[this.matchAt]=d,this.regexes.push([d,c]),this.matchAt+=G$(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let c=this.regexes.map(d=>d[1]);this.matcherRe=i(BO(c,{joinWith:"|"}),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;let d=this.matcherRe.exec(c);if(!d)return null;let u=d.findIndex((g,p)=>p>0&&g!==void 0),h=this.matchIndexes[u];return d.splice(0,u),Object.assign(d,h)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];let d=new n;return this.rules.slice(c).forEach(([u,h])=>d.addRule(u,h)),d.compile(),this.multiRegexes[c]=d,d}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,d){this.rules.push([c,d]),d.type==="begin"&&this.count++}exec(c){let d=this.getMatcher(this.regexIndex);d.lastIndex=this.lastIndex;let u=d.exec(c);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){let h=this.getMatcher(0);h.lastIndex=this.lastIndex+1,u=h.exec(c)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function r(l){let c=new o;return l.contains.forEach(d=>c.addRule(d.begin,{rule:d,type:"begin"})),l.terminatorEnd&&c.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&c.addRule(l.illegal,{type:"illegal"}),c}function s(l,c){let d=l;if(l.isCompiled)return d;[_ge,Mge,Oge,Ige].forEach(h=>h(l,c)),e.compilerExtensions.forEach(h=>h(l,c)),l.__beforeBegin=null,[Dge,Ege,kge].forEach(h=>h(l,c)),l.isCompiled=!0;let u=null;return typeof l.keywords=="object"&&l.keywords.$pattern&&(l.keywords=Object.assign({},l.keywords),u=l.keywords.$pattern,delete l.keywords.$pattern),u=u||/\w+/,l.keywords&&(l.keywords=q$(l.keywords,e.case_insensitive)),d.keywordPatternRe=i(u,!0),c&&(l.begin||(l.begin=/\B|\b/),d.beginRe=i(d.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(d.endRe=i(d.end)),d.terminatorEnd=My(d.end)||"",l.endsWithParent&&c.terminatorEnd&&(d.terminatorEnd+=(l.end?"|":"")+c.terminatorEnd)),l.illegal&&(d.illegalRe=i(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function(h){return Bge(h==="self"?l:h)})),l.contains.forEach(function(h){s(h,d)}),l.starts&&s(l.starts,c),d.matcher=r(d),d}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Dg(e.classNameAliases||{}),s(e)}function Y$(e){return e?e.endsWithParent||Y$(e.starts):!1}function Bge(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(i){return Dg(e,{variants:null},i)})),e.cachedVariants?e.cachedVariants:Y$(e)?Dg(e,{starts:e.starts?Dg(e.starts):null}):Object.isFrozen(e)?Dg(e):e}var Vge="11.10.0",OO=class extends Error{constructor(i,n){super(i),this.name="HTMLInjectionError",this.html=n}},FO=V$,O$=Dg,z$=Symbol("nomatch"),Hge=7,Q$=function(e){let i=Object.create(null),n=Object.create(null),o=[],r=!0,s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]},c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:NO};function d(ot){return c.noHighlightRe.test(ot)}function u(ot){let jt=ot.className+" ";jt+=ot.parentNode?ot.parentNode.className:"";let Ci=c.languageDetectRe.exec(jt);if(Ci){let Gi=at(Ci[1]);return Gi||(N$(s.replace("{}",Ci[1])),N$("Falling back to no-highlight mode for this block.",ot)),Gi?Ci[1]:"no-highlight"}return jt.split(/\s+/).find(Gi=>d(Gi)||at(Gi))}function h(ot,jt,Ci){let Gi="",Bi="";typeof jt=="object"?(Gi=ot,Ci=jt.ignoreIllegals,Bi=jt.language):(Jv("10.7.0","highlight(lang, code, ...args) has been deprecated."),Jv("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Bi=ot,Gi=jt),Ci===void 0&&(Ci=!0);let nr={code:Gi,language:Bi};Cn("before:highlight",nr);let Js=nr.result?nr.result:g(nr.language,nr.code,Ci);return Js.code=nr.code,Cn("after:highlight",Js),Js}function g(ot,jt,Ci,Gi){let Bi=Object.create(null);function nr(mt,zt){return mt.keywords[zt]}function Js(){if(!pi.keywords){Xn.addText(gn);return}let mt=0;pi.keywordPatternRe.lastIndex=0;let zt=pi.keywordPatternRe.exec(gn),wi="";for(;zt;){wi+=gn.substring(mt,zt.index);let Qi=_s.case_insensitive?zt[0].toLowerCase():zt[0],Io=nr(pi,Qi);if(Io){let[ca,Ik]=Io;if(Xn.addText(wi),wi="",Bi[Qi]=(Bi[Qi]||0)+1,Bi[Qi]<=Hge&&(zg+=Ik),ca.startsWith("_"))wi+=zt[0];else{let Ni=_s.classNameAliases[ca]||ca;or(zt[0],Ni)}}else wi+=zt[0];mt=pi.keywordPatternRe.lastIndex,zt=pi.keywordPatternRe.exec(gn)}wi+=gn.substring(mt),Xn.addText(wi)}function Af(){if(gn==="")return;let mt=null;if(typeof pi.subLanguage=="string"){if(!i[pi.subLanguage]){Xn.addText(gn);return}mt=g(pi.subLanguage,gn,!0,x0[pi.subLanguage]),x0[pi.subLanguage]=mt._top}else mt=f(gn,pi.subLanguage.length?pi.subLanguage:null);pi.relevance>0&&(zg+=mt.relevance),Xn.__addSublanguage(mt._emitter,mt.language)}function Vo(){pi.subLanguage!=null?Af():Js(),gn=""}function or(mt,zt){mt!==""&&(Xn.startScope(zt),Xn.addText(mt),Xn.endScope())}function sn(mt,zt){let wi=1,Qi=zt.length-1;for(;wi<=Qi;){if(!mt._emit[wi]){wi++;continue}let Io=_s.classNameAliases[mt[wi]]||mt[wi],ca=zt[wi];Io?or(ca,Io):(gn=ca,Js(),gn=""),wi++}}function xl(mt,zt){return mt.scope&&typeof mt.scope=="string"&&Xn.openNode(_s.classNameAliases[mt.scope]||mt.scope),mt.beginScope&&(mt.beginScope._wrap?(or(gn,_s.classNameAliases[mt.beginScope._wrap]||mt.beginScope._wrap),gn=""):mt.beginScope._multi&&(sn(mt.beginScope,zt),gn="")),pi=Object.create(mt,{parent:{value:pi}}),pi}function Yt(mt,zt,wi){let Qi=oge(mt.endRe,wi);if(Qi){if(mt["on:end"]){let Io=new TM(mt);mt["on:end"](zt,Io),Io.isMatchIgnored&&(Qi=!1)}if(Qi){for(;mt.endsParent&&mt.parent;)mt=mt.parent;return mt}}if(mt.endsWithParent)return Yt(mt.parent,zt,wi)}function Ot(mt){return pi.matcher.regexIndex===0?(gn+=mt[0],1):(D0=!0,0)}function sS(mt){let zt=mt[0],wi=mt.rule,Qi=new TM(wi),Io=[wi.__beforeBegin,wi["on:begin"]];for(let ca of Io)if(ca&&(ca(mt,Qi),Qi.isMatchIgnored))return Ot(zt);return wi.skip?gn+=zt:(wi.excludeBegin&&(gn+=zt),Vo(),!wi.returnBegin&&!wi.excludeBegin&&(gn=zt)),xl(wi,mt),wi.returnBegin?0:zt.length}function kk(mt){let zt=mt[0],wi=jt.substring(mt.index),Qi=Yt(pi,mt,wi);if(!Qi)return z$;let Io=pi;pi.endScope&&pi.endScope._wrap?(Vo(),or(zt,pi.endScope._wrap)):pi.endScope&&pi.endScope._multi?(Vo(),sn(pi.endScope,mt)):Io.skip?gn+=zt:(Io.returnEnd||Io.excludeEnd||(gn+=zt),Vo(),Io.excludeEnd&&(gn=zt));do pi.scope&&Xn.closeNode(),!pi.skip&&!pi.subLanguage&&(zg+=pi.relevance),pi=pi.parent;while(pi!==Qi.parent);return Qi.starts&&xl(Qi.starts,mt),Io.returnEnd?0:zt.length}function Tf(){let mt=[];for(let zt=pi;zt!==_s;zt=zt.parent)zt.scope&&mt.unshift(zt.scope);mt.forEach(zt=>Xn.openNode(zt))}let _l={};function S0(mt,zt){let wi=zt&&zt[0];if(gn+=mt,wi==null)return Vo(),0;if(_l.type==="begin"&&zt.type==="end"&&_l.index===zt.index&&wi===""){if(gn+=jt.slice(zt.index,zt.index+1),!r){let Qi=new Error(`0 width match regex (${ot})`);throw Qi.languageName=ot,Qi.badRule=_l.rule,Qi}return 1}if(_l=zt,zt.type==="begin")return sS(zt);if(zt.type==="illegal"&&!Ci){let Qi=new Error('Illegal lexeme "'+wi+'" for mode "'+(pi.scope||"<unnamed>")+'"');throw Qi.mode=pi,Qi}else if(zt.type==="end"){let Qi=kk(zt);if(Qi!==z$)return Qi}if(zt.type==="illegal"&&wi==="")return 1;if(_0>1e5&&_0>zt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return gn+=wi,wi.length}let _s=at(ot);if(!_s)throw hf(s.replace("{}",ot)),new Error('Unknown language: "'+ot+'"');let aS=zge(_s),mu="",pi=Gi||aS,x0={},Xn=new c.__emitter(c);Tf();let gn="",zg=0,Dl=0,_0=0,D0=!1;try{if(_s.__emitTokens)_s.__emitTokens(jt,Xn);else{for(pi.matcher.considerAll();;){_0++,D0?D0=!1:pi.matcher.considerAll(),pi.matcher.lastIndex=Dl;let mt=pi.matcher.exec(jt);if(!mt)break;let zt=jt.substring(Dl,mt.index),wi=S0(zt,mt);Dl=mt.index+wi}S0(jt.substring(Dl))}return Xn.finalize(),mu=Xn.toHTML(),{language:ot,value:mu,relevance:zg,illegal:!1,_emitter:Xn,_top:pi}}catch(mt){if(mt.message&&mt.message.includes("Illegal"))return{language:ot,value:FO(jt),illegal:!0,relevance:0,_illegalBy:{message:mt.message,index:Dl,context:jt.slice(Dl-100,Dl+100),mode:mt.mode,resultSoFar:mu},_emitter:Xn};if(r)return{language:ot,value:FO(jt),illegal:!1,relevance:0,errorRaised:mt,_emitter:Xn,_top:pi};throw mt}}function p(ot){let jt={value:FO(ot),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return jt._emitter.addText(ot),jt}function f(ot,jt){jt=jt||c.languages||Object.keys(i);let Ci=p(ot),Gi=jt.filter(at).filter(Zt).map(Vo=>g(Vo,ot,!1));Gi.unshift(Ci);let Bi=Gi.sort((Vo,or)=>{if(Vo.relevance!==or.relevance)return or.relevance-Vo.relevance;if(Vo.language&&or.language){if(at(Vo.language).supersetOf===or.language)return 1;if(at(or.language).supersetOf===Vo.language)return-1}return 0}),[nr,Js]=Bi,Af=nr;return Af.secondBest=Js,Af}function y(ot,jt,Ci){let Gi=jt&&n[jt]||Ci;ot.classList.add("hljs"),ot.classList.add(`language-${Gi}`)}function M(ot){let jt=null,Ci=u(ot);if(d(Ci))return;if(Cn("before:highlightElement",{el:ot,language:Ci}),ot.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ot);return}if(ot.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ot)),c.throwUnescapedHTML))throw new OO("One of your code blocks includes unescaped HTML.",ot.innerHTML);jt=ot;let Gi=jt.textContent,Bi=Ci?h(Gi,{language:Ci,ignoreIllegals:!0}):f(Gi);ot.innerHTML=Bi.value,ot.dataset.highlighted="yes",y(ot,Ci,Bi.language),ot.result={language:Bi.language,re:Bi.relevance,relevance:Bi.relevance},Bi.secondBest&&(ot.secondBest={language:Bi.secondBest.language,relevance:Bi.secondBest.relevance}),Cn("after:highlightElement",{el:ot,result:Bi,text:Gi})}function k(ot){c=O$(c,ot)}let G=()=>{_e(),Jv("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function J(){_e(),Jv("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let $=!1;function _e(){if(document.readyState==="loading"){$=!0;return}document.querySelectorAll(c.cssSelector).forEach(M)}function Te(){$&&_e()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Te,!1);function Pe(ot,jt){let Ci=null;try{Ci=jt(e)}catch(Gi){if(hf("Language definition for '{}' could not be registered.".replace("{}",ot)),r)hf(Gi);else throw Gi;Ci=l}Ci.name||(Ci.name=ot),i[ot]=Ci,Ci.rawDefinition=jt.bind(null,e),Ci.aliases&&Ft(Ci.aliases,{languageName:ot})}function $e(ot){delete i[ot];for(let jt of Object.keys(n))n[jt]===ot&&delete n[jt]}function nt(){return Object.keys(i)}function at(ot){return ot=(ot||"").toLowerCase(),i[ot]||i[n[ot]]}function Ft(ot,{languageName:jt}){typeof ot=="string"&&(ot=[ot]),ot.forEach(Ci=>{n[Ci.toLowerCase()]=jt})}function Zt(ot){let jt=at(ot);return jt&&!jt.disableAutodetect}function xn(ot){ot["before:highlightBlock"]&&!ot["before:highlightElement"]&&(ot["before:highlightElement"]=jt=>{ot["before:highlightBlock"](Object.assign({block:jt.el},jt))}),ot["after:highlightBlock"]&&!ot["after:highlightElement"]&&(ot["after:highlightElement"]=jt=>{ot["after:highlightBlock"](Object.assign({block:jt.el},jt))})}function Ei(ot){xn(ot),o.push(ot)}function hn(ot){let jt=o.indexOf(ot);jt!==-1&&o.splice(jt,1)}function Cn(ot,jt){let Ci=ot;o.forEach(function(Gi){Gi[Ci]&&Gi[Ci](jt)})}function ss(ot){return Jv("10.7.0","highlightBlock will be removed entirely in v12.0"),Jv("10.7.0","Please use highlightElement now."),M(ot)}Object.assign(e,{highlight:h,highlightAuto:f,highlightAll:_e,highlightElement:M,highlightBlock:ss,configure:k,initHighlighting:G,initHighlightingOnLoad:J,registerLanguage:Pe,unregisterLanguage:$e,listLanguages:nt,getLanguage:at,registerAliases:Ft,autoDetection:Zt,inherit:O$,addPlugin:Ei,removePlugin:hn}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString=Vge,e.regex={concat:gf,lookahead:H$,either:zO,optional:ige,anyNumberOfTimes:tge};for(let ot in AM)typeof AM[ot]=="object"&&B$(AM[ot]);return Object.assign(e,AM),e},e0=Q$({});e0.newInstance=()=>Q$({});Z$.exports=e0;e0.HighlightJS=e0;e0.default=e0});var E2=null;var D2=1,M2=Symbol("SIGNAL");function on(e){let i=E2;return E2=e,i}function _z(){return E2}var k2={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function VQ(e){if(!(F2(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===D2)){if(!e.producerMustRecompute(e)&&!R2(e)){e.dirty=!1,e.lastCleanEpoch=D2;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=D2}}function I2(e){return e&&(e.nextProducerIndex=0),on(e)}function Dz(e,i){if(on(i),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(F2(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)T2(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function R2(e){P2(e);for(let i=0;i<e.producerNode.length;i++){let n=e.producerNode[i],o=e.producerLastReadVersion[i];if(o!==n.version||(VQ(n),o!==n.version))return!0}return!1}function A2(e){if(P2(e),F2(e))for(let i=0;i<e.producerNode.length;i++)T2(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function T2(e,i){if(HQ(e),e.liveConsumerNode.length===1&&GQ(e))for(let o=0;o<e.producerNode.length;o++)T2(e.producerNode[o],e.producerIndexOfThis[o]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){let o=e.liveConsumerIndexOfThis[i],r=e.liveConsumerNode[i];P2(r),r.producerIndexOfThis[o]=i}}function F2(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function P2(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function HQ(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function GQ(e){return e.producerNode!==void 0}function jQ(){throw new Error}var WQ=jQ;function Ez(e){WQ=e}function qt(e){return typeof e=="function"}function am(e){let n=e(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var x1=am(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jg(e,i){if(e){let n=e.indexOf(i);0<=n&&e.splice(n,1)}}var Bn=class e{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(qt(o))try{o()}catch(s){i=s instanceof x1?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Mz(s)}catch(l){i=i??[],l instanceof x1?i=[...i,...l.errors]:i.push(l)}}if(i)throw new x1(i)}}add(i){var n;if(i&&i!==this)if(this.closed)Mz(i);else{if(i instanceof e){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(i)}}_hasParent(i){let{_parentage:n}=this;return n===i||Array.isArray(n)&&n.includes(i)}_addParent(i){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(i),n):n?[n,i]:i}_removeParent(i){let{_parentage:n}=this;n===i?this._parentage=null:Array.isArray(n)&&Jg(n,i)}remove(i){let{_finalizers:n}=this;n&&Jg(n,i),i instanceof e&&i._removeParent(this)}};Bn.EMPTY=(()=>{let e=new Bn;return e.closed=!0,e})();var L2=Bn.EMPTY;function _1(e){return e instanceof Bn||e&&"closed"in e&&qt(e.remove)&&qt(e.add)&&qt(e.unsubscribe)}function Mz(e){qt(e)?e():e.unsubscribe()}var nl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lm={setTimeout(e,i,...n){let{delegate:o}=lm;return o?.setTimeout?o.setTimeout(e,i,...n):setTimeout(e,i,...n)},clearTimeout(e){let{delegate:i}=lm;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function D1(e){lm.setTimeout(()=>{let{onUnhandledError:i}=nl;if(i)i(e);else throw e})}function Tu(){}var kz=N2("C",void 0,void 0);function Iz(e){return N2("E",void 0,e)}function Rz(e){return N2("N",e,void 0)}function N2(e,i,n){return{kind:e,value:i,error:n}}var ep=null;function cm(e){if(nl.useDeprecatedSynchronousErrorHandling){let i=!ep;if(i&&(ep={errorThrown:!1,error:null}),e(),i){let{errorThrown:n,error:o}=ep;if(ep=null,n)throw o}}else e()}function Az(e){nl.useDeprecatedSynchronousErrorHandling&&ep&&(ep.errorThrown=!0,ep.error=e)}var tp=class extends Bn{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,_1(i)&&i.add(this)):this.destination=qQ}static create(i,n,o){return new dm(i,n,o)}next(i){this.isStopped?z2(Rz(i),this):this._next(i)}error(i){this.isStopped?z2(Iz(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?z2(kz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UQ=Function.prototype.bind;function O2(e,i){return UQ.call(e,i)}var B2=class{constructor(i){this.partialObserver=i}next(i){let{partialObserver:n}=this;if(n.next)try{n.next(i)}catch(o){E1(o)}}error(i){let{partialObserver:n}=this;if(n.error)try{n.error(i)}catch(o){E1(o)}else E1(i)}complete(){let{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(n){E1(n)}}},dm=class extends tp{constructor(i,n,o){super();let r;if(qt(i)||!i)r={next:i??void 0,error:n??void 0,complete:o??void 0};else{let s;this&&nl.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&O2(i.next,s),error:i.error&&O2(i.error,s),complete:i.complete&&O2(i.complete,s)}):r=i}this.destination=new B2(r)}};function E1(e){nl.useDeprecatedSynchronousErrorHandling?Az(e):D1(e)}function $Q(e){throw e}function z2(e,i){let{onStoppedNotification:n}=nl;n&&lm.setTimeout(()=>n(e,i))}var qQ={closed:!0,next:Tu,error:$Q,complete:Tu};var um=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yr(e){return e}function V2(...e){return H2(e)}function H2(e){return e.length===0?yr:e.length===1?e[0]:function(n){return e.reduce((o,r)=>r(o),n)}}var oi=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,r){let s=YQ(n)?n:new dm(n,o,r);return cm(()=>{let{operator:l,source:c}=this;s.add(l?l.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=Tz(o),new o((r,s)=>{let l=new dm({next:c=>{try{n(c)}catch(d){s(d),l.unsubscribe()}},error:s,complete:r});this.subscribe(l)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[um](){return this}pipe(...n){return H2(n)(this)}toPromise(n){return n=Tz(n),new n((o,r)=>{let s;this.subscribe(l=>s=l,l=>r(l),()=>o(s))})}}return e.create=i=>new e(i),e})();function Tz(e){var i;return(i=e??nl.Promise)!==null&&i!==void 0?i:Promise}function KQ(e){return e&&qt(e.next)&&qt(e.error)&&qt(e.complete)}function YQ(e){return e&&e instanceof tp||KQ(e)&&_1(e)}function G2(e){return qt(e?.lift)}function mi(e){return i=>{if(G2(i))return i.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function di(e,i,n,o,r){return new j2(e,i,n,o,r)}var j2=class extends tp{constructor(i,n,o,r,s,l){super(i),this.onFinalize=s,this.shouldUnsubscribe=l,this._next=n?function(c){try{n(c)}catch(d){i.error(d)}}:super._next,this._error=r?function(c){try{r(c)}catch(d){i.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(c){i.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((i=this.onFinalize)===null||i===void 0||i.call(this))}}};function hm(){return mi((e,i)=>{let n=null;e._refCount++;let o=di(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),i.unsubscribe()});e.subscribe(o),o.closed||(n=e.connect())})}var Bh=class extends oi{constructor(i,n){super(),this.source=i,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,G2(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){let i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Bn;let n=this.getSubject();i.add(this.source.subscribe(di(n,void 0,()=>{this._teardown(),n.complete()},o=>{this._teardown(),n.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Bn.EMPTY)}return i}refCount(){return hm()(this)}};var gm={schedule(e){let i=requestAnimationFrame,n=cancelAnimationFrame,{delegate:o}=gm;o&&(i=o.requestAnimationFrame,n=o.cancelAnimationFrame);let r=i(s=>{n=void 0,e(s)});return new Bn(()=>n?.(r))},requestAnimationFrame(...e){let{delegate:i}=gm;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:i}=gm;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var Fz=am(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Wi=(()=>{class e extends oi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new M1(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new Fz}next(n){cm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){cm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){cm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:s}=this;return o||r?L2:(this.currentObservers=null,s.push(n),new Bn(()=>{this.currentObservers=null,Jg(s,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:s}=this;o?n.error(r):s&&n.complete()}asObservable(){let n=new oi;return n.source=this,n}}return e.create=(i,n)=>new M1(i,n),e})(),M1=class extends Wi{constructor(i,n){super(),this.destination=i,this.source=n}next(i){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,i)}error(i){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,i)}complete(){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||n===void 0||n.call(i)}_subscribe(i){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(i))!==null&&o!==void 0?o:L2}};var wo=class extends Wi{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){let n=super._subscribe(i);return!n.closed&&i.next(this._value),n}getValue(){let{hasError:i,thrownError:n,_value:o}=this;if(i)throw n;return this._throwIfClosed(),o}next(i){super.next(this._value=i)}};var W2={now(){return(W2.delegate||Date).now()},delegate:void 0};var k1=class extends Bn{constructor(i,n){super()}schedule(i,n=0){return this}};var rC={setInterval(e,i,...n){let{delegate:o}=rC;return o?.setInterval?o.setInterval(e,i,...n):setInterval(e,i,...n)},clearInterval(e){let{delegate:i}=rC;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};var pm=class extends k1{constructor(i,n){super(i,n),this.scheduler=i,this.work=n,this.pending=!1}schedule(i,n=0){var o;if(this.closed)return this;this.state=i;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,n),this}requestAsyncId(i,n,o=0){return rC.setInterval(i.flush.bind(i,this),o)}recycleAsyncId(i,n,o=0){if(o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&rC.clearInterval(n)}execute(i,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let o=this._execute(i,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,n){let o=!1,r;try{this.work(i)}catch(s){o=!0,r=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:i,scheduler:n}=this,{actions:o}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jg(o,this),i!=null&&(this.id=this.recycleAsyncId(n,i,null)),this.delay=null,super.unsubscribe()}}};var fm=class e{constructor(i,n=e.now){this.schedulerActionCtor=i,this.now=n}schedule(i,n=0,o){return new this.schedulerActionCtor(this,i).schedule(o,n)}};fm.now=W2.now;var mm=class extends fm{constructor(i,n=fm.now){super(i,n),this.actions=[],this._active=!1}flush(i){let{actions:n}=this;if(this._active){n.push(i);return}let o;this._active=!0;do if(o=i.execute(i.state,i.delay))break;while(i=n.shift());if(this._active=!1,o){for(;i=n.shift();)i.unsubscribe();throw o}}};var ip=new mm(pm),Pz=ip;var I1=class extends pm{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,o=0){return o!==null&&o>0?super.requestAsyncId(i,n,o):(i.actions.push(this),i._scheduled||(i._scheduled=gm.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,n,o=0){var r;if(o!=null?o>0:this.delay>0)return super.recycleAsyncId(i,n,o);let{actions:s}=i;n!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==n&&(gm.cancelAnimationFrame(n),i._scheduled=void 0)}};var R1=class extends mm{flush(i){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:o}=this,r;i=i||o.shift();do if(r=i.execute(i.state,i.delay))break;while((i=o[0])&&i.id===n&&o.shift());if(this._active=!1,r){for(;(i=o[0])&&i.id===n&&o.shift();)i.unsubscribe();throw r}}};var U2=new R1(I1);var Sr=new oi(e=>e.complete());function A1(e){return e&&qt(e.schedule)}function $2(e){return e[e.length-1]}function T1(e){return qt($2(e))?e.pop():void 0}function Ol(e){return A1($2(e))?e.pop():void 0}function Lz(e,i){return typeof $2(e)=="number"?e.pop():i}function Oz(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})}function Nz(e){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&e[i],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function np(e){return this instanceof np?(this.v=e,this):new np(e)}function zz(e,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,i||[]),r,s=[];return r={},c("next"),c("throw"),c("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(f){return function(y){return Promise.resolve(y).then(f,g)}}function c(f,y){o[f]&&(r[f]=function(M){return new Promise(function(k,G){s.push([f,M,k,G])>1||d(f,M)})},y&&(r[f]=y(r[f])))}function d(f,y){try{u(o[f](y))}catch(M){p(s[0][3],M)}}function u(f){f.value instanceof np?Promise.resolve(f.value.v).then(h,g):p(s[0][2],f)}function h(f){d("next",f)}function g(f){d("throw",f)}function p(f,y){f(y),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Bz(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e[Symbol.asyncIterator],n;return i?i.call(e):(e=typeof Nz=="function"?Nz(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(s){n[s]=e[s]&&function(l){return new Promise(function(c,d){l=e[s](l),r(c,d,l.done,l.value)})}}function r(s,l,c,d){Promise.resolve(d).then(function(u){s({value:u,done:c})},l)}}var vm=e=>e&&typeof e.length=="number"&&typeof e!="function";function F1(e){return qt(e?.then)}function P1(e){return qt(e[um])}function L1(e){return Symbol.asyncIterator&&qt(e?.[Symbol.asyncIterator])}function N1(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QQ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var O1=QQ();function z1(e){return qt(e?.[O1])}function B1(e){return zz(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:o,done:r}=yield np(n.read());if(r)return yield np(void 0);yield yield np(o)}}finally{n.releaseLock()}})}function V1(e){return qt(e?.getReader)}function Ui(e){if(e instanceof oi)return e;if(e!=null){if(P1(e))return ZQ(e);if(vm(e))return XQ(e);if(F1(e))return JQ(e);if(L1(e))return Vz(e);if(z1(e))return eZ(e);if(V1(e))return tZ(e)}throw N1(e)}function ZQ(e){return new oi(i=>{let n=e[um]();if(qt(n.subscribe))return n.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XQ(e){return new oi(i=>{for(let n=0;n<e.length&&!i.closed;n++)i.next(e[n]);i.complete()})}function JQ(e){return new oi(i=>{e.then(n=>{i.closed||(i.next(n),i.complete())},n=>i.error(n)).then(null,D1)})}function eZ(e){return new oi(i=>{for(let n of e)if(i.next(n),i.closed)return;i.complete()})}function Vz(e){return new oi(i=>{iZ(e,i).catch(n=>i.error(n))})}function tZ(e){return Vz(B1(e))}function iZ(e,i){var n,o,r,s;return Oz(this,void 0,void 0,function*(){try{for(n=Bz(e);o=yield n.next(),!o.done;){let l=o.value;if(i.next(l),i.closed)return}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}i.complete()})}function Ur(e,i,n,o=0,r=!1){let s=i.schedule(function(){n(),r?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(s),!r)return s}function H1(e,i=0){return mi((n,o)=>{n.subscribe(di(o,r=>Ur(o,e,()=>o.next(r),i),()=>Ur(o,e,()=>o.complete(),i),r=>Ur(o,e,()=>o.error(r),i)))})}function G1(e,i=0){return mi((n,o)=>{o.add(e.schedule(()=>n.subscribe(o),i))})}function Hz(e,i){return Ui(e).pipe(G1(i),H1(i))}function Gz(e,i){return Ui(e).pipe(G1(i),H1(i))}function jz(e,i){return new oi(n=>{let o=0;return i.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}function Wz(e,i){return new oi(n=>{let o;return Ur(n,i,()=>{o=e[O1](),Ur(n,i,()=>{let r,s;try{({value:r,done:s}=o.next())}catch(l){n.error(l);return}s?n.complete():n.next(r)},0,!0)}),()=>qt(o?.return)&&o.return()})}function j1(e,i){if(!e)throw new Error("Iterable cannot be null");return new oi(n=>{Ur(n,i,()=>{let o=e[Symbol.asyncIterator]();Ur(n,i,()=>{o.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Uz(e,i){return j1(B1(e),i)}function $z(e,i){if(e!=null){if(P1(e))return Hz(e,i);if(vm(e))return jz(e,i);if(F1(e))return Gz(e,i);if(L1(e))return j1(e,i);if(z1(e))return Wz(e,i);if(V1(e))return Uz(e,i)}throw N1(e)}function fn(e,i){return i?$z(e,i):Ui(e)}function Nt(...e){let i=Ol(e);return fn(e,i)}function bo(e,i){let n=qt(e)?e:()=>e,o=r=>r.error(n());return new oi(i?r=>i.schedule(o,0,r):o)}function q2(e){return!!e&&(e instanceof oi||qt(e.lift)&&qt(e.subscribe))}var Fu=am(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function qz(e){return e instanceof Date&&!isNaN(e)}function It(e,i){return mi((n,o)=>{let r=0;n.subscribe(di(o,s=>{o.next(e.call(i,s,r++))}))})}var{isArray:nZ}=Array;function oZ(e,i){return nZ(i)?e(...i):e(i)}function Cm(e){return It(i=>oZ(e,i))}var{isArray:rZ}=Array,{getPrototypeOf:sZ,prototype:aZ,keys:lZ}=Object;function W1(e){if(e.length===1){let i=e[0];if(rZ(i))return{args:i,keys:null};if(cZ(i)){let n=lZ(i);return{args:n.map(o=>i[o]),keys:n}}}return{args:e,keys:null}}function cZ(e){return e&&typeof e=="object"&&sZ(e)===aZ}function U1(e,i){return e.reduce((n,o,r)=>(n[o]=i[r],n),{})}function Vh(...e){let i=Ol(e),n=T1(e),{args:o,keys:r}=W1(e);if(o.length===0)return fn([],i);let s=new oi(dZ(o,i,r?l=>U1(r,l):yr));return n?s.pipe(Cm(n)):s}function dZ(e,i,n=yr){return o=>{Kz(i,()=>{let{length:r}=e,s=new Array(r),l=r,c=r;for(let d=0;d<r;d++)Kz(i,()=>{let u=fn(e[d],i),h=!1;u.subscribe(di(o,g=>{s[d]=g,h||(h=!0,c--),c||o.next(n(s.slice()))},()=>{--l||o.complete()}))},o)},o)}}function Kz(e,i,n){e?Ur(n,e,i):i()}function Yz(e,i,n,o,r,s,l,c){let d=[],u=0,h=0,g=!1,p=()=>{g&&!d.length&&!u&&i.complete()},f=M=>u<o?y(M):d.push(M),y=M=>{s&&i.next(M),u++;let k=!1;Ui(n(M,h++)).subscribe(di(i,G=>{r?.(G),s?f(G):i.next(G)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;d.length&&u<o;){let G=d.shift();l?Ur(i,l,()=>y(G)):y(G)}p()}catch(G){i.error(G)}}))};return e.subscribe(di(i,f,()=>{g=!0,p()})),()=>{c?.()}}function Vn(e,i,n=1/0){return qt(i)?Vn((o,r)=>It((s,l)=>i(o,s,r,l))(Ui(e(o,r))),n):(typeof i=="number"&&(n=i),mi((o,r)=>Yz(o,r,e,n)))}function sC(e=1/0){return Vn(yr,e)}function Qz(){return sC(1)}function zl(...e){return Qz()(fn(e,Ol(e)))}function Pu(e){return new oi(i=>{Ui(e()).subscribe(i)})}function aC(...e){let i=T1(e),{args:n,keys:o}=W1(e),r=new oi(s=>{let{length:l}=n;if(!l){s.complete();return}let c=new Array(l),d=l,u=l;for(let h=0;h<l;h++){let g=!1;Ui(n[h]).subscribe(di(s,p=>{g||(g=!0,u--),c[h]=p},()=>d--,void 0,()=>{(!d||!g)&&(u||s.next(o?U1(o,c):c),s.complete())}))}});return i?r.pipe(Cm(i)):r}var uZ=["addListener","removeListener"],hZ=["addEventListener","removeEventListener"],gZ=["on","off"];function Mn(e,i,n,o){if(qt(n)&&(o=n,n=void 0),o)return Mn(e,i,n).pipe(Cm(o));let[r,s]=mZ(e)?hZ.map(l=>c=>e[l](i,c,n)):pZ(e)?uZ.map(Zz(e,i)):fZ(e)?gZ.map(Zz(e,i)):[];if(!r&&vm(e))return Vn(l=>Mn(l,i,n))(Ui(e));if(!r)throw new TypeError("Invalid event target");return new oi(l=>{let c=(...d)=>l.next(1<d.length?d:d[0]);return r(c),()=>s(c)})}function Zz(e,i){return n=>o=>e[n](i,o)}function pZ(e){return qt(e.addListener)&&qt(e.removeListener)}function fZ(e){return qt(e.on)&&qt(e.off)}function mZ(e){return qt(e.addEventListener)&&qt(e.removeEventListener)}function wm(e,i,n){return Pu(()=>e()?i:n)}function $1(e=0,i,n=Pz){let o=-1;return i!=null&&(A1(i)?n=i:o=i),new oi(r=>{let s=qz(e)?+e-n.now():e;s<0&&(s=0);let l=0;return n.schedule(function(){r.closed||(r.next(l++),0<=o?this.schedule(void 0,o):r.complete())},s)})}function K2(e=0,i=ip){return e<0&&(e=0),$1(e,e,i)}function dr(...e){let i=Ol(e),n=Lz(e,1/0),o=e;return o.length?o.length===1?Ui(o[0]):sC(n)(fn(o,i)):Sr}var Ts=new oi(Tu);var{isArray:vZ}=Array;function Xz(e){return e.length===1&&vZ(e[0])?e[0]:e}function bi(e,i){return mi((n,o)=>{let r=0;n.subscribe(di(o,s=>e.call(i,s,r++)&&o.next(s)))})}function Y2(...e){return e=Xz(e),e.length===1?Ui(e[0]):new oi(CZ(e))}function CZ(e){return i=>{let n=[];for(let o=0;n&&!i.closed&&o<e.length;o++)n.push(Ui(e[o]).subscribe(di(i,r=>{if(n){for(let s=0;s<n.length;s++)s!==o&&n[s].unsubscribe();n=null}i.next(r)})))}}function Hn(e){return mi((i,n)=>{let o=null,r=!1,s;o=i.subscribe(di(n,void 0,void 0,l=>{s=Ui(e(l,Hn(e)(i))),o?(o.unsubscribe(),o=null,s.subscribe(n)):r=!0})),r&&(o.unsubscribe(),o=null,s.subscribe(n))})}function Jz(e,i,n,o,r){return(s,l)=>{let c=n,d=i,u=0;s.subscribe(di(l,h=>{let g=u++;d=c?e(d,h,g):(c=!0,h),o&&l.next(d)},r&&(()=>{c&&l.next(d),l.complete()})))}}function Hh(e,i){return qt(i)?Vn(e,i,1):Vn(e,1)}function eB(e){return new oi(i=>e.subscribe(i))}var wZ={connector:()=>new Wi};function q1(e,i=wZ){let{connector:n}=i;return mi((o,r)=>{let s=n();Ui(e(eB(s))).subscribe(r),r.add(o.subscribe(s))})}function Gh(e,i=ip){return mi((n,o)=>{let r=null,s=null,l=null,c=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,o.next(u)}};function d(){let u=l+e,h=i.now();if(h<u){r=this.schedule(void 0,u-h),o.add(r);return}c()}n.subscribe(di(o,u=>{s=u,l=i.now(),r||(r=i.schedule(d,e),o.add(r))},()=>{c(),o.complete()},void 0,()=>{s=r=null}))})}function jh(e){return mi((i,n)=>{let o=!1;i.subscribe(di(n,r=>{o=!0,n.next(r)},()=>{o||n.next(e),n.complete()}))})}function to(e){return e<=0?()=>Sr:mi((i,n)=>{let o=0;i.subscribe(di(n,r=>{++o<=e&&(n.next(r),e<=o&&n.complete())}))})}function tB(){return mi((e,i)=>{e.subscribe(di(i,Tu))})}function lC(e){return It(()=>e)}function Q2(e,i){return i?n=>zl(i.pipe(to(1),tB()),n.pipe(Q2(e))):Vn((n,o)=>Ui(e(n,o)).pipe(to(1),lC(n)))}function op(e,i=ip){let n=$1(e,i);return Q2(()=>n)}function Z2(e,i=yr){return e=e??bZ,mi((n,o)=>{let r,s=!0;n.subscribe(di(o,l=>{let c=i(l);(s||!e(r,c))&&(s=!1,r=c,o.next(l))}))})}function bZ(e,i){return e===i}function K1(e=yZ){return mi((i,n)=>{let o=!1;i.subscribe(di(n,r=>{o=!0,n.next(r)},()=>o?n.complete():n.error(e())))})}function yZ(){return new Fu}function cC(e,i){return i?n=>n.pipe(cC((o,r)=>Ui(e(o,r)).pipe(It((s,l)=>i(o,s,r,l))))):mi((n,o)=>{let r=0,s=null,l=!1;n.subscribe(di(o,c=>{s||(s=di(o,void 0,()=>{s=null,l&&o.complete()}),Ui(e(c,r++)).subscribe(s))},()=>{l=!0,!s&&o.complete()}))})}function rp(e){return mi((i,n)=>{try{i.subscribe(n)}finally{n.add(e)}})}function $r(e,i){let n=arguments.length>=2;return o=>o.pipe(e?bi((r,s)=>e(r,s,o)):yr,to(1),n?jh(i):K1(()=>new Fu))}function bm(e){return e<=0?()=>Sr:mi((i,n)=>{let o=[];i.subscribe(di(n,r=>{o.push(r),e<o.length&&o.shift()},()=>{for(let r of o)n.next(r);n.complete()},void 0,()=>{o=null}))})}function X2(e,i){let n=arguments.length>=2;return o=>o.pipe(e?bi((r,s)=>e(r,s,o)):yr,bm(1),n?jh(i):K1(()=>new Fu))}function iB(e,i){let n=qt(e)?e:()=>e;return qt(i)?q1(i,{connector:n}):o=>new Bh(o,n)}function J2(e){return e?i=>q1(e)(i):i=>iB(new Wi)(i)}function eI(e,i){return mi(Jz(e,i,arguments.length>=2,!0))}function Wh(...e){let i=Ol(e);return mi((n,o)=>{(i?zl(e,n,i):zl(e,n)).subscribe(o)})}function cn(e,i){return mi((n,o)=>{let r=null,s=0,l=!1,c=()=>l&&!r&&o.complete();n.subscribe(di(o,d=>{r?.unsubscribe();let u=0,h=s++;Ui(e(d,h)).subscribe(r=di(o,g=>o.next(i?i(d,g,h,u++):g),()=>{r=null,c()}))},()=>{l=!0,c()}))})}function sp(e){return mi((i,n)=>{Ui(e).subscribe(di(n,()=>n.complete(),Tu)),!n.closed&&i.subscribe(n)})}function kn(e,i,n){let o=qt(e)||i||n?{next:e,error:i,complete:n}:e;return o?mi((r,s)=>{var l;(l=o.subscribe)===null||l===void 0||l.call(o);let c=!0;r.subscribe(di(s,d=>{var u;(u=o.next)===null||u===void 0||u.call(o,d),s.next(d)},()=>{var d;c=!1,(d=o.complete)===null||d===void 0||d.call(o),s.complete()},d=>{var u;c=!1,(u=o.error)===null||u===void 0||u.call(o,d),s.error(d)},()=>{var d,u;c&&((d=o.unsubscribe)===null||d===void 0||d.call(o)),(u=o.finalize)===null||u===void 0||u.call(o)}))}):yr}var WB="https://g.co/ng/security#xss",Kt=class extends Error{constructor(i,n){super(Ix(i,n)),this.code=i}};function Ix(e,i){return`${`NG0${Math.abs(e)}`}${i?": "+i:""}`}function yC(e){return{toString:e}.toString()}var Y1="__parameters__";function SZ(e){return function(...n){if(e){let o=e(...n);for(let r in o)this[r]=o[r]}}}function UB(e,i,n){return yC(()=>{let o=SZ(i);function r(...s){if(this instanceof r)return o.apply(this,s),this;let l=new r(...s);return c.annotation=l,c;function c(d,u,h){let g=d.hasOwnProperty(Y1)?d[Y1]:Object.defineProperty(d,Y1,{value:[]})[Y1];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(l),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var cp=globalThis;function yn(e){for(let i in e)if(e[i]===yn)return i;throw Error("Could not find renamed property on target object.")}function xZ(e,i){for(let n in i)i.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=i[n])}function _r(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(_r).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let i=e.toString();if(i==null)return""+i;let n=i.indexOf(`
`);return n===-1?i:i.substring(0,n)}function fI(e,i){return e==null||e===""?i===null?"":i:i==null||i===""?e:e+" "+i}var _Z=yn({__forward_ref__:yn});function Vu(e){return e.__forward_ref__=Vu,e.toString=function(){return _r(this())},e}function xr(e){return $B(e)?e():e}function $B(e){return typeof e=="function"&&e.hasOwnProperty(_Z)&&e.__forward_ref__===Vu}function xt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Uo(e){return{providers:e.providers||[],imports:e.imports||[]}}function Rx(e){return nB(e,KB)||nB(e,YB)}function qB(e){return Rx(e)!==null}function nB(e,i){return e.hasOwnProperty(i)?e[i]:null}function DZ(e){let i=e&&(e[KB]||e[YB]);return i||null}function oB(e){return e&&(e.hasOwnProperty(rB)||e.hasOwnProperty(EZ))?e[rB]:null}var KB=yn({\u0275prov:yn}),rB=yn({\u0275inj:yn}),YB=yn({ngInjectableDef:yn}),EZ=yn({ngInjectorDef:yn}),Lt=class{constructor(i,n){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=xt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function QB(e){return e&&!!e.\u0275providers}var MZ=yn({\u0275cmp:yn}),kZ=yn({\u0275dir:yn}),IZ=yn({\u0275pipe:yn}),RZ=yn({\u0275mod:yn}),ax=yn({\u0275fac:yn}),dC=yn({__NG_ELEMENT_ID__:yn}),sB=yn({__NG_ENV_ID__:yn});function dp(e){return typeof e=="string"?e:e==null?"":String(e)}function AZ(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():dp(e)}function TZ(e,i){let n=i?`. Dependency path: ${i.join(" > ")} > ${e}`:"";throw new Kt(-200,e)}function m3(e,i){throw new Kt(-201,!1)}var Di=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Di||{}),mI;function ZB(){return mI}function qr(e){let i=mI;return mI=e,i}function XB(e,i,n){let o=Rx(e);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&Di.Optional)return null;if(i!==void 0)return i;m3(e,"Injector")}var FZ={},uC=FZ,vI="__NG_DI_FLAG__",lx="ngTempTokenPath",PZ="ngTokenPath",LZ=/\n/gm,NZ="\u0275",aB="__source",_m;function OZ(){return _m}function Uh(e){let i=_m;return _m=e,i}function zZ(e,i=Di.Default){if(_m===void 0)throw new Kt(-203,!1);return _m===null?XB(e,void 0,i):_m.get(e,i&Di.Optional?null:void 0,i)}function Mt(e,i=Di.Default){return(ZB()||zZ)(xr(e),i)}function wt(e,i=Di.Default){return Mt(e,Ax(i))}function Ax(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function CI(e){let i=[];for(let n=0;n<e.length;n++){let o=xr(e[n]);if(Array.isArray(o)){if(o.length===0)throw new Kt(900,!1);let r,s=Di.Default;for(let l=0;l<o.length;l++){let c=o[l],d=BZ(c);typeof d=="number"?d===-1?r=c.token:s|=d:r=c}i.push(Mt(r,s))}else i.push(Mt(o))}return i}function JB(e,i){return e[vI]=i,e.prototype[vI]=i,e}function BZ(e){return e[vI]}function VZ(e,i,n,o){let r=e[lx];throw i[aB]&&r.unshift(i[aB]),e.message=HZ(`
`+e.message,r,n,o),e[PZ]=r,e[lx]=null,e}function HZ(e,i,n,o=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==NZ?e.slice(2):e;let r=_r(i);if(Array.isArray(i))r=i.map(_r).join(" -> ");else if(typeof i=="object"){let s=[];for(let l in i)if(i.hasOwnProperty(l)){let c=i[l];s.push(l+":"+(typeof c=="string"?JSON.stringify(c):_r(c)))}r=`{${s.join(", ")}}`}return`${n}${o?"("+o+")":""}[${r}]: ${e.replace(LZ,`
  `)}`}var Tx=JB(UB("Optional"),8);var v3=JB(UB("SkipSelf"),4);function up(e,i){let n=e.hasOwnProperty(ax);return n?e[ax]:null}function GZ(e,i,n){if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++){let r=e[o],s=i[o];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function jZ(e){return e.flat(Number.POSITIVE_INFINITY)}function C3(e,i){e.forEach(n=>Array.isArray(n)?C3(n,i):i(n))}function eV(e,i,n){i>=e.length?e.push(n):e.splice(i,0,n)}function cx(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function WZ(e,i){let n=[];for(let o=0;o<e;o++)n.push(i);return n}function UZ(e,i,n,o){let r=e.length;if(r==i)e.push(n,o);else if(r===1)e.push(o,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>i;){let s=r-2;e[r]=e[s],r--}e[i]=n,e[i+1]=o}}function w3(e,i,n){let o=SC(e,i);return o>=0?e[o|1]=n:(o=~o,UZ(e,o,i,n)),o}function tI(e,i){let n=SC(e,i);if(n>=0)return e[n|1]}function SC(e,i){return $Z(e,i,1)}function $Z(e,i,n){let o=0,r=e.length>>n;for(;r!==o;){let s=o+(r-o>>1),l=e[s<<n];if(i===l)return s<<n;l>i?r=s:o=s+1}return~(r<<n)}var Em={},Kr=[],Mm=new Lt(""),tV=new Lt("",-1),iV=new Lt(""),dx=class{get(i,n=uC){if(n===uC){let o=new Error(`NullInjectorError: No provider for ${_r(i)}!`);throw o.name="NullInjectorError",o}return n}},nV=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(nV||{}),Hl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Hl||{}),km=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(km||{});function qZ(e,i,n){let o=e.length;for(;;){let r=e.indexOf(i,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=i.length;if(r+s===o||e.charCodeAt(r+s)<=32)return r}n=r+1}}function wI(e,i,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let s=n[o++],l=n[o++],c=n[o++];e.setAttribute(i,l,c,s)}else{let s=r,l=n[++o];KZ(s)?e.setProperty(i,s,l):e.setAttribute(i,s,l),o++}}return o}function oV(e){return e===3||e===4||e===6}function KZ(e){return e.charCodeAt(0)===64}function hC(e,i){if(!(i===null||i.length===0))if(e===null||e.length===0)e=i.slice();else{let n=-1;for(let o=0;o<i.length;o++){let r=i[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?lB(e,n,r,null,i[++o]):lB(e,n,r,null,null))}}return e}function lB(e,i,n,o,r){let s=0,l=e.length;if(i===-1)l=-1;else for(;s<e.length;){let c=e[s++];if(typeof c=="number"){if(c===i){l=-1;break}else if(c>i){l=s-1;break}}}for(;s<e.length;){let c=e[s];if(typeof c=="number")break;if(c===n){if(o===null){r!==null&&(e[s+1]=r);return}else if(o===e[s+1]){e[s+2]=r;return}}s++,o!==null&&s++,r!==null&&s++}l!==-1&&(e.splice(l,0,i),s=l+1),e.splice(s++,0,n),o!==null&&e.splice(s++,0,o),r!==null&&e.splice(s++,0,r)}var rV="ng-template";function YZ(e,i,n,o){let r=0;if(o){for(;r<i.length&&typeof i[r]=="string";r+=2)if(i[r]==="class"&&qZ(i[r+1].toLowerCase(),n,0)!==-1)return!0}else if(b3(e))return!1;if(r=i.indexOf(1,r),r>-1){let s;for(;++r<i.length&&typeof(s=i[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function b3(e){return e.type===4&&e.value!==rV}function QZ(e,i,n){let o=e.type===4&&!n?rV:e.value;return i===o}function ZZ(e,i,n){let o=4,r=e.attrs,s=r!==null?eX(r):0,l=!1;for(let c=0;c<i.length;c++){let d=i[c];if(typeof d=="number"){if(!l&&!ol(o)&&!ol(d))return!1;if(l&&ol(d))continue;l=!1,o=d|o&1;continue}if(!l)if(o&4){if(o=2|o&1,d!==""&&!QZ(e,d,n)||d===""&&i.length===1){if(ol(o))return!1;l=!0}}else if(o&8){if(r===null||!YZ(e,r,d,n)){if(ol(o))return!1;l=!0}}else{let u=i[++c],h=XZ(d,r,b3(e),n);if(h===-1){if(ol(o))return!1;l=!0;continue}if(u!==""){let g;if(h>s?g="":g=r[h+1].toLowerCase(),o&2&&u!==g){if(ol(o))return!1;l=!0}}}}return ol(o)||l}function ol(e){return(e&1)===0}function XZ(e,i,n,o){if(i===null)return-1;let r=0;if(o||!n){let s=!1;for(;r<i.length;){let l=i[r];if(l===e)return r;if(l===3||l===6)s=!0;else if(l===1||l===2){let c=i[++r];for(;typeof c=="string";)c=i[++r];continue}else{if(l===4)break;if(l===0){r+=4;continue}}r+=s?1:2}return-1}else return tX(i,e)}function sV(e,i,n=!1){for(let o=0;o<i.length;o++)if(ZZ(e,i[o],n))return!0;return!1}function JZ(e){let i=e.attrs;if(i!=null){let n=i.indexOf(5);if(!(n&1))return i[n+1]}return null}function eX(e){for(let i=0;i<e.length;i++){let n=e[i];if(oV(n))return i}return e.length}function tX(e,i){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let o=e[n];if(typeof o=="number")return-1;if(o===i)return n;n++}return-1}function iX(e,i){e:for(let n=0;n<i.length;n++){let o=i[n];if(e.length===o.length){for(let r=0;r<e.length;r++)if(e[r]!==o[r])continue e;return!0}}return!1}function cB(e,i){return e?":not("+i.trim()+")":i}function nX(e){let i=e[0],n=1,o=2,r="",s=!1;for(;n<e.length;){let l=e[n];if(typeof l=="string")if(o&2){let c=e[++n];r+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else o&8?r+="."+l:o&4&&(r+=" "+l);else r!==""&&!ol(l)&&(i+=cB(s,r),r=""),o=l,s=s||!ol(o);n++}return r!==""&&(i+=cB(s,r)),i}function oX(e){return e.map(nX).join(",")}function rX(e){let i=[],n=[],o=1,r=2;for(;o<e.length;){let s=e[o];if(typeof s=="string")r===2?s!==""&&i.push(s,e[++o]):r===8&&n.push(s);else{if(!ol(r))break;r=s}o++}return{attrs:i,classes:n}}function $i(e){return yC(()=>{let i=uV(e),n=At(We({},i),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===nV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Hl.Emulated,styles:e.styles||Kr,_:null,schemas:e.schemas||null,tView:null,id:""});hV(n);let o=e.dependencies;return n.directiveDefs=uB(o,!1),n.pipeDefs=uB(o,!0),n.id=lX(n),n})}function sX(e){return hp(e)||aV(e)}function aX(e){return e!==null}function $o(e){return yC(()=>({type:e.type,bootstrap:e.bootstrap||Kr,declarations:e.declarations||Kr,imports:e.imports||Kr,exports:e.exports||Kr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function dB(e,i){if(e==null)return Em;let n={};for(let o in e)if(e.hasOwnProperty(o)){let r=e[o],s,l,c=km.None;Array.isArray(r)?(c=r[0],s=r[1],l=r[2]??s):(s=r,l=r),i?(n[s]=c!==km.None?[o,c]:o,i[s]=l):n[s]=o}return n}function No(e){return yC(()=>{let i=uV(e);return hV(i),i})}function y3(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function hp(e){return e[MZ]||null}function aV(e){return e[kZ]||null}function lV(e){return e[IZ]||null}function cV(e){let i=hp(e)||aV(e)||lV(e);return i!==null?i.standalone:!1}function dV(e,i){let n=e[RZ]||null;if(!n&&i===!0)throw new Error(`Type ${_r(e)} does not have '\u0275mod' property.`);return n}function uV(e){let i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Em,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Kr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dB(e.inputs,i),outputs:dB(e.outputs),debugInfo:null}}function hV(e){e.features?.forEach(i=>i(e))}function uB(e,i){if(!e)return null;let n=i?lV:sX;return()=>(typeof e=="function"?e():e).map(o=>n(o)).filter(aX)}function lX(e){let i=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)i=Math.imul(31,i)+r.charCodeAt(0)<<0;return i+=2147483648,"c"+i}function Hu(e){return{\u0275providers:e}}function cX(...e){return{\u0275providers:gV(!0,e),\u0275fromNgModule:!0}}function gV(e,...i){let n=[],o=new Set,r,s=l=>{n.push(l)};return C3(i,l=>{let c=l;bI(c,s,[],o)&&(r||=[],r.push(c))}),r!==void 0&&pV(r,s),n}function pV(e,i){for(let n=0;n<e.length;n++){let{ngModule:o,providers:r}=e[n];S3(r,s=>{i(s,o)})}}function bI(e,i,n,o){if(e=xr(e),!e)return!1;let r=null,s=oB(e),l=!s&&hp(e);if(!s&&!l){let d=e.ngModule;if(s=oB(d),s)r=d;else return!1}else{if(l&&!l.standalone)return!1;r=e}let c=o.has(r);if(l){if(c)return!1;if(o.add(r),l.dependencies){let d=typeof l.dependencies=="function"?l.dependencies():l.dependencies;for(let u of d)bI(u,i,n,o)}}else if(s){if(s.imports!=null&&!c){o.add(r);let u;try{C3(s.imports,h=>{bI(h,i,n,o)&&(u||=[],u.push(h))})}finally{}u!==void 0&&pV(u,i)}if(!c){let u=up(r)||(()=>new r);i({provide:r,useFactory:u,deps:Kr},r),i({provide:iV,useValue:r,multi:!0},r),i({provide:Mm,useValue:()=>Mt(r),multi:!0},r)}let d=s.providers;if(d!=null&&!c){let u=e;S3(d,h=>{i(h,u)})}}else return!1;return r!==e&&e.providers!==void 0}function S3(e,i){for(let n of e)QB(n)&&(n=n.\u0275providers),Array.isArray(n)?S3(n,i):i(n)}var dX=yn({provide:String,useValue:yn});function fV(e){return e!==null&&typeof e=="object"&&dX in e}function uX(e){return!!(e&&e.useExisting)}function hX(e){return!!(e&&e.useFactory)}function Im(e){return typeof e=="function"}function gX(e){return!!e.useClass}var Fx=new Lt(""),tx={},pX={},iI;function x3(){return iI===void 0&&(iI=new dx),iI}var Yr=class{},gC=class extends Yr{get destroyed(){return this._destroyed}constructor(i,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,SI(i,l=>this.processProvider(l)),this.records.set(tV,ym(void 0,this)),r.has("environment")&&this.records.set(Yr,ym(void 0,this));let s=this.records.get(Fx);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(iV,Kr,Di.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let i=on(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),on(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();let n=Uh(this),o=qr(void 0),r;try{return i()}finally{Uh(n),qr(o)}}get(i,n=uC,o=Di.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(sB))return i[sB](this);o=Ax(o);let r,s=Uh(this),l=qr(void 0);try{if(!(o&Di.SkipSelf)){let d=this.records.get(i);if(d===void 0){let u=wX(i)&&Rx(i);u&&this.injectableDefInScope(u)?d=ym(yI(i),tx):d=null,this.records.set(i,d)}if(d!=null)return this.hydrate(i,d)}let c=o&Di.Self?x3():this.parent;return n=o&Di.Optional&&n===uC?null:n,c.get(i,n)}catch(c){if(c.name==="NullInjectorError"){if((c[lx]=c[lx]||[]).unshift(_r(i)),s)throw c;return VZ(c,i,"R3InjectorError",this.source)}else throw c}finally{qr(l),Uh(s)}}resolveInjectorInitializers(){let i=on(null),n=Uh(this),o=qr(void 0),r;try{let s=this.get(Mm,Kr,Di.Self);for(let l of s)l()}finally{Uh(n),qr(o),on(i)}}toString(){let i=[],n=this.records;for(let o of n.keys())i.push(_r(o));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Kt(205,!1)}processProvider(i){i=xr(i);let n=Im(i)?i:xr(i&&i.provide),o=mX(i);if(!Im(i)&&i.multi===!0){let r=this.records.get(n);r||(r=ym(void 0,tx,!0),r.factory=()=>CI(r.multi),this.records.set(n,r)),n=i,r.multi.push(i)}this.records.set(n,o)}hydrate(i,n){let o=on(null);try{return n.value===tx&&(n.value=pX,n.value=n.factory()),typeof n.value=="object"&&n.value&&CX(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{on(o)}}injectableDefInScope(i){if(!i.providedIn)return!1;let n=xr(i.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(i){let n=this._onDestroyHooks.indexOf(i);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yI(e){let i=Rx(e),n=i!==null?i.factory:up(e);if(n!==null)return n;if(e instanceof Lt)throw new Kt(204,!1);if(e instanceof Function)return fX(e);throw new Kt(204,!1)}function fX(e){if(e.length>0)throw new Kt(204,!1);let n=DZ(e);return n!==null?()=>n.factory(e):()=>new e}function mX(e){if(fV(e))return ym(void 0,e.useValue);{let i=mV(e);return ym(i,tx)}}function mV(e,i,n){let o;if(Im(e)){let r=xr(e);return up(r)||yI(r)}else if(fV(e))o=()=>xr(e.useValue);else if(hX(e))o=()=>e.useFactory(...CI(e.deps||[]));else if(uX(e))o=()=>Mt(xr(e.useExisting));else{let r=xr(e&&(e.useClass||e.provide));if(vX(e))o=()=>new r(...CI(e.deps));else return up(r)||yI(r)}return o}function ym(e,i,n=!1){return{factory:e,value:i,multi:n?[]:void 0}}function vX(e){return!!e.deps}function CX(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function wX(e){return typeof e=="function"||typeof e=="object"&&e instanceof Lt}function SI(e,i){for(let n of e)Array.isArray(n)?SI(n,i):n&&QB(n)?SI(n.\u0275providers,i):i(n)}function ll(e,i){e instanceof gC&&e.assertNotDestroyed();let n,o=Uh(e),r=qr(void 0);try{return i()}finally{Uh(o),qr(r)}}function bX(){return ZB()!==void 0||OZ()!=null}function yX(e){return typeof e=="function"}var Gu=0,yi=1,gi=2,ur=3,sl=4,Zr=5,pC=6,ux=7,al=8,Rm=9,Gl=10,io=11,fC=12,hB=13,Nm=14,Ps=15,gp=16,Sm=17,Lu=18,Px=19,vV=20,$h=21,nI=22,Fs=23,Qr=25,CV=1;var pp=7,hx=8,Am=9,hs=10,gx=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(gx||{});function qh(e){return Array.isArray(e)&&typeof e[CV]=="object"}function ju(e){return Array.isArray(e)&&e[CV]===!0}function _3(e){return(e.flags&4)!==0}function Lx(e){return e.componentOffset>-1}function Nx(e){return(e.flags&1)===1}function Kh(e){return!!e.template}function xI(e){return(e[gi]&512)!==0}var _I=class{constructor(i,n,o){this.previousValue=i,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function wV(e,i,n,o){i!==null?i.applyValueToInputSignal(i,o):e[n]=o}function cl(){return bV}function bV(e){return e.type.prototype.ngOnChanges&&(e.setInput=xX),SX}cl.ngInherit=!0;function SX(){let e=SV(this),i=e?.current;if(i){let n=e.previous;if(n===Em)e.previous=i;else for(let o in i)n[o]=i[o];e.current=null,this.ngOnChanges(i)}}function xX(e,i,n,o,r){let s=this.declaredInputs[o],l=SV(e)||_X(e,{previous:Em,current:null}),c=l.current||(l.current={}),d=l.previous,u=d[s];c[s]=new _I(u&&u.currentValue,n,d===Em),wV(e,i,r,n)}var yV="__ngSimpleChanges__";function SV(e){return e[yV]||null}function _X(e,i){return e[yV]=i}var gB=null;var Bl=function(e,i,n){gB?.(e,i,n)},DX="svg",EX="math";function jl(e){for(;Array.isArray(e);)e=e[Gu];return e}function xV(e,i){return jl(i[e])}function Ls(e,i){return jl(i[e.index])}function _V(e,i){return e.data[i]}function DV(e,i){return e[i]}function Zh(e,i){let n=i[e];return qh(n)?n:n[Gu]}function MX(e){return(e[gi]&4)===4}function D3(e){return(e[gi]&128)===128}function kX(e){return ju(e[ur])}function Tm(e,i){return i==null?null:e[i]}function EV(e){e[Sm]=0}function MV(e){e[gi]&1024||(e[gi]|=1024,D3(e)&&Ox(e))}function IX(e,i){for(;e>0;)i=i[Nm],e--;return i}function mC(e){return!!(e[gi]&9216||e[Fs]?.dirty)}function DI(e){e[Gl].changeDetectionScheduler?.notify(7),e[gi]&64&&(e[gi]|=1024),mC(e)&&Ox(e)}function Ox(e){e[Gl].changeDetectionScheduler?.notify(0);let i=fp(e);for(;i!==null&&!(i[gi]&8192||(i[gi]|=8192,!D3(i)));)i=fp(i)}function kV(e,i){if((e[gi]&256)===256)throw new Kt(911,!1);e[$h]===null&&(e[$h]=[]),e[$h].push(i)}function RX(e,i){if(e[$h]===null)return;let n=e[$h].indexOf(i);n!==-1&&e[$h].splice(n,1)}function fp(e){let i=e[ur];return ju(i)?i[ur]:i}var _i={lFrame:zV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var IV=!1;function AX(){return _i.lFrame.elementDepthCount}function TX(){_i.lFrame.elementDepthCount++}function FX(){_i.lFrame.elementDepthCount--}function RV(){return _i.bindingsEnabled}function AV(){return _i.skipHydrationRootTNode!==null}function PX(e){return _i.skipHydrationRootTNode===e}function LX(){_i.skipHydrationRootTNode=null}function Fi(){return _i.lFrame.lView}function go(){return _i.lFrame.tView}function ri(e){return _i.lFrame.contextLView=e,e[al]}function si(e){return _i.lFrame.contextLView=null,e}function qo(){let e=TV();for(;e!==null&&e.type===64;)e=e.parent;return e}function TV(){return _i.lFrame.currentTNode}function NX(){let e=_i.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}function yp(e,i){let n=_i.lFrame;n.currentTNode=e,n.isParent=i}function E3(){return _i.lFrame.isParent}function M3(){_i.lFrame.isParent=!1}function OX(){return _i.lFrame.contextLView}function FV(){return IV}function pB(e){IV=e}function PV(){let e=_i.lFrame,i=e.bindingRootIndex;return i===-1&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function zX(){return _i.lFrame.bindingIndex}function BX(e){return _i.lFrame.bindingIndex=e}function zx(){return _i.lFrame.bindingIndex++}function k3(e){let i=_i.lFrame,n=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,n}function VX(){return _i.lFrame.inI18n}function HX(e,i){let n=_i.lFrame;n.bindingIndex=n.bindingRootIndex=e,EI(i)}function GX(){return _i.lFrame.currentDirectiveIndex}function EI(e){_i.lFrame.currentDirectiveIndex=e}function jX(e){let i=_i.lFrame.currentDirectiveIndex;return i===-1?null:e[i]}function LV(){return _i.lFrame.currentQueryIndex}function I3(e){_i.lFrame.currentQueryIndex=e}function WX(e){let i=e[yi];return i.type===2?i.declTNode:i.type===1?e[Zr]:null}function NV(e,i,n){if(n&Di.SkipSelf){let r=i,s=e;for(;r=r.parent,r===null&&!(n&Di.Host);)if(r=WX(s),r===null||(s=s[Nm],r.type&10))break;if(r===null)return!1;i=r,e=s}let o=_i.lFrame=OV();return o.currentTNode=i,o.lView=e,!0}function R3(e){let i=OV(),n=e[yi];_i.lFrame=i,i.currentTNode=n.firstChild,i.lView=e,i.tView=n,i.contextLView=e,i.bindingIndex=n.bindingStartIndex,i.inI18n=!1}function OV(){let e=_i.lFrame,i=e===null?null:e.child;return i===null?zV(e):i}function zV(e){let i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=i),i}function BV(){let e=_i.lFrame;return _i.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var VV=BV;function A3(){let e=BV();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function UX(e){return(_i.lFrame.contextLView=IX(e,_i.lFrame.contextLView))[al]}function Xh(){return _i.lFrame.selectedIndex}function mp(e){_i.lFrame.selectedIndex=e}function T3(){let e=_i.lFrame;return _V(e.tView,e.selectedIndex)}function $X(){return _i.lFrame.currentNamespace}var HV=!0;function Bx(){return HV}function Vx(e){HV=e}function qX(e,i,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:s}=i.type.prototype;if(o){let l=bV(i);(n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l)}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function Hx(e,i){for(let n=i.directiveStart,o=i.directiveEnd;n<o;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:u,ngOnDestroy:h}=s;l&&(e.contentHooks??=[]).push(-n,l),c&&((e.contentHooks??=[]).push(n,c),(e.contentCheckHooks??=[]).push(n,c)),d&&(e.viewHooks??=[]).push(-n,d),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),h!=null&&(e.destroyHooks??=[]).push(n,h)}}function ix(e,i,n){GV(e,i,3,n)}function nx(e,i,n,o){(e[gi]&3)===n&&GV(e,i,n,o)}function oI(e,i){let n=e[gi];(n&3)===i&&(n&=16383,n+=1,e[gi]=n)}function GV(e,i,n,o){let r=o!==void 0?e[Sm]&65535:0,s=o??-1,l=i.length-1,c=0;for(let d=r;d<l;d++)if(typeof i[d+1]=="number"){if(c=i[d],o!=null&&c>=o)break}else i[d]<0&&(e[Sm]+=65536),(c<s||s==-1)&&(KX(e,n,i,d),e[Sm]=(e[Sm]&4294901760)+d+2),d++}function fB(e,i){Bl(4,e,i);let n=on(null);try{i.call(e)}finally{on(n),Bl(5,e,i)}}function KX(e,i,n,o){let r=n[o]<0,s=n[o+1],l=r?-n[o]:n[o],c=e[l];r?e[gi]>>14<e[Sm]>>16&&(e[gi]&3)===i&&(e[gi]+=16384,fB(c,s)):fB(c,s)}var Dm=-1,vp=class{constructor(i,n,o){this.factory=i,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}};function YX(e){return e instanceof vp}function QX(e){return(e.flags&8)!==0}function ZX(e){return(e.flags&16)!==0}var rI={},MI=class{constructor(i,n){this.injector=i,this.parentInjector=n}get(i,n,o){o=Ax(o);let r=this.injector.get(i,rI,o);return r!==rI||n===rI?r:this.parentInjector.get(i,n,o)}};function jV(e){return e!==Dm}function px(e){return e&32767}function XX(e){return e>>16}function fx(e,i){let n=XX(e),o=i;for(;n>0;)o=o[Nm],n--;return o}var kI=!0;function mx(e){let i=kI;return kI=e,i}var JX=256,WV=JX-1,UV=5,eJ=0,Vl={};function tJ(e,i,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(dC)&&(o=n[dC]),o==null&&(o=n[dC]=eJ++);let r=o&WV,s=1<<r;i.data[e+(r>>UV)]|=s}function vx(e,i){let n=$V(e,i);if(n!==-1)return n;let o=i[yi];o.firstCreatePass&&(e.injectorIndex=i.length,sI(o.data,e),sI(i,null),sI(o.blueprint,null));let r=F3(e,i),s=e.injectorIndex;if(jV(r)){let l=px(r),c=fx(r,i),d=c[yi].data;for(let u=0;u<8;u++)i[s+u]=c[l+u]|d[l+u]}return i[s+8]=r,s}function sI(e,i){e.push(0,0,0,0,0,0,0,0,i)}function $V(e,i){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||i[e.injectorIndex+8]===null?-1:e.injectorIndex}function F3(e,i){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,o=null,r=i;for(;r!==null;){if(o=ZV(r),o===null)return Dm;if(n++,r=r[Nm],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return Dm}function II(e,i,n){tJ(e,i,n)}function iJ(e,i){if(i==="class")return e.classes;if(i==="style")return e.styles;let n=e.attrs;if(n){let o=n.length,r=0;for(;r<o;){let s=n[r];if(oV(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<o&&typeof n[r]=="string";)r++;else{if(s===i)return n[r+1];r=r+2}}}return null}function qV(e,i,n){if(n&Di.Optional||e!==void 0)return e;m3(i,"NodeInjector")}function KV(e,i,n,o){if(n&Di.Optional&&o===void 0&&(o=null),!(n&(Di.Self|Di.Host))){let r=e[Rm],s=qr(void 0);try{return r?r.get(i,o,n&Di.Optional):XB(i,o,n&Di.Optional)}finally{qr(s)}}return qV(o,i,n)}function YV(e,i,n,o=Di.Default,r){if(e!==null){if(i[gi]&2048&&!(o&Di.Self)){let l=sJ(e,i,n,o,Vl);if(l!==Vl)return l}let s=QV(e,i,n,o,Vl);if(s!==Vl)return s}return KV(i,n,o,r)}function QV(e,i,n,o,r){let s=oJ(n);if(typeof s=="function"){if(!NV(i,e,o))return o&Di.Host?qV(r,n,o):KV(i,n,o,r);try{let l;if(l=s(o),l==null&&!(o&Di.Optional))m3(n);else return l}finally{VV()}}else if(typeof s=="number"){let l=null,c=$V(e,i),d=Dm,u=o&Di.Host?i[Ps][Zr]:null;for((c===-1||o&Di.SkipSelf)&&(d=c===-1?F3(e,i):i[c+8],d===Dm||!vB(o,!1)?c=-1:(l=i[yi],c=px(d),i=fx(d,i)));c!==-1;){let h=i[yi];if(mB(s,c,h.data)){let g=nJ(c,i,n,l,o,u);if(g!==Vl)return g}d=i[c+8],d!==Dm&&vB(o,i[yi].data[c+8]===u)&&mB(s,c,i)?(l=h,c=px(d),i=fx(d,i)):c=-1}}return r}function nJ(e,i,n,o,r,s){let l=i[yi],c=l.data[e+8],d=o==null?Lx(c)&&kI:o!=l&&(c.type&3)!==0,u=r&Di.Host&&s===c,h=ox(c,l,n,d,u);return h!==null?Cp(i,l,h,c):Vl}function ox(e,i,n,o,r){let s=e.providerIndexes,l=i.data,c=s&1048575,d=e.directiveStart,u=e.directiveEnd,h=s>>20,g=o?c:c+h,p=r?c+h:u;for(let f=g;f<p;f++){let y=l[f];if(f<d&&n===y||f>=d&&y.type===n)return f}if(r){let f=l[d];if(f&&Kh(f)&&f.type===n)return d}return null}function Cp(e,i,n,o){let r=e[n],s=i.data;if(YX(r)){let l=r;l.resolving&&TZ(AZ(s[n]));let c=mx(l.canSeeViewProviders);l.resolving=!0;let d,u=l.injectImpl?qr(l.injectImpl):null,h=NV(e,o,Di.Default);try{r=e[n]=l.factory(void 0,s,e,o),i.firstCreatePass&&n>=o.directiveStart&&qX(n,s[n],i)}finally{u!==null&&qr(u),mx(c),l.resolving=!1,VV()}}return r}function oJ(e){if(typeof e=="string")return e.charCodeAt(0)||0;let i=e.hasOwnProperty(dC)?e[dC]:void 0;return typeof i=="number"?i>=0?i&WV:rJ:i}function mB(e,i,n){let o=1<<e;return!!(n[i+(e>>UV)]&o)}function vB(e,i){return!(e&Di.Self)&&!(e&Di.Host&&i)}var lp=class{constructor(i,n){this._tNode=i,this._lView=n}get(i,n,o){return YV(this._tNode,this._lView,i,Ax(o),n)}};function rJ(){return new lp(qo(),Fi())}function Ul(e){return yC(()=>{let i=e.prototype.constructor,n=i[ax]||RI(i),o=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==o;){let s=r[ax]||RI(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function RI(e){return $B(e)?()=>{let i=RI(xr(e));return i&&i()}:up(e)}function sJ(e,i,n,o,r){let s=e,l=i;for(;s!==null&&l!==null&&l[gi]&2048&&!(l[gi]&512);){let c=QV(s,l,n,o|Di.Self,Vl);if(c!==Vl)return c;let d=s.parent;if(!d){let u=l[vV];if(u){let h=u.get(n,Vl,o);if(h!==Vl)return h}d=ZV(l),l=l[Nm]}s=d}return r}function ZV(e){let i=e[yi],n=i.type;return n===2?i.declTNode:n===1?e[Zr]:null}function P3(e){return iJ(qo(),e)}function CB(e,i=null,n=null,o){let r=XV(e,i,n,o);return r.resolveInjectorInitializers(),r}function XV(e,i=null,n=null,o,r=new Set){let s=[n||Kr,cX(e)];return o=o||(typeof e=="object"?void 0:_r(e)),new gC(s,i||x3(),o||null,r)}var ap=class ap{static create(i,n){if(Array.isArray(i))return CB({name:""},n,i,"");{let o=i.name??"";return CB({name:o},i.parent,i.providers,o)}}};ap.THROW_IF_NOT_FOUND=uC,ap.NULL=new dx,ap.\u0275prov=xt({token:ap,providedIn:"any",factory:()=>Mt(tV)}),ap.__NG_ELEMENT_ID__=-1;var Wl=ap;var aJ=new Lt("");aJ.__NG_ELEMENT_ID__=e=>{let i=qo();if(i===null)throw new Kt(204,!1);if(i.type&2)return i.value;if(e&Di.Optional)return null;throw new Kt(204,!1)};var lJ="ngOriginalError";function aI(e){return e[lJ]}var Nu=class{constructor(){this._console=console}handleError(i){let n=this._findOriginalError(i);this._console.error("ERROR",i),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(i){let n=i&&aI(i);for(;n&&aI(n);)n=aI(n);return n||null}},JV=new Lt("",{providedIn:"root",factory:()=>wt(Nu).handleError.bind(void 0)}),e7=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=cJ,i.__NG_ENV_ID__=o=>o;let e=i;return e})(),AI=class extends e7{constructor(i){super(),this._lView=i}onDestroy(i){return kV(this._lView,i),()=>RX(this._lView,i)}};function cJ(){return new AI(Fi())}function dJ(){return Om(qo(),Fi())}function Om(e,i){return new Gn(Ls(e,i))}var Gn=(()=>{let i=class i{constructor(o){this.nativeElement=o}};i.__NG_ELEMENT_ID__=dJ;let e=i;return e})();function uJ(e){return e instanceof Gn?e.nativeElement:e}var Jh=(()=>{let i=class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wo(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};i.\u0275prov=xt({token:i,providedIn:"root",factory:()=>new i});let e=i;return e})();var TI=class extends Wi{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,bX()&&(this.destroyRef=wt(e7,{optional:!0})??void 0,this.pendingTasks=wt(Jh,{optional:!0})??void 0)}emit(i){let n=on(null);try{super.next(i)}finally{on(n)}}subscribe(i,n,o){let r=i,s=n||(()=>null),l=o;if(i&&typeof i=="object"){let d=i;r=d.next?.bind(d),s=d.error?.bind(d),l=d.complete?.bind(d)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),l&&(l=this.wrapInTimeout(l)));let c=super.subscribe({next:r,error:s,complete:l});return i instanceof Bn&&i.add(c),c}wrapInTimeout(i){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{i(n),o!==void 0&&this.pendingTasks?.remove(o)})}}},Je=TI;function hJ(){return this._results[Symbol.iterator]()}var FI=class e{get changes(){return this._changes??=new Je}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hJ)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,n){return this._results.reduce(i,n)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,n){this.dirty=!1;let o=jZ(i);(this._changesDetected=!GZ(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function t7(e){return(e.flags&128)===128}var i7=new Map,gJ=0;function pJ(){return gJ++}function fJ(e){i7.set(e[Px],e)}function mJ(e){i7.delete(e[Px])}var wB="__ngContext__";function Yh(e,i){qh(i)?(e[wB]=i[Px],fJ(i)):e[wB]=i}function n7(e){return r7(e[fC])}function o7(e){return r7(e[sl])}function r7(e){for(;e!==null&&!ju(e);)e=e[sl];return e}var PI;function s7(e){PI=e}function a7(){if(PI!==void 0)return PI;if(typeof document<"u")return document;throw new Kt(210,!1)}var L3=new Lt("",{providedIn:"root",factory:()=>vJ}),vJ="ng",N3=new Lt(""),dl=new Lt("",{providedIn:"platform",factory:()=>"unknown"});var O3=new Lt("",{providedIn:"root",factory:()=>a7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var CJ="h",wJ="b";var bJ=()=>null;function z3(e,i,n=!1){return bJ(e,i,n)}var l7=!1,yJ=new Lt("",{providedIn:"root",factory:()=>l7});var Q1;function SJ(){if(Q1===void 0&&(Q1=null,cp.trustedTypes))try{Q1=cp.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Q1}function Gx(e){return SJ()?.createHTML(e)||e}var Z1;function c7(){if(Z1===void 0&&(Z1=null,cp.trustedTypes))try{Z1=cp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Z1}function bB(e){return c7()?.createHTML(e)||e}function yB(e){return c7()?.createScriptURL(e)||e}var Cx=class{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WB})`}};function Sp(e){return e instanceof Cx?e.changingThisBreaksApplicationSecurity:e}function jx(e,i){let n=xJ(e);if(n!=null&&n!==i){if(n==="ResourceURL"&&i==="URL")return!0;throw new Error(`Required a safe ${i}, got a ${n} (see ${WB})`)}return n===i}function xJ(e){return e instanceof Cx&&e.getTypeName()||null}function _J(e){let i=new NI(e);return DJ()?new LI(i):i}var LI=class{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{let n=new window.DOMParser().parseFromString(Gx(i),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(i):(n.removeChild(n.firstChild),n)}catch{return null}}},NI=class{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){let n=this.inertDocument.createElement("template");return n.innerHTML=Gx(i),n}};function DJ(){try{return!!new window.DOMParser().parseFromString(Gx(""),"text/html")}catch{return!1}}var EJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B3(e){return e=String(e),e.match(EJ)?e:"unsafe:"+e}function Wu(e){let i={};for(let n of e.split(","))i[n]=!0;return i}function xC(...e){let i={};for(let n of e)for(let o in n)n.hasOwnProperty(o)&&(i[o]=!0);return i}var d7=Wu("area,br,col,hr,img,wbr"),u7=Wu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h7=Wu("rp,rt"),MJ=xC(h7,u7),kJ=xC(u7,Wu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),IJ=xC(h7,Wu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),SB=xC(d7,kJ,IJ,MJ),g7=Wu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),RJ=Wu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),AJ=Wu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),TJ=xC(g7,RJ,AJ),FJ=Wu("script,style,template"),OI=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let n=i.firstChild,o=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild){r.push(n),n=NJ(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=LJ(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(i){let n=xB(i).toLowerCase();if(!SB.hasOwnProperty(n))return this.sanitizedSomething=!0,!FJ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let o=i.attributes;for(let r=0;r<o.length;r++){let s=o.item(r),l=s.name,c=l.toLowerCase();if(!TJ.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let d=s.value;g7[c]&&(d=B3(d)),this.buf.push(" ",l,'="',_B(d),'"')}return this.buf.push(">"),!0}endElement(i){let n=xB(i).toLowerCase();SB.hasOwnProperty(n)&&!d7.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(i){this.buf.push(_B(i))}};function PJ(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function LJ(e){let i=e.nextSibling;if(i&&e!==i.previousSibling)throw p7(i);return i}function NJ(e){let i=e.firstChild;if(i&&PJ(e,i))throw p7(i);return i}function xB(e){let i=e.nodeName;return typeof i=="string"?i:"FORM"}function p7(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var OJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zJ=/([^\#-~ |!])/g;function _B(e){return e.replace(/&/g,"&amp;").replace(OJ,function(i){let n=i.charCodeAt(0),o=i.charCodeAt(1);return"&#"+((n-55296)*1024+(o-56320)+65536)+";"}).replace(zJ,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var X1;function f7(e,i){let n=null;try{X1=X1||_J(e);let o=i?String(i):"";n=X1.getInertBodyElement(o);let r=5,s=o;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,o=s,s=n.innerHTML,n=X1.getInertBodyElement(o)}while(o!==s);let c=new OI().sanitizeChildren(DB(n)||n);return Gx(c)}finally{if(n){let o=DB(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function DB(e){return"content"in e&&BJ(e)?e.content:null}function BJ(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var _C=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_C||{});function zm(e){let i=V3();return i?bB(i.sanitize(_C.HTML,e)||""):jx(e,"HTML")?bB(Sp(e)):f7(a7(),dp(e))}function Fn(e){let i=V3();return i?i.sanitize(_C.URL,e)||"":jx(e,"URL")?Sp(e):B3(dp(e))}function VJ(e){let i=V3();if(i)return yB(i.sanitize(_C.RESOURCE_URL,e)||"");if(jx(e,"ResourceURL"))return yB(Sp(e));throw new Kt(904,!1)}function HJ(e,i){return i==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||i==="href"&&(e==="base"||e==="link")?VJ:Fn}function m7(e,i,n){return HJ(i,n)(e)}function V3(){let e=Fi();return e&&e[Gl].sanitizer}var GJ=/^>|^->|<!--|-->|--!>|<!-$/g,jJ=/(<|>)/g,WJ="\u200B$1\u200B";function UJ(e){return e.replace(GJ,i=>i.replace(jJ,WJ))}function v7(e){return e instanceof Function?e():e}var Ou=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ou||{}),$J;function H3(e,i){return $J(e,i)}function xm(e,i,n,o,r){if(o!=null){let s,l=!1;ju(o)?s=o:qh(o)&&(l=!0,o=o[Gu]);let c=jl(o);e===0&&n!==null?r==null?x7(i,n,c):wx(i,n,c,r||null,!0):e===1&&n!==null?wx(i,n,c,r||null,!0):e===2?aee(i,c,l):e===3&&i.destroyNode(c),s!=null&&cee(i,e,s,n,r)}}function qJ(e,i){return e.createText(i)}function KJ(e,i,n){e.setValue(i,n)}function YJ(e,i){return e.createComment(UJ(i))}function C7(e,i,n){return e.createElement(i,n)}function QJ(e,i){w7(e,i),i[Gu]=null,i[Zr]=null}function ZJ(e,i,n,o,r,s){o[Gu]=r,o[Zr]=i,Ux(e,o,n,1,r,s)}function w7(e,i){i[Gl].changeDetectionScheduler?.notify(8),Ux(e,i,i[io],2,null,null)}function XJ(e){let i=e[fC];if(!i)return lI(e[yi],e);for(;i;){let n=null;if(qh(i))n=i[fC];else{let o=i[hs];o&&(n=o)}if(!n){for(;i&&!i[sl]&&i!==e;)qh(i)&&lI(i[yi],i),i=i[ur];i===null&&(i=e),qh(i)&&lI(i[yi],i),n=i&&i[sl]}i=n}}function JJ(e,i,n,o){let r=hs+o,s=n.length;o>0&&(n[r-1][sl]=i),o<s-hs?(i[sl]=n[r],eV(n,hs+o,i)):(n.push(i),i[sl]=null),i[ur]=n;let l=i[gp];l!==null&&n!==l&&b7(l,i);let c=i[Lu];c!==null&&c.insertView(e),DI(i),i[gi]|=128}function b7(e,i){let n=e[Am],o=i[ur];if(qh(o))e[gi]|=gx.HasTransplantedViews;else{let r=o[ur][Ps];i[Ps]!==r&&(e[gi]|=gx.HasTransplantedViews)}n===null?e[Am]=[i]:n.push(i)}function G3(e,i){let n=e[Am],o=n.indexOf(i);n.splice(o,1)}function zI(e,i){if(e.length<=hs)return;let n=hs+i,o=e[n];if(o){let r=o[gp];r!==null&&r!==e&&G3(r,o),i>0&&(e[n-1][sl]=o[sl]);let s=cx(e,hs+i);QJ(o[yi],o);let l=s[Lu];l!==null&&l.detachView(s[yi]),o[ur]=null,o[sl]=null,o[gi]&=-129}return o}function y7(e,i){if(!(i[gi]&256)){let n=i[io];n.destroyNode&&Ux(e,i,n,3,null,null),XJ(i)}}function lI(e,i){if(i[gi]&256)return;let n=on(null);try{i[gi]&=-129,i[gi]|=256,i[Fs]&&A2(i[Fs]),tee(e,i),eee(e,i),i[yi].type===1&&i[io].destroy();let o=i[gp];if(o!==null&&ju(i[ur])){o!==i[ur]&&G3(o,i);let r=i[Lu];r!==null&&r.detachView(e)}mJ(i)}finally{on(n)}}function eee(e,i){let n=e.cleanup,o=i[ux];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let l=n[s+3];l>=0?o[l]():o[-l].unsubscribe(),s+=2}else{let l=o[n[s+1]];n[s].call(l)}o!==null&&(i[ux]=null);let r=i[$h];if(r!==null){i[$h]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}}function tee(e,i){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=i[n[o]];if(!(r instanceof vp)){let s=n[o+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){let c=r[s[l]],d=s[l+1];Bl(4,c,d);try{d.call(c)}finally{Bl(5,c,d)}}else{Bl(4,r,s);try{s.call(r)}finally{Bl(5,r,s)}}}}}function S7(e,i,n){return iee(e,i.parent,n)}function iee(e,i,n){let o=i;for(;o!==null&&o.type&168;)i=o,o=i.parent;if(o===null)return n[Gu];{let{componentOffset:r}=o;if(r>-1){let{encapsulation:s}=e.data[o.directiveStart+r];if(s===Hl.None||s===Hl.Emulated)return null}return Ls(o,n)}}function wx(e,i,n,o,r){e.insertBefore(i,n,o,r)}function x7(e,i,n){e.appendChild(i,n)}function EB(e,i,n,o,r){o!==null?wx(e,i,n,o,r):x7(e,i,n)}function nee(e,i,n,o){e.removeChild(i,n,o)}function j3(e,i){return e.parentNode(i)}function oee(e,i){return e.nextSibling(i)}function _7(e,i,n){return see(e,i,n)}function ree(e,i,n){return e.type&40?Ls(e,n):null}var see=ree,MB;function Wx(e,i,n,o){let r=S7(e,o,i),s=i[io],l=o.parent||i[Zr],c=_7(l,o,i);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)EB(s,r,n[d],c,!1);else EB(s,r,n,c,!1);MB!==void 0&&MB(s,o,i,n,r)}function rx(e,i){if(i!==null){let n=i.type;if(n&3)return Ls(i,e);if(n&4)return BI(-1,e[i.index]);if(n&8){let o=i.child;if(o!==null)return rx(e,o);{let r=e[i.index];return ju(r)?BI(-1,r):jl(r)}}else{if(n&32)return H3(i,e)()||jl(e[i.index]);{let o=D7(e,i);if(o!==null){if(Array.isArray(o))return o[0];let r=fp(e[Ps]);return rx(r,o)}else return rx(e,i.next)}}}return null}function D7(e,i){if(i!==null){let o=e[Ps][Zr],r=i.projection;return o.projection[r]}return null}function BI(e,i){let n=hs+e+1;if(n<i.length){let o=i[n],r=o[yi].firstChild;if(r!==null)return rx(o,r)}return i[pp]}function aee(e,i,n){let o=j3(e,i);o&&nee(e,o,i,n)}function W3(e,i,n,o,r,s,l){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=o[n.index],d=n.type;if(l&&i===0&&(c&&Yh(jl(c),o),n.flags|=2),(n.flags&32)!==32)if(d&8)W3(e,i,n.child,o,r,s,!1),xm(i,e,r,c,s);else if(d&32){let u=H3(n,o),h;for(;h=u();)xm(i,e,r,h,s);xm(i,e,r,c,s)}else d&16?E7(e,i,o,n,r,s):xm(i,e,r,c,s);n=l?n.projectionNext:n.next}}function Ux(e,i,n,o,r,s){W3(n,o,e.firstChild,i,r,s,!1)}function lee(e,i,n){let o=i[io],r=S7(e,n,i),s=n.parent||i[Zr],l=_7(s,n,i);E7(o,0,i,n,r,l)}function E7(e,i,n,o,r,s){let l=n[Ps],d=l[Zr].projection[o.projection];if(Array.isArray(d))for(let u=0;u<d.length;u++){let h=d[u];xm(i,e,r,h,s)}else{let u=d,h=l[ur];t7(o)&&(u.flags|=128),W3(e,i,u,h,r,s,!0)}}function cee(e,i,n,o,r){let s=n[pp],l=jl(n);s!==l&&xm(i,e,o,s,r);for(let c=hs;c<n.length;c++){let d=n[c];Ux(d[yi],d,e,i,o,s)}}function dee(e,i,n,o,r){if(i)r?e.addClass(n,o):e.removeClass(n,o);else{let s=o.indexOf("-")===-1?void 0:Ou.DashCase;r==null?e.removeStyle(n,o,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ou.Important),e.setStyle(n,o,r,s))}}function uee(e,i,n){e.setAttribute(i,"style",n)}function M7(e,i,n){n===""?e.removeAttribute(i,"class"):e.setAttribute(i,"class",n)}function k7(e,i,n){let{mergedAttrs:o,classes:r,styles:s}=n;o!==null&&wI(e,i,o),r!==null&&M7(e,i,r),s!==null&&uee(e,i,s)}var Ns={};function tt(e=1){I7(go(),Fi(),Xh()+e,!1)}function I7(e,i,n,o){if(!o)if((i[gi]&3)===3){let s=e.preOrderCheckHooks;s!==null&&ix(i,s,n)}else{let s=e.preOrderHooks;s!==null&&nx(i,s,0,n)}mp(n)}function lt(e,i=Di.Default){let n=Fi();if(n===null)return Mt(e,i);let o=qo();return YV(o,n,xr(e),i)}function R7(e,i,n,o,r,s){let l=on(null);try{let c=null;r&km.SignalBased&&(c=i[o][M2]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),r&km.HasDecoratorInputTransform&&(s=e.inputTransforms[o].call(i,s)),e.setInput!==null?e.setInput(i,c,s,n,o):wV(i,c,o,s)}finally{on(l)}}function hee(e,i){let n=e.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)mp(~r);else{let s=r,l=n[++o],c=n[++o];HX(l,s);let d=i[s];c(2,d)}}}finally{mp(-1)}}function $x(e,i,n,o,r,s,l,c,d,u,h){let g=i.blueprint.slice();return g[Gu]=r,g[gi]=o|4|128|8|64,(u!==null||e&&e[gi]&2048)&&(g[gi]|=2048),EV(g),g[ur]=g[Nm]=e,g[al]=n,g[Gl]=l||e&&e[Gl],g[io]=c||e&&e[io],g[Rm]=d||e&&e[Rm]||null,g[Zr]=s,g[Px]=pJ(),g[pC]=h,g[vV]=u,g[Ps]=i.type==2?e[Ps]:g,g}function Bm(e,i,n,o,r){let s=e.data[i];if(s===null)s=gee(e,i,n,o,r),VX()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=o,s.attrs=r;let l=NX();s.injectorIndex=l===null?-1:l.injectorIndex}return yp(s,!0),s}function gee(e,i,n,o,r){let s=TV(),l=E3(),c=l?s:s&&s.parent,d=e.data[i]=wee(e,c,n,i,o,r);return e.firstChild===null&&(e.firstChild=d),s!==null&&(l?s.child==null&&d.parent!==null&&(s.child=d):s.next===null&&(s.next=d,d.prev=s)),d}function A7(e,i,n,o){if(n===0)return-1;let r=i.length;for(let s=0;s<n;s++)i.push(o),e.blueprint.push(o),e.data.push(null);return r}function T7(e,i,n,o,r){let s=Xh(),l=o&2;try{mp(-1),l&&i.length>Qr&&I7(e,i,Qr,!1),Bl(l?2:0,r),n(o,r)}finally{mp(s),Bl(l?3:1,r)}}function U3(e,i,n){if(_3(i)){let o=on(null);try{let r=i.directiveStart,s=i.directiveEnd;for(let l=r;l<s;l++){let c=e.data[l];if(c.contentQueries){let d=n[l];c.contentQueries(1,d,l)}}}finally{on(o)}}}function $3(e,i,n){RV()&&(Dee(e,i,n,Ls(n,i)),(n.flags&64)===64&&N7(e,i,n))}function q3(e,i,n=Ls){let o=i.localNames;if(o!==null){let r=i.index+1;for(let s=0;s<o.length;s+=2){let l=o[s+1],c=l===-1?n(i,e):e[l];e[r++]=c}}}function F7(e){let i=e.tView;return i===null||i.incompleteFirstPass?e.tView=K3(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function K3(e,i,n,o,r,s,l,c,d,u,h){let g=Qr+o,p=g+r,f=pee(g,p),y=typeof u=="function"?u():u;return f[yi]={type:e,blueprint:f,template:n,queries:null,viewQuery:c,declTNode:i,data:f.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof l=="function"?l():l,firstChild:null,schemas:d,consts:y,incompleteFirstPass:!1,ssrId:h}}function pee(e,i){let n=[];for(let o=0;o<i;o++)n.push(o<e?null:Ns);return n}function fee(e,i,n,o){let s=o.get(yJ,l7)||n===Hl.ShadowDom,l=e.selectRootElement(i,s);return mee(l),l}function mee(e){vee(e)}var vee=()=>null;function Cee(e,i,n,o){let r=B7(i);r.push(n),e.firstCreatePass&&V7(e).push(o,r.length-1)}function wee(e,i,n,o,r,s){let l=i?i.injectorIndex:-1,c=0;return AV()&&(c|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kB(e,i,n,o,r){for(let s in i){if(!i.hasOwnProperty(s))continue;let l=i[s];if(l===void 0)continue;o??={};let c,d=km.None;Array.isArray(l)?(c=l[0],d=l[1]):c=l;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}e===0?IB(o,n,u,c,d):IB(o,n,u,c)}return o}function IB(e,i,n,o,r){let s;e.hasOwnProperty(n)?(s=e[n]).push(i,o):s=e[n]=[i,o],r!==void 0&&s.push(r)}function bee(e,i,n){let o=i.directiveStart,r=i.directiveEnd,s=e.data,l=i.attrs,c=[],d=null,u=null;for(let h=o;h<r;h++){let g=s[h],p=n?n.get(g):null,f=p?p.inputs:null,y=p?p.outputs:null;d=kB(0,g.inputs,h,d,f),u=kB(1,g.outputs,h,u,y);let M=d!==null&&l!==null&&!b3(i)?Nee(d,h,l):null;c.push(M)}d!==null&&(d.hasOwnProperty("class")&&(i.flags|=8),d.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=c,i.inputs=d,i.outputs=u}function yee(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function P7(e,i,n,o,r,s,l,c){let d=Ls(i,n),u=i.inputs,h;!c&&u!=null&&(h=u[o])?(Q3(e,n,h,o,r),Lx(i)&&See(n,i.index)):i.type&3?(o=yee(o),r=l!=null?l(r,i.value||"",o):r,s.setProperty(d,o,r)):i.type&12}function See(e,i){let n=Zh(i,e);n[gi]&16||(n[gi]|=64)}function Y3(e,i,n,o){if(RV()){let r=o===null?null:{"":-1},s=Mee(e,n),l,c;s===null?l=c=null:[l,c]=s,l!==null&&L7(e,i,n,l,r,c),r&&kee(n,o,r)}n.mergedAttrs=hC(n.mergedAttrs,n.attrs)}function L7(e,i,n,o,r,s){for(let u=0;u<o.length;u++)II(vx(n,i),e,o[u].type);Ree(n,e.data.length,o.length);for(let u=0;u<o.length;u++){let h=o[u];h.providersResolver&&h.providersResolver(h)}let l=!1,c=!1,d=A7(e,i,o.length,null);for(let u=0;u<o.length;u++){let h=o[u];n.mergedAttrs=hC(n.mergedAttrs,h.hostAttrs),Aee(e,n,i,d,h),Iee(d,h,r),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}bee(e,n,s)}function xee(e,i,n,o,r){let s=r.hostBindings;if(s){let l=e.hostBindingOpCodes;l===null&&(l=e.hostBindingOpCodes=[]);let c=~i.index;_ee(l)!=c&&l.push(c),l.push(n,o,s)}}function _ee(e){let i=e.length;for(;i>0;){let n=e[--i];if(typeof n=="number"&&n<0)return n}return 0}function Dee(e,i,n,o){let r=n.directiveStart,s=n.directiveEnd;Lx(n)&&Tee(i,n,e.data[r+n.componentOffset]),e.firstCreatePass||vx(n,i),Yh(o,i);let l=n.initialInputs;for(let c=r;c<s;c++){let d=e.data[c],u=Cp(i,e,c,n);if(Yh(u,i),l!==null&&Lee(i,c-r,u,d,n,l),Kh(d)){let h=Zh(n.index,i);h[al]=Cp(i,e,c,n)}}}function N7(e,i,n){let o=n.directiveStart,r=n.directiveEnd,s=n.index,l=GX();try{mp(s);for(let c=o;c<r;c++){let d=e.data[c],u=i[c];EI(c),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&Eee(d,u)}}finally{mp(-1),EI(l)}}function Eee(e,i){e.hostBindings!==null&&e.hostBindings(1,i)}function Mee(e,i){let n=e.directiveRegistry,o=null,r=null;if(n)for(let s=0;s<n.length;s++){let l=n[s];if(sV(i,l.selectors,!1))if(o||(o=[]),Kh(l))if(l.findHostDirectiveDefs!==null){let c=[];r=r||new Map,l.findHostDirectiveDefs(l,c,r),o.unshift(...c,l);let d=c.length;VI(e,i,d)}else o.unshift(l),VI(e,i,0);else r=r||new Map,l.findHostDirectiveDefs?.(l,o,r),o.push(l)}return o===null?null:[o,r]}function VI(e,i,n){i.componentOffset=n,(e.components??=[]).push(i.index)}function kee(e,i,n){if(i){let o=e.localNames=[];for(let r=0;r<i.length;r+=2){let s=n[i[r+1]];if(s==null)throw new Kt(-301,!1);o.push(i[r],s)}}}function Iee(e,i,n){if(n){if(i.exportAs)for(let o=0;o<i.exportAs.length;o++)n[i.exportAs[o]]=e;Kh(i)&&(n[""]=e)}}function Ree(e,i,n){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+n,e.providerIndexes=i}function Aee(e,i,n,o,r){e.data[o]=r;let s=r.factory||(r.factory=up(r.type,!0)),l=new vp(s,Kh(r),lt);e.blueprint[o]=l,n[o]=l,xee(e,i,o,A7(e,n,r.hostVars,Ns),r)}function Tee(e,i,n){let o=Ls(i,e),r=F7(n),s=e[Gl].rendererFactory,l=16;n.signals?l=4096:n.onPush&&(l=64);let c=qx(e,$x(e,r,null,l,o,i,null,s.createRenderer(o,n),null,null,null));e[i.index]=c}function Fee(e,i,n,o,r,s){let l=Ls(e,i);Pee(i[io],l,s,e.value,n,o,r)}function Pee(e,i,n,o,r,s,l){if(s==null)e.removeAttribute(i,r,n);else{let c=l==null?dp(s):l(s,o||"",r);e.setAttribute(i,r,c,n)}}function Lee(e,i,n,o,r,s){let l=s[i];if(l!==null)for(let c=0;c<l.length;){let d=l[c++],u=l[c++],h=l[c++],g=l[c++];R7(o,n,d,u,h,g)}}function Nee(e,i,n){let o=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){o===null&&(o=[]);let l=e[s];for(let c=0;c<l.length;c+=3)if(l[c]===i){o.push(s,l[c+1],l[c+2],n[r+1]);break}}r+=2}return o}function O7(e,i,n,o){return[e,!0,0,i,null,o,null,n,null,null]}function z7(e,i){let n=e.contentQueries;if(n!==null){let o=on(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],l=n[r+1];if(l!==-1){let c=e.data[l];I3(s),c.contentQueries(2,i[l],l)}}}finally{on(o)}}}function qx(e,i){return e[fC]?e[hB][sl]=i:e[fC]=i,e[hB]=i,i}function HI(e,i,n){I3(0);let o=on(null);try{i(e,n)}finally{on(o)}}function B7(e){return e[ux]??=[]}function V7(e){return e.cleanup??=[]}function H7(e,i){let n=e[Rm],o=n?n.get(Nu,null):null;o&&o.handleError(i)}function Q3(e,i,n,o,r){for(let s=0;s<n.length;){let l=n[s++],c=n[s++],d=n[s++],u=i[l],h=e.data[l];R7(h,u,o,c,d,r)}}function G7(e,i,n){let o=xV(i,e);KJ(e[io],o,n)}function Oee(e,i){let n=Zh(i,e),o=n[yi];zee(o,n);let r=n[Gu];r!==null&&n[pC]===null&&(n[pC]=z3(r,n[Rm])),Z3(o,n,n[al])}function zee(e,i){for(let n=i.length;n<e.blueprint.length;n++)i.push(e.blueprint[n])}function Z3(e,i,n){R3(i);try{let o=e.viewQuery;o!==null&&HI(1,o,n);let r=e.template;r!==null&&T7(e,i,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),i[Lu]?.finishViewCreation(e),e.staticContentQueries&&z7(e,i),e.staticViewQueries&&HI(2,e.viewQuery,n);let s=e.components;s!==null&&Bee(i,s)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{i[gi]&=-5,A3()}}function Bee(e,i){for(let n=0;n<i.length;n++)Oee(e,i[n])}function j7(e,i,n,o){let r=on(null);try{let s=i.tView,c=e[gi]&4096?4096:16,d=$x(e,s,n,c,null,i,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),u=e[i.index];d[gp]=u;let h=e[Lu];return h!==null&&(d[Lu]=h.createEmbeddedView(s)),Z3(s,d,n),d}finally{on(r)}}function GI(e,i){return!i||i.firstChild===null||t7(e)}function W7(e,i,n,o=!0){let r=i[yi];if(JJ(r,i,e,n),o){let l=BI(n,e),c=i[io],d=j3(c,e[pp]);d!==null&&ZJ(r,e[Zr],c,i,d,l)}let s=i[pC];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function bx(e,i,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let s=i[n.index];s!==null&&o.push(jl(s)),ju(s)&&Vee(s,o);let l=n.type;if(l&8)bx(e,i,n.child,o);else if(l&32){let c=H3(n,i),d;for(;d=c();)o.push(d)}else if(l&16){let c=D7(i,n);if(Array.isArray(c))o.push(...c);else{let d=fp(i[Ps]);bx(d[yi],d,c,o,!0)}}n=r?n.projectionNext:n.next}return o}function Vee(e,i){for(let n=hs;n<e.length;n++){let o=e[n],r=o[yi].firstChild;r!==null&&bx(o[yi],o,r,i)}e[pp]!==e[Gu]&&i.push(e[pp])}var U7=[];function Hee(e){return e[Fs]??Gee(e)}function Gee(e){let i=U7.pop()??Object.create(Wee);return i.lView=e,i}function jee(e){e.lView[Fs]!==e&&(e.lView=null,U7.push(e))}var Wee=At(We({},k2),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ox(e.lView)},consumerOnSignalRead(){this.lView[Fs]=this}});function Uee(e){let i=e[Fs]??Object.create($ee);return i.lView=e,i}var $ee=At(We({},k2),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let i=fp(e.lView);for(;i&&!$7(i[yi]);)i=fp(i);i&&MV(i)},consumerOnSignalRead(){this.lView[Fs]=this}});function $7(e){return e.type!==2}var qee=100;function q7(e,i=!0,n=0){let o=e[Gl],r=o.rendererFactory,s=!1;s||r.begin?.();try{Kee(e,n)}catch(l){throw i&&H7(e,l),l}finally{s||(r.end?.(),o.inlineEffectRunner?.flush())}}function Kee(e,i){let n=FV();try{pB(!0),jI(e,i);let o=0;for(;mC(e);){if(o===qee)throw new Kt(103,!1);o++,jI(e,1)}}finally{pB(n)}}function Yee(e,i,n,o){let r=i[gi];if((r&256)===256)return;let s=!1,l=!1;!s&&i[Gl].inlineEffectRunner?.flush(),R3(i);let c=!0,d=null,u=null;s||($7(e)?(u=Hee(i),d=I2(u)):_z()===null?(c=!1,u=Uee(i),d=I2(u)):i[Fs]&&(A2(i[Fs]),i[Fs]=null));try{EV(i),BX(e.bindingStartIndex),n!==null&&T7(e,i,n,2,o);let h=(r&3)===3;if(!s)if(h){let f=e.preOrderCheckHooks;f!==null&&ix(i,f,null)}else{let f=e.preOrderHooks;f!==null&&nx(i,f,0,null),oI(i,0)}if(l||Qee(i),K7(i,0),e.contentQueries!==null&&z7(e,i),!s)if(h){let f=e.contentCheckHooks;f!==null&&ix(i,f)}else{let f=e.contentHooks;f!==null&&nx(i,f,1),oI(i,1)}hee(e,i);let g=e.components;g!==null&&Q7(i,g,0);let p=e.viewQuery;if(p!==null&&HI(2,p,o),!s)if(h){let f=e.viewCheckHooks;f!==null&&ix(i,f)}else{let f=e.viewHooks;f!==null&&nx(i,f,2),oI(i,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),i[nI]){for(let f of i[nI])f();i[nI]=null}s||(i[gi]&=-73)}catch(h){throw s||Ox(i),h}finally{u!==null&&(Dz(u,d),c&&jee(u)),A3()}}function K7(e,i){for(let n=n7(e);n!==null;n=o7(n))for(let o=hs;o<n.length;o++){let r=n[o];Y7(r,i)}}function Qee(e){for(let i=n7(e);i!==null;i=o7(i)){if(!(i[gi]&gx.HasTransplantedViews))continue;let n=i[Am];for(let o=0;o<n.length;o++){let r=n[o];MV(r)}}}function Zee(e,i,n){let o=Zh(i,e);Y7(o,n)}function Y7(e,i){D3(e)&&jI(e,i)}function jI(e,i){let o=e[yi],r=e[gi],s=e[Fs],l=!!(i===0&&r&16);if(l||=!!(r&64&&i===0),l||=!!(r&1024),l||=!!(s?.dirty&&R2(s)),l||=!1,s&&(s.dirty=!1),e[gi]&=-9217,l)Yee(o,e,o.template,e[al]);else if(r&8192){K7(e,1);let c=o.components;c!==null&&Q7(e,c,1)}}function Q7(e,i,n){for(let o=0;o<i.length;o++)Zee(e,i[o],n)}function X3(e,i){let n=FV()?64:1088;for(e[Gl].changeDetectionScheduler?.notify(i);e;){e[gi]|=n;let o=fp(e);if(xI(e)&&!o)return e;e=o}return null}var wp=class{get rootNodes(){let i=this._lView,n=i[yi];return bx(n,i,n.firstChild,[])}constructor(i,n,o=!0){this._lView=i,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[al]}set context(i){this._lView[al]=i}get destroyed(){return(this._lView[gi]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let i=this._lView[ur];if(ju(i)){let n=i[hx],o=n?n.indexOf(this):-1;o>-1&&(zI(i,o),cx(n,o))}this._attachedToViewContainer=!1}y7(this._lView[yi],this._lView)}onDestroy(i){kV(this._lView,i)}markForCheck(){X3(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[gi]&=-129}reattach(){DI(this._lView),this._lView[gi]|=128}detectChanges(){this._lView[gi]|=1024,q7(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Kt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let i=xI(this._lView),n=this._lView[gp];n!==null&&!i&&G3(n,this._lView),w7(this._lView[yi],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Kt(902,!1);this._appRef=i;let n=xI(this._lView),o=this._lView[gp];o!==null&&!n&&b7(o,this._lView),DI(this._lView)}},zu=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=ete;let e=i;return e})(),Xee=zu,Jee=class extends Xee{constructor(i,n,o){super(),this._declarationLView=i,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,n){return this.createEmbeddedViewImpl(i,n)}createEmbeddedViewImpl(i,n,o){let r=j7(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:n,dehydratedView:o});return new wp(r)}};function ete(){return Kx(qo(),Fi())}function Kx(e,i){return e.type&4?new Jee(i,e,Om(e,i)):null}var sAe=new RegExp(`^(\\d+)*(${wJ}|${CJ})*(.*)`);var tte=()=>null;function WI(e,i){return tte(e,i)}var vC=class{},J3=new Lt("",{providedIn:"root",factory:()=>!1});var Z7=new Lt(""),UI=class{},yx=class{};function ite(e){let i=Error(`No component factory found for ${_r(e)}.`);return i[nte]=e,i}var nte="ngComponent";var $I=class{resolveComponentFactory(i){throw ite(i)}},gR=class gR{};gR.NULL=new $I;var Fm=gR,Pm=class{},Os=(()=>{let i=class i{constructor(){this.destroyNode=null}};i.__NG_ELEMENT_ID__=()=>ote();let e=i;return e})();function ote(){let e=Fi(),i=qo(),n=Zh(i.index,e);return(qh(n)?n:e)[io]}var rte=(()=>{let i=class i{};i.\u0275prov=xt({token:i,providedIn:"root",factory:()=>null});let e=i;return e})();var RB=new Set;function Yx(e){RB.has(e)||(RB.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function X7(e){let i=!0;return setTimeout(()=>{i&&(i=!1,e())}),typeof cp.requestAnimationFrame=="function"&&cp.requestAnimationFrame(()=>{i&&(i=!1,e())}),()=>{i=!1}}function AB(e){let i=!0;return queueMicrotask(()=>{i&&e()}),()=>{i=!1}}function TB(...e){}var vi=class e{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new Kt(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!o&&n,r.shouldCoalesceRunChangeDetection=o,r.callbackScheduled=!1,lte(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Kt(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Kt(909,!1)}run(i,n,o){return this._inner.run(i,n,o)}runTask(i,n,o,r){let s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+r,i,ste,TB,TB);try{return s.runTask(l,n,o)}finally{s.cancelTask(l)}}runGuarded(i,n,o){return this._inner.runGuarded(i,n,o)}runOutsideAngular(i){return this._outer.run(i)}},ste={};function eR(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ate(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{X7(()=>{e.callbackScheduled=!1,qI(e),e.isCheckStableRunning=!0,eR(e),e.isCheckStableRunning=!1})}),qI(e))}function lte(e){let i=()=>{ate(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,r,s,l,c)=>{if(cte(c))return n.invokeTask(r,s,l,c);try{return FB(e),n.invokeTask(r,s,l,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&i(),PB(e)}},onInvoke:(n,o,r,s,l,c,d)=>{try{return FB(e),n.invoke(r,s,l,c,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!dte(c)&&i(),PB(e)}},onHasTask:(n,o,r,s)=>{n.hasTask(r,s),o===r&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,qI(e),eR(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,o,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function qI(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function FB(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function PB(e){e._nesting--,eR(e)}var KI=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(i,n,o){return i.apply(n,o)}runGuarded(i,n,o){return i.apply(n,o)}runOutsideAngular(i){return i()}runTask(i,n,o,r){return i.apply(n,o)}};function cte(e){return J7(e,"__ignore_ng_zone__")}function dte(e){return J7(e,"__scheduler_tick__")}function J7(e,i){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[i]===!0}var eH=(()=>{let i=class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of o)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};i.\u0275prov=xt({token:i,providedIn:"root",factory:()=>new i});let e=i;return e})();function Sx(e,i,n){let o=n?e.styles:null,r=n?e.classes:null,s=0;if(i!==null)for(let l=0;l<i.length;l++){let c=i[l];if(typeof c=="number")s=c;else if(s==1)r=fI(r,c);else if(s==2){let d=c,u=i[++l];o=fI(o,d+": "+u+";")}}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=r:e.classesWithoutHost=r}var xx=class extends Fm{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){let n=hp(i);return new CC(n,this.ngModule)}};function LB(e){let i=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let o=e[n];o!==void 0&&i.push({propName:Array.isArray(o)?o[0]:o,templateName:n})}return i}function ute(e){let i=e.toLowerCase();return i==="svg"?DX:i==="math"?EX:null}var CC=class extends yx{get inputs(){let i=this.componentDef,n=i.inputTransforms,o=LB(i.inputs);if(n!==null)for(let r of o)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return o}get outputs(){return LB(this.componentDef.outputs)}constructor(i,n){super(),this.componentDef=i,this.ngModule=n,this.componentType=i.type,this.selector=oX(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!n}create(i,n,o,r){let s=on(null);try{r=r||this.ngModule;let l=r instanceof Yr?r:r?.injector;l&&this.componentDef.getStandaloneInjector!==null&&(l=this.componentDef.getStandaloneInjector(l)||l);let c=l?new MI(i,l):i,d=c.get(Pm,null);if(d===null)throw new Kt(407,!1);let u=c.get(rte,null),h=c.get(eH,null),g=c.get(vC,null),p={rendererFactory:d,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:g},f=d.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",M=o?fee(f,o,this.componentDef.encapsulation,c):C7(f,y,ute(y)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let G=null;M!==null&&(G=z3(M,c,!0));let J=K3(0,null,null,1,0,null,null,null,null,null,null),$=$x(null,J,null,k,null,null,p,f,c,null,G);R3($);let _e,Te;try{let Pe=this.componentDef,$e,nt=null;Pe.findHostDirectiveDefs?($e=[],nt=new Map,Pe.findHostDirectiveDefs(Pe,$e,nt),$e.push(Pe)):$e=[Pe];let at=hte($,M),Ft=gte(at,M,Pe,$e,$,p,f);Te=_V(J,Qr),M&&mte(f,Pe,M,o),n!==void 0&&vte(Te,this.ngContentSelectors,n),_e=fte(Ft,Pe,$e,nt,$,[Cte]),Z3(J,$,null)}finally{A3()}return new YI(this.componentType,_e,Om(Te,$),$,Te)}finally{on(s)}}},YI=class extends UI{constructor(i,n,o,r,s){super(),this.location=o,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wp(r,void 0,!1),this.componentType=i}setInput(i,n){let o=this._tNode.inputs,r;if(o!==null&&(r=o[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),n))return;let s=this._rootLView;Q3(s[yi],s,r,i,n),this.previousInputValues.set(i,n);let l=Zh(this._tNode.index,s);X3(l,1)}}get injector(){return new lp(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}};function hte(e,i){let n=e[yi],o=Qr;return e[o]=i,Bm(n,o,2,"#host",null)}function gte(e,i,n,o,r,s,l){let c=r[yi];pte(o,e,i,l);let d=null;i!==null&&(d=z3(i,r[Rm]));let u=s.rendererFactory.createRenderer(i,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let g=$x(r,F7(n),null,h,r[e.index],e,s,u,null,null,d);return c.firstCreatePass&&VI(c,e,o.length-1),qx(r,g),r[e.index]=g}function pte(e,i,n,o){for(let r of e)i.mergedAttrs=hC(i.mergedAttrs,r.hostAttrs);i.mergedAttrs!==null&&(Sx(i,i.mergedAttrs,!0),n!==null&&k7(o,n,i))}function fte(e,i,n,o,r,s){let l=qo(),c=r[yi],d=Ls(l,r);L7(c,r,l,n,null,o);for(let h=0;h<n.length;h++){let g=l.directiveStart+h,p=Cp(r,c,g,l);Yh(p,r)}N7(c,r,l),d&&Yh(d,r);let u=Cp(r,c,l.directiveStart+l.componentOffset,l);if(e[al]=r[al]=u,s!==null)for(let h of s)h(u,i);return U3(c,l,r),u}function mte(e,i,n,o){if(o)wI(e,n,["ng-version","18.0.6"]);else{let{attrs:r,classes:s}=rX(i.selectors[0]);r&&wI(e,n,r),s&&s.length>0&&M7(e,n,s.join(" "))}}function vte(e,i,n){let o=e.projection=[];for(let r=0;r<i.length;r++){let s=n[r];o.push(s!=null?Array.from(s):null)}}function Cte(){let e=qo();Hx(Fi()[yi],e)}var zs=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=wte;let e=i;return e})();function wte(){let e=qo();return iH(e,Fi())}var bte=zs,tH=class extends bte{constructor(i,n,o){super(),this._lContainer=i,this._hostTNode=n,this._hostLView=o}get element(){return Om(this._hostTNode,this._hostLView)}get injector(){return new lp(this._hostTNode,this._hostLView)}get parentInjector(){let i=F3(this._hostTNode,this._hostLView);if(jV(i)){let n=fx(i,this._hostLView),o=px(i),r=n[yi].data[o+8];return new lp(r,n)}else return new lp(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){let n=NB(this._lContainer);return n!==null&&n[i]||null}get length(){return this._lContainer.length-hs}createEmbeddedView(i,n,o){let r,s;typeof o=="number"?r=o:o!=null&&(r=o.index,s=o.injector);let l=WI(this._lContainer,i.ssrId),c=i.createEmbeddedViewImpl(n||{},s,l);return this.insertImpl(c,r,GI(this._hostTNode,l)),c}createComponent(i,n,o,r,s){let l=i&&!yX(i),c;if(l)c=n;else{let y=n||{};c=y.index,o=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let d=l?i:new CC(hp(i)),u=o||this.parentInjector;if(!s&&d.ngModule==null){let M=(l?u:this.parentInjector).get(Yr,null);M&&(s=M)}let h=hp(d.componentType??{}),g=WI(this._lContainer,h?.id??null),p=g?.firstChild??null,f=d.create(u,r,p,s);return this.insertImpl(f.hostView,c,GI(this._hostTNode,g)),f}insert(i,n){return this.insertImpl(i,n,!0)}insertImpl(i,n,o){let r=i._lView;if(kX(r)){let c=this.indexOf(i);if(c!==-1)this.detach(c);else{let d=r[ur],u=new tH(d,d[Zr],d[ur]);u.detach(u.indexOf(i))}}let s=this._adjustIndex(n),l=this._lContainer;return W7(l,r,s,o),i.attachToViewContainerRef(),eV(cI(l),s,i),i}move(i,n){return this.insert(i,n)}indexOf(i){let n=NB(this._lContainer);return n!==null?n.indexOf(i):-1}remove(i){let n=this._adjustIndex(i,-1),o=zI(this._lContainer,n);o&&(cx(cI(this._lContainer),n),y7(o[yi],o))}detach(i){let n=this._adjustIndex(i,-1),o=zI(this._lContainer,n);return o&&cx(cI(this._lContainer),n)!=null?new wp(o):null}_adjustIndex(i,n=0){return i??this.length+n}};function NB(e){return e[hx]}function cI(e){return e[hx]||(e[hx]=[])}function iH(e,i){let n,o=i[e.index];return ju(o)?n=o:(n=O7(o,i,null,e),i[e.index]=n,qx(i,n)),Ste(n,i,e,o),new tH(n,e,i)}function yte(e,i){let n=e[io],o=n.createComment(""),r=Ls(i,e),s=j3(n,r);return wx(n,s,o,oee(n,r),!1),o}var Ste=Dte,xte=()=>!1;function _te(e,i,n){return xte(e,i,n)}function Dte(e,i,n,o){if(e[pp])return;let r;n.type&8?r=jl(o):r=yte(i,n),e[pp]=r}var QI=class e{constructor(i){this.queryList=i,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ZI=class e{constructor(i=[]){this.queries=i}createEmbeddedView(i){let n=i.queries;if(n!==null){let o=i.contentQueries!==null?i.contentQueries[0]:n.length,r=[];for(let s=0;s<o;s++){let l=n.getByIndex(s),c=this.queries[l.indexInDeclarationView];r.push(c.clone())}return new e(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let n=0;n<this.queries.length;n++)tR(i,n).matches!==null&&this.queries[n].setDirty()}},_x=class{constructor(i,n,o=null){this.flags=n,this.read=o,typeof i=="string"?this.predicate=Fte(i):this.predicate=i}},XI=class e{constructor(i=[]){this.queries=i}elementStart(i,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(i,n)}elementEnd(i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(i)}embeddedTView(i){let n=null;for(let o=0;o<this.length;o++){let r=n!==null?n.length:0,s=this.getByIndex(o).embeddedTView(i,r);s&&(s.indexInDeclarationView=o,n!==null?n.push(s):n=[s])}return n!==null?new e(n):null}template(i,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(i,n)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}},JI=class e{constructor(i,n=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(i,n){this.isApplyingToNode(n)&&this.matchTNode(i,n)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,n){this.elementStart(i,n)}embeddedTView(i,n){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,n),new e(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=i.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(i,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){let s=o[r];this.matchTNodeWithReadOption(i,n,Ete(n,s)),this.matchTNodeWithReadOption(i,n,ox(n,i,s,!1,!1))}else o===zu?n.type&4&&this.matchTNodeWithReadOption(i,n,-1):this.matchTNodeWithReadOption(i,n,ox(n,i,o,!1,!1))}matchTNodeWithReadOption(i,n,o){if(o!==null){let r=this.metadata.read;if(r!==null)if(r===Gn||r===zs||r===zu&&n.type&4)this.addMatch(n.index,-2);else{let s=ox(n,i,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,o)}}addMatch(i,n){this.matches===null?this.matches=[i,n]:this.matches.push(i,n)}};function Ete(e,i){let n=e.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===i)return n[o+1]}return null}function Mte(e,i){return e.type&11?Om(e,i):e.type&4?Kx(e,i):null}function kte(e,i,n,o){return n===-1?Mte(i,e):n===-2?Ite(e,i,o):Cp(e,e[yi],n,i)}function Ite(e,i,n){if(n===Gn)return Om(i,e);if(n===zu)return Kx(i,e);if(n===zs)return iH(i,e)}function nH(e,i,n,o){let r=i[Lu].queries[o];if(r.matches===null){let s=e.data,l=n.matches,c=[];for(let d=0;l!==null&&d<l.length;d+=2){let u=l[d];if(u<0)c.push(null);else{let h=s[u];c.push(kte(i,h,l[d+1],n.metadata.read))}}r.matches=c}return r.matches}function e3(e,i,n,o){let r=e.queries.getByIndex(n),s=r.matches;if(s!==null){let l=nH(e,i,r,n);for(let c=0;c<s.length;c+=2){let d=s[c];if(d>0)o.push(l[c/2]);else{let u=s[c+1],h=i[-d];for(let g=hs;g<h.length;g++){let p=h[g];p[gp]===p[ur]&&e3(p[yi],p,u,o)}if(h[Am]!==null){let g=h[Am];for(let p=0;p<g.length;p++){let f=g[p];e3(f[yi],f,u,o)}}}}}return o}function Rte(e,i){return e[Lu].queries[i].queryList}function oH(e,i,n){let o=new FI((n&4)===4);return Cee(e,i,o,o.destroy),(i[Lu]??=new ZI).queries.push(new QI(o))-1}function Ate(e,i,n){let o=go();return o.firstCreatePass&&(rH(o,new _x(e,i,n),-1),(i&2)===2&&(o.staticViewQueries=!0)),oH(o,Fi(),i)}function Tte(e,i,n,o){let r=go();if(r.firstCreatePass){let s=qo();rH(r,new _x(i,n,o),s.index),Pte(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return oH(r,Fi(),n)}function Fte(e){return e.split(",").map(i=>i.trim())}function rH(e,i,n){e.queries===null&&(e.queries=new XI),e.queries.track(new JI(i,n))}function Pte(e,i){let n=e.contentQueries||(e.contentQueries=[]),o=n.length?n[n.length-1]:-1;i!==o&&n.push(e.queries.length-1,i)}function tR(e,i){return e.queries.getByIndex(i)}function Lte(e,i){let n=e[yi],o=tR(n,i);return o.crossesNgTemplate?e3(n,e,i,[]):nH(n,e,o,i)}function Nte(e){return typeof e=="function"&&e[M2]!==void 0}function sH(e){return Nte(e)&&typeof e.set=="function"}function Ote(e){return Object.getPrototypeOf(e.prototype).constructor}function $l(e){let i=Ote(e.type),n=!0,o=[e];for(;i;){let r;if(Kh(e))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Kt(903,!1);r=i.\u0275dir}if(r){if(n){o.push(r);let l=e;l.inputs=J1(e.inputs),l.inputTransforms=J1(e.inputTransforms),l.declaredInputs=J1(e.declaredInputs),l.outputs=J1(e.outputs);let c=r.hostBindings;c&&Gte(e,c);let d=r.viewQuery,u=r.contentQueries;if(d&&Vte(e,d),u&&Hte(e,u),zte(e,r),xZ(e.outputs,r.outputs),Kh(r)&&r.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let l=0;l<s.length;l++){let c=s[l];c&&c.ngInherit&&c(e),c===$l&&(n=!1)}}i=Object.getPrototypeOf(i)}Bte(o)}function zte(e,i){for(let n in i.inputs){if(!i.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let o=i.inputs[n];if(o!==void 0&&(e.inputs[n]=o,e.declaredInputs[n]=i.declaredInputs[n],i.inputTransforms!==null)){let r=Array.isArray(o)?o[0]:o;if(!i.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=i.inputTransforms[r]}}}function Bte(e){let i=0,n=null;for(let o=e.length-1;o>=0;o--){let r=e[o];r.hostVars=i+=r.hostVars,r.hostAttrs=hC(r.hostAttrs,n=hC(n,r.hostAttrs))}}function J1(e){return e===Em?{}:e===Kr?[]:e}function Vte(e,i){let n=e.viewQuery;n?e.viewQuery=(o,r)=>{i(o,r),n(o,r)}:e.viewQuery=i}function Hte(e,i){let n=e.contentQueries;n?e.contentQueries=(o,r,s)=>{i(o,r,s),n(o,r,s)}:e.contentQueries=i}function Gte(e,i){let n=e.hostBindings;n?e.hostBindings=(o,r)=>{i(o,r),n(o,r)}:e.hostBindings=i}function iR(e){let i=e.inputConfig,n={};for(let o in i)if(i.hasOwnProperty(o)){let r=i[o];Array.isArray(r)&&r[3]&&(n[o]=r[3])}e.inputTransforms=n}var Qh=class{},wC=class{};var t3=class extends Qh{constructor(i,n,o){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xx(this);let r=dV(i);this._bootstrapComponents=v7(r.bootstrap),this._r3Injector=XV(i,n,[{provide:Qh,useValue:this},{provide:Fm,useValue:this.componentFactoryResolver},...o],_r(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){let i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}},i3=class extends wC{constructor(i){super(),this.moduleType=i}create(i){return new t3(this.moduleType,i,[])}};var Dx=class extends Qh{constructor(i){super(),this.componentFactoryResolver=new xx(this),this.instance=null;let n=new gC([...i.providers,{provide:Qh,useValue:this},{provide:Fm,useValue:this.componentFactoryResolver}],i.parent||x3(),i.debugName,new Set(["environment"]));this.injector=n,i.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}};function nR(e,i,n=null){return new Dx({providers:e,parent:i,debugName:n,runEnvironmentInitializers:!0}).injector}function aH(e){return oR(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function jte(e,i){if(Array.isArray(e))for(let n=0;n<e.length;n++)i(e[n]);else{let n=e[Symbol.iterator](),o;for(;!(o=n.next()).done;)i(o.value)}}function oR(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function lH(e,i,n){return e[i]=n}function Wte(e,i){return e[i]}function Bu(e,i,n){let o=e[i];return Object.is(o,n)?!1:(e[i]=n,!0)}function Ute(e,i,n,o){let r=Bu(e,i,n);return Bu(e,i+1,o)||r}function $te(e){return(e.flags&32)===32}function qte(e,i,n,o,r,s,l,c,d){let u=i.consts,h=Bm(i,e,4,l||null,c||null);Y3(i,n,h,Tm(u,d)),Hx(i,h);let g=h.tView=K3(2,h,o,r,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,u,null);return i.queries!==null&&(i.queries.template(i,h),g.queries=i.queries.embeddedTView(h)),h}function cH(e,i,n,o,r,s,l,c,d,u){let h=n+Qr,g=i.firstCreatePass?qte(h,i,e,o,r,s,l,c,d):i.data[h];yp(g,!1);let p=Kte(i,e,g,n);Bx()&&Wx(i,e,p,g),Yh(p,e);let f=O7(p,e,p,g);return e[h]=f,qx(e,f),_te(f,g,e),Nx(g)&&$3(i,e,g),d!=null&&q3(e,g,u),g}function ui(e,i,n,o,r,s,l,c){let d=Fi(),u=go(),h=Tm(u.consts,s);return cH(d,u,e,i,n,o,r,h,l,c),ui}var Kte=Yte;function Yte(e,i,n,o){return Vx(!0),i[io].createComment("")}function Qx(e,i,n,o){let r=Fi(),s=zx();if(Bu(r,s,i)){let l=go(),c=T3();Fee(c,r,e,i,n,o)}return Qx}function Qte(e,i,n,o){return Bu(e,zx(),n)?i+dp(n)+o:Ns}function Zte(e,i,n,o,r,s){let l=zX(),c=Ute(e,l,n,r);return k3(2),c?i+dp(n)+o+dp(r)+s:Ns}function ex(e,i){return e<<17|i<<2}function bp(e){return e>>17&32767}function Xte(e){return(e&2)==2}function Jte(e,i){return e&131071|i<<17}function n3(e){return e|2}function Lm(e){return(e&131068)>>2}function dI(e,i){return e&-131069|i<<2}function eie(e){return(e&1)===1}function o3(e){return e|1}function tie(e,i,n,o,r,s){let l=s?i.classBindings:i.styleBindings,c=bp(l),d=Lm(l);e[o]=n;let u=!1,h;if(Array.isArray(n)){let g=n;h=g[1],(h===null||SC(g,h)>0)&&(u=!0)}else h=n;if(r)if(d!==0){let p=bp(e[c+1]);e[o+1]=ex(p,c),p!==0&&(e[p+1]=dI(e[p+1],o)),e[c+1]=Jte(e[c+1],o)}else e[o+1]=ex(c,0),c!==0&&(e[c+1]=dI(e[c+1],o)),c=o;else e[o+1]=ex(d,0),c===0?c=o:e[d+1]=dI(e[d+1],o),d=o;u&&(e[o+1]=n3(e[o+1])),OB(e,h,o,!0),OB(e,h,o,!1),iie(i,h,e,o,s),l=ex(c,d),s?i.classBindings=l:i.styleBindings=l}function iie(e,i,n,o,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof i=="string"&&SC(s,i)>=0&&(n[o+1]=o3(n[o+1]))}function OB(e,i,n,o){let r=e[n+1],s=i===null,l=o?bp(r):Lm(r),c=!1;for(;l!==0&&(c===!1||s);){let d=e[l],u=e[l+1];nie(d,i)&&(c=!0,e[l+1]=o?o3(u):n3(u)),l=o?bp(u):Lm(u)}c&&(e[n+1]=o?n3(r):o3(r))}function nie(e,i){return e===null||i==null||(Array.isArray(e)?e[1]:e)===i?!0:Array.isArray(e)&&typeof i=="string"?SC(e,i)>=0:!1}var rl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oie(e){return e.substring(rl.key,rl.keyEnd)}function rie(e){return sie(e),dH(e,uH(e,0,rl.textEnd))}function dH(e,i){let n=rl.textEnd;return n===i?-1:(i=rl.keyEnd=aie(e,rl.key=i,n),uH(e,i,n))}function sie(e){rl.key=0,rl.keyEnd=0,rl.value=0,rl.valueEnd=0,rl.textEnd=e.length}function uH(e,i,n){for(;i<n&&e.charCodeAt(i)<=32;)i++;return i}function aie(e,i,n){for(;i<n&&e.charCodeAt(i)>32;)i++;return i}function ht(e,i,n){let o=Fi(),r=zx();if(Bu(o,r,i)){let s=go(),l=T3();P7(s,l,o,e,i,o[io],n,!1)}return ht}function r3(e,i,n,o,r){let s=i.inputs,l=r?"class":"style";Q3(e,n,s[l],l,o)}function Vm(e,i,n){return hH(e,i,n,!1),Vm}function rR(e,i){return hH(e,i,null,!0),rR}function Zx(e){cie(fie,lie,e,!0)}function lie(e,i){for(let n=rie(i);n>=0;n=dH(i,n))w3(e,oie(i),!0)}function hH(e,i,n,o){let r=Fi(),s=go(),l=k3(2);if(s.firstUpdatePass&&pH(s,e,l,o),i!==Ns&&Bu(r,l,i)){let c=s.data[Xh()];fH(s,c,r,r[io],e,r[l+1]=vie(i,n),o,l)}}function cie(e,i,n,o){let r=go(),s=k3(2);r.firstUpdatePass&&pH(r,null,s,o);let l=Fi();if(n!==Ns&&Bu(l,s,n)){let c=r.data[Xh()];if(mH(c,o)&&!gH(r,s)){let d=o?c.classesWithoutHost:c.stylesWithoutHost;d!==null&&(n=fI(d,n||"")),r3(r,c,l,n,o)}else mie(r,c,l,l[io],l[s+1],l[s+1]=pie(e,i,n),o,s)}}function gH(e,i){return i>=e.expandoStartIndex}function pH(e,i,n,o){let r=e.data;if(r[n+1]===null){let s=r[Xh()],l=gH(e,n);mH(s,o)&&i===null&&!l&&(i=!1),i=die(r,s,i,o),tie(r,s,i,n,l,o)}}function die(e,i,n,o){let r=jX(e),s=o?i.residualClasses:i.residualStyles;if(r===null)(o?i.classBindings:i.styleBindings)===0&&(n=uI(null,e,i,n,o),n=bC(n,i.attrs,o),s=null);else{let l=i.directiveStylingLast;if(l===-1||e[l]!==r)if(n=uI(r,e,i,n,o),s===null){let d=uie(e,i,o);d!==void 0&&Array.isArray(d)&&(d=uI(null,e,i,d[1],o),d=bC(d,i.attrs,o),hie(e,i,o,d))}else s=gie(e,i,o)}return s!==void 0&&(o?i.residualClasses=s:i.residualStyles=s),n}function uie(e,i,n){let o=n?i.classBindings:i.styleBindings;if(Lm(o)!==0)return e[bp(o)]}function hie(e,i,n,o){let r=n?i.classBindings:i.styleBindings;e[bp(r)]=o}function gie(e,i,n){let o,r=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<r;s++){let l=e[s].hostAttrs;o=bC(o,l,n)}return bC(o,i.attrs,n)}function uI(e,i,n,o,r){let s=null,l=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<l&&(s=i[c],o=bC(o,s.hostAttrs,r),s!==e);)c++;return e!==null&&(n.directiveStylingLast=c),o}function bC(e,i,n){let o=n?1:2,r=-1;if(i!==null)for(let s=0;s<i.length;s++){let l=i[s];typeof l=="number"?r=l:r===o&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),w3(e,l,n?!0:i[++s]))}return e===void 0?null:e}function pie(e,i,n){if(n==null||n==="")return Kr;let o=[],r=Sp(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(o,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(o,s,r[s]);else typeof r=="string"&&i(o,r);return o}function fie(e,i,n){let o=String(i);o!==""&&!o.includes(" ")&&w3(e,o,n)}function mie(e,i,n,o,r,s,l,c){r===Ns&&(r=Kr);let d=0,u=0,h=0<r.length?r[0]:null,g=0<s.length?s[0]:null;for(;h!==null||g!==null;){let p=d<r.length?r[d+1]:void 0,f=u<s.length?s[u+1]:void 0,y=null,M;h===g?(d+=2,u+=2,p!==f&&(y=g,M=f)):g===null||h!==null&&h<g?(d+=2,y=h):(u+=2,y=g,M=f),y!==null&&fH(e,i,n,o,y,M,l,c),h=d<r.length?r[d]:null,g=u<s.length?s[u]:null}}function fH(e,i,n,o,r,s,l,c){if(!(i.type&3))return;let d=e.data,u=d[c+1],h=eie(u)?zB(d,i,n,r,Lm(u),l):void 0;if(!Ex(h)){Ex(s)||Xte(u)&&(s=zB(d,null,n,r,c,l));let g=xV(Xh(),n);dee(o,l,g,r,s)}}function zB(e,i,n,o,r,s){let l=i===null,c;for(;r>0;){let d=e[r],u=Array.isArray(d),h=u?d[1]:d,g=h===null,p=n[r+1];p===Ns&&(p=g?Kr:void 0);let f=g?tI(p,o):h===o?p:void 0;if(u&&!Ex(f)&&(f=tI(d,o)),Ex(f)&&(c=f,l))return c;let y=e[r+1];r=l?bp(y):Lm(y)}if(i!==null){let d=s?i.residualClasses:i.residualStyles;d!=null&&(c=tI(d,o))}return c}function Ex(e){return e!==void 0}function vie(e,i){return e==null||e===""||(typeof i=="string"?e=e+i:typeof e=="object"&&(e=_r(Sp(e)))),e}function mH(e,i){return(e.flags&(i?8:16))!==0}function Cie(e,i,n,o,r,s){let l=i.consts,c=Tm(l,r),d=Bm(i,e,2,o,c);return Y3(i,n,d,Tm(l,s)),d.attrs!==null&&Sx(d,d.attrs,!1),d.mergedAttrs!==null&&Sx(d,d.mergedAttrs,!0),i.queries!==null&&i.queries.elementStart(i,d),d}function He(e,i,n,o){let r=Fi(),s=go(),l=Qr+e,c=r[io],d=s.firstCreatePass?Cie(l,s,r,i,n,o):s.data[l],u=wie(s,r,d,c,i,e);r[l]=u;let h=Nx(d);return yp(d,!0),k7(c,u,d),!$te(d)&&Bx()&&Wx(s,r,u,d),AX()===0&&Yh(u,r),TX(),h&&($3(s,r,d),U3(s,d,r)),o!==null&&q3(r,d),He}function Oe(){let e=qo();E3()?M3():(e=e.parent,yp(e,!1));let i=e;PX(i)&&LX(),FX();let n=go();return n.firstCreatePass&&(Hx(n,e),_3(e)&&n.queries.elementEnd(e)),i.classesWithoutHost!=null&&QX(i)&&r3(n,i,Fi(),i.classesWithoutHost,!0),i.stylesWithoutHost!=null&&ZX(i)&&r3(n,i,Fi(),i.stylesWithoutHost,!1),Oe}function Et(e,i,n,o){return He(e,i,n,o),Oe(),Et}var wie=(e,i,n,o,r,s)=>(Vx(!0),C7(o,r,$X()));function bie(e,i,n,o,r){let s=i.consts,l=Tm(s,o),c=Bm(i,e,8,"ng-container",l);l!==null&&Sx(c,l,!0);let d=Tm(s,r);return Y3(i,n,c,d),i.queries!==null&&i.queries.elementStart(i,c),c}function Uu(e,i,n){let o=Fi(),r=go(),s=e+Qr,l=r.firstCreatePass?bie(s,r,o,i,n):r.data[s];yp(l,!0);let c=yie(r,o,l,e);return o[s]=c,Bx()&&Wx(r,o,c,l),Yh(c,o),Nx(l)&&($3(r,o,l),U3(r,l,o)),n!=null&&q3(o,l),Uu}function $u(){let e=qo(),i=go();return E3()?M3():(e=e.parent,yp(e,!1)),i.firstCreatePass&&(Hx(i,e),_3(e)&&i.queries.elementEnd(e)),$u}var yie=(e,i,n,o)=>(Vx(!0),YJ(i[io],""));function no(){return Fi()}var Mx="en-US";var Sie=Mx;function xie(e){typeof e=="string"&&(Sie=e.toLowerCase().replace(/_/g,"-"))}var _ie=(e,i,n)=>{};function Ht(e,i,n,o){let r=Fi(),s=go(),l=qo();return vH(s,r,r[io],l,e,i,o),Ht}function Die(e,i,n,o){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let l=r[s];if(l===n&&r[s+1]===o){let c=i[ux],d=r[s+2];return c.length>d?c[d]:null}typeof l=="string"&&(s+=2)}return null}function vH(e,i,n,o,r,s,l){let c=Nx(o),u=e.firstCreatePass&&V7(e),h=i[al],g=B7(i),p=!0;if(o.type&3||l){let M=Ls(o,i),k=l?l(M):M,G=g.length,J=l?_e=>l(jl(_e[o.index])):o.index,$=null;if(!l&&c&&($=Die(e,i,r,o.index)),$!==null){let _e=$.__ngLastListenerFn__||$;_e.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,p=!1}else{s=VB(o,i,h,s),_ie(M,r,s);let _e=n.listen(k,r,s);g.push(s,_e),u&&u.push(r,J,G,G+1)}}else s=VB(o,i,h,s);let f=o.outputs,y;if(p&&f!==null&&(y=f[r])){let M=y.length;if(M)for(let k=0;k<M;k+=2){let G=y[k],J=y[k+1],Te=i[G][J].subscribe(s),Pe=g.length;g.push(s,Te),u&&u.push(r,o.index,Pe,-(Pe+1))}}}function BB(e,i,n,o){let r=on(null);try{return Bl(6,i,n),n(o)!==!1}catch(s){return H7(e,s),!1}finally{Bl(7,i,n),on(r)}}function VB(e,i,n,o){return function r(s){if(s===Function)return o;let l=e.componentOffset>-1?Zh(e.index,i):i;X3(l,5);let c=BB(i,n,o,s),d=r.__ngNextListenerFn__;for(;d;)c=BB(i,n,d,s)&&c,d=d.__ngNextListenerFn__;return c}}function Gt(e=1){return UX(e)}function Eie(e,i){let n=null,o=JZ(e);for(let r=0;r<i.length;r++){let s=i[r];if(s==="*"){n=r;continue}if(o===null?sV(e,s,!0):iX(o,s))return r}return n}function sR(e){let i=Fi()[Ps][Zr];if(!i.projection){let n=e?e.length:1,o=i.projection=WZ(n,null),r=o.slice(),s=i.child;for(;s!==null;){if(s.type!==128){let l=e?Eie(s,e):0;l!==null&&(r[l]?r[l].projectionNext=s:o[l]=s,r[l]=s)}s=s.next}}}function aR(e,i=0,n,o,r,s){let l=Fi(),c=go(),d=o?e+1:null;d!==null&&cH(l,c,d,o,r,s,null,n);let u=Bm(c,Qr+e,16,null,n||null);u.projection===null&&(u.projection=i),M3();let g=!l[pC]||AV();l[Ps][Zr].projection[u.projection]===null&&d!==null?Mie(l,c,d):g&&(u.flags&32)!==32&&lee(c,l,u)}function Mie(e,i,n){let o=Qr+n,r=i.data[o],s=e[o],l=WI(s,r.tView.ssrId),c=j7(e,r,void 0,{dehydratedView:l});W7(s,c,0,GI(r,l))}function Hm(e,i,n,o){Tte(e,i,n,o)}function ql(e,i,n){Ate(e,i,n)}function Dr(e){let i=Fi(),n=go(),o=LV();I3(o+1);let r=tR(n,o);if(e.dirty&&MX(i)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=Lte(i,o);e.reset(s,uJ),e.notifyOnChanges()}return!0}return!1}function Er(){return Rte(Fi(),LV())}function kie(e,i,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),i[n]=o}function CH(e){let i=OX();return DV(i,Qr+e)}function Ye(e,i=""){let n=Fi(),o=go(),r=e+Qr,s=o.firstCreatePass?Bm(o,r,1,i,null):o.data[r],l=Iie(o,n,s,i,e);n[r]=l,Bx()&&Wx(o,n,l,s),yp(s,!1)}var Iie=(e,i,n,o,r)=>(Vx(!0),qJ(i[io],o));function dn(e){return yo("",e,""),dn}function yo(e,i,n){let o=Fi(),r=Qte(o,e,i,n);return r!==Ns&&G7(o,Xh(),r),yo}function lR(e,i,n,o,r){let s=Fi(),l=Zte(s,e,i,n,o,r);return l!==Ns&&G7(s,Xh(),l),lR}function po(e,i,n){sH(i)&&(i=i());let o=Fi(),r=zx();if(Bu(o,r,i)){let s=go(),l=T3();P7(s,l,o,e,i,o[io],n,!1)}return po}function So(e,i){let n=sH(e);return n&&e.set(i),n}function fo(e,i){let n=Fi(),o=go(),r=qo();return vH(o,n,n[io],r,e,i),fo}function Rie(e,i,n){let o=go();if(o.firstCreatePass){let r=Kh(e);s3(n,o.data,o.blueprint,r,!0),s3(i,o.data,o.blueprint,r,!1)}}function s3(e,i,n,o,r){if(e=xr(e),Array.isArray(e))for(let s=0;s<e.length;s++)s3(e[s],i,n,o,r);else{let s=go(),l=Fi(),c=qo(),d=Im(e)?e:xr(e.provide),u=mV(e),h=c.providerIndexes&1048575,g=c.directiveStart,p=c.providerIndexes>>20;if(Im(e)||!e.multi){let f=new vp(u,r,lt),y=gI(d,i,r?h:h+p,g);y===-1?(II(vx(c,l),s,d),hI(s,e,i.length),i.push(d),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(f),l.push(f)):(n[y]=f,l[y]=f)}else{let f=gI(d,i,h+p,g),y=gI(d,i,h,h+p),M=f>=0&&n[f],k=y>=0&&n[y];if(r&&!k||!r&&!M){II(vx(c,l),s,d);let G=Fie(r?Tie:Aie,n.length,r,o,u);!r&&k&&(n[y].providerFactory=G),hI(s,e,i.length,0),i.push(d),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(G),l.push(G)}else{let G=wH(n[r?y:f],u,!r&&o);hI(s,e,f>-1?f:y,G)}!r&&o&&k&&n[y].componentProviders++}}}function hI(e,i,n,o){let r=Im(i),s=gX(i);if(r||s){let d=(s?xr(i.useClass):i).prototype.ngOnDestroy;if(d){let u=e.destroyHooks||(e.destroyHooks=[]);if(!r&&i.multi){let h=u.indexOf(n);h===-1?u.push(n,[o,d]):u[h+1].push(o,d)}else u.push(n,d)}}}function wH(e,i,n){return n&&e.componentProviders++,e.multi.push(i)-1}function gI(e,i,n,o){for(let r=n;r<o;r++)if(i[r]===e)return r;return-1}function Aie(e,i,n,o){return a3(this.multi,[])}function Tie(e,i,n,o){let r=this.multi,s;if(this.providerFactory){let l=this.providerFactory.componentProviders,c=Cp(n,n[yi],this.providerFactory.index,o);s=c.slice(0,l),a3(r,s);for(let d=l;d<c.length;d++)s.push(c[d])}else s=[],a3(r,s);return s}function a3(e,i){for(let n=0;n<e.length;n++){let o=e[n];i.push(o())}return i}function Fie(e,i,n,o,r){let s=new vp(e,n,lt);return s.multi=[],s.index=i,s.componentProviders=0,wH(s,r,o&&!n),s}function Xr(e,i=[]){return n=>{n.providersResolver=(o,r)=>Rie(o,r?r(e):e,i)}}var Pie=(()=>{let i=class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){let r=gV(!1,o.type),s=r.length>0?nR([r],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,s)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(let o of this.cachedInjectors.values())o!==null&&o.destroy()}finally{this.cachedInjectors.clear()}}};i.\u0275prov=xt({token:i,providedIn:"environment",factory:()=>new i(Mt(Yr))});let e=i;return e})();function rn(e){Yx("NgStandalone"),e.getStandaloneInjector=i=>i.get(Pie).getOrCreateStandaloneInjector(e)}function hr(e,i,n){let o=PV()+e,r=Fi();return r[o]===Ns?lH(r,o,n?i.call(n):i()):Wte(r,o)}function Lie(e,i){let n=e[i];return n===Ns?void 0:n}function Nie(e,i,n,o,r,s){let l=i+n;return Bu(e,l,r)?lH(e,l+1,s?o.call(s,r):o(r)):Lie(e,l+1)}function qu(e,i){let n=go(),o,r=e+Qr;n.firstCreatePass?(o=Oie(i,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks??=[]).push(r,o.onDestroy)):o=n.data[r];let s=o.factory||(o.factory=up(o.type,!0)),l,c=qr(lt);try{let d=mx(!1),u=s();return mx(d),kie(n,Fi(),r,u),u}finally{qr(c)}}function Oie(e,i){if(i)for(let n=i.length-1;n>=0;n--){let o=i[n];if(e===o.name)return o}}function Ku(e,i,n){let o=e+Qr,r=Fi(),s=DV(r,o);return zie(r,o)?Nie(r,PV(),i,s.transform,n,s):s.transform(n)}function zie(e,i){return e[yi].data[i].pure}function bH(e,i){return Kx(e,i)}var Xx=(()=>{let i=class i{log(o){console.log(o)}warn(o){console.warn(o)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"platform"});let e=i;return e})();var yH=new Lt("");function xp(e){return!!e&&typeof e.then=="function"}function SH(e){return!!e&&typeof e.subscribe=="function"}var Jx=new Lt(""),xH=(()=>{let i=class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,r)=>{this.resolve=o,this.reject=r}),this.appInits=wt(Jx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let o=[];for(let s of this.appInits){let l=s();if(xp(l))o.push(l);else if(SH(l)){let c=new Promise((d,u)=>{l.subscribe({complete:d,error:u})});o.push(c)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{r()}).catch(s=>{this.reject(s)}),o.length===0&&r(),this.initialized=!0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),e_=new Lt("");function Bie(){Ez(()=>{throw new Kt(600,!1)})}function Vie(e){return e.isBoundToModule}var Hie=10;function Gie(e,i,n){try{let o=n();return xp(o)?o.catch(r=>{throw i.runOutsideAngular(()=>e.handleError(r)),r}):o}catch(o){throw i.runOutsideAngular(()=>e.handleError(o)),o}}var Kl=(()=>{let i=class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(JV),this.afterRenderEffectManager=wt(eH),this.zonelessEnabled=wt(J3),this.externalTestViews=new Set,this.beforeRender=new Wi,this.afterTick=new Wi,this.componentTypes=[],this.components=[],this.isStable=wt(Jh).hasPendingTasks.pipe(It(o=>!o)),this._injector=wt(Yr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,r){let s=o instanceof yx;if(!this._injector.get(xH).done){let f=!s&&cV(o),y=!1;throw new Kt(405,y)}let c;s?c=o:c=this._injector.get(Fm).resolveComponentFactory(o),this.componentTypes.push(c.componentType);let d=Vie(c)?void 0:this._injector.get(Qh),u=r||c.selector,h=c.create(Wl.NULL,[],u,d),g=h.location.nativeElement,p=h.injector.get(yH,null);return p?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),pI(this.components,h),p?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new Kt(101,!1);let r=on(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,on(r),this.afterTick.next()}}detectChangesInAttachedViews(o){let r=null;this._injector.destroyed||(r=this._injector.get(Pm,null,{optional:!0}));let s=0,l=this.afterRenderEffectManager;for(;s<Hie;){let c=s===0;if(o||!c){this.beforeRender.next(c);for(let{_lView:d,notifyErrorHandler:u}of this._views)jie(d,u,c,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(s++,l.executeInternalCallbacks(),!this.allViews.some(({_lView:d})=>mC(d))&&(l.execute(),!this.allViews.some(({_lView:d})=>mC(d))))break}}attachView(o){let r=o;this._views.push(r),r.attachToAppRef(this)}detachView(o){let r=o;pI(this._views,r),r.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);let r=this._injector.get(e_,[]);[...this._bootstrapListeners,...r].forEach(s=>s(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>pI(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Kt(406,!1);let o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function pI(e,i){let n=e.indexOf(i);n>-1&&e.splice(n,1)}function jie(e,i,n,o){if(!n&&!mC(e))return;q7(e,i,n&&!o?0:1)}var l3=class{constructor(i,n){this.ngModuleFactory=i,this.componentFactories=n}},cR=(()=>{let i=class i{compileModuleSync(o){return new i3(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){let r=this.compileModuleSync(o),s=dV(o),l=v7(s.declarations).reduce((c,d)=>{let u=hp(d);return u&&c.push(new CC(u)),c},[]);return new l3(r,l)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Wie=(()=>{let i=class i{constructor(){this.zone=wt(vi),this.changeDetectionScheduler=wt(vC),this.applicationRef=wt(Kl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),Uie=new Lt("",{factory:()=>!1});function _H({ngZoneFactory:e,ignoreChangesOutsideZone:i}){return e??=()=>new vi(EH()),[{provide:vi,useFactory:e},{provide:Mm,multi:!0,useFactory:()=>{let n=wt(Wie,{optional:!0});return()=>n.initialize()}},{provide:Mm,multi:!0,useFactory:()=>{let n=wt(qie);return()=>{n.initialize()}}},{provide:JV,useFactory:$ie},i===!0?{provide:Z7,useValue:!0}:[]]}function $ie(){let e=wt(vi),i=wt(Nu);return n=>e.runOutsideAngular(()=>i.handleError(n))}function DH(e){let i=e?.ignoreChangesOutsideZone,n=_H({ngZoneFactory:()=>{let o=EH(e);return o.shouldCoalesceEventChangeDetection&&Yx("NgZone_CoalesceEvent"),new vi(o)},ignoreChangesOutsideZone:i});return Hu([{provide:Uie,useValue:!0},{provide:J3,useValue:!1},n])}function EH(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var qie=(()=>{let i=class i{constructor(){this.subscription=new Bn,this.initialized=!1,this.zone=wt(vi),this.pendingTasks=wt(Jh)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vi.assertNotInAngularZone(),queueMicrotask(()=>{o!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{vi.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Kie=(()=>{let i=class i{constructor(){this.appRef=wt(Kl),this.taskService=wt(Jh),this.ngZone=wt(vi),this.zonelessEnabled=wt(J3),this.disableScheduling=wt(Z7,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Bn,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof KI||!this.zoneIsDefined)}notify(o){if(!this.zonelessEnabled&&o===5)return;switch(o){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?AB:X7;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&vi.isInAngularZone())}tick(o){if(this.runningTick||this.appRef.destroyed)return;let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(o)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,AB(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let o=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(o)}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Yie(){return typeof $localize<"u"&&$localize.locale||Mx}var dR=new Lt("",{providedIn:"root",factory:()=>wt(dR,Di.Optional|Di.SkipSelf)||Yie()});var MH=new Lt("");var sx=null;function Qie(e=[],i){return Wl.create({name:i,providers:[{provide:Fx,useValue:"platform"},{provide:MH,useValue:new Set([()=>sx=null])},...e]})}function Zie(e=[]){if(sx)return sx;let i=Qie(e);return sx=i,Bie(),Xie(i),i}function Xie(e){e.get(N3,null)?.forEach(n=>n())}function kH(){return!1}var _p=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=Jie;let e=i;return e})();function Jie(e){return ene(qo(),Fi(),(e&16)===16)}function ene(e,i,n){if(Lx(e)&&!n){let o=Zh(e.index,i);return new wp(o,o)}else if(e.type&175){let o=i[Ps];return new wp(o,i)}return null}var c3=class{constructor(){}supports(i){return aH(i)}create(i){return new d3(i)}},tne=(e,i)=>i,d3=class{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||tne}forEachItem(i){let n;for(n=this._itHead;n!==null;n=n._next)i(n)}forEachOperation(i){let n=this._itHead,o=this._removalsHead,r=0,s=null;for(;n||o;){let l=!o||n&&n.currentIndex<HB(o,r,s)?n:o,c=HB(l,r,s),d=l.currentIndex;if(l===o)r--,o=o._nextRemoved;else if(n=n._next,l.previousIndex==null)r++;else{s||(s=[]);let u=c-r,h=d-r;if(u!=h){for(let p=0;p<u;p++){let f=p<s.length?s[p]:s[p]=0,y=f+p;h<=y&&y<u&&(s[p]=f+1)}let g=l.previousIndex;s[g]=h-u}}c!==d&&i(l,c,d)}}forEachPreviousItem(i){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)i(n)}forEachAddedItem(i){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)i(n)}forEachMovedItem(i){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)i(n)}forEachRemovedItem(i){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)i(n)}forEachIdentityChange(i){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)i(n)}diff(i){if(i==null&&(i=[]),!aH(i))throw new Kt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let n=this._itHead,o=!1,r,s,l;if(Array.isArray(i)){this.length=i.length;for(let c=0;c<this.length;c++)s=i[c],l=this._trackByFn(c,s),n===null||!Object.is(n.trackById,l)?(n=this._mismatch(n,s,l,c),o=!0):(o&&(n=this._verifyReinsertion(n,s,l,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,jte(i,c=>{l=this._trackByFn(r,c),n===null||!Object.is(n.trackById,l)?(n=this._mismatch(n,c,l,r),o=!0):(o&&(n=this._verifyReinsertion(n,c,l,r)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=i,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;i!==null;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;i!==null;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,n,o,r){let s;return i===null?s=this._itTail:(s=i._prev,this._remove(i)),i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null),i!==null?(Object.is(i.item,n)||this._addIdentityChange(i,n),this._reinsertAfter(i,s,r)):(i=this._linkedRecords===null?null:this._linkedRecords.get(o,r),i!==null?(Object.is(i.item,n)||this._addIdentityChange(i,n),this._moveAfter(i,s,r)):i=this._addAfter(new u3(n,o),s,r)),i}_verifyReinsertion(i,n,o,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null);return s!==null?i=this._reinsertAfter(s,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;i!==null;){let n=i._next;this._addToRemovals(this._unlink(i)),i=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,n,o){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(i);let r=i._prevRemoved,s=i._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(i,n,o),this._addToMoves(i,o),i}_moveAfter(i,n,o){return this._unlink(i),this._insertAfter(i,n,o),this._addToMoves(i,o),i}_addAfter(i,n,o){return this._insertAfter(i,n,o),this._additionsTail===null?this._additionsTail=this._additionsHead=i:this._additionsTail=this._additionsTail._nextAdded=i,i}_insertAfter(i,n,o){let r=n===null?this._itHead:n._next;return i._next=r,i._prev=n,r===null?this._itTail=i:r._prev=i,n===null?this._itHead=i:n._next=i,this._linkedRecords===null&&(this._linkedRecords=new kx),this._linkedRecords.put(i),i.currentIndex=o,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){this._linkedRecords!==null&&this._linkedRecords.remove(i);let n=i._prev,o=i._next;return n===null?this._itHead=o:n._next=o,o===null?this._itTail=n:o._prev=n,i}_addToMoves(i,n){return i.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=i:this._movesTail=this._movesTail._nextMoved=i),i}_addToRemovals(i){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kx),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,n){return i.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=i:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=i,i}},u3=class{constructor(i,n){this.item=i,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},h3=class{constructor(){this._head=null,this._tail=null}add(i){this._head===null?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,n){let o;for(o=this._head;o!==null;o=o._nextDup)if((n===null||n<=o.currentIndex)&&Object.is(o.trackById,i))return o;return null}remove(i){let n=i._prevDup,o=i._nextDup;return n===null?this._head=o:n._nextDup=o,o===null?this._tail=n:o._prevDup=n,this._head===null}},kx=class{constructor(){this.map=new Map}put(i){let n=i.trackById,o=this.map.get(n);o||(o=new h3,this.map.set(n,o)),o.add(i)}get(i,n){let o=i,r=this.map.get(o);return r?r.get(i,n):null}remove(i){let n=i.trackById;return this.map.get(n).remove(i)&&this.map.delete(n),i}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function HB(e,i,n){let o=e.previousIndex;if(o===null)return o;let r=0;return n&&o<n.length&&(r=n[o]),o+i+r}var g3=class{constructor(){}supports(i){return i instanceof Map||oR(i)}create(){return new p3}},p3=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(i){let n;for(n=this._mapHead;n!==null;n=n._next)i(n)}forEachPreviousItem(i){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)i(n)}forEachChangedItem(i){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)i(n)}forEachAddedItem(i){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)i(n)}forEachRemovedItem(i){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)i(n)}diff(i){if(!i)i=new Map;else if(!(i instanceof Map||oR(i)))throw new Kt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(i,(o,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(r,o);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;o!==null;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,n){if(i){let o=i._prev;return n._next=i,n._prev=o,i._prev=n,o&&(o._next=n),i===this._mapHead&&(this._mapHead=n),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(i,n){if(this._records.has(i)){let r=this._records.get(i);this._maybeAddToChanges(r,n);let s=r._prev,l=r._next;return s&&(s._next=l),l&&(l._prev=s),r._next=null,r._prev=null,r}let o=new f3(i);return this._records.set(i,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;i!==null;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;i!=null;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,n){Object.is(n,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=n,this._addToChanges(i))}_addToAdditions(i){this._additionsHead===null?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){this._changesHead===null?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,n){i instanceof Map?i.forEach(n):Object.keys(i).forEach(o=>n(i[o],o))}},f3=class{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function GB(){return new uR([new c3])}var uR=(()=>{let i=class i{constructor(o){this.factories=o}static create(o,r){if(r!=null){let s=r.factories.slice();o=o.concat(s)}return new i(o)}static extend(o){return{provide:i,useFactory:r=>i.create(o,r||GB()),deps:[[i,new v3,new Tx]]}}find(o){let r=this.factories.find(s=>s.supports(o));if(r!=null)return r;throw new Kt(901,!1)}};i.\u0275prov=xt({token:i,providedIn:"root",factory:GB});let e=i;return e})();function jB(){return new hR([new g3])}var hR=(()=>{let i=class i{constructor(o){this.factories=o}static create(o,r){if(r){let s=r.factories.slice();o=o.concat(s)}return new i(o)}static extend(o){return{provide:i,useFactory:r=>i.create(o,r||jB()),deps:[[i,new v3,new Tx]]}}find(o){let r=this.factories.find(s=>s.supports(o));if(r)return r;throw new Kt(901,!1)}};i.\u0275prov=xt({token:i,providedIn:"root",factory:jB});let e=i;return e})();function IH(e){try{let{rootComponent:i,appProviders:n,platformProviders:o}=e,r=Zie(o),s=[_H({}),{provide:vC,useExisting:Kie},...n||[]],c=new Dx({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=c.get(vi);return d.run(()=>{c.resolveInjectorInitializers();let u=c.get(Nu,null),h;d.runOutsideAngular(()=>{h=d.onError.subscribe({next:f=>{u.handleError(f)}})});let g=()=>c.destroy(),p=r.get(MH);return p.add(g),c.onDestroy(()=>{h.unsubscribe(),p.delete(g)}),Gie(u,d,()=>{let f=c.get(xH);return f.runInitializers(),f.donePromise.then(()=>{let y=c.get(dR,Mx);xie(y||Mx);let M=c.get(Kl);return i!==void 0&&M.bootstrap(i),M})})})}catch(i){return Promise.reject(i)}}var RH=new Lt("");function Dp(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var NH=null;function Yu(){return NH}function OH(e){NH??=e}var t_=class{};var mo=new Lt(""),zH=(()=>{let i=class i{historyGo(o){throw new Error("")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>wt(ine),providedIn:"platform"});let e=i;return e})();var ine=(()=>{let i=class i extends zH{constructor(){super(),this._doc=wt(mo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yu().getBaseHref(this._doc)}onPopState(o){let r=Yu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",o,!1),()=>r.removeEventListener("popstate",o)}onHashChange(o){let r=Yu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",o,!1),()=>r.removeEventListener("hashchange",o)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(o){this._location.pathname=o}pushState(o,r,s){this._history.pushState(o,r,s)}replaceState(o,r,s){this._history.replaceState(o,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>new i,providedIn:"platform"});let e=i;return e})();function BH(e,i){if(e.length==0)return i;if(i.length==0)return e;let n=0;return e.endsWith("/")&&n++,i.startsWith("/")&&n++,n==2?e+i.substring(1):n==1?e+i:e+"/"+i}function AH(e){let i=e.match(/#|\?|$/),n=i&&i.index||e.length,o=n-(e[n-1]==="/"?1:0);return e.slice(0,o)+e.slice(n)}function Ep(e){return e&&e[0]!=="?"?"?"+e:e}var jm=(()=>{let i=class i{historyGo(o){throw new Error("")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>wt(VH),providedIn:"root"});let e=i;return e})(),nne=new Lt(""),VH=(()=>{let i=class i extends jm{constructor(o,r){super(),this._platformLocation=o,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??wt(mo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return BH(this._baseHref,o)}path(o=!1){let r=this._platformLocation.pathname+Ep(this._platformLocation.search),s=this._platformLocation.hash;return s&&o?`${r}${s}`:r}pushState(o,r,s,l){let c=this.prepareExternalUrl(s+Ep(l));this._platformLocation.pushState(o,r,c)}replaceState(o,r,s,l){let c=this.prepareExternalUrl(s+Ep(l));this._platformLocation.replaceState(o,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}};i.\u0275fac=function(r){return new(r||i)(Mt(zH),Mt(nne,8))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var DC=(()=>{let i=class i{constructor(o){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=o;let r=this._locationStrategy.getBaseHref();this._basePath=sne(AH(TH(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(o=!1){return this.normalize(this._locationStrategy.path(o))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(o,r=""){return this.path()==this.normalize(o+Ep(r))}normalize(o){return i.stripTrailingSlash(rne(this._basePath,TH(o)))}prepareExternalUrl(o){return o&&o[0]!=="/"&&(o="/"+o),this._locationStrategy.prepareExternalUrl(o)}go(o,r="",s=null){this._locationStrategy.pushState(s,"",o,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+Ep(r)),s)}replaceState(o,r="",s=null){this._locationStrategy.replaceState(s,"",o,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+Ep(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(o=0){this._locationStrategy.historyGo?.(o)}onUrlChange(o){return this._urlChangeListeners.push(o),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(o);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(o="",r){this._urlChangeListeners.forEach(s=>s(o,r))}subscribe(o,r,s){return this._subject.subscribe({next:o,error:r,complete:s})}};i.normalizeQueryParams=Ep,i.joinWithSlash=BH,i.stripTrailingSlash=AH,i.\u0275fac=function(r){return new(r||i)(Mt(jm))},i.\u0275prov=xt({token:i,factory:()=>one(),providedIn:"root"});let e=i;return e})();function one(){return new DC(Mt(jm))}function rne(e,i){if(!e||!i.startsWith(e))return i;let n=i.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:i}function TH(e){return e.replace(/\/index.html$/,"")}function sne(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function i_(e,i){i=encodeURIComponent(i);for(let n of e.split(";")){let o=n.indexOf("="),[r,s]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===i)return decodeURIComponent(s)}return null}var pR=class{constructor(i,n,o,r){this.$implicit=i,this.ngForOf=n,this.index=o,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gr=(()=>{let i=class i{set ngForOf(o){this._ngForOf=o,this._ngForOfDirty=!0}set ngForTrackBy(o){this._trackByFn=o}get ngForTrackBy(){return this._trackByFn}constructor(o,r,s){this._viewContainer=o,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(o){o&&(this._template=o)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let o=this._ngForOf;if(!this._differ&&o)if(0)try{}catch{}else this._differ=this._differs.find(o).create(this.ngForTrackBy)}if(this._differ){let o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}_applyChanges(o){let r=this._viewContainer;o.forEachOperation((s,l,c)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new pR(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)r.remove(l===null?void 0:l);else if(l!==null){let d=r.get(l);r.move(d,c),FH(d,s)}});for(let s=0,l=r.length;s<l;s++){let d=r.get(s).context;d.index=s,d.count=l,d.ngForOf=this._ngForOf}o.forEachIdentityChange(s=>{let l=r.get(s.currentIndex);FH(l,s)})}static ngTemplateContextGuard(o,r){return!0}};i.\u0275fac=function(r){return new(r||i)(lt(zs),lt(zu),lt(uR))},i.\u0275dir=No({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=i;return e})();function FH(e,i){e.context.$implicit=i.item}var pr=(()=>{let i=class i{constructor(o,r){this._viewContainer=o,this._context=new fR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(o){this._context.$implicit=this._context.ngIf=o,this._updateView()}set ngIfThen(o){PH("ngIfThen",o),this._thenTemplateRef=o,this._thenViewRef=null,this._updateView()}set ngIfElse(o){PH("ngIfElse",o),this._elseTemplateRef=o,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(o,r){return!0}};i.\u0275fac=function(r){return new(r||i)(lt(zs),lt(zu))},i.\u0275dir=No({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=i;return e})(),fR=class{constructor(){this.$implicit=null,this.ngIf=null}};function PH(e,i){if(!!!(!i||i.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${_r(i)}'.`)}var HH=(()=>{let i=class i{transform(o){return JSON.stringify(o,null,2)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=y3({name:"json",type:i,pure:!1,standalone:!0});let e=i;return e})();function ane(e,i){return{key:e,value:i}}var Wm=(()=>{let i=class i{constructor(o){this.differs=o,this.keyValues=[],this.compareFn=LH}transform(o,r=LH){if(!o||!(o instanceof Map)&&typeof o!="object")return null;this.differ??=this.differs.find(o).create();let s=this.differ.diff(o),l=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(c=>{this.keyValues.push(ane(c.key,c.currentValue))})),(s||l)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}};i.\u0275fac=function(r){return new(r||i)(lt(hR,16))},i.\u0275pipe=y3({name:"keyvalue",type:i,pure:!1,standalone:!0});let e=i;return e})();function LH(e,i){let n=e.key,o=i.key;if(n===o)return 0;if(n===void 0)return 1;if(o===void 0)return-1;if(n===null)return 1;if(o===null)return-1;if(typeof n=="string"&&typeof o=="string")return n<o?-1:1;if(typeof n=="number"&&typeof o=="number")return n-o;if(typeof n=="boolean"&&typeof o=="boolean")return n<o?-1:1;let r=String(n),s=String(o);return r==s?0:r<s?-1:1}var In=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({});let e=i;return e})(),vR="browser",lne="server";function CR(e){return e===vR}function n_(e){return e===lne}var Gm=class{};var MC=class{},r_=class{},Xi=class e{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(n=>{let o=n.indexOf(":");if(o>0){let r=n.slice(0,o),s=r.toLowerCase(),l=n.slice(o+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((n,o)=>{this.setHeaderEntries(o,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([n,o])=>{this.setHeaderEntries(n,o)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){let n=i.name.toLowerCase();switch(i.op){case"a":case"s":let o=i.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(i.name,n);let r=(i.op==="a"?this.headers.get(n):void 0)||[];r.push(...o),this.headers.set(n,r);break;case"d":let s=i.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let l=this.headers.get(n);if(!l)return;l=l.filter(c=>s.indexOf(c)===-1),l.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,l)}break}}setHeaderEntries(i,n){let o=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=i.toLowerCase();this.headers.set(r,o),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}};var bR=class{encodeKey(i){return GH(i)}encodeValue(i){return GH(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function cne(e,i){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[l,c]=s==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,s)),i.decodeValue(r.slice(s+1))],d=n.get(l)||[];d.push(c),n.set(l,d)}),n}var dne=/%(\d[a-f0-9])/gi,une={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GH(e){return encodeURIComponent(e).replace(dne,(i,n)=>une[n]??i)}function o_(e){return`${e}`}var Jr=class e{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new bR,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cne(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{let o=i.fromObject[n],r=Array.isArray(o)?o.map(o_):[o_(o)];this.map.set(n,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){let n=[];return Object.keys(i).forEach(o=>{let r=i[o];Array.isArray(r)?r.forEach(s=>{n.push({param:o,value:s,op:"a"})}):n.push({param:o,value:r,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let n=this.encoder.encodeKey(i);return this.map.get(i).map(o=>n+"="+this.encoder.encodeValue(o)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let n=(i.op==="a"?this.map.get(i.param):void 0)||[];n.push(o_(i.value)),this.map.set(i.param,n);break;case"d":if(i.value!==void 0){let o=this.map.get(i.param)||[],r=o.indexOf(o_(i.value));r!==-1&&o.splice(r,1),o.length>0?this.map.set(i.param,o):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var yR=class{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function hne(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jH(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function WH(e){return typeof Blob<"u"&&e instanceof Blob}function UH(e){return typeof FormData<"u"&&e instanceof FormData}function gne(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var EC=class e{constructor(i,n,o,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase();let s;if(hne(this.method)||r?(this.body=o!==void 0?o:null,s=r):s=o,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Xi,this.context??=new yR,!this.params)this.params=new Jr,this.urlWithParams=n;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),d=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+d+l}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jH(this.body)||WH(this.body)||UH(this.body)||gne(this.body)?this.body:this.body instanceof Jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||UH(this.body)?null:WH(this.body)?this.body.type||null:jH(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(i={}){let n=i.method||this.method,o=i.url||this.url,r=i.responseType||this.responseType,s=i.transferCache??this.transferCache,l=i.body!==void 0?i.body:this.body,c=i.withCredentials??this.withCredentials,d=i.reportProgress??this.reportProgress,u=i.headers||this.headers,h=i.params||this.params,g=i.context??this.context;return i.setHeaders!==void 0&&(u=Object.keys(i.setHeaders).reduce((p,f)=>p.set(f,i.setHeaders[f]),u)),i.setParams&&(h=Object.keys(i.setParams).reduce((p,f)=>p.set(f,i.setParams[f]),h)),new e(n,o,l,{params:h,headers:u,context:g,reportProgress:d,responseType:r,withCredentials:c,transferCache:s})}},Ko=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ko||{}),kC=class{constructor(i,n=200,o="OK"){this.headers=i.headers||new Xi,this.status=i.status!==void 0?i.status:n,this.statusText=i.statusText||o,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},s_=class e extends kC{constructor(i={}){super(i),this.type=Ko.ResponseHeader}clone(i={}){return new e({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},IC=class e extends kC{constructor(i={}){super(i),this.type=Ko.Response,this.body=i.body!==void 0?i.body:null}clone(i={}){return new e({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},eg=class extends kC{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},YH=200,pne=204;function wR(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Mr=(()=>{let i=class i{constructor(o){this.handler=o}request(o,r,s={}){let l;if(o instanceof EC)l=o;else{let u;s.headers instanceof Xi?u=s.headers:u=new Xi(s.headers);let h;s.params&&(s.params instanceof Jr?h=s.params:h=new Jr({fromObject:s.params})),l=new EC(o,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let c=Nt(l).pipe(Hh(u=>this.handler.handle(u)));if(o instanceof EC||s.observe==="events")return c;let d=c.pipe(bi(u=>u instanceof IC));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return d.pipe(It(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return d.pipe(It(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return d.pipe(It(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return d.pipe(It(u=>u.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(o,r={}){return this.request("DELETE",o,r)}get(o,r={}){return this.request("GET",o,r)}head(o,r={}){return this.request("HEAD",o,r)}jsonp(o,r){return this.request("JSONP",o,{params:new Jr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,r={}){return this.request("OPTIONS",o,r)}patch(o,r,s={}){return this.request("PATCH",o,wR(s,r))}post(o,r,s={}){return this.request("POST",o,wR(s,r))}put(o,r,s={}){return this.request("PUT",o,wR(s,r))}};i.\u0275fac=function(r){return new(r||i)(Mt(MC))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),fne=/^\)\]\}',?\n/,mne="X-Request-URL";function $H(e){if(e.url)return e.url;let i=mne.toLocaleLowerCase();return e.headers.get(i)}var vne=(()=>{let i=class i{constructor(){this.fetchImpl=wt(SR,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=wt(vi)}handle(o){return new oi(r=>{let s=new AbortController;return this.doRequest(o,s.signal,r).then(xR,l=>r.error(new eg({error:l}))),()=>s.abort()})}doRequest(o,r,s){return Nn(this,null,function*(){let l=this.createRequestInit(o),c;try{let y=this.fetchImpl(o.urlWithParams,We({signal:r},l));Cne(y),s.next({type:Ko.Sent}),c=yield y}catch(y){s.error(new eg({error:y,status:y.status??0,statusText:y.statusText,url:o.urlWithParams,headers:y.headers}));return}let d=new Xi(c.headers),u=c.statusText,h=$H(c)??o.urlWithParams,g=c.status,p=null;if(o.reportProgress&&s.next(new s_({headers:d,status:g,statusText:u,url:h})),c.body){let y=c.headers.get("content-length"),M=[],k=c.body.getReader(),G=0,J,$,_e=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Nn(this,null,function*(){for(;;){let{done:Pe,value:$e}=yield k.read();if(Pe)break;if(M.push($e),G+=$e.length,o.reportProgress){$=o.responseType==="text"?($??"")+(J??=new TextDecoder).decode($e,{stream:!0}):void 0;let nt=()=>s.next({type:Ko.DownloadProgress,total:y?+y:void 0,loaded:G,partialText:$});_e?_e.run(nt):nt()}}}));let Te=this.concatChunks(M,G);try{let Pe=c.headers.get("Content-Type")??"";p=this.parseBody(o,Te,Pe)}catch(Pe){s.error(new eg({error:Pe,headers:new Xi(c.headers),status:c.status,statusText:c.statusText,url:$H(c)??o.urlWithParams}));return}}g===0&&(g=p?YH:0),g>=200&&g<300?(s.next(new IC({body:p,headers:d,status:g,statusText:u,url:h})),s.complete()):s.error(new eg({error:p,headers:d,status:g,statusText:u,url:h}))})}parseBody(o,r,s){switch(o.responseType){case"json":let l=new TextDecoder().decode(r).replace(fne,"");return l===""?null:JSON.parse(l);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(o){let r={},s=o.withCredentials?"include":void 0;if(o.headers.forEach((l,c)=>r[l]=c.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let l=o.detectContentTypeHeader();l!==null&&(r["Content-Type"]=l)}return{body:o.serializeBody(),method:o.method,headers:r,credentials:s}}concatChunks(o,r){let s=new Uint8Array(r),l=0;for(let c of o)s.set(c,l),l+=c.length;return s}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),SR=class{};function xR(){}function Cne(e){e.then(xR,xR)}function wne(e,i){return i(e)}function bne(e,i,n){return(o,r)=>ll(n,()=>i(o,s=>e(s,r)))}var QH=new Lt(""),yne=new Lt(""),Sne=new Lt("",{providedIn:"root",factory:()=>!0});var qH=(()=>{let i=class i extends MC{constructor(o,r){super(),this.backend=o,this.injector=r,this.chain=null,this.pendingTasks=wt(Jh),this.contributeToStability=wt(Sne)}handle(o){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(QH),...this.injector.get(yne,[])]));this.chain=r.reduceRight((s,l)=>bne(s,l,this.injector),wne)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(o,s=>this.backend.handle(s)).pipe(rp(()=>this.pendingTasks.remove(r)))}else return this.chain(o,r=>this.backend.handle(r))}};i.\u0275fac=function(r){return new(r||i)(Mt(r_),Mt(Yr))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})();var xne=/^\)\]\}',?\n/;function _ne(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var KH=(()=>{let i=class i{constructor(o){this.xhrFactory=o}handle(o){if(o.method==="JSONP")throw new Kt(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?fn(r.\u0275loadImpl()):Nt(null)).pipe(cn(()=>new oi(l=>{let c=r.build();if(c.open(o.method,o.urlWithParams),o.withCredentials&&(c.withCredentials=!0),o.headers.forEach((k,G)=>c.setRequestHeader(k,G.join(","))),o.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){let k=o.detectContentTypeHeader();k!==null&&c.setRequestHeader("Content-Type",k)}if(o.responseType){let k=o.responseType.toLowerCase();c.responseType=k!=="json"?k:"text"}let d=o.serializeBody(),u=null,h=()=>{if(u!==null)return u;let k=c.statusText||"OK",G=new Xi(c.getAllResponseHeaders()),J=_ne(c)||o.url;return u=new s_({headers:G,status:c.status,statusText:k,url:J}),u},g=()=>{let{headers:k,status:G,statusText:J,url:$}=h(),_e=null;G!==pne&&(_e=typeof c.response>"u"?c.responseText:c.response),G===0&&(G=_e?YH:0);let Te=G>=200&&G<300;if(o.responseType==="json"&&typeof _e=="string"){let Pe=_e;_e=_e.replace(xne,"");try{_e=_e!==""?JSON.parse(_e):null}catch($e){_e=Pe,Te&&(Te=!1,_e={error:$e,text:_e})}}Te?(l.next(new IC({body:_e,headers:k,status:G,statusText:J,url:$||void 0})),l.complete()):l.error(new eg({error:_e,headers:k,status:G,statusText:J,url:$||void 0}))},p=k=>{let{url:G}=h(),J=new eg({error:k,status:c.status||0,statusText:c.statusText||"Unknown Error",url:G||void 0});l.error(J)},f=!1,y=k=>{f||(l.next(h()),f=!0);let G={type:Ko.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(G.total=k.total),o.responseType==="text"&&c.responseText&&(G.partialText=c.responseText),l.next(G)},M=k=>{let G={type:Ko.UploadProgress,loaded:k.loaded};k.lengthComputable&&(G.total=k.total),l.next(G)};return c.addEventListener("load",g),c.addEventListener("error",p),c.addEventListener("timeout",p),c.addEventListener("abort",p),o.reportProgress&&(c.addEventListener("progress",y),d!==null&&c.upload&&c.upload.addEventListener("progress",M)),c.send(d),l.next({type:Ko.Sent}),()=>{c.removeEventListener("error",p),c.removeEventListener("abort",p),c.removeEventListener("load",g),c.removeEventListener("timeout",p),o.reportProgress&&(c.removeEventListener("progress",y),d!==null&&c.upload&&c.upload.removeEventListener("progress",M)),c.readyState!==c.DONE&&c.abort()}})))}};i.\u0275fac=function(r){return new(r||i)(Mt(Gm))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),ZH=new Lt(""),Dne="XSRF-TOKEN",Ene=new Lt("",{providedIn:"root",factory:()=>Dne}),Mne="X-XSRF-TOKEN",kne=new Lt("",{providedIn:"root",factory:()=>Mne}),a_=class{},Ine=(()=>{let i=class i{constructor(o,r,s){this.doc=o,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=i_(o,this.cookieName),this.lastCookieString=o),this.lastToken}};i.\u0275fac=function(r){return new(r||i)(Mt(mo),Mt(dl),Mt(Ene))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})();function Rne(e,i){let n=e.url.toLowerCase();if(!wt(ZH)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return i(e);let o=wt(a_).getToken(),r=wt(kne);return o!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,o)})),i(e)}function XH(...e){let i=[Mr,KH,qH,{provide:MC,useExisting:qH},{provide:r_,useFactory:()=>wt(vne,{optional:!0})??wt(KH)},{provide:QH,useValue:Rne,multi:!0},{provide:ZH,useValue:!0},{provide:a_,useClass:Ine}];for(let n of e)i.push(...n.\u0275providers);return Hu(i)}var ER=class extends t_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},MR=class e extends ER{static makeCurrent(){OH(new e)}onAndCancel(i,n,o){return i.addEventListener(n,o),()=>{i.removeEventListener(n,o)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return n=n||this.getDefaultDocument(),n.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return n==="window"?window:n==="document"?i:n==="body"?i.body:null}getBaseHref(i){let n=Ane();return n==null?null:Tne(n)}resetBaseElement(){RC=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return i_(document.cookie,i)}},RC=null;function Ane(){return RC=RC||document.querySelector("base"),RC?RC.getAttribute("href"):null}function Tne(e){return new URL(e,document.baseURI).pathname}var Fne=(()=>{let i=class i{build(){return new XMLHttpRequest}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),l_=new Lt(""),i9=(()=>{let i=class i{constructor(o,r){this._zone=r,this._eventNameToPlugin=new Map,o.forEach(s=>{s.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,r,s){return this._findPluginFor(r).addEventListener(o,r,s)}getZone(){return this._zone}_findPluginFor(o){let r=this._eventNameToPlugin.get(o);if(r)return r;if(r=this._plugins.find(l=>l.supports(o)),!r)throw new Kt(5101,!1);return this._eventNameToPlugin.set(o,r),r}};i.\u0275fac=function(r){return new(r||i)(Mt(l_),Mt(vi))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),AC=class{constructor(i){this._doc=i}},_R="ng-app-id",n9=(()=>{let i=class i{constructor(o,r,s,l={}){this.doc=o,this.appId=r,this.nonce=s,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=n_(l),this.resetHostNodes()}addStyles(o){for(let r of o)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(o){for(let r of o)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let o=this.styleNodesInDOM;o&&(o.forEach(r=>r.remove()),o.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(o){this.hostNodes.add(o);for(let r of this.getAllStyles())this.addStyleToHost(o,r)}removeHost(o){this.hostNodes.delete(o)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(o){for(let r of this.hostNodes)this.addStyleToHost(r,o)}onStyleRemoved(o){let r=this.styleRef;r.get(o)?.elements?.forEach(s=>s.remove()),r.delete(o)}collectServerRenderedStyles(){let o=this.doc.head?.querySelectorAll(`style[${_R}="${this.appId}"]`);if(o?.length){let r=new Map;return o.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(o,r){let s=this.styleRef;if(s.has(o)){let l=s.get(o);return l.usage+=r,l.usage}return s.set(o,{usage:r,elements:[]}),r}getStyleElement(o,r){let s=this.styleNodesInDOM,l=s?.get(r);if(l?.parentNode===o)return s.delete(r),l.removeAttribute(_R),l;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(_R,this.appId),o.appendChild(c),c}}addStyleToHost(o,r){let s=this.getStyleElement(o,r),l=this.styleRef,c=l.get(r)?.elements;c?c.push(s):l.set(r,{elements:[s],usage:1})}resetHostNodes(){let o=this.hostNodes;o.clear(),o.add(this.doc.head)}};i.\u0275fac=function(r){return new(r||i)(Mt(mo),Mt(L3),Mt(O3,8),Mt(dl))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),DR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},IR=/%COMP%/g,o9="%COMP%",Pne=`_nghost-${o9}`,Lne=`_ngcontent-${o9}`,Nne=!0,One=new Lt("",{providedIn:"root",factory:()=>Nne});function zne(e){return Lne.replace(IR,e)}function Bne(e){return Pne.replace(IR,e)}function r9(e,i){return i.map(n=>n.replace(IR,e))}var JH=(()=>{let i=class i{constructor(o,r,s,l,c,d,u,h=null){this.eventManager=o,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=d,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=n_(d),this.defaultRenderer=new TC(o,c,u,this.platformIsServer)}createRenderer(o,r){if(!o||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hl.ShadowDom&&(r=At(We({},r),{encapsulation:Hl.Emulated}));let s=this.getOrCreateRenderer(o,r);return s instanceof c_?s.applyToHost(o):s instanceof FC&&s.applyStyles(),s}getOrCreateRenderer(o,r){let s=this.rendererByCompId,l=s.get(r.id);if(!l){let c=this.doc,d=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Hl.Emulated:l=new c_(u,h,r,this.appId,g,c,d,p);break;case Hl.ShadowDom:return new kR(u,h,o,r,c,d,this.nonce,p);default:l=new FC(u,h,r,g,c,d,p);break}s.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}};i.\u0275fac=function(r){return new(r||i)(Mt(i9),Mt(n9),Mt(L3),Mt(One),Mt(mo),Mt(dl),Mt(vi),Mt(O3))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),TC=class{constructor(i,n,o,r){this.eventManager=i,this.doc=n,this.ngZone=o,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,n){return n?this.doc.createElementNS(DR[n]||n,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,n){(e9(i)?i.content:i).appendChild(n)}insertBefore(i,n,o){i&&(e9(i)?i.content:i).insertBefore(n,o)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let o=typeof i=="string"?this.doc.querySelector(i):i;if(!o)throw new Kt(-5104,!1);return n||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,o,r){if(r){n=r+":"+n;let s=DR[r];s?i.setAttributeNS(s,n,o):i.setAttribute(n,o)}else i.setAttribute(n,o)}removeAttribute(i,n,o){if(o){let r=DR[o];r?i.removeAttributeNS(r,n):i.removeAttribute(`${o}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,o,r){r&(Ou.DashCase|Ou.Important)?i.style.setProperty(n,o,r&Ou.Important?"important":""):i.style[n]=o}removeStyle(i,n,o){o&Ou.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,o){i!=null&&(i[n]=o)}setValue(i,n){i.nodeValue=n}listen(i,n,o){if(typeof i=="string"&&(i=Yu().getGlobalEventTarget(this.doc,i),!i))throw new Error(`Unsupported event target ${i} for event ${n}`);return this.eventManager.addEventListener(i,n,this.decoratePreventDefault(o))}decoratePreventDefault(i){return n=>{if(n==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(n)):i(n))===!1&&n.preventDefault()}}};function e9(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var kR=class extends TC{constructor(i,n,o,r,s,l,c,d){super(i,s,l,d),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r9(r.id,r.styles);for(let h of u){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,o){return super.insertBefore(this.nodeOrShadowRoot(i),n,o)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},FC=class extends TC{constructor(i,n,o,r,s,l,c,d){super(i,s,l,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?r9(d,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},c_=class extends FC{constructor(i,n,o,r,s,l,c,d){let u=r+"-"+o.id;super(i,n,o,s,l,c,d,u),this.contentAttr=zne(u),this.hostAttr=Bne(u)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,n){let o=super.createElement(i,n);return super.setAttribute(o,this.contentAttr,""),o}},Vne=(()=>{let i=class i extends AC{constructor(o){super(o)}supports(o){return!0}addEventListener(o,r,s){return o.addEventListener(r,s,!1),()=>this.removeEventListener(o,r,s)}removeEventListener(o,r,s){return o.removeEventListener(r,s)}};i.\u0275fac=function(r){return new(r||i)(Mt(mo))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),Hne=(()=>{let i=class i extends AC{constructor(o){super(o),this.delegate=wt(RH,{optional:!0})}supports(o){return this.delegate?this.delegate.supports(o):!1}addEventListener(o,r,s){return this.delegate.addEventListener(o,r,s)}removeEventListener(o,r,s){return this.delegate.removeEventListener(o,r,s)}};i.\u0275fac=function(r){return new(r||i)(Mt(mo))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),t9=["alt","control","meta","shift"],Gne={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jne={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Wne=(()=>{let i=class i extends AC{constructor(o){super(o)}supports(o){return i.parseEventName(o)!=null}addEventListener(o,r,s){let l=i.parseEventName(r),c=i.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yu().onAndCancel(o,l.domEventName,c))}static parseEventName(o){let r=o.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let l=i._normalizeKey(r.pop()),c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),t9.forEach(h=>{let g=r.indexOf(h);g>-1&&(r.splice(g,1),c+=h+".")}),c+=l,r.length!=0||l.length===0)return null;let u={};return u.domEventName=s,u.fullKey=c,u}static matchEventFullKeyCode(o,r){let s=Gne[o.key]||o.key,l="";return r.indexOf("code.")>-1&&(s=o.code,l="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),t9.forEach(c=>{if(c!==s){let d=jne[c];d(o)&&(l+=c+".")}}),l+=s,l===r)}static eventCallback(o,r,s){return l=>{i.matchEventFullKeyCode(l,o)&&s.runGuarded(()=>r(l))}}static _normalizeKey(o){return o==="esc"?"escape":o}};i.\u0275fac=function(r){return new(r||i)(Mt(mo))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})();function s9(e,i){return IH(We({rootComponent:e},Une(i)))}function Une(e){return{appProviders:[...Qne,...e?.providers??[]],platformProviders:Yne}}function $ne(){MR.makeCurrent()}function qne(){return new Nu}function Kne(){return s7(document),document}var Yne=[{provide:dl,useValue:vR},{provide:N3,useValue:$ne,multi:!0},{provide:mo,useFactory:Kne,deps:[]}];var Qne=[{provide:Fx,useValue:"root"},{provide:Nu,useFactory:qne,deps:[]},{provide:l_,useClass:Vne,multi:!0,deps:[mo,vi,dl]},{provide:l_,useClass:Wne,multi:!0,deps:[mo]},{provide:l_,useClass:Hne,multi:!0},JH,n9,i9,{provide:Pm,useExisting:JH},{provide:Gm,useClass:Fne,deps:[]},[]];var a9=(()=>{let i=class i{constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}};i.\u0275fac=function(r){return new(r||i)(Mt(mo))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Si="primary",QC=Symbol("RouteTitle"),PR=class{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){let n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qm(e){return new PR(e)}function Xne(e,i,n){let o=n.path.split("/");if(o.length>e.length||n.pathMatch==="full"&&(i.hasChildren()||o.length<e.length))return null;let r={};for(let s=0;s<o.length;s++){let l=o[s],c=e[s];if(l[0]===":")r[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:e.slice(0,o.length),posParams:r}}function Jne(e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;++n)if(!Yl(e[n],i[n]))return!1;return!0}function Yl(e,i){let n=e?LR(e):void 0,o=i?LR(i):void 0;if(!n||!o||n.length!=o.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!f9(e[r],i[r]))return!1;return!0}function LR(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function f9(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;let n=[...e].sort(),o=[...i].sort();return n.every((r,s)=>o[s]===r)}else return e===i}function m9(e){return e.length>0?e[e.length-1]:null}function ng(e){return q2(e)?e:xp(e)?fn(Promise.resolve(e)):Nt(e)}var eoe={exact:C9,subset:w9},v9={exact:toe,subset:ioe,ignored:()=>!0};function l9(e,i,n){return eoe[n.paths](e.root,i.root,n.matrixParams)&&v9[n.queryParams](e.queryParams,i.queryParams)&&!(n.fragment==="exact"&&e.fragment!==i.fragment)}function toe(e,i){return Yl(e,i)}function C9(e,i,n){if(!Ip(e.segments,i.segments)||!h_(e.segments,i.segments,n)||e.numberOfChildren!==i.numberOfChildren)return!1;for(let o in i.children)if(!e.children[o]||!C9(e.children[o],i.children[o],n))return!1;return!0}function ioe(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(n=>f9(e[n],i[n]))}function w9(e,i,n){return b9(e,i,i.segments,n)}function b9(e,i,n,o){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Ip(r,n)||i.hasChildren()||!h_(r,n,o))}else if(e.segments.length===n.length){if(!Ip(e.segments,n)||!h_(e.segments,n,o))return!1;for(let r in i.children)if(!e.children[r]||!w9(e.children[r],i.children[r],o))return!1;return!0}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!Ip(e.segments,r)||!h_(e.segments,r,o)||!e.children[Si]?!1:b9(e.children[Si],i,s,o)}}function h_(e,i,n){return i.every((o,r)=>v9[n](e[r].parameters,o.parameters))}var tg=class{constructor(i=new un([],{}),n={},o=null){this.root=i,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=Qm(this.queryParams),this._queryParamMap}toString(){return roe.serialize(this)}},un=class{constructor(i,n){this.segments=i,this.children=n,this.parent=null,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g_(this)}},kp=class{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap??=Qm(this.parameters),this._parameterMap}toString(){return S9(this)}};function noe(e,i){return Ip(e,i)&&e.every((n,o)=>Yl(n.parameters,i[o].parameters))}function Ip(e,i){return e.length!==i.length?!1:e.every((n,o)=>n.path===i[o].path)}function ooe(e,i){let n=[];return Object.entries(e.children).forEach(([o,r])=>{o===Si&&(n=n.concat(i(r,o)))}),Object.entries(e.children).forEach(([o,r])=>{o!==Si&&(n=n.concat(i(r,o)))}),n}var aA=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>new VC,providedIn:"root"});let e=i;return e})(),VC=class{parse(i){let n=new OR(i);return new tg(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){let n=`/${PC(i.root,!0)}`,o=loe(i.queryParams),r=typeof i.fragment=="string"?`#${soe(i.fragment)}`:"";return`${n}${o}${r}`}},roe=new VC;function g_(e){return e.segments.map(i=>S9(i)).join("/")}function PC(e,i){if(!e.hasChildren())return g_(e);if(i){let n=e.children[Si]?PC(e.children[Si],!1):"",o=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Si&&o.push(`${r}:${PC(s,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}else{let n=ooe(e,(o,r)=>r===Si?[PC(e.children[Si],!1)]:[`${r}:${PC(o,!1)}`]);return Object.keys(e.children).length===1&&e.children[Si]!=null?`${g_(e)}/${n[0]}`:`${g_(e)}/(${n.join("//")})`}}function y9(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d_(e){return y9(e).replace(/%3B/gi,";")}function soe(e){return encodeURI(e)}function NR(e){return y9(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function p_(e){return decodeURIComponent(e)}function c9(e){return p_(e.replace(/\+/g,"%20"))}function S9(e){return`${NR(e.path)}${aoe(e.parameters)}`}function aoe(e){return Object.entries(e).map(([i,n])=>`;${NR(i)}=${NR(n)}`).join("")}function loe(e){let i=Object.entries(e).map(([n,o])=>Array.isArray(o)?o.map(r=>`${d_(n)}=${d_(r)}`).join("&"):`${d_(n)}=${d_(o)}`).filter(n=>n);return i.length?`?${i.join("&")}`:""}var coe=/^[^\/()?;#]+/;function RR(e){let i=e.match(coe);return i?i[0]:""}var doe=/^[^\/()?;=#]+/;function uoe(e){let i=e.match(doe);return i?i[0]:""}var hoe=/^[^=?&#]+/;function goe(e){let i=e.match(hoe);return i?i[0]:""}var poe=/^[^&#]+/;function foe(e){let i=e.match(poe);return i?i[0]:""}var OR=class{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(o[Si]=new un(i,n)),o}parseSegment(){let i=RR(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new Kt(4009,!1);return this.capture(i),new kp(p_(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let n=uoe(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let r=RR(this.remaining);r&&(o=r,this.capture(o))}i[p_(n)]=p_(o)}parseQueryParam(i){let n=goe(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let l=foe(this.remaining);l&&(o=l,this.capture(o))}let r=c9(n),s=c9(o);if(i.hasOwnProperty(r)){let l=i[r];Array.isArray(l)||(l=[l],i[r]=l),l.push(s)}else i[r]=s}parseParens(i){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=RR(this.remaining),r=this.remaining[o.length];if(r!=="/"&&r!==")"&&r!==";")throw new Kt(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=Si);let l=this.parseChildren();n[s]=Object.keys(l).length===1?l[Si]:new un([],l),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new Kt(4011,!1)}};function x9(e){return e.segments.length>0?new un([],{[Si]:e}):e}function _9(e){let i={};for(let[o,r]of Object.entries(e.children)){let s=_9(r);if(o===Si&&s.segments.length===0&&s.hasChildren())for(let[l,c]of Object.entries(s.children))i[l]=c;else(s.segments.length>0||s.hasChildren())&&(i[o]=s)}let n=new un(e.segments,i);return moe(n)}function moe(e){if(e.numberOfChildren===1&&e.children[Si]){let i=e.children[Si];return new un(e.segments.concat(i.segments),i.children)}return e}function HC(e){return e instanceof tg}function voe(e,i,n=null,o=null){let r=D9(e);return E9(r,i,n,o)}function D9(e){let i;function n(s){let l={};for(let d of s.children){let u=n(d);l[d.outlet]=u}let c=new un(s.url,l);return s===e&&(i=c),c}let o=n(e.root),r=x9(o);return i??r}function E9(e,i,n,o){let r=e;for(;r.parent;)r=r.parent;if(i.length===0)return AR(r,r,r,n,o);let s=Coe(i);if(s.toRoot())return AR(r,r,new un([],{}),n,o);let l=woe(s,r,e),c=l.processChildren?OC(l.segmentGroup,l.index,s.commands):k9(l.segmentGroup,l.index,s.commands);return AR(r,l.segmentGroup,c,n,o)}function f_(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function GC(e){return typeof e=="object"&&e!=null&&e.outlets}function AR(e,i,n,o,r){let s={};o&&Object.entries(o).forEach(([d,u])=>{s[d]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let l;e===i?l=n:l=M9(e,i,n);let c=x9(_9(l));return new tg(c,s,r)}function M9(e,i,n){let o={};return Object.entries(e.children).forEach(([r,s])=>{s===i?o[r]=n:o[r]=M9(s,i,n)}),new un(e.segments,o)}var m_=class{constructor(i,n,o){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=o,i&&o.length>0&&f_(o[0]))throw new Kt(4003,!1);let r=o.find(GC);if(r&&r!==m9(o))throw new Kt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Coe(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new m_(!0,0,e);let i=0,n=!1,o=e.reduce((r,s,l)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([d,u])=>{c[d]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:l===0?(s.split("/").forEach((c,d)=>{d==0&&c==="."||(d==0&&c===""?n=!0:c===".."?i++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new m_(n,i,o)}var qm=class{constructor(i,n,o){this.segmentGroup=i,this.processChildren=n,this.index=o}};function woe(e,i,n){if(e.isAbsolute)return new qm(i,!0,0);if(!n)return new qm(i,!1,NaN);if(n.parent===null)return new qm(n,!0,0);let o=f_(e.commands[0])?0:1,r=n.segments.length-1+o;return boe(n,r,e.numberOfDoubleDots)}function boe(e,i,n){let o=e,r=i,s=n;for(;s>r;){if(s-=r,o=o.parent,!o)throw new Kt(4005,!1);r=o.segments.length}return new qm(o,!1,r-s)}function yoe(e){return GC(e[0])?e[0].outlets:{[Si]:e}}function k9(e,i,n){if(e??=new un([],{}),e.segments.length===0&&e.hasChildren())return OC(e,i,n);let o=Soe(e,i,n),r=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){let s=new un(e.segments.slice(0,o.pathIndex),{});return s.children[Si]=new un(e.segments.slice(o.pathIndex),e.children),OC(s,0,r)}else return o.match&&r.length===0?new un(e.segments,{}):o.match&&!e.hasChildren()?zR(e,i,n):o.match?OC(e,0,r):zR(e,i,n)}function OC(e,i,n){if(n.length===0)return new un(e.segments,{});{let o=yoe(n),r={};if(Object.keys(o).some(s=>s!==Si)&&e.children[Si]&&e.numberOfChildren===1&&e.children[Si].segments.length===0){let s=OC(e.children[Si],i,n);return new un(e.segments,s.children)}return Object.entries(o).forEach(([s,l])=>{typeof l=="string"&&(l=[l]),l!==null&&(r[s]=k9(e.children[s],i,l))}),Object.entries(e.children).forEach(([s,l])=>{o[s]===void 0&&(r[s]=l)}),new un(e.segments,r)}}function Soe(e,i,n){let o=0,r=i,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(o>=n.length)return s;let l=e.segments[r],c=n[o];if(GC(c))break;let d=`${c}`,u=o<n.length-1?n[o+1]:null;if(r>0&&d===void 0)break;if(d&&u&&typeof u=="object"&&u.outlets===void 0){if(!u9(d,u,l))return s;o+=2}else{if(!u9(d,{},l))return s;o++}r++}return{match:!0,pathIndex:r,commandIndex:o}}function zR(e,i,n){let o=e.segments.slice(0,i),r=0;for(;r<n.length;){let s=n[r];if(GC(s)){let d=xoe(s.outlets);return new un(o,d)}if(r===0&&f_(n[0])){let d=e.segments[i];o.push(new kp(d.path,d9(n[0]))),r++;continue}let l=GC(s)?s.outlets[Si]:`${s}`,c=r<n.length-1?n[r+1]:null;l&&c&&f_(c)?(o.push(new kp(l,d9(c))),r+=2):(o.push(new kp(l,{})),r++)}return new un(o,{})}function xoe(e){let i={};return Object.entries(e).forEach(([n,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[n]=zR(new un([],{}),0,o))}),i}function d9(e){let i={};return Object.entries(e).forEach(([n,o])=>i[n]=`${o}`),i}function u9(e,i,n){return e==n.path&&Yl(i,n.parameters)}var zC="imperative",Yo=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Yo||{}),Vs=class{constructor(i,n){this.id=i,this.url=n}},jC=class extends Vs{constructor(i,n,o="imperative",r=null){super(i,n),this.type=Yo.NavigationStart,this.navigationTrigger=o,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ig=class extends Vs{constructor(i,n,o){super(i,n),this.urlAfterRedirects=o,this.type=Yo.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ps=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ps||{}),BR=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(BR||{}),Qu=class extends Vs{constructor(i,n,o,r){super(i,n),this.reason=o,this.code=r,this.type=Yo.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rp=class extends Vs{constructor(i,n,o,r){super(i,n),this.reason=o,this.code=r,this.type=Yo.NavigationSkipped}},WC=class extends Vs{constructor(i,n,o,r){super(i,n),this.error=o,this.target=r,this.type=Yo.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},v_=class extends Vs{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VR=class extends Vs{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},HR=class extends Vs{constructor(i,n,o,r,s){super(i,n),this.urlAfterRedirects=o,this.state=r,this.shouldActivate=s,this.type=Yo.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},GR=class extends Vs{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jR=class extends Vs{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},WR=class{constructor(i){this.route=i,this.type=Yo.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},UR=class{constructor(i){this.route=i,this.type=Yo.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$R=class{constructor(i){this.snapshot=i,this.type=Yo.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qR=class{constructor(i){this.snapshot=i,this.type=Yo.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},KR=class{constructor(i){this.snapshot=i,this.type=Yo.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},YR=class{constructor(i){this.snapshot=i,this.type=Yo.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var UC=class{},Zm=class{constructor(i,n){this.url=i,this.navigationBehaviorOptions=n}};function _oe(e,i){return e.providers&&!e._injector&&(e._injector=nR(e.providers,i,`Route: ${e.path}`)),e._injector??i}function ul(e){return e.outlet||Si}function Doe(e,i){let n=e.filter(o=>ul(o)===i);return n.push(...e.filter(o=>ul(o)!==i)),n}function ZC(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){let n=i.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var QR=class{get injector(){return ZC(this.route?.snapshot)??this.rootInjector}set injector(i){}constructor(i){this.rootInjector=i,this.outlet=null,this.route=null,this.children=new __(this.rootInjector),this.attachRef=null}},__=(()=>{let i=class i{constructor(o){this.rootInjector=o,this.contexts=new Map}onChildOutletCreated(o,r){let s=this.getOrCreateContext(o);s.outlet=r,this.contexts.set(o,s)}onChildOutletDestroyed(o){let r=this.getContext(o);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let r=this.getContext(o);return r||(r=new QR(this.rootInjector),this.contexts.set(o,r)),r}getContext(o){return this.contexts.get(o)||null}};i.\u0275fac=function(r){return new(r||i)(Mt(Yr))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),C_=class{constructor(i){this._root=i}get root(){return this._root.value}parent(i){let n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){let n=ZR(i,this._root);return n?n.children.map(o=>o.value):[]}firstChild(i){let n=ZR(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){let n=XR(i,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return XR(i,this._root).map(n=>n.value)}};function ZR(e,i){if(e===i.value)return i;for(let n of i.children){let o=ZR(e,n);if(o)return o}return null}function XR(e,i){if(e===i.value)return[i];for(let n of i.children){let o=XR(e,n);if(o.length)return o.unshift(i),o}return[]}var gs=class{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}};function $m(e){let i={};return e&&e.children.forEach(n=>i[n.value.outlet]=n),i}var w_=class extends C_{constructor(i,n){super(i),this.snapshot=n,lA(this,i)}toString(){return this.snapshot.toString()}};function I9(e){let i=Eoe(e),n=new wo([new kp("",{})]),o=new wo({}),r=new wo({}),s=new wo({}),l=new wo(""),c=new hl(n,o,s,l,r,Si,e,i.root);return c.snapshot=i.root,new w_(new gs(c,[]),i)}function Eoe(e){let i={},n={},o={},r="",s=new Km([],i,o,r,n,Si,e,null,{});return new y_("",new gs(s,[]))}var hl=class{constructor(i,n,o,r,s,l,c,d){this.urlSubject=i,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(It(u=>u[QC]))??Nt(void 0),this.url=i,this.params=n,this.queryParams=o,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(It(i=>Qm(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(It(i=>Qm(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function b_(e,i,n="emptyOnly"){let o,{routeConfig:r}=e;return i!==null&&(n==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?o={params:We(We({},i.params),e.params),data:We(We({},i.data),e.data),resolve:We(We(We(We({},e.data),i.data),r?.data),e._resolvedData)}:o={params:We({},e.params),data:We({},e.data),resolve:We(We({},e.data),e._resolvedData??{})},r&&A9(r)&&(o.resolve[QC]=r.title),o}var Km=class{get title(){return this.data?.[QC]}constructor(i,n,o,r,s,l,c,d,u){this.url=i,this.params=n,this.queryParams=o,this.fragment=r,this.data=s,this.outlet=l,this.component=c,this.routeConfig=d,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qm(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(o=>o.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${n}')`}},y_=class extends C_{constructor(i,n){super(n),this.url=i,lA(this,n)}toString(){return R9(this._root)}};function lA(e,i){i.value._routerState=e,i.children.forEach(n=>lA(e,n))}function R9(e){let i=e.children.length>0?` { ${e.children.map(R9).join(", ")} } `:"";return`${e.value}${i}`}function TR(e){if(e.snapshot){let i=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Yl(i.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),i.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Yl(i.params,n.params)||e.paramsSubject.next(n.params),Jne(i.url,n.url)||e.urlSubject.next(n.url),Yl(i.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function JR(e,i){let n=Yl(e.params,i.params)&&noe(e.url,i.url),o=!e.parent!=!i.parent;return n&&!o&&(!e.parent||JR(e.parent,i.parent))}function A9(e){return typeof e.title=="string"||e.title===null}var cA=(()=>{let i=class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Si,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=wt(__),this.location=wt(zs),this.changeDetector=wt(_p),this.inputBinder=wt(dA,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(o){if(o.name){let{firstChange:r,previousValue:s}=o.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Kt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Kt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Kt(4012,!1);this.location.detach();let o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,r){this.activated=o,this._activatedRoute=r,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){let o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,r){if(this.isActivated)throw new Kt(4013,!1);this._activatedRoute=o;let s=this.location,c=o.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,u=new eA(o,d,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=No({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cl]});let e=i;return e})(),eA=class e{__ngOutletInjector(i){return new e(this.route,this.childContexts,i)}constructor(i,n,o){this.route=i,this.childContexts=n,this.parent=o}get(i,n){return i===hl?this.route:i===__?this.childContexts:this.parent.get(i,n)}},dA=new Lt("");function Moe(e,i,n){let o=$C(e,i._root,n?n._root:void 0);return new w_(o,i)}function $C(e,i,n){if(n&&e.shouldReuseRoute(i.value,n.value.snapshot)){let o=n.value;o._futureSnapshot=i.value;let r=koe(e,i,n);return new gs(o,r)}else{if(e.shouldAttach(i.value)){let s=e.retrieve(i.value);if(s!==null){let l=s.route;return l.value._futureSnapshot=i.value,l.children=i.children.map(c=>$C(e,c)),l}}let o=Ioe(i.value),r=i.children.map(s=>$C(e,s));return new gs(o,r)}}function koe(e,i,n){return i.children.map(o=>{for(let r of n.children)if(e.shouldReuseRoute(o.value,r.value.snapshot))return $C(e,o,r);return $C(e,o)})}function Ioe(e){return new hl(new wo(e.url),new wo(e.params),new wo(e.queryParams),new wo(e.fragment),new wo(e.data),e.outlet,e.component,e)}var qC=class{constructor(i,n){this.redirectTo=i,this.navigationBehaviorOptions=n}},T9="ngNavigationCancelingError";function S_(e,i){let{redirectTo:n,navigationBehaviorOptions:o}=HC(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=F9(!1,ps.Redirect);return r.url=n,r.navigationBehaviorOptions=o,r}function F9(e,i){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[T9]=!0,n.cancellationCode=i,n}function Roe(e){return P9(e)&&HC(e.url)}function P9(e){return!!e&&e[T9]}var Aoe=(e,i,n,o)=>It(r=>(new tA(i,r.targetRouterState,r.currentRouterState,n,o).activate(e),r)),tA=class{constructor(i,n,o,r,s){this.routeReuseStrategy=i,this.futureState=n,this.currState=o,this.forwardEvent=r,this.inputBindingEnabled=s}activate(i){let n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,i),TR(this.futureState.root),this.activateChildRoutes(n,o,i)}deactivateChildRoutes(i,n,o){let r=$m(n);i.children.forEach(s=>{let l=s.value.outlet;this.deactivateRoutes(s,r[l],o),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,o)})}deactivateRoutes(i,n,o){let r=i.value,s=n?n.value:null;if(r===s)if(r.component){let l=o.getContext(r.outlet);l&&this.deactivateChildRoutes(i,n,l.children)}else this.deactivateChildRoutes(i,n,o);else s&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(i,n){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){let o=n.getContext(i.value.outlet),r=o&&i.value.component?o.children:n,s=$m(i);for(let l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);if(o&&o.outlet){let l=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:l,route:i,contexts:c})}}deactivateRouteAndOutlet(i,n){let o=n.getContext(i.value.outlet),r=o&&i.value.component?o.children:n,s=$m(i);for(let l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,n,o){let r=$m(n);i.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],o),this.forwardEvent(new YR(s.value.snapshot))}),i.children.length&&this.forwardEvent(new qR(i.value.snapshot))}activateRoutes(i,n,o){let r=i.value,s=n?n.value:null;if(TR(r),r===s)if(r.component){let l=o.getOrCreateContext(r.outlet);this.activateChildRoutes(i,n,l.children)}else this.activateChildRoutes(i,n,o);else if(r.component){let l=o.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),TR(c.route.value),this.activateChildRoutes(i,null,l.children)}else l.attachRef=null,l.route=r,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(i,null,l.children)}else this.activateChildRoutes(i,null,o)}},x_=class{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},Ym=class{constructor(i,n){this.component=i,this.route=n}};function Toe(e,i,n){let o=e._root,r=i?i._root:null;return LC(o,r,n,[o.value])}function Foe(e){let i=e.routeConfig?e.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:e,guards:i}}function Jm(e,i){let n=Symbol(),o=i.get(e,n);return o===n?typeof e=="function"&&!qB(e)?e:i.get(e):o}function LC(e,i,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=$m(i);return e.children.forEach(l=>{Poe(l,s[l.value.outlet],n,o.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,c])=>BC(c,n.getContext(l),r)),r}function Poe(e,i,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,l=i?i.value:null,c=n?n.getContext(e.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){let d=Loe(l,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new x_(o)):(s.data=l.data,s._resolvedData=l._resolvedData),s.component?LC(e,i,c?c.children:null,o,r):LC(e,i,n,o,r),d&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Ym(c.outlet.component,l))}else l&&BC(i,c,r),r.canActivateChecks.push(new x_(o)),s.component?LC(e,null,c?c.children:null,o,r):LC(e,null,n,o,r);return r}function Loe(e,i,n){if(typeof n=="function")return n(e,i);switch(n){case"pathParamsChange":return!Ip(e.url,i.url);case"pathParamsOrQueryParamsChange":return!Ip(e.url,i.url)||!Yl(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!JR(e,i)||!Yl(e.queryParams,i.queryParams);case"paramsChange":default:return!JR(e,i)}}function BC(e,i,n){let o=$m(e),r=e.value;Object.entries(o).forEach(([s,l])=>{r.component?i?BC(l,i.children.getContext(s),n):BC(l,null,n):BC(l,i,n)}),r.component?i&&i.outlet&&i.outlet.isActivated?n.canDeactivateChecks.push(new Ym(i.outlet.component,r)):n.canDeactivateChecks.push(new Ym(null,r)):n.canDeactivateChecks.push(new Ym(null,r))}function XC(e){return typeof e=="function"}function Noe(e){return typeof e=="boolean"}function Ooe(e){return e&&XC(e.canLoad)}function zoe(e){return e&&XC(e.canActivate)}function Boe(e){return e&&XC(e.canActivateChild)}function Voe(e){return e&&XC(e.canDeactivate)}function Hoe(e){return e&&XC(e.canMatch)}function L9(e){return e instanceof Fu||e?.name==="EmptyError"}var u_=Symbol("INITIAL_VALUE");function Xm(){return cn(e=>Vh(e.map(i=>i.pipe(to(1),Wh(u_)))).pipe(It(i=>{for(let n of i)if(n!==!0){if(n===u_)return u_;if(n===!1||Goe(n))return n}return!0}),bi(i=>i!==u_),to(1)))}function Goe(e){return HC(e)||e instanceof qC}function joe(e,i){return Vn(n=>{let{targetSnapshot:o,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=n;return l.length===0&&s.length===0?Nt(At(We({},n),{guardsResult:!0})):Woe(l,o,r,e).pipe(Vn(c=>c&&Noe(c)?Uoe(o,s,e,i):Nt(c)),It(c=>At(We({},n),{guardsResult:c})))})}function Woe(e,i,n,o){return fn(e).pipe(Vn(r=>Qoe(r.component,r.route,n,i,o)),$r(r=>r!==!0,!0))}function Uoe(e,i,n,o){return fn(i).pipe(Hh(r=>zl(qoe(r.route.parent,o),$oe(r.route,o),Yoe(e,r.path,n),Koe(e,r.route,n))),$r(r=>r!==!0,!0))}function $oe(e,i){return e!==null&&i&&i(new KR(e)),Nt(!0)}function qoe(e,i){return e!==null&&i&&i(new $R(e)),Nt(!0)}function Koe(e,i,n){let o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||o.length===0)return Nt(!0);let r=o.map(s=>Pu(()=>{let l=ZC(i)??n,c=Jm(s,l),d=zoe(c)?c.canActivate(i,e):ll(l,()=>c(i,e));return ng(d).pipe($r())}));return Nt(r).pipe(Xm())}function Yoe(e,i,n){let o=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(l=>Foe(l)).filter(l=>l!==null).map(l=>Pu(()=>{let c=l.guards.map(d=>{let u=ZC(l.node)??n,h=Jm(d,u),g=Boe(h)?h.canActivateChild(o,e):ll(u,()=>h(o,e));return ng(g).pipe($r())});return Nt(c).pipe(Xm())}));return Nt(s).pipe(Xm())}function Qoe(e,i,n,o,r){let s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!s||s.length===0)return Nt(!0);let l=s.map(c=>{let d=ZC(i)??r,u=Jm(c,d),h=Voe(u)?u.canDeactivate(e,i,n,o):ll(d,()=>u(e,i,n,o));return ng(h).pipe($r())});return Nt(l).pipe(Xm())}function Zoe(e,i,n,o){let r=i.canLoad;if(r===void 0||r.length===0)return Nt(!0);let s=r.map(l=>{let c=Jm(l,e),d=Ooe(c)?c.canLoad(i,n):ll(e,()=>c(i,n));return ng(d)});return Nt(s).pipe(Xm(),N9(o))}function N9(e){return V2(kn(i=>{if(typeof i!="boolean")throw S_(e,i)}),It(i=>i===!0))}function Xoe(e,i,n,o){let r=i.canMatch;if(!r||r.length===0)return Nt(!0);let s=r.map(l=>{let c=Jm(l,e),d=Hoe(c)?c.canMatch(i,n):ll(e,()=>c(i,n));return ng(d)});return Nt(s).pipe(Xm(),N9(o))}var KC=class{constructor(i){this.segmentGroup=i||null}},YC=class extends Error{constructor(i){super(),this.urlTree=i}};function Um(e){return bo(new KC(e))}function Joe(e){return bo(new Kt(4e3,!1))}function ere(e){return bo(F9(!1,ps.GuardRejected))}var iA=class{constructor(i,n){this.urlSerializer=i,this.urlTree=n}lineralizeSegments(i,n){let o=[],r=n.root;for(;;){if(o=o.concat(r.segments),r.numberOfChildren===0)return Nt(o);if(r.numberOfChildren>1||!r.children[Si])return Joe(`${i.redirectTo}`);r=r.children[Si]}}applyRedirectCommands(i,n,o,r,s){if(typeof n!="string"){let c=n,{queryParams:d,fragment:u,routeConfig:h,url:g,outlet:p,params:f,data:y,title:M}=r,k=ll(s,()=>c({params:f,data:y,queryParams:d,fragment:u,routeConfig:h,url:g,outlet:p,title:M}));if(k instanceof tg)throw new YC(k);n=k}let l=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),i,o);if(n[0]==="/")throw new YC(l);return l}applyRedirectCreateUrlTree(i,n,o,r){let s=this.createSegmentGroup(i,n.root,o,r);return new tg(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){let o={};return Object.entries(i).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);o[r]=n[c]}else o[r]=s}),o}createSegmentGroup(i,n,o,r){let s=this.createSegments(i,n.segments,o,r),l={};return Object.entries(n.children).forEach(([c,d])=>{l[c]=this.createSegmentGroup(i,d,o,r)}),new un(s,l)}createSegments(i,n,o,r){return n.map(s=>s.path[0]===":"?this.findPosParam(i,s,r):this.findOrReturn(s,o))}findPosParam(i,n,o){let r=o[n.path.substring(1)];if(!r)throw new Kt(4001,!1);return r}findOrReturn(i,n){let o=0;for(let r of n){if(r.path===i.path)return n.splice(o),r;o++}return i}},nA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tre(e,i,n,o,r){let s=uA(e,i,n);return s.matched?(o=_oe(i,o),Xoe(o,i,n,r).pipe(It(l=>l===!0?s:We({},nA)))):Nt(s)}function uA(e,i,n){if(i.path==="**")return ire(n);if(i.path==="")return i.pathMatch==="full"&&(e.hasChildren()||n.length>0)?We({},nA):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(i.matcher||Xne)(n,e,i);if(!r)return We({},nA);let s={};Object.entries(r.posParams??{}).forEach(([c,d])=>{s[c]=d.path});let l=r.consumed.length>0?We(We({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function ire(e){return{matched:!0,parameters:e.length>0?m9(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function h9(e,i,n,o){return n.length>0&&rre(e,n,o)?{segmentGroup:new un(i,ore(o,new un(n,e.children))),slicedSegments:[]}:n.length===0&&sre(e,n,o)?{segmentGroup:new un(e.segments,nre(e,n,o,e.children)),slicedSegments:n}:{segmentGroup:new un(e.segments,e.children),slicedSegments:n}}function nre(e,i,n,o){let r={};for(let s of n)if(D_(e,i,s)&&!o[ul(s)]){let l=new un([],{});r[ul(s)]=l}return We(We({},o),r)}function ore(e,i){let n={};n[Si]=i;for(let o of e)if(o.path===""&&ul(o)!==Si){let r=new un([],{});n[ul(o)]=r}return n}function rre(e,i,n){return n.some(o=>D_(e,i,o)&&ul(o)!==Si)}function sre(e,i,n){return n.some(o=>D_(e,i,o))}function D_(e,i,n){return(e.hasChildren()||i.length>0)&&n.pathMatch==="full"?!1:n.path===""}function are(e,i,n,o){return ul(e)!==o&&(o===Si||!D_(i,n,e))?!1:uA(i,e,n).matched}function lre(e,i,n){return i.length===0&&!e.children[n]}var oA=class{};function cre(e,i,n,o,r,s,l="emptyOnly"){return new rA(e,i,n,o,r,l,s).recognize()}var dre=31,rA=class{constructor(i,n,o,r,s,l,c){this.injector=i,this.configLoader=n,this.rootComponentType=o,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.applyRedirects=new iA(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new Kt(4002,`'${i.segmentGroup}'`)}recognize(){let i=h9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(It(({children:n,rootSnapshot:o})=>{let r=new gs(o,n),s=new y_("",r),l=voe(o,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),{state:s,tree:l}}))}match(i){let n=new Km([],Object.freeze({}),Object.freeze(We({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Si,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Si,n).pipe(It(o=>({children:o,rootSnapshot:n})),Hn(o=>{if(o instanceof YC)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof KC?this.noMatchError(o):o}))}processSegmentGroup(i,n,o,r,s){return o.segments.length===0&&o.hasChildren()?this.processChildren(i,n,o,s):this.processSegment(i,n,o,o.segments,r,!0,s).pipe(It(l=>l instanceof gs?[l]:[]))}processChildren(i,n,o,r){let s=[];for(let l of Object.keys(o.children))l==="primary"?s.unshift(l):s.push(l);return fn(s).pipe(Hh(l=>{let c=o.children[l],d=Doe(n,l);return this.processSegmentGroup(i,d,c,l,r)}),eI((l,c)=>(l.push(...c),l)),jh(null),X2(),Vn(l=>{if(l===null)return Um(o);let c=O9(l);return ure(c),Nt(c)}))}processSegment(i,n,o,r,s,l,c){return fn(n).pipe(Hh(d=>this.processSegmentAgainstRoute(d._injector??i,n,d,o,r,s,l,c).pipe(Hn(u=>{if(u instanceof KC)return Nt(null);throw u}))),$r(d=>!!d),Hn(d=>{if(L9(d))return lre(o,r,s)?Nt(new oA):Um(o);throw d}))}processSegmentAgainstRoute(i,n,o,r,s,l,c,d){return are(o,r,s,l)?o.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,o,s,l,d):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(i,r,n,o,s,l,d):Um(r):Um(r)}expandSegmentAgainstRouteUsingRedirect(i,n,o,r,s,l,c){let{matched:d,parameters:u,consumedSegments:h,positionalParamSegments:g,remainingSegments:p}=uA(n,r,s);if(!d)return Um(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dre&&(this.allowRedirects=!1));let f=new Km(s,u,Object.freeze(We({},this.urlTree.queryParams)),this.urlTree.fragment,g9(r),ul(r),r.component??r._loadedComponent??null,r,p9(r)),y=b_(f,c,this.paramsInheritanceStrategy);f.params=Object.freeze(y.params),f.data=Object.freeze(y.data);let M=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,g,f,i);return this.applyRedirects.lineralizeSegments(r,M).pipe(Vn(k=>this.processSegment(i,o,n,k.concat(p),l,!1,c)))}matchSegmentAgainstRoute(i,n,o,r,s,l){let c=tre(n,o,r,i,this.urlSerializer);return o.path==="**"&&(n.children={}),c.pipe(cn(d=>d.matched?(i=o._injector??i,this.getChildConfig(i,o,r).pipe(cn(({routes:u})=>{let h=o._loadedInjector??i,{parameters:g,consumedSegments:p,remainingSegments:f}=d,y=new Km(p,g,Object.freeze(We({},this.urlTree.queryParams)),this.urlTree.fragment,g9(o),ul(o),o.component??o._loadedComponent??null,o,p9(o)),M=b_(y,l,this.paramsInheritanceStrategy);y.params=Object.freeze(M.params),y.data=Object.freeze(M.data);let{segmentGroup:k,slicedSegments:G}=h9(n,p,f,u);if(G.length===0&&k.hasChildren())return this.processChildren(h,u,k,y).pipe(It($=>new gs(y,$)));if(u.length===0&&G.length===0)return Nt(new gs(y,[]));let J=ul(o)===s;return this.processSegment(h,u,k,G,J?Si:s,!0,y).pipe(It($=>new gs(y,$ instanceof gs?[$]:[])))}))):Um(n)))}getChildConfig(i,n,o){return n.children?Nt({routes:n.children,injector:i}):n.loadChildren?n._loadedRoutes!==void 0?Nt({routes:n._loadedRoutes,injector:n._loadedInjector}):Zoe(i,n,o,this.urlSerializer).pipe(Vn(r=>r?this.configLoader.loadChildren(i,n).pipe(kn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):ere(n))):Nt({routes:[],injector:i})}};function ure(e){e.sort((i,n)=>i.value.outlet===Si?-1:n.value.outlet===Si?1:i.value.outlet.localeCompare(n.value.outlet))}function hre(e){let i=e.value.routeConfig;return i&&i.path===""}function O9(e){let i=[],n=new Set;for(let o of e){if(!hre(o)){i.push(o);continue}let r=i.find(s=>o.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...o.children),n.add(r)):i.push(o)}for(let o of n){let r=O9(o.children);i.push(new gs(o.value,r))}return i.filter(o=>!n.has(o))}function g9(e){return e.data||{}}function p9(e){return e.resolve||{}}function gre(e,i,n,o,r,s){return Vn(l=>cre(e,i,n,o,l.extractedUrl,r,s).pipe(It(({state:c,tree:d})=>At(We({},l),{targetSnapshot:c,urlAfterRedirects:d}))))}function pre(e,i){return Vn(n=>{let{targetSnapshot:o,guards:{canActivateChecks:r}}=n;if(!r.length)return Nt(n);let s=new Set(r.map(d=>d.route)),l=new Set;for(let d of s)if(!l.has(d))for(let u of z9(d))l.add(u);let c=0;return fn(l).pipe(Hh(d=>s.has(d)?fre(d,o,e,i):(d.data=b_(d,d.parent,e).resolve,Nt(void 0))),kn(()=>c++),bm(1),Vn(d=>c===l.size?Nt(n):Sr))})}function z9(e){let i=e.children.map(n=>z9(n)).flat();return[e,...i]}function fre(e,i,n,o){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!A9(r)&&(s[QC]=r.title),mre(s,e,i,o).pipe(It(l=>(e._resolvedData=l,e.data=b_(e,e.parent,n).resolve,null)))}function mre(e,i,n,o){let r=LR(e);if(r.length===0)return Nt({});let s={};return fn(r).pipe(Vn(l=>vre(e[l],i,n,o).pipe($r(),kn(c=>{if(c instanceof qC)throw S_(new VC,c);s[l]=c}))),bm(1),lC(s),Hn(l=>L9(l)?Sr:bo(l)))}function vre(e,i,n,o){let r=ZC(i)??o,s=Jm(e,r),l=s.resolve?s.resolve(i,n):ll(r,()=>s(i,n));return ng(l)}function FR(e){return cn(i=>{let n=e(i);return n?fn(n).pipe(It(()=>i)):Nt(i)})}var B9=(()=>{let i=class i{buildTitle(o){let r,s=o.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(l=>l.outlet===Si);return r}getResolvedTitleForRoute(o){return o.data[QC]}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>wt(Cre),providedIn:"root"});let e=i;return e})(),Cre=(()=>{let i=class i extends B9{constructor(o){super(),this.title=o}updateTitle(o){let r=this.buildTitle(o);r!==void 0&&this.title.setTitle(r)}};i.\u0275fac=function(r){return new(r||i)(Mt(a9))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),hA=new Lt("",{providedIn:"root",factory:()=>({})}),wre=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=$i({type:i,selectors:[["ng-component"]],standalone:!0,features:[rn],decls:1,vars:0,template:function(r,s){r&1&&Et(0,"router-outlet")},dependencies:[cA],encapsulation:2});let e=i;return e})();function gA(e){let i=e.children&&e.children.map(gA),n=i?At(We({},e),{children:i}):We({},e);return!n.component&&!n.loadComponent&&(i||n.loadChildren)&&n.outlet&&n.outlet!==Si&&(n.component=wre),n}var pA=new Lt(""),bre=(()=>{let i=class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=wt(cR)}loadComponent(o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return Nt(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let r=ng(o.loadComponent()).pipe(It(V9),kn(l=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=l}),rp(()=>{this.componentLoaders.delete(o)})),s=new Bh(r,()=>new Wi).pipe(hm());return this.componentLoaders.set(o,s),s}loadChildren(o,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let l=yre(r,this.compiler,o,this.onLoadEndListener).pipe(rp(()=>{this.childrenLoaders.delete(r)})),c=new Bh(l,()=>new Wi).pipe(hm());return this.childrenLoaders.set(r,c),c}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function yre(e,i,n,o){return ng(e.loadChildren()).pipe(It(V9),Vn(r=>r instanceof wC||Array.isArray(r)?Nt(r):fn(i.compileModuleAsync(r))),It(r=>{o&&o(e);let s,l,c=!1;return Array.isArray(r)?(l=r,c=!0):(s=r.create(n).injector,l=s.get(pA,[],{optional:!0,self:!0}).flat()),{routes:l.map(gA),injector:s}}))}function Sre(e){return e&&typeof e=="object"&&"default"in e}function V9(e){return Sre(e)?e.default:e}var fA=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>wt(xre),providedIn:"root"});let e=i;return e})(),xre=(()=>{let i=class i{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,r){return o}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),_re=new Lt("");var Dre=new Lt(""),Ere=(()=>{let i=class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Wi,this.transitionAbortSubject=new Wi,this.configLoader=wt(bre),this.environmentInjector=wt(Yr),this.urlSerializer=wt(aA),this.rootContexts=wt(__),this.location=wt(DC),this.inputBindingEnabled=wt(dA,{optional:!0})!==null,this.titleStrategy=wt(B9),this.options=wt(hA,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=wt(fA),this.createViewTransition=wt(_re,{optional:!0}),this.navigationErrorHandler=wt(Dre,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Nt(void 0),this.rootComponentType=null;let o=s=>this.events.next(new WR(s)),r=s=>this.events.next(new UR(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=o}complete(){this.transitions?.complete()}handleNavigationRequest(o){let r=++this.navigationId;this.transitions?.next(At(We(We({},this.transitions.value),o),{id:r}))}setupNavigations(o,r,s){return this.transitions=new wo({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:zC,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bi(l=>l.id!==0),It(l=>At(We({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),cn(l=>{let c=!1,d=!1;return Nt(l).pipe(cn(u=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",ps.SupersededByNewNavigation),Sr;this.currentTransition=l,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?At(We({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=u.extras.onSameUrlNavigation??o.onSameUrlNavigation;if(!h&&g!=="reload"){let p="";return this.events.next(new Rp(u.id,this.urlSerializer.serialize(u.rawUrl),p,BR.IgnoredSameUrlNavigation)),u.resolve(!1),Sr}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Nt(u).pipe(cn(p=>{let f=this.transitions?.getValue();return this.events.next(new jC(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),f!==this.transitions?.getValue()?Sr:Promise.resolve(p)}),gre(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),kn(p=>{l.targetSnapshot=p.targetSnapshot,l.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=At(We({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let f=new v_(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:f,source:y,restoredState:M,extras:k}=u,G=new jC(p,this.urlSerializer.serialize(f),y,M);this.events.next(G);let J=I9(this.rootComponentType).snapshot;return this.currentTransition=l=At(We({},u),{targetSnapshot:J,urlAfterRedirects:f,extras:At(We({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Nt(l)}else{let p="";return this.events.next(new Rp(u.id,this.urlSerializer.serialize(u.extractedUrl),p,BR.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Sr}}),kn(u=>{let h=new VR(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),It(u=>(this.currentTransition=l=At(We({},u),{guards:Toe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),l)),joe(this.environmentInjector,u=>this.events.next(u)),kn(u=>{if(l.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw S_(this.urlSerializer,u.guardsResult);let h=new HR(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),bi(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ps.GuardRejected),!1)),FR(u=>{if(u.guards.canActivateChecks.length)return Nt(u).pipe(kn(h=>{let g=new GR(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),cn(h=>{let g=!1;return Nt(h).pipe(pre(this.paramsInheritanceStrategy,this.environmentInjector),kn({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",ps.NoDataFromResolver)}}))}),kn(h=>{let g=new jR(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),FR(u=>{let h=g=>{let p=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(g.routeConfig).pipe(kn(f=>{g.component=f}),It(()=>{})));for(let f of g.children)p.push(...h(f));return p};return Vh(h(u.targetSnapshot.root)).pipe(jh(null),to(1))}),FR(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:u,targetSnapshot:h}=l,g=this.createViewTransition?.(this.environmentInjector,u.root,h.root);return g?fn(g).pipe(It(()=>l)):Nt(l)}),It(u=>{let h=Moe(o.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=l=At(We({},u),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,l}),kn(()=>{this.events.next(new UC)}),Aoe(this.rootContexts,o.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),to(1),kn({next:u=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ig(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{c=!0}}),sp(this.transitionAbortSubject.pipe(kn(u=>{throw u}))),rp(()=>{!c&&!d&&this.cancelNavigationTransition(l,"",ps.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(u=>{if(d=!0,P9(u))this.events.next(new Qu(l.id,this.urlSerializer.serialize(l.extractedUrl),u.message,u.cancellationCode)),Roe(u)?this.events.next(new Zm(u.url,u.navigationBehaviorOptions)):l.resolve(!1);else{let h=new WC(l.id,this.urlSerializer.serialize(l.extractedUrl),u,l.targetSnapshot??void 0);try{let g=ll(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(g instanceof qC){let{message:p,cancellationCode:f}=S_(this.urlSerializer,g);this.events.next(new Qu(l.id,this.urlSerializer.serialize(l.extractedUrl),p,f)),this.events.next(new Zm(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(h);let p=o.errorHandler(u);l.resolve(!!p)}}catch(g){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(g)}}return Sr}))}))}cancelNavigationTransition(o,r,s){let l=new Qu(o.id,this.urlSerializer.serialize(o.extractedUrl),r,s);this.events.next(l),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Mre(e){return e!==zC}var kre=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>wt(Ire),providedIn:"root"});let e=i;return e})(),sA=class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}},Ire=(()=>{let i=class i extends sA{};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=Ul(i)))(s||i)}})(),i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),H9=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:()=>wt(Rre),providedIn:"root"});let e=i;return e})(),Rre=(()=>{let i=class i extends H9{constructor(){super(...arguments),this.location=wt(DC),this.urlSerializer=wt(aA),this.options=wt(hA,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=wt(fA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tg,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=I9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(r=>{r.type==="popstate"&&o(r.url,r.state)})}handleRouterEvent(o,r){if(o instanceof jC)this.stateMemento=this.createStateMemento();else if(o instanceof Rp)this.rawUrlTree=r.initialUrl;else if(o instanceof v_){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else o instanceof UC?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):o instanceof Qu&&(o.code===ps.GuardRejected||o.code===ps.NoDataFromResolver)?this.restoreHistory(r):o instanceof WC?this.restoreHistory(r,!0):o instanceof ig&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,r){let s=this.urlSerializer.serialize(o);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let l=this.browserPageId,c=We(We({},r.extras.state),this.generateNgRouterState(r.id,l));this.location.replaceState(s,"",c)}else{let l=We(We({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",l)}}restoreHistory(o,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,l=this.currentPageId-s;l!==0?this.location.historyGo(l):this.currentUrlTree===o.finalUrl&&l===0&&(this.resetState(o),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,r){return this.canceledNavigationResolution==="computed"?{navigationId:o,\u0275routerPageId:r}:{navigationId:o}}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=Ul(i)))(s||i)}})(),i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),NC=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(NC||{});function Are(e,i){e.events.pipe(bi(n=>n instanceof ig||n instanceof Qu||n instanceof WC||n instanceof Rp),It(n=>n instanceof ig||n instanceof Rp?NC.COMPLETE:(n instanceof Qu?n.code===ps.Redirect||n.code===ps.SupersededByNewNavigation:!1)?NC.REDIRECTING:NC.FAILED),bi(n=>n!==NC.REDIRECTING),to(1)).subscribe(()=>{i()})}function Tre(e){throw e}var Fre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},JC=(()=>{let i=class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=wt(Xx),this.stateManager=wt(H9),this.options=wt(hA,{optional:!0})||{},this.pendingTasks=wt(Jh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=wt(Ere),this.urlSerializer=wt(aA),this.location=wt(DC),this.urlHandlingStrategy=wt(fA),this._events=new Wi,this.errorHandler=this.options.errorHandler||Tre,this.navigated=!1,this.routeReuseStrategy=wt(kre),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=wt(pA,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!wt(dA,{optional:!0}),this.eventsSubscription=new Bn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let o=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(s!==null&&l!==null){if(this.stateManager.handleRouterEvent(r,l),r instanceof Qu&&r.code!==ps.Redirect&&r.code!==ps.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ig)this.navigated=!0;else if(r instanceof Zm){let c=r.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u=We({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Mre(s.source)},c);this.scheduleNavigation(d,zC,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Nre(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zC,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(o,"popstate",r)},0)})}navigateToSyncWithBrowser(o,r,s){let l={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let u=We({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(l.state=u)}let d=this.parseUrl(o);this.scheduleNavigation(d,r,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(gA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,r={}){let{relativeTo:s,queryParams:l,fragment:c,queryParamsHandling:d,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:c,g=null;switch(d){case"merge":g=We(We({},this.currentUrlTree.queryParams),l);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=l||null}g!==null&&(g=this.removeEmptyProps(g));let p;try{let f=s?s.snapshot:this.routerState.snapshot.root;p=D9(f)}catch{(typeof o[0]!="string"||o[0][0]!=="/")&&(o=[]),p=this.currentUrlTree.root}return E9(p,o,g,h??null)}navigateByUrl(o,r={skipLocationChange:!1}){let s=HC(o)?o:this.parseUrl(o),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,zC,null,r)}navigate(o,r={skipLocationChange:!1}){return Lre(o),this.navigateByUrl(this.createUrlTree(o,r),r)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,r){let s;if(r===!0?s=We({},Fre):r===!1?s=We({},Pre):s=r,HC(o))return l9(this.currentUrlTree,o,s);let l=this.parseUrl(o);return l9(this.currentUrlTree,l,s)}removeEmptyProps(o){return Object.entries(o).reduce((r,[s,l])=>(l!=null&&(r[s]=l),r),{})}scheduleNavigation(o,r,s,l,c){if(this.disposed)return Promise.resolve(!1);let d,u,h;c?(d=c.resolve,u=c.reject,h=c.promise):h=new Promise((p,f)=>{d=p,u=f});let g=this.pendingTasks.add();return Are(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:l,resolve:d,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(p=>Promise.reject(p))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Lre(e){for(let i=0;i<e.length;i++)if(e[i]==null)throw new Kt(4008,!1)}function Nre(e){return!(e instanceof UC)&&!(e instanceof Zm)}var G9=(()=>{let i=class i{constructor(o,r,s,l,c,d){this.router=o,this.route=r,this.tabIndexAttribute=s,this.renderer=l,this.el=c,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new Wi,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=o.events.subscribe(h=>{h instanceof ig&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(o){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(o){o!=null?(this.commands=Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(o,r,s,l,c){let d=this.urlTree;if(d===null||this.isAnchorElement&&(o!==0||r||s||l||c||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let o=this.urlTree;this.href=o!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o)):null;let r=this.href===null?null:m7(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(o,r){let s=this.renderer,l=this.el.nativeElement;r!==null?s.setAttribute(l,o,r):s.removeAttribute(l,o)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};i.\u0275fac=function(r){return new(r||i)(lt(JC),lt(hl),P3("tabindex"),lt(Os),lt(Gn),lt(jm))},i.\u0275dir=No({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Ht("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),r&2&&Qx("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Dp],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Dp],replaceUrl:[2,"replaceUrl","replaceUrl",Dp],routerLink:"routerLink"},standalone:!0,features:[iR,cl]});let e=i;return e})();var Ore=new Lt("");function j9(e,...i){return Hu([{provide:pA,multi:!0,useValue:e},[],{provide:hl,useFactory:zre,deps:[JC]},{provide:e_,multi:!0,useFactory:Bre},i.map(n=>n.\u0275providers)])}function zre(e){return e.routerState.root}function Bre(){let e=wt(Wl);return i=>{let n=e.get(Kl);if(i!==n.components[0])return;let o=e.get(JC),r=e.get(Vre);e.get(Hre)===1&&o.initialNavigation(),e.get(Gre,null,Di.Optional)?.setUpPreloading(),e.get(Ore,null,Di.Optional)?.init(),o.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Vre=new Lt("",{factory:()=>new Wi}),Hre=new Lt("",{providedIn:"root",factory:()=>1});var Gre=new Lt("");var J9=(()=>{let i=class i{constructor(o,r){this._renderer=o,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(o,r){this._renderer.setProperty(this._elementRef.nativeElement,o,r)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}};i.\u0275fac=function(r){return new(r||i)(lt(Os),lt(Gn))},i.\u0275dir=No({type:i});let e=i;return e})(),bA=(()=>{let i=class i extends J9{};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=Ul(i)))(s||i)}})(),i.\u0275dir=No({type:i,features:[$l]});let e=i;return e})(),nv=new Lt("");var jre={provide:nv,useExisting:Vu(()=>Hs),multi:!0};function Wre(){let e=Yu()?Yu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Ure=new Lt(""),Hs=(()=>{let i=class i extends J9{constructor(o,r,s){super(o,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Wre())}writeValue(o){let r=o??"";this.setProperty("value",r)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}};i.\u0275fac=function(r){return new(r||i)(lt(Os),lt(Gn),lt(Ure,8))},i.\u0275dir=No({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Ht("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Xr([jre]),$l]});let e=i;return e})();var $re=new Lt(""),qre=new Lt("");function eG(e){return e!=null}function tG(e){return xp(e)?fn(e):e}function iG(e){let i={};return e.forEach(n=>{i=n!=null?We(We({},i),n):i}),Object.keys(i).length===0?null:i}function nG(e,i){return i.map(n=>n(e))}function Kre(e){return!e.validate}function oG(e){return e.map(i=>Kre(i)?i:n=>i.validate(n))}function Yre(e){if(!e)return null;let i=e.filter(eG);return i.length==0?null:function(n){return iG(nG(n,i))}}function rG(e){return e!=null?Yre(oG(e)):null}function Qre(e){if(!e)return null;let i=e.filter(eG);return i.length==0?null:function(n){let o=nG(n,i).map(tG);return aC(o).pipe(It(iG))}}function sG(e){return e!=null?Qre(oG(e)):null}function U9(e,i){return e===null?[i]:Array.isArray(e)?[...e,i]:[e,i]}function Zre(e){return e._rawValidators}function Xre(e){return e._rawAsyncValidators}function mA(e){return e?Array.isArray(e)?e:[e]:[]}function M_(e,i){return Array.isArray(e)?e.includes(i):e===i}function $9(e,i){let n=mA(i);return mA(e).forEach(r=>{M_(n,r)||n.push(r)}),n}function q9(e,i){return mA(i).filter(n=>!M_(e,n))}var k_=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=rG(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=sG(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,n){return this.control?this.control.hasError(i,n):!1}getError(i,n){return this.control?this.control.getError(i,n):null}},vA=class extends k_{get formDirective(){return null}get path(){return null}},ow=class extends k_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},CA=class{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Jre={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XTe=At(We({},Jre),{"[class.ng-submitted]":"isSubmitted"}),Gs=(()=>{let i=class i extends CA{constructor(o){super(o)}};i.\u0275fac=function(r){return new(r||i)(lt(ow,2))},i.\u0275dir=No({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&rR("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[$l]});let e=i;return e})();var ew="VALID",E_="INVALID",ev="PENDING",tw="DISABLED",iv=class{},I_=class extends iv{constructor(i,n){super(),this.value=i,this.source=n}},iw=class extends iv{constructor(i,n){super(),this.pristine=i,this.source=n}},nw=class extends iv{constructor(i,n){super(),this.touched=i,this.source=n}},tv=class extends iv{constructor(i,n){super(),this.status=i,this.source=n}};function ese(e){return(R_(e)?e.validators:e)||null}function tse(e){return Array.isArray(e)?rG(e):e||null}function ise(e,i){return(R_(i)?i.asyncValidators:e)||null}function nse(e){return Array.isArray(e)?sG(e):e||null}function R_(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var wA=class{constructor(i,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Wi,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===ew}get invalid(){return this.status===E_}get pending(){return this.status==ev}get disabled(){return this.status===tw}get enabled(){return this.status!==tw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators($9(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators($9(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(q9(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(q9(i,this._rawAsyncValidators))}hasValidator(i){return M_(this._rawValidators,i)}hasAsyncValidator(i){return M_(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let n=this.touched===!1;this.touched=!0;let o=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(At(We({},i),{sourceControl:o})),n&&i.emitEvent!==!1&&this._events.next(new nw(!0,o))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(i))}markAsUntouched(i={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let o=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:o})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,o),n&&i.emitEvent!==!1&&this._events.next(new nw(!1,o))}markAsDirty(i={}){let n=this.pristine===!0;this.pristine=!1;let o=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(At(We({},i),{sourceControl:o})),n&&i.emitEvent!==!1&&this._events.next(new iw(!1,o))}markAsPristine(i={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let o=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,o),n&&i.emitEvent!==!1&&this._events.next(new iw(!0,o))}markAsPending(i={}){this.status=ev;let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new tv(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(At(We({},i),{sourceControl:n}))}disable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=tw,this.errors=null,this._forEachChild(r=>{r.disable(At(We({},i),{onlySelf:!0}))}),this._updateValue();let o=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new I_(this.value,o)),this._events.next(new tv(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(At(We({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=ew,this._forEachChild(o=>{o.enable(At(We({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(At(We({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i,n){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ew||this.status===ev)&&this._runAsyncValidator(o,i.emitEvent)}let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new I_(this.value,n)),this._events.next(new tv(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(At(We({},i),{sourceControl:n}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tw:ew}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,n){if(this.asyncValidator){this.status=ev,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let o=tG(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(i){let n=i;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((o,r)=>o&&o._find(r),this)}getError(i,n){let o=n?this.get(n):this;return o&&o.errors?o.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,n,o){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||o)&&this._events.next(new tv(this.status,n)),this._parent&&this._parent._updateControlsErrors(i,n,o)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?tw:this.errors?E_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ev)?ev:this._anyControlsHaveStatus(E_)?E_:ew}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,n){let o=!this._anyControlsDirty(),r=this.pristine!==o;this.pristine=o,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),r&&this._events.next(new iw(this.pristine,n))}_updateTouched(i={},n){this.touched=this._anyControlsTouched(),this._events.next(new nw(this.touched,n)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){R_(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let n=this._parent&&this._parent.dirty;return!i&&!!n&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=tse(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=nse(this._rawAsyncValidators)}};var yA=new Lt("CallSetDisabledState",{providedIn:"root",factory:()=>A_}),A_="always";function ose(e,i){return[...i.path,e]}function rse(e,i,n=A_){ase(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&i.valueAccessor.setDisabledState?.(e.disabled),lse(e,i),dse(e,i),cse(e,i),sse(e,i)}function K9(e,i){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function sse(e,i){if(i.valueAccessor.setDisabledState){let n=o=>{i.valueAccessor.setDisabledState(o)};e.registerOnDisabledChange(n),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function ase(e,i){let n=Zre(e);i.validator!==null?e.setValidators(U9(n,i.validator)):typeof n=="function"&&e.setValidators([n]);let o=Xre(e);i.asyncValidator!==null?e.setAsyncValidators(U9(o,i.asyncValidator)):typeof o=="function"&&e.setAsyncValidators([o]);let r=()=>e.updateValueAndValidity();K9(i._rawValidators,r),K9(i._rawAsyncValidators,r)}function lse(e,i){i.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&aG(e,i)})}function cse(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&aG(e,i),e.updateOn!=="submit"&&e.markAsTouched()})}function aG(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dse(e,i){let n=(o,r)=>{i.valueAccessor.writeValue(o),r&&i.viewToModelUpdate(o)};e.registerOnChange(n),i._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function use(e,i){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(i,n.currentValue)}function hse(e){return Object.getPrototypeOf(e.constructor)===bA}function gse(e,i){if(!i)return null;Array.isArray(i);let n,o,r;return i.forEach(s=>{s.constructor===Hs?n=s:hse(s)?o=s:r=s}),r||o||n||null}function Y9(e,i){let n=e.indexOf(i);n>-1&&e.splice(n,1)}function Q9(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var pse=class extends wA{constructor(i=null,n,o){super(ese(n),ise(o,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),R_(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Q9(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=this.defaultValue,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Y9(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Y9(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){Q9(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var fse={provide:ow,useExisting:Vu(()=>fs)},Z9=Promise.resolve(),fs=(()=>{let i=class i extends ow{constructor(o,r,s,l,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new pse,this._registered=!1,this.name="",this.update=new Je,this._parent=o,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=gse(this,l)}ngOnChanges(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){let r=o.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),use(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){rse(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(o){Z9.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(o){let r=o.isDisabled.currentValue,s=r!==0&&Dp(r);Z9.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(o){return this._parent?ose(o,this._parent):[o]}};i.\u0275fac=function(r){return new(r||i)(lt(vA,9),lt($re,10),lt(qre,10),lt(nv,10),lt(_p,8),lt(yA,8))},i.\u0275dir=No({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xr([fse]),$l,cl]});let e=i;return e})();var mse=new Lt("");var vse={provide:nv,useExisting:Vu(()=>T_),multi:!0};function lG(e,i){return e==null?`${i}`:(i&&typeof i=="object"&&(i="Object"),`${e}: ${i}`.slice(0,50))}function Cse(e){return e.split(":")[0]}var T_=(()=>{let i=class i extends bA{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let r=this._getOptionId(o),s=lG(r,o);this.setProperty("value",s)}registerOnChange(o){this.onChange=r=>{this.value=this._getOptionValue(r),o(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(o){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),o))return r;return null}_getOptionValue(o){let r=Cse(o);return this._optionMap.has(r)?this._optionMap.get(r):o}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=Ul(i)))(s||i)}})(),i.\u0275dir=No({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&Ht("change",function(c){return s.onChange(c.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xr([vse]),$l]});let e=i;return e})(),cG=(()=>{let i=class i{constructor(o,r,s){this._element=o,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(o){this._select!=null&&(this._select._optionMap.set(this.id,o),this._setElementValue(lG(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._setElementValue(o),this._select&&this._select.writeValue(this._select.value)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};i.\u0275fac=function(r){return new(r||i)(lt(Gn),lt(Os),lt(T_,9))},i.\u0275dir=No({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=i;return e})(),wse={provide:nv,useExisting:Vu(()=>dG),multi:!0};function X9(e,i){return e==null?`${i}`:(typeof i=="string"&&(i=`'${i}'`),i&&typeof i=="object"&&(i="Object"),`${e}: ${i}`.slice(0,50))}function bse(e){return e.split(":")[0]}var dG=(()=>{let i=class i extends bA{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let r;if(Array.isArray(o)){let s=o.map(l=>this._getOptionId(l));r=(l,c)=>{l._setSelected(s.indexOf(c.toString())>-1)}}else r=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(o){this.onChange=r=>{let s=[],l=r.selectedOptions;if(l!==void 0){let c=l;for(let d=0;d<c.length;d++){let u=c[d],h=this._getOptionValue(u.value);s.push(h)}}else{let c=r.options;for(let d=0;d<c.length;d++){let u=c[d];if(u.selected){let h=this._getOptionValue(u.value);s.push(h)}}}this.value=s,o(s)}}_registerOption(o){let r=(this._idCounter++).toString();return this._optionMap.set(r,o),r}_getOptionId(o){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,o))return r;return null}_getOptionValue(o){let r=bse(o);return this._optionMap.has(r)?this._optionMap.get(r)._value:o}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=Ul(i)))(s||i)}})(),i.\u0275dir=No({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&Ht("change",function(c){return s.onChange(c.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xr([wse]),$l]});let e=i;return e})(),uG=(()=>{let i=class i{constructor(o,r,s){this._element=o,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(o){this._select!=null&&(this._value=o,this._setElementValue(X9(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._select?(this._value=o,this._setElementValue(X9(this.id,o)),this._select.writeValue(this._select.value)):this._setElementValue(o)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}_setSelected(o){this._renderer.setProperty(this._element.nativeElement,"selected",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};i.\u0275fac=function(r){return new(r||i)(lt(Gn),lt(Os),lt(dG,9))},i.\u0275dir=No({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=i;return e})();var hG=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({});let e=i;return e})();var Oo=(()=>{let i=class i{static withConfig(o){return{ngModule:i,providers:[{provide:yA,useValue:o.callSetDisabledState??A_}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({imports:[hG]});let e=i;return e})(),og=(()=>{let i=class i{static withConfig(o){return{ngModule:i,providers:[{provide:mse,useValue:o.warnOnNgModelWithFormControl??"always"},{provide:yA,useValue:o.callSetDisabledState??A_}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({imports:[hG]});let e=i;return e})();var gG="4.2.4";var pG=function(e){return e[e.None=0]="None",e[e.CommonJS=1]="CommonJS",e[e.AMD=2]="AMD",e[e.UMD=3]="UMD",e[e.System=4]="System",e[e.ES2015=5]="ES2015",e[e.ESNext=99]="ESNext",e}(pG||{}),fG=function(e){return e[e.None=0]="None",e[e.Preserve=1]="Preserve",e[e.React=2]="React",e[e.ReactNative=3]="ReactNative",e[e.ReactJSX=4]="ReactJSX",e[e.ReactJSXDev=5]="ReactJSXDev",e}(fG||{}),mG=function(e){return e[e.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",e[e.LineFeed=1]="LineFeed",e}(mG||{}),F_=function(e){return e[e.ES3=0]="ES3",e[e.ES5=1]="ES5",e[e.ES2015=2]="ES2015",e[e.ES2016=3]="ES2016",e[e.ES2017=4]="ES2017",e[e.ES2018=5]="ES2018",e[e.ES2019=6]="ES2019",e[e.ES2020=7]="ES2020",e[e.ESNext=99]="ESNext",e[e.JSON=100]="JSON",e[e.Latest=99]="Latest",e}(F_||{}),vG=function(e){return e[e.Classic=1]="Classic",e[e.NodeJs=2]="NodeJs",e}(vG||{}),CG=function(){function e(i,n,o){this._onDidChange=new Au,this._onDidExtraLibsChange=new Au,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(i),this.setDiagnosticsOptions(n),this.setWorkerOptions(o),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(i,n){var o=this,r;if(typeof n>"u"?r="ts:extralib-"+Math.random().toString(36).substring(2,15):r=n,this._extraLibs[r]&&this._extraLibs[r].content===i)return{dispose:function(){}};var s=1;return this._removedExtraLibs[r]&&(s=this._removedExtraLibs[r]+1),this._extraLibs[r]&&(s=this._extraLibs[r].version+1),this._extraLibs[r]={content:i,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var l=o._extraLibs[r];l&&l.version===s&&(delete o._extraLibs[r],o._removedExtraLibs[r]=s,o._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(i){for(var n in this._extraLibs)this._removedExtraLibs[n]=this._extraLibs[n].version;if(this._extraLibs=Object.create(null),i&&i.length>0)for(var o=0,r=i;o<r.length;o++){var s=r[o],n=s.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),l=s.content,c=1;this._removedExtraLibs[n]&&(c=this._removedExtraLibs[n]+1),this._extraLibs[n]={content:l,version:c}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var i=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=setTimeout(function(){i._onDidExtraLibsChangeTimeout=-1,i._onDidExtraLibsChange.fire(void 0)},0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(i){this._compilerOptions=i||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setWorkerOptions=function(i){this._workerOptions=i||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(i){},e.prototype.setEagerModelSync=function(i){this._eagerModelSync=i},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}(),yse=gG,wG=new CG({allowNonTsExtensions:!0,target:F_.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),bG=new CG({allowNonTsExtensions:!0,allowJs:!0,target:F_.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{}),Sse=function(){return P_().then(function(e){return e.getTypeScriptWorker()})},xse=function(){return P_().then(function(e){return e.getJavaScriptWorker()})};Qn.typescript={ModuleKind:pG,JsxEmit:fG,NewLineKind:mG,ScriptTarget:F_,ModuleResolutionKind:vG,typescriptVersion:yse,typescriptDefaults:wG,javascriptDefaults:bG,getTypeScriptWorker:Sse,getJavaScriptWorker:xse};function P_(){return import("./chunk-6UHUNPKI.js")}Qn.onLanguage("typescript",function(){return P_().then(function(e){return e.setupTypeScript(wG)})});Qn.onLanguage("javascript",function(){return P_().then(function(e){return e.setupJavaScript(bG)})});var SA=function(){function e(i,n,o){this._onDidChange=new Au,this._languageId=i,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)},e}(),xA={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},_A={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},yG=new SA("css",xA,_A),SG=new SA("scss",xA,_A),xG=new SA("less",xA,_A);Qn.css={cssDefaults:yG,lessDefaults:xG,scssDefaults:SG};function DA(){return import("./chunk-VRVJFWGZ.js")}Qn.onLanguage("less",function(){DA().then(function(e){return e.setupMode(xG)})});Qn.onLanguage("scss",function(){DA().then(function(e){return e.setupMode(SG)})});Qn.onLanguage("css",function(){DA().then(function(e){return e.setupMode(yG)})});var _se=function(){function e(i,n,o){this._onDidChange=new Au,this._languageId=i,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)},e}(),Dse={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Ese={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},_G=new _se("json",Dse,Ese);Qn.json={jsonDefaults:_G};function Mse(){return import("./chunk-RIPBLIIN.js")}Qn.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});Qn.onLanguage("json",function(){Mse().then(function(e){return e.setupMode(_G)})});var kA=function(){function e(i,n,o){this._onDidChange=new Au,this._languageId=i,this.setOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(i){this._options=i||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)},e}(),IA={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},kse={format:IA,suggest:{html5:!0,angular1:!0,ionic:!0}},Ise={format:IA,suggest:{html5:!0}},Rse={format:IA,suggest:{html5:!0,razor:!0}};function RA(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===rv,documentFormattingEdits:e===rv,documentRangeFormattingEdits:e===rv}}var rv="html",EA="handlebars",MA="razor",DG=new kA(rv,kse,RA(rv)),EG=new kA(EA,Ise,RA(EA)),MG=new kA(MA,Rse,RA(MA));Qn.html={htmlDefaults:DG,razorDefaults:MG,handlebarDefaults:EG};function AA(){return import("./chunk-UY7PWBKJ.js")}Qn.onLanguage(rv,function(){AA().then(function(e){return e.setupMode(DG)})});Qn.onLanguage(EA,function(){AA().then(function(e){return e.setupMode(EG)})});Qn.onLanguage(MA,function(){AA().then(function(e){return e.setupMode(MG)})});var kG={},TA={},Ase=function(){function e(i){var n=this;this._languageId=i,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(o,r){n._lazyLoadPromiseResolve=o,n._lazyLoadPromiseReject=r})}return e.getOrCreate=function(i){return TA[i]||(TA[i]=new e(i)),TA[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var i=this;return this._loadingTriggered||(this._loadingTriggered=!0,kG[this._languageId].loader().then(function(n){return i._lazyLoadPromiseResolve(n)},function(n){return i._lazyLoadPromiseReject(n)})),this._lazyLoadPromise},e}();function Ke(e){var i=e.id;kG[i]=e,Qn.register(e);var n=Ase.getOrCreate(i);Qn.setMonarchTokensProvider(i,n.whenLoaded().then(function(o){return o.language})),Qn.onLanguage(i,function(){n.load().then(function(o){Qn.setLanguageConfiguration(i,o.conf)})})}Ke({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return import("./chunk-IR6JRKSS.js")}});Ke({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return import("./chunk-X63RTNKF.js")}});Ke({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return import("./chunk-4FYKEHPD.js")}});Ke({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return import("./chunk-VNKVN3SL.js")}});Ke({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return import("./chunk-CZG7EMBY.js")}});Ke({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return import("./chunk-ROSWZZCI.js")}});Ke({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return import("./chunk-EU24I4FJ.js")}});Ke({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return import("./chunk-RACOA2YV.js")}});Ke({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return import("./chunk-YUUOIXOE.js")}});Ke({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return import("./chunk-YUUOIXOE.js")}});Ke({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return import("./chunk-2JAMJ32K.js")}});Ke({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return import("./chunk-CV5SLACE.js")}});Ke({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return import("./chunk-ELHLAOB5.js")}});Ke({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return import("./chunk-QWIIKPL7.js")}});Ke({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return import("./chunk-5MI65JUY.js")}});Ke({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return import("./chunk-2RFJGK75.js")}});Ke({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return import("./chunk-WFNSLK3W.js")}});Ke({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return import("./chunk-KR3WTVWK.js")}});Ke({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return import("./chunk-FH6FWXG2.js")}});Ke({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return import("./chunk-MTNU76OD.js")}});Ke({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return import("./chunk-O6J324UR.js")}});Ke({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return import("./chunk-ZX4CZF5T.js")}});Ke({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return import("./chunk-QG2NMR2A.js")}});Ke({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return import("./chunk-7II37EKX.js")}});Ke({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return import("./chunk-GRLNBTJX.js")}});Ke({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return import("./chunk-ZWOB7JVV.js")}});Ke({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return import("./chunk-55WQ2HDR.js")}});Ke({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return import("./chunk-XACUOTDU.js")}});Ke({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return import("./chunk-GHYU72XX.js")}});Ke({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return import("./chunk-ZLBZOTIP.js")}});Ke({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return import("./chunk-UR4EZ7FA.js")}});Ke({id:"liquid",extensions:[".liquid",".liquid.html",".liquid.css"],loader:function(){return import("./chunk-HTARYAGP.js")}});Ke({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return import("./chunk-HI76J7VM.js")}});Ke({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return import("./chunk-JDTFWC32.js")}});Ke({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return import("./chunk-6E5IEJ3S.js")}});Ke({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return import("./chunk-6DSFTSPN.js")}});Ke({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return import("./chunk-BXGROMLQ.js")}});Ke({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return import("./chunk-B7RLMETC.js")}});Ke({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return import("./chunk-EYO4B7UH.js")}});Ke({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return import("./chunk-SXC3XXMK.js")}});Ke({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return import("./chunk-SYXBNQTL.js")}});Ke({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return import("./chunk-RARRQYZJ.js")}});Ke({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return import("./chunk-FXWZXN63.js")}});Ke({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return import("./chunk-ALT2A7FK.js")}});Ke({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return import("./chunk-OEQ4KVAS.js")}});Ke({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return import("./chunk-ECDXIU5F.js")}});Ke({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return import("./chunk-O3OQ4GJ3.js")}});Ke({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return import("./chunk-OGKMY7FU.js")}});Ke({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return import("./chunk-J6XZ7UU7.js")}});Ke({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return import("./chunk-NUFN5FJN.js")}});Ke({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return import("./chunk-TURXTJWY.js")}});Ke({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return import("./chunk-XYHS7OWH.js")}});Ke({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return import("./chunk-742XOM3N.js")}});Ke({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return import("./chunk-3OBEHUAV.js")}});Ke({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return import("./chunk-2BYCQBH5.js")}});Ke({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return import("./chunk-BXLSYUYE.js")}});Ke({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return import("./chunk-P72G6FA3.js")}});Ke({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return import("./chunk-XYUPT3RE.js")}});Ke({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return import("./chunk-AN2IQYZY.js")}});Ke({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return import("./chunk-ZJOXCAKW.js")}});Ke({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return import("./chunk-BZKYY4ZS.js")}});Ke({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return import("./chunk-NVJCOED7.js")}});Ke({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return import("./chunk-SWQKUOKP.js")}});Ke({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return import("./chunk-YK526ZJ6.js")}});Ke({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return import("./chunk-WWVBKJ2G.js")}});Ke({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return import("./chunk-HP4MYM22.js")}});Ke({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return import("./chunk-HP4MYM22.js")}});Ke({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return import("./chunk-4YKHMVST.js")}});Ke({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return import("./chunk-SZVQQRNJ.js")}});Ke({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return import("./chunk-PHC4CKSL.js")}});Ke({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return import("./chunk-W6X7DI47.js")}});Ke({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return import("./chunk-4GKD7FTO.js")}});Ke({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return import("./chunk-IKXCIT7W.js")}});$t();Pt();Yi();lo();kl();Ti();Rn();ki();var Qo=class{constructor(i="",n=!1){var o,r;if(this.value=i,typeof this.value!="string")throw as("value");typeof n=="boolean"?(this.isTrusted=n,this.supportThemeIcons=!1):(this.isTrusted=(o=n.isTrusted)!==null&&o!==void 0?o:void 0,this.supportThemeIcons=(r=n.supportThemeIcons)!==null&&r!==void 0?r:!1)}appendText(i,n=0){return this.value+=Tse(this.supportThemeIcons?oz(i):i).replace(/([ \t]+)/g,(o,r)=>"&nbsp;".repeat(r.length)).replace(/^>/gm,"\\>").replace(/\n/g,n===1?`\\
`:`

`),this}appendMarkdown(i){return this.value+=i,this}appendCodeblock(i,n){return this.value+="\n```",this.value+=i,this.value+=`
`,this.value+=n,this.value+="\n```\n",this}};function Ap(e){return FA(e)?!e.value:Array.isArray(e)?e.every(Ap):!0}function FA(e){return e instanceof Qo?!0:e&&typeof e=="object"?typeof e.value=="string"&&(typeof e.isTrusted=="boolean"||e.isTrusted===void 0)&&(typeof e.supportThemeIcons=="boolean"||e.supportThemeIcons===void 0):!1}function RG(e,i){return!e&&!i?!0:!e||!i?!1:Array.isArray(e)&&Array.isArray(i)?Ih(e,i,IG):FA(e)&&FA(i)?IG(e,i):!1}function IG(e,i){return e===i?!0:!e||!i?!1:e.value===i.value&&e.isTrusted===i.isTrusted&&e.supportThemeIcons===i.supportThemeIcons}function Tse(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function L_(e){return e&&e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function AG(e){let i=[],n=e.split("|").map(r=>r.trim());e=n[0];let o=n[1];if(o){let r=/height=(\d+)/.exec(o),s=/width=(\d+)/.exec(o),l=r?r[1]:"",c=s?s[1]:"",d=isFinite(parseInt(c)),u=isFinite(parseInt(l));d&&i.push(`width="${c}"`),u&&i.push(`height="${l}"`)}return{href:e,dimensions:i}}el();var Fse=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Pse=function(e,i){return function(n,o){i(n,o,e)}},N_=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},O_=new ei("selectionAnchorSet",!1),Zu=class TG{constructor(i,n){this.editor=i,this.selectionAnchorSetContextKey=O_.bindTo(n),this.modelChangeListener=i.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(i){return i.getContribution(TG.ID)}setSelectionAnchor(){if(this.editor.hasModel()){let i=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],o=this.editor.deltaDecorations(n,[{range:Ct.fromPositions(i,i),options:{stickiness:1,hoverMessage:new Qo().appendText(_("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=o[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Yn(_("anchorSet","Anchor set at {0}:{1}",i.lineNumber,i.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let i=this.editor.getModel().getDecorationRange(this.decorationId);i&&this.editor.setPosition(i.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let i=this.editor.getModel().getDecorationRange(this.decorationId);if(i){let n=this.editor.getPosition();this.editor.setSelection(Ct.fromPositions(i.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Zu.ID="editor.contrib.selectionAnchorController";Zu=Fse([Pse(1,Wt)],Zu);var PA=class extends it{constructor(){super({id:"editor.action.setSelectionAnchor",label:_("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2080),weight:100}})}run(i,n){return N_(this,void 0,void 0,function*(){Zu.get(n).setSelectionAnchor()})}},LA=class extends it{constructor(){super({id:"editor.action.goToSelectionAnchor",label:_("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:O_})}run(i,n){return N_(this,void 0,void 0,function*(){Zu.get(n).goToSelectionAnchor()})}},NA=class extends it{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:_("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:O_,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2089),weight:100}})}run(i,n){return N_(this,void 0,void 0,function*(){Zu.get(n).selectFromAnchorToCursor()})}},OA=class extends it{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:_("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:O_,kbOpts:{kbExpr:Me.editorTextFocus,primary:9,weight:100}})}run(i,n){return N_(this,void 0,void 0,function*(){Zu.get(n).cancelSelectionAnchor()})}};Dt(Zu.ID,Zu);Ue(PA);Ue(LA);Ue(NA);Ue(OA);Pt();ln();bt();$t();Jn();Bt();lo();Yi();O0();Lo();l1();vn();Oi();wr();var Lse=St("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},_("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),zA=class extends it{constructor(){super({id:"editor.action.jumpToBracket",label:_("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:3160,weight:100}})}run(i,n){let o=Xu.get(n);o&&o.jumpToBracket()}},BA=class extends it{constructor(){super({id:"editor.action.selectToBracket",label:_("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(i,n,o){let r=Xu.get(n);if(!r)return;let s=!0;o&&o.selectBrackets===!1&&(s=!1),r.selectToBracket(s)}},VA=class{constructor(i,n,o){this.position=i,this.brackets=n,this.options=o}},Xu=class e extends yt{constructor(i){super(),this._editor=i,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new qn(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(60),this._updateBracketsSoon.schedule(),this._register(i.onDidChangeCursorPosition(n=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeModelContent(n=>{this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeModel(n=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeModelLanguageConfiguration(n=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeConfiguration(n=>{n.hasChanged(60)&&(this._matchBrackets=this._editor.getOption(60),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(i){return i.getContribution(e.ID)}jumpToBracket(){if(!this._editor.hasModel())return;let i=this._editor.getModel(),n=this._editor.getSelections().map(o=>{let r=o.getStartPosition(),s=i.matchBracket(r),l=null;if(s)s[0].containsPosition(r)?l=s[1].getStartPosition():s[1].containsPosition(r)&&(l=s[0].getStartPosition());else{let c=i.findEnclosingBrackets(r);if(c)l=c[0].getStartPosition();else{let d=i.findNextBracket(r);d&&d.range&&(l=d.range.getStartPosition())}}return l?new Ct(l.lineNumber,l.column,l.lineNumber,l.column):new Ct(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(n),this._editor.revealRange(n[0])}selectToBracket(i){if(!this._editor.hasModel())return;let n=this._editor.getModel(),o=[];this._editor.getSelections().forEach(r=>{let s=r.getStartPosition(),l=n.matchBracket(s);if(!l&&(l=n.findEnclosingBrackets(s),!l)){let u=n.findNextBracket(s);u&&u.range&&(l=n.matchBracket(u.range.getStartPosition()))}let c=null,d=null;if(l){l.sort(Ie.compareRangesUsingStarts);let[u,h]=l;c=i?u.getStartPosition():u.getEndPosition(),d=i?h.getEndPosition():h.getStartPosition()}c&&d&&o.push(new Ct(c.lineNumber,c.column,d.lineNumber,d.column))}),o.length>0&&(this._editor.setSelections(o),this._editor.revealRange(o[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let i=[],n=0;for(let o of this._lastBracketsData){let r=o.brackets;r&&(i[n++]={range:r[0],options:o.options},i[n++]={range:r[1],options:o.options})}this._decorations=this._editor.deltaDecorations(this._decorations,i)}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}let i=this._editor.getSelections();if(i.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let n=this._editor.getModel(),o=n.getVersionId(),r=[];this._lastVersionId===o&&(r=this._lastBracketsData);let s=[],l=0;for(let g=0,p=i.length;g<p;g++){let f=i[g];f.isEmpty()&&(s[l++]=f.getStartPosition())}s.length>1&&s.sort(_t.compare);let c=[],d=0,u=0,h=r.length;for(let g=0,p=s.length;g<p;g++){let f=s[g];for(;u<h&&r[u].position.isBefore(f);)u++;if(u<h&&r[u].position.equals(f))c[d++]=r[u];else{let y=n.matchBracket(f),M=e._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!y&&this._matchBrackets==="always"&&(y=n.findEnclosingBrackets(f,20),M=e._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),c[d++]=new VA(f,y,M)}}this._lastBracketsData=c,this._lastVersionId=o}};Xu.ID="editor.contrib.bracketMatchingController";Xu._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=ni.register({stickiness:1,className:"bracket-match",overviewRuler:{color:cr(Lse),position:Hr.Center}});Xu._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=ni.register({stickiness:1,className:"bracket-match"});Dt(Xu.ID,Xu);Ue(BA);Ue(zA);ii((e,i)=>{let n=e.getColor(L5);n&&i.addRule(`.monaco-editor .bracket-match { background-color: ${n}; }`);let o=e.getColor(a1);o&&i.addRule(`.monaco-editor .bracket-match { border: 1px solid ${o}; }`)});tl.appendMenuItem(Vt.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});Pt();$t();Yi();Bt();lo();var z_=class{constructor(i,n){this._selection=i,this._isMovingLeft=n}getEditOperations(i,n){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let o=this._selection.startLineNumber,r=this._selection.startColumn,s=this._selection.endColumn;if(!(this._isMovingLeft&&r===1)&&!(!this._isMovingLeft&&s===i.getLineMaxColumn(o)))if(this._isMovingLeft){let l=new Ie(o,r-1,o,r),c=i.getValueInRange(l);n.addEditOperation(l,null),n.addEditOperation(new Ie(o,s,o,s),c)}else{let l=new Ie(o,s,o,s+1),c=i.getValueInRange(l);n.addEditOperation(l,null),n.addEditOperation(new Ie(o,r,o,r),c)}}computeCursorState(i,n){return this._isMovingLeft?new Ct(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Ct(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}};var B_=class extends it{constructor(i,n){super(n),this.left=i}run(i,n){if(!n.hasModel())return;let o=[],r=n.getSelections();for(let s of r)o.push(new z_(s,this.left));n.pushUndoStop(),n.executeCommands(this.id,o),n.pushUndoStop()}},HA=class extends B_{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:Me.writable})}},GA=class extends B_{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:Me.writable})}};Ue(HA);Ue(GA);Pt();$t();Bt();Yi();var jA=class extends it{constructor(){super({id:"editor.action.transposeLetters",label:_("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(i,n){if(!n.hasModel())return;let o=n.getModel(),r=[],s=n.getSelections();for(let l of s){if(!l.isEmpty())continue;let c=l.startLineNumber,d=l.startColumn,u=o.getLineMaxColumn(c);if(c===1&&(d===1||d===2&&u===2))continue;let h=d===u?l.getPosition():d1.rightPosition(o,l.getPosition().lineNumber,l.getPosition().column),g=d1.leftPosition(o,h.lineNumber,h.column),p=d1.leftPosition(o,g.lineNumber,g.column),f=o.getValueInRange(Ie.fromPositions(p,g)),y=o.getValueInRange(Ie.fromPositions(g,h)),M=Ie.fromPositions(p,h);r.push(new Mu(M,y+f))}r.length>0&&(n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop())}};Ue(jA);Pt();fS();wa();$t();Ho();Yi();wr();var Ose=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},V_="9_cutcopypaste",zse=Sh||document.queryCommandSupported("cut"),FG=Sh||document.queryCommandSupported("copy"),Bse=typeof navigator.clipboard>"u"||N4?document.queryCommandSupported("paste"):!0;function $A(e){return e.register(),e}var Vse=zse?$A(new WS({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Sh?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Vt.MenubarEditMenu,group:"2_ccp",title:_({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Vt.EditorContext,group:V_,title:_("actions.clipboard.cutLabel","Cut"),when:Me.writable,order:1},{menuId:Vt.CommandPalette,group:"",title:_("actions.clipboard.cutLabel","Cut"),order:1}]})):void 0,Hse=FG?$A(new WS({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Sh?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Vt.MenubarEditMenu,group:"2_ccp",title:_({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Vt.EditorContext,group:V_,title:_("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Vt.CommandPalette,group:"",title:_("actions.clipboard.copyLabel","Copy"),order:1}]})):void 0;tl.appendMenuItem(Vt.MenubarEditMenu,{submenu:Vt.MenubarCopy,title:{value:_("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});tl.appendMenuItem(Vt.EditorContext,{submenu:Vt.EditorContextCopy,title:{value:_("copy as","Copy As"),original:"Copy As"},group:V_,order:3});var WA=Bse?$A(new WS({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Sh?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Vt.MenubarEditMenu,group:"2_ccp",title:_({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Vt.EditorContext,group:V_,title:_("actions.clipboard.pasteLabel","Paste"),when:Me.writable,order:4},{menuId:Vt.CommandPalette,group:"",title:_("actions.clipboard.pasteLabel","Paste"),order:1}]})):void 0,UA=class extends it{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Me.textInputFocus,primary:0,weight:100}})}run(i,n){!n.hasModel()||!n.getOption(30)&&n.getSelection().isEmpty()||(f2.forceCopyWithSyntaxHighlighting=!0,n.focus(),document.execCommand("copy"),f2.forceCopyWithSyntaxHighlighting=!1)}};function PG(e,i){e&&(e.addImplementation(1e4,"code-editor",(n,o)=>{let r=n.get(Ii).getFocusedCodeEditor();if(r&&r.hasTextFocus()){let s=r.getOption(30),l=r.getSelection();return l&&l.isEmpty()&&!s||document.execCommand(i),!0}return!1}),e.addImplementation(0,"generic-dom",(n,o)=>(document.execCommand(i),!0)))}PG(Vse,"cut");PG(Hse,"copy");WA&&(WA.addImplementation(1e4,"code-editor",(e,i)=>{let n=e.get(Ii),o=e.get(Yg),r=n.getFocusedCodeEditor();return r&&r.hasTextFocus()?(!document.execCommand("paste")&&dS&&Ose(void 0,void 0,void 0,function*(){let l=yield o.readText();if(l!==""){let c=Z8.INSTANCE.get(l),d=!1,u=null,h=null;c&&(d=r.getOption(30)&&!!c.isFromEmptySelection,u=typeof c.multicursorText<"u"?c.multicursorText:null,h=c.mode),r.trigger("keyboard","paste",{text:l,pasteOnNewLine:d,multicursorText:u,mode:h})}}),!0):!1}),WA.addImplementation(0,"generic-dom",(e,i)=>(document.execCommand("paste"),!0)));FG&&Ue(UA);$t();$n();var Ju=class{constructor(i){this.executor=i,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(i){this._error=i}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};bt();On();$t();Yi();Rn();$n();ki();bt();To();Kg();Bt();lo();Vi();Dh();var ti=class e{constructor(i){this.value=i}equals(i){return this.value===i.value}contains(i){return this.equals(i)||this.value===""||i.value.startsWith(this.value+e.sep)}intersects(i){return this.contains(i)||i.contains(this)}append(i){return new e(this.value+e.sep+i)}};ti.sep=".";ti.None=new ti("@@none@@");ti.Empty=new ti("");ti.QuickFix=new ti("quickfix");ti.Refactor=new ti("refactor");ti.Source=new ti("source");ti.SourceOrganizeImports=ti.Source.append("organizeImports");ti.SourceFixAll=ti.Source.append("fixAll");function LG(e,i){return!(e.include&&!e.include.intersects(i)||e.excludes&&e.excludes.some(n=>OG(i,n,e.include))||!e.includeSourceActions&&ti.Source.contains(i))}function NG(e,i){let n=i.kind?new ti(i.kind):void 0;return!(e.include&&(!n||!e.include.contains(n))||e.excludes&&n&&e.excludes.some(o=>OG(n,o,e.include))||!e.includeSourceActions&&n&&ti.Source.contains(n)||e.onlyIncludePreferredActions&&!i.isPreferred)}function OG(e,i,n){return!(!i.contains(e)||n&&i.contains(n))}var rg=class e{constructor(i,n,o){this.kind=i,this.apply=n,this.preferred=o}static fromUser(i,n){return!i||typeof i!="object"?new e(n.kind,n.apply,!1):new e(e.getKindFromUser(i,n.kind),e.getApplyFromUser(i,n.apply),e.getPreferredUser(i))}static getApplyFromUser(i,n){switch(typeof i.apply=="string"?i.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return n}}static getKindFromUser(i,n){return typeof i.kind=="string"?new ti(i.kind):n}static getPreferredUser(i){return typeof i.preferred=="boolean"?i.preferred:!1}};Qg();Do();var KA=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},H_="editor.action.codeAction",G_="editor.action.refactor",j_="editor.action.sourceAction",lw="editor.action.organizeImports",cw="editor.action.fixAll",sw=class{constructor(i,n){this.action=i,this.provider=n}resolve(i){var n;return KA(this,void 0,void 0,function*(){if(!((n=this.provider)===null||n===void 0)&&n.resolveCodeAction&&!this.action.edit){let o;try{o=yield this.provider.resolveCodeAction(this.action,i)}catch(r){pn(r)}o&&(this.action.edit=o.edit)}return this})}},qA=class e extends yt{constructor(i,n,o){super(),this.documentation=n,this._register(o),this.allActions=[...i].sort(e.codeActionsComparator),this.validActions=this.allActions.filter(({action:r})=>!r.disabled)}static codeActionsComparator({action:i},{action:n}){return i.isPreferred&&!n.isPreferred?-1:!i.isPreferred&&n.isPreferred?1:ho(i.diagnostics)?ho(n.diagnostics)?i.diagnostics[0].message.localeCompare(n.diagnostics[0].message):-1:ho(n.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:i})=>!!i.kind&&ti.QuickFix.contains(new ti(i.kind))&&!!i.isPreferred)}},zG={actions:[],documentation:void 0};function dw(e,i,n,o,r){var s;let l=n.filter||{},c={only:(s=l.include)===null||s===void 0?void 0:s.value,trigger:n.type},d=new G5(e,r),u=Gse(e,l),h=new Xe,g=u.map(f=>KA(this,void 0,void 0,function*(){try{o.report(f);let y=yield f.provideCodeActions(e,i,c,d.token);if(y&&h.add(y),d.token.isCancellationRequested)return zG;let M=(y?.actions||[]).filter(G=>G&&NG(l,G)),k=jse(f,M,l.include);return{actions:M.map(G=>new sw(G,f)),documentation:k}}catch(y){if(Ml(y))throw y;return pn(y),zG}})),p=Al.onDidChange(()=>{let f=Al.all(e);Ih(f,u)||d.cancel()});return Promise.all(g).then(f=>{let y=$g(f.map(k=>k.actions)),M=Ms(f.map(k=>k.documentation));return new qA(y,M,h)}).finally(()=>{p.dispose(),d.dispose()})}function Gse(e,i){return Al.all(e).filter(n=>n.providedCodeActionKinds?n.providedCodeActionKinds.some(o=>LG(i,new ti(o))):!0)}function jse(e,i,n){if(!e.documentation)return;let o=e.documentation.map(r=>({kind:new ti(r.kind),command:r.command}));if(n){let r;for(let s of o)s.kind.contains(n)&&(r?r.kind.contains(s.kind)&&(r=s):r=s);if(r)return r?.command}for(let r of i)if(r.kind){for(let s of o)if(s.kind.contains(new ti(r.kind)))return s.command}}xi.registerCommand("_executeCodeActionProvider",function(e,i,n,o,r){return KA(this,void 0,void 0,function*(){if(!(i instanceof ci))throw as();let s=e.get(Po).getModel(i);if(!s)throw as();let l=Ct.isISelection(n)?Ct.liftSelection(n):Ie.isIRange(n)?s.validateRange(n):void 0;if(!l)throw as();let c=typeof o=="string"?new ti(o):void 0,d=yield dw(s,l,{type:1,filter:{includeSourceActions:!0,include:c}},Ll.None,Jt.None),u=[],h=Math.min(d.validActions.length,typeof r=="number"?r:0);for(let g=0;g<h;g++)u.push(d.validActions[g].resolve(Jt.None));try{return yield Promise.all(u),d.validActions.map(g=>g.action)}finally{setTimeout(()=>d.dispose(),100)}})});ki();bt();Pt();ln();bt();el();Bt();$t();Ti();Oi();vn();d2();var Wse=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Use=function(e,i){return function(n,o){i(n,o,e)}},zo=class YA{constructor(i,n){this._messageWidget=new Ao,this._messageListeners=new Xe,this._editor=i,this._visible=YA.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(i){return i.getContribution(YA.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(i,n){Yn(i),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new W_(this._editor,n,i),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new zr(()=>this.closeMessage(),3e3));let o;this._messageListeners.add(this._editor.onMouseMove(r=>{r.target.position&&(o?o.containsPosition(r.target.position)||this.closeMessage():o=new Ie(n.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(W_.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(_("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};zo.ID="editor.contrib.messageController";zo.MESSAGE_VISIBLE=new ei("messageVisible",!1,_("messageVisible","Whether the editor is currently showing an inline message"));zo=Wse([Use(1,Wt)],zo);var $se=Tn.bindToContribution(zo.get);pt(new $se({id:"leaveEditorMessage",precondition:zo.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));var W_=class{constructor(i,{lineNumber:n,column:o},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=i,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");let s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);let l=document.createElement("div");l.classList.add("message"),l.textContent=r,this._domNode.appendChild(l);let c=document.createElement("div");c.classList.add("anchor","below"),this._domNode.appendChild(c),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(i){let n,o=()=>{i.dispose(),clearTimeout(n),i.getDomNode().removeEventListener("animationend",o)};return n=setTimeout(o,110),i.getDomNode().addEventListener("animationend",o),i.getDomNode().classList.add("fadeOut"),{dispose:o}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(i){this._domNode.classList.toggle("below",i===2)}};Dt(zo.ID,zo);ii((e,i)=>{let n=e.getColor(e1);if(n){let s=e.type===Yf.HIGH_CONTRAST?2:1;i.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),i.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),i.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${s}px solid ${n}; }`)}let o=e.getColor(XS);o&&i.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${o}; }`);let r=e.getColor(JS);r&&i.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${r}; }`)});wn();Ki();G0();ki();bt();Jn();Vi();us();var qse=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},BG=function(e,i){return function(n,o){i(n,o,e)}},Kse=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},U_=class extends VS{constructor(i,n){super(i.command?i.command.id:i.title,Yse(i.title),void 0,!i.disabled,n),this.action=i}};function Yse(e){return e.replace(/\r\n|\r|\n/g," ")}var $_=class extends yt{constructor(i,n,o,r){super(),this._editor=i,this._delegate=n,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new Ao),this._keybindingResolver=new Qse({getKeybindings:()=>r.getKeybindings()})}get isVisible(){return this._visible}show(i,n,o,r){return Kse(this,void 0,void 0,function*(){let s=r.includeDisabledActions?n.allActions:n.validActions;if(!s.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,uS();this._visible=!0,this._showingActions.value=n;let l=this.getMenuActions(i,s,n.documentation),c=_t.isIPosition(o)?this._toCoords(o):o||{x:0,y:0},d=this._keybindingResolver.getResolver(),u=this._editor.getOption(111);this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>c,getActions:()=>l,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:h=>h instanceof U_?d(h.action):void 0})})}getMenuActions(i,n,o){var r,s;let l=h=>new U_(h.action,()=>this._delegate.onSelectCodeAction(h)),c=n.map(l),d=[...o],u=this._editor.getModel();if(u&&c.length)for(let h of Al.all(u))h._getAdditionalMenuItems&&d.push(...h._getAdditionalMenuItems({trigger:i.type,only:(s=(r=i.filter)===null||r===void 0?void 0:r.include)===null||s===void 0?void 0:s.value},n.map(g=>g.action)));return d.length&&c.push(new qg,...d.map(h=>l(new sw({title:h.title,command:h},void 0)))),c}_toCoords(i){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(i,1),this._editor.render();let n=this._editor.getScrolledVisiblePosition(i),o=Go(this._editor.getDomNode()),r=o.left+n.left,s=o.top+n.top+n.height;return{x:r,y:s}}};$_=qse([BG(2,sm),BG(3,En)],$_);var Qse=(()=>{class e{constructor(n){this._keybindingProvider=n}getResolver(){let n=new Ju(()=>this._keybindingProvider.getKeybindings().filter(o=>e.codeActionCommands.indexOf(o.command)>=0).filter(o=>o.resolvedKeybinding).map(o=>{let r=o.commandArgs;return o.command===lw?r={kind:ti.SourceOrganizeImports.value}:o.command===cw&&(r={kind:ti.SourceFixAll.value}),Object.assign({resolvedKeybinding:o.resolvedKeybinding},rg.fromUser(r,{kind:ti.None,apply:"never"}))}));return o=>{if(o.kind){let r=this.bestKeybindingForCodeAction(o,n.getValue());return r?.resolvedKeybinding}}}bestKeybindingForCodeAction(n,o){if(!n.kind)return;let r=new ti(n.kind);return o.filter(s=>s.kind.contains(r)).filter(s=>s.preferred?n.isPreferred:!0).reduceRight((s,l)=>s?s.kind.contains(l.kind)?l:s:l,void 0)}}return e.codeActionCommands=[G_,H_,j_,lw,cw],e})();Ki();en();bt();Lo();Pt();us();Oi();vn();K8();Gr();var Zse=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Xse=function(e,i){return function(n,o){i(n,o,e)}},uw;(function(e){e.Hidden={type:0};class i{constructor(o,r,s,l){this.actions=o,this.trigger=r,this.editorPosition=s,this.widgetPosition=l,this.type=1}}e.Showing=i})(uw||(uw={}));var hw=class VG extends yt{constructor(i,n,o,r){super(),this._editor=i,this._quickFixActionId=n,this._preferredFixActionId=o,this._keybindingService=r,this._onClick=this._register(new vt),this.onClick=this._onClick.event,this._state=uw.Hidden,this._domNode=document.createElement("div"),this._domNode.className=gt.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{let l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),$S.ignoreTarget(this._domNode),this._register(W4(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();let{top:l,height:c}=Go(this._domNode),d=this._editor.getOption(55),u=Math.floor(d/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(u+=d),this._onClick.fire({x:s.posx,y:l+c+u,actions:this.state.actions,trigger:this.state.trigger})})),this._register(uo(this._domNode,"mouseenter",s=>{if((s.buttons&1)!==1)return;this.hide();let l=new U0;l.startMonitoring(s.target,s.buttons,W0,()=>{},()=>{l.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(53)&&!this._editor.getOption(53).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(i,n,o){if(i.validActions.length<=0)return this.hide();let r=this._editor.getOptions();if(!r.get(53).enabled)return this.hide();let s=this._editor.getModel();if(!s)return this.hide();let{lineNumber:l,column:c}=s.validatePosition(o),d=s.getOptions().tabSize,u=r.get(40),h=s.getLineContent(l),g=il.computeIndentLevel(h,d),p=u.spaceWidth*g>22,f=M=>M>2&&this._editor.getTopForLineNumber(M)===this._editor.getTopForLineNumber(M-1),y=l;if(!p){if(l>1&&!f(l-1))y-=1;else if(!f(l+1))y+=1;else if(c*u.spaceWidth<22)return this.hide()}this.state=new uw.Showing(i,n,o,{position:{lineNumber:y,column:1},preference:VG._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=uw.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(i){this._state=i,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...gt.lightBulb.classNamesArray),this._domNode.classList.add(...gt.lightbulbAutofix.classNamesArray);let n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=_("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",n.getLabel());return}}this._domNode.classList.remove(...gt.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...gt.lightBulb.classNamesArray);let i=this._keybindingService.lookupKeybinding(this._quickFixActionId);i?this.title=_("quickFixWithKb","Show Fixes ({0})",i.getLabel()):this.title=_("quickFix","Show Fixes")}set title(i){this._domNode.title=i}};hw._posPref=[0];hw=Zse([Xse(3,En)],hw);ii((e,i)=>{var n;let o=(n=e.getColor(u5))===null||n===void 0?void 0:n.transparent(.7),r=e.getColor(D5);r&&i.addRule(`
		.monaco-editor .contentWidgets ${gt.lightBulb.cssSelector} {
			color: ${r};
			background-color: ${o};
		}`);let s=e.getColor(E5);s&&i.addRule(`
		.monaco-editor .contentWidgets ${gt.lightbulbAutofix.cssSelector} {
			color: ${s};
			background-color: ${o};
		}`)});var Jse=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},eae=function(e,i){return function(n,o){i(n,o,e)}},QA=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},tae=function(e,i,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?e!==i||!r:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(e,n):r?r.value=n:i.set(e,n),n},iae=function(e,i,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?e!==i||!o:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:i.get(e)},q_,K_=class extends yt{constructor(i,n,o,r,s){super(),this._editor=i,this.delegate=r,this._activeCodeActions=this._register(new Ao),q_.set(this,!1),this._codeActionWidget=new Ju(()=>this._register(s.createInstance($_,this._editor,{onSelectCodeAction:l=>QA(this,void 0,void 0,function*(){this.delegate.applyCodeAction(l,!0)})}))),this._lightBulbWidget=new Ju(()=>{let l=this._register(s.createInstance(hw,this._editor,n,o));return this._register(l.onClick(c=>this.showCodeActionList(c.trigger,c.actions,c,{includeDisabledActions:!1}))),l})}dispose(){tae(this,q_,!0,"f"),super.dispose()}update(i){var n,o,r;return QA(this,void 0,void 0,function*(){if(i.type!==1){(n=this._lightBulbWidget.rawValue)===null||n===void 0||n.hide();return}let s;try{s=yield i.actions}catch(l){Ut(l);return}if(!iae(this,q_,"f"))if(this._lightBulbWidget.getValue().update(s,i.trigger,i.position),i.trigger.type===1){if(!((o=i.trigger.filter)===null||o===void 0)&&o.include){let c=this.tryGetValidActionToApply(i.trigger,s);if(c){try{yield this.delegate.applyCodeAction(c,!1)}finally{s.dispose()}return}if(i.trigger.context){let d=this.getInvalidActionThatWouldHaveBeenApplied(i.trigger,s);if(d&&d.action.disabled){zo.get(this._editor).showMessage(d.action.disabled,i.trigger.context.position),s.dispose();return}}}let l=!!(!((r=i.trigger.filter)===null||r===void 0)&&r.include);if(i.trigger.context&&(!s.allActions.length||!l&&!s.validActions.length)){zo.get(this._editor).showMessage(i.trigger.context.notAvailableMessage,i.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(i.trigger,s,i.position,{includeDisabledActions:l})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(i,n){if(n.allActions.length&&(i.autoApply==="first"&&n.validActions.length===0||i.autoApply==="ifSingle"&&n.allActions.length===1))return n.allActions.find(({action:o})=>o.disabled)}tryGetValidActionToApply(i,n){if(n.validActions.length&&(i.autoApply==="first"&&n.validActions.length>0||i.autoApply==="ifSingle"&&n.validActions.length===1))return n.validActions[0]}showCodeActionList(i,n,o,r){return QA(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(i,n,o,r)})}};q_=new WeakMap;K_=Jse([eae(4,hi)],K_);Pt();Do();Ti();wn();Qg();jS();ln();ki();en();bt();Es();Bt();Vi();Ti();Qg();var ZA=function(e,i,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?e!==i||!o:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:i.get(e)},nae=function(e,i,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?e!==i||!r:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(e,n):r?r.value=n:i.set(e,n),n},sv,JA=new ei("supportedCodeAction",""),XA=class extends yt{constructor(i,n,o,r=250){super(),this._editor=i,this._markerService=n,this._signalChange=o,this._delay=r,this._autoTriggerTimer=this._register(new zr),this._register(this._markerService.onMarkerChanged(s=>this._onMarkerChanges(s))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(i){let n=this._getRangeOfSelectionUnlessWhitespaceEnclosed(i);return this._createEventAndSignalChange(i,n)}_onMarkerChanges(i){let n=this._editor.getModel();n&&i.some(o=>bS(o,n.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(i){let n=this._editor.getModel();if(n)for(let o of this._markerService.read({resource:n.uri})){let r=n.validateRange(o);if(Ie.intersectRanges(r,i))return Ie.lift(r)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(i){if(!this._editor.hasModel())return;let n=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&i.type===2){let{lineNumber:r,column:s}=o.getPosition(),l=n.getLineContent(r);if(l.length===0)return;if(s===1){if(/\s/.test(l[0]))return}else if(s===n.getLineMaxColumn(r)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[s-2])&&/\s/.test(l[s-1]))return}return o}_createEventAndSignalChange(i,n){let o=this._editor.getModel();if(!n||!o){this._signalChange(void 0);return}let r=this._getRangeOfMarker(n),s=r?r.getStartPosition():n.getStartPosition(),l={trigger:i,selection:n,position:s};return this._signalChange(l),l}},Tp;(function(e){e.Empty={type:0};class i{constructor(o,r,s,l){this.trigger=o,this.rangeOrSelection=r,this.position=s,this._cancellablePromise=l,this.type=1,this.actions=l.catch(c=>{if(Ml(c))return oae;throw c})}cancel(){this._cancellablePromise.cancel()}}e.Triggered=i})(Tp||(Tp={}));var oae={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1},Y_=class extends yt{constructor(i,n,o,r){super(),this._editor=i,this._markerService=n,this._progressService=r,this._codeActionOracle=this._register(new Ao),this._state=Tp.Empty,this._onDidChangeState=this._register(new vt),this.onDidChangeState=this._onDidChangeState.event,sv.set(this,!1),this._supportedCodeActions=JA.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(Al.onDidChange(()=>this._update())),this._update()}dispose(){ZA(this,sv,"f")||(nae(this,sv,!0,"f"),super.dispose(),this.setState(Tp.Empty,!0))}_update(){if(ZA(this,sv,"f"))return;this._codeActionOracle.value=void 0,this.setState(Tp.Empty);let i=this._editor.getModel();if(i&&Al.has(i)&&!this._editor.getOption(77)){let n=[];for(let o of Al.all(i))Array.isArray(o.providedCodeActionKinds)&&n.push(...o.providedCodeActionKinds);this._supportedCodeActions.set(n.join(" ")),this._codeActionOracle.value=new XA(this._editor,this._markerService,o=>{var r;if(!o){this.setState(Tp.Empty);return}let s=ji(l=>dw(i,o.selection,o.trigger,Ll.None,l));o.trigger.type===1&&((r=this._progressService)===null||r===void 0||r.showWhile(s,250)),this.setState(new Tp.Triggered(o.trigger,o.selection,o.position,s))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(i){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(i)}setState(i,n){i!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=i,!n&&!ZA(this,sv,"f")&&this._onDidChangeState.fire(i))}};sv=new WeakMap;var rae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Q_=function(e,i){return function(n,o){i(n,o,e)}},HG=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})};function gw(e){return st.regex(JA.keys()[0],new RegExp("(\\s|^)"+wu(e.value)+"\\b"))}var eT={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_("args.schema.apply.first","Always apply the first returned code action."),_("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},eh=class GG extends yt{constructor(i,n,o,r,s){super(),this._instantiationService=s,this._editor=i,this._model=this._register(new Y_(this._editor,n,o,r)),this._register(this._model.onDidChangeState(l=>this.update(l))),this._ui=new Ju(()=>this._register(new K_(i,pw.Id,tT.Id,{applyCodeAction:(l,c)=>HG(this,void 0,void 0,function*(){try{yield this._applyCodeAction(l)}finally{c&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(i){return i.getContribution(GG.ID)}update(i){this._ui.getValue().update(i)}showCodeActions(i,n,o){return this._ui.getValue().showCodeActionList(i,n,o,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(i,n,o){if(!this._editor.hasModel())return;zo.get(this._editor).closeMessage();let r=this._editor.getPosition();this._trigger({type:1,filter:n,autoApply:o,context:{notAvailableMessage:i,position:r}})}_trigger(i){return this._model.trigger(i)}_applyCodeAction(i){return this._instantiationService.invokeFunction(sae,i,this._editor)}};eh.ID="editor.contrib.quickFixController";eh=rae([Q_(1,oC),Q_(2,Wt),Q_(3,Ru),Q_(4,hi)],eh);function sae(e,i,n){return HG(this,void 0,void 0,function*(){let o=e.get(NS),r=e.get(Wo),s=e.get(Fh),l=e.get(bn);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:i.action.title,codeActionKind:i.action.kind,codeActionIsPreferred:!!i.action.isPreferred}),yield i.resolve(Jt.None),i.action.edit&&(yield o.apply(OS.convert(i.action.edit),{editor:n,label:i.action.title})),i.action.command)try{yield r.executeCommand(i.action.command.id,...i.action.command.arguments||[])}catch(c){let d=aae(c);l.error(typeof d=="string"?d:_("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function aae(e){return typeof e=="string"?e:e instanceof Error&&typeof e.message=="string"?e.message:void 0}function Fp(e,i,n,o){if(e.hasModel()){let r=eh.get(e);r&&r.manualTriggerAtCurrentPosition(i,n,o)}}var pw=(()=>{class e extends it{constructor(){super({id:e.Id,label:_("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:st.and(Me.writable,Me.hasCodeActionsProvider),kbOpts:{kbExpr:Me.editorTextFocus,primary:2132,weight:100}})}run(n,o){return Fp(o,_("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}return e.Id="editor.action.quickFix",e})(),Z_=class extends Tn{constructor(){super({id:H_,precondition:st.and(Me.writable,Me.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:eT}]}})}runEditorCommand(i,n,o){let r=rg.fromUser(o,{kind:ti.Empty,apply:"ifSingle"});return Fp(n,typeof o?.kind=="string"?r.preferred?_("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",o.kind):_("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",o.kind):r.preferred?_("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}},X_=class extends it{constructor(){super({id:G_,label:_("refactor.label","Refactor..."),alias:"Refactor...",precondition:st.and(Me.writable,Me.hasCodeActionsProvider),kbOpts:{kbExpr:Me.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:st.and(Me.writable,gw(ti.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:eT}]}})}run(i,n,o){let r=rg.fromUser(o,{kind:ti.Refactor,apply:"never"});return Fp(n,typeof o?.kind=="string"?r.preferred?_("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",o.kind):_("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",o.kind):r.preferred?_("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_("editor.action.refactor.noneMessage","No refactorings available"),{include:ti.Refactor.contains(r.kind)?r.kind:ti.None,onlyIncludePreferredActions:r.preferred},r.apply)}},J_=class extends it{constructor(){super({id:j_,label:_("source.label","Source Action..."),alias:"Source Action...",precondition:st.and(Me.writable,Me.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:st.and(Me.writable,gw(ti.Source))},description:{description:"Source Action...",args:[{name:"args",schema:eT}]}})}run(i,n,o){let r=rg.fromUser(o,{kind:ti.Source,apply:"never"});return Fp(n,typeof o?.kind=="string"?r.preferred?_("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",o.kind):_("editor.action.source.noneMessage.kind","No source actions for '{0}' available",o.kind):r.preferred?_("editor.action.source.noneMessage.preferred","No preferred source actions available"):_("editor.action.source.noneMessage","No source actions available"),{include:ti.Source.contains(r.kind)?r.kind:ti.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}},eD=class extends it{constructor(){super({id:lw,label:_("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:st.and(Me.writable,gw(ti.SourceOrganizeImports)),kbOpts:{kbExpr:Me.editorTextFocus,primary:1581,weight:100}})}run(i,n){return Fp(n,_("editor.action.organize.noneMessage","No organize imports action available"),{include:ti.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}},tD=class extends it{constructor(){super({id:cw,label:_("fixAll.label","Fix All"),alias:"Fix All",precondition:st.and(Me.writable,gw(ti.SourceFixAll))})}run(i,n){return Fp(n,_("fixAll.noneMessage","No fix all action available"),{include:ti.SourceFixAll,includeSourceActions:!0},"ifSingle")}},tT=(()=>{class e extends it{constructor(){super({id:e.Id,label:_("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:st.and(Me.writable,gw(ti.QuickFix)),kbOpts:{kbExpr:Me.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(n,o){return Fp(o,_("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ti.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}return e.Id="editor.action.autoFix",e})();Dt(eh.ID,eh);Ue(pw);Ue(X_);Ue(J_);Ue(eD);Ue(tT);Ue(tD);pt(new Z_);ln();ki();bt();Kg();$t();Vi();$n();ki();To();Vi();Dh();bt();Do();Fo();var jG=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},av=class{constructor(){this.lenses=[],this._disposables=new Xe}dispose(){this._disposables.dispose()}add(i,n){this._disposables.add(i);for(let o of i.lenses)this.lenses.push({symbol:o,provider:n})}};function iT(e,i){return jG(this,void 0,void 0,function*(){let n=Eh.ordered(e),o=new Map,r=new av,s=n.map((l,c)=>jG(this,void 0,void 0,function*(){o.set(l,c);try{let d=yield Promise.resolve(l.provideCodeLenses(e,i));d&&r.add(d,l)}catch(d){pn(d)}}));return yield Promise.all(s),r.lenses=r.lenses.sort((l,c)=>l.symbol.range.startLineNumber<c.symbol.range.startLineNumber?-1:l.symbol.range.startLineNumber>c.symbol.range.startLineNumber?1:o.get(l.provider)<o.get(c.provider)?-1:o.get(l.provider)>o.get(c.provider)?1:l.symbol.range.startColumn<c.symbol.range.startColumn?-1:l.symbol.range.startColumn>c.symbol.range.startColumn?1:0),r})}xi.registerCommand("_executeCodeLensProvider",function(e,...i){let[n,o]=i;tn(ci.isUri(n)),tn(typeof o=="number"||!o);let r=e.get(Po).getModel(n);if(!r)throw as();let s=[],l=new Xe;return iT(r,Jt.None).then(c=>{l.add(c);let d=[];for(let u of c.lenses)o==null||u.symbol.command?s.push(u.symbol):o-- >0&&u.provider.resolveCodeLens&&d.push(Promise.resolve(u.provider.resolveCodeLens(r,u.symbol,Jt.None)).then(h=>s.push(h||u.symbol)));return Promise.all(d)}).then(()=>s).finally(()=>{setTimeout(()=>l.dispose(),100)})});Ki();Bt();Lo();l1();vn();Oi();var nT=class{constructor(i,n,o){this.afterLineNumber=i,this.heightInPx=n,this._onHeight=o,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}},lae=(()=>{class e{constructor(n,o,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${e._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${o}`}withCommands(n,o){this._commands.clear();let r=[],s=!1;for(let l=0;l<n.length;l++){let c=n[l];if(c&&(s=!0,c.command)){let d=w1(c.command.title.trim());c.command.id?(r.push(ut("a",{id:String(l),title:c.command.tooltip},...d)),this._commands.set(String(l),c.command)):r.push(ut("span",{title:c.command.tooltip},...d)),l+1<n.length&&r.push(ut("span",void 0,"\xA0|\xA0"))}}s?(Gg(this._domNode,...r),this._isEmpty&&o&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Gg(this._domNode,ut("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){let o=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:o},preference:[1]}}getPosition(){return this._widgetPosition||null}}return e._idPool=0,e})(),lv=class{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,n){this._addDecorations.push(i),this._addDecorationsCallbacks.push(n)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){let n=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let o=0,r=n.length;o<r;o++)this._addDecorationsCallbacks[o](n[o])}},fw=class{constructor(i,n,o,r,s,l,c){this._isDisposed=!1,this._editor=n,this._className=o,this._data=i,this._decorationIds=[];let d,u=[];this._data.forEach((h,g)=>{h.symbol.command&&u.push(h.symbol),r.addDecoration({range:h.symbol.range,options:ni.EMPTY},p=>this._decorationIds[g]=p),d?d=Ie.plusRange(d,h.symbol.range):d=Ie.lift(h.symbol.range)}),this._viewZone=new nT(d.startLineNumber-1,l,c),this._viewZoneId=s.addZone(this._viewZone),u.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(u,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new lae(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,n){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],n&&n.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,n)=>{let o=this._editor.getModel().getDecorationRange(i),r=this._data[n].symbol;return!!(o&&Ie.isEmpty(r.range)===o.isEmpty())})}updateCodeLensSymbols(i,n){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],this._data=i,this._data.forEach((o,r)=>{n.addDecoration({range:o.symbol.range,options:ni.EMPTY},s=>this._decorationIds[r]=s)})}updateHeight(i,n){this._viewZone.heightInPx=i,n.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let n=0;n<this._decorationIds.length;n++){let o=i.getDecorationRange(this._decorationIds[n]);o&&(this._data[n].symbol.range=o)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let n=0;n<this._data.length;n++){let o=i[n];if(o){let{symbol:r}=this._data[n];r.command=o.command||r.command}}}getCommand(i){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.getCommand(i)}getLineNumber(){let i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){let n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);n&&(this._viewZone.afterLineNumber=n.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(n.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}};ii((e,i)=>{let n=e.getColor(P5);n&&(i.addRule(`.monaco-editor .codelens-decoration { color: ${n}; }`),i.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${n}; }`));let o=e.getColor(im);o&&(i.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${o} !important; }`),i.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${o} !important; }`))});Do();wn();X0();F0();Bt();ln();var cae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},dae=function(e,i){return function(n,o){i(n,o,e)}},rT=Il("ICodeLensCache"),iD=class{constructor(i,n){this.lineCount=i,this.data=n}},oT=class{constructor(i){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new _h(20,.75);let n="codelens/cache";H4(()=>i.remove(n,1));let o="codelens/cache2",r=i.get(o,1,"{}");this._deserialize(r),h1(i.onWillSaveState)(s=>{s.reason===C1.SHUTDOWN&&i.store(o,this._serialize(),1,1)})}put(i,n){let o=n.lenses.map(l=>{var c;return{range:l.symbol.range,command:l.symbol.command&&{id:"",title:(c=l.symbol.command)===null||c===void 0?void 0:c.title}}}),r=new av;r.add({lenses:o,dispose:()=>{}},this._fakeProvider);let s=new iD(i.getLineCount(),r);this._cache.set(i.uri.toString(),s)}get(i){let n=this._cache.get(i.uri.toString());return n&&n.lineCount===i.getLineCount()?n.data:void 0}delete(i){this._cache.delete(i.uri.toString())}_serialize(){let i=Object.create(null);for(let[n,o]of this._cache){let r=new Set;for(let s of o.data.lenses)r.add(s.symbol.range.startLineNumber);i[n]={lineCount:o.lineCount,lines:[...r.values()]}}return JSON.stringify(i)}_deserialize(i){try{let n=JSON.parse(i);for(let o in n){let r=n[o],s=[];for(let c of r.lines)s.push({range:new Ie(c,1,c,11)});let l=new av;l.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(o,new iD(r.lineCount,l))}}catch{}}};oT=cae([dae(0,br)],oT);Pl(rT,oT);Ki();Qk();Pt();Yi();Zk();var uae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},sT=function(e,i){return function(n,o){i(n,o,e)}},hae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},cv=class{constructor(i,n,o,r){this._editor=i,this._commandService=n,this._notificationService=o,this._codeLensCache=r,this._disposables=new Xe,this._localToDispose=new Xe,this._lenses=[],this._getCodeLensModelDelays=new jg(Eh,250,2500),this._oldCodeLensModels=new Xe,this._resolveCodeLensesDelays=new jg(Eh,250,2500),this._resolveCodeLensesScheduler=new qn(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(40)||s.hasChanged(14)||s.hasChanged(13))&&this._updateLensStyle(),s.hasChanged(12)&&this._onModelChange()})),this._disposables.add(Eh.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+Gf(this._editor.getId()).toString(16),this._styleElement=Z4(Y4(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var i;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose(),this._styleElement.remove()}_getLayoutInfo(){let i=this._editor.getOption(14),n;return!i||i<5?(i=this._editor.getOption(42)*.9|0,n=this._editor.getOption(55)):n=i*Math.max(1.3,this._editor.getOption(55)/this._editor.getOption(42))|0,{codeLensHeight:n,fontSize:i}}_updateLensStyle(){let{codeLensHeight:i,fontSize:n}=this._getLayoutInfo(),o=this._editor.getOption(13),r=this._editor.getOption(40),s=`--codelens-font-family${this._styleClassName}`,l=`--codelens-font-features${this._styleClassName}`,c=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${i}px; font-size: ${n}px; padding-right: ${Math.round(n*.5)}px; font-feature-settings: var(${l}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${i}px; font-size: ${n}px; }
		`;o&&(c+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s})}`),this._styleElement.textContent=c,this._editor.getContainerDomNode().style.setProperty(s,o??"inherit"),this._editor.getContainerDomNode().style.setProperty(l,r.fontFeatureSettings),this._editor.changeViewZones(d=>{for(let u of this._lenses)u.updateHeight(i,d)})}_localDispose(){var i,n,o;(i=this._getCodeLensModelPromise)===null||i===void 0||i.cancel(),this._getCodeLensModelPromise=void 0,(n=this._resolveCodeLensesPromise)===null||n===void 0||n.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(o=this._currentCodeLensModel)===null||o===void 0||o.dispose()}_onModelChange(){this._localDispose();let i=this._editor.getModel();if(!i||!this._editor.getOption(12))return;let n=this._codeLensCache.get(i);if(n&&this._renderCodeLensSymbols(n),!Eh.has(i)){n&&this._localToDispose.add(Vg(()=>{let r=this._codeLensCache.get(i);n===r&&(this._codeLensCache.delete(i),this._onModelChange())},30*1e3));return}for(let r of Eh.all(i))if(typeof r.onDidChange=="function"){let s=r.onDidChange(()=>o.schedule());this._localToDispose.add(s)}let o=new qn(()=>{var r;let s=Date.now();(r=this._getCodeLensModelPromise)===null||r===void 0||r.cancel(),this._getCodeLensModelPromise=ji(l=>iT(i,l)),this._getCodeLensModelPromise.then(l=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=l,this._codeLensCache.put(i,l);let c=this._getCodeLensModelDelays.update(i,Date.now()-s);o.delay=c,this._renderCodeLensSymbols(l),this._resolveCodeLensesInViewport()},Ut)},this._getCodeLensModelDelays.get(i));this._localToDispose.add(o),this._localToDispose.add(ao(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{let l=[],c=-1;this._lenses.forEach(u=>{!u.isValid()||c===u.getLineNumber()?l.push(u):(u.update(s),c=u.getLineNumber())});let d=new lv;l.forEach(u=>{u.dispose(d,s),this._lenses.splice(this._lenses.indexOf(u),1)}),d.commit(r)})}),o.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{o.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(r=>{r.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(ao(()=>{if(this._editor.getModel()){let r=rm.capture(this._editor);this._editor.changeDecorations(s=>{this._editor.changeViewZones(l=>{this._disposeAllLenses(s,l)})}),r.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(r=>{if(r.target.type!==9)return;let s=r.target.element;if(s?.tagName==="SPAN"&&(s=s.parentElement),s?.tagName==="A")for(let l of this._lenses){let c=l.getCommand(s);if(c){this._commandService.executeCommand(c.id,...c.arguments||[]).catch(d=>this._notificationService.error(d));break}}})),o.schedule()}_disposeAllLenses(i,n){let o=new lv;for(let r of this._lenses)r.dispose(o,n);i&&o.commit(i),this._lenses.length=0}_renderCodeLensSymbols(i){if(!this._editor.hasModel())return;let n=this._editor.getModel().getLineCount(),o=[],r;for(let c of i.lenses){let d=c.symbol.range.startLineNumber;d<1||d>n||(r&&r[r.length-1].symbol.range.startLineNumber===d?r.push(c):(r=[c],o.push(r)))}let s=rm.capture(this._editor),l=this._getLayoutInfo();this._editor.changeDecorations(c=>{this._editor.changeViewZones(d=>{let u=new lv,h=0,g=0;for(;g<o.length&&h<this._lenses.length;){let p=o[g][0].symbol.range.startLineNumber,f=this._lenses[h].getLineNumber();f<p?(this._lenses[h].dispose(u,d),this._lenses.splice(h,1)):f===p?(this._lenses[h].updateCodeLensSymbols(o[g],u),g++,h++):(this._lenses.splice(h,0,new fw(o[g],this._editor,this._styleClassName,u,d,l.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),h++,g++)}for(;h<this._lenses.length;)this._lenses[h].dispose(u,d),this._lenses.splice(h,1);for(;g<o.length;)this._lenses.push(new fw(o[g],this._editor,this._styleClassName,u,d,l.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),g++;u.commit(c)})}),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var i;(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0;let n=this._editor.getModel();if(!n)return;let o=[],r=[];if(this._lenses.forEach(c=>{let d=c.computeIfNecessary(n);d&&(o.push(d),r.push(c))}),o.length===0)return;let s=Date.now(),l=ji(c=>{let d=o.map((u,h)=>{let g=new Array(u.length),p=u.map((f,y)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(n,f.symbol,c)).then(M=>{g[y]=M},pn):(g[y]=f.symbol,Promise.resolve(void 0)));return Promise.all(p).then(()=>{!c.isCancellationRequested&&!r[h].isDisposed()&&r[h].updateCommands(g)})});return Promise.all(d)});this._resolveCodeLensesPromise=l,this._resolveCodeLensesPromise.then(()=>{let c=this._resolveCodeLensesDelays.update(n,Date.now()-s);this._resolveCodeLensesScheduler.delay=c,this._currentCodeLensModel&&this._codeLensCache.put(n,this._currentCodeLensModel),this._oldCodeLensModels.clear(),l===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},c=>{Ut(c),l===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};cv.ID="css.editor.codeLens";cv=uae([sT(1,Wo),sT(2,bn),sT(3,rT)],cv);Dt(cv.ID,cv);Ue(class extends it{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:Me.hasCodeLensProvider,label:_("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(i,n){return hae(this,void 0,void 0,function*(){if(!n.hasModel())return;let o=i.get(As),r=i.get(Wo),s=i.get(bn),l=n.getSelection().positionLineNumber,c=n.getContribution(cv.ID),d=[];for(let h of c.getLenses())if(h.getLineNumber()===l)for(let g of h.getItems()){let{command:p}=g.symbol;p&&d.push({label:p.title,command:p})}if(d.length===0)return;let u=yield o.pick(d,{canPickMany:!1});if(u)try{yield r.executeCommand(u.command.id,...u.command.arguments||[])}catch(h){s.error(h)}})}});ln();Tl();ki();Qk();bt();$t();Ho();Bt();Lo();Vi();$n();ki();To();Bt();Vi();Dh();Do();function WG(e,i){let n=[],r=Wg.ordered(e).reverse().map(s=>Promise.resolve(s.provideDocumentColors(e,i)).then(l=>{if(Array.isArray(l))for(let c of l)n.push({colorInfo:c,provider:s})}));return Promise.all(r).then(()=>n)}function aT(e,i,n,o){return Promise.resolve(n.provideColorPresentations(e,i,o))}xi.registerCommand("_executeDocumentColorProvider",function(e,...i){let[n]=i;if(!(n instanceof ci))throw as();let o=e.get(Po).getModel(n);if(!o)throw as();let r=[],l=Wg.ordered(o).reverse().map(c=>Promise.resolve(c.provideDocumentColors(o,Jt.None)).then(d=>{if(Array.isArray(d))for(let u of d)r.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]})}));return Promise.all(l).then(()=>r)});xi.registerCommand("_executeColorPresentationProvider",function(e,...i){let[n,o]=i,{uri:r,range:s}=o;if(!(r instanceof ci)||!Array.isArray(n)||n.length!==4||!Ie.isIRange(s))throw as();let[l,c,d,u]=n,h=e.get(Po).getModel(r);if(!h)throw as();let g={range:s,color:{red:l,green:c,blue:d,alpha:u}},p=[],y=Wg.ordered(h).reverse().map(M=>Promise.resolve(M.provideColorPresentations(h,g,Jt.None)).then(k=>{Array.isArray(k)&&p.push(...k)}));return Promise.all(y).then(()=>p)});Kf();var gae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},UG=function(e,i){return function(n,o){i(n,o,e)}},pae=500,sg=class $G extends yt{constructor(i,n,o){super(),this._editor=i,this._codeEditorService=n,this._configurationService=o,this._localToDispose=this._register(new Xe),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(i.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(i.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(Wg.onDidChange(()=>this.onModelChanged())),this._register(i.onDidChangeConfiguration(()=>{let r=this._isEnabled;this._isEnabled=this.isEnabled(),r!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){let i=this._editor.getModel();if(!i)return!1;let n=i.getLanguageIdentifier(),o=this._configurationService.getValue(n.language);if(o){let r=o.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(15)}static get(i){return i.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;let i=this._editor.getModel();!i||!Wg.has(i)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new zr,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},$G.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=ji(i=>{let n=this._editor.getModel();return n?WG(n,i):Promise.resolve([])}),this._computePromise.then(i=>{this.updateDecorations(i),this.updateColorDecorators(i),this._computePromise=null},Ut)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(i){let n=i.map(o=>({range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:ni.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach((o,r)=>this._colorDatas.set(o,i[r]))}updateColorDecorators(i){let n=[],o={};for(let r=0;r<i.length&&n.length<pae;r++){let{red:s,green:l,blue:c,alpha:d}=i[r].colorInfo.color,u=new _u(Math.round(s*255),Math.round(l*255),Math.round(c*255),d),h=Gf(`rgba(${u.r},${u.g},${u.b},${u.a})`).toString(16),g=`rgba(${u.r}, ${u.g}, ${u.b}, ${u.a})`,p="colorBox-"+h;!this._decorationsTypes.has(p)&&!o[p]&&this._codeEditorService.registerDecorationType(p,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:g},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),o[p]=!0,n.push({range:{startLineNumber:i[r].colorInfo.range.startLineNumber,startColumn:i[r].colorInfo.range.startColumn,endLineNumber:i[r].colorInfo.range.endLineNumber,endColumn:i[r].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(p,!0)})}this._decorationsTypes.forEach(r=>{o[r]||this._codeEditorService.removeDecorationType(r)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,n)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(i=>{this._codeEditorService.removeDecorationType(i)})}getColorData(i){let n=this._editor.getModel();if(!n)return null;let o=n.getDecorationsInRange(Ie.fromPositions(i,i)).filter(r=>this._colorDatas.has(r.id));return o.length===0?null:this._colorDatas.get(o[0].id)}};sg.ID="editor.contrib.colorDetector";sg.RECOMPUTE_TIME=1e3;sg=gae([UG(1,Ii),UG(2,Is)],sg);Dt(sg.ID,sg);bt();$t();Pt();kl();bt();$t();Bt();Yi();kh();Ki();$n();Tl();bt();Jn();Bt();Lo();Vi();en();var nD=class{constructor(i,n,o){this.presentationIndex=o,this._onColorFlushed=new vt,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new vt,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new vt,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=i,this._color=i,this._colorPresentations=n}get color(){return this._color}set color(i){this._color.equals(i)||(this._color=i,this._onDidChangeColor.fire(i))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(i){this._colorPresentations=i,this.presentationIndex>i.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(i,n){for(let o=0;o<this.colorPresentations.length;o++)if(n.toLowerCase()===this.colorPresentations[o].label){this.presentationIndex=o,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}};fS();Ki();ku();Tl();en();bt();vn();Oi();var Ql=ut,lT=class extends yt{constructor(i,n,o){super(),this.model=n,this.domNode=Ql(".colorpicker-header"),ct(i,this.domNode),this.pickedColorNode=ct(this.domNode,Ql(".picked-color"));let r=ct(this.domNode,Ql(".original-color"));r.style.backgroundColor=fi.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=o.getColorTheme().getColor(Eu)||fi.white,this._register(ii((s,l)=>{this.backgroundColor=s.getColor(Eu)||fi.white})),this._register(uo(this.pickedColorNode,cs.CLICK,()=>this.model.selectNextColorPresentation())),this._register(uo(r,cs.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(n.onDidChangeColor(this.onDidChangeColor,this)),this._register(n.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=fi.Format.CSS.format(n.color)||"",this.pickedColorNode.classList.toggle("light",n.color.rgba.a<.5?this.backgroundColor.isLighter():n.color.isLighter())}onDidChangeColor(i){this.pickedColorNode.style.backgroundColor=fi.Format.CSS.format(i)||"",this.pickedColorNode.classList.toggle("light",i.rgba.a<.5?this.backgroundColor.isLighter():i.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}},cT=class extends yt{constructor(i,n,o){super(),this.model=n,this.pixelRatio=o,this.domNode=Ql(".colorpicker-body"),ct(i,this.domNode),this.saturationBox=new dT(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new uT(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new hT(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:i,v:n}){let o=this.model.color.hsva;this.model.color=new fi(new $0(o.h,i,n,o.a))}onDidOpacityChange(i){let n=this.model.color.hsva;this.model.color=new fi(new $0(n.h,n.s,n.v,i))}onDidHueChange(i){let n=this.model.color.hsva,o=(1-i)*360;this.model.color=new fi(new $0(o===360?0:o,n.s,n.v,n.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}},dT=class extends yt{constructor(i,n,o){super(),this.model=n,this.pixelRatio=o,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new vt,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Ql(".saturation-wrap"),ct(i,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",ct(this.domNode,this.canvas),this.selection=Ql(".saturation-selection"),ct(this.domNode,this.selection),this.layout(),this._register(zk(this.domNode,r=>this.onMouseDown(r))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(i){this.monitor=this._register(new U0);let n=Go(this.domNode);i.target!==this.selection&&this.onDidChangePosition(i.offsetX,i.offsetY),this.monitor.startMonitoring(i.target,i.buttons,W0,r=>this.onDidChangePosition(r.posx-n.left,r.posy-n.top),()=>null);let o=Bk(document,()=>{this._onColorFlushed.fire(),o.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(i,n){let o=Math.max(0,Math.min(1,i/this.width)),r=Math.max(0,Math.min(1,1-n/this.height));this.paintSelection(o,r),this._onDidChange.fire({s:o,v:r})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();let i=this.model.color.hsva;this.paintSelection(i.s,i.v)}paint(){let i=this.model.color.hsva,n=new fi(new $0(i.h,1,1,1)),o=this.canvas.getContext("2d"),r=o.createLinearGradient(0,0,this.canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");let s=o.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),o.rect(0,0,this.canvas.width,this.canvas.height),o.fillStyle=fi.Format.CSS.format(n),o.fill(),o.fillStyle=r,o.fill(),o.fillStyle=s,o.fill()}paintSelection(i,n){this.selection.style.left=`${i*this.width}px`,this.selection.style.top=`${this.height-n*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}},oD=class extends yt{constructor(i,n){super(),this.model=n,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new vt,this.onColorFlushed=this._onColorFlushed.event,this.domNode=ct(i,Ql(".strip")),this.overlay=ct(this.domNode,Ql(".overlay")),this.slider=ct(this.domNode,Ql(".slider")),this.slider.style.top="0px",this._register(zk(this.domNode,o=>this.onMouseDown(o))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;let i=this.getValue(this.model.color);this.updateSliderPosition(i)}onMouseDown(i){let n=this._register(new U0),o=Go(this.domNode);this.domNode.classList.add("grabbing"),i.target!==this.slider&&this.onDidChangeTop(i.offsetY),n.startMonitoring(i.target,i.buttons,W0,s=>this.onDidChangeTop(s.posy-o.top),()=>null);let r=Bk(document,()=>{this._onColorFlushed.fire(),r.dispose(),n.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(i){let n=Math.max(0,Math.min(1,1-i/this.height));this.updateSliderPosition(n),this._onDidChange.fire(n)}updateSliderPosition(i){this.slider.style.top=`${(1-i)*this.height}px`}},uT=class extends oD{constructor(i,n){super(i,n),this.domNode.classList.add("opacity-strip"),this._register(n.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(i){let{r:n,g:o,b:r}=i.rgba,s=new fi(new _u(n,o,r,1)),l=new fi(new _u(n,o,r,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${l} 100%)`}getValue(i){return i.hsva.a}},hT=class extends oD{constructor(i,n){super(i,n),this.domNode.classList.add("hue-strip")}getValue(i){return 1-i.hsva.h/360}},rD=class extends Eo{constructor(i,n,o,r){super(),this.model=n,this.pixelRatio=o,this._register(L4(()=>this.layout()));let s=Ql(".colorpicker-widget");i.appendChild(s);let l=new lT(s,this.model,r);this.body=new cT(s,this.model,this.pixelRatio),this._register(l),this._register(this.body)}layout(){this.body.layout()}};ln();ki();var dv=class{constructor(i,n,o,r,s){this._computer=i,this._state=0,this._hoverTime=s,this._firstWaitScheduler=new qn(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new qn(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new qn(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=n,this._errorCallback=o,this._progressCallback=r}setHoverTime(i){this._hoverTime=i}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=ji(i=>this._computer.computeAsync(i)),this._asyncComputationPromise.then(i=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(i)},i=>this._onError(i))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(i){i&&this._computer.onResult(i,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(i){this._completeCallback(i)}_onError(i){this._errorCallback?this._errorCallback(i):Ut(i)}_onProgress(i){this._progressCallback(i)}start(i){if(i===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}};Oi();Rn();vn();ku();Ki();bt();var sD=ut,aD=class extends yt{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new om(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}};function qG(e,i,n){let o=ct(e,sD("div.action-container")),r=ct(o,sD("a.action"));r.setAttribute("href","#"),r.setAttribute("role","button"),i.iconClass&&ct(r,sD(`span.icon.${i.iconClass}`));let s=ct(r,sD("span"));return s.textContent=n?`${i.label} (${n})`:i.label,uo(o,cs.CLICK,l=>{l.stopPropagation(),l.preventDefault(),i.run(o)})}Pt();Ki();bt();Bt();Rn();Es();ki();bu();Pt();bt();Ti();Jn();Bt();$t();Yi();Pt();Ki();bt();Bt();vn();Oi();Tl();To();A0();wa();Es();yQ();function lD(e){if(!e)return;typeof e=="string"&&(e=ci.file(e));let i=Br(e)||(e.scheme===co.file?e.fsPath:e.path);return vu&&h8(i)?cD(i):i}function cD(e){return g8(e)?e.charAt(0).toUpperCase()+e.slice(1):e}Rn();en();Ki();G0();Tl();en();_S();Ho();_S();Ho();Do();Ti();wn();Oi();var fae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Pp=function(e,i){return function(n,o){i(n,o,e)}},gl=class extends H5{constructor(i,n,o,r,s,l,c,d,u,h){super(i,Object.assign(Object.assign({},o.getRawOptions()),{overflowWidgetsDomNode:o.getOverflowWidgetsDomNode()}),{},r,s,l,c,d,u,h),this._parentEditor=o,this._overwriteOptions=n,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(g=>this._onParentConfigurationChanged(g)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(i){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(i){Vf(this._overwriteOptions,i,!0),super.updateOptions(this._overwriteOptions)}};gl=fae([Pp(3,hi),Pp(4,Ii),Pp(5,Wo),Pp(6,Wt),Pp(7,eo),Pp(8,bn),Pp(9,V5)],gl);Ki();Tl();bt();_S();Bt();Lo();var YG=new fi(new _u(0,122,204)),mae={showArrow:!0,showFrame:!0,className:"",frameColor:YG,arrowColor:YG,keepEditorSelection:!1},vae="vs.editor.contrib.zoneWidget",gT=class{constructor(i,n,o,r,s,l){this.id="",this.domNode=i,this.afterLineNumber=n,this.afterColumn=o,this.heightInLines=r,this._onDomNodeTop=s,this._onComputedHeight=l}onDomNodeTop(i){this._onDomNodeTop(i)}onComputedHeight(i){this._onComputedHeight(i)}},pT=class{constructor(i,n){this._id=i,this._domNode=n}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}},dD=class e{constructor(i){this._editor=i,this._ruleName=e._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),Vk(this._ruleName)}set color(i){this._color!==i&&(this._color=i,this._updateStyle())}set height(i){this._height!==i&&(this._height=i,this._updateStyle())}_updateStyle(){Vk(this._ruleName),X4(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(i){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Ie.fromPositions(i),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}};dD._IdGenerator=new pz(".arrow-decoration-");var uD=class{constructor(i,n={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Xe,this.container=null,this._isShowing=!1,this.editor=i,this.options=C8(n),Vf(this.options,mae,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{let r=this._getWidth(o);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(r)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(i=>{this._viewZone&&i.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new dD(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(i){i.frameColor&&(this.options.frameColor=i.frameColor),i.arrowColor&&(this.options.arrowColor=i.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let i=this.options.frameColor.toString();this.container.style.borderTopColor=i,this.container.style.borderBottomColor=i}if(this._arrow&&this.options.arrowColor){let i=this.options.arrowColor.toString();this._arrow.color=i}}_getWidth(i){return i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}_getLeft(i){return i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?i.minimap.minimapWidth:0}_onViewZoneTop(i){this.domNode.style.top=i+"px"}_onViewZoneHeight(i){if(this.domNode.style.height=`${i}px`,this.container){let n=i-this._decoratingElementsHeight();this.container.style.height=`${n}px`;let o=this.editor.getLayoutInfo();this._doLayout(n,this._getWidth(o))}this._resizeSash&&this._resizeSash.layout()}get position(){let[i]=this._positionMarkerId;if(!i)return;let n=this.editor.getModel();if(!n)return;let o=n.getDecorationRange(i);if(o)return o.getStartPosition()}show(i,n){let o=Ie.isIRange(i)?Ie.lift(i):Ie.fromPositions(i);this._isShowing=!0,this._showImpl(o,n),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:o,options:ni.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(i=>{this._viewZone&&i.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let i=this.editor.getOption(55),n=0;if(this.options.showArrow){let o=Math.round(i/3);n+=2*o}if(this.options.showFrame){let o=Math.round(i/9);n+=2*o}return n}_showImpl(i,n){let o=i.getStartPosition(),r=this.editor.getLayoutInfo(),s=this._getWidth(r);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(r)+"px";let l=document.createElement("div");l.style.overflow="hidden";let c=this.editor.getOption(55),d=Math.max(12,this.editor.getLayoutInfo().height/c*.8);n=Math.min(n,d);let u=0,h=0;if(this._arrow&&this.options.showArrow&&(u=Math.round(c/3),this._arrow.height=u,this._arrow.show(o)),this.options.showFrame&&(h=Math.round(c/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new gT(l,o.lineNumber,o.column,n,y=>this._onViewZoneTop(y),y=>this._onViewZoneHeight(y)),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new pT(vae+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){let f=this.options.frameWidth?this.options.frameWidth:h;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}let g=n*c-this._decoratingElementsHeight();this.container&&(this.container.style.top=u+"px",this.container.style.height=g+"px",this.container.style.overflow="hidden"),this._doLayout(g,s),this.options.keepEditorSelection||this.editor.setSelection(i);let p=this.editor.getModel();if(p){let f=i.endLineNumber+1;f<=p.getLineCount()?this.revealLine(f,!1):this.revealLine(p.getLineCount(),!0)}}revealLine(i,n){n?this.editor.revealLineInCenter(i,0):this.editor.revealLine(i,0)}setCssClass(i,n){this.container&&(n&&this.container.classList.remove(n),this.container.classList.add(i))}_onWidth(i){}_doLayout(i,n){}_relayout(i){this._viewZone&&this._viewZone.heightInLines!==i&&this.editor.changeViewZones(n=>{this._viewZone&&(this._viewZone.heightInLines=i,n.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Iu(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let i;this._disposables.add(this._resizeSash.onDidStart(n=>{this._viewZone&&(i={startY:n.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{i=void 0})),this._disposables.add(this._resizeSash.onDidChange(n=>{if(i){let o=(n.currentY-i.startY)/this.editor.getOption(55),r=o<0?Math.ceil(o):Math.floor(o),s=i.heightInLines+r;s>5&&s<35&&this._relayout(s)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){let i=this.editor.getLayoutInfo();return i.width-i.minimap.minimapWidth}};Pt();Ti();wn();X0();$t();vn();Gr();Ki();Ok();G0();bt();Pt();wr();us();Oi();Ki();en();K8();G0();Ki();wQ();en();var fT=class extends $8{constructor(i,n){super(),this._onDidChangeVisibility=new vt,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=ct(i,ut(".monaco-dropdown")),this._label=ct(this._element,ut(".dropdown-label"));let o=n.labelRenderer;o||(o=s=>(s.textContent=n.label||"",null));for(let s of[cs.CLICK,cs.MOUSE_DOWN,p2.Tap])this._register(uo(this.element,s,l=>Hg.stop(l,!0)));for(let s of[cs.MOUSE_DOWN,p2.Tap])this._register(uo(this._label,s,l=>{l instanceof MouseEvent&&l.detail>1||(this.visible?this.hide():this.show())}));this._register(uo(this._label,cs.KEY_UP,s=>{let l=new B4(s);(l.equals(3)||l.equals(10))&&(Hg.stop(s,!0),this.visible?this.hide():this.show())}));let r=o(this._label);r&&this._register(r),this._register($S.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}},hD=class extends fT{constructor(i,n){super(i,n),this._actions=[],this._contextMenuProvider=n.contextMenuProvider,this.actions=n.actions||[],this.actionProvider=n.actionProvider,this.menuClassName=n.menuClassName||"",this.menuAsChild=!!n.menuAsChild}set menuOptions(i){this._menuOptions=i}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(i){this._actions=i}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:i=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(i):void 0,getKeyBinding:i=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(i):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}};var gD=class extends j5{constructor(i,n,o,r=Object.create(null)){super(null,i,r),this.actionItem=null,this._onDidChangeVisibility=this._register(new vt),this.menuActionsOrProvider=n,this.contextMenuProvider=o,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(i){this.actionItem=i;let n=s=>{this.element=ct(s,ut("a.action-label"));let l=[];return typeof this.options.classNames=="string"?l=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(l=this.options.classNames),l.find(c=>c==="icon")||l.push("codicon"),this.element.classList.add(...l),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},o=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:n,menuAsChild:this.options.menuAsChild,actions:o?this.menuActionsOrProvider:void 0,actionProvider:o?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new hD(i,r)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var l;(l=this.element)===null||l===void 0||l.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){let s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(i){super.setActionContext(i),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=i:this.dropdownMenu.menuOptions={context:i})}updateEnabled(){var i,n;let o=!this.getAction().enabled;(i=this.actionItem)===null||i===void 0||i.classList.toggle("disabled",o),(n=this.element)===null||n===void 0||n.classList.toggle("disabled",o)}};wa();var QG=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},mT=function(e,i){return function(n,o){i(n,o,e)}};function ZG(e,i,n,o,r,s){let l=e.getActions(i);return wae(l,n,!1,o,r,s),Cae(l)}function Cae(e){let i=new Xe;for(let[,n]of e)for(let o of n)i.add(o);return i}function wae(e,i,n,o="navigation",r=Number.MAX_SAFE_INTEGER,s=()=>!1){let l,c;Array.isArray(i)?(l=i,c=i):(l=i.primary,c=i.secondary);let d=new Set;for(let[u,h]of e){let g;u===o?g=l:(g=c,g.length>0&&g.push(new qg));for(let p of h){n&&(p=p instanceof j0&&p.alt?p.alt:p);let f=g.push(p);p instanceof HS&&d.add({group:u,action:p,index:f-1})}}for(let{group:u,action:h,index:g}of d){let p=u===o?l:c,f=h.actions;(f.length<=1||p.length+f.length-2<=r)&&s(h,u,p.length)&&p.splice(g,1,...f)}if(l!==c&&l.length>r){let u=l.splice(r,l.length-r);c.unshift(...u,new qg)}}var mw=class extends eC{constructor(i,n,o){super(void 0,i,{icon:!!(i.class||i.item.icon),label:!i.class&&!i.item.icon}),this._keybindingService=n,this._notificationService=o,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Ao),this._altKey=J4.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(i){i.preventDefault(),i.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).catch(n=>this._notificationService.error(n))}render(i){super.render(i),i.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let n=!1,o=this._altKey.keyStatus.altKey||(vu||k0)&&this._altKey.keyStatus.shiftKey,r=()=>{let s=n&&o;s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(s=>{o=s.altKey||(vu||k0)&&s.shiftKey,r()})),this._register(Cu(i,"mouseleave")(s=>{n=!1,r()})),this._register(Cu(i,"mouseenter")(s=>{n=!0,r()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){let i=this._keybindingService.lookupKeybinding(this._commandAction.id),n=i&&i.getLabel(),o=this._commandAction.tooltip||this._commandAction.label,r=n?_("titleAndKb","{0} ({1})",o,n):o;if(!this._wantsAltCommand&&this._menuItemAction.alt){let s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,l=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id),c=l&&l.getLabel(),d=c?_("titleAndKb","{0} ({1})",s,c):s;r+=`
[${B8.modifierLabels[A4].altKey}] ${d}`}this.label.title=r}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(i){var n;this._itemClassDispose.value=void 0;let{element:o,label:r}=this;if(!o||!r)return;let s=this._commandAction.checked&&(!((n=i.toggled)===null||n===void 0)&&n.icon)?i.toggled.icon:i.icon;if(s)if(An.isThemeIcon(s)){let l=An.asClassNameArray(s);r.classList.add(...l),this._itemClassDispose.value=ao(()=>{r.classList.remove(...l)})}else s.light&&r.style.setProperty("--menu-entry-icon-light",T0(s.light)),s.dark&&r.style.setProperty("--menu-entry-icon-dark",T0(s.dark)),r.classList.add("icon"),this._itemClassDispose.value=ao(()=>{r.classList.remove("icon"),r.style.removeProperty("--menu-entry-icon-light"),r.style.removeProperty("--menu-entry-icon-dark")})}};mw=QG([mT(1,En),mT(2,bn)],mw);var vT=class extends gD{constructor(i,n){super(i,{getActions:()=>i.actions},n,{menuAsChild:!0,classNames:An.isThemeIcon(i.item.icon)?An.asClassName(i.item.icon):void 0})}render(i){if(super.render(i),this.element){i.classList.add("menu-entry");let{icon:n}=this._action.item;n&&!An.isThemeIcon(n)&&(this.element.classList.add("icon"),n.light&&this.element.style.setProperty("--menu-entry-icon-light",T0(n.light)),n.dark&&this.element.style.setProperty("--menu-entry-icon-dark",T0(n.dark)))}}};vT=QG([mT(1,sm)],vT);function XG(e,i){return i instanceof j0?e.createInstance(mw,i):i instanceof GS?e.createInstance(vT,i):void 0}var JG=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},ej=function(e,i){return function(n,o){i(n,o,e)}},CT=Il("IPeekViewService");Pl(CT,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,i){let n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose());let o=()=>{let r=this._widgets.get(e);r&&r.widget===i&&(r.listener.dispose(),this._widgets.delete(e))};this._widgets.set(e,{widget:i,listener:i.onDidClose(o)})}});var Bo;(function(e){e.inPeekEditor=new ei("inReferenceSearchEditor",!0,_("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()})(Bo||(Bo={}));var Cw=class{constructor(i,n){i instanceof gl&&Bo.inPeekEditor.bindTo(n)}dispose(){}};Cw.ID="editor.contrib.referenceController";Cw=JG([ej(1,Wt)],Cw);Dt(Cw.ID,Cw);function tj(e){let i=e.get(Ii).getFocusedCodeEditor();return i instanceof gl?i.getParentEditor():i}var bae={headerBackgroundColor:fi.white,primaryHeadingColor:fi.fromHex("#333333"),secondaryHeadingColor:fi.fromHex("#6c6c6cb3")},uv=class extends uD{constructor(i,n,o){super(i,n),this.instantiationService=o,this._onDidClose=new vt,this.onDidClose=this._onDidClose.event,Vf(this.options,bae,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(i){let n=this.options;i.headerBackgroundColor&&(n.headerBackgroundColor=i.headerBackgroundColor),i.primaryHeadingColor&&(n.primaryHeadingColor=i.primaryHeadingColor),i.secondaryHeadingColor&&(n.secondaryHeadingColor=i.secondaryHeadingColor),super.style(i)}_applyStyles(){super._applyStyles();let i=this.options;this._headElement&&i.headerBackgroundColor&&(this._headElement.style.backgroundColor=i.headerBackgroundColor.toString()),this._primaryHeading&&i.primaryHeadingColor&&(this._primaryHeading.style.color=i.primaryHeadingColor.toString()),this._secondaryHeading&&i.secondaryHeadingColor&&(this._secondaryHeading.style.color=i.secondaryHeadingColor.toString()),this._bodyElement&&i.frameColor&&(this._bodyElement.style.borderColor=i.frameColor.toString())}_fillContainer(i){this.setCssClass("peekview-widget"),this._headElement=ut(".head"),this._bodyElement=ut(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),i.appendChild(this._headElement),i.appendChild(this._bodyElement)}_fillHead(i,n){let o=ut(".peekview-title");ct(this._headElement,o),ls(o,"click",l=>this._onTitleClick(l)),this._fillTitleIcon(o),this._primaryHeading=ut("span.filename"),this._secondaryHeading=ut("span.dirname"),this._metaHeading=ut("span.meta"),ct(o,this._primaryHeading,this._secondaryHeading,this._metaHeading);let r=ut(".peekview-actions");ct(this._headElement,r);let s=this._getActionBarOptions();this._actionbarWidget=new tC(r,s),this._disposables.add(this._actionbarWidget),n||this._actionbarWidget.push(new VS("peekview.close",_("label.close","Close"),gt.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(i){}_getActionBarOptions(){return{actionViewItemProvider:XG.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(i){}setTitle(i,n){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=i,this._primaryHeading.setAttribute("aria-label",i),n?this._secondaryHeading.innerText=n:Ds(this._secondaryHeading))}setMetaTitle(i){this._metaHeading&&(i?(this._metaHeading.innerText=i,jo(this._metaHeading)):_o(this._metaHeading))}_doLayout(i,n){if(!this._isShowing&&i<0){this.dispose();return}let o=Math.ceil(this.editor.getOption(55)*1.2),r=Math.round(i-(o+2));this._doLayoutHead(o,n),this._doLayoutBody(r,n)}_doLayoutHead(i,n){this._headElement&&(this._headElement.style.height=`${i}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(i,n){this._bodyElement&&(this._bodyElement.style.height=`${i}px`)}};uv=JG([ej(2,hi)],uv);var ij=St("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},_("peekViewTitleBackground","Background color of the peek view title area.")),pD=St("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},_("peekViewTitleForeground","Color of the peek view title.")),fD=St("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},_("peekViewTitleInfoForeground","Color of the peek view title info.")),nj=St("peekView.border",{dark:"#007acc",light:"#007acc",hc:Lh},_("peekViewBorder","Color of the peek view borders and arrow.")),wT=St("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:fi.black},_("peekViewResultsBackground","Background color of the peek view result list.")),oj=St("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:fi.white},_("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),rj=St("peekViewResult.fileForeground",{dark:fi.white,light:"#1E1E1E",hc:fi.white},_("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),sj=St("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},_("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),aj=St("peekViewResult.selectionForeground",{dark:fi.white,light:"#6C6C6C",hc:fi.white},_("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),vw=St("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:fi.black},_("peekViewEditorBackground","Background color of the peek view editor.")),lj=St("peekViewEditorGutter.background",{dark:vw,light:vw,hc:vw},_("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),cj=St("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},_("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),dj=St("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},_("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),uj=St("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Du},_("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));Es();Oi();vn();Gr();var mD;(function(e){function i(n){switch(n){case H0.Ignore:return"severity-ignore "+gt.info.classNames;case H0.Info:return gt.info.classNames;case H0.Warning:return gt.warning.classNames;case H0.Error:return gt.error.classNames;default:return""}}e.className=i})(mD||(mD={}));ii((e,i)=>{let n=e.getColor(A5);if(n){let s=gt.error.cssSelector;i.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s} {
				color: ${n};
			}
		`)}let o=e.getColor(T5);if(o){let s=gt.warning.cssSelector;i.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.extension-editor ${s} {
				color: ${o};
			}
		`)}let r=e.getColor(F5);if(r){let s=gt.info.cssSelector;i.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.extension-editor ${s} {
				color: ${r};
			}
		`)}});bu();wr();Ti();wn();On();var Sae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},hv=function(e,i){return function(n,o){i(n,o,e)}},xT=class{constructor(i,n,o,r,s){this._openerService=r,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Xe,this._editor=n;let l=document.createElement("div");l.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),l.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),l.appendChild(this._relatedBlock),this._disposables.add(ls(this._relatedBlock,"click",c=>{c.preventDefault();let d=this._relatedDiagnostics.get(c.target);d&&o(d)})),this._scrollable=new B5(l,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),i.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(c=>{l.style.left=`-${c.scrollLeft}px`,l.style.top=`-${c.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){Un(this._disposables)}update(i){let{source:n,message:o,relatedInformation:r,code:s}=i,l=(n?.length||0)+2;s&&(typeof s=="string"?l+=s.length:l+=s.value.length);let c=wS(o);this._lines=c.length,this._longestLineLength=0;for(let p of c)this._longestLineLength=Math.max(p.length+l,this._longestLineLength);Ds(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(i)),this._editor.applyFontInfo(this._messageBlock);let d=this._messageBlock;for(let p of c)d=document.createElement("div"),d.innerText=p,p===""&&(d.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(d);if(n||s){let p=document.createElement("span");if(p.classList.add("details"),d.appendChild(p),n){let f=document.createElement("span");f.innerText=n,f.classList.add("source"),p.appendChild(f)}if(s)if(typeof s=="string"){let f=document.createElement("span");f.innerText=`(${s})`,f.classList.add("code"),p.appendChild(f)}else{this._codeLink=ut("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=y=>{this._openerService.open(s.target,{allowCommands:!0}),y.preventDefault(),y.stopPropagation()};let f=ct(this._codeLink,ut("span"));f.innerText=s.value,p.appendChild(this._codeLink)}}if(Ds(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),ho(r)){let p=this._relatedBlock.appendChild(document.createElement("div"));p.style.paddingTop=`${Math.floor(this._editor.getOption(55)*.66)}px`,this._lines+=1;for(let f of r){let y=document.createElement("div"),M=document.createElement("a");M.classList.add("filename"),M.innerText=`${lD(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,M.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(M,f);let k=document.createElement("span");k.innerText=f.message,y.appendChild(M),y.appendChild(k),this._lines+=1,p.appendChild(y)}}let u=this._editor.getOption(40),h=Math.ceil(u.typicalFullwidthCharacterWidth*this._longestLineLength*.75),g=u.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:h,scrollHeight:g})}layout(i,n){this._scrollable.getDomNode().style.height=`${i}px`,this._scrollable.getDomNode().style.width=`${n}px`,this._scrollable.setScrollDimensions({width:n,height:i})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(i){let n="";switch(i.severity){case ko.Error:n=_("Error","Error");break;case ko.Warning:n=_("Warning","Warning");break;case ko.Info:n=_("Info","Info");break;case ko.Hint:n=_("Hint","Hint");break}let o=_("marker aria","{0} at {1}. ",n,i.startLineNumber+":"+i.startColumn),r=this._editor.getModel();return r&&i.startLineNumber<=r.getLineCount()&&i.startLineNumber>=1&&(o=`${r.getLineContent(i.startLineNumber)}, ${o}`),o}},Lp=class hj extends uv{constructor(i,n,o,r,s,l,c){super(i,{showArrow:!0,showFrame:!0,isAccessible:!0},s),this._themeService=n,this._openerService=o,this._menuService=r,this._contextKeyService=l,this._labelService=c,this._callOnDispose=new Xe,this._onDidSelectRelatedInformation=new vt,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=ko.Warning,this._backgroundColor=fi.white,this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(i){this._backgroundColor=i.getColor(Eae);let n=xae;this._severity===ko.Warning?n=_ae:this._severity===ko.Info&&(n=Dae);let o=i.getColor(n);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:i.getColor(pD),secondaryHeadingColor:i.getColor(fD)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(i){super._fillHead(i),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(r=>this.editor.focus()));let n=[],o=this._menuService.createMenu(hj.TitleMenu,this._contextKeyService);ZG(o,void 0,n),this._actionbarWidget.push(n,{label:!1,icon:!0,index:0}),o.dispose()}_fillTitleIcon(i){this._icon=ct(i,ut(""))}_fillBody(i){this._parentContainer=i,i.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),i.appendChild(this._container),this._message=new xT(this._container,this.editor,n=>this._onDidSelectRelatedInformation.fire(n),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(i,n,o){this._container.classList.remove("stale"),this._message.update(i),this._severity=i.severity,this._applyTheme(this._themeService.getColorTheme());let r=Ie.lift(i),s=this.editor.getPosition(),l=s&&r.containsPosition(s)?s:r.getStartPosition();super.show(l,this.computeRequiredHeight());let c=this.editor.getModel();if(c){let d=o>1?_("problems","{0} of {1} problems",n,o):_("change","{0} of {1} problem",n,o);this.setTitle(Br(c.uri),d)}this._icon.className=`codicon ${mD.className(ko.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(l,0),this.editor.focus()}updateMarker(i){this._container.classList.remove("stale"),this._message.update(i)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(i,n){super._doLayoutBody(i,n),this._heightInPixel=i,this._message.layout(i,n),this._container.style.height=`${i}px`}_onWidth(i){this._message.layout(this._heightInPixel,i)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Lp.TitleMenu=new Vt("gotoErrorTitleMenu");Lp=Sae([hv(1,eo),hv(2,sr),hv(3,Qf),hv(4,hi),hv(5,Wt),hv(6,zh)],Lp);var bT=s1(r5,s5),yT=s1(a5,l5),ST=s1(c5,d5),xae=St("editorMarkerNavigationError.background",{dark:bT,light:bT,hc:bT},_("editorMarkerNavigationError","Editor marker navigation widget error color.")),_ae=St("editorMarkerNavigationWarning.background",{dark:yT,light:yT,hc:yT},_("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Dae=St("editorMarkerNavigationInfo.background",{dark:ST,light:ST,hc:ST},_("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Eae=St("editorMarkerNavigation.background",{dark:"#2D2D30",light:fi.white,hc:"#0C141F"},_("editorMarkerNavigationBackground","Editor marker navigation widget background."));ii((e,i)=>{let n=e.getColor(Fl);n&&(i.addRule(`.monaco-editor .marker-widget a { color: ${n}; }`),i.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${n}; }`))});Ho();wr();Gr();wn();To();en();bt();Bt();On();Rn();wn();X0();T4();var gj=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},pj=function(e,i){return function(n,o){i(n,o,e)}},vD=class{constructor(i,n,o){this.marker=i,this.index=n,this.total=o}},_T=class fj{constructor(i,n){this._markerService=n,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._dispoables=new Xe,this._markers=[],this._nextIdx=-1,ci.isUri(i)?this._resourceFilter=r=>r.toString()===i.toString():i&&(this._resourceFilter=i);let o=()=>{this._markers=this._markerService.read({resource:ci.isUri(i)?i:void 0,severities:ko.Error|ko.Warning|ko.Info}),typeof i=="function"&&(this._markers=this._markers.filter(r=>this._resourceFilter(r.resource))),this._markers.sort(fj._compareMarker)};o(),this._dispoables.add(n.onMarkerChanged(r=>{(!this._resourceFilter||r.some(s=>this._resourceFilter(s)))&&(o(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(i){return!this._resourceFilter&&!i?!0:!this._resourceFilter||!i?!1:this._resourceFilter(i)}get selected(){let i=this._markers[this._nextIdx];return i&&new vD(i,this._nextIdx+1,this._markers.length)}_initIdx(i,n,o){let r=!1,s=this._markers.findIndex(l=>l.resource.toString()===i.uri.toString());s<0&&(s=AS(this._markers,{resource:i.uri},(l,c)=>jk(l.resource.toString(),c.resource.toString())),s<0&&(s=~s));for(let l=s;l<this._markers.length;l++){let c=Ie.lift(this._markers[l]);if(c.isEmpty()){let d=i.getWordAtPosition(c.getStartPosition());d&&(c=new Ie(c.startLineNumber,d.startColumn,c.startLineNumber,d.endColumn))}if(n&&(c.containsPosition(n)||n.isBeforeOrEqual(c.getStartPosition()))){this._nextIdx=l,r=!0;break}if(this._markers[l].resource.toString()!==i.uri.toString())break}r||(this._nextIdx=o?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(i,n,o){if(this._markers.length===0)return!1;let r=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,o,i):i?this._nextIdx=(this._nextIdx+1)%this._markers.length:i||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(i,n){let o=this._markers.findIndex(r=>r.resource.toString()===i.toString());if(!(o<0)){for(;o<this._markers.length;o++)if(Ie.containsPosition(this._markers[o],n))return new vD(this._markers[o],o+1,this._markers.length)}}static _compareMarker(i,n){let o=jk(i.resource.toString(),n.resource.toString());return o===0&&(o=ko.compare(i.severity,n.severity)),o===0&&(o=Ie.compareRangesUsingStarts(i,n)),o}};_T=gj([pj(1,oC)],_T);var ET=Il("IMarkerNavigationService"),DT=class{constructor(i){this._markerService=i,this._provider=new gS}getMarkerList(i){for(let n of this._provider){let o=n.getMarkerList(i);if(o)return o}return new _T(i,this._markerService)}};DT=gj([pj(0,oC)],DT);Pl(ET,DT,!0);var Mae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},CD=function(e,i){return function(n,o){i(n,o,e)}},mj=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},th=class wD{constructor(i,n,o,r,s){this._markerNavigationService=n,this._contextKeyService=o,this._editorService=r,this._instantiationService=s,this._sessionDispoables=new Xe,this._editor=i,this._widgetVisible=vj.bindTo(this._contextKeyService)}static get(i){return i.getContribution(wD.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(i){if(this._model&&this._model.matches(i))return this._model;let n=!1;return this._model&&(n=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(i),n&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Lp,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(o=>{var r,s,l;(!(!((r=this._model)===null||r===void 0)&&r.selected)||!Ie.containsPosition((s=this._model)===null||s===void 0?void 0:s.selected.marker,o.position))&&((l=this._model)===null||l===void 0||l.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let o=this._model.find(this._editor.getModel().uri,this._widget.position);o?this._widget.updateMarker(o.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(o=>{this._editorService.openCodeEditor({resource:o.resource,options:{pinned:!0,revealIfOpened:!0,selection:Ie.lift(o).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(i=!0){this._cleanUp(),i&&this._editor.focus()}showAtMarker(i){if(this._editor.hasModel()){let n=this._getOrCreateModel(this._editor.getModel().uri);n.resetIndex(),n.move(!0,this._editor.getModel(),new _t(i.startLineNumber,i.startColumn)),n.selected&&this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}}nagivate(i,n){return mj(this,void 0,void 0,function*(){if(this._editor.hasModel()){let o=this._getOrCreateModel(n?void 0:this._editor.getModel().uri);if(o.move(i,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let r=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);r&&(wD.get(r).close(),wD.get(r).nagivate(i,n))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};th.ID="editor.contrib.markerController";th=Mae([CD(1,ET),CD(2,Wt),CD(3,Ii),CD(4,hi)],th);var gv=class extends it{constructor(i,n,o){super(o),this._next=i,this._multiFile=n}run(i,n){return mj(this,void 0,void 0,function*(){n.hasModel()&&th.get(n).nagivate(this._next,this._multiFile)})}},ag=class e extends gv{constructor(){super(!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:578,weight:100},menuOpts:{menuId:Lp.TitleMenu,title:e.LABEL,icon:Mo("marker-navigation-next",gt.chevronDown,_("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}};ag.ID="editor.action.marker.next";ag.LABEL=_("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var ww=class e extends gv{constructor(){super(!1,!1,{id:e.ID,label:e.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:1602,weight:100},menuOpts:{menuId:Lp.TitleMenu,title:ag.LABEL,icon:Mo("marker-navigation-previous",gt.chevronUp,_("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}};ww.ID="editor.action.marker.prev";ww.LABEL=_("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var MT=class extends gv{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:66,weight:100},menuOpts:{menuId:Vt.MenubarGoMenu,title:_({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}},kT=class extends gv{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:1090,weight:100},menuOpts:{menuId:Vt.MenubarGoMenu,title:_({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}};Dt(th.ID,th);Ue(ag);Ue(ww);Ue(MT);Ue(kT);var vj=new ei("markersNavigationVisible",!1),kae=Tn.bindToContribution(th.get);pt(new kae({id:"closeMarkersNavigation",precondition:vj,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:Me.focus,primary:9,secondary:[1033]}}));us();ln();Qg();var Iae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},IT=function(e,i){return function(n,o){i(n,o,e)}},es=ut,bw=class e{constructor(i,n){this.range=i,this.marker=n}equals(i){return i instanceof e?nC.makeKey(this.marker)===nC.makeKey(i.marker):!1}},Cj={type:1,filter:{include:ti.QuickFix}},bD=class{constructor(i,n,o,r,s){this._editor=i,this._hover=n,this._markerDecorationsService=o,this._keybindingService=r,this._openerService=s,this.recentMarkerCodeActionsInfo=void 0}computeSync(i,n){if(!this._editor.hasModel())return[];let o=this._editor.getModel(),r=i.startLineNumber,s=o.getLineMaxColumn(r),l=[];for(let c of n){let d=c.range.startLineNumber===r?c.range.startColumn:1,u=c.range.endLineNumber===r?c.range.endColumn:s,h=this._markerDecorationsService.getMarker(o.uri,c);if(!h)continue;let g=new Ie(i.startLineNumber,d,i.startLineNumber,u);l.push(new bw(g,h))}return l}renderHoverParts(i,n){if(!i.length)return yt.None;let o=new Xe;i.forEach(s=>n.appendChild(this.renderMarkerHover(s,o)));let r=i.length===1?i[0]:i.sort((s,l)=>ko.compare(s.marker.severity,l.marker.severity))[0];return n.appendChild(this.renderMarkerStatusbar(r,o)),o}renderMarkerHover(i,n){let o=es("div.hover-row"),r=ct(o,es("div.marker.hover-contents")),{source:s,message:l,code:c,relatedInformation:d}=i.marker;this._editor.applyFontInfo(r);let u=ct(r,es("span"));if(u.style.whiteSpace="pre-wrap",u.innerText=l,s||c)if(c&&typeof c!="string"){let h=es("span");if(s){let y=ct(h,es("span"));y.innerText=s}let g=ct(h,es("a.code-link"));g.setAttribute("href",c.target.toString()),n.add(uo(g,"click",y=>{this._openerService.open(c.target,{allowCommands:!0}),y.preventDefault(),y.stopPropagation()}));let p=ct(g,es("span"));p.innerText=c.value;let f=ct(r,h);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{let h=ct(r,es("span"));h.style.opacity="0.6",h.style.paddingLeft="6px",h.innerText=s&&c?`${s}(${c})`:s||`(${c})`}if(ho(d))for(let{message:h,resource:g,startLineNumber:p,startColumn:f}of d){let y=ct(r,es("div"));y.style.marginTop="8px";let M=ct(y,es("a"));M.innerText=`${Br(g)}(${p}, ${f}): `,M.style.cursor="pointer",n.add(uo(M,"click",G=>{G.stopPropagation(),G.preventDefault(),this._openerService&&this._openerService.open(g,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:p,startColumn:f}}}).catch(Ut)}));let k=ct(y,es("span"));k.innerText=h,this._editor.applyFontInfo(k)}return o}renderMarkerStatusbar(i,n){let o=es("div.hover-row.status-bar"),r=ct(o,es("div.actions"));if((i.marker.severity===ko.Error||i.marker.severity===ko.Warning||i.marker.severity===ko.Info)&&n.add(this.renderAction(r,{label:_("view problem","View Problem"),commandId:ag.ID,run:()=>{this._hover.hide(),th.get(this._editor).showAtMarker(i.marker),this._editor.focus()}})),!this._editor.getOption(77)){let s=ct(r,es("div"));this.recentMarkerCodeActionsInfo&&(nC.makeKey(this.recentMarkerCodeActionsInfo.marker)===nC.makeKey(i.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=_("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let l=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?yt.None:n.add(Vg(()=>s.textContent=_("checkingForQuickFixes","Checking for quick fixes..."),200));s.textContent||(s.textContent="\xA0");let c=this.getCodeActions(i.marker);n.add(ao(()=>c.cancel())),c.then(d=>{if(l.dispose(),this.recentMarkerCodeActionsInfo={marker:i.marker,hasCodeActions:d.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){d.dispose(),s.textContent=_("noQuickFixes","No quick fixes available");return}s.style.display="none";let u=!1;n.add(ao(()=>{u||d.dispose()})),n.add(this.renderAction(r,{label:_("quick fixes","Quick Fix..."),commandId:pw.Id,run:h=>{u=!0;let g=eh.get(this._editor),p=Go(h);this._hover.hide(),g.showCodeActions(Cj,d,{x:p.left+6,y:p.top+p.height+6})}}))})}return o}renderAction(i,n){let o=this._keybindingService.lookupKeybinding(n.commandId),r=o?o.getLabel():null;return qG(i,n,r)}getCodeActions(i){return ji(n=>dw(this._editor.getModel(),new Ie(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),Cj,Ll.None,n))}};bD=Iae([IT(2,U8),IT(3,En),IT(4,sr)],bD);Pt();Ki();bt();Bt();Ki();vz();ki();var yD=yh(wj());var bj;(function(){function e(i,n,o){function r(c,d){if(!n[c]){if(!i[c]){var u=typeof M0=="function"&&M0;if(!d&&u)return u(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var g=n[c]={exports:{}};i[c][0].call(g.exports,function(p){var f=i[c][1][p];return r(f||p)},g,g.exports,e,i,n,o)}return n[c].exports}for(var s=typeof M0=="function"&&M0,l=0;l<o.length;l++)r(o[l]);return r}return e})()({1:[function(e,i,n){"use strict";var o=e("./toMap"),r=["background","base","cite","href","longdesc","src","usemap"];i.exports={uris:o(r)}},{"./toMap":10}],2:[function(e,i,n){"use strict";var o={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};i.exports=o},{}],3:[function(e,i,n){"use strict";var o=e("./toMap"),r=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];i.exports={voids:o(r)}},{"./toMap":10}],4:[function(e,i,n){"use strict";var o=e("he"),r=e("assignment"),s=e("./parser"),l=e("./sanitizer"),c=e("./defaults");function d(u,h,g){var p=[],f=g===!0?h:r({},c,h),y=l(p,f);return s(u,y),p.join("")}d.defaults=c,i.exports=d,bj=d},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,i,n){"use strict";i.exports=function(r){return typeof r=="string"?r.toLowerCase():r}},{}],6:[function(e,i,n){"use strict";function o(r){for(var s=Array.prototype.slice.call(arguments,1),l,c;s.length;){l=s.shift();for(c in l)l.hasOwnProperty(c)&&(Object.prototype.toString.call(r[c])==="[object Object]"?r[c]=o(r[c],l[c]):r[c]=l[c])}return r}i.exports=o},{}],7:[function(e,i,n){"use strict";var o=e("he"),r=e("./lowercase"),s=e("./attributes"),l=e("./elements"),c=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,d=/^<\s*\/\s*([\w:-]+)[^>]*>/,u=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,g=/^<\s*\//;function p(){var y=[];return y.lastItem=function(){return y[y.length-1]},y}function f(y,M){for(var k=p(),G=y,J;y;)$();at();function $(){J=!0,_e();var Ft=y===G;G=y,Ft&&(y="")}function _e(){y.substr(0,4)==="<!--"?Pe():g.test(y)?Te(d,at):h.test(y)&&Te(c,nt),$e()}function Te(Ft,Zt){var xn=y.match(Ft);xn&&(y=y.substring(xn[0].length),xn[0].replace(Ft,Zt),J=!1)}function Pe(){var Ft=y.indexOf("-->");Ft>=0&&(M.comment&&M.comment(y.substring(4,Ft)),y=y.substring(Ft+3),J=!1)}function $e(){if(J){var Ft,Zt=y.indexOf("<");Zt>=0?(Ft=y.substring(0,Zt),y=y.substring(Zt)):(Ft=y,y=""),M.chars&&M.chars(Ft)}}function nt(Ft,Zt,xn,Ei){var hn={},Cn=r(Zt),ss=l.voids[Cn]||!!Ei;xn.replace(u,ot),ss||k.push(Cn),M.start&&M.start(Cn,hn,ss);function ot(jt,Ci,Gi,Bi,nr){Gi===void 0&&Bi===void 0&&nr===void 0?hn[Ci]=void 0:hn[Ci]=o.decode(Gi||Bi||nr||"")}}function at(Ft,Zt){var xn,Ei=0,hn=r(Zt);if(hn)for(Ei=k.length-1;Ei>=0&&k[Ei]!==hn;Ei--);if(Ei>=0){for(xn=k.length-1;xn>=Ei;xn--)M.end&&M.end(k[xn]);k.length=Ei}}}i.exports=f},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,i,n){"use strict";var o=e("he"),r=e("./lowercase"),s=e("./attributes"),l=e("./elements");function c(d,u){var h,g,p=u||{};return _e(),{start:y,end:M,chars:G};function f(Te){d.push(Te)}function y(Te,Pe,$e){var nt=r(Te);if(g.ignoring){J(nt);return}if((p.allowedTags||[]).indexOf(nt)===-1){J(nt);return}if(p.filter&&!p.filter({tag:nt,attrs:Pe})){J(nt);return}f("<"),f(nt),Object.keys(Pe).forEach(at),f($e?"/>":">");function at(Ft){var Zt=Pe[Ft],xn=(p.allowedClasses||{})[nt]||[],Ei=(p.allowedAttributes||{})[nt]||[];Ei=Ei.concat((p.allowedAttributes||{})["*"]||[]);var hn,Cn=r(Ft);Cn==="class"&&Ei.indexOf(Cn)===-1?(Zt=Zt.split(" ").filter(ss).join(" ").trim(),hn=Zt.length):hn=Ei.indexOf(Cn)!==-1&&(s.uris[Cn]!==!0||k(Zt)),hn&&(f(" "),f(Ft),typeof Zt=="string"&&(f('="'),f(o.encode(Zt)),f('"')));function ss(ot){return xn&&xn.indexOf(ot)!==-1}}}function M(Te){var Pe=r(Te),$e=(p.allowedTags||[]).indexOf(Pe)!==-1;$e&&g.ignoring===!1?(f("</"),f(Pe),f(">")):$(Pe)}function k(Te){var Pe=Te[0];if(Pe==="#"||Pe==="/")return!0;var $e=Te.indexOf(":");if($e===-1)return!0;var nt=Te.indexOf("?");if(nt!==-1&&$e>nt)return!0;var at=Te.indexOf("#");if(at!==-1&&$e>at)return!0;return p.allowedSchemes.some(Ft);function Ft(Zt){return Te.indexOf(Zt+":")===0}}function G(Te){g.ignoring===!1&&f(p.transformText?p.transformText(Te):Te)}function J(Te){l.voids[Te]||(g.ignoring===!1?g={ignoring:Te,depth:1}:g.ignoring===Te&&g.depth++)}function $(Te){g.ignoring===Te&&--g.depth<=0&&_e()}function _e(){g={ignoring:!1,depth:0}}}i.exports=c},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,i,n){"use strict";var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},s=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,l=/[&<>"']/g;function c(g){return o[g]}function d(g){return r[g]}function u(g){return g==null?"":String(g).replace(l,c)}function h(g){return g==null?"":String(g).replace(s,d)}u.options=h.options={},i.exports={encode:u,escape:u,decode:h,unescape:h,version:"1.0.0-browser"}},{}],10:[function(e,i,n){"use strict";function o(s){return s.reduce(r,{})}function r(s,l){return s[l]=!0,s}i.exports=o},{}]},{},[4]);var TT=bj;_S();On();To();A0();Es();bQ();en();Ok();var FT,PT=(FT=window.trustedTypes)===null||FT===void 0?void 0:FT.createPolicy("insane",{createHTML(e,i){return TT(e,i)}});function yj(e,i={},n={}){var o;let r=mz(i),s=function(p){let f;try{f=u8(decodeURIComponent(p))}catch{}return f?(f=w8(f,y=>{if(e.uris&&e.uris[y])return ci.revive(e.uris[y])}),encodeURIComponent(JSON.stringify(f))):p},l=function(p,f){let y=e.uris&&e.uris[p];if(!y)return p;let M=ci.revive(y);return ci.parse(p).toString()===M.toString()?p:f?G4.asBrowserUri(M).toString(!0):(M.query&&(M=M.with({query:s(M.query)})),M.toString())},c,d=new Promise(p=>c=p),u=new yD.Renderer;u.image=(p,f,y)=>{let M=[],k=[];if(p){({href:p,dimensions:M}=AG(p)),p=l(p,!0);try{let G=ci.parse(p);i.baseUrl&&G.scheme===co.file&&(p=qk(i.baseUrl,p).toString())}catch{}k.push(`src="${p}"`)}return y&&k.push(`alt="${y}"`),f&&k.push(`title="${f}"`),M.length&&(k=k.concat(M)),"<img "+k.join(" ")+">"},u.link=(p,f,y)=>(p===y&&(y=L_(y)),p=l(p,!1),i.baseUrl&&(/^\w[\w\d+.-]*:/.test(p)||(p=qk(i.baseUrl,p).toString())),f=L_(f),p=L_(p),!p||p.match(/^data:|javascript:/i)||p.match(/^command:/i)&&!e.isTrusted||p.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?y:(p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${p}" title="${f||p}">${y}</a>`)),u.paragraph=p=>(e.supportThemeIcons&&(p=w1(p).map(y=>typeof y=="string"?y:y.outerHTML).join("")),`<p>${p}</p>`),i.codeBlockRenderer&&(u.code=(p,f)=>{let y=i.codeBlockRenderer(f,p),M=y1.nextId(),k=Promise.all([y,d]).then(G=>{let J=r.querySelector(`div[data-code="${M}"]`);J&&Gg(J,G[0])}).catch(G=>{});return i.asyncRenderCallback&&k.then(i.asyncRenderCallback),`<div class="code" data-code="${M}">${t8(p)}</div>`}),i.actionHandler&&i.actionHandler.disposeables.add(xo.any(Cu(r,"click"),Cu(r,"auxclick"))(p=>{let f=new V4(p);if(!f.leftButton&&!f.middleButton)return;let y=f.target;if(!(y.tagName!=="A"&&(y=y.parentElement,!y||y.tagName!=="A")))try{let M=y.dataset.href;M&&i.actionHandler.callback(M,f)}catch(M){Ut(M)}finally{f.preventDefault()}})),n.sanitizer=p=>(e.isTrusted?p.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?p:"",n.sanitize=!0,n.silent=!0,n.renderer=u;let h=(o=e.value)!==null&&o!==void 0?o:"";h.length>1e5&&(h=`${h.substr(0,1e5)}\u2026`),e.supportThemeIcons&&(h=rz(h));let g=yD.parse(h,n);if(r.innerHTML=Rae(e,g),c(),i.asyncRenderCallback)for(let p of r.getElementsByTagName("img")){let f=uo(p,"load",()=>{f.dispose(),i.asyncRenderCallback()})}return r}function Rae(e,i){var n;let o=Aae(e);return(n=PT?.createHTML(i,o))!==null&&n!==void 0?n:TT(i,o)}function Aae(e){let i=[co.http,co.https,co.mailto,co.data,co.file,co.vscodeRemote,co.vscodeRemoteResource];return e.isTrusted&&i.push(co.command),{allowedSchemes:i,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(n){return n.tag==="span"&&e.isTrusted?n.attrs.style&&Object.keys(n.attrs).length===1?!!n.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):n.attrs.class?!!n.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}bu();kh();ki();en();bt();Vi();var Tae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Sj=function(e,i){return function(n,o){i(n,o,e)}},Fae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},LT,pl=class xj{constructor(i,n,o){this._options=i,this._modeService=n,this._openerService=o,this._onDidRenderAsync=new vt,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(i,n,o){let r=new Xe,s;return i?s=yj(i,Object.assign(Object.assign({},this._getRenderOptions(i,r)),n),o):s=document.createElement("span"),{element:s,dispose:()=>r.dispose()}}_getRenderOptions(i,n){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(o,r)=>Fae(this,void 0,void 0,function*(){var s,l,c,d;let u;o?u=this._modeService.getModeIdForLanguageName(o):this._options.editor&&(u=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageIdentifier().language),u||(u="plaintext"),this._modeService.triggerMode(u);let h=(l=yield Mh.getPromise(u))!==null&&l!==void 0?l:void 0,g=document.createElement("span");g.innerHTML=(d=(c=xj._ttpTokenizer)===null||c===void 0?void 0:c.createHTML(r,h))!==null&&d!==void 0?d:b2(r,h);let p=this._options.codeBlockFontFamily;return this._options.editor&&(p=this._options.editor.getOption(40).fontFamily),p&&(g.style.fontFamily=p),g}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:o=>this._openerService.open(o,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:i.isTrusted}).catch(Ut),disposeables:n}}}};pl._ttpTokenizer=(LT=window.trustedTypes)===null||LT===void 0?void 0:LT.createPolicy("tokenizeToString",{createHTML(e,i){return b2(e,i)}});pl=Tae([Sj(1,ar),Sj(2,sr)],pl);Rn();bu();kh();Vi();Rn();$n();ki();$t();Vi();function NT(e,i,n){let r=MS.ordered(e).map(s=>Promise.resolve(s.provideHover(e,i,n)).then(l=>l&&Pae(l)?l:void 0,l=>{pn(l)}));return Promise.all(r).then(Ms)}Wr("_executeHoverProvider",(e,i)=>NT(e,i,Jt.None));function Pae(e){let i=typeof e.range<"u",n=typeof e.contents<"u"&&e.contents&&e.contents.length>0;return i&&n}Jn();var Lae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},_j=function(e,i){return function(n,o){i(n,o,e)}},Nae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},Dj=ut,Np=class e{constructor(i,n){this.range=i,this.contents=n}equals(i){return i instanceof e?RG(this.contents,i.contents):!1}},SD=class{constructor(i,n,o,r){this._editor=i,this._hover=n,this._modeService=o,this._openerService=r}createLoadingMessage(i){return new Np(i,[new Qo().appendText(_("modesContentHover.loading","Loading..."))])}computeSync(i,n){if(!this._editor.hasModel())return[];let o=this._editor.getModel(),r=i.startLineNumber,s=o.getLineMaxColumn(r),l=[];for(let c of n){let d=c.range.startLineNumber===r?c.range.startColumn:1,u=c.range.endLineNumber===r?c.range.endColumn:s,h=c.options.hoverMessage;if(!h||Ap(h))continue;let g=new Ie(i.startLineNumber,d,i.startLineNumber,u);l.push(new Np(g,FS(h)))}return l}computeAsync(i,n){return Nae(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!i)return Promise.resolve([]);let o=this._editor.getModel();if(!MS.has(o))return Promise.resolve([]);let r=yield NT(o,new _t(i.startLineNumber,i.startColumn),n),s=[];for(let l of r){if(Ap(l.contents))continue;let c=l.range?Ie.lift(l.range):i;s.push(new Np(c,l.contents))}return s})}renderHoverParts(i,n){let o=new Xe;for(let r of i)for(let s of r.contents){if(Ap(s))continue;let l=Dj("div.hover-row.markdown-hover"),c=ct(l,Dj("div.hover-contents")),d=o.add(new pl({editor:this._editor},this._modeService,this._openerService));o.add(d.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));let u=o.add(d.render(s));c.appendChild(u.element),n.appendChild(l)}return o}};SD=Lae([_j(2,ar),_j(3,sr)],SD);var Oae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},pv=class{constructor(i,n,o){this.range=i,this.color=n,this.provider=o}equals(i){return!1}},lg=class{constructor(i,n){this.owner=i,this.data=n}},OT=class{constructor(i,n,o){this._markerHoverParticipant=n,this._markdownHoverParticipant=o,this._editor=i,this._result=[],this._range=null}setRange(i){this._range=i,this._result=[]}clearResult(){this._result=[]}computeAsync(i){return Oae(this,void 0,void 0,function*(){return!this._editor.hasModel()||!this._range?Promise.resolve([]):(yield this._markdownHoverParticipant.computeAsync(this._range,i)).map(o=>new lg(this._markdownHoverParticipant,o))})}computeSync(){if(!this._editor.hasModel()||!this._range)return[];let i=this._editor.getModel(),n=this._range,o=n.startLineNumber;if(o>this._editor.getModel().getLineCount())return[];let r=i.getLineMaxColumn(o),s=this._editor.getLineDecorations(o).filter(h=>{if(h.options.isWholeLine)return!0;let g=h.range.startLineNumber===o?h.range.startColumn:1,p=h.range.endLineNumber===o?h.range.endColumn:r;return!(g>n.startColumn||n.endColumn>p)}),l=[],c=sg.get(this._editor);for(let h of s){let g=c.getColorData(h.range.getStartPosition());if(g){let{color:p,range:f}=g.colorInfo;l.push(new lg(null,new pv(Ie.lift(f),p,g.provider)));break}}let d=this._markdownHoverParticipant.computeSync(this._range,s);l=l.concat(d.map(h=>new lg(this._markdownHoverParticipant,h)));let u=this._markerHoverParticipant.computeSync(this._range,s);return l=l.concat(u.map(h=>new lg(this._markerHoverParticipant,h))),Ms(l)}onResult(i,n){n?this._result=i.concat(this._result):this._result=this._result.concat(i)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._range){let i=new lg(this._markdownHoverParticipant,this._markdownHoverParticipant.createLoadingMessage(this._range));return this._result.slice(0).concat([i])}return this._result.slice(0)}},Zl=class e extends Eo{constructor(i,n,o,r){super(),this._hoverVisibleKey=n,this._themeService=r,this.allowEditorOverflow=!0,this._markerHoverParticipant=o.createInstance(bD,i,this),this._markdownHoverParticipant=o.createInstance(SD,i,this),this._hover=this._register(new aD),this._id=e.ID,this._editor=i,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,s=>{s.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(40)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastRange=null,this._computer=new OT(this._editor,this._markerHoverParticipant,this._markdownHoverParticipant),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new dv(this._computer,s=>this._withResult(s,!0),null,s=>this._withResult(s,!1),this._editor.getOption(50).delay),this._register(ls(this.getDomNode(),cs.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(ls(this.getDomNode(),cs.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(i.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)})),this._register(Mh.onDidChange(()=>{this._isVisible&&this._lastRange&&this._messages.length>0&&(this._messages=this._messages.map(s=>{var l,c;if(s.data instanceof pv&&(!((l=this._lastRange)===null||l===void 0)&&l.intersectRanges(s.data.range))&&(!((c=this._colorPicker)===null||c===void 0)&&c.model.color)){let d=this._colorPicker.model.color,u={red:d.rgba.r/255,green:d.rgba.g/255,blue:d.rgba.b/255,alpha:d.rgba.a};return new lg(s.owner,new pv(s.data.range,u,s.data.provider))}else return s}),this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(i,n,o){this._showAtPosition=i,this._showAtRange=n,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=o,o&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_updateContents(i){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(i),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){let i=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:n,lineHeight:o}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${n}px`,this._hover.contentsDomNode.style.lineHeight=`${o}px`,this._hover.contentsDomNode.style.maxHeight=`${i}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(i,n,o){if(!(this._lastRange&&this._lastRange.equalsRange(i))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==i.startLineNumber)this.hide();else{let r=[];for(let s=0,l=this._messages.length;s<l;s++){let c=this._messages[s],d=c.data.range;d&&d.startColumn<=i.startColumn&&d.endColumn>=i.endColumn&&r.push(c)}if(r.length>0){if(zae(r,this._messages))return;this._renderMessages(i,r)}else this.hide()}this._lastRange=i,this._computer.setRange(i),this._shouldFocus=o,this._hoverOperation.start(n)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}onContentsChanged(){this._hover.onContentsChanged()}_withResult(i,n){this._messages=i,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):n&&this.hide()}_renderMessages(i,n){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let o=1073741824,r=n[0].data.range?Ie.lift(n[0].data.range):null,s=document.createDocumentFragment(),l=!1,c=new Xe,d=[],u=[];n.forEach(h=>{let g=h.data;if(g.range)if(o=Math.min(o,g.range.startColumn),r=r?Ie.plusRange(r,g.range):Ie.lift(g.range),g instanceof pv){l=!0;let{red:p,green:f,blue:y,alpha:M}=g.color,k=new _u(Math.round(p*255),Math.round(f*255),Math.round(y*255),M),G=new fi(k);if(!this._editor.hasModel())return;let J=this._editor.getModel(),$=new Ie(g.range.startLineNumber,g.range.startColumn,g.range.endLineNumber,g.range.endColumn),_e={range:g.range,color:g.color},Te=new nD(G,[],0),Pe=new rD(s,Te,this._editor.getOption(125),this._themeService);aT(J,_e,g.provider,Jt.None).then($e=>{if(Te.colorPresentations=$e||[],!this._editor.hasModel())return;let nt=this._editor.getModel().getValueInRange(g.range);Te.guessColorPresentation(G,nt);let at=()=>{let Ei,hn;if(Te.presentation.textEdit){Ei=[Te.presentation.textEdit],hn=new Ie(Te.presentation.textEdit.range.startLineNumber,Te.presentation.textEdit.range.startColumn,Te.presentation.textEdit.range.endLineNumber,Te.presentation.textEdit.range.endColumn);let Cn=this._editor.getModel()._setTrackedRange(null,hn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Ei),hn=this._editor.getModel()._getTrackedRange(Cn)||hn}else Ei=[{identifier:null,range:$,text:Te.presentation.label,forceMoveMarkers:!1}],hn=$.setEndPosition($.endLineNumber,$.startColumn+Te.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Ei);Te.presentation.additionalTextEdits&&(Ei=[...Te.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Ei),this.hide()),this._editor.pushUndoStop(),$=hn},Ft=Ei=>aT(J,{range:$,color:{red:Ei.rgba.r/255,green:Ei.rgba.g/255,blue:Ei.rgba.b/255,alpha:Ei.rgba.a}},g.provider,Jt.None).then(hn=>{Te.colorPresentations=hn||[]}),Zt=Te.onColorFlushed(Ei=>{Ft(Ei).then(at)}),xn=Te.onDidChangeColor(Ft);this._colorPicker=Pe,this.showAt($.getStartPosition(),$,this._shouldFocus),this._updateContents(s),this._colorPicker.layout(),this._renderDisposable=R0(Zt,xn,Pe,c)})}else g instanceof bw?d.push(g):g instanceof Np&&u.push(g)}),u.length>0&&c.add(this._markdownHoverParticipant.renderHoverParts(u,s)),d.length&&c.add(this._markerHoverParticipant.renderHoverParts(d,s)),this._renderDisposable=c,!l&&s.hasChildNodes()&&(this.showAt(new _t(i.startLineNumber,o),r,this._shouldFocus),this._updateContents(s)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,r?[{range:r,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};Zl.ID="editor.contrib.modesContentHoverWidget";Zl._DECORATION_OPTIONS=ni.register({className:"hoverHighlight"});function zae(e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].data.equals(i[n].data))return!1;return!0}ii((e,i)=>{let n=e.getColor(Fl);n&&i.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});Ki();bt();ku();var xD=class extends Eo{constructor(i,n){super(),this._id=i,this._editor=n,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(40)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(i){this._isVisible=i,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(i){this._showAtLineNumber=i,this.isVisible||(this.isVisible=!0);let n=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(this._showAtLineNumber),r=this._editor.getScrollTop(),s=this._editor.getOption(55),l=this._domNode.clientHeight,c=o-r-(l-s)/2;this._domNode.style.left=`${n.glyphMarginLeft+n.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(c),0)}px`}hide(){this.isVisible&&(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){let i=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...i,...n].forEach(o=>this._editor.applyFontInfo(o))}updateContents(i){this._domNode.textContent="",this._domNode.appendChild(i),this.updateFont()}};bu();Rn();var zT=class{constructor(i){this._editor=i,this._lineNumber=-1,this._result=[]}setLineNumber(i){this._lineNumber=i,this._result=[]}clearResult(){this._result=[]}computeSync(){let i=r=>({value:r}),n=this._editor.getLineDecorations(this._lineNumber),o=[];if(!n)return o;for(let r of n){if(!r.options.glyphMarginClassName)continue;let s=r.options.glyphMarginHoverMessage;!s||Ap(s)||o.push(...FS(s).map(i))}return o}onResult(i,n){this._result=this._result.concat(i)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}},yw=(()=>{class e extends xD{constructor(n,o,r=v8){super(e.ID,n),this._renderDisposeables=this._register(new Xe),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new pl({editor:this._editor},o,r)),this._computer=new zT(this._editor),this._hoverOperation=new dv(this._computer,s=>this._withResult(s),void 0,s=>this._withResult(s),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(n){this._lastLineNumber!==n&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=n,this._computer.setLineNumber(n),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(n){this._messages=n,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(n,o){this._renderDisposeables.clear();let r=document.createDocumentFragment();for(let s of o){let l=this._markdownRenderer.render(s.value);this._renderDisposeables.add(l),r.appendChild(ut("div.hover-row",void 0,l.element))}this.updateContents(r),this.showAt(n)}}return e.ID="editor.contrib.modesGlyphHoverWidget",e})();bu();vn();Oi();Pt();ln();ki();kh();Bt();Vi();$t();$n();ki();$t();Vi();Pt();en();Es();bt();On();Bt();F0();ki();var Bae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},ms=class{constructor(i,n,o,r){this.isProviderFirst=i,this.parent=n,this.link=o,this._rangeCallback=r,this.id=y1.nextId()}get uri(){return this.link.uri}get range(){var i,n;return(n=(i=this._range)!==null&&i!==void 0?i:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(i){this._range=i,this._rangeCallback(this)}get ariaMessage(){var i;let n=(i=this.parent.getPreview(this))===null||i===void 0?void 0:i.preview(this.range);return n?_({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Br(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):_("aria.oneReference","symbol in {0} on line {1} at column {2}",Br(this.uri),this.range.startLineNumber,this.range.startColumn)}},BT=class{constructor(i){this._modelReference=i}dispose(){this._modelReference.dispose()}preview(i,n=8){let o=this._modelReference.object.textEditorModel;if(!o)return;let{startLineNumber:r,startColumn:s,endLineNumber:l,endColumn:c}=i,d=o.getWordUntilPosition({lineNumber:r,column:s-n}),u=new Ie(r,d.startColumn,r,s),h=new Ie(l,c,l,1073741824),g=o.getValueInRange(u).replace(/^\s+/,""),p=o.getValueInRange(i),f=o.getValueInRange(h).replace(/\s+$/,"");return{value:g+p+f,highlight:{start:g.length,end:g.length+p.length}}}},ih=class{constructor(i,n){this.parent=i,this.uri=n,this.children=[],this._previews=new d8}dispose(){Un(this._previews.values()),this._previews.clear()}getPreview(i){return this._previews.get(i.uri)}get ariaMessage(){let i=this.children.length;return i===1?_("aria.fileReferences.1","1 symbol in {0}, full path {1}",Br(this.uri),this.uri.fsPath):_("aria.fileReferences.N","{0} symbols in {1}, full path {2}",i,Br(this.uri),this.uri.fsPath)}resolve(i){return Bae(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{let o=yield i.createModelReference(n.uri);this._previews.set(n.uri,new BT(o))}catch(o){Ut(o)}return this})}},fr=class e{constructor(i,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new vt,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=i,this._title=n;let[o]=i;i.sort(e._compareReferences);let r;for(let s of i)if((!r||!$k.isEqual(r.uri,s.uri,!0))&&(r=new ih(this,s.uri),this.groups.push(r)),r.children.length===0||e._compareReferences(s,r.children[r.children.length-1])!==0){let l=new ms(o===s,r,s,c=>this._onDidChangeReferenceRange.fire(c));this.references.push(l),r.children.push(l)}}dispose(){Un(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new e(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?_("aria.result.0","No results found"):this.references.length===1?_("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?_("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):_("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(i,n){let{parent:o}=i,r=o.children.indexOf(i),s=o.children.length,l=o.parent.groups.length;return l===1||n&&r+1<s||!n&&r>0?(n?r=(r+1)%s:r=(r+s-1)%s,o.children[r]):(r=o.parent.groups.indexOf(o),n?(r=(r+1)%l,o.parent.groups[r].children[0]):(r=(r+l-1)%l,o.parent.groups[r].children[o.parent.groups[r].children.length-1]))}nearestReference(i,n){let o=this.references.map((r,s)=>({idx:s,prefixLen:zf(r.uri.toString(),i.toString()),offsetDist:Math.abs(r.range.startLineNumber-n.lineNumber)*100+Math.abs(r.range.startColumn-n.column)})).sort((r,s)=>r.prefixLen>s.prefixLen?-1:r.prefixLen<s.prefixLen?1:r.offsetDist<s.offsetDist?-1:r.offsetDist>s.offsetDist?1:0)[0];if(o)return this.references[o.idx]}referenceAt(i,n){for(let o of this.references)if(o.uri.toString()===i.toString()&&Ie.containsPosition(o.range,n))return o}firstReference(){for(let i of this.references)if(i.isProviderFirst)return i;return this.references[0]}static _compareReferences(i,n){return $k.compare(i.uri,n.uri)||Ie.compareRangesUsingStarts(i.range,n.range)}};var Ej=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})};function Sw(e,i,n,o){let s=n.ordered(e).map(l=>Promise.resolve(o(l,e,i)).then(void 0,c=>{pn(c)}));return Promise.all(s).then(l=>{let c=[];for(let d of l)Array.isArray(d)?c.push(...d):d&&c.push(d);return c})}function xw(e,i,n){return Sw(e,i,IS,(o,r,s)=>o.provideDefinition(r,s,n))}function VT(e,i,n){return Sw(e,i,M8,(o,r,s)=>o.provideDeclaration(r,s,n))}function HT(e,i,n){return Sw(e,i,k8,(o,r,s)=>o.provideImplementation(r,s,n))}function GT(e,i,n){return Sw(e,i,I8,(o,r,s)=>o.provideTypeDefinition(r,s,n))}function _w(e,i,n,o){return Sw(e,i,D8,(r,s,l)=>Ej(this,void 0,void 0,function*(){let c=yield r.provideReferences(s,l,{includeDeclaration:!0},o);if(!n||!c||c.length!==2)return c;let d=yield r.provideReferences(s,l,{includeDeclaration:!1},o);return d&&d.length===1?d:c}))}function Dw(e){return Ej(this,void 0,void 0,function*(){let i=yield e(),n=new fr(i,""),o=n.references.map(r=>r.link);return n.dispose(),o})}Wr("_executeDefinitionProvider",(e,i)=>Dw(()=>xw(e,i,Jt.None)));Wr("_executeDeclarationProvider",(e,i)=>Dw(()=>VT(e,i,Jt.None)));Wr("_executeImplementationProvider",(e,i)=>Dw(()=>HT(e,i,Jt.None)));Wr("_executeTypeDefinitionProvider",(e,i)=>Dw(()=>GT(e,i,Jt.None)));Wr("_executeReferenceProvider",(e,i)=>Dw(()=>_w(e,i,!1,Jt.None)));bt();Ug();Oi();vn();Kg();el();ln();kl();wa();s2();$t();Ho();Jn();Bt();Yi();Vi();Pt();ki();bt();Ho();wn();Ti();Kf();Ki();Tl();en();bt();A0();Es();Bt();Lo();Ug();Ug();Oi();Ki();Pt();Es();bt();wn();us();var ID=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Ew=function(e,i){return function(n,o){i(n,o,e)}},_D=class{constructor(i){this._resolverService=i}hasChildren(i){return i instanceof fr||i instanceof ih}getChildren(i){if(i instanceof fr)return i.groups;if(i instanceof ih)return i.resolve(this._resolverService).then(n=>n.children);throw new Error("bad tree")}};_D=ID([Ew(0,jr)],_D);var DD=class{getHeight(){return 23}getTemplateId(i){return i instanceof ih?fv.id:UT.id}},ED=class{constructor(i){this._keybindingService=i}getKeyboardNavigationLabel(i){var n;if(i instanceof ms){let o=(n=i.parent.getPreview(i))===null||n===void 0?void 0:n.preview(i.range);if(o)return o.value}return Br(i.uri)}};ED=ID([Ew(0,En)],ED);var MD=class{getId(i){return i instanceof ms?i.id:i.uri}},jT=class extends yt{constructor(i,n,o){super(),this._uriLabel=n;let r=document.createElement("div");r.classList.add("reference-file"),this.file=this._register(new b1(r,{supportHighlights:!0})),this.badge=new Cz(ct(r,ut(".count"))),this._register(az(this.badge,o)),i.appendChild(r)}set(i,n){let o=Bf(i.uri);this.file.setLabel(lD(i.uri),this._uriLabel.getUriLabel(o,{relative:!0}),{title:this._uriLabel.getUriLabel(i.uri),matches:n});let r=i.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(_("referencesCount","{0} references",r)):this.badge.setTitleFormat(_("referenceCount","{0} reference",r))}};jT=ID([Ew(1,zh),Ew(2,eo)],jT);var fv=class Mj{constructor(i){this._instantiationService=i,this.templateId=Mj.id}renderTemplate(i){return this._instantiationService.createInstance(jT,i)}renderElement(i,n,o){o.set(i.element,Zg(i.filterData))}disposeTemplate(i){i.dispose()}};fv.id="FileReferencesRenderer";fv=ID([Ew(0,hi)],fv);var WT=class{constructor(i){this.label=new gz(i,!1)}set(i,n){var o;let r=(o=i.parent.getPreview(i))===null||o===void 0?void 0:o.preview(i.range);if(!r||!r.value)this.label.set(`${Br(i.uri)}:${i.range.startLineNumber+1}:${i.range.startColumn+1}`);else{let{value:s,highlight:l}=r;n&&!Xg.isDefault(n)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(s,Zg(n))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(s,[l]))}}},UT=(()=>{class e{constructor(){this.templateId=e.id}renderTemplate(n){return new WT(n)}renderElement(n,o,r){r.set(n.element,n.filterData)}disposeTemplate(){}}return e.id="OneReferenceRenderer",e})(),kD=class{getWidgetAriaLabel(){return _("treeAriaLabel","References")}getAriaLabel(i){return i.ariaMessage}};Pt();wn();vn();Oi();FQ();us();var Vae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Op=function(e,i){return function(n,o){i(n,o,e)}},kj=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},RD=class e{constructor(i,n){this._editor=i,this._model=n,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Xe,this._callOnModelChange=new Xe,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();let i=this._editor.getModel();if(i){for(let n of this._model.references)if(n.uri.toString()===i.uri.toString()){this._addDecorations(n.parent);return}}}_addDecorations(i){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));let n=[],o=[];for(let s=0,l=i.children.length;s<l;s++){let c=i.children[s];this._decorationIgnoreSet.has(c.id)||c.uri.toString()===this._editor.getModel().uri.toString()&&(n.push({range:c.range,options:e.DecorationOptions}),o.push(s))}let r=this._editor.deltaDecorations([],n);for(let s=0;s<r.length;s++)this._decorations.set(r[s],i.children[o[s]])}_onDecorationChanged(){let i=[],n=this._editor.getModel();if(n){for(let[o,r]of this._decorations){let s=n.getDecorationRange(o);if(!s)continue;let l=!1;if(!Ie.equalsRange(s,r.range)){if(Ie.spansMultipleLines(s))l=!0;else{let c=r.range.endColumn-r.range.startColumn,d=s.endColumn-s.startColumn;c!==d&&(l=!0)}l?(this._decorationIgnoreSet.add(r.id),i.push(o)):r.range=s}}for(let o=0,r=i.length;o<r;o++)this._decorations.delete(i[o]);this._editor.deltaDecorations(i,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}};RD.DecorationOptions=ni.register({stickiness:1,className:"reference-decoration"});var AD=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(i){let n,o;try{let r=JSON.parse(i);n=r.ratio,o=r.heightInLines}catch{}return{ratio:n||.7,heightInLines:o||18}}},$T=class extends hz{},TD=class extends uv{constructor(i,n,o,r,s,l,c,d,u,h){super(i,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},l),this._defaultTreeKeyboardSupport=n,this.layoutData=o,this._textModelResolverService=s,this._instantiationService=l,this._peekViewService=c,this._uriLabel=d,this._undoRedoService=u,this._keybindingService=h,this._disposeOnNewModel=new Xe,this._callOnDispose=new Xe,this._onDidSelectReference=new vt,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new Dn(0,0),this._applyTheme(r.getColorTheme()),this._callOnDispose.add(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(i,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Un(this._preview),Un(this._previewNotAvailableMessage),Un(this._tree),Un(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(i){let n=i.getColor(nj)||fi.transparent;this.style({arrowColor:n,frameColor:n,headerBackgroundColor:i.getColor(ij)||fi.transparent,primaryHeadingColor:i.getColor(pD),secondaryHeadingColor:i.getColor(fD)})}show(i){this.editor.revealRangeInCenterIfOutsideViewport(i,0),super.show(i,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(i){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:i.ctrlKey||i.metaKey||i.altKey?"side":"open",source:"title"})}_fillBody(i){this.setCssClass("reference-zone-widget"),this._messageContainer=ct(i,ut("div.messages")),_o(this._messageContainer),this._splitView=new uz(i,{orientation:1}),this._previewContainer=ct(i,ut("div.preview.inline"));let n={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(gl,this._previewContainer,n,this.editor),_o(this._previewContainer),this._previewNotAvailableMessage=new il(_("missingPreviewMessage","no preview available"),il.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=ct(i,ut("div.ref-tree.inline"));let o={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new kD,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ED),identityProvider:new MD,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:wT}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(ls(this._treeContainer,"keydown",s=>{s.equals(9)&&(this._keybindingService.dispatchEvent(s,s.target),s.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance($T,"ReferencesWidget",this._treeContainer,new DD,[this._instantiationService.createInstance(fv),this._instantiationService.createInstance(UT)],this._instantiationService.createInstance(_D),o),this._splitView.addView({onDidChange:xo.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:s=>{this._preview.layout({height:this._dim.height,width:s})}},S2.Distribute),this._splitView.addView({onDidChange:xo.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:s=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${s}px`,this._tree.layout(this._dim.height,s)}},S2.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let r=(s,l)=>{s instanceof ms&&(l==="show"&&this._revealReference(s,!1),this._onDidSelectReference.fire({element:s,kind:l,source:"tree"}))};this._tree.onDidOpen(s=>{s.sideBySide?r(s.element,"side"):s.editorOptions.pinned?r(s.element,"goto"):r(s.element,"show")}),_o(this._treeContainer)}_onWidth(i){this._dim&&this._doLayoutBody(this._dim.height,i)}_doLayoutBody(i,n){super._doLayoutBody(i,n),this._dim=new Dn(n,i),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)}setSelection(i){return this._revealReference(i,!0).then(()=>{this._model&&(this._tree.setSelection([i]),this._tree.setFocus([i]))})}setModel(i){return this._disposeOnNewModel.clear(),this._model=i,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=_("noResults","No results"),jo(this._messageContainer),Promise.resolve(void 0)):(_o(this._messageContainer),this._decorationsManager=new RD(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(i=>this._tree.rerender(i))),this._disposeOnNewModel.add(this._preview.onMouseDown(i=>{let{event:n,target:o}=i;if(n.detail!==2)return;let r=this._getFocusedReference();r&&this._onDidSelectReference.fire({element:{uri:r.uri,range:o.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),jo(this._treeContainer),jo(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){let[i]=this._tree.getFocus();if(i instanceof ms)return i;if(i instanceof ih&&i.children.length>0)return i.children[0]}revealReference(i){return kj(this,void 0,void 0,function*(){yield this._revealReference(i,!1),this._onDidSelectReference.fire({element:i,kind:"goto",source:"tree"})})}_revealReference(i,n){return kj(this,void 0,void 0,function*(){if(this._revealedReference===i)return;this._revealedReference=i,i.uri.scheme!==co.inMemory?this.setTitle(yS(i.uri),this._uriLabel.getUriLabel(Bf(i.uri))):this.setTitle(_("peekView.alternateTitle","References"));let o=this._textModelResolverService.createModelReference(i.uri);this._tree.getInput()===i.parent?this._tree.reveal(i):(n&&this._tree.reveal(i.parent),yield this._tree.expand(i.parent),this._tree.reveal(i));let r=yield o;if(!this._model){r.dispose();return}Un(this._previewModelReference);let s=r.object;if(s){let l=this._preview.getModel()===s.textEditorModel?0:1,c=Ie.lift(i.range).collapseToStart();this._previewModelReference=r,this._preview.setModel(s.textEditorModel),this._preview.setSelection(c),this._preview.revealRangeInCenter(c,l)}else this._preview.setModel(this._previewNotAvailableMessage),r.dispose()})}};TD=Vae([Op(3,eo),Op(4,jr),Op(5,hi),Op(6,CT),Op(7,zh),Op(8,q5),Op(9,En)],TD);ii((e,i)=>{let n=e.getColor(cj);n&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${n}; }`);let o=e.getColor(dj);o&&i.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${o}; }`);let r=e.getColor(uj);r&&i.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${r}; box-sizing: border-box; }`);let s=e.getColor(Du);s&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${s}; box-sizing: border-box; }`);let l=e.getColor(wT);l&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${l}; }`);let c=e.getColor(oj);c&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${c}; }`);let d=e.getColor(rj);d&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${d}; }`);let u=e.getColor(sj);u&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${u}; }`);let h=e.getColor(aj);h&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${h} !important; }`);let g=e.getColor(vw);g&&i.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${g};}`);let p=e.getColor(lj);p&&i.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${p};}`)});Bt();Jn();ln();zS();kl();Do();var Hae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},mv=function(e,i){return function(n,o){i(n,o,e)}},Ij=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},zp=new ei("referenceSearchVisible",!1,_("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),Jl=class qT{constructor(i,n,o,r,s,l,c,d){this._defaultTreeKeyboardSupport=i,this._editor=n,this._editorService=r,this._notificationService=s,this._instantiationService=l,this._storageService=c,this._configurationService=d,this._disposables=new Xe,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=zp.bindTo(o)}static get(i){return i.getContribution(qT.ID)}dispose(){var i,n;this._referenceSearchVisible.reset(),this._disposables.dispose(),(i=this._widget)===null||i===void 0||i.dispose(),(n=this._model)===null||n===void 0||n.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(i,n,o){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&i.containsPosition(r))return;this._peekMode=o,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));let s="peekViewLayout",l=AD.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(TD,this._editor,this._defaultTreeKeyboardSupport,l),this._widget.setTitle(_("labelLoading","Loading...")),this._widget.show(i),this._disposables.add(this._widget.onDidClose(()=>{n.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(d=>{let{element:u,kind:h}=d;if(u)switch(h){case"open":(d.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(u,!1,!1);break;case"side":this.openReference(u,!0,!1);break;case"goto":o?this._gotoReference(u):this.openReference(u,!1,!0);break}}));let c=++this._requestIdPool;n.then(d=>{var u;if(c!==this._requestIdPool||!this._widget){d.dispose();return}return(u=this._model)===null||u===void 0||u.dispose(),this._model=d,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let h=this._editor.getModel().uri,g=new _t(i.startLineNumber,i.startColumn),p=this._model.nearestReference(h,g);if(p)return this._widget.setSelection(p).then(()=>{this._widget&&this._editor.getOption(73)==="editor"&&this._widget.focusOnPreviewEditor()})}})},d=>{this._notificationService.error(d)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(i){return Ij(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let n=this._widget.position;if(!n)return;let o=this._model.nearestReference(this._editor.getModel().uri,n);if(!o)return;let r=this._model.nextOrPreviousReference(o,i),s=this._editor.hasTextFocus(),l=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(r),yield this._gotoReference(r),s?this._editor.focus():this._widget&&l&&this._widget.focusOnPreviewEditor()})}revealReference(i){return Ij(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(i))})}closeWidget(i=!0){var n,o;(n=this._widget)===null||n===void 0||n.dispose(),(o=this._model)===null||o===void 0||o.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,i&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(i){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;let n=Ie.lift(i.range).collapseToStart();return this._editorService.openCodeEditor({resource:i.uri,options:{selection:n}},this._editor).then(o=>{var r;if(this._ignoreModelChangeEvent=!1,!o||!this._widget){this.closeWidget();return}if(this._editor===o)this._widget.show(n),this._widget.focusOnReferenceTree();else{let s=qT.get(o),l=this._model.clone();this.closeWidget(),o.focus(),s.toggleWidget(n,ji(c=>Promise.resolve(l)),(r=this._peekMode)!==null&&r!==void 0?r:!1)}},o=>{this._ignoreModelChangeEvent=!1,Ut(o)})}openReference(i,n,o){n||this.closeWidget();let{uri:r,range:s}=i;this._editorService.openCodeEditor({resource:r,options:{selection:s,pinned:o}},this._editor,n)}};Jl.ID="editor.contrib.referencesController";Jl=Hae([mv(2,Wt),mv(3,Ii),mv(4,bn),mv(5,hi),mv(6,br),mv(7,Is)],Jl);function Bp(e,i){let n=tj(e);if(!n)return;let o=Jl.get(n);o&&i(o)}lr.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:an(2089,60),when:st.or(zp,Bo.inPeekEditor),handler(e){Bp(e,i=>{i.changeFocusBetweenPreviewAndReferences()})}});lr.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:st.or(zp,Bo.inPeekEditor),handler(e){Bp(e,i=>{i.goToNextOrPreviousReference(!0)})}});lr.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:st.or(zp,Bo.inPeekEditor),handler(e){Bp(e,i=>{i.goToNextOrPreviousReference(!1)})}});xi.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");xi.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");xi.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");xi.registerCommand("closeReferenceSearch",e=>Bp(e,i=>i.closeWidget()));lr.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:st.and(Bo.inPeekEditor,st.not("config.editor.stablePeek"))});lr.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:st.and(zp,st.not("config.editor.stablePeek"))});lr.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:st.and(zp,x2),handler(e){var i;let o=(i=e.get(v1).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(o)&&o[0]instanceof ms&&Bp(e,r=>r.revealReference(o[0]))}});lr.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:st.and(zp,x2),handler(e){var i;let o=(i=e.get(v1).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(o)&&o[0]instanceof ms&&Bp(e,r=>r.openReference(o[0],!0,!0))}});xi.registerCommand("openReference",e=>{var i;let o=(i=e.get(v1).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(o)&&o[0]instanceof ms&&Bp(e,r=>r.openReference(o[0],!1,!0))});Pt();wr();Ti();Qg();Do();Kg();Ti();wn();X0();zS();$t();Ho();Bt();bt();en();Pt();us();Es();var Rj=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Mw=function(e,i){return function(n,o){i(n,o,e)}},QT=new ei("hasSymbols",!1,_("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),kw=Il("ISymbolNavigationService"),KT=class{constructor(i,n,o,r){this._editorService=n,this._notificationService=o,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=QT.bindTo(i)}reset(){var i,n;this._ctxHasSymbols.reset(),(i=this._currentState)===null||i===void 0||i.dispose(),(n=this._currentMessage)===null||n===void 0||n.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(i){let n=i.parent.parent;if(n.references.length<=1){this.reset();return}this._currentModel=n,this._currentIdx=n.references.indexOf(i),this._ctxHasSymbols.set(!0),this._showMessage();let o=new YT(this._editorService),r=o.onDidChange(s=>{if(this._ignoreEditorChange)return;let l=this._editorService.getActiveCodeEditor();if(!l)return;let c=l.getModel(),d=l.getPosition();if(!c||!d)return;let u=!1,h=!1;for(let g of n.references)if(bS(g.uri,c.uri))u=!0,h=h||Ie.containsPosition(g.range,d);else if(u)break;(!u||!h)&&this.reset()});this._currentState=R0(o,r)}revealNext(i){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;let n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:Ie.collapseToStart(n.range),selectionRevealType:3}},i).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var i;(i=this._currentMessage)===null||i===void 0||i.dispose();let n=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=n?_("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,n.getLabel()):_("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};KT=Rj([Mw(0,Wt),Mw(1,Ii),Mw(2,bn),Mw(3,En)],KT);Pl(kw,KT,!0);pt(new class extends Tn{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:QT,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,i){return e.get(kw).revealNext(i)}});lr.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:QT,primary:9,handler(e){e.get(kw).reset()}});var YT=class{constructor(i){this._listener=new Map,this._disposables=new Xe,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._disposables.add(i.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(i.onCodeEditorAdd(this._onDidAddEditor,this)),i.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),Un(this._listener.values())}_onDidAddEditor(i){this._listener.set(i,R0(i.onDidChangeCursorPosition(n=>this._onDidChange.fire({editor:i})),i.onDidChangeModelContent(n=>this._onDidChange.fire({editor:i}))))}_onDidRemoveEditor(i){var n;(n=this._listener.get(i))===null||n===void 0||n.dispose(),this._listener.delete(i)}};YT=Rj([Mw(0,Ii)],YT);fS();To();wn();Fo();var js=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},ZT,XT,JT,eF,tF,iF,nF,oF;tl.appendMenuItem(Vt.EditorContext,{submenu:Vt.EditorContextPeek,title:_("peek.submenu","Peek"),group:"navigation",order:100});var Aj=new Set;function fl(e){let i=new e;return US(i),Aj.add(i.id),i}var cg=class extends it{constructor(i,n){super(n),this._configuration=i}run(i,n){if(!n.hasModel())return Promise.resolve(void 0);let o=i.get(bn),r=i.get(Ii),s=i.get(Ru),l=i.get(kw),c=n.getModel(),d=n.getPosition(),u=new J0(n,5),h=mS(this._getLocationModel(c,d,u.token),u.token).then(g=>js(this,void 0,void 0,function*(){if(!g||u.token.isCancellationRequested)return;Yn(g.ariaMessage);let p;if(g.referenceAt(c.uri,d)){let y=this._getAlternativeCommand(n);y!==this.id&&Aj.has(y)&&(p=n.getAction(y))}let f=g.references.length;if(f===0){if(!this._configuration.muteMessage){let y=c.getWordAtPosition(d);zo.get(n).showMessage(this._getNoResultFoundMessage(y),d)}}else if(f===1&&p)p.run();else return this._onResult(r,l,n,g)}),g=>{o.error(g)}).finally(()=>{u.dispose()});return s.showWhile(h,250),h}_onResult(i,n,o,r){return js(this,void 0,void 0,function*(){let s=this._getGoToPreference(o);if(!(o instanceof gl)&&(this._configuration.openInPeek||s==="peek"&&r.references.length>1))this._openInPeek(o,r);else{let l=r.firstReference(),c=r.references.length>1&&s==="gotoAndPeek",d=yield this._openReference(o,i,l,this._configuration.openToSide,!c);c&&d?this._openInPeek(d,r):r.dispose(),s==="goto"&&n.put(l)}})}_openReference(i,n,o,r,s){return js(this,void 0,void 0,function*(){let l;if(x8(o)&&(l=o.targetSelectionRange),l||(l=o.range),!l)return;let c=yield n.openCodeEditor({resource:o.uri,options:{selection:Ie.collapseToStart(l),selectionRevealType:3}},i,r);if(c){if(s){let d=c.getModel(),u=c.deltaDecorations([],[{range:l,options:{className:"symbolHighlight"}}]);setTimeout(()=>{c.getModel()===d&&c.deltaDecorations(u,[])},350)}return c}})}_openInPeek(i,n){let o=Jl.get(i);o&&i.hasModel()?o.toggleWidget(i.getSelection(),ji(r=>Promise.resolve(n)),this._configuration.openInPeek):n.dispose()}},Vp=class extends cg{_getLocationModel(i,n,o){return js(this,void 0,void 0,function*(){return new fr(yield xw(i,n,o),_("def.title","Definitions"))})}_getNoResultFoundMessage(i){return i&&i.word?_("noResultWord","No definition found for '{0}'",i.word):_("generic.noResults","No definition found")}_getAlternativeCommand(i){return i.getOption(47).alternativeDefinitionCommand}_getGoToPreference(i){return i.getOption(47).multipleDefinitions}},Tj=dS&&!z4?2118:70;fl((ZT=class rF extends Vp{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:rF.id,label:_("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:st.and(Me.hasDefinitionProvider,Me.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Me.editorTextFocus,primary:Tj,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:Vt.MenubarGoMenu,group:"4_symbol_nav",order:2,title:_({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}}),xi.registerCommandAlias("editor.action.goToDeclaration",rF.id)}},ZT.id="editor.action.revealDefinition",ZT));fl((XT=class sF extends Vp{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:sF.id,label:_("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:st.and(Me.hasDefinitionProvider,Me.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,Tj),weight:100}}),xi.registerCommandAlias("editor.action.openDeclarationToTheSide",sF.id)}},XT.id="editor.action.revealDefinitionAside",XT));fl((JT=class aF extends Vp{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:aF.id,label:_("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:st.and(Me.hasDefinitionProvider,Bo.notInPeekEditor,Me.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Me.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Vt.EditorContextPeek,group:"peek",order:2}}),xi.registerCommandAlias("editor.action.previewDeclaration",aF.id)}},JT.id="editor.action.peekDefinition",JT));var FD=class extends cg{_getLocationModel(i,n,o){return js(this,void 0,void 0,function*(){return new fr(yield VT(i,n,o),_("decl.title","Declarations"))})}_getNoResultFoundMessage(i){return i&&i.word?_("decl.noResultWord","No declaration found for '{0}'",i.word):_("decl.generic.noResults","No declaration found")}_getAlternativeCommand(i){return i.getOption(47).alternativeDeclarationCommand}_getGoToPreference(i){return i.getOption(47).multipleDeclarations}};fl((eF=class Fj extends FD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Fj.id,label:_("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:st.and(Me.hasDeclarationProvider,Me.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:Vt.MenubarGoMenu,group:"4_symbol_nav",order:3,title:_({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}_getNoResultFoundMessage(i){return i&&i.word?_("decl.noResultWord","No declaration found for '{0}'",i.word):_("decl.generic.noResults","No declaration found")}},eF.id="editor.action.revealDeclaration",eF));fl(class extends FD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:st.and(Me.hasDeclarationProvider,Bo.notInPeekEditor,Me.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Vt.EditorContextPeek,group:"peek",order:3}})}});var PD=class extends cg{_getLocationModel(i,n,o){return js(this,void 0,void 0,function*(){return new fr(yield GT(i,n,o),_("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(i){return i&&i.word?_("goToTypeDefinition.noResultWord","No type definition found for '{0}'",i.word):_("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(i){return i.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(i){return i.getOption(47).multipleTypeDefinitions}};fl((tF=class Pj extends PD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Pj.ID,label:_("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:st.and(Me.hasTypeDefinitionProvider,Me.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Me.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:Vt.MenubarGoMenu,group:"4_symbol_nav",order:3,title:_({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}},tF.ID="editor.action.goToTypeDefinition",tF));fl((iF=class Lj extends PD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Lj.ID,label:_("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:st.and(Me.hasTypeDefinitionProvider,Bo.notInPeekEditor,Me.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Vt.EditorContextPeek,group:"peek",order:4}})}},iF.ID="editor.action.peekTypeDefinition",iF));var LD=class extends cg{_getLocationModel(i,n,o){return js(this,void 0,void 0,function*(){return new fr(yield HT(i,n,o),_("impl.title","Implementations"))})}_getNoResultFoundMessage(i){return i&&i.word?_("goToImplementation.noResultWord","No implementation found for '{0}'",i.word):_("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(i){return i.getOption(47).alternativeImplementationCommand}_getGoToPreference(i){return i.getOption(47).multipleImplementations}};fl((nF=class Nj extends LD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Nj.ID,label:_("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:st.and(Me.hasImplementationProvider,Me.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Me.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:Vt.MenubarGoMenu,group:"4_symbol_nav",order:4,title:_({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}},nF.ID="editor.action.goToImplementation",nF));fl((oF=class Oj extends LD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Oj.ID,label:_("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:st.and(Me.hasImplementationProvider,Bo.notInPeekEditor,Me.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Me.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Vt.EditorContextPeek,group:"peek",order:5}})}},oF.ID="editor.action.peekImplementation",oF));var ND=class extends cg{_getNoResultFoundMessage(i){return i?_("references.no","No references found for '{0}'",i.word):_("references.noGeneric","No references found")}_getAlternativeCommand(i){return i.getOption(47).alternativeReferenceCommand}_getGoToPreference(i){return i.getOption(47).multipleReferences}};fl(class extends ND{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_("goToReferences.label","Go to References"),alias:"Go to References",precondition:st.and(Me.hasReferenceProvider,Bo.notInPeekEditor,Me.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Me.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:Vt.MenubarGoMenu,group:"4_symbol_nav",order:5,title:_({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}_getLocationModel(i,n,o){return js(this,void 0,void 0,function*(){return new fr(yield _w(i,n,!0,o),_("ref.title","References"))})}});fl(class extends ND{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_("references.action.label","Peek References"),alias:"Peek References",precondition:st.and(Me.hasReferenceProvider,Bo.notInPeekEditor,Me.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Vt.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(i,n,o){return js(this,void 0,void 0,function*(){return new fr(yield _w(i,n,!1,o),_("ref.title","References"))})}});var lF=class extends cg{constructor(i,n,o){super(i,{id:"editor.action.goToLocation",label:_("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:st.and(Bo.notInPeekEditor,Me.isInWalkThroughSnippet.toNegated())}),this._references=n,this._gotoMultipleBehaviour=o}_getLocationModel(i,n,o){return js(this,void 0,void 0,function*(){return new fr(this._references,_("generic.title","Locations"))})}_getNoResultFoundMessage(i){return i&&_("generic.noResult","No results for '{0}'",i.word)||""}_getGoToPreference(i){var n;return(n=this._gotoMultipleBehaviour)!==null&&n!==void 0?n:i.getOption(47).multipleReferences}_getAlternativeCommand(){return""}};xi.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ci},{name:"position",description:"The position at which to start",constraint:_t.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,i,n,o,r,s,l)=>js(void 0,void 0,void 0,function*(){tn(ci.isUri(i)),tn(_t.isIPosition(n)),tn(Array.isArray(o)),tn(typeof r>"u"||typeof r=="string"),tn(typeof l>"u"||typeof l=="boolean");let c=e.get(Ii),d=yield c.openCodeEditor({resource:i},c.getFocusedCodeEditor());if(r2(d))return d.setPosition(n),d.revealPositionInCenterIfOutsideViewport(n,0),d.invokeWithinContext(u=>{let h=new class extends lF{_getNoResultFoundMessage(g){return s||super._getNoResultFoundMessage(g)}}({muteMessage:!s,openInPeek:!!l,openToSide:!1},o,r);u.get(hi).invokeFunction(h.run.bind(h),d)})})});xi.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ci},{name:"position",description:"The position at which to start",constraint:_t.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,i,n,o,r)=>js(void 0,void 0,void 0,function*(){e.get(Wo).executeCommand("editor.action.goToLocations",i,n,o,r,void 0,!0)})});xi.registerCommand({id:"editor.action.findReferences",handler:(e,i,n)=>{tn(ci.isUri(i)),tn(_t.isIPosition(n));let o=e.get(Ii);return o.openCodeEditor({resource:i},o.getFocusedCodeEditor()).then(r=>{if(!r2(r)||!r.hasModel())return;let s=Jl.get(r);if(!s)return;let l=ji(d=>_w(r.getModel(),_t.lift(n),!1,d).then(u=>new fr(u,_("ref.title","References")))),c=new Ie(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(s.toggleWidget(c,l,!1))})}});xi.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");bt();en();wa();function cF(e,i){return!!e[i]}var Iw=class{constructor(i,n){this.target=i.target,this.hasTriggerModifier=cF(i.event,n.triggerModifier),this.hasSideBySideModifier=cF(i.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}},OD=class{constructor(i,n){this.keyCodeIsTriggerKey=i.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=cF(i,n.triggerModifier)}},vv=class{constructor(i,n,o,r){this.triggerKey=i,this.triggerModifier=n,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=r}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}};function zj(e){return e==="altKey"?rr?new vv(57,"metaKey",6,"altKey"):new vv(5,"ctrlKey",6,"altKey"):rr?new vv(6,"altKey",57,"metaKey"):new vv(6,"altKey",5,"ctrlKey")}var Cv=class extends yt{constructor(i){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new vt),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new vt),this.onExecute=this._onExecute.event,this._onCancel=this._register(new vt),this.onCancel=this._onCancel.event,this._editor=i,this._opts=zj(this._editor.getOption(66)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(66)){let o=zj(this._editor.getOption(66));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new Iw(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new Iw(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new Iw(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new OD(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new OD(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){let n=i.target.position?i.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}};Jn();Fo();Ti();var Gae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Bj=function(e,i){return function(n,o){i(n,o,e)}},dg=class Rw{constructor(i,n,o){this.textModelResolverService=n,this.modeService=o,this.toUnhook=new Xe,this.toUnhookForKeyboard=new Xe,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=i;let r=new Cv(i);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(([s,l])=>{this.startFindDefinitionFromMouse(s,Vr(l))})),this.toUnhook.add(r.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},l=>{this.removeLinkDecorations(),Ut(l)})})),this.toUnhook.add(r.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(i){return i.getContribution(Rw.ID)}startFindDefinitionFromCursor(i){return this.startFindDefinition(i).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(n=>{n&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(i,n){if(i.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(i,n)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let o=i.target.position;this.startFindDefinition(o)}startFindDefinition(i){var n;this.toUnhookForKeyboard.clear();let o=i?(n=this.editor.getModel())===null||n===void 0?void 0:n.getWordAtPosition(i):null;if(!o)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===o.startColumn&&this.currentWordAtPosition.endColumn===o.endColumn&&this.currentWordAtPosition.word===o.word)return Promise.resolve(0);this.currentWordAtPosition=o;let r=new g1(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=ji(s=>this.findDefinition(i,s)),this.previousPromise.then(s=>{if(!s||!s.length||!r.validate(this.editor)){this.removeLinkDecorations();return}if(s.length>1)this.addDecoration(new Ie(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn),new Qo().appendText(_("multipleResults","Click to show {0} definitions.",s.length)));else{let l=s[0];if(!l.uri)return;this.textModelResolverService.createModelReference(l.uri).then(c=>{if(!c.object||!c.object.textEditorModel){c.dispose();return}let{object:{textEditorModel:d}}=c,{startLineNumber:u}=l.range;if(u<1||u>d.getLineCount()){c.dispose();return}let h=this.getPreviewValue(d,u,l),g;l.originSelectionRange?g=Ie.lift(l.originSelectionRange):g=new Ie(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn);let p=this.modeService.getModeIdByFilepathOrFirstLine(d.uri);this.addDecoration(g,new Qo().appendCodeblock(p||"",h)),c.dispose()})}}).then(void 0,Ut)}getPreviewValue(i,n,o){let r=o.targetSelectionRange?o.range:this.getPreviewRangeBasedOnBrackets(i,n);return r.endLineNumber-r.startLineNumber>=Rw.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(i,n)),this.stripIndentationFromPreviewRange(i,n,r)}stripIndentationFromPreviewRange(i,n,o){let s=i.getLineFirstNonWhitespaceColumn(n);for(let c=n+1;c<o.endLineNumber;c++){let d=i.getLineFirstNonWhitespaceColumn(c);s=Math.min(s,d)}return i.getValueInRange(o).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(i,n){let o=i.getLineFirstNonWhitespaceColumn(n),r=Math.min(i.getLineCount(),n+Rw.MAX_SOURCE_PREVIEW_LINES),s=n+1;for(;s<r;s++){let l=i.getLineFirstNonWhitespaceColumn(s);if(o===l)break}return new Ie(n,1,s+1,1)}getPreviewRangeBasedOnBrackets(i,n){let o=Math.min(i.getLineCount(),n+Rw.MAX_SOURCE_PREVIEW_LINES),r=[],s=!0,l=i.findNextBracket(new _t(n,1));for(;l!==null;){if(r.length===0)r.push(l);else{let h=r[r.length-1];if(h.open[0]===l.open[0]&&h.isOpen&&!l.isOpen?r.pop():r.push(l),r.length===0)if(s)s=!1;else return new Ie(n,1,l.range.endLineNumber+1,1)}let c=i.getLineMaxColumn(n),d=l.range.endLineNumber,u=l.range.endColumn;if(c===l.range.endColumn&&(d++,u=1),d>o)return new Ie(n,1,o+1,1);l=i.findNextBracket(new _t(d,u))}return new Ie(n,1,o+1,1)}addDecoration(i,n){let o={range:i,options:{inlineClassName:"goto-definition-link",hoverMessage:n}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[o])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(i,n){return this.editor.hasModel()&&i.isNoneOrSingleMouseDown&&i.target.type===6&&(i.hasTriggerModifier||(n?n.keyCodeIsTriggerKey:!1))&&IS.has(this.editor.getModel())}findDefinition(i,n){let o=this.editor.getModel();return o?xw(o,i,n):Promise.resolve(null)}gotoDefinition(i,n){return this.editor.setPosition(i),this.editor.invokeWithinContext(o=>{let r=!n&&this.editor.getOption(74)&&!this.isInPeekEditor(o);return new Vp({openToSide:n,openInPeek:r,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(o,this.editor)})}isInPeekEditor(i){let n=i.get(Wt);return Bo.inPeekEditor.getValue(n)}dispose(){this.toUnhook.dispose()}};dg.ID="editor.contrib.gotodefinitionatposition";dg.MAX_SOURCE_PREVIEW_LINES=8;dg=Gae([Bj(1,jr),Bj(2,ar)],dg);Dt(dg.ID,dg);ii((e,i)=>{let n=e.getColor(im);n&&i.addRule(`.monaco-editor .goto-definition-link { color: ${n} !important; }`)});Ti();wn();var jae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Aw=function(e,i){return function(n,o){i(n,o,e)}},nh=class Vj{constructor(i,n,o,r,s,l){this._editor=i,this._instantiationService=n,this._openerService=o,this._modeService=r,this._themeService=s,this._toUnhook=new Xe,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(c=>{c.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=Me.hoverVisible.bindTo(l)}static get(i){return i.getContribution(Vj.ID)}_hookEvents(){let i=()=>this._hideWidgets(),n=this._editor.getOption(50);this._isHoverEnabled=n.enabled,this._isHoverSticky=n.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(o=>this._onEditorMouseDown(o))),this._toUnhook.add(this._editor.onMouseUp(o=>this._onEditorMouseUp(o))),this._toUnhook.add(this._editor.onMouseMove(o=>this._onEditorMouseMove(o))),this._toUnhook.add(this._editor.onKeyDown(o=>this._onKeyDown(o))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(o=>this._onEditorMouseMove(o))),this._toUnhook.add(this._editor.onKeyDown(o=>this._onKeyDown(o)))),this._toUnhook.add(this._editor.onMouseLeave(i)),this._toUnhook.add(this._editor.onDidChangeModel(i)),this._toUnhook.add(this._editor.onDidScrollChange(o=>this._onEditorScrollChanged(o)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var i,n;(i=this._contentWidget)===null||i===void 0||i.onModelDecorationsChanged(),(n=this._glyphWidget)===null||n===void 0||n.onModelDecorationsChanged()}_onEditorScrollChanged(i){(i.scrollTopChanged||i.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(i){this._isMouseDown=!0;let n=i.target.type;if(n===9&&i.target.detail===Zl.ID){this._hoverClicked=!0;return}n===12&&i.target.detail===yw.ID||(n!==12&&i.target.detail!==yw.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(i){this._isMouseDown=!1}_onEditorMouseMove(i){var n,o,r,s,l,c;let d=i.target.type;if(!(this._isMouseDown&&this._hoverClicked)&&!(this._isHoverSticky&&d===9&&i.target.detail===Zl.ID)&&!(this._isHoverSticky&&!(!((o=(n=i.event.browserEvent.view)===null||n===void 0?void 0:n.getSelection())===null||o===void 0)&&o.isCollapsed))&&!(!this._isHoverSticky&&d===9&&i.target.detail===Zl.ID&&(!((r=this._contentWidget)===null||r===void 0)&&r.isColorPickerVisible()))&&!(this._isHoverSticky&&d===12&&i.target.detail===yw.ID)){if(d===7){let u=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,h=i.target.detail;h&&!h.isAfterLines&&typeof h.horizontalDistanceToText=="number"&&h.horizontalDistanceToText<u&&(d=6)}if(d===6){if((s=this._glyphWidget)===null||s===void 0||s.hide(),this._isHoverEnabled&&i.target.range){let h=[...((l=i.target.element)===null||l===void 0?void 0:l.classList.values())||[]].find(g=>g.startsWith("ced-colorBox"))&&i.target.range.endColumn-i.target.range.startColumn===1?new Ie(i.target.range.startLineNumber,i.target.range.startColumn+1,i.target.range.endLineNumber,i.target.range.endColumn+1):i.target.range;this._contentWidget||(this._contentWidget=new Zl(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(h,0,!1)}}else d===2?((c=this._contentWidget)===null||c===void 0||c.hide(),this._isHoverEnabled&&i.target.position&&(this._glyphWidget||(this._glyphWidget=new yw(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(i.target.position.lineNumber))):this._hideWidgets()}}_onKeyDown(i){i.keyCode!==5&&i.keyCode!==6&&i.keyCode!==57&&i.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var i,n,o;this._isMouseDown&&this._hoverClicked&&(!((i=this._contentWidget)===null||i===void 0)&&i.isColorPickerVisible())||(this._hoverClicked=!1,(n=this._glyphWidget)===null||n===void 0||n.hide(),(o=this._contentWidget)===null||o===void 0||o.hide())}isColorPickerVisible(){var i;return((i=this._contentWidget)===null||i===void 0?void 0:i.isColorPickerVisible())||!1}showContentHover(i,n,o){this._contentWidget||(this._contentWidget=new Zl(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(i,n,o)}dispose(){var i,n;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(i=this._glyphWidget)===null||i===void 0||i.dispose(),(n=this._contentWidget)===null||n===void 0||n.dispose()}};nh.ID="editor.contrib.hover";nh=jae([Aw(1,hi),Aw(2,sr),Aw(3,ar),Aw(4,eo),Aw(5,Wt)],nh);var dF=class extends it{constructor(){super({id:"editor.action.showHover",label:_({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2087),weight:100}})}run(i,n){if(!n.hasModel())return;let o=nh.get(n);if(!o)return;let r=n.getPosition(),s=new Ie(r.lineNumber,r.column,r.lineNumber,r.column),l=n.getOption(2)===2;o.showContentHover(s,1,l)}},uF=class extends it{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:_({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(i,n){let o=nh.get(n);if(!o)return;let r=n.getPosition();if(!r)return;let s=new Ie(r.lineNumber,r.column,r.lineNumber,r.column);dg.get(n).startFindDefinitionFromCursor(r).then(()=>{o.showContentHover(s,1,!0)})}};Dt(nh.ID,nh);Ue(dF);Ue(uF);ii((e,i)=>{let n=e.getColor(y5);n&&i.addRule(`.monaco-editor .hoverHighlight { background-color: ${n}; }`);let o=e.getColor(Eu);o&&i.addRule(`.monaco-editor .monaco-hover { background-color: ${o}; }`);let r=e.getColor(tm);r&&(i.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${r}; }`),i.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${r.transparent(.5)}; }`),i.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${r.transparent(.5)}; }`),i.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${r.transparent(.5)}; }`));let s=e.getColor(Fl);s&&i.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);let l=e.getColor(em);l&&i.addRule(`.monaco-editor .monaco-hover { color: ${l}; }`);let c=e.getColor(S5);c&&i.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${c}; }`);let d=e.getColor(Zf);d&&i.addRule(`.monaco-editor .monaco-hover code { background-color: ${d}; }`)});Bt();var Hj=(()=>{class e extends yt{constructor(n){super(),this._editor=n,this._register(n.onMouseDown(o=>this.onMouseDown(o)))}dispose(){super.dispose()}onMouseDown(n){var o;if(n.target.type!==6||![...((o=n.target.element)===null||o===void 0?void 0:o.classList.values())||[]].find(c=>c.startsWith("ced-colorBox"))||!n.target.range)return;let l=this._editor.getContribution(nh.ID);if(!l.isColorPickerVisible()){let c=new Ie(n.target.range.startLineNumber,n.target.range.startColumn+1,n.target.range.endLineNumber,n.target.range.endColumn+1);l.showContentHover(c,0,!1)}}}return e.ID="editor.contrib.colorContribution",e})();Dt(Hj.ID,Hj);Pt();kl();$t();Bt();Yi();Ah();Jn();Bt();lo();Su();var oh=class e{constructor(i,n){this._selection=i,this._insertSpace=n,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,n,o){if(o<0)return!1;let r=n.length,s=i.length;if(o+r>s)return!1;for(let l=0;l<r;l++){let c=i.charCodeAt(o+l),d=n.charCodeAt(l);if(c!==d&&!(c>=65&&c<=90&&c+32===d)&&!(d>=65&&d<=90&&d+32===c))return!1}return!0}_createOperationsForBlockComment(i,n,o,r,s,l){let c=i.startLineNumber,d=i.startColumn,u=i.endLineNumber,h=i.endColumn,g=s.getLineContent(c),p=s.getLineContent(u),f=g.lastIndexOf(n,d-1+n.length),y=p.indexOf(o,h-1-o.length);if(f!==-1&&y!==-1)if(c===u)g.substring(f+n.length,y).indexOf(o)>=0&&(f=-1,y=-1);else{let k=g.substring(f+n.length),G=p.substring(0,y);(k.indexOf(o)>=0||G.indexOf(o)>=0)&&(f=-1,y=-1)}let M;f!==-1&&y!==-1?(r&&f+n.length<g.length&&g.charCodeAt(f+n.length)===32&&(n=n+" "),r&&y>0&&p.charCodeAt(y-1)===32&&(o=" "+o,y-=1),M=e._createRemoveBlockCommentOperations(new Ie(c,f+n.length+1,u,y+1),n,o)):(M=e._createAddBlockCommentOperations(i,n,o,this._insertSpace),this._usedEndToken=M.length===1?o:null);for(let k of M)l.addTrackedEditOperation(k.range,k.text)}static _createRemoveBlockCommentOperations(i,n,o){let r=[];return Ie.isEmpty(i)?r.push(nn.delete(new Ie(i.startLineNumber,i.startColumn-n.length,i.endLineNumber,i.endColumn+o.length))):(r.push(nn.delete(new Ie(i.startLineNumber,i.startColumn-n.length,i.startLineNumber,i.startColumn))),r.push(nn.delete(new Ie(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+o.length)))),r}static _createAddBlockCommentOperations(i,n,o,r){let s=[];return Ie.isEmpty(i)?s.push(nn.replace(new Ie(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),n+"  "+o)):(s.push(nn.insert(new _t(i.startLineNumber,i.startColumn),n+(r?" ":""))),s.push(nn.insert(new _t(i.endLineNumber,i.endColumn),(r?" ":"")+o))),s}getEditOperations(i,n){let o=this._selection.startLineNumber,r=this._selection.startColumn;i.tokenizeIfCheap(o);let s=i.getLanguageIdAtPosition(o,r),l=Zi.getComments(s);!l||!l.blockCommentStartToken||!l.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,l.blockCommentStartToken,l.blockCommentEndToken,this._insertSpace,i,n)}computeCursorState(i,n){let o=n.getInverseEditOperations();if(o.length===2){let r=o[0],s=o[1];return new Ct(r.range.endLineNumber,r.range.endColumn,s.range.startLineNumber,s.range.startColumn)}else{let r=o[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new Ct(r.endLineNumber,r.endColumn+s,r.endLineNumber,r.endColumn+s)}}};On();Ah();Jn();Bt();lo();Su();var zD=class e{constructor(i,n,o,r,s,l){this._selection=i,this._tabSize=n,this._type=o,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=l||!1}static _gatherPreflightCommentStrings(i,n,o){i.tokenizeIfCheap(n);let r=i.getLanguageIdAtPosition(n,1),s=Zi.getComments(r),l=s?s.lineCommentToken:null;if(!l)return null;let c=[];for(let d=0,u=o-n+1;d<u;d++)c[d]={ignore:!1,commentStr:l,commentStrOffset:0,commentStrLength:l.length};return c}static _analyzeLines(i,n,o,r,s,l,c){let d=!0,u;i===0?u=!0:i===1?u=!1:u=!0;for(let h=0,g=r.length;h<g;h++){let p=r[h],f=s+h;if(f===s&&c){p.ignore=!0;continue}let y=o.getLineContent(f),M=Gk(y);if(M===-1){p.ignore=l,p.commentStrOffset=y.length;continue}if(d=!1,p.ignore=!1,p.commentStrOffset=M,u&&!oh._haystackHasNeedleAtOffset(y,p.commentStr,M)&&(i===0?u=!1:i===1||(p.ignore=!0)),u&&n){let k=M+p.commentStrLength;k<y.length&&y.charCodeAt(k)===32&&(p.commentStrLength+=1)}}if(i===0&&d){u=!1;for(let h=0,g=r.length;h<g;h++)r[h].ignore=!1}return{supported:!0,shouldRemoveComments:u,lines:r}}static _gatherPreflightData(i,n,o,r,s,l,c){let d=e._gatherPreflightCommentStrings(o,r,s);return d===null?{supported:!1}:e._analyzeLines(i,n,o,d,r,l,c)}_executeLineComments(i,n,o,r){let s;o.shouldRemoveComments?s=e._createRemoveLineCommentsOperations(o.lines,r.startLineNumber):(e._normalizeInsertionPoint(i,o.lines,r.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(o.lines,r.startLineNumber));let l=new _t(r.positionLineNumber,r.positionColumn);for(let c=0,d=s.length;c<d;c++)n.addEditOperation(s[c].range,s[c].text),Ie.isEmpty(s[c].range)&&Ie.getStartPosition(s[c].range).equals(l)&&i.getLineContent(l.lineNumber).length+1===l.column&&(this._deltaColumn=(s[c].text||"").length);this._selectionId=n.trackSelection(r)}_attemptRemoveBlockComment(i,n,o,r){let s=n.startLineNumber,l=n.endLineNumber,c=r.length+Math.max(i.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.startColumn),d=i.getLineContent(s).lastIndexOf(o,c-1),u=i.getLineContent(l).indexOf(r,n.endColumn-1-o.length);return d!==-1&&u===-1&&(u=i.getLineContent(s).indexOf(r,d+o.length),l=s),d===-1&&u!==-1&&(d=i.getLineContent(l).lastIndexOf(o,u),s=l),n.isEmpty()&&(d===-1||u===-1)&&(d=i.getLineContent(s).indexOf(o),d!==-1&&(u=i.getLineContent(s).indexOf(r,d+o.length))),d!==-1&&i.getLineContent(s).charCodeAt(d+o.length)===32&&(o+=" "),u!==-1&&i.getLineContent(l).charCodeAt(u-1)===32&&(r=" "+r,u-=1),d!==-1&&u!==-1?oh._createRemoveBlockCommentOperations(new Ie(s,d+o.length+1,l,u+1),o,r):null}_executeBlockComment(i,n,o){i.tokenizeIfCheap(o.startLineNumber);let r=i.getLanguageIdAtPosition(o.startLineNumber,1),s=Zi.getComments(r);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;let l=s.blockCommentStartToken,c=s.blockCommentEndToken,d=this._attemptRemoveBlockComment(i,o,l,c);if(!d){if(o.isEmpty()){let u=i.getLineContent(o.startLineNumber),h=Gk(u);h===-1&&(h=u.length),d=oh._createAddBlockCommentOperations(new Ie(o.startLineNumber,h+1,o.startLineNumber,u.length+1),l,c,this._insertSpace)}else d=oh._createAddBlockCommentOperations(new Ie(o.startLineNumber,i.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.endLineNumber,i.getLineMaxColumn(o.endLineNumber)),l,c,this._insertSpace);d.length===1&&(this._deltaColumn=l.length+1)}this._selectionId=n.trackSelection(o);for(let u of d)n.addEditOperation(u.range,u.text)}getEditOperations(i,n){let o=this._selection;if(this._moveEndPositionDown=!1,o.startLineNumber===o.endLineNumber&&this._ignoreFirstLine){n.addEditOperation(new Ie(o.startLineNumber,i.getLineMaxColumn(o.startLineNumber),o.startLineNumber+1,1),o.startLineNumber===i.getLineCount()?"":`
`),this._selectionId=n.trackSelection(o);return}o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,i.getLineMaxColumn(o.endLineNumber-1)));let r=e._gatherPreflightData(this._type,this._insertSpace,i,o.startLineNumber,o.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return r.supported?this._executeLineComments(i,n,r,o):this._executeBlockComment(i,n,o)}computeCursorState(i,n){let o=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(o=o.setEndPosition(o.endLineNumber+1,1)),new Ct(o.selectionStartLineNumber,o.selectionStartColumn+this._deltaColumn,o.positionLineNumber,o.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(i,n){let o=[];for(let r=0,s=i.length;r<s;r++){let l=i[r];l.ignore||o.push(nn.delete(new Ie(n+r,l.commentStrOffset+1,n+r,l.commentStrOffset+l.commentStrLength+1)))}return o}_createAddLineCommentsOperations(i,n){let o=[],r=this._insertSpace?" ":"";for(let s=0,l=i.length;s<l;s++){let c=i[s];c.ignore||o.push(nn.insert(new _t(n+s,c.commentStrOffset+1),c.commentStr+r))}return o}static nextVisibleColumn(i,n,o,r){return o?i+(n-i%n):i+r}static _normalizeInsertionPoint(i,n,o,r){let s=1073741824,l,c;for(let d=0,u=n.length;d<u;d++){if(n[d].ignore)continue;let h=i.getLineContent(o+d),g=0;for(let p=0,f=n[d].commentStrOffset;g<s&&p<f;p++)g=e.nextVisibleColumn(g,r,h.charCodeAt(p)===9,1);g<s&&(s=g)}s=Math.floor(s/r)*r;for(let d=0,u=n.length;d<u;d++){if(n[d].ignore)continue;let h=i.getLineContent(o+d),g=0;for(l=0,c=n[d].commentStrOffset;g<s&&l<c;l++)g=e.nextVisibleColumn(g,r,h.charCodeAt(l)===9,1);g>s?n[d].commentStrOffset=l-1:n[d].commentStrOffset=l}}};wr();var Tw=class extends it{constructor(i,n){super(n),this._type=i}run(i,n){if(!n.hasModel())return;let o=n.getModel(),r=[],s=o.getOptions(),l=n.getOption(17),c=n.getSelections().map((u,h)=>({selection:u,index:h,ignoreFirstLine:!1}));c.sort((u,h)=>Ie.compareRangesUsingStarts(u.selection,h.selection));let d=c[0];for(let u=1;u<c.length;u++){let h=c[u];d.selection.endLineNumber===h.selection.startLineNumber&&(d.index<h.index?h.ignoreFirstLine=!0:(d.ignoreFirstLine=!0,d=h))}for(let u of c)r.push(new zD(u.selection,s.tabSize,this._type,l.insertSpace,l.ignoreEmptyLines,u.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}},hF=class extends Tw{constructor(){super(0,{id:"editor.action.commentLine",label:_("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Vt.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}},gF=class extends Tw{constructor(){super(1,{id:"editor.action.addCommentLine",label:_("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2081),weight:100}})}},pF=class extends Tw{constructor(){super(2,{id:"editor.action.removeCommentLine",label:_("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2099),weight:100}})}},fF=class extends it{constructor(){super({id:"editor.action.blockComment",label:_("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Vt.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(i,n){if(!n.hasModel())return;let o=n.getOption(17),r=[],s=n.getSelections();for(let l of s)r.push(new oh(l,o.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}};Ue(hF);Ue(gF);Ue(pF);Ue(fF);Pt();Ki();G0();bt();$t();Yi();wr();Ti();us();var Wae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Fw=function(e,i){return function(n,o){i(n,o,e)}},wv=class Gj{constructor(i,n,o,r,s,l){this._contextMenuService=n,this._contextViewService=o,this._contextKeyService=r,this._keybindingService=s,this._menuService=l,this._toDispose=new Xe,this._contextMenuIsBeingShownCount=0,this._editor=i,this._toDispose.add(this._editor.onContextMenu(c=>this._onContextMenu(c))),this._toDispose.add(this._editor.onMouseWheel(c=>{if(this._contextMenuIsBeingShownCount>0){let d=this._contextViewService.getContextViewElement(),u=c.srcElement;u.shadowRoot&&Q4(d)===u.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(c=>{c.keyCode===58&&(c.preventDefault(),c.stopPropagation(),this.showContextMenu())}))}static get(i){return i.getContribution(Gj.ID)}_onContextMenu(i){if(!this._editor.hasModel())return;if(!this._editor.getOption(18)){this._editor.focus(),i.target.position&&!this._editor.getSelection().containsPosition(i.target.position)&&this._editor.setPosition(i.target.position);return}if(i.target.type===12||(i.event.preventDefault(),i.target.type!==6&&i.target.type!==7&&i.target.type!==1))return;if(this._editor.focus(),i.target.position){let o=!1;for(let r of this._editor.getSelections())if(r.containsPosition(i.target.position)){o=!0;break}o||this._editor.setPosition(i.target.position)}let n=null;i.target.type!==1&&(n={x:i.event.posx-1,width:2,y:i.event.posy-1,height:2}),this.showContextMenu(n)}showContextMenu(i){if(!this._editor.getOption(18)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}let n=this._getMenuActions(this._editor.getModel(),Vt.EditorContext);n.length>0&&this._doShowContextMenu(n,i)}_getMenuActions(i,n){let o=[],r=this._menuService.createMenu(n,this._contextKeyService),s=r.getActions({arg:i.uri});r.dispose();for(let l of s){let[,c]=l,d=0;for(let u of c)if(u instanceof GS){let h=this._getMenuActions(i,u.item.submenu);h.length>0&&(o.push(new HS(u.id,u.label,h)),d++)}else o.push(u),d++;d&&o.push(new qg)}return o.length&&o.pop(),o}_doShowContextMenu(i,n=null){if(!this._editor.hasModel())return;let o=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();let s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=Go(this._editor.getDomNode()),c=l.left+s.left,d=l.top+s.top+s.height;n={x:c,y:d}}let r=this._editor.getOption(111);this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:r?this._editor.getDomNode():void 0,getAnchor:()=>n,getActions:()=>i,getActionViewItem:s=>{let l=this._keybindingFor(s);if(l)return new eC(s,s,{label:!0,keybinding:l.getLabel(),isMenu:!0});let c=s;return typeof c.getActionViewItem=="function"?c.getActionViewItem():new eC(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:o})}})}_keybindingFor(i){return this._keybindingService.lookupKeybinding(i.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};wv.ID="editor.contrib.contextmenu";wv=Wae([Fw(1,sm),Fw(2,p1),Fw(3,Wt),Fw(4,En),Fw(5,Qf)],wv);var mF=class extends it{constructor(){super({id:"editor.action.showContextMenu",label:_("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:Me.textInputFocus,primary:1092,weight:100}})}run(i,n){wv.get(n).showContextMenu()}};Dt(wv.ID,wv);Ue(mF);Pt();bt();$t();Yi();var Pw=class{constructor(i){this.selections=i}equals(i){let n=this.selections.length,o=i.selections.length;if(n!==o)return!1;for(let r=0;r<n;r++)if(!this.selections[r].equalsSelection(i.selections[r]))return!1;return!0}},Lw=class{constructor(i,n,o){this.cursorState=i,this.scrollTop=n,this.scrollLeft=o}},BD=(()=>{class e extends yt{constructor(n){super(),this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(o=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(o=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(o=>{if(this._isCursorUndoRedo||!o.oldSelections||o.oldModelVersionId!==o.modelVersionId)return;let r=new Pw(o.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(r)||(this._undoStack.push(new Lw(r,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(n){return n.getContribution(e.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Lw(new Pw(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Lw(new Pw(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}return e.ID="editor.contrib.cursorUndoRedoController",e})(),vF=class extends it{constructor(){super({id:"cursorUndo",label:_("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:Me.textInputFocus,primary:2099,weight:100}})}run(i,n,o){BD.get(n).cursorUndo()}},CF=class extends it{constructor(){super({id:"cursorRedo",label:_("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(i,n,o){BD.get(n).cursorRedo()}};Dt(BD.ID,BD);Ue(vF);Ue(CF);bt();wa();$t();Jn();Bt();lo();lo();Bt();var VD=class{constructor(i,n,o){this.selection=i,this.targetPosition=n,this.copy=o,this.targetSelection=null}getEditOperations(i,n){let o=i.getValueInRange(this.selection);if(this.copy||n.addEditOperation(this.selection,null),n.addEditOperation(new Ie(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),o),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Ct(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Ct(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Ct(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Ct(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Ct(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(i,n){return this.targetSelection}};Lo();function bv(e){return rr?e.altKey:e.ctrlKey}var Hp=class e extends yt{constructor(i){super(),this._editor=i,this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._register(this._editor.onMouseDrag(n=>this._onEditorMouseDrag(n))),this._register(this._editor.onMouseDrop(n=>this._onEditorMouseDrop(n))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(n=>this.onEditorKeyDown(n))),this._register(this._editor.onKeyUp(n=>this.onEditorKeyUp(n))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(29)||this._editor.getOption(16)||(bv(i)&&(this._modifierPressed=!0),this._mouseDown&&bv(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(29)||this._editor.getOption(16)||(bv(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){let n=i.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(s=>n.position&&s.containsPosition(n.position));if(r.length===1)this._dragSelection=r[0];else return}bv(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),n.position&&(this._dragSelection.containsPosition(n.position)?this._removeDecoration():this.showAt(n.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){let n=new _t(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let o=null;if(i.event.shiftKey){let r=this._editor.getSelection();if(r){let{selectionStartLineNumber:s,selectionStartColumn:l}=r;o=[new Ct(s,l,n.lineNumber,n.column)]}}else o=(this._editor.getSelections()||[]).map(r=>r.containsPosition(n)?new Ct(n.lineNumber,n.column,n.lineNumber,n.column):r);this._editor.setSelections(o||[],"mouse",3)}else(!this._dragSelection.containsPosition(n)||(bv(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new VD(this._dragSelection,n,bv(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){let n=[{range:new Ie(i.lineNumber,i.column,i.lineNumber,i.column),options:e._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,n),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};Hp.ID="editor.contrib.dragAndDrop";Hp.TRIGGER_KEY_VALUE=rr?6:5;Hp._DECORATION_OPTIONS=ni.register({className:"dnd-target"});Dt(Hp.ID,Hp);Pt();ln();bt();On();$t();Yi();ln();bt();Jn();Bt();lo();AQ();Bt();O0();Lo();vn();Oi();var _c=class e{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let i=this._findScopeDecorationIds.map(n=>this._editor.getModel().getDecorationRange(n)).filter(n=>!!n);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){let n=this._decorations.indexOf(i);return n>=0?n+1:1}getCurrentMatchesPosition(i){let n=this._editor.getModel().getDecorationsInRange(i);for(let o of n){let r=o.options;if(r===e._FIND_MATCH_DECORATION||r===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 0}setCurrentFindMatch(i){let n=null,o=0;if(i)for(let r=0,s=this._decorations.length;r<s;r++){let l=this._editor.getModel().getDecorationRange(this._decorations[r]);if(i.equalsRange(l)){n=this._decorations[r],o=r+1;break}}return(this._highlightedDecorationId!==null||n!==null)&&this._editor.changeDecorations(r=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,e._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),n!==null&&(this._highlightedDecorationId=n,r.changeDecorationOptions(this._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),n!==null){let s=this._editor.getModel().getDecorationRange(n);if(s.startLineNumber!==s.endLineNumber&&s.endColumn===1){let l=s.endLineNumber-1,c=this._editor.getModel().getLineMaxColumn(l);s=new Ie(s.startLineNumber,s.startColumn,l,c)}this._rangeHighlightDecorationId=r.addDecoration(s,e._RANGE_HIGHLIGHT_DECORATION)}}),o}set(i,n){this._editor.changeDecorations(o=>{let r=e._FIND_MATCH_DECORATION,s=[];if(i.length>1e3){r=e._FIND_MATCH_NO_OVERVIEW_DECORATION;let c=this._editor.getModel().getLineCount(),u=this._editor.getLayoutInfo().height/c,h=Math.max(2,Math.ceil(3/u)),g=i[0].range.startLineNumber,p=i[0].range.endLineNumber;for(let f=1,y=i.length;f<y;f++){let M=i[f].range;p+h>=M.startLineNumber?M.endLineNumber>p&&(p=M.endLineNumber):(s.push({range:new Ie(g,1,p,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),g=M.startLineNumber,p=M.endLineNumber)}s.push({range:new Ie(g,1,p,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let l=new Array(i.length);for(let c=0,d=i.length;c<d;c++)l[c]={range:i[c].range,options:r};this._decorations=o.deltaDecorations(this._decorations,l),this._overviewRulerApproximateDecorations=o.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(c=>o.removeDecoration(c)),this._findScopeDecorationIds=[]),n?.length&&(this._findScopeDecorationIds=n.map(c=>o.addDecoration(c,e._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let n=this._decorations.length-1;n>=0;n--){let o=this._decorations[n],r=this._editor.getModel().getDecorationRange(o);if(!(!r||r.endLineNumber>i.lineNumber)){if(r.endLineNumber<i.lineNumber)return r;if(!(r.endColumn>i.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let n=0,o=this._decorations.length;n<o;n++){let r=this._decorations[n],s=this._editor.getModel().getDecorationRange(r);if(!(!s||s.startLineNumber<i.lineNumber)){if(s.startLineNumber>i.lineNumber)return s;if(!(s.startColumn<i.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}};_c._CURRENT_FIND_MATCH_DECORATION=ni.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:cr(o1),position:Hr.Center},minimap:{color:cr(v2),position:Yk.Inline}});_c._FIND_MATCH_DECORATION=ni.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:cr(o1),position:Hr.Center},minimap:{color:cr(v2),position:Yk.Inline}});_c._FIND_MATCH_NO_OVERVIEW_DECORATION=ni.register({stickiness:1,className:"findMatch",showIfCollapsed:!0});_c._FIND_MATCH_ONLY_OVERVIEW_DECORATION=ni.register({stickiness:1,overviewRuler:{color:cr(o1),position:Hr.Center}});_c._RANGE_HIGHLIGHT_DECORATION=ni.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0});_c._FIND_SCOPE_DECORATION=ni.register({className:"findScope",isWholeLine:!0});Bt();var HD=class{constructor(i,n,o){this._editorSelection=i,this._ranges=n,this._replaceStrings=o,this._trackedEditorSelectionId=null}getEditOperations(i,n){if(this._ranges.length>0){let o=[];for(let l=0;l<this._ranges.length;l++)o.push({range:this._ranges[l],text:this._replaceStrings[l]});o.sort((l,c)=>Ie.compareRangesUsingStarts(l.range,c.range));let r=[],s=o[0];for(let l=1;l<o.length;l++)s.range.endLineNumber===o[l].range.startLineNumber&&s.range.endColumn===o[l].range.startColumn?(s.range=s.range.plusRange(o[l].range),s.text=s.text+o[l].text):(r.push(s),s=o[l]);r.push(s);for(let l of r)n.addEditOperation(l.range,l.text)}this._trackedEditorSelectionId=n.trackSelection(this._editorSelection)}computeCursorState(i,n){return n.getTrackedSelection(this._trackedEditorSelectionId)}};On();function wF(e,i){if(e&&e[0]!==""){let n=jj(e,i,"-"),o=jj(e,i,"_");return n&&!o?Wj(e,i,"-"):!n&&o?Wj(e,i,"_"):e[0].toUpperCase()===e[0]?i.toUpperCase():e[0].toLowerCase()===e[0]?i.toLowerCase():l8(e[0][0])&&i.length>0?i[0].toUpperCase()+i.substr(1):e[0][0].toUpperCase()!==e[0][0]&&i.length>0?i[0].toLowerCase()+i.substr(1):i}else return i}function jj(e,i,n){return e[0].indexOf(n)!==-1&&i.indexOf(n)!==-1&&e[0].split(n).length===i.split(n).length}function Wj(e,i,n){let o=i.split(n),r=e[0].split(n),s="";return o.forEach((l,c)=>{s+=wF([r[c]],l)+n}),s.slice(0,-1)}var GD=class{constructor(i){this.staticValue=i,this.kind=0}},bF=class{constructor(i){this.pieces=i,this.kind=1}},Sv=class e{constructor(i){!i||i.length===0?this._state=new GD(""):i.length===1&&i[0].staticValue!==null?this._state=new GD(i[0].staticValue):this._state=new bF(i)}static fromStaticValue(i){return new e([yv.staticValue(i)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(i,n){if(this._state.kind===0)return n?wF(i,this._state.staticValue):this._state.staticValue;let o="";for(let r=0,s=this._state.pieces.length;r<s;r++){let l=this._state.pieces[r];if(l.staticValue!==null){o+=l.staticValue;continue}let c=e._substitute(l.matchIndex,i);if(l.caseOps!==null&&l.caseOps.length>0){let d=[],u=l.caseOps.length,h=0;for(let g=0,p=c.length;g<p;g++){if(h>=u){d.push(c.slice(g));break}switch(l.caseOps[h]){case"U":d.push(c[g].toUpperCase());break;case"u":d.push(c[g].toUpperCase()),h++;break;case"L":d.push(c[g].toLowerCase());break;case"l":d.push(c[g].toLowerCase()),h++;break;default:d.push(c[g])}}c=d.join("")}o+=c}return o}static _substitute(i,n){if(n===null)return"";if(i===0)return n[0];let o="";for(;i>0;){if(i<n.length)return(n[i]||"")+o;o=String(i%10)+o,i=Math.floor(i/10)}return"$"+o}},yv=class e{constructor(i,n,o){this.staticValue=i,this.matchIndex=n,!o||o.length===0?this.caseOps=null:this.caseOps=o.slice(0)}static staticValue(i){return new e(i,-1,null)}static caseOps(i,n){return new e(null,i,n)}},yF=class{constructor(i){this._source=i,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(i){this._emitStatic(this._source.substring(this._lastCharIndex,i)),this._lastCharIndex=i}emitStatic(i,n){this._emitStatic(i),this._lastCharIndex=n}_emitStatic(i){i.length!==0&&(this._currentStaticPiece+=i)}emitMatchIndex(i,n,o){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=yv.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=yv.caseOps(i,o),this._lastCharIndex=n}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=yv.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Sv(this._result)}};function Uj(e){if(!e||e.length===0)return new Sv(null);let i=[],n=new yF(e);for(let o=0,r=e.length;o<r;o++){let s=e.charCodeAt(o);if(s===92){if(o++,o>=r)break;let l=e.charCodeAt(o);switch(l){case 92:n.emitUnchanged(o-1),n.emitStatic("\\",o+1);break;case 110:n.emitUnchanged(o-1),n.emitStatic(`
`,o+1);break;case 116:n.emitUnchanged(o-1),n.emitStatic("	",o+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(o-1),n.emitStatic("",o+1),i.push(String.fromCharCode(l));break}continue}if(s===36){if(o++,o>=r)break;let l=e.charCodeAt(o);if(l===36){n.emitUnchanged(o-1),n.emitStatic("$",o+1);continue}if(l===48||l===38){n.emitUnchanged(o-1),n.emitMatchIndex(0,o+1,i),i.length=0;continue}if(49<=l&&l<=57){let c=l-48;if(o+1<r){let d=e.charCodeAt(o+1);if(48<=d&&d<=57){o++,c=c*10+(d-48),n.emitUnchanged(o-2),n.emitMatchIndex(c,o+1,i),i.length=0;continue}}n.emitUnchanged(o-1),n.emitMatchIndex(c,o+1,i),i.length=0;continue}}}return n.finalize()}Ti();Rn();var ug=new ei("findWidgetVisible",!1),xv=new ei("findInputFocussed",!1),Nw=new ei("replaceInputFocussed",!1),Ow={primary:545,mac:{primary:2593}},zw={primary:565,mac:{primary:2613}},Bw={primary:560,mac:{primary:2608}},Vw={primary:554,mac:{primary:2602}},Hw={primary:558,mac:{primary:2606}},Ri={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},_d=19999,Uae=240,jD=class e{constructor(i,n){this._toDispose=new Xe,this._editor=i,this._state=n,this._isDisposed=!1,this._startSearchingTimer=new zr,this._decorations=new _c(i),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new qn(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(o=>{(o.reason===3||o.reason===5||o.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(o=>{this._ignoreModelContentChanged||(o.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,Un(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(i){this._isDisposed||this._editor.hasModel()&&(i.searchString||i.isReplaceRevealed||i.isRegex||i.wholeWord||i.matchCase||i.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{i.searchScope?this.research(i.moveCursor,this._state.searchScope):this.research(i.moveCursor)},Uae)):i.searchScope?this.research(i.moveCursor,this._state.searchScope):this.research(i.moveCursor))}static _getSearchRange(i,n){return n||i.getFullModelRange()}research(i,n){let o=null;typeof n<"u"?n!==null&&(Array.isArray(n)?o=n:o=[n]):o=this._decorations.getFindScopes(),o!==null&&(o=o.map(c=>{if(c.startLineNumber!==c.endLineNumber){let d=c.endLineNumber;return c.endColumn===1&&(d=d-1),new Ie(c.startLineNumber,1,d,this._editor.getModel().getLineMaxColumn(d))}return c}));let r=this._findMatches(o,!1,_d);this._decorations.set(r,o);let s=this._editor.getSelection(),l=this._decorations.getCurrentMatchesPosition(s);if(l===0&&r.length>0){let c=TS(r.map(d=>d.range),d=>Ie.compareRangesUsingStarts(d,s)>=0);l=c>0?c-1+1:l}this._state.changeMatchInfo(l,this._decorations.getCount(),void 0),i&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let i=this._decorations.getFindScope();return i&&this._editor.revealRangeInCenterIfOutsideViewport(i,0),!0}return!1}_setCurrentFindMatch(i){let n=this._decorations.setCurrentFindMatch(i);this._state.changeMatchInfo(n,this._decorations.getCount(),i),this._editor.setSelection(i),this._editor.revealRangeInCenterIfOutsideViewport(i,0)}_prevSearchPosition(i){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:o,column:r}=i,s=this._editor.getModel();return n||r===1?(o===1?o=s.getLineCount():o--,r=s.getLineMaxColumn(o)):r--,new _t(o,r)}_moveToPrevMatch(i,n=!1){if(!this._state.canNavigateBack()){let h=this._decorations.matchAfterPosition(i);h&&this._setCurrentFindMatch(h);return}if(this._decorations.getCount()<_d){let h=this._decorations.matchBeforePosition(i);h&&h.isEmpty()&&h.getStartPosition().equals(i)&&(i=this._prevSearchPosition(i),h=this._decorations.matchBeforePosition(i)),h&&this._setCurrentFindMatch(h);return}if(this._cannotFind())return;let o=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(i)&&(i=r.getEndPosition()),i.isBefore(r.getStartPosition())&&(i=r.getEndPosition());let{lineNumber:s,column:l}=i,c=this._editor.getModel(),d=new _t(s,l),u=c.findPreviousMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(d)&&(d=this._prevSearchPosition(d),u=c.findPreviousMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1)),!!u){if(!n&&!r.containsRange(u.range))return this._moveToPrevMatch(u.range.getStartPosition(),!0);this._setCurrentFindMatch(u.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(i){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:o,column:r}=i,s=this._editor.getModel();return n||r===s.getLineMaxColumn(o)?(o===s.getLineCount()?o=1:o++,r=1):r++,new _t(o,r)}_moveToNextMatch(i){if(!this._state.canNavigateForward()){let o=this._decorations.matchBeforePosition(i);o&&this._setCurrentFindMatch(o);return}if(this._decorations.getCount()<_d){let o=this._decorations.matchAfterPosition(i);o&&o.isEmpty()&&o.getStartPosition().equals(i)&&(i=this._nextSearchPosition(i),o=this._decorations.matchAfterPosition(i)),o&&this._setCurrentFindMatch(o);return}let n=this._getNextMatch(i,!1,!0);n&&this._setCurrentFindMatch(n.range)}_getNextMatch(i,n,o,r=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),l=e._getSearchRange(this._editor.getModel(),s);l.getEndPosition().isBefore(i)&&(i=l.getStartPosition()),i.isBefore(l.getStartPosition())&&(i=l.getStartPosition());let{lineNumber:c,column:d}=i,u=this._editor.getModel(),h=new _t(c,d),g=u.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,n);return o&&g&&g.range.isEmpty()&&g.range.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),g=u.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,n)),g?!r&&!l.containsRange(g.range)?this._getNextMatch(g.range.getEndPosition(),n,o,!0):g:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?Uj(this._state.replaceString):Sv.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let i=this._getReplacePattern(),n=this._editor.getSelection(),o=this._getNextMatch(n.getStartPosition(),!0,!1);if(o)if(n.equalsRange(o.range)){let r=i.buildReplaceString(o.matches,this._state.preserveCase),s=new Mu(n,r);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new _t(n.startLineNumber,n.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(o.range)}_findMatches(i,n,o){let r=(i||[null]).map(s=>e._getSearchRange(this._editor.getModel(),s));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,n,o)}replaceAll(){if(!this._hasMatches())return;let i=this._decorations.getFindScopes();i===null&&this._state.matchesCount>=_d?this._largeReplaceAll():this._regularReplaceAll(i),this.research(!1)}_largeReplaceAll(){let n=new Y8(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null).parseSearchRequest();if(!n)return;let o=n.regex;if(!o.multiline){let g="mu";o.ignoreCase&&(g+="i"),o.global&&(g+="g"),o=new RegExp(o.source,g)}let r=this._editor.getModel(),s=r.getValue(1),l=r.getFullModelRange(),c=this._getReplacePattern(),d,u=this._state.preserveCase;c.hasReplacementPatterns||u?d=s.replace(o,function(){return c.buildReplaceString(arguments,u)}):d=s.replace(o,c.buildReplaceString(null,u));let h=new c1(l,d,this._editor.getSelection());this._executeEditorCommand("replaceAll",h)}_regularReplaceAll(i){let n=this._getReplacePattern(),o=this._findMatches(i,n.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let l=0,c=o.length;l<c;l++)r[l]=n.buildReplaceString(o[l].matches,this._state.preserveCase);let s=new HD(this._editor.getSelection(),o.map(l=>l.range),r);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let i=this._decorations.getFindScopes(),o=this._findMatches(i,!1,1073741824).map(s=>new Ct(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)),r=this._editor.getSelection();for(let s=0,l=o.length;s<l;s++)if(o[s].equalsRange(r)){o=[r].concat(o.slice(0,s)).concat(o.slice(s+1));break}this._editor.setSelections(o)}_executeEditorCommand(i,n){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(i,n),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}};Ki();ku();Tl();en();Gr();var $ae={inputActiveOptionBorder:fi.fromHex("#007ACC00"),inputActiveOptionForeground:fi.fromHex("#FFFFFF"),inputActiveOptionBackground:fi.fromHex("#0E639C50")},eu=class extends Eo{constructor(i){super(),this._onChange=this._register(new vt),this.onChange=this._onChange.event,this._onKeyDown=this._register(new vt),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},$ae),i),this._checked=this._opts.isChecked;let n=["monaco-custom-checkbox"];this._opts.icon&&n.push(...y8.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&n.push(...this._opts.actionClassName.split(" ")),this._checked&&n.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...n),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,o=>{this.checked=!this._checked,this._onChange.fire(!1),o.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,o=>{if(o.keyCode===10||o.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),o.preventDefault();return}this._onKeyDown.fire(o)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}};Pt();Gr();var qae=_("caseDescription","Match Case"),Kae=_("wordsDescription","Match Whole Word"),Yae=_("regexDescription","Use Regular Expression"),_v=class extends eu{constructor(i){super({icon:gt.caseSensitive,title:qae+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}},Dv=class extends eu{constructor(i){super({icon:gt.wholeWord,title:Kae+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}},Ev=class extends eu{constructor(i){super({icon:gt.regex,title:Yae+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}};ku();ln();vn();Oi();var $j=(()=>{class e extends Eo{constructor(n,o,r,s){super(),this._hideSoon=this._register(new qn(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=n,this._state=o,this._keybindingService=r,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let l=s.getColorTheme().getColor(q0),c=s.getColorTheme().getColor(Y0),d=s.getColorTheme().getColor(K0);this.caseSensitive=this._register(new _v({appendTitle:this._keybindingLabelFor(Ri.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Dv({appendTitle:this._keybindingLabelFor(Ri.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Ev({appendTitle:this._keybindingLabelFor(Ri.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:d})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(u=>{let h=!1;u.isRegex&&(this.regex.checked=this._state.isRegex,h=!0),u.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,h=!0),u.matchCase&&(this.caseSensitive.checked=this._state.matchCase,h=!0),!this._state.isRevealed&&h&&this._revealTemporarily()})),this._register(U4(this._domNode,u=>this._onMouseOut())),this._register(uo(this._domNode,"mouseover",u=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(n){let o=this._keybindingService.lookupKeybinding(n);return o?` (${o.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(n){let o={inputActiveOptionBorder:n.getColor(q0),inputActiveOptionForeground:n.getColor(Y0),inputActiveOptionBackground:n.getColor(K0)};this.caseSensitive.style(o),this.wholeWords.style(o),this.regex.style(o)}}return e.ID="editor.contrib.findOptionsWidget",e})();ii((e,i)=>{let n=e.getColor(Rs);n&&i.addRule(`.monaco-editor .findOptionsWidget { background-color: ${n}; }`);let o=e.getColor(Xf);o&&i.addRule(`.monaco-editor .findOptionsWidget { color: ${o}; }`);let r=e.getColor(Nh);r&&i.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);let s=e.getColor(Lh);s&&i.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)});en();bt();Bt();function WD(e,i){return e===1?!0:e===2?!1:i}var UD=class extends yt{constructor(){super(),this._onFindReplaceStateChange=this._register(new vt),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return WD(this._isRegexOverride,this._isRegex)}get wholeWord(){return WD(this._wholeWordOverride,this._wholeWord)}get matchCase(){return WD(this._matchCaseOverride,this._matchCase)}get preserveCase(){return WD(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,n,o){let r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;n===0&&(i=0),i>n&&(i=n),this._matchesPosition!==i&&(this._matchesPosition=i,r.matchesPosition=!0,s=!0),this._matchesCount!==n&&(this._matchesCount=n,r.matchesCount=!0,s=!0),typeof o<"u"&&(Ie.equalsRange(this._currentMatch,o)||(this._currentMatch=o,r.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(r)}change(i,n,o=!0){var r;let s={moveCursor:n,updateHistory:o,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},l=!1,c=this.isRegex,d=this.wholeWord,u=this.matchCase,h=this.preserveCase;typeof i.searchString<"u"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,s.searchString=!0,l=!0),typeof i.replaceString<"u"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,s.replaceString=!0,l=!0),typeof i.isRevealed<"u"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,s.isRevealed=!0,l=!0),typeof i.isReplaceRevealed<"u"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,s.isReplaceRevealed=!0,l=!0),typeof i.isRegex<"u"&&(this._isRegex=i.isRegex),typeof i.wholeWord<"u"&&(this._wholeWord=i.wholeWord),typeof i.matchCase<"u"&&(this._matchCase=i.matchCase),typeof i.preserveCase<"u"&&(this._preserveCase=i.preserveCase),typeof i.searchScope<"u"&&(!((r=i.searchScope)===null||r===void 0)&&r.every(g=>{var p;return(p=this._searchScope)===null||p===void 0?void 0:p.some(f=>!Ie.equalsRange(f,g))})||(this._searchScope=i.searchScope,s.searchScope=!0,l=!0)),typeof i.loop<"u"&&this._loop!==i.loop&&(this._loop=i.loop,s.loop=!0,l=!0),this._isRegexOverride=typeof i.isRegexOverride<"u"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride<"u"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride<"u"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride<"u"?i.preserveCaseOverride:0,c!==this.isRegex&&(l=!0,s.isRegex=!0),d!==this.wholeWord&&(l=!0,s.wholeWord=!0),u!==this.matchCase&&(l=!0,s.matchCase=!0),h!==this.preserveCase&&(l=!0,s.preserveCase=!0),l&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=_d}};Pt();Ki();el();ku();ln();ki();bt();wa();On();Bt();vn();Oi();Ti();Pt();Ki();ku();en();var Qae=_("defaultLabel","input"),$D=class extends Eo{constructor(i,n,o,r){super(),this._showOptionButtons=o,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new vt),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new vt),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new vt),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new vt),this._onKeyUp=this._register(new vt),this._onCaseSensitiveKeyDown=this._register(new vt),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new vt),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=n,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||Qae,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;let s=r.appendCaseSensitiveLabel||"",l=r.appendWholeWordsLabel||"",c=r.appendRegexLabel||"",d=r.history||[],u=!!r.flexibleHeight,h=!!r.flexibleWidth,g=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new S1(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:d,flexibleHeight:u,flexibleWidth:h,flexibleMaxHeight:g})),this.regex=this._register(new Ev({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(y=>{this._onRegexKeyDown.fire(y)})),this.wholeWords=this._register(new Dv({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new _v({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(y=>{this._onCaseSensitiveKeyDown.fire(y)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let p=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,y=>{if(y.equals(15)||y.equals(17)||y.equals(9)){let M=p.indexOf(document.activeElement);if(M>=0){let k=-1;y.equals(17)?k=(M+1)%p.length:y.equals(15)&&(M===0?k=p.length-1:k=M-1),y.equals(9)?(p[M].blur(),this.inputBox.focus()):k>=0&&p[k].focus(),Hg.stop(y,!0)}}});let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.caseSensitive.domNode),f.appendChild(this.wholeWords.domNode),f.appendChild(this.regex.domNode),this.domNode.appendChild(f),i&&i.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,y=>this._onKeyDown.fire(y)),this.onkeyup(this.inputBox.inputElement,y=>this._onKeyUp.fire(y)),this.oninput(this.inputBox.inputElement,y=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,y=>this._onMouseDown.fire(y))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);let n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}};zS();Pt();Ki();ku();en();Gr();var Zae=_("defaultLabel","input"),Xae=_("label.preserveCaseCheckbox","Preserve Case"),SF=class extends eu{constructor(i){super({icon:gt.preserveCase,title:Xae+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}},qD=class extends Eo{constructor(i,n,o,r){super(),this._showOptionButtons=o,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new vt),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new vt),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new vt),this._onInput=this._register(new vt),this._onKeyUp=this._register(new vt),this._onPreserveCaseKeyDown=this._register(new vt),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=n,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||Zae,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;let s=r.appendPreserveCaseLabel||"",l=r.history||[],c=!!r.flexibleHeight,d=!!r.flexibleWidth,u=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new S1(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,flexibleHeight:c,flexibleWidth:d,flexibleMaxHeight:u})),this.preserveCase=this._register(new SF({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(p=>{this._onPreserveCaseKeyDown.fire(p)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let h=[this.preserveCase.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(15)||p.equals(17)||p.equals(9)){let f=h.indexOf(document.activeElement);if(f>=0){let y=-1;p.equals(17)?y=(f+1)%h.length:p.equals(15)&&(f===0?y=h.length-1:y=f-1),p.equals(9)?(h[f].blur(),this.inputBox.focus()):y>=0&&h[y].focus(),Hg.stop(p,!0)}}});let g=document.createElement("div");g.className="controls",g.style.display=this._showOptionButtons?"block":"none",g.appendChild(this.preserveCase.domNode),this.domNode.appendChild(g),i&&i.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,p=>this._onKeyDown.fire(p)),this.onkeyup(this.inputBox.inputElement,p=>this._onKeyUp.fire(p)),this.oninput(this.inputBox.inputElement,p=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,p=>this._onMouseDown.fire(p))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(i){i?this.enable():this.disable()}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(i);let n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(i){this.preserveCase.checked=i}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(i){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=i,this.domNode.style.width=i+"px"}dispose(){super.dispose()}};var qj=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Kj=function(e,i){return function(n,o){i(n,o,e)}},Gw="historyNavigationWidget",xF="historyNavigationEnabled";function Jae(e,i,n){new ei(n,i).bindTo(e)}function ele(e,i){return e.createScoped(i.target)}function Yj(e,i){return e.getContext(document.activeElement).getValue(i)}function Qj(e,i){let n=ele(e,i);Jae(n,i,Gw);let o=new ei(xF,!0).bindTo(n);return{scopedContextKeyService:n,historyNavigationEnablement:o}}var KD=class extends $D{constructor(i,n,o,r,s=!1){super(i,n,s,o),this._register(Qj(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};KD=qj([Kj(3,Wt)],KD);var YD=class extends qD{constructor(i,n,o,r,s=!1){super(i,n,s,o),this._register(Qj(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};YD=qj([Kj(3,Wt)],YD);lr.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:st.and(st.has(Gw),st.equals(xF,!0)),primary:16,secondary:[528],handler:(e,i)=>{let n=Yj(e.get(Wt),Gw);n&&n.historyNavigator.showPreviousValue()}});lr.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:st.and(st.has(Gw),st.equals(xF,!0)),primary:18,secondary:[530],handler:(e,i)=>{let n=Yj(e.get(Wt),Gw);n&&n.historyNavigator.showNextValue()}});Gr();var tle=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},ile=Mo("find-selection",gt.selection,_("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Zj=Mo("find-collapsed",gt.chevronRight,_("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Xj=Mo("find-expanded",gt.chevronDown,_("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),nle=Mo("find-replace",gt.replace,_("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),ole=Mo("find-replace-all",gt.replaceAll,_("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),rle=Mo("find-previous-match",gt.arrowUp,_("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),sle=Mo("find-next-match",gt.arrowDown,_("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ale=_("label.find","Find"),lle=_("placeholder.find","Find"),cle=_("label.previousMatchButton","Previous match"),dle=_("label.nextMatchButton","Next match"),ule=_("label.toggleSelectionFind","Find in selection"),hle=_("label.closeButton","Close"),gle=_("label.replace","Replace"),ple=_("placeholder.replace","Replace"),fle=_("label.replaceButton","Replace"),mle=_("label.replaceAllButton","Replace All"),vle=_("label.toggleReplaceButton","Toggle Replace mode"),Cle=_("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",_d),wle=_("label.matchesLocation","{0} of {1}"),Jj=_("label.noResults","No results"),tu=419,ble=275,yle=ble-54,jw=69,Sle=33,eW="ctrlEnterReplaceAll.windows.donotask",tW=rr?256:2048,Ww=class{constructor(i){this.afterLineNumber=i,this.heightInPx=Sle,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}};function iW(e,i,n){let o=!!i.match(/\n/);if(n&&o&&n.selectionStart>0){e.stopPropagation();return}}function nW(e,i,n){let o=!!i.match(/\n/);if(n&&o&&n.selectionEnd<n.value.length){e.stopPropagation();return}}var oW=(()=>{class e extends Eo{constructor(n,o,r,s,l,c,d,u,h){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=n,this._controller=o,this._state=r,this._contextViewProvider=s,this._keybindingService=l,this._contextKeyService=c,this._storageService=u,this._notificationService=h,this._ctrlEnterReplaceAllWarningPrompted=!!u.getBoolean(eW,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new ba(500),this._register(ao(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(g=>this._onStateChanged(g))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(g=>{if(g.hasChanged(77)&&(this._codeEditor.getOption(77)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),g.hasChanged(127)&&this._tryUpdateWidgetWidth(),g.hasChanged(2)&&this.updateAccessibilitySupport(),g.hasChanged(33)){let p=this._codeEditor.getOption(33).addExtraSpaceOnTop;p&&!this._viewZone&&(this._viewZone=new Ww(0),this._showViewZone()),!p&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>tle(this,void 0,void 0,function*(){if(this._isVisible){let g=yield this._controller.getGlobalBufferTerm();g&&g!==this._state.searchString&&(this._state.change({searchString:g},!1),this._findInput.select())}}))),this._findInputFocused=xv.bindTo(c),this._findFocusTracker=this._register(Hk(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=Nw.bindTo(c),this._replaceFocusTracker=this._register(Hk(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new Ww(0)),this._applyTheme(d.getColorTheme()),this._register(d.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(g=>{if(g.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return e.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(n){if(n.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(n.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),n.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),n.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(77)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Rl(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(n.isRevealed||n.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),n.isRegex&&this._findInput.setRegex(this._state.isRegex),n.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),n.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),n.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),n.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),n.searchString||n.matchesCount||n.matchesPosition){let o=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",o),this._updateMatchesCount(),this._updateButtons()}(n.searchString||n.currentMatch)&&this._layoutViewZone(),n.updateHistory&&this._delayedUpdateHistory(),n.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ut)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=jw+"px",this._state.matchesCount>=_d?this._matchesCount.title=Cle:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let n;if(this._state.matchesCount>0){let o=String(this._state.matchesCount);this._state.matchesCount>=_d&&(o+="+");let r=String(this._state.matchesPosition);r==="0"&&(r="?"),n=ds(wle,r,o)}else n=Jj;this._matchesCount.appendChild(document.createTextNode(n)),Yn(this._getAriaLabel(n,this._state.currentMatch,this._state.searchString)),jw=Math.max(jw,this._matchesCount.clientWidth)}_getAriaLabel(n,o,r){if(n===Jj)return r===""?_("ariaSearchNoResultEmpty","{0} found",n):_("ariaSearchNoResult","{0} found for '{1}'",n,r);if(o){let s=_("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",n,r,o.startLineNumber+":"+o.startColumn),l=this._codeEditor.getModel();return l&&o.startLineNumber<=l.getLineCount()&&o.startLineNumber>=1?`${l.getLineContent(o.startLineNumber)}, ${s}`:s}return _("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",n,r)}_updateToggleSelectionFindButton(){let n=this._codeEditor.getSelection(),o=n?n.startLineNumber!==n.endLineNumber||n.startColumn!==n.endColumn:!1,r=this._toggleSelectionFind.checked;this._isVisible&&(r||o)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let n=this._state.searchString.length>0,o=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&n&&o&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&n&&o&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&n),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&n),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let r=!this._codeEditor.getOption(77);this._toggleReplaceBtn.setEnabled(this._isVisible&&r)}_reveal(){if(this._revealTimeouts.forEach(n=>{clearTimeout(n)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let n=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":let r=!!n&&n.startLineNumber!==n.endLineNumber;this._toggleSelectionFind.checked=r;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let o=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&n){let r=this._codeEditor.getDomNode();if(r){let s=Go(r),l=this._codeEditor.getScrolledVisiblePosition(n.getStartPosition()),c=s.left+(l?l.left:0),d=l?l.top:0;if(this._viewZone&&d<this._viewZone.heightInPx){n.endLineNumber>n.startLineNumber&&(o=!1);let u=q4(this._domNode).left;c>u&&(o=!1);let h=this._codeEditor.getScrolledVisiblePosition(n.getEndPosition());s.left+(h?h.left:0)>u&&(o=!1)}}}this._showViewZone(o)}}_hide(n){this._revealTimeouts.forEach(o=>{clearTimeout(o)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),n&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(n){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;let r=this._viewZone;this._viewZoneId!==void 0||!r||this._codeEditor.changeViewZones(s=>{r.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(r),this._codeEditor.setScrollTop(n||this._codeEditor.getScrollTop()+r.heightInPx)})}_showViewZone(n=!0){if(!this._isVisible||!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Ww(0));let r=this._viewZone;this._codeEditor.changeViewZones(s=>{if(this._viewZoneId!==void 0){let l=this._getHeight();if(l===r.heightInPx)return;let c=l-r.heightInPx;r.heightInPx=l,s.layoutZone(this._viewZoneId),n&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+c);return}else{let l=this._getHeight();if(l-=this._codeEditor.getOption(71).top,l<=0)return;r.heightInPx=l,this._viewZoneId=s.addZone(r),n&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+l)}})}_removeViewZone(){this._codeEditor.changeViewZones(n=>{this._viewZoneId!==void 0&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(n){let o={inputActiveOptionBorder:n.getColor(q0),inputActiveOptionBackground:n.getColor(K0),inputActiveOptionForeground:n.getColor(Y0),inputBackground:n.getColor(YS),inputForeground:n.getColor(QS),inputBorder:n.getColor(ZS),inputValidationInfoBackground:n.getColor(XS),inputValidationInfoForeground:n.getColor(JS),inputValidationInfoBorder:n.getColor(e1),inputValidationWarningBackground:n.getColor(J8),inputValidationWarningForeground:n.getColor(e5),inputValidationWarningBorder:n.getColor(t5),inputValidationErrorBackground:n.getColor(i5),inputValidationErrorForeground:n.getColor(n5),inputValidationErrorBorder:n.getColor(o5)};this._findInput.style(o),this._replaceInput.style(o),this._toggleSelectionFind.style(o)}_tryUpdateWidgetWidth(){if(!this._isVisible||!j4(this._domNode))return;let n=this._codeEditor.getLayoutInfo();if(n.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let r=n.width,s=n.minimap.minimapWidth,l=!1,c=!1,d=!1;if(this._resized&&Rl(this._domNode)>tu){this._domNode.style.maxWidth=`${r-28-s-15}px`,this._replaceInput.width=Rl(this._findInput.domNode);return}if(tu+28+s>=r&&(c=!0),tu+28+s-jw>=r&&(d=!0),tu+28+s-jw>=r+50&&(l=!0),this._domNode.classList.toggle("collapsed-find-widget",l),this._domNode.classList.toggle("narrow-find-widget",d),this._domNode.classList.toggle("reduced-find-widget",c),!d&&!l&&(this._domNode.style.maxWidth=`${r-28-s-15}px`),this._resized){this._findInput.inputBox.layout();let u=this._findInput.inputBox.element.clientWidth;u>0&&(this._replaceInput.width=u)}else this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode))}_getHeight(){let n=0;return n+=4,n+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(n+=4,n+=this._replaceInput.inputBox.height+2),n+=4,n}_tryUpdateHeight(){let n=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===n?!1:(this._cachedHeight=n,this._domNode.style.height=`${n}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let n=this._codeEditor.getSelections();n.map(o=>{o.endColumn===1&&o.endLineNumber>o.startLineNumber&&(o=o.setEndPosition(o.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(o.endLineNumber-1)));let r=this._state.currentMatch;return o.startLineNumber!==o.endLineNumber&&!Ie.equalsRange(o,r)?o:null}).filter(o=>!!o),n.length&&this._state.change({searchScope:n},!0)}}_onFindInputMouseDown(n){n.middleButton&&n.stopPropagation()}_onFindInputKeyDown(n){if(n.equals(tW|3)){this._findInput.inputBox.insertAtCursor(`
`),n.preventDefault();return}if(n.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),n.preventDefault();return}if(n.equals(2066)){this._codeEditor.focus(),n.preventDefault();return}if(n.equals(16))return iW(n,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(n.equals(18))return nW(n,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(n){if(n.equals(tW|3)){vu&&Sh&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(eW,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),n.preventDefault();return}if(n.equals(2)){this._findInput.focusOnCaseSensitive(),n.preventDefault();return}if(n.equals(1026)){this._findInput.focus(),n.preventDefault();return}if(n.equals(2066)){this._codeEditor.focus(),n.preventDefault();return}if(n.equals(16))return iW(n,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(n.equals(18))return nW(n,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(n){return 0}_keybindingLabelFor(n){let o=this._keybindingService.lookupKeybinding(n);return o?` (${o.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new KD(null,this._contextViewProvider,{width:yle,label:ale,placeholder:lle,appendCaseSensitiveLabel:this._keybindingLabelFor(Ri.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Ri.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Ri.ToggleRegexCommand),validation:u=>{if(u.length===0||!this._findInput.getRegex())return null;try{return new RegExp(u,"gu"),null}catch(h){return{content:h.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(u=>this._onFindInputKeyDown(u))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(u=>{u.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),u.preventDefault())})),this._register(this._findInput.onRegexKeyDown(u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),u.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(u=>{this._tryUpdateHeight()&&this._showViewZone()})),k0&&this._register(this._findInput.onMouseDown(u=>this._onFindInputMouseDown(u))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new hg({label:cle+this._keybindingLabelFor(Ri.PreviousMatchFindAction),icon:rle,onTrigger:()=>{this._codeEditor.getAction(Ri.PreviousMatchFindAction).run().then(void 0,Ut)}})),this._nextBtn=this._register(new hg({label:dle+this._keybindingLabelFor(Ri.NextMatchFindAction),icon:sle,onTrigger:()=>{this._codeEditor.getAction(Ri.NextMatchFindAction).run().then(void 0,Ut)}}));let r=document.createElement("div");r.className="find-part",r.appendChild(this._findInput.domNode);let s=document.createElement("div");s.className="find-actions",r.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new eu({icon:ile,title:ule+this._keybindingLabelFor(Ri.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let u=this._codeEditor.getSelections();u.map(h=>(h.endColumn===1&&h.endLineNumber>h.startLineNumber&&(h=h.setEndPosition(h.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(h.endLineNumber-1))),h.isEmpty()?null:h)).filter(h=>!!h),u.length&&this._state.change({searchScope:u},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new hg({label:hle+this._keybindingLabelFor(Ri.CloseFindWidgetCommand),icon:W5,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:u=>{u.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),u.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new YD(null,void 0,{label:gle,placeholder:ple,appendPreserveCaseLabel:this._keybindingLabelFor(Ri.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(u=>this._onReplaceInputKeyDown(u))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(u=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(u=>{u.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),u.preventDefault())})),this._replaceBtn=this._register(new hg({label:fle+this._keybindingLabelFor(Ri.ReplaceOneAction),icon:nle,onTrigger:()=>{this._controller.replace()},onKeyDown:u=>{u.equals(1026)&&(this._closeBtn.focus(),u.preventDefault())}})),this._replaceAllBtn=this._register(new hg({label:mle+this._keybindingLabelFor(Ri.ReplaceAllAction),icon:ole,onTrigger:()=>{this._controller.replaceAll()}}));let l=document.createElement("div");l.className="replace-part",l.appendChild(this._replaceInput.domNode);let c=document.createElement("div");c.className="replace-actions",l.appendChild(c),c.appendChild(this._replaceBtn.domNode),c.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new hg({label:vle,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${tu}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(r),this._domNode.appendChild(l),this._resizeSash=new Iu(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let d=tu;this._register(this._resizeSash.onDidStart(()=>{d=Rl(this._domNode)})),this._register(this._resizeSash.onDidChange(u=>{this._resized=!0;let h=d+u.startX-u.currentX;if(h<tu)return;let g=parseFloat($4(this._domNode).maxWidth)||0;h>g||(this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let u=Rl(this._domNode);if(u<tu)return;let h=tu;if(!this._resized||u===tu){let g=this._codeEditor.getLayoutInfo();h=g.width-28-g.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Rl(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let n=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(n!==2)}}return e.ID="editor.contrib.findWidget",e})(),hg=class extends Eo{constructor(i){super(),this._opts=i;let n="button";this._opts.className&&(n=n+" "+this._opts.className),this._opts.icon&&(n=n+" "+An.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=n,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,o=>{this._opts.onTrigger(),o.preventDefault()}),this.onkeydown(this._domNode,o=>{if(o.equals(10)||o.equals(3)){this._opts.onTrigger(),o.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(o)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(i){this._domNode.classList.toggle("disabled",!i),this._domNode.setAttribute("aria-disabled",String(!i)),this._domNode.tabIndex=i?0:-1}setExpanded(i){this._domNode.setAttribute("aria-expanded",String(!!i)),i?(this._domNode.classList.remove(...An.asClassNameArray(Zj)),this._domNode.classList.add(...An.asClassNameArray(Xj))):(this._domNode.classList.remove(...An.asClassNameArray(Xj)),this._domNode.classList.add(...An.asClassNameArray(Zj)))}};ii((e,i)=>{let n=(f,y)=>{y&&i.addRule(`.monaco-editor ${f} { background-color: ${y}; }`)};n(".findMatch",e.getColor(m5)),n(".currentFindMatch",e.getColor(f5)),n(".findScope",e.getColor(v5));let o=e.getColor(Rs);n(".find-widget",o);let r=e.getColor(Nh);r&&i.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${r}; }`);let s=e.getColor(w5);s&&i.addRule(`.monaco-editor .findMatch { border: 1px ${e.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);let l=e.getColor(C5);l&&i.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${l}; padding: 1px; box-sizing: border-box; }`);let c=e.getColor(b5);c&&i.addRule(`.monaco-editor .findScope { border: 1px ${e.type==="hc"?"dashed":"solid"} ${c}; }`);let d=e.getColor(Lh);d&&i.addRule(`.monaco-editor .find-widget { border: 1px solid ${d}; }`);let u=e.getColor(Xf);u&&i.addRule(`.monaco-editor .find-widget { color: ${u}; }`);let h=e.getColor(X8);h&&i.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${h}; }`);let g=e.getColor(h5);if(g)i.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${g}; }`);else{let f=e.getColor(Jf);f&&i.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${f}; }`)}let p=e.getColor(KS);p&&i.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${p}; }`)});wr();Ti();us();Oi();var rW=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},iu=function(e,i){return function(n,o){i(n,o,e)}},Mv=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},xle=524288;function _F(e,i="single"){if(!e.hasModel())return null;let n=e.getSelection();if(i==="single"&&n.startLineNumber===n.endLineNumber||i==="multiple"){if(n.isEmpty()){let o=e.getConfiguredWordAtPosition(n.getStartPosition());if(o)return o.word}else if(e.getModel().getValueLengthInRange(n)<xle)return e.getModel().getValueInRange(n)}return null}var kr=class sW extends yt{constructor(i,n,o,r){super(),this._editor=i,this._findWidgetVisible=ug.bindTo(n),this._contextKeyService=n,this._storageService=o,this._clipboardService=r,this._updateHistoryDelayer=new ba(500),this._state=this._register(new UD),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(i){return i.getContribution(sW.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(i){this.saveQueryState(i),i.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),i.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(i){i.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),i.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),i.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),i.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!xv.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let i=this._editor.getSelections();i.map(n=>(n.endColumn===1&&n.endLineNumber>n.startLineNumber&&(n=n.setEndPosition(n.endLineNumber-1,this._editor.getModel().getLineMaxColumn(n.endLineNumber-1))),n.isEmpty()?null:n)).filter(n=>!!n),i.length&&this._state.change({searchScope:i},!0)}}setSearchString(i){this._state.isRegex&&(i=wu(i)),this._state.change({searchString:i},!1)}highlightFindOptions(i=!1){}_start(i){return Mv(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n={isRevealed:!0};if(i.seedSearchStringFromSelection==="single"){let o=_F(this._editor,i.seedSearchStringFromSelection);o&&(this._state.isRegex?n.searchString=wu(o):n.searchString=o)}else if(i.seedSearchStringFromSelection==="multiple"&&!i.updateSearchScope){let o=_F(this._editor,i.seedSearchStringFromSelection);o&&(n.searchString=o)}if(!n.searchString&&i.seedSearchStringFromGlobalClipboard){let o=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;o&&(n.searchString=o)}if(i.forceRevealReplace?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),i.updateSearchScope){let o=this._editor.getSelections();o.some(r=>!r.isEmpty())&&(n.searchScope=o)}n.loop=i.loop,this._state.change(n,!1),this._model||(this._model=new jD(this._editor,this._state))})}start(i){return this._start(i)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Mv(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(i){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(i)}};kr.ID="editor.contrib.findController";kr=rW([iu(1,Wt),iu(2,br),iu(3,Yg)],kr);var DF=class extends kr{constructor(i,n,o,r,s,l,c,d){super(i,o,c,d),this._contextViewService=n,this._keybindingService=r,this._themeService=s,this._notificationService=l,this._widget=null,this._findOptionsWidget=null}_start(i){let n=Object.create(null,{_start:{get:()=>super._start}});return Mv(this,void 0,void 0,function*(){this._widget||this._createFindWidget();let o=this._editor.getSelection(),r=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":r=!!o&&o.startLineNumber!==o.endLineNumber;break;default:break}i.updateSearchScope=r,yield n._start.call(this,i),this._widget&&(i.shouldFocus===2?this._widget.focusReplaceInput():i.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(i=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!i?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new oW(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new $j(this._editor,this._state,this._keybindingService,this._themeService))}};DF=rW([iu(1,p1),iu(2,Wt),iu(3,En),iu(4,eo),iu(5,bn),iu(6,br),iu(7,Yg)],DF);var _le=h2(new u2({id:Ri.StartFindAction,label:_("startFindAction","Find"),alias:"Find",precondition:st.or(Me.focus,st.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Vt.MenubarEditMenu,group:"3_find",title:_({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));_le.addImplementation(0,(e,i,n)=>{let o=kr.get(i);return o?o.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:i.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(33).loop}):!1});var EF=class extends it{constructor(){super({id:Ri.StartFindWithSelection,label:_("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(i,n){return Mv(this,void 0,void 0,function*(){let o=kr.get(n);o&&(yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop}),o.setGlobalBufferTerm(o.getState().searchString))})}},kv=class extends it{run(i,n){return Mv(this,void 0,void 0,function*(){let o=kr.get(n);o&&!this._run(o)&&(yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:o.getState().searchString.length===0&&n.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop}),this._run(o))})}},MF=class extends kv{constructor(){super({id:Ri.NextMatchFindAction,label:_("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})}_run(i){return i.moveToNextMatch()?(i.editor.pushUndoStop(),!0):!1}},kF=class extends kv{constructor(){super({id:Ri.NextMatchFindAction,label:_("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:st.and(Me.focus,xv),primary:3,weight:100}})}_run(i){return i.moveToNextMatch()?(i.editor.pushUndoStop(),!0):!1}},IF=class extends kv{constructor(){super({id:Ri.PreviousMatchFindAction,label:_("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})}_run(i){return i.moveToPrevMatch()}},RF=class extends kv{constructor(){super({id:Ri.PreviousMatchFindAction,label:_("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:st.and(Me.focus,xv),primary:1027,weight:100}})}_run(i){return i.moveToPrevMatch()}},QD=class extends it{run(i,n){return Mv(this,void 0,void 0,function*(){let o=kr.get(n);if(!o)return;let r=_F(n);r&&o.setSearchString(r),this._run(o)||(yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop}),this._run(o))})}},AF=class extends QD{constructor(){super({id:Ri.NextSelectionMatchFindAction,label:_("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:2109,weight:100}})}_run(i){return i.moveToNextMatch()}},TF=class extends QD{constructor(){super({id:Ri.PreviousSelectionMatchFindAction,label:_("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:3133,weight:100}})}_run(i){return i.moveToPrevMatch()}},Dle=h2(new u2({id:Ri.StartFindReplaceAction,label:_("startReplace","Replace"),alias:"Replace",precondition:st.or(Me.focus,st.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Vt.MenubarEditMenu,group:"3_find",title:_({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Dle.addImplementation(0,(e,i,n)=>{if(!i.hasModel()||i.getOption(77))return!1;let o=kr.get(i);if(!o)return!1;let r=i.getSelection(),s=o.isFindInputFocused(),l=!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&i.getOption(33).seedSearchStringFromSelection&&!s,c=s||l?2:1;return o.start({forceRevealReplace:!0,seedSearchStringFromSelection:l?"single":"none",seedSearchStringFromGlobalClipboard:i.getOption(33).seedSearchStringFromSelection,shouldFocus:c,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(33).loop})});Dt(kr.ID,DF);Ue(EF);Ue(MF);Ue(kF);Ue(IF);Ue(RF);Ue(AF);Ue(TF);var ml=Tn.bindToContribution(kr.get);pt(new ml({id:Ri.CloseFindWidgetCommand,precondition:ug,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:st.and(Me.focus,st.not("isComposing")),primary:9,secondary:[1033]}}));pt(new ml({id:Ri.ToggleCaseSensitiveCommand,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:Me.focus,primary:Ow.primary,mac:Ow.mac,win:Ow.win,linux:Ow.linux}}));pt(new ml({id:Ri.ToggleWholeWordCommand,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:Me.focus,primary:zw.primary,mac:zw.mac,win:zw.win,linux:zw.linux}}));pt(new ml({id:Ri.ToggleRegexCommand,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:Me.focus,primary:Bw.primary,mac:Bw.mac,win:Bw.win,linux:Bw.linux}}));pt(new ml({id:Ri.ToggleSearchScopeCommand,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:Me.focus,primary:Vw.primary,mac:Vw.mac,win:Vw.win,linux:Vw.linux}}));pt(new ml({id:Ri.TogglePreserveCaseCommand,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:Me.focus,primary:Hw.primary,mac:Hw.mac,win:Hw.win,linux:Hw.linux}}));pt(new ml({id:Ri.ReplaceOneAction,precondition:ug,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:Me.focus,primary:3094}}));pt(new ml({id:Ri.ReplaceOneAction,precondition:ug,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:st.and(Me.focus,Nw),primary:3}}));pt(new ml({id:Ri.ReplaceAllAction,precondition:ug,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:Me.focus,primary:2563}}));pt(new ml({id:Ri.ReplaceAllAction,precondition:ug,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:st.and(Me.focus,Nw),primary:void 0,mac:{primary:2051}}}));pt(new ml({id:Ri.SelectAllMatchesAction,precondition:ug,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:Me.focus,primary:515}}));Pt();Fo();On();ln();kl();bt();$t();en();var nu=class{constructor(i,n,o){if(i.length!==n.length||i.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=i,this._endIndexes=n,this._collapseStates=new Uint32Array(Math.ceil(i.length/32)),this._types=o,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let i=[],n=(o,r)=>{let s=i[i.length-1];return this.getStartLineNumber(s)<=o&&this.getEndLineNumber(s)>=r};for(let o=0,r=this._startIndexes.length;o<r;o++){let s=this._startIndexes[o],l=this._endIndexes[o];if(s>16777215||l>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;i.length>0&&!n(s,l);)i.pop();let c=i.length>0?i[i.length-1]:-1;i.push(o),this._startIndexes[o]=s+((c&255)<<24),this._endIndexes[o]=l+((c&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(i){return this._startIndexes[i]&16777215}getEndLineNumber(i){return this._endIndexes[i]&16777215}getType(i){return this._types?this._types[i]:void 0}hasTypes(){return!!this._types}isCollapsed(i){let n=i/32|0,o=i%32;return(this._collapseStates[n]&1<<o)!==0}setCollapsed(i,n){let o=i/32|0,r=i%32,s=this._collapseStates[o];n?this._collapseStates[o]=s|1<<r:this._collapseStates[o]=s&~(1<<r)}toRegion(i){return new FF(this,i)}getParentIndex(i){this.ensureParentIndices();let n=((this._startIndexes[i]&4278190080)>>>24)+((this._endIndexes[i]&4278190080)>>>16);return n===65535?-1:n}contains(i,n){return this.getStartLineNumber(i)<=n&&this.getEndLineNumber(i)>=n}findIndex(i){let n=0,o=this._startIndexes.length;if(o===0)return-1;for(;n<o;){let r=Math.floor((n+o)/2);i<this.getStartLineNumber(r)?o=r:n=r+1}return n-1}findRange(i){let n=this.findIndex(i);if(n>=0){if(this.getEndLineNumber(n)>=i)return n;for(n=this.getParentIndex(n);n!==-1;){if(this.contains(n,i))return n;n=this.getParentIndex(n)}}return-1}toString(){let i=[];for(let n=0;n<this.length;n++)i[n]=`[${this.isCollapsed(n)?"+":"-"}] ${this.getStartLineNumber(n)}/${this.getEndLineNumber(n)}`;return i.join(", ")}},FF=class{constructor(i,n){this.ranges=i,this.index=n}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(i){return i.startLineNumber<=this.startLineNumber&&i.endLineNumber>=this.endLineNumber}containsLine(i){return this.startLineNumber<=i&&i<=this.endLineNumber}};var ZD=class{constructor(i,n){this._updateEventEmitter=new vt,this.onDidChange=this._updateEventEmitter.event,this._textModel=i,this._decorationProvider=n,this._regions=new nu(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(i){if(!i.length)return;i=i.sort((o,r)=>o.regionIndex-r.regionIndex);let n={};this._decorationProvider.changeDecorations(o=>{let r=0,s=-1,l=-1,c=d=>{for(;r<d;){let u=this._regions.getEndLineNumber(r),h=this._regions.isCollapsed(r);u<=s&&o.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(h,u<=l)),h&&u>l&&(l=u),r++}};for(let d of i){let u=d.regionIndex,h=this._editorDecorationIds[u];if(h&&!n[h]){n[h]=!0,c(u);let g=!this._regions.isCollapsed(u);this._regions.setCollapsed(u,g),s=Math.max(s,this._regions.getEndLineNumber(u))}}c(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:i})}update(i,n=[]){let o=[],r=(g,p)=>{for(let f of n)if(g<f&&f<=p)return!0;return!1},s=-1,l=(g,p)=>{let f=i.getStartLineNumber(g),y=i.getEndLineNumber(g);p&&r(f,y)&&(p=!1),i.setCollapsed(g,p);let M=this._textModel.getLineMaxColumn(f),k={startLineNumber:f,startColumn:Math.max(M-1,1),endLineNumber:f,endColumn:M};o.push({range:k,options:this._decorationProvider.getDecorationOption(p,y<=s)}),p&&y>s&&(s=y)},c=0,d=()=>{for(;c<this._regions.length;){let g=this._regions.isCollapsed(c);if(c++,g)return c-1}return-1},u=0,h=d();for(;h!==-1&&u<i.length;){let g=this._textModel.getDecorationRange(this._editorDecorationIds[h]);if(g){let p=g.startLineNumber;if(g.startColumn===Math.max(g.endColumn-1,1)&&this._textModel.getLineMaxColumn(p)===g.endColumn)for(;u<i.length;){let f=i.getStartLineNumber(u);if(p>=f)l(u,p===f),u++;else break}}h=d()}for(;u<i.length;)l(u,!1),u++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,o),this._regions=i,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let i=[];for(let n=0;n<this._regions.length;n++)if(this._regions.isCollapsed(n)){let o=this._textModel.getDecorationRange(this._editorDecorationIds[n]);if(o){let r=o.startLineNumber,s=o.endLineNumber+this._regions.getEndLineNumber(n)-this._regions.getStartLineNumber(n);i.push({startLineNumber:r,endLineNumber:s})}}if(i.length>0)return i}applyMemento(i){if(!Array.isArray(i))return;let n=[];for(let o of i){let r=this.getRegionAtLine(o.startLineNumber);r&&!r.isCollapsed&&n.push(r)}this.toggleCollapseState(n)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(i,n){let o=[];if(this._regions){let r=this._regions.findRange(i),s=1;for(;r>=0;){let l=this._regions.toRegion(r);(!n||n(l,s))&&o.push(l),s++,r=l.parentIndex}}return o}getRegionAtLine(i){if(this._regions){let n=this._regions.findRange(i);if(n>=0)return this._regions.toRegion(n)}return null}getRegionsInside(i,n){let o=[],r=i?i.regionIndex+1:0,s=i?i.endLineNumber:Number.MAX_VALUE;if(n&&n.length===2){let l=[];for(let c=r,d=this._regions.length;c<d;c++){let u=this._regions.toRegion(c);if(this._regions.getStartLineNumber(c)<s){for(;l.length>0&&!u.containedBy(l[l.length-1]);)l.pop();l.push(u),n(u,l.length)&&o.push(u)}else break}}else for(let l=r,c=this._regions.length;l<c;l++){let d=this._regions.toRegion(l);if(this._regions.getStartLineNumber(l)<s)(!n||n(d))&&o.push(d);else break}return o}};function aW(e,i,n){let o=[];for(let r of n){let s=e.getRegionAtLine(r);if(s){let l=!s.isCollapsed;if(o.push(s),i>1){let c=e.getRegionsInside(s,(d,u)=>d.isCollapsed!==l&&u<i);o.push(...c)}}}e.toggleCollapseState(o)}function Gp(e,i,n=Number.MAX_VALUE,o){let r=[];if(o&&o.length>0)for(let s of o){let l=e.getRegionAtLine(s);if(l&&(l.isCollapsed!==i&&r.push(l),n>1)){let c=e.getRegionsInside(l,(d,u)=>d.isCollapsed!==i&&u<n);r.push(...c)}}else{let s=e.getRegionsInside(null,(l,c)=>l.isCollapsed!==i&&c<n);r.push(...s)}e.toggleCollapseState(r)}function PF(e,i,n,o){let r=[];for(let s of o){let l=e.getAllRegionsAtLine(s,(c,d)=>c.isCollapsed!==i&&d<=n);r.push(...l)}e.toggleCollapseState(r)}function lW(e,i,n){let o=[];for(let r of n){let s=e.getAllRegionsAtLine(r,l=>l.isCollapsed!==i);s.length>0&&o.push(s[0])}e.toggleCollapseState(o)}function cW(e,i,n,o){let r=(l,c)=>c===i&&l.isCollapsed!==n&&!o.some(d=>l.containsLine(d)),s=e.getRegionsInside(null,r);e.toggleCollapseState(s)}function LF(e,i,n){let o=[];for(let l of n)o.push(e.getAllRegionsAtLine(l,void 0)[0]);let r=l=>o.every(c=>!c.containedBy(l)&&!l.containedBy(c))&&l.isCollapsed!==i,s=e.getRegionsInside(null,r);e.toggleCollapseState(s)}function XD(e,i,n){let o=e.textModel,r=e.regions,s=[];for(let l=r.length-1;l>=0;l--)if(n!==r.isCollapsed(l)){let c=r.getStartLineNumber(l);i.test(o.getLineContent(c))&&s.push(r.toRegion(l))}e.toggleCollapseState(s)}function JD(e,i,n){let o=e.regions,r=[];for(let s=o.length-1;s>=0;s--)n!==o.isCollapsed(s)&&i===o.getType(s)&&r.push(o.toRegion(s));e.toggleCollapseState(r)}Lo();Gr();Pt();Oi();var eE=Mo("folding-expanded",gt.chevronDown,_("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),tE=Mo("folding-collapsed",gt.chevronRight,_("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),rh=class e{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,n){return n?e.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?e.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:e.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:e.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,n){return this.editor.deltaDecorations(i,n)}changeDecorations(i){return this.editor.changeDecorations(i)}};rh.COLLAPSED_VISUAL_DECORATION=ni.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:An.asClassName(tE)});rh.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=ni.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:An.asClassName(tE)});rh.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=ni.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:An.asClassName(eE)});rh.EXPANDED_VISUAL_DECORATION=ni.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+An.asClassName(eE)});rh.HIDDEN_RANGE_DECORATION=ni.register({stickiness:1});Yi();en();Bt();Rn();var iE=class{constructor(i){this._updateEventEmitter=new vt,this._foldingModel=i,this._foldingModelListener=i.onDidChange(n=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,n=[],o=0,r=0,s=Number.MAX_VALUE,l=-1,c=this._foldingModel.regions;for(;o<c.length;o++){if(!c.isCollapsed(o))continue;let d=c.getStartLineNumber(o)+1,u=c.getEndLineNumber(o);s<=d&&u<=l||(!i&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===d&&this._hiddenRanges[r].endLineNumber===u?(n.push(this._hiddenRanges[r]),r++):(i=!0,n.push(new Ie(d,1,u,1))),s=d,l=u)}(i||r<this._hiddenRanges.length)&&this.applyHiddenRanges(n)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let n=[];for(let o of i){if(!o.startLineNumber||!o.endLineNumber)return!1;n.push(new Ie(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(n),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return dW(this._hiddenRanges,i)!==null}adjustSelections(i){let n=!1,o=this._foldingModel.textModel,r=null,s=l=>((!r||!Ele(l,r))&&(r=dW(this._hiddenRanges,l)),r?r.startLineNumber-1:null);for(let l=0,c=i.length;l<c;l++){let d=i[l],u=s(d.startLineNumber);u&&(d=d.setStartPosition(u,o.getLineMaxColumn(u)),n=!0);let h=s(d.endLineNumber);h&&(d=d.setEndPosition(h,o.getLineMaxColumn(h)),n=!0),i[l]=d}return n}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}};function Ele(e,i){return e>=i.startLineNumber&&e<=i.endLineNumber}function dW(e,i){let n=TS(e,o=>i<o.startLineNumber)-1;return n>=0&&e[n].endLineNumber>=i?e[n]:null}Su();Lo();Su();var Mle=5e3,kle="indent",nE=class{constructor(i){this.editorModel=i,this.id=kle}dispose(){}compute(i){let n=Zi.getFoldingRules(this.editorModel.getLanguageIdentifier().id),o=n&&!!n.offSide,r=n&&n.markers;return Promise.resolve(Ile(this.editorModel,o,r))}},NF=class{constructor(i){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=i}insertFirst(i,n,o){if(i>16777215||n>16777215)return;let r=this._length;this._startIndexes[r]=i,this._endIndexes[r]=n,this._length++,o<1e3&&(this._indentOccurrences[o]=(this._indentOccurrences[o]||0)+1)}toIndentRanges(i){if(this._length<=this._foldingRangesLimit){let n=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let r=this._length-1,s=0;r>=0;r--,s++)n[s]=this._startIndexes[r],o[s]=this._endIndexes[r];return new nu(n,o)}else{let n=0,o=this._indentOccurrences.length;for(let c=0;c<this._indentOccurrences.length;c++){let d=this._indentOccurrences[c];if(d){if(d+n>this._foldingRangesLimit){o=c;break}n+=d}}let r=i.getOptions().tabSize,s=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit);for(let c=this._length-1,d=0;c>=0;c--){let u=this._startIndexes[c],h=i.getLineContent(u),g=il.computeIndentLevel(h,r);(g<o||g===o&&n++<this._foldingRangesLimit)&&(s[d]=u,l[d]=this._endIndexes[c],d++)}return new nu(s,l)}}};function Ile(e,i,n,o=Mle){let r=e.getOptions().tabSize,s=new NF(o),l;n&&(l=new RegExp(`(${n.start.source})|(?:${n.end.source})`));let c=[],d=e.getLineCount()+1;c.push({indent:-1,endAbove:d,line:d});for(let u=e.getLineCount();u>0;u--){let h=e.getLineContent(u),g=il.computeIndentLevel(h,r),p=c[c.length-1];if(g===-1){i&&(p.endAbove=u);continue}let f;if(l&&(f=h.match(l)))if(f[1]){let y=c.length-1;for(;y>0&&c[y].indent!==-2;)y--;if(y>0){c.length=y+1,p=c[y],s.insertFirst(u,p.line,g),p.line=u,p.indent=g,p.endAbove=u;continue}}else{c.push({indent:-2,endAbove:u,line:u});continue}if(p.indent>g){do c.pop(),p=c[c.length-1];while(p.indent>g);let y=p.endAbove-1;y-u>=1&&s.insertFirst(u,y,g)}p.indent===g?p.endAbove=u:c.push({indent:g,endAbove:u,line:u})}return s.toIndentRanges(e)}Vi();ki();bt();var Rle=5e3,Ale={},zF="syntax",oE=class{constructor(i,n,o,r=Rle){this.editorModel=i,this.providers=n,this.limit=r,this.id=zF;for(let s of n)typeof s.onDidChange=="function"&&(this.disposables||(this.disposables=new Xe),this.disposables.add(s.onDidChange(o)))}compute(i){return Tle(this.providers,this.editorModel,i).then(n=>n?BF(n,this.limit):null)}dispose(){var i;(i=this.disposables)===null||i===void 0||i.dispose()}};function Tle(e,i,n){let o=null,r=e.map((s,l)=>Promise.resolve(s.provideFoldingRanges(i,Ale,n)).then(c=>{if(!n.isCancellationRequested&&Array.isArray(c)){Array.isArray(o)||(o=[]);let d=i.getLineCount();for(let u of c)u.start>0&&u.end>u.start&&u.end<=d&&o.push({start:u.start,end:u.end,rank:l,kind:u.kind})}},pn));return Promise.all(r).then(s=>o)}var OF=class{constructor(i){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,o,r){if(i>16777215||n>16777215)return;let s=this._length;this._startIndexes[s]=i,this._endIndexes[s]=n,this._nestingLevels[s]=r,this._types[s]=o,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=0;o<this._length;o++)i[o]=this._startIndexes[o],n[o]=this._endIndexes[o];return new nu(i,n,this._types)}else{let i=0,n=this._nestingLevelCounts.length;for(let l=0;l<this._nestingLevelCounts.length;l++){let c=this._nestingLevelCounts[l];if(c){if(c+i>this._foldingRangesLimit){n=l;break}i+=c}}let o=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),s=[];for(let l=0,c=0;l<this._length;l++){let d=this._nestingLevels[l];(d<n||d===n&&i++<this._foldingRangesLimit)&&(o[c]=this._startIndexes[l],r[c]=this._endIndexes[l],s[c]=this._types[l],c++)}return new nu(o,r,s)}}};function BF(e,i){let n=e.sort((l,c)=>{let d=l.start-c.start;return d===0&&(d=l.rank-c.rank),d}),o=new OF(i),r,s=[];for(let l of n)if(!r)r=l,o.add(l.start,l.end,l.kind&&l.kind.value,s.length);else if(l.start>r.start)if(l.end<=r.end)s.push(r),r=l,o.add(l.start,l.end,l.kind&&l.kind.value,s.length);else{if(l.start>r.end){do r=s.pop();while(r&&l.start>r.end);r&&s.push(r),r=l}o.add(l.start,l.end,l.kind&&l.kind.value,s.length)}return o.toIndentRanges()}var VF="init",rE=class{constructor(i,n,o,r){if(this.editorModel=i,this.id=VF,n.length){let s=l=>({range:{startLineNumber:l.startLineNumber,startColumn:0,endLineNumber:l.endLineNumber,endColumn:i.getLineLength(l.endLineNumber)},options:{stickiness:1}});this.decorationIds=i.deltaDecorations([],n.map(s)),this.timeout=setTimeout(o,r)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(i){let n=[];if(this.decorationIds)for(let o of this.decorationIds){let r=this.editorModel.getDecorationRange(o);r&&n.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(BF(n,Number.MAX_VALUE))}};ki();Ti();Oi();vn();var Ple=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Lle=function(e,i){return function(n,o){i(n,o,e)}},ts=new ei("foldingEnabled",!1),Iv=class hW extends yt{constructor(i,n){super(),this.contextKeyService=n,this.localToDispose=this._register(new Xe),this.editor=i;let o=this.editor.getOptions();this._isEnabled=o.get(35),this._useFoldingProviders=o.get(36)!=="indentation",this._unfoldOnClickAfterEndOfLine=o.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new rh(i),this.foldingDecorationProvider.autoHideFoldingControls=o.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=o.get(37),this.foldingEnabled=ts.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(r=>{if(r.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),r.hasChanged(96)||r.hasChanged(37)){let s=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=s.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=s.get(37),this.onModelContentChanged()}r.hasChanged(36)&&(this._useFoldingProviders=this.editor.getOptions().get(36)!=="indentation",this.onFoldingStrategyChanged()),r.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(i){return i.getContribution(hW.ID)}saveViewState(){let i=this.editor.getModel();if(!i||!this._isEnabled||i.isTooLargeForTokenization())return{};if(this.foldingModel){let n=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),o=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:n,lineCount:i.getLineCount(),provider:o}}}restoreViewState(i){let n=this.editor.getModel();if(!n||!this._isEnabled||n.isTooLargeForTokenization()||!this.hiddenRangeModel||!i||!i.collapsedRegions||i.lineCount!==n.getLineCount())return;(i.provider===zF||i.provider===VF)&&(this.foldingStateMemento=i);let o=i.collapsedRegions;if(this.hiddenRangeModel.applyMemento(o)){let r=this.getFoldingModel();r&&r.then(s=>{if(s){this._restoringViewState=!0;try{s.applyMemento(o)}finally{this._restoringViewState=!1}}}).then(void 0,Ut)}}onModelChanged(){this.localToDispose.clear();let i=this.editor.getModel();!this._isEnabled||!i||i.isTooLargeForTokenization()||(this.foldingModel=new ZD(i,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new iE(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(n=>this.onHiddenRangesChanges(n))),this.updateScheduler=new ba(200),this.cursorChangedScheduler=new qn(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(t2.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(n=>this.onEditorMouseDown(n))),this.localToDispose.add(this.editor.onMouseUp(n=>this.onEditorMouseUp(n))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(i){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new nE(i),this._useFoldingProviders&&this.foldingModel){let n=t2.ordered(this.foldingModel.textModel);if(n.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new rE(i,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);n.length>0&&(this.rangeProvider=new oE(i,n,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let i=this.foldingModel;if(!i)return null;let n=this.foldingRegionPromise=ji(o=>this.getRangeProvider(i.textModel).compute(o));return n.then(o=>{if(o&&n===this.foldingRegionPromise){let r=this.editor.getSelections(),s=r?r.map(l=>l.startLineNumber):[];i.update(o,s)}return i})}).then(void 0,i=>(Ut(i),null)))}onHiddenRangesChanges(i){if(this.hiddenRangeModel&&i.length&&!this._restoringViewState){let n=this.editor.getSelections();n&&this.hiddenRangeModel.adjustSelections(n)&&this.editor.setSelections(n)}this.editor.setHiddenAreas(i)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let i=this.getFoldingModel();i&&i.then(n=>{if(n){let o=this.editor.getSelections();if(o&&o.length>0){let r=[];for(let s of o){let l=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(l)&&r.push(...n.getAllRegionsAtLine(l,c=>c.isCollapsed&&l>c.startLineNumber))}r.length&&(n.toggleCollapseState(r),this.reveal(o[0].getPosition()))}}}).then(void 0,Ut)}onEditorMouseDown(i){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!i.target||!i.target.range||!i.event.leftButton&&!i.event.middleButton)return;let n=i.target.range,o=!1;switch(i.target.type){case 4:let r=i.target.detail,s=i.target.element.offsetLeft;if(r.offsetX-s<5)return;o=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!i.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let c=this.editor.getModel();if(c&&n.startColumn===c.getLineMaxColumn(n.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:n.startLineNumber,iconClicked:o}}onEditorMouseUp(i){let n=this.getFoldingModel();if(!n||!this.mouseDownInfo||!i.target)return;let o=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,s=i.target.range;if(!(!s||s.startLineNumber!==o)){if(r){if(i.target.type!==4)return}else{let l=this.editor.getModel();if(!l||s.startColumn!==l.getLineMaxColumn(o))return}n.then(l=>{if(l){let c=l.getRegionAtLine(o);if(c&&c.startLineNumber===o){let d=c.isCollapsed;if(r||d){let u=i.event.altKey,h=[];if(u){let g=f=>!f.containedBy(c)&&!c.containedBy(f),p=l.getRegionsInside(null,g);for(let f of p)f.isCollapsed&&h.push(f);h.length===0&&(h=p)}else{let g=i.event.middleButton||i.event.shiftKey;if(g)for(let p of l.getRegionsInside(c))p.isCollapsed===d&&h.push(p);(d||!g||h.length===0)&&h.push(c)}l.toggleCollapseState(h),this.reveal({lineNumber:o,column:1})}}}}).then(void 0,Ut)}}reveal(i){this.editor.revealPositionInCenterIfOutsideViewport(i,0)}};Iv.ID="editor.contrib.folding";Iv=Ple([Lle(1,Wt)],Iv);var Ir=class extends it{runEditorCommand(i,n,o){let r=Iv.get(n);if(!r)return;let s=r.getFoldingModel();if(s)return this.reportTelemetry(i,n),s.then(l=>{if(l){this.invoke(r,l,n,o);let c=n.getSelection();c&&r.reveal(c.getStartPosition())}})}getSelectedLines(i){let n=i.getSelections();return n?n.map(o=>o.startLineNumber):[]}getLineNumbers(i,n){return i&&i.selectionLines?i.selectionLines.map(o=>o+1):this.getSelectedLines(n)}run(i,n){}};function gW(e){if(!L0(e)){if(!xS(e))return!1;let i=e;if(!L0(i.levels)&&!Kk(i.levels)||!L0(i.direction)&&!SS(i.direction)||!L0(i.selectionLines)&&(!m8(i.selectionLines)||!i.selectionLines.every(Kk)))return!1}return!0}var HF=class extends Ir{constructor(){super({id:"editor.unfold",label:_("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:gW,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(i,n,o,r){let s=r&&r.levels||1,l=this.getLineNumbers(r,o);r&&r.direction==="up"?PF(n,!1,s,l):Gp(n,!1,s,l)}},GF=class extends Ir{constructor(){super({id:"editor.unfoldRecursively",label:_("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2137),weight:100}})}invoke(i,n,o,r){Gp(n,!1,Number.MAX_VALUE,this.getSelectedLines(o))}},jF=class extends Ir{constructor(){super({id:"editor.fold",label:_("foldAction.label","Fold"),alias:"Fold",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:gW,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(i,n,o,r){let s=this.getLineNumbers(r,o),l=r&&r.levels,c=r&&r.direction;typeof l!="number"&&typeof c!="string"?lW(n,!0,s):c==="up"?PF(n,!0,l||1,s):Gp(n,!0,l||1,s)}},WF=class extends Ir{constructor(){super({id:"editor.toggleFold",label:_("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2090),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);aW(n,1,r)}},UF=class extends Ir{constructor(){super({id:"editor.foldRecursively",label:_("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2135),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);Gp(n,!0,Number.MAX_VALUE,r)}},$F=class extends Ir{constructor(){super({id:"editor.foldAllBlockComments",label:_("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2133),weight:100}})}invoke(i,n,o){if(n.regions.hasTypes())JD(n,ES.Comment.value,!0);else{let r=o.getModel();if(!r)return;let s=Zi.getComments(r.getLanguageIdentifier().id);if(s&&s.blockCommentStartToken){let l=new RegExp("^\\s*"+wu(s.blockCommentStartToken));XD(n,l,!0)}}}},qF=class extends Ir{constructor(){super({id:"editor.foldAllMarkerRegions",label:_("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2077),weight:100}})}invoke(i,n,o){if(n.regions.hasTypes())JD(n,ES.Region.value,!0);else{let r=o.getModel();if(!r)return;let s=Zi.getFoldingRules(r.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){let l=new RegExp(s.markers.start);XD(n,l,!0)}}}},KF=class extends Ir{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2078),weight:100}})}invoke(i,n,o){if(n.regions.hasTypes())JD(n,ES.Region.value,!1);else{let r=o.getModel();if(!r)return;let s=Zi.getFoldingRules(r.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){let l=new RegExp(s.markers.start);XD(n,l,!1)}}}},YF=class extends Ir{constructor(){super({id:"editor.foldAllExcept",label:_("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2131),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);LF(n,!0,r)}},QF=class extends Ir{constructor(){super({id:"editor.unfoldAllExcept",label:_("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2129),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);LF(n,!1,r)}},ZF=class extends Ir{constructor(){super({id:"editor.foldAll",label:_("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2069),weight:100}})}invoke(i,n,o){Gp(n,!0)}},XF=class extends Ir{constructor(){super({id:"editor.unfoldAll",label:_("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2088),weight:100}})}invoke(i,n,o){Gp(n,!1)}},uW=(()=>{class e extends Ir{getFoldingLevel(){return parseInt(this.id.substr(e.ID_PREFIX.length))}invoke(n,o,r){cW(o,this.getFoldingLevel(),!0,this.getSelectedLines(r))}}return e.ID_PREFIX="editor.foldLevel",e.ID=i=>e.ID_PREFIX+i,e})();Dt(Iv.ID,Iv);Ue(HF);Ue(GF);Ue(jF);Ue(UF);Ue(ZF);Ue(XF);Ue($F);Ue(qF);Ue(KF);Ue(YF);Ue(QF);Ue(WF);for(let e=1;e<=7;e++)US(new uW({id:uW.ID(e),label:_("foldLevelAction.label","Fold Level {0}",e),alias:`Fold Level ${e}`,precondition:ts,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2048|21+e),weight:100}}));var Nle=St("editor.foldBackground",{light:C2(m2,.3),dark:C2(m2,.3),hc:null},_("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Ole=St("editorGutter.foldingControlForeground",{dark:qS,light:qS,hc:qS},_("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));ii((e,i)=>{let n=e.getColor(Nle);n&&i.addRule(`.monaco-editor .folded-background { background-color: ${n}; }`);let o=e.getColor(Ole);o&&i.addRule(`
		.monaco-editor .cldr${An.asCSSSelector(eE)},
		.monaco-editor .cldr${An.asCSSSelector(tE)} {
			color: ${o} !important;
		}
		`)});Pt();$t();SQ();var JF=class extends it{constructor(){super({id:"editor.action.fontZoomIn",label:_("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(i,n){Hf.setZoomLevel(Hf.getZoomLevel()+1)}},eP=class extends it{constructor(){super({id:"editor.action.fontZoomOut",label:_("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,n){Hf.setZoomLevel(Hf.getZoomLevel()-1)}},tP=class extends it{constructor(){super({id:"editor.action.fontZoomReset",label:_("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,n){Hf.setZoomLevel(0)}};Ue(JF);Ue(eP);Ue(tP);var Iit=yh(mW());To();Dh();$n();Ug();Rn();$n();ki();F0();Bt();Vi();CQ();Zk();var gg=class{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(i,n){let o;typeof i=="string"?o=`${n.id}/${i}`:(o=`${n.id}/${i.name}`,n.children.get(o)!==void 0&&(o=`${n.id}/${i.name}_${i.range.startLineNumber}_${i.range.startColumn}`));let r=o;for(let s=0;n.children.get(r)!==void 0;s++)r=`${o}_${s}`;return r}static empty(i){return i.children.size===0}},sE=class extends gg{constructor(i,n,o){super(),this.id=i,this.parent=n,this.symbol=o,this.children=new Map}},rP=class extends gg{constructor(i,n,o,r){super(),this.id=i,this.parent=n,this.label=o,this.order=r,this.children=new Map}},sh=class e extends gg{constructor(i){super(),this.uri=i,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(i,n){let o=this._keys.for(i,!0),r=e._requests.get(o);if(!r){let s=new Cr;r={promiseCnt:0,source:s,promise:e._create(i,s.token),model:void 0},e._requests.set(o,r);let l=Date.now();r.promise.then(()=>{this._requestDurations.update(i,Date.now()-l)})}return r.model?Promise.resolve(r.model):(r.promiseCnt+=1,n.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),e._requests.delete(o))}),new Promise((s,l)=>{r.promise.then(c=>{r.model=c,s(c)},c=>{e._requests.delete(o),l(c)})}))}static _create(i,n){let o=new Cr(n),r=new e(i.uri),s=Ta.ordered(i),l=s.map((d,u)=>{var h;let g=gg.findId(`provider_${u}`,r),p=new rP(g,r,(h=d.displayName)!==null&&h!==void 0?h:"Unknown Outline Provider",u);return Promise.resolve(d.provideDocumentSymbols(i,o.token)).then(f=>{for(let y of f||[])e._makeOutlineElement(y,p);return p},f=>(pn(f),p)).then(f=>{gg.empty(f)?f.remove():r._groups.set(g,f)})}),c=Ta.onDidChange(()=>{let d=Ta.ordered(i);Ih(d,s)||o.cancel()});return Promise.all(l).then(()=>o.token.isCancellationRequested&&!n.isCancellationRequested?e._create(i,n):r._compact()).finally(()=>{c.dispose()})}static _makeOutlineElement(i,n){let o=gg.findId(i,n),r=new sE(o,n,i);if(i.children)for(let s of i.children)e._makeOutlineElement(s,r);n.children.set(r.id,r)}_compact(){let i=0;for(let[n,o]of this._groups)o.children.size===0?this._groups.delete(n):i+=1;if(i!==1)this.children=this._groups;else{let n=Tk.first(this._groups.values());for(let[,o]of n.children)o.parent=this,this.children.set(o.id,o)}return this}getTopLevelSymbols(){let i=[];for(let n of this.children.values())n instanceof sE?i.push(n.symbol):i.push(...Tk.map(n.children.values(),o=>o.symbol));return i.sort((n,o)=>Ie.compareRangesUsingStarts(n.range,o.range))}asListOfDocumentSymbols(){let i=this.getTopLevelSymbols(),n=[];return e._flattenDocumentSymbols(n,i,""),n.sort((o,r)=>Ie.compareRangesUsingStarts(o.range,r.range))}static _flattenDocumentSymbols(i,n,o){for(let r of n)i.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||o,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&e._flattenDocumentSymbols(i,r.children,r.name)}};sh._requestDurations=new jg(Ta,350);sh._requests=new _h(9,.75);sh._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(e,i){return`${e.id}/${i?e.getVersionId():""}/${this._hash(Ta.all(e))}`}_hash(e){let i="";for(let n of e){let o=this._data.get(n);typeof o>"u"&&(o=this._counter++,this._data.set(n,o)),i+=o}return i}};Do();Fo();var CW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})};function vW(e,i,n){return CW(this,void 0,void 0,function*(){let o=yield sh.create(e,n);return i?o.asListOfDocumentSymbols():o.getTopLevelSymbols()})}xi.registerCommand("_executeDocumentSymbolProvider",function(e,...i){return CW(this,void 0,void 0,function*(){let[n]=i;tn(ci.isUri(n));let o=e.get(Po).getModel(n);if(o)return vW(o,!1,Jt.None);let r=yield e.get(jr).createModelReference(n);try{return yield vW(r.object.textEditorModel,!1,Jt.None)}finally{r.dispose()}})});Pt();bt();On();$t();Ah();Bt();lo();Yi();Lo();Su();Dh();function Zo(e,i){let n=0;for(let o=0;o<e.length;o++)e.charAt(o)==="	"?n+=i:n++;return n}function Wp(e,i,n){e=e<0?0:e;let o="";if(!n){let r=Math.floor(e/i);e=e%i;for(let s=0;s<r;s++)o+="	"}for(let r=0;r<e;r++)o+=" ";return o}function yW(e,i,n,o){if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return[];let r=Zi.getIndentationRules(e.getLanguageIdentifier().id);if(!r)return[];for(n=Math.min(n,e.getLineCount());i<=n&&r.unIndentedLinePattern;){let M=e.getLineContent(i);if(!r.unIndentedLinePattern.test(M))break;i++}if(i>n-1)return[];let{tabSize:s,indentSize:l,insertSpaces:c}=e.getOptions(),d=(M,k)=>(k=k||1,Oh.shiftIndent(M,M.length+k,s,l,c)),u=(M,k)=>(k=k||1,Oh.unshiftIndent(M,M.length+k,s,l,c)),h=[],g,p=e.getLineContent(i),f=p;if(o!=null){g=o;let M=Kn(p);f=g+p.substring(M.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(f)&&(g=u(g),f=g+p.substring(M.length)),p!==f&&h.push(nn.replaceMove(new Ct(i,1,i,M.length+1),il.normalizeIndentation(g,l,c)))}else g=Kn(p);let y=g;r.increaseIndentPattern&&r.increaseIndentPattern.test(f)?(y=d(y),g=d(g)):r.indentNextLinePattern&&r.indentNextLinePattern.test(f)&&(y=d(y)),i++;for(let M=i;M<=n;M++){let k=e.getLineContent(M),G=Kn(k),J=y+k.substring(G.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(J)&&(y=u(y),g=u(g)),G!==y&&h.push(nn.replaceMove(new Ct(M,1,M,G.length+1),il.normalizeIndentation(y,l,c))),!(r.unIndentedLinePattern&&r.unIndentedLinePattern.test(k))&&(r.increaseIndentPattern&&r.increaseIndentPattern.test(J)?(g=d(g),y=g):r.indentNextLinePattern&&r.indentNextLinePattern.test(J)?y=d(y):y=g)}return h}var zle=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:Me.writable})}run(n,o){let r=o.getModel();if(!r)return;let s=r.getOptions(),l=o.getSelection();if(!l)return;let c=new cP(l,s.tabSize);o.pushUndoStop(),o.executeCommands(this.id,[c]),o.pushUndoStop(),r.updateOptions({insertSpaces:!0})}}return e.ID="editor.action.indentationToSpaces",e})(),Ble=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:Me.writable})}run(n,o){let r=o.getModel();if(!r)return;let s=r.getOptions(),l=o.getSelection();if(!l)return;let c=new dP(l,s.tabSize);o.pushUndoStop(),o.executeCommands(this.id,[c]),o.pushUndoStop(),r.updateOptions({insertSpaces:!1})}}return e.ID="editor.action.indentationToTabs",e})(),aE=class extends it{constructor(i,n){super(n),this.insertSpaces=i}run(i,n){let o=i.get(As),r=i.get(Po),s=n.getModel();if(!s)return;let l=r.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget),c=[1,2,3,4,5,6,7,8].map(u=>({id:u.toString(),label:u.toString(),description:u===l.tabSize?_("configuredTabSize","Configured Tab Size"):void 0})),d=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{o.pick(c,{placeHolder:_({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:c[d]}).then(u=>{u&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(u.label,10),insertSpaces:this.insertSpaces})})},50)}},Vle=(()=>{class e extends aE{constructor(){super(!1,{id:e.ID,label:_("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return e.ID="editor.action.indentUsingTabs",e})(),Hle=(()=>{class e extends aE{constructor(){super(!0,{id:e.ID,label:_("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return e.ID="editor.action.indentUsingSpaces",e})(),Gle=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(n,o){let r=n.get(Po),s=o.getModel();if(!s)return;let l=r.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget);s.detectIndentation(l.insertSpaces,l.tabSize)}}return e.ID="editor.action.detectIndentation",e})(),sP=class extends it{constructor(){super({id:"editor.action.reindentlines",label:_("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:Me.writable})}run(i,n){let o=n.getModel();if(!o)return;let r=yW(o,1,o.getLineCount());r.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,r),n.pushUndoStop())}},aP=class extends it{constructor(){super({id:"editor.action.reindentselectedlines",label:_("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:Me.writable})}run(i,n){let o=n.getModel();if(!o)return;let r=n.getSelections();if(r===null)return;let s=[];for(let l of r){let c=l.startLineNumber,d=l.endLineNumber;if(c!==d&&l.endColumn===1&&d--,c===1){if(c===d)continue}else c--;let u=yW(o,c,d);s.push(...u)}s.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,s),n.pushUndoStop())}},lP=class{constructor(i,n){this._initialSelection=n,this._edits=[],this._selectionId=null;for(let o of i)o.range&&typeof o.text=="string"&&this._edits.push(o)}getEditOperations(i,n){for(let r of this._edits)n.addEditOperation(Ie.lift(r.range),r.text);let o=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(o=!0,this._selectionId=n.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(o=!0,this._selectionId=n.trackSelection(this._initialSelection,!1))),o||(this._selectionId=n.trackSelection(this._initialSelection))}computeCursorState(i,n){return n.getTrackedSelection(this._selectionId)}},bW=(()=>{class e{constructor(n){this.callOnDispose=new Xe,this.callOnModel=new Xe,this.editor=n,this.callOnDispose.add(n.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(n.onDidChangeModel(()=>this.update())),this.callOnDispose.add(n.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(44))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:n})=>{this.trigger(n)}))}trigger(n){let o=this.editor.getSelections();if(o===null||o.length>1)return;let r=this.editor.getModel();if(!r||!r.isCheapToTokenize(n.getStartPosition().lineNumber))return;let s=this.editor.getOption(9),{tabSize:l,indentSize:c,insertSpaces:d}=r.getOptions(),u=[],h={shiftIndent:y=>Oh.shiftIndent(y,y.length+1,l,c,d),unshiftIndent:y=>Oh.unshiftIndent(y,y.length+1,l,c,d)},g=n.startLineNumber;for(;g<=n.endLineNumber;){if(this.shouldIgnoreLine(r,g)){g++;continue}break}if(g>n.endLineNumber)return;let p=r.getLineContent(g);if(!/\S/.test(p.substring(0,n.startColumn-1))){let y=Zi.getGoodIndentForLine(s,r,r.getLanguageIdentifier().id,g,h);if(y!==null){let M=Kn(p),k=Zo(y,l),G=Zo(M,l);if(k!==G){let J=Wp(k,l,d);u.push({range:new Ie(g,1,g,M.length+1),text:J}),p=J+p.substr(M.length)}else{let J=Zi.getIndentMetadata(r,g);if(J===0||J===8)return}}}let f=g;for(;g<n.endLineNumber;){if(!/\S/.test(r.getLineContent(g+1))){g++;continue}break}if(g!==n.endLineNumber){let y={getLineTokens:k=>r.getLineTokens(k),getLanguageIdentifier:()=>r.getLanguageIdentifier(),getLanguageIdAtPosition:(k,G)=>r.getLanguageIdAtPosition(k,G),getLineContent:k=>k===f?p:r.getLineContent(k)},M=Zi.getGoodIndentForLine(s,y,r.getLanguageIdentifier().id,g+1,h);if(M!==null){let k=Zo(M,l),G=Zo(Kn(r.getLineContent(g+1)),l);if(k!==G){let J=k-G;for(let $=g+1;$<=n.endLineNumber;$++){let _e=r.getLineContent($),Te=Kn(_e),$e=Zo(Te,l)+J,nt=Wp($e,l,d);nt!==Te&&u.push({range:new Ie($,1,$,Te.length+1),text:nt})}}}}if(u.length>0){this.editor.pushUndoStop();let y=new lP(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",y),this.editor.pushUndoStop()}}shouldIgnoreLine(n,o){n.forceTokenization(o);let r=n.getLineFirstNonWhitespaceColumn(o);if(r===0)return!0;let s=n.getLineTokens(o);if(s.getCount()>0){let l=s.findTokenIndexAtOffset(r);if(l>=0&&s.getStandardTokenType(l)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}return e.ID="editor.contrib.autoIndentOnPaste",e})();function SW(e,i,n,o){if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return;let r="";for(let l=0;l<n;l++)r+=" ";let s=new RegExp(r,"gi");for(let l=1,c=e.getLineCount();l<=c;l++){let d=e.getLineFirstNonWhitespaceColumn(l);if(d===0&&(d=e.getLineMaxColumn(l)),d===1)continue;let u=new Ie(l,1,l,d),h=e.getValueInRange(u),g=o?h.replace(/\t/ig,r):h.replace(s,"	");i.addEditOperation(u,g)}}var cP=class{constructor(i,n){this.selection=i,this.tabSize=n,this.selectionId=null}getEditOperations(i,n){this.selectionId=n.trackSelection(this.selection),SW(i,n,this.tabSize,!0)}computeCursorState(i,n){return n.getTrackedSelection(this.selectionId)}},dP=class{constructor(i,n){this.selection=i,this.tabSize=n,this.selectionId=null}getEditOperations(i,n){this.selectionId=n.trackSelection(this.selection),SW(i,n,this.tabSize,!1)}computeCursorState(i,n){return n.getTrackedSelection(this.selectionId)}};Dt(bW.ID,bW);Ue(zle);Ue(Ble);Ue(Vle);Ue(Hle);Ue(Gle);Ue(sP);Ue(aP);ln();ki();Qk();bt();$t();Ho();Vi();Rn();vn();$n();Oi();Bt();Zk();Do();To();Fo();Ug();var jle=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},xW=function(e,i){return function(n,o){i(n,o,e)}},uP=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},Wle=500;function _W(e,i,n){return uP(this,void 0,void 0,function*(){let o=[],r=Uf.ordered(e).reverse(),s=$g(r.map(l=>i.map(c=>Promise.resolve(l.provideInlineHints(e,c,n)).then(d=>{d&&o.push({list:d,provider:l})},d=>{pn(d)}))));return yield Promise.all(s),o})}var Kw=class{constructor(i,n,o){this._editor=i,this._codeEditorService=n,this._themeService=o,this._disposables=new Xe,this._sessionDisposables=new Xe,this._getInlineHintsDelays=new jg(Uf,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(Uf.onDidChange(()=>this._update())),this._disposables.add(o.onDidColorThemeChange(()=>this._update())),this._disposables.add(i.onDidChangeModel(()=>this._update())),this._disposables.add(i.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(i.onDidChangeConfiguration(r=>{r.hasChanged(123)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(123).enabled){this._removeAllDecorations();return}let i=this._editor.getModel();if(!i||!Uf.has(i)){this._removeAllDecorations();return}let n=new qn(()=>uP(this,void 0,void 0,function*(){let r=Date.now(),s=new Cr;this._sessionDisposables.add(ao(()=>s.dispose(!0)));let l=this._editor.getVisibleRangesPlusViewportAboveBelow(),c=yield _W(i,l,s.token),d=this._getInlineHintsDelays.update(i,Date.now()-r);n.delay=d,this._updateHintsDecorators(c)}),this._getInlineHintsDelays.get(i));this._sessionDisposables.add(n),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>n.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>n.schedule())),n.schedule();let o=new Xe;this._sessionDisposables.add(o);for(let r of Uf.all(i))typeof r.onDidChangeInlineHints=="function"&&o.add(r.onDidChangeInlineHints(()=>n.schedule()))}_updateHintsDecorators(i){let{fontSize:n,fontFamily:o}=this._getLayoutInfo(),r=this._themeService.getColorTheme().getColor(_5),s=this._themeService.getColorTheme().getColor(x5),l=[],c=[],d="--inlineHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(d,o);for(let{list:u}of i)for(let h=0;h<u.length&&c.length<Wle;h++){let{text:g,range:p,description:f,whitespaceBefore:y,whitespaceAfter:M}=u[h],k=y?n/3|0:0,G=M?n/3|0:0,J={contentText:g,backgroundColor:`${r}`,color:`${s}`,margin:`0px ${G}px 0px ${k}px`,fontSize:`${n}px`,fontFamily:`var(${d})`,padding:`0px ${n/4|0}px`,borderRadius:`${n/4|0}px`},$="inlineHints-"+Gf(J).toString(16);this._codeEditorService.registerDecorationType($,{before:J},void 0,this._editor),l.push($);let _e=this._codeEditorService.resolveDecorationOptions($,!0);typeof f=="string"?_e.hoverMessage=new Qo().appendText(f):f&&(_e.hoverMessage=f),c.push({range:p,options:_e})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=l,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,c)}_getLayoutInfo(){let i=this._editor.getOption(123),n=this._editor.getOption(42),o=i.fontSize;(!o||o<5||o>n)&&(o=n*.9|0);let r=i.fontFamily;return{fontSize:o,fontFamily:r}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};Kw.ID="editor.contrib.InlineHints";Kw=jle([xW(1,Ii),xW(2,eo)],Kw);Dt(Kw.ID,Kw);xi.registerCommand("_executeInlineHintProvider",(e,...i)=>uP(void 0,void 0,void 0,function*(){let[n,o]=i;tn(ci.isUri(n)),tn(Ie.isIRange(o));let r=yield e.get(jr).createModelReference(n);try{let s=yield _W(r.object.textEditorModel,[Ie.lift(o)],Jt.None);return $g(s.map(l=>l.list)).sort((l,c)=>Ie.compareRangesUsingStarts(l.range,c.range))}finally{r.dispose()}}));var Oit=yh(EW());Pt();kl();$t();On();Ah();Bt();var cE=class{constructor(i,n){this._selection=i,this._cursors=n,this._selectionId=null}getEditOperations(i,n){let o=qle(i,this._cursors);for(let r=0,s=o.length;r<s;r++){let l=o[r];n.addEditOperation(l.range,l.text)}this._selectionId=n.trackSelection(this._selection)}computeCursorState(i,n){return n.getTrackedSelection(this._selectionId)}};function qle(e,i){i.sort((l,c)=>l.lineNumber===c.lineNumber?l.column-c.column:l.lineNumber-c.lineNumber);for(let l=i.length-2;l>=0;l--)i[l].lineNumber===i[l+1].lineNumber&&i.splice(l,1);let n=[],o=0,r=0,s=i.length;for(let l=1,c=e.getLineCount();l<=c;l++){let d=e.getLineContent(l),u=d.length+1,h=0;if(r<s&&i[r].lineNumber===l&&(h=i[r].column,r++,h===u)||d.length===0)continue;let g=Of(d),p=0;if(g===-1)p=1;else if(g!==d.length-1)p=g+2;else continue;p=Math.max(h,p),n[o++]=nn.delete(new Ie(l,p,l,u))}return n}Ah();Jn();Bt();lo();Yi();Bt();lo();var Qw=class{constructor(i,n,o){this._selection=i,this._isCopyingDown=n,this._noop=o||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(i,n){let o=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._endLineNumberDelta=1,o=o.setEndPosition(o.endLineNumber-1,i.getLineMaxColumn(o.endLineNumber-1)));let r=[];for(let l=o.startLineNumber;l<=o.endLineNumber;l++)r.push(i.getLineContent(l));let s=r.join(`
`);s===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?n.addEditOperation(new Ie(o.endLineNumber,i.getLineMaxColumn(o.endLineNumber),o.endLineNumber+1,1),o.endLineNumber===i.getLineCount()?"":`
`):this._isCopyingDown?n.addEditOperation(new Ie(o.startLineNumber,1,o.startLineNumber,1),s+`
`):n.addEditOperation(new Ie(o.endLineNumber,i.getLineMaxColumn(o.endLineNumber),o.endLineNumber,i.getLineMaxColumn(o.endLineNumber)),`
`+s),this._selectionId=n.trackSelection(o),this._selectionDirection=this._selection.getDirection()}computeCursorState(i,n){let o=n.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let r=o.startLineNumber,s=o.startColumn,l=o.endLineNumber,c=o.endColumn;this._startLineNumberDelta!==0&&(r=r+this._startLineNumberDelta,s=1),this._endLineNumberDelta!==0&&(l=l+this._endLineNumberDelta,c=1),o=Ct.createWithDirection(r,s,l,c,this._selectionDirection)}return o}};On();Bt();lo();DQ();Su();var dE=class{constructor(i,n,o){this._selection=i,this._isMovingDown=n,this._autoIndent=o,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,n){let o=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===o){this._selectionId=n.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=n.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,i.getLineMaxColumn(r.endLineNumber-1)));let{tabSize:s,indentSize:l,insertSpaces:c}=i.getOptions(),d=this.buildIndentConverter(s,l,c),u={getLineTokens:h=>i.getLineTokens(h),getLanguageIdentifier:()=>i.getLanguageIdentifier(),getLanguageIdAtPosition:(h,g)=>i.getLanguageIdAtPosition(h,g),getLineContent:null};if(r.startLineNumber===r.endLineNumber&&i.getLineMaxColumn(r.startLineNumber)===1){let h=r.startLineNumber,g=this._isMovingDown?h+1:h-1;i.getLineMaxColumn(g)===1?n.addEditOperation(new Ie(1,1,1,1),null):(n.addEditOperation(new Ie(h,1,h,1),i.getLineContent(g)),n.addEditOperation(new Ie(g,1,g,i.getLineMaxColumn(g)),null)),r=new Ct(g,1,g,1)}else{let h,g;if(this._isMovingDown){h=r.endLineNumber+1,g=i.getLineContent(h),n.addEditOperation(new Ie(h-1,i.getLineMaxColumn(h-1),h,i.getLineMaxColumn(h)),null);let p=g;if(this.shouldAutoIndent(i,r)){let f=this.matchEnterRule(i,d,s,h,r.startLineNumber-1);if(f!==null){let M=Kn(i.getLineContent(h)),k=f+Zo(M,s);p=Wp(k,s,c)+this.trimLeft(g)}else{u.getLineContent=k=>k===r.startLineNumber?i.getLineContent(h):i.getLineContent(k);let M=Zi.getGoodIndentForLine(this._autoIndent,u,i.getLanguageIdAtPosition(h,1),r.startLineNumber,d);if(M!==null){let k=Kn(i.getLineContent(h)),G=Zo(M,s),J=Zo(k,s);G!==J&&(p=Wp(G,s,c)+this.trimLeft(g))}}n.addEditOperation(new Ie(r.startLineNumber,1,r.startLineNumber,1),p+`
`);let y=this.matchEnterRuleMovingDown(i,d,s,r.startLineNumber,h,p);if(y!==null)y!==0&&this.getIndentEditsOfMovingBlock(i,n,r,s,c,y);else{u.getLineContent=k=>k===r.startLineNumber?p:k>=r.startLineNumber+1&&k<=r.endLineNumber+1?i.getLineContent(k-1):i.getLineContent(k);let M=Zi.getGoodIndentForLine(this._autoIndent,u,i.getLanguageIdAtPosition(h,1),r.startLineNumber+1,d);if(M!==null){let k=Kn(i.getLineContent(r.startLineNumber)),G=Zo(M,s),J=Zo(k,s);if(G!==J){let $=G-J;this.getIndentEditsOfMovingBlock(i,n,r,s,c,$)}}}}else n.addEditOperation(new Ie(r.startLineNumber,1,r.startLineNumber,1),p+`
`)}else if(h=r.startLineNumber-1,g=i.getLineContent(h),n.addEditOperation(new Ie(h,1,h+1,1),null),n.addEditOperation(new Ie(r.endLineNumber,i.getLineMaxColumn(r.endLineNumber),r.endLineNumber,i.getLineMaxColumn(r.endLineNumber)),`
`+g),this.shouldAutoIndent(i,r)){u.getLineContent=f=>f===h?i.getLineContent(r.startLineNumber):i.getLineContent(f);let p=this.matchEnterRule(i,d,s,r.startLineNumber,r.startLineNumber-2);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(i,n,r,s,c,p);else{let f=Zi.getGoodIndentForLine(this._autoIndent,u,i.getLanguageIdAtPosition(r.startLineNumber,1),h,d);if(f!==null){let y=Kn(i.getLineContent(r.startLineNumber)),M=Zo(f,s),k=Zo(y,s);if(M!==k){let G=M-k;this.getIndentEditsOfMovingBlock(i,n,r,s,c,G)}}}}}this._selectionId=n.trackSelection(r)}buildIndentConverter(i,n,o){return{shiftIndent:r=>Oh.shiftIndent(r,r.length+1,i,n,o),unshiftIndent:r=>Oh.unshiftIndent(r,r.length+1,i,n,o)}}parseEnterResult(i,n,o,r,s){if(s){let l=s.indentation;s.indentAction===V0.None||s.indentAction===V0.Indent?l=s.indentation+s.appendText:s.indentAction===V0.IndentOutdent?l=s.indentation:s.indentAction===V0.Outdent&&(l=n.unshiftIndent(s.indentation)+s.appendText);let c=i.getLineContent(r);if(this.trimLeft(c).indexOf(this.trimLeft(l))>=0){let d=Kn(i.getLineContent(r)),u=Kn(l),h=Zi.getIndentMetadata(i,r);h!==null&&h&2&&(u=n.unshiftIndent(u));let g=Zo(u,o),p=Zo(d,o);return g-p}}return null}matchEnterRuleMovingDown(i,n,o,r,s,l){if(Of(l)>=0){let c=i.getLineMaxColumn(s),d=Zi.getEnterAction(this._autoIndent,i,new Ie(s,c,s,c));return this.parseEnterResult(i,n,o,r,d)}else{let c=r-1;for(;c>=1;){let h=i.getLineContent(c);if(Of(h)>=0)break;c--}if(c<1||r>i.getLineCount())return null;let d=i.getLineMaxColumn(c),u=Zi.getEnterAction(this._autoIndent,i,new Ie(c,d,c,d));return this.parseEnterResult(i,n,o,r,u)}}matchEnterRule(i,n,o,r,s,l){let c=s;for(;c>=1;){let h;if(c===s&&l!==void 0?h=l:h=i.getLineContent(c),Of(h)>=0)break;c--}if(c<1||r>i.getLineCount())return null;let d=i.getLineMaxColumn(c),u=Zi.getEnterAction(this._autoIndent,i,new Ie(c,d,c,d));return this.parseEnterResult(i,n,o,r,u)}trimLeft(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,n){if(this._autoIndent<4||!i.isCheapToTokenize(n.startLineNumber))return!1;let o=i.getLanguageIdAtPosition(n.startLineNumber,1),r=i.getLanguageIdAtPosition(n.endLineNumber,1);return!(o!==r||Zi.getIndentRulesSupport(o)===null)}getIndentEditsOfMovingBlock(i,n,o,r,s,l){for(let c=o.startLineNumber;c<=o.endLineNumber;c++){let d=i.getLineContent(c),u=Kn(d),g=Zo(u,r)+l,p=Wp(g,r,s);p!==u&&(n.addEditOperation(new Ie(c,1,c,u.length+1),p),c===o.endLineNumber&&o.endColumn<=u.length+1&&p===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,n){let o=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(o=o.setEndPosition(o.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&o.startLineNumber<o.endLineNumber&&(o=o.setEndPosition(o.endLineNumber,2)),o}};Ah();Bt();var uE=(()=>{class e{constructor(n,o){this.selection=n,this.descending=o,this.selectionId=null}static getCollator(){return e._COLLATOR||(e._COLLATOR=new Intl.Collator),e._COLLATOR}getEditOperations(n,o){let r=Kle(n,this.selection,this.descending);r&&o.addEditOperation(r.range,r.text),this.selectionId=o.trackSelection(this.selection)}computeCursorState(n,o){return o.getTrackedSelection(this.selectionId)}static canRun(n,o,r){if(n===null)return!1;let s=MW(n,o,r);if(!s)return!1;for(let l=0,c=s.before.length;l<c;l++)if(s.before[l]!==s.after[l])return!0;return!1}}return e._COLLATOR=null,e})();function MW(e,i,n){let o=i.startLineNumber,r=i.endLineNumber;if(i.endColumn===1&&r--,o>=r)return null;let s=[];for(let c=o;c<=r;c++)s.push(e.getLineContent(c));let l=s.slice(0);return l.sort(uE.getCollator().compare),n===!0&&(l=l.reverse()),{startLineNumber:o,endLineNumber:r,before:s,after:l}}function Kle(e,i,n){let o=MW(e,i,n);return o?nn.replace(new Ie(o.startLineNumber,1,o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),o.after.join(`
`)):null}wr();var hE=class extends it{constructor(i,n){super(n),this.down=i}run(i,n){if(!n.hasModel())return;let o=n.getSelections().map((l,c)=>({selection:l,index:c,ignore:!1}));o.sort((l,c)=>Ie.compareRangesUsingStarts(l.selection,c.selection));let r=o[0];for(let l=1;l<o.length;l++){let c=o[l];r.selection.endLineNumber===c.selection.startLineNumber&&(r.index<c.index?c.ignore=!0:(r.ignore=!0,r=c))}let s=[];for(let l of o)s.push(new Qw(l.selection,this.down,l.ignore));n.pushUndoStop(),n.executeCommands(this.id,s),n.pushUndoStop()}},fP=class extends hE{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:_("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}},mP=class extends hE{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:_("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}},vP=class extends it{constructor(){super({id:"editor.action.duplicateSelection",label:_("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:Me.writable,menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"2_line",title:_({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(i,n,o){if(!n.hasModel())return;let r=[],s=n.getSelections(),l=n.getModel();for(let c of s)if(c.isEmpty())r.push(new Qw(c,!0));else{let d=new Ct(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn);r.push(new O5(d,l.getValueInRange(c)))}n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}},gE=class extends it{constructor(i,n){super(n),this.down=i}run(i,n){let o=[],r=n.getSelections()||[],s=n.getOption(9);for(let l of r)o.push(new dE(l,this.down,s));n.pushUndoStop(),n.executeCommands(this.id,o),n.pushUndoStop()}},CP=class extends gE{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:_("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}},wP=class extends gE{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:_("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}},pE=class extends it{constructor(i,n){super(n),this.descending=i}run(i,n){let o=n.getSelections()||[];for(let s of o)if(!uE.canRun(n.getModel(),s,this.descending))return;let r=[];for(let s=0,l=o.length;s<l;s++)r[s]=new uE(o[s],this.descending);n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}},bP=class extends pE{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:_("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:Me.writable})}},yP=class extends pE{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:_("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:Me.writable})}},Yle=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:an(2089,2102),weight:100}})}run(n,o,r){let s=[];r.reason==="auto-save"&&(s=(o.getSelections()||[]).map(d=>new _t(d.positionLineNumber,d.positionColumn)));let l=o.getSelection();if(l===null)return;let c=new cE(l,s);o.pushUndoStop(),o.executeCommands(this.id,[c]),o.pushUndoStop()}}return e.ID="editor.action.trimTrailingWhitespace",e})(),SP=class extends it{constructor(){super({id:"editor.action.deleteLines",label:_("lines.delete","Delete Line"),alias:"Delete Line",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:3113,weight:100}})}run(i,n){if(!n.hasModel())return;let o=this._getLinesToRemove(n),r=n.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let s=0,l=[],c=[];for(let d=0,u=o.length;d<u;d++){let h=o[d],g=h.startLineNumber,p=h.endLineNumber,f=1,y=r.getLineMaxColumn(p);p<r.getLineCount()?(p+=1,y=1):g>1&&(g-=1,f=r.getLineMaxColumn(g)),l.push(nn.replace(new Ct(g,f,p,y),"")),c.push(new Ct(g-s,h.positionColumn,g-s,h.positionColumn)),s+=h.endLineNumber-h.startLineNumber+1}n.pushUndoStop(),n.executeEdits(this.id,l,c),n.pushUndoStop()}_getLinesToRemove(i){let n=i.getSelections().map(s=>{let l=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(l-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:l,positionColumn:s.positionColumn}});n.sort((s,l)=>s.startLineNumber===l.startLineNumber?s.endLineNumber-l.endLineNumber:s.startLineNumber-l.startLineNumber);let o=[],r=n[0];for(let s=1;s<n.length;s++)r.endLineNumber+1>=n[s].startLineNumber?r.endLineNumber=n[s].endLineNumber:(o.push(r),r=n[s]);return o.push(r),o}},xP=class extends it{constructor(){super({id:"editor.action.indentLines",label:_("lines.indent","Indent Line"),alias:"Indent Line",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:2137,weight:100}})}run(i,n){let o=n._getViewModel();o&&(n.pushUndoStop(),n.executeCommands(this.id,u1.indent(o.cursorConfig,n.getModel(),n.getSelections())),n.pushUndoStop())}},_P=class extends it{constructor(){super({id:"editor.action.outdentLines",label:_("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:2135,weight:100}})}run(i,n){z5.Outdent.runEditorCommand(i,n,null)}},DP=class extends it{constructor(){super({id:"editor.action.insertLineBefore",label:_("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:3075,weight:100}})}run(i,n){let o=n._getViewModel();o&&(n.pushUndoStop(),n.executeCommands(this.id,u1.lineInsertBefore(o.cursorConfig,n.getModel(),n.getSelections())))}},EP=class extends it{constructor(){super({id:"editor.action.insertLineAfter",label:_("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:2051,weight:100}})}run(i,n){let o=n._getViewModel();o&&(n.pushUndoStop(),n.executeCommands(this.id,u1.lineInsertAfter(o.cursorConfig,n.getModel(),n.getSelections())))}},fE=class extends it{run(i,n){if(!n.hasModel())return;let o=n.getSelection(),r=this._getRangesToDelete(n),s=[];for(let d=0,u=r.length-1;d<u;d++){let h=r[d],g=r[d+1];Ie.intersectRanges(h,g)===null?s.push(h):r[d+1]=Ie.plusRange(h,g)}s.push(r[r.length-1]);let l=this._getEndCursorState(o,s),c=s.map(d=>nn.replace(d,""));n.pushUndoStop(),n.executeEdits(this.id,c,l),n.pushUndoStop()}},MP=class extends fE{constructor(){super({id:"deleteAllLeft",label:_("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(i,n){let o=null,r=[],s=0;return n.forEach(l=>{let c;if(l.endColumn===1&&s>0){let d=l.startLineNumber-s;c=new Ct(d,l.startColumn,d,l.startColumn)}else c=new Ct(l.startLineNumber,l.startColumn,l.startLineNumber,l.startColumn);s+=l.endLineNumber-l.startLineNumber,l.intersectRanges(i)?o=c:r.push(c)}),o&&r.unshift(o),r}_getRangesToDelete(i){let n=i.getSelections();if(n===null)return[];let o=n,r=i.getModel();return r===null?[]:(o.sort(Ie.compareRangesUsingStarts),o=o.map(s=>{if(s.isEmpty())if(s.startColumn===1){let l=Math.max(1,s.startLineNumber-1),c=s.startLineNumber===1?1:r.getLineContent(l).length+1;return new Ie(l,c,s.startLineNumber,1)}else return new Ie(s.startLineNumber,1,s.startLineNumber,s.startColumn);else return new Ie(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),o)}},kP=class extends fE{constructor(){super({id:"deleteAllRight",label:_("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(i,n){let o=null,r=[];for(let s=0,l=n.length,c=0;s<l;s++){let d=n[s],u=new Ct(d.startLineNumber-c,d.startColumn,d.startLineNumber-c,d.startColumn);d.intersectRanges(i)?o=u:r.push(u)}return o&&r.unshift(o),r}_getRangesToDelete(i){let n=i.getModel();if(n===null)return[];let o=i.getSelections();if(o===null)return[];let r=o.map(s=>{if(s.isEmpty()){let l=n.getLineMaxColumn(s.startLineNumber);return s.startColumn===l?new Ie(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new Ie(s.startLineNumber,s.startColumn,s.startLineNumber,l)}return s});return r.sort(Ie.compareRangesUsingStarts),r}},IP=class extends it{constructor(){super({id:"editor.action.joinLines",label:_("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:Me.writable,kbOpts:{kbExpr:Me.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(i,n){let o=n.getSelections();if(o===null)return;let r=n.getSelection();if(r===null)return;o.sort(Ie.compareRangesUsingStarts);let s=[],l=o.reduce((p,f)=>p.isEmpty()?p.endLineNumber===f.startLineNumber?(r.equalsSelection(p)&&(r=f),f):f.startLineNumber>p.endLineNumber+1?(s.push(p),f):new Ct(p.startLineNumber,p.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>p.endLineNumber?(s.push(p),f):new Ct(p.startLineNumber,p.startColumn,f.endLineNumber,f.endColumn));s.push(l);let c=n.getModel();if(c===null)return;let d=[],u=[],h=r,g=0;for(let p=0,f=s.length;p<f;p++){let y=s[p],M=y.startLineNumber,k=1,G=0,J,$,_e=c.getLineContent(y.endLineNumber).length-y.endColumn;if(y.isEmpty()||y.startLineNumber===y.endLineNumber){let $e=y.getStartPosition();$e.lineNumber<c.getLineCount()?(J=M+1,$=c.getLineMaxColumn(J)):(J=$e.lineNumber,$=c.getLineMaxColumn($e.lineNumber))}else J=y.endLineNumber,$=c.getLineMaxColumn(J);let Te=c.getLineContent(M);for(let $e=M+1;$e<=J;$e++){let nt=c.getLineContent($e),at=c.getLineFirstNonWhitespaceColumn($e);if(at>=1){let Ft=!0;Te===""&&(Ft=!1),Ft&&(Te.charAt(Te.length-1)===" "||Te.charAt(Te.length-1)==="	")&&(Ft=!1,Te=Te.replace(/[\s\uFEFF\xA0]+$/g," "));let Zt=nt.substr(at-1);Te+=(Ft?" ":"")+Zt,Ft?G=Zt.length+1:G=Zt.length}else G=0}let Pe=new Ie(M,k,J,$);if(!Pe.isEmpty()){let $e;y.isEmpty()?(d.push(nn.replace(Pe,Te)),$e=new Ct(Pe.startLineNumber-g,Te.length-G+1,M-g,Te.length-G+1)):y.startLineNumber===y.endLineNumber?(d.push(nn.replace(Pe,Te)),$e=new Ct(y.startLineNumber-g,y.startColumn,y.endLineNumber-g,y.endColumn)):(d.push(nn.replace(Pe,Te)),$e=new Ct(y.startLineNumber-g,y.startColumn,y.startLineNumber-g,Te.length-_e)),Ie.intersectRanges(Pe,r)!==null?h=$e:u.push($e)}g+=Pe.endLineNumber-Pe.startLineNumber}u.unshift(h),n.pushUndoStop(),n.executeEdits(this.id,d,u),n.pushUndoStop()}},RP=class extends it{constructor(){super({id:"editor.action.transpose",label:_("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:Me.writable})}run(i,n){let o=n.getSelections();if(o===null)return;let r=n.getModel();if(r===null)return;let s=[];for(let l=0,c=o.length;l<c;l++){let d=o[l];if(!d.isEmpty())continue;let u=d.getStartPosition(),h=r.getLineMaxColumn(u.lineNumber);if(u.column>=h){if(u.lineNumber===r.getLineCount())continue;let g=new Ie(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),p=r.getValueInRange(g).split("").reverse().join("");s.push(new Mu(new Ct(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),p))}else{let g=new Ie(u.lineNumber,Math.max(1,u.column-1),u.lineNumber,u.column+1),p=r.getValueInRange(g).split("").reverse().join("");s.push(new c1(g,p,new Ct(u.lineNumber,u.column+1,u.lineNumber,u.column+1)))}}n.pushUndoStop(),n.executeCommands(this.id,s),n.pushUndoStop()}},Rv=class extends it{run(i,n){let o=n.getSelections();if(o===null)return;let r=n.getModel();if(r===null)return;let s=n.getOption(113),l=[];for(let c of o)if(c.isEmpty()){let d=c.getStartPosition(),u=n.getConfiguredWordAtPosition(d);if(!u)continue;let h=new Ie(d.lineNumber,u.startColumn,d.lineNumber,u.endColumn),g=r.getValueInRange(h);l.push(nn.replace(h,this._modifyText(g,s)))}else{let d=r.getValueInRange(c);l.push(nn.replace(c,this._modifyText(d,s)))}n.pushUndoStop(),n.executeEdits(this.id,l),n.pushUndoStop()}},AP=class extends Rv{constructor(){super({id:"editor.action.transformToUppercase",label:_("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:Me.writable})}_modifyText(i,n){return i.toLocaleUpperCase()}},TP=class extends Rv{constructor(){super({id:"editor.action.transformToLowercase",label:_("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:Me.writable})}_modifyText(i,n){return i.toLocaleLowerCase()}},FP=class extends Rv{constructor(){super({id:"editor.action.transformToTitlecase",label:_("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:Me.writable})}_modifyText(i,n){let r=(`\r
	 `+n).split(""),s="",l=!0;for(let c=0;c<i.length;c++){let d=i[c];r.indexOf(d)>=0?(l=!0,s+=d):l?(l=!1,s+=d.toLocaleUpperCase()):s+=d.toLocaleLowerCase()}return s}},mE=class{constructor(i,n){this._pattern=i,this._flags=n,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}},Up=class e extends Rv{constructor(){super({id:"editor.action.transformToSnakecase",label:_("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:Me.writable})}_modifyText(i,n){let o=e.regExp1.get(),r=e.regExp2.get();return!o||!r?i:i.replace(o,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase()}};Up.regExp1=new mE("(\\p{Ll})(\\p{Lu})","gmu");Up.regExp2=new mE("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");Ue(fP);Ue(mP);Ue(vP);Ue(CP);Ue(wP);Ue(bP);Ue(yP);Ue(Yle);Ue(SP);Ue(xP);Ue(_P);Ue(DP);Ue(EP);Ue(MP);Ue(kP);Ue(IP);Ue(RP);Ue(AP);Ue(TP);Ue(FP);Up.regExp1.isSupported()&&Up.regExp2.isSupported()&&Ue(Up);Pt();$t();Rn();bt();Jn();$n();Bt();Vi();ln();Lo();Ti();Yi();To();Ho();ki();On();vn();Oi();Tl();Su();var Qle=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Zle=function(e,i){return function(n,o){i(n,o,e)}},PP=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},kW=new ei("LinkedEditingInputVisible",!1),IW="linked-editing-decoration",fg=class LP extends yt{constructor(i,n){super(),this._debounceDuration=200,this._localToDispose=this._register(new Xe),this._editor=i,this._enabled=!1,this._visibleContextKey=kW.bindTo(n),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Xe),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(o=>{(o.hasChanged(58)||o.hasChanged(78))&&this.reinitialize()})),this._register(kS.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(i){return i.getContribution(LP.ID)}reinitialize(){let i=this._editor.getModel(),n=i!==null&&(this._editor.getOption(58)||this._editor.getOption(78))&&kS.has(i);if(n===this._enabled||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||i===null))return;this._languageWordPattern=Zi.getWordDefinition(i.getLanguageIdentifier().id),this._localToDispose.add(i.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=Zi.getWordDefinition(i.getLanguageIdentifier().id)}));let o=new ba(this._debounceDuration),r=()=>{this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),this._debounceDuration)},s=new ba(0),l=c=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(c))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{r()})),this._localToDispose.add(this._editor.onDidChangeModelContent(c=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let d=i.getDecorationRange(this._currentDecorations[0]);if(d&&c.changes.every(u=>d.intersectRanges(u.range))){l(this._currentDecorations);return}}r()})),this._localToDispose.add({dispose:()=>{o.cancel(),s.cancel()}}),this.updateRanges()}_syncRanges(i){if(!this._editor.hasModel()||i!==this._currentDecorations||i.length===0)return;let n=this._editor.getModel(),o=n.getDecorationRange(i[0]);if(!o||o.startLineNumber!==o.endLineNumber)return this.clearRanges();let r=n.getValueInRange(o);if(this._currentWordPattern){let l=r.match(this._currentWordPattern);if((l?l[0].length:0)!==r.length)return this.clearRanges()}let s=[];for(let l=1,c=i.length;l<c;l++){let d=n.getDecorationRange(i[l]);if(d)if(d.startLineNumber!==d.endLineNumber)s.push({range:d,text:r});else{let u=n.getValueInRange(d),h=r,g=d.startColumn,p=d.endColumn,f=zf(u,h);g+=f,u=u.substr(f),h=h.substr(f);let y=r8(u,h);p-=y,u=u.substr(0,u.length-y),h=h.substr(0,h.length-y),(g!==p||h.length!==0)&&s.push({range:new Ie(d.startLineNumber,g,d.endLineNumber,p),text:h})}}if(s.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let l=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(l)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(i=!1){return PP(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}let n=this._editor.getPosition();if(!this._enabled&&!i||this._editor.getSelections().length>1){this.clearRanges();return}let o=this._editor.getModel(),r=o.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(n.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){let l=o.getDecorationRange(this._currentDecorations[0]);if(l&&l.containsPosition(n))return}}this._currentRequestPosition=n,this._currentRequestModelVersion=r;let s=ji(l=>PP(this,void 0,void 0,function*(){try{let c=yield RW(o,n,l);if(s!==this._currentRequest||(this._currentRequest=null,r!==o.getVersionId()))return;let d=[];c?.ranges&&(d=c.ranges),this._currentWordPattern=c?.wordPattern||this._languageWordPattern;let u=!1;for(let g=0,p=d.length;g<p;g++)if(Ie.containsPosition(d[g],n)){if(u=!0,g!==0){let f=d[g];d.splice(g,1),d.unshift(f)}break}if(!u){this.clearRanges();return}let h=d.map(g=>({range:g,options:LP.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,h)}catch(c){Ml(c)||Ut(c),(this._currentRequest===s||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=s,s})}};fg.ID="editor.contrib.linkedEditing";fg.DECORATION=ni.register({stickiness:0,className:IW});fg=Qle([Zle(1,Wt)],fg);var NP=class extends it{constructor(){super({id:"editor.action.linkedEditing",label:_("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:st.and(Me.writable,Me.hasRenameProvider),kbOpts:{kbExpr:Me.editorTextFocus,primary:3132,weight:100}})}runCommand(i,n){let o=i.get(Ii),[r,s]=Array.isArray(n)&&n||[void 0,void 0];return ci.isUri(r)&&_t.isIPosition(s)?o.openCodeEditor({resource:r},o.getActiveCodeEditor()).then(l=>{l&&(l.setPosition(s),l.invokeWithinContext(c=>(this.reportTelemetry(c,l),this.run(c,l))))},Ut):super.runCommand(i,n)}run(i,n){let o=fg.get(n);return o?Promise.resolve(o.updateRanges(!0)):Promise.resolve()}},Xle=Tn.bindToContribution(fg.get);pt(new Xle({id:"cancelLinkedEditingInput",precondition:kW,handler:e=>e.clearRanges(),kbOpts:{kbExpr:Me.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function RW(e,i,n){let o=kS.ordered(e);return vS(o.map(r=>()=>PP(this,void 0,void 0,function*(){try{return yield r.provideLinkedEditingRanges(e,i,n)}catch(s){pn(s);return}})),r=>!!r&&ho(r?.ranges))}var Jle=St("editor.linkedEditingBackground",{dark:fi.fromHex("#f00").transparent(.3),light:fi.fromHex("#f00").transparent(.3),hc:fi.fromHex("#f00").transparent(.3)},_("editorLinkedEditingBackground","Background color when the editor auto renames on type."));ii((e,i)=>{let n=e.getColor(Jle);n&&i.addRule(`.monaco-editor .${IW} { background: ${n}; border-left-color: ${n}; }`)});Wr("_executeLinkedEditingProvider",(e,i)=>RW(e,i,Jt.None));Dt(fg.ID,fg);Ue(NP);Pt();ln();$n();ki();bt();wa();$t();Lo();Vi();$n();ki();To();Bt();Vi();Dh();Do();bt();Rn();Fo();var AW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},zP=class{constructor(i,n){this._link=i,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(i){return AW(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,i)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(i):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}},vE=class e{constructor(i){this._disposables=new Xe;let n=[];for(let[o,r]of i){let s=o.links.map(l=>new zP(l,r));n=e._union(n,s),hS(o)&&this._disposables.add(o)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(i,n){let o=[],r,s,l,c;for(r=0,l=0,s=i.length,c=n.length;r<s&&l<c;){let d=i[r],u=n[l];if(Ie.areIntersectingOrTouching(d.range,u.range)){r++;continue}Ie.compareRangesUsingStarts(d.range,u.range)<0?(o.push(d),r++):(o.push(u),l++)}for(;r<s;r++)o.push(i[r]);for(;l<c;l++)o.push(n[l]);return o}};function BP(e,i){let n=[],o=B0.ordered(e).reverse().map((r,s)=>Promise.resolve(r.provideLinks(e,i)).then(l=>{l&&(n[s]=[l,r])},pn));return Promise.all(o).then(()=>{let r=new vE(Ms(n));return i.isCancellationRequested?(r.dispose(),new vE([])):r})}xi.registerCommand("_executeLinkProvider",(e,...i)=>AW(void 0,void 0,void 0,function*(){let[n,o]=i;tn(n instanceof ci),typeof o!="number"&&(o=0);let r=e.get(Po).getModel(n);if(!r)return[];let s=yield BP(r,Jt.None);if(!s)return[];for(let c=0;c<Math.min(o,s.links.length);c++)yield s.links[c].resolve(Jt.None);let l=s.links.slice(0);return s.dispose(),l}));bu();vn();Oi();To();A0();Es();var ece=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},TW=function(e,i){return function(n,o){i(n,o,e)}},tce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})};function ice(e,i){let n=e.url&&/^command:/i.test(e.url.toString()),o=e.tooltip?e.tooltip:n?_("links.navigate.executeCmd","Execute command"):_("links.navigate.follow","Follow link"),r=i?rr?_("links.navigate.kb.meta.mac","cmd + click"):_("links.navigate.kb.meta","ctrl + click"):rr?_("links.navigate.kb.alt.mac","option + click"):_("links.navigate.kb.alt","alt + click");if(e.url){let s="";if(/^command:/i.test(e.url.toString())){let c=e.url.toString().match(/^command:([^?#]+)/);if(c){let d=c[1];s=` "${_("tooltip.explanation","Execute command {0}",d)}"`}}return new Qo("",!0).appendMarkdown(`[${o}](${e.url.toString(!0)}${s}) (${r})`)}else return new Qo().appendText(`${o} (${r})`)}var FW={general:ni.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:ni.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},CE=class e{constructor(i,n){this.link=i,this.decorationId=n}static decoration(i,n){return{range:i.range,options:e._getOptions(i,n,!1)}}static _getOptions(i,n,o){let r=Object.assign({},o?FW.active:FW.general);return r.hoverMessage=ice(i,n),r}activate(i,n){i.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!0))}deactivate(i,n){i.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!1))}},$p=class VP{constructor(i,n,o){this.listenersToRemove=new Xe,this.editor=i,this.openerService=n,this.notificationService=o;let r=new Cv(i);this.listenersToRemove.add(r),this.listenersToRemove.add(r.onMouseMoveOrRelevantKeyDown(([s,l])=>{this._onEditorMouseMove(s,l)})),this.listenersToRemove.add(r.onExecute(s=>{this.onEditorMouseUp(s)})),this.listenersToRemove.add(r.onCancel(s=>{this.cleanUpActiveLinkDecoration()})),this.enabled=i.getOption(59),this.listenersToRemove.add(i.onDidChangeConfiguration(s=>{let l=i.getOption(59);this.enabled!==l&&(this.enabled=l,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(i.onDidChangeModelContent(s=>this.onChange())),this.listenersToRemove.add(i.onDidChangeModel(s=>this.onModelChanged())),this.listenersToRemove.add(i.onDidChangeModelLanguage(s=>this.onModelModeChanged())),this.listenersToRemove.add(B0.onDidChange(s=>this.onModelModeChanged())),this.timeout=new zr,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(i){return i.getContribution(VP.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),VP.RECOMPUTE_TIME)}beginCompute(){return tce(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;let i=this.editor.getModel();if(B0.has(i)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=ji(n=>BP(i,n));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(n){Ut(n)}finally{this.computePromise=null}}})}updateDecorations(i){let n=this.editor.getOption(66)==="altKey",o=[],r=Object.keys(this.currentOccurrences);for(let c=0,d=r.length;c<d;c++){let u=r[c],h=this.currentOccurrences[u];o.push(h.decorationId)}let s=[];if(i)for(let c of i)s.push(CE.decoration(c,n));let l=this.editor.deltaDecorations(o,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let c=0,d=l.length;c<d;c++){let u=new CE(i[c],l[c]);this.currentOccurrences[u.decorationId]=u}}_onEditorMouseMove(i,n){let o=this.editor.getOption(66)==="altKey";if(this.isEnabled(i,n)){this.cleanUpActiveLinkDecoration();let r=this.getLinkOccurrence(i.target.position);r&&this.editor.changeDecorations(s=>{r.activate(s,o),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){let i=this.editor.getOption(66)==="altKey";if(this.activeLinkDecorationId){let n=this.currentOccurrences[this.activeLinkDecorationId];n&&this.editor.changeDecorations(o=>{n.deactivate(o,i)}),this.activeLinkDecorationId=null}}onEditorMouseUp(i){if(!this.isEnabled(i))return;let n=this.getLinkOccurrence(i.target.position);n&&this.openLinkOccurrence(n,i.hasSideBySideModifier,!0)}openLinkOccurrence(i,n,o=!1){if(!this.openerService)return;let{link:r}=i;r.resolve(Jt.None).then(s=>{if(typeof s=="string"&&this.editor.hasModel()){let l=this.editor.getModel().uri;if(l.scheme===co.file&&s.startsWith(`${co.file}:`)){let c=ci.parse(s);if(c.scheme===co.file){let d=p8(c),u=null;d.startsWith("/./")?u=`.${d.substr(1)}`:d.startsWith("//./")&&(u=`.${d.substr(2)}`),u&&(s=f8(l,u))}}}return this.openerService.open(s,{openToSide:n,fromUserGesture:o,allowContributedOpeners:!0,allowCommands:!0})},s=>{let l=s instanceof Error?s.message:s;l==="invalid"?this.notificationService.warn(_("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):l==="missing"?this.notificationService.warn(_("missing.url","Failed to open this link because its target is missing.")):Ut(s)})}getLinkOccurrence(i){if(!this.editor.hasModel()||!i)return null;let n=this.editor.getModel().getDecorationsInRange({startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:i.lineNumber,endColumn:i.column},0,!0);for(let o of n){let r=this.currentOccurrences[o.id];if(r)return r}return null}isEnabled(i,n){return!!(i.target.type===6&&(i.hasTriggerModifier||n&&n.keyCodeIsTriggerKey))}stop(){var i;this.timeout.cancel(),this.activeLinksList&&((i=this.activeLinksList)===null||i===void 0||i.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};$p.ID="editor.linkDetector";$p.RECOMPUTE_TIME=1e3;$p=ece([TW(1,sr),TW(2,bn)],$p);var HP=class extends it{constructor(){super({id:"editor.action.openLink",label:_("label","Open Link"),alias:"Open Link",precondition:void 0})}run(i,n){let o=$p.get(n);if(!o||!n.hasModel())return;let r=n.getSelections();for(let s of r){let l=o.getLinkOccurrence(s.getEndPosition());l&&o.openLinkOccurrence(l,!1)}}};Dt($p.ID,$p);Ue(HP);ii((e,i)=>{let n=e.getColor(im);n&&i.addRule(`.monaco-editor .detected-link-active { color: ${n} !important; }`)});Pt();ln();kl();bt();el();$t();Bt();lo();Yi();O0();Lo();Vi();wr();vn();Oi();Ti();function Tv(e,i){let n=i.filter(o=>!e.find(r=>r.equals(o)));if(n.length>=1){let o=n.map(s=>`line ${s.viewState.position.lineNumber} column ${s.viewState.position.column}`).join(", "),r=n.length===1?_("cursorAdded","Cursor added: {0}",o):_("cursorsAdded","Cursors added: {0}",o);W8(r)}}var GP=class extends it{constructor(){super({id:"editor.action.insertCursorAbove",label:_("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(i,n,o){if(!n.hasModel())return;let r=o&&o.logicalLine===!0,s=n._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();let l=s.getCursorStates();s.setCursorStates(o.source,3,w2.addCursorUp(s,l,r)),s.revealTopMostCursor(o.source),Tv(l,s.getCursorStates())}},jP=class extends it{constructor(){super({id:"editor.action.insertCursorBelow",label:_("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(i,n,o){if(!n.hasModel())return;let r=o&&o.logicalLine===!0,s=n._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();let l=s.getCursorStates();s.setCursorStates(o.source,3,w2.addCursorDown(s,l,r)),s.revealBottomMostCursor(o.source),Tv(l,s.getCursorStates())}},WP=class extends it{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(i,n,o){if(!i.isEmpty()){for(let r=i.startLineNumber;r<i.endLineNumber;r++){let s=n.getLineMaxColumn(r);o.push(new Ct(r,s,r,s))}i.endColumn>1&&o.push(new Ct(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn))}}run(i,n){if(!n.hasModel())return;let o=n.getModel(),r=n.getSelections(),s=n._getViewModel(),l=s.getCursorStates(),c=[];r.forEach(d=>this.getCursorsForSelection(d,o,c)),c.length>0&&n.setSelections(c),Tv(l,s.getCursorStates())}},UP=class extends it{constructor(){super({id:"editor.action.addCursorsToBottom",label:_("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(i,n){if(!n.hasModel())return;let o=n.getSelections(),r=n.getModel().getLineCount(),s=[];for(let d=o[0].startLineNumber;d<=r;d++)s.push(new Ct(d,o[0].startColumn,d,o[0].endColumn));let l=n._getViewModel(),c=l.getCursorStates();s.length>0&&n.setSelections(s),Tv(c,l.getCursorStates())}},$P=class extends it{constructor(){super({id:"editor.action.addCursorsToTop",label:_("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(i,n){if(!n.hasModel())return;let o=n.getSelections(),r=[];for(let c=o[0].startLineNumber;c>=1;c--)r.push(new Ct(c,o[0].startColumn,c,o[0].endColumn));let s=n._getViewModel(),l=s.getCursorStates();r.length>0&&n.setSelections(r),Tv(l,s.getCursorStates())}},Av=class{constructor(i,n,o){this.selections=i,this.revealRange=n,this.revealScrollType=o}},wE=class e{constructor(i,n,o,r,s,l,c){this._editor=i,this.findController=n,this.isDisconnectedFromFindController=o,this.searchText=r,this.wholeWord=s,this.matchCase=l,this.currentMatch=c}static create(i,n){if(!i.hasModel())return null;let o=n.getState();if(!i.hasTextFocus()&&o.isRevealed&&o.searchString.length>0)return new e(i,n,!1,o.searchString,o.wholeWord,o.matchCase,null);let r=!1,s,l,c=i.getSelections();c.length===1&&c[0].isEmpty()?(r=!0,s=!0,l=!0):(s=o.wholeWord,l=o.matchCase);let d=i.getSelection(),u,h=null;if(d.isEmpty()){let g=i.getConfiguredWordAtPosition(d.getStartPosition());if(!g)return null;u=g.word,h=new Ct(d.startLineNumber,g.startColumn,d.startLineNumber,g.endColumn)}else u=i.getModel().getValueInRange(d).replace(/\r\n/g,`
`);return new e(i,n,r,u,s,l,h)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let i=this._getNextMatch();if(!i)return null;let n=this._editor.getSelections();return new Av(n.concat(i),i,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let i=this._getNextMatch();if(!i)return null;let n=this._editor.getSelections();return new Av(n.slice(0,n.length-1).concat(i),i,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();let i=this._editor.getSelections(),n=i[i.length-1],o=this._editor.getModel().findNextMatch(this.searchText,n.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return o?new Ct(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let i=this._getPreviousMatch();if(!i)return null;let n=this._editor.getSelections();return new Av(n.concat(i),i,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let i=this._getPreviousMatch();if(!i)return null;let n=this._editor.getSelections();return new Av(n.slice(0,n.length-1).concat(i),i,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();let i=this._editor.getSelections(),n=i[i.length-1],o=this._editor.getModel().findPreviousMatch(this.searchText,n.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return o?new Ct(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1,1073741824)):[]}},bE=(()=>{class e extends yt{constructor(n){super(),this._sessionDispose=this._register(new Xe),this._editor=n,this._ignoreSelectionChange=!1,this._session=null}static get(n){return n.getContribution(e.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(n){if(!this._session){let o=wE.create(this._editor,n);if(!o)return;this._session=o;let r={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(r.wholeWordOverride=1,r.matchCaseOverride=1,r.isRegexOverride=2),n.getState().change(r,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(n.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let n={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(n,!1)}this._session=null}_setSelections(n){this._ignoreSelectionChange=!0,this._editor.setSelections(n),this._ignoreSelectionChange=!1}_expandEmptyToWord(n,o){if(!o.isEmpty())return o;let r=this._editor.getConfiguredWordAtPosition(o.getStartPosition());return r?new Ct(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn):o}_applySessionResult(n){n&&(this._setSelections(n.selections),n.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(n.revealRange,n.revealScrollType))}getSession(n){return this._session}addSelectionToNextFindMatch(n){if(this._editor.hasModel()){if(!this._session){let o=this._editor.getSelections();if(o.length>1){let s=n.getState().matchCase;if(!LW(this._editor.getModel(),o,s)){let c=this._editor.getModel(),d=[];for(let u=0,h=o.length;u<h;u++)d[u]=this._expandEmptyToWord(c,o[u]);this._editor.setSelections(d);return}}}this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(n){if(!this._editor.hasModel())return;let o=null,r=n.getState();if(r.isRevealed&&r.searchString.length>0&&r.isRegex)o=this._editor.getModel().findMatches(r.searchString,!0,r.isRegex,r.matchCase,r.wholeWord?this._editor.getOption(113):null,!1,1073741824);else{if(this._beginSessionIfNeeded(n),!this._session)return;o=this._session.selectAll()}if(r.searchScope){let s=r.searchScope,l=[];o.forEach(c=>{s.forEach(d=>{c.range.endLineNumber<=d.endLineNumber&&c.range.startLineNumber>=d.startLineNumber&&l.push(c)})}),o=l}if(o.length>0){let s=this._editor.getSelection();for(let l=0,c=o.length;l<c;l++){let d=o[l];if(d.range.intersectRanges(s)){o[l]=o[0],o[0]=d;break}}this._setSelections(o.map(l=>new Ct(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn)))}}}return e.ID="editor.contrib.multiCursorController",e})(),mg=class extends it{run(i,n){let o=bE.get(n);if(!o)return;let r=kr.get(n);if(!r)return;let s=n._getViewModel();if(s){let l=s.getCursorStates();this._run(o,r),Tv(l,s.getCursorStates())}}},qP=class extends mg{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:2082,weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(i,n){i.addSelectionToNextFindMatch(n)}},KP=class extends mg{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(i,n){i.addSelectionToPreviousFindMatch(n)}},YP=class extends mg{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:an(2089,2082),weight:100}})}_run(i,n){i.moveSelectionToNextFindMatch(n)}},QP=class extends mg{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(i,n){i.moveSelectionToPreviousFindMatch(n)}},ZP=class extends mg{constructor(){super({id:"editor.action.selectHighlights",label:_("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:3114,weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(i,n){i.selectAll(n)}},XP=class extends mg{constructor(){super({id:"editor.action.changeAll",label:_("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:st.and(Me.writable,Me.editorTextFocus),kbOpts:{kbExpr:Me.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(i,n){i.selectAll(n)}},yE=class{constructor(i,n,o,r){this.searchText=i,this.matchCase=n,this.wordSeparators=o,this.modelVersionId=r}static softEquals(i,n){return!i&&!n?!0:!i||!n?!1:i.searchText===n.searchText&&i.matchCase===n.matchCase&&i.wordSeparators===n.wordSeparators&&i.modelVersionId===n.modelVersionId}},qp=class e extends yt{constructor(i){super(),this.editor=i,this._isEnabled=i.getOption(94),this.decorations=[],this.updateSoon=this._register(new qn(()=>this._update(),300)),this.state=null,this._register(i.onDidChangeConfiguration(n=>{this._isEnabled=i.getOption(94)})),this._register(i.onDidChangeCursorSelection(n=>{this._isEnabled&&(n.selection.isEmpty()?n.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(i.onDidChangeModel(n=>{this._setState(null)})),this._register(i.onDidChangeModelContent(n=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(kr.get(i).getState().onFindReplaceStateChange(n=>{this._update()}))}_update(){this._setState(e._createState(this._isEnabled,this.editor))}static _createState(i,n){if(!i||!n.hasModel())return null;let o=n.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;let r=bE.get(n);if(!r)return null;let s=kr.get(n);if(!s)return null;let l=r.getSession(s);if(!l){let u=n.getSelections();if(u.length>1){let g=s.getState().matchCase;if(!LW(n.getModel(),u,g))return null}l=wE.create(n,s)}if(!l||l.currentMatch||/^[ \t]+$/.test(l.searchText)||l.searchText.length>200)return null;let c=s.getState(),d=c.matchCase;if(c.isRevealed){let u=c.searchString;d||(u=u.toLowerCase());let h=l.searchText;if(d||(h=h.toLowerCase()),u===h&&l.matchCase===c.matchCase&&l.wholeWord===c.wholeWord&&!c.isRegex)return null}return new yE(l.searchText,l.matchCase,l.wholeWord?n.getOption(113):null,n.getModel().getVersionId())}_setState(i){if(yE.softEquals(this.state,i)){this.state=i;return}if(this.state=i,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;let n=this.editor.getModel();if(n.isTooLargeForTokenization())return;let o=z0.has(n)&&this.editor.getOption(68),r=n.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(d=>d.range);r.sort(Ie.compareRangesUsingStarts);let s=this.editor.getSelections();s.sort(Ie.compareRangesUsingStarts);let l=[];for(let d=0,u=0,h=r.length,g=s.length;d<h;){let p=r[d];if(u>=g)l.push(p),d++;else{let f=Ie.compareRangesUsingStarts(p,s[u]);f<0?((s[u].isEmpty()||!Ie.areIntersecting(p,s[u]))&&l.push(p),d++):(f>0||d++,u++)}}let c=l.map(d=>({range:d,options:o?e._SELECTION_HIGHLIGHT:e._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,c)}dispose(){this._setState(null),super.dispose()}};qp.ID="editor.contrib.selectionHighlighter";qp._SELECTION_HIGHLIGHT_OVERVIEW=ni.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:cr(r1),position:Hr.Center}});qp._SELECTION_HIGHLIGHT=ni.register({stickiness:1,className:"selectionHighlight"});function LW(e,i,n){let o=PW(e,i[0],!n);for(let r=1,s=i.length;r<s;r++){let l=i[r];if(l.isEmpty())return!1;let c=PW(e,l,!n);if(o!==c)return!1}return!0}function PW(e,i,n){let o=e.getValueInRange(i);return n?o.toLowerCase():o}Dt(bE.ID,bE);Dt(qp.ID,qp);Ue(GP);Ue(jP);Ue(WP);Ue(qP);Ue(KP);Ue(YP);Ue(QP);Ue(ZP);Ue(XP);Ue(UP);Ue($P);Pt();bt();wn();Yi();Ti();$t();Ki();Ok();el();en();bt();kh();ki();Jn();Vi();Ti();$n();Do();To();Fo();Ug();var NW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},ah={Visible:new ei("parameterHintsVisible",!1),MultipleSignatures:new ei("parameterHintsMultipleSignatures",!1)};function JP(e,i,n,o){return NW(this,void 0,void 0,function*(){let r=Wf.ordered(e);for(let s of r)try{let l=yield s.provideSignatureHelp(e,i,o,n);if(l)return l}catch(l){pn(l)}})}xi.registerCommand("_executeSignatureHelpProvider",(e,...i)=>NW(void 0,void 0,void 0,function*(){let[n,o,r]=i;tn(ci.isUri(n)),tn(_t.isIPosition(o)),tn(typeof r=="string"||!r);let s=yield e.get(jr).createModelReference(n);try{let l=yield JP(s.object.textEditorModel,_t.lift(o),{triggerKind:_a.Invoke,isRetrigger:!1,triggerCharacter:r},Jt.None);return l?(setTimeout(()=>l.dispose(),0),l.value):void 0}finally{s.dispose()}}));Pt();Ti();bu();vn();Oi();ln();ki();en();bt();n2();Vi();var nce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},vg;(function(e){e.Default={type:0};class i{constructor(r,s){this.request=r,this.previouslyActiveHints=s,this.type=2}}e.Pending=i;class n{constructor(r){this.hints=r,this.type=1}}e.Active=n})(vg||(vg={}));var OW=(()=>{class e extends yt{constructor(n,o=e.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new vt),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=vg.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Ao),this.triggerChars=new xu,this.retriggerChars=new xu,this.triggerId=0,this.editor=n,this.throttledDelayer=new ba(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(r=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(r=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(r=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent(r=>this.onModelContentChange())),this._register(Wf.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(r=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=vg.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,o){let r=this.editor.getModel();if(!r||!Wf.has(r))return;let s=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(s),o).catch(Ut)}next(){if(this.state.type!==1)return;let n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o%n===n-1,s=this.editor.getOption(72).cycle;if((n<2||r)&&!s){this.cancel();return}this.updateActiveSignature(r&&s?0:o+1)}previous(){if(this.state.type!==1)return;let n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o===0,s=this.editor.getOption(72).cycle;if((n<2||r)&&!s){this.cancel();return}this.updateActiveSignature(r&&s?n-1:o-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new vg.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return nce(this,void 0,void 0,function*(){let o=this.state.type===1||this.state.type===2,r=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;let s=this._pendingTriggers.reduce(oce);this._pendingTriggers=[];let l={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:o,activeSignatureHelp:r};if(!this.editor.hasModel())return!1;let c=this.editor.getModel(),d=this.editor.getPosition();this.state=new vg.Pending(ji(u=>JP(c,d,l,u)),r);try{let u=yield this.state.request;return n!==this.triggerId?(u?.dispose(),!1):!u||!u.value.signatures||u.value.signatures.length===0?(u?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new vg.Active(u.value),this._lastSignatureHelpResult.value=u,this._onChangedHints.fire(this.state.hints),!0)}catch(u){return n===this.triggerId&&(this.state=vg.Default),Ut(u),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new xu,this.retriggerChars=new xu;let n=this.editor.getModel();if(n)for(let o of Wf.ordered(n)){for(let r of o.signatureHelpTriggerCharacters||[])this.triggerChars.add(r.charCodeAt(0)),this.retriggerChars.add(r.charCodeAt(0));for(let r of o.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(r.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;let o=n.length-1,r=n.charCodeAt(o);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:_a.TriggerCharacter,triggerCharacter:n.charAt(o)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:_a.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:_a.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(72).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return e.DEFAULT_DELAY=120,e})();function oce(e,i){switch(i.triggerKind){case _a.Invoke:return i;case _a.ContentChange:return e;case _a.TriggerCharacter:default:return i}}On();Gr();Fo();d2();var rce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},eL=function(e,i){return function(n,o){i(n,o,e)}},is=ut,sce=Mo("parameter-hints-next",gt.chevronDown,_("parameterHintsNextIcon","Icon for show next parameter hint.")),ace=Mo("parameter-hints-previous",gt.chevronUp,_("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),Zw=class zW extends yt{constructor(i,n,o,r){super(),this.editor=i,this.renderDisposeables=this._register(new Xe),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new pl({editor:i},r,o)),this.model=this._register(new OW(i)),this.keyVisible=ah.Visible.bindTo(n),this.keyMultipleSignatures=ah.MultipleSignatures.bindTo(n),this._register(this.model.onChangedHints(s=>{s?(this.show(),this.render(s)):this.hide()}))}createParamaterHintDOMNodes(){let i=is(".editor-widget.parameter-hints-widget"),n=ct(i,is(".phwrapper"));n.tabIndex=-1;let o=ct(n,is(".controls")),r=ct(o,is(".button"+An.asCSSSelector(ace))),s=ct(o,is(".overloads")),l=ct(o,is(".button"+An.asCSSSelector(sce))),c=Nk(Cu(r,"click"));this._register(c(this.previous,this));let d=Nk(Cu(l,"click"));this._register(d(this.next,this));let u=is(".body"),h=new om(u,{});this._register(h),n.appendChild(h.getDomNode());let g=ct(u,is(".signature")),p=ct(u,is(".docs"));i.style.userSelect="text",this.domNodes={element:i,signature:g,overloads:s,docs:p,scrollbar:h},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(y=>{this.visible&&this.editor.layoutContentWidget(this)}));let f=()=>{if(!this.domNodes)return;let y=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${y.fontSize}px`};f(),this._register(xo.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(y=>y.hasChanged(40)).on(f,null)),this._register(this.editor.onDidLayoutChange(y=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(i){var n;if(this.renderDisposeables.clear(),!this.domNodes)return;let o=i.signatures.length>1;this.domNodes.element.classList.toggle("multiple",o),this.keyMultipleSignatures.set(o),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let r=i.signatures[i.activeSignature];if(!r)return;let s=ct(this.domNodes.signature,is(".code")),l=this.editor.getOption(40);s.style.fontSize=`${l.fontSize}px`,s.style.fontFamily=l.fontFamily;let c=r.parameters.length>0,d=(n=r.activeParameter)!==null&&n!==void 0?n:i.activeParameter;if(c)this.renderParameters(s,r,d);else{let g=ct(s,is("span"));g.textContent=r.label}let u=r.parameters[d];if(u?.documentation){let g=is("span.documentation");if(typeof u.documentation=="string")g.textContent=u.documentation;else{let p=this.renderMarkdownDocs(u.documentation);g.appendChild(p.element)}ct(this.domNodes.docs,is("p",{},g))}if(r.documentation!==void 0)if(typeof r.documentation=="string")ct(this.domNodes.docs,is("p",{},r.documentation));else{let g=this.renderMarkdownDocs(r.documentation);ct(this.domNodes.docs,g.element)}let h=this.hasDocs(r,u);if(this.domNodes.signature.classList.toggle("has-docs",h),this.domNodes.docs.classList.toggle("empty",!h),this.domNodes.overloads.textContent=String(i.activeSignature+1).padStart(i.signatures.length.toString().length,"0")+"/"+i.signatures.length,u){let g=this.getParameterLabel(r,d);this.announcedLabel!==g&&(Yn(_("hint","{0}, hint",g)),this.announcedLabel=g)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(i){let n=this.renderDisposeables.add(this.markdownRenderer.render(i,{asyncRenderCallback:()=>{var o;(o=this.domNodes)===null||o===void 0||o.scrollbar.scanDomNode()}}));return n.element.classList.add("markdown-docs"),n}hasDocs(i,n){return!!(n&&typeof n.documentation=="string"&&N0(n.documentation).length>0||n&&typeof n.documentation=="object"&&N0(n.documentation).value.length>0||i.documentation&&typeof i.documentation=="string"&&N0(i.documentation).length>0||i.documentation&&typeof i.documentation=="object"&&N0(i.documentation.value).length>0)}renderParameters(i,n,o){let[r,s]=this.getParameterLabelOffsets(n,o),l=document.createElement("span");l.textContent=n.label.substring(0,r);let c=document.createElement("span");c.textContent=n.label.substring(r,s),c.className="parameter active";let d=document.createElement("span");d.textContent=n.label.substring(s),ct(i,l,c,d)}getParameterLabel(i,n){let o=i.parameters[n];return Array.isArray(o.label)?i.label.substring(o.label[0],o.label[1]):o.label}getParameterLabelOffsets(i,n){let o=i.parameters[n];if(o){if(Array.isArray(o.label))return o.label;if(o.label.length){let r=new RegExp(`(\\W|^)${wu(o.label)}(?=\\W|$)`,"g");r.test(i.label);let s=r.lastIndex-o.label.length;return s>=0?[s,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return zW.ID}trigger(i){this.model.trigger(i,0)}updateMaxHeight(){if(!this.domNodes)return;let n=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=n;let o=this.domNodes.element.getElementsByClassName("phwrapper");o.length&&(o[0].style.maxHeight=n)}};Zw.ID="editor.widget.parameterHintsWidget";Zw=rce([eL(1,Wt),eL(2,sr),eL(3,ar)],Zw);ii((e,i)=>{let n=e.getColor(tm);if(n){let c=e.type===Yf.HIGH_CONTRAST?2:1;i.addRule(`.monaco-editor .parameter-hints-widget { border: ${c}px solid ${n}; }`),i.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${n.transparent(.5)}; }`),i.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${n.transparent(.5)}; }`)}let o=e.getColor(Eu);o&&i.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${o}; }`);let r=e.getColor(Fl);r&&i.addRule(`.monaco-editor .parameter-hints-widget a { color: ${r}; }`);let s=e.getColor(em);s&&i.addRule(`.monaco-editor .parameter-hints-widget { color: ${s}; }`);let l=e.getColor(Zf);l&&i.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${l}; }`)});Vi();var lce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},cce=function(e,i){return function(n,o){i(n,o,e)}},Kp=class BW extends yt{constructor(i,n){super(),this.editor=i,this.widget=this._register(n.createInstance(Zw,this.editor))}static get(i){return i.getContribution(BW.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(i){this.widget.trigger(i)}};Kp.ID="editor.controller.parameterHints";Kp=lce([cce(1,hi)],Kp);var tL=class extends it{constructor(){super({id:"editor.action.triggerParameterHints",label:_("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:Me.hasSignatureHelpProvider,kbOpts:{kbExpr:Me.editorTextFocus,primary:3082,weight:100}})}run(i,n){let o=Kp.get(n);o&&o.trigger({triggerKind:_a.Invoke})}};Dt(Kp.ID,Kp);Ue(tL);var iL=175,nL=Tn.bindToContribution(Kp.get);pt(new nL({id:"closeParameterHints",precondition:ah.Visible,handler:e=>e.cancel(),kbOpts:{weight:iL,kbExpr:Me.focus,primary:9,secondary:[1033]}}));pt(new nL({id:"showPrevParameterHint",precondition:st.and(ah.Visible,ah.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:iL,kbExpr:Me.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));pt(new nL({id:"showNextParameterHint",precondition:st.and(ah.Visible,ah.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:iL,kbExpr:Me.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));Pt();ki();Ti();Qg();$t();Yi();bt();Jn();Pt();Ti();vn();Oi();us();var dce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},oL=function(e,i){return function(n,o){i(n,o,e)}},Xw=new ei("renameInputVisible",!1,_("renameInputVisible","Whether the rename input widget is visible")),SE=class{constructor(i,n,o,r,s){this._editor=i,this._acceptKeybindings=n,this._themeService=o,this._keybindingService=r,this._disposables=new Xe,this.allowEditorOverflow=!0,this._visibleContextKey=Xw.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(40)&&this._updateFont()})),this._disposables.add(o.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",_("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);let i=()=>{var n,o;let[r,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(r),this._label.innerText=_({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(n=this._keybindingService.lookupKeybinding(r))===null||n===void 0?void 0:n.getLabel(),(o=this._keybindingService.lookupKeybinding(s))===null||o===void 0?void 0:o.getLabel())};i(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(i)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(i){var n,o,r,s;if(!this._input||!this._domNode)return;let l=i.getColor(Nh);this._domNode.style.backgroundColor=String((n=i.getColor(Rs))!==null&&n!==void 0?n:""),this._domNode.style.boxShadow=l?` 0 0 8px 2px ${l}`:"",this._domNode.style.color=String((o=i.getColor(QS))!==null&&o!==void 0?o:""),this._input.style.backgroundColor=String((r=i.getColor(YS))!==null&&r!==void 0?r:"");let c=i.getColor(ZS);this._input.style.borderWidth=c?"1px":"0px",this._input.style.borderStyle=c?"solid":"none",this._input.style.borderColor=(s=c?.toString())!==null&&s!==void 0?s:"none"}_updateFont(){if(!this._input||!this._label)return;let i=this._editor.getOption(40);this._input.style.fontFamily=i.fontFamily,this._input.style.fontWeight=i.fontWeight,this._input.style.fontSize=`${i.fontSize}px`,this._label.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){this._currentAcceptInput&&this._currentAcceptInput(i)}cancelInput(i){this._currentCancelInput&&this._currentCancelInput(i)}getInput(i,n,o,r,s,l){this._domNode.classList.toggle("preview",s),this._position=new _t(i.startLineNumber,i.startColumn),this._input.value=n,this._input.setAttribute("selectionStart",o.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((i.endColumn-i.startColumn)*1.1,20);let c=new Xe;return new Promise(d=>{this._currentCancelInput=u=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,d(u),!0),this._currentAcceptInput=u=>{if(this._input.value.trim().length===0||this._input.value===n){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,d({newName:this._input.value,wantsPreview:s&&u})},l.onCancellationRequested(()=>this.cancelInput(!0)),c.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{c.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};SE=dce([oL(2,eo),oL(3,En),oL(4,Wt)],SE);Vi();Jn();el();Bt();Kg();To();Ho();$n();bt();ln();PS();wn();qf();MQ();EQ();Fo();var uce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Fv=function(e,i){return function(n,o){i(n,o,e)}},Pv=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},xE=class{constructor(i,n){this.model=i,this.position=n,this._providerRenameIdx=0,this._providers=E8.ordered(i)}hasProvider(){return this._providers.length>0}resolveRenameLocation(i){return Pv(this,void 0,void 0,function*(){let n=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let r=this._providers[this._providerRenameIdx];if(!r.resolveRenameLocation)break;let s=yield r.resolveRenameLocation(this.model,this.position,i);if(s){if(s.rejectReason){n.push(s.rejectReason);continue}return s}}let o=this.model.getWordAtPosition(this.position);return o?{range:new Ie(this.position.lineNumber,o.startColumn,this.position.lineNumber,o.endColumn),text:o.word,rejectReason:n.length>0?n.join(`
`):void 0}:{range:Ie.fromPositions(this.position),text:"",rejectReason:n.length>0?n.join(`
`):void 0}})}provideRenameEdits(i,n){return Pv(this,void 0,void 0,function*(){return this._provideRenameEdits(i,this._providerRenameIdx,[],n)})}_provideRenameEdits(i,n,o,r){return Pv(this,void 0,void 0,function*(){let s=this._providers[n];if(!s)return{edits:[],rejectReason:o.join(`
`)};let l=yield s.provideRenameEdits(this.model,this.position,i,r);if(l){if(l.rejectReason)return this._provideRenameEdits(i,n+1,o.concat(l.rejectReason),r)}else return this._provideRenameEdits(i,n+1,o.concat(_("no result","No result.")),r);return l})}};function hce(e,i,n){return Pv(this,void 0,void 0,function*(){let o=new xE(e,i),r=yield o.resolveRenameLocation(Jt.None);return r?.rejectReason?{edits:[],rejectReason:r.rejectReason}:o.provideRenameEdits(n,Jt.None)})}var Yp=class VW{constructor(i,n,o,r,s,l,c){this.editor=i,this._instaService=n,this._notificationService=o,this._bulkEditService=r,this._progressService=s,this._logService=l,this._configService=c,this._dispoableStore=new Xe,this._cts=new Cr,this._renameInputField=this._dispoableStore.add(new Nf(()=>this._dispoableStore.add(this._instaService.createInstance(SE,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(i){return i.getContribution(VW.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Pv(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;let i=this.editor.getPosition(),n=new xE(this.editor.getModel(),i);if(!n.hasProvider())return;this._cts=new J0(this.editor,5);let o;try{let h=n.resolveRenameLocation(this._cts.token);this._progressService.showWhile(h,250),o=yield h}catch(h){zo.get(this.editor).showMessage(h||_("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}if(!o)return;if(o.rejectReason){zo.get(this.editor).showMessage(o.rejectReason,i);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new J0(this.editor,5,o.range);let r=this.editor.getSelection(),s=0,l=o.text.length;!Ie.isEmpty(r)&&!Ie.spansMultipleLines(r)&&Ie.containsRange(o.range,r)&&(s=Math.max(0,r.startColumn-o.range.startColumn),l=Math.min(o.range.endColumn,r.endColumn)-o.range.startColumn);let c=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),d=yield this._renameInputField.value.getInput(o.range,o.text,s,l,c,this._cts.token);if(typeof d=="boolean"){d&&this.editor.focus();return}this.editor.focus();let u=mS(n.provideRenameEdits(d.newName,this._cts.token),this._cts.token).then(h=>Pv(this,void 0,void 0,function*(){if(!(!h||!this.editor.hasModel())){if(h.rejectReason){this._notificationService.info(h.rejectReason);return}this._bulkEditService.apply(OS.convert(h),{editor:this.editor,showPreview:d.wantsPreview,label:_("label","Renaming '{0}'",o?.text),quotableLabel:_("quotableLabel","Renaming {0}",o?.text)}).then(g=>{g.ariaSummary&&Yn(_("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,d.newName,g.ariaSummary))}).catch(g=>{this._notificationService.error(_("rename.failedApply","Rename failed to apply edits")),this._logService.error(g)})}}),h=>{this._notificationService.error(_("rename.failed","Rename failed to compute edits")),this._logService.error(h)});return this._progressService.showWhile(u,250),u})}acceptRenameInput(i){this._renameInputField.value.acceptInput(i)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Yp.ID="editor.contrib.renameController";Yp=uce([Fv(1,hi),Fv(2,bn),Fv(3,NS),Fv(4,Ru),Fv(5,Rh),Fv(6,P8)],Yp);var rL=class extends it{constructor(){super({id:"editor.action.rename",label:_("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:st.and(Me.writable,Me.hasRenameProvider),kbOpts:{kbExpr:Me.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(i,n){let o=i.get(Ii),[r,s]=Array.isArray(n)&&n||[void 0,void 0];return ci.isUri(r)&&_t.isIPosition(s)?o.openCodeEditor({resource:r},o.getActiveCodeEditor()).then(l=>{l&&(l.setPosition(s),l.invokeWithinContext(c=>(this.reportTelemetry(c,l),this.run(c,l))))},Ut):super.runCommand(i,n)}run(i,n){let o=Yp.get(n);return o?o.run():Promise.resolve()}};Dt(Yp.ID,Yp);Ue(rL);var sL=Tn.bindToContribution(Yp.get);pt(new sL({id:"acceptRenameInput",precondition:Xw,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:Me.focus,primary:3}}));pt(new sL({id:"acceptRenameInputWithPreview",precondition:st.and(Xw,st.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:Me.focus,primary:1027}}));pt(new sL({id:"cancelRenameInput",precondition:Xw,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:Me.focus,primary:9,secondary:[1033]}}));Wr("_executeDocumentRenameProvider",function(e,i,...n){let[o]=n;return tn(typeof o=="string"),hce(e,i,o)});ks.as(z8.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:_("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});Rn();$n();$t();Jn();Bt();lo();Yi();Vi();Pt();wr();Bt();On();var _E=class{provideSelectionRanges(i,n){let o=[];for(let r of n){let s=[];o.push(s),this._addInWordRanges(s,i,r),this._addWordRanges(s,i,r),this._addWhitespaceLine(s,i,r),s.push({range:i.getFullModelRange()})}return o}_addInWordRanges(i,n,o){let r=n.getWordAtPosition(o);if(!r)return;let{word:s,startColumn:l}=r,c=o.column-l,d=c,u=c,h=0;for(;d>=0;d--){let g=s.charCodeAt(d);if(d!==c&&(g===95||g===45))break;if(Wk(g)&&Uk(h))break;h=g}for(d+=1;u<s.length;u++){let g=s.charCodeAt(u);if(Uk(g)&&Wk(h))break;if(g===95||g===45)break;h=g}d<u&&i.push({range:new Ie(o.lineNumber,l+d,o.lineNumber,l+u)})}_addWordRanges(i,n,o){let r=n.getWordAtPosition(o);r&&i.push({range:new Ie(o.lineNumber,r.startColumn,o.lineNumber,r.endColumn)})}_addWhitespaceLine(i,n,o){n.getLineLength(o.lineNumber)>0&&n.getLineFirstNonWhitespaceColumn(o.lineNumber)===0&&n.getLineLastNonWhitespaceColumn(o.lineNumber)===0&&i.push({range:new Ie(o.lineNumber,1,o.lineNumber,n.getLineMaxColumn(o.lineNumber))})}};Jn();Bt();T4();var gce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},DE=(()=>{class e{provideSelectionRanges(n,o){return gce(this,void 0,void 0,function*(){let r=[];for(let s of o){let l=[];r.push(l);let c=new Map;yield new Promise(d=>e._bracketsRightYield(d,0,n,s,c)),yield new Promise(d=>e._bracketsLeftYield(d,0,n,s,c,l))}return r})}static _bracketsRightYield(n,o,r,s,l){let c=new Map,d=Date.now();for(;;){if(o>=e._maxRounds){n();break}if(!s){n();break}let u=r.findNextBracket(s);if(!u){n();break}if(Date.now()-d>e._maxDuration){setTimeout(()=>e._bracketsRightYield(n,o+1,r,s,l));break}let g=u.close[0];if(u.isOpen){let p=c.has(g)?c.get(g):0;c.set(g,p+1)}else{let p=c.has(g)?c.get(g):0;if(p-=1,c.set(g,Math.max(0,p)),p<0){let f=l.get(g);f||(f=new gS,l.set(g,f)),f.push(u.range)}}s=u.range.getEndPosition()}}static _bracketsLeftYield(n,o,r,s,l,c){let d=new Map,u=Date.now();for(;;){if(o>=e._maxRounds&&l.size===0){n();break}if(!s){n();break}let h=r.findPrevBracket(s);if(!h){n();break}if(Date.now()-u>e._maxDuration){setTimeout(()=>e._bracketsLeftYield(n,o+1,r,s,l,c));break}let p=h.close[0];if(h.isOpen){let f=d.has(p)?d.get(p):0;if(f-=1,d.set(p,Math.max(0,f)),f<0){let y=l.get(p);if(y){let M=y.shift();y.size===0&&l.delete(p);let k=Ie.fromPositions(h.range.getEndPosition(),M.getStartPosition()),G=Ie.fromPositions(h.range.getStartPosition(),M.getEndPosition());c.push({range:k}),c.push({range:G}),e._addBracketLeading(r,G,c)}}}else{let f=d.has(p)?d.get(p):0;d.set(p,f+1)}s=h.range.getStartPosition()}}static _addBracketLeading(n,o,r){if(o.startLineNumber===o.endLineNumber)return;let s=o.startLineNumber,l=n.getLineFirstNonWhitespaceColumn(s);l!==0&&l!==o.startColumn&&(r.push({range:Ie.fromPositions(new _t(s,l),o.getEndPosition())}),r.push({range:Ie.fromPositions(new _t(s,1),o.getEndPosition())}));let c=s-1;if(c>0){let d=n.getLineFirstNonWhitespaceColumn(c);d===o.startColumn&&d!==n.getLineLastNonWhitespaceColumn(c)&&(r.push({range:Ie.fromPositions(new _t(c,d),o.getEndPosition())}),r.push({range:Ie.fromPositions(new _t(c,1),o.getEndPosition())}))}}}return e._maxDuration=30,e._maxRounds=2,e})();Do();ki();var uL=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},aL=class e{constructor(i,n){this.index=i,this.ranges=n}mov(i){let n=this.index+(i?1:-1);if(n<0||n>=this.ranges.length)return this;let o=new e(n,this.ranges);return o.ranges[n].equalsRange(this.ranges[this.index])?o.mov(i):o}},lL=(()=>{class e{constructor(n){this._editor=n,this._ignoreSelection=!1}static get(n){return n.getContribution(e.ID)}dispose(){var n;(n=this._selectionListener)===null||n===void 0||n.dispose()}run(n){return uL(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;let o=this._editor.getSelections(),r=this._editor.getModel();if(!RS.has(r)||(this._state||(yield HW(r,o.map(l=>l.getPosition()),this._editor.getOption(99),Jt.None).then(l=>{var c;if(!(!ho(l)||l.length!==o.length)&&!(!this._editor.hasModel()||!Ih(this._editor.getSelections(),o,(d,u)=>d.equalsSelection(u)))){for(let d=0;d<l.length;d++)l[d]=l[d].filter(u=>u.containsPosition(o[d].getStartPosition())&&u.containsPosition(o[d].getEndPosition())),l[d].unshift(o[d]);this._state=l.map(d=>new aL(0,d)),(c=this._selectionListener)===null||c===void 0||c.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var d;this._ignoreSelection||((d=this._selectionListener)===null||d===void 0||d.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(l=>l.mov(n));let s=this._state.map(l=>Ct.fromPositions(l.ranges[l.index].getStartPosition(),l.ranges[l.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}})}}return e.ID="editor.contrib.smartSelectController",e})(),EE=class extends it{constructor(i,n){super(n),this._forward=i}run(i,n){return uL(this,void 0,void 0,function*(){let o=lL.get(n);o&&(yield o.run(this._forward))})}},cL=class extends EE{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:_("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}};xi.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var dL=class extends EE{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:_("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:Me.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Vt.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}};Dt(lL.ID,lL);Ue(cL);Ue(dL);RS.register("*",new _E);function HW(e,i,n,o){return uL(this,void 0,void 0,function*(){let r=RS.all(e);r.length===1&&r.unshift(new DE);let s=[],l=[];for(let c of r)s.push(Promise.resolve(c.provideSelectionRanges(e,i,o)).then(d=>{if(ho(d)&&d.length===i.length)for(let u=0;u<i.length;u++){l[u]||(l[u]=[]);for(let h of d[u])Ie.isIRange(h.range)&&Ie.containsPosition(h.range,i[u])&&l[u].push(Ie.lift(h.range))}},pn));return yield Promise.all(s),l.map(c=>{if(c.length===0)return[];c.sort((g,p)=>_t.isBefore(g.getStartPosition(),p.getStartPosition())?1:_t.isBefore(p.getStartPosition(),g.getStartPosition())||_t.isBefore(g.getEndPosition(),p.getEndPosition())?-1:_t.isBefore(p.getEndPosition(),g.getEndPosition())?1:0);let d=[],u;for(let g of c)(!u||Ie.containsRange(g,u)&&!Ie.equalsRange(g,u))&&(d.push(g),u=g);if(!n.selectLeadingAndTrailingWhitespace)return d;let h=[d[0]];for(let g=1;g<d.length;g++){let p=d[g-1],f=d[g];if(f.startLineNumber!==p.startLineNumber||f.endLineNumber!==p.endLineNumber){let y=new Ie(p.startLineNumber,e.getLineFirstNonWhitespaceColumn(p.startLineNumber),p.endLineNumber,e.getLineLastNonWhitespaceColumn(p.endLineNumber));y.containsRange(p)&&!y.equalsRange(p)&&f.containsRange(y)&&!f.equalsRange(y)&&h.push(y);let M=new Ie(p.startLineNumber,1,p.endLineNumber,e.getLineMaxColumn(p.endLineNumber));M.containsRange(p)&&!M.equalsRange(y)&&f.containsRange(M)&&!f.equalsRange(M)&&h.push(M)}h.push(f)}return h})})}q8("_executeSelectionRangeProvider",function(e,...i){let[n]=i;return HW(e,n,{selectLeadingAndTrailingWhitespace:!0},Jt.None)});bt();$t();Bt();lo();Yi();ki();Vi();Jn();Ti();$n();Bt();bt();wr();var pce=(()=>{class e{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let n=this.pos,o=0,r=this.value.charCodeAt(n),s;if(s=e._table[r],typeof s=="number")return this.pos+=1,{type:s,pos:n,len:1};if(e.isDigitCharacter(r)){s=8;do o+=1,r=this.value.charCodeAt(n+o);while(e.isDigitCharacter(r));return this.pos+=o,{type:s,pos:n,len:o}}if(e.isVariableCharacter(r)){s=9;do r=this.value.charCodeAt(n+ ++o);while(e.isVariableCharacter(r)||e.isDigitCharacter(r));return this.pos+=o,{type:s,pos:n,len:o}}s=10;do o+=1,r=this.value.charCodeAt(n+o);while(!isNaN(r)&&typeof e._table[r]>"u"&&!e.isDigitCharacter(r)&&!e.isVariableCharacter(r));return this.pos+=o,{type:s,pos:n,len:o}}}return e._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},e})(),Cg=class{constructor(){this._children=[]}appendChild(i){return i instanceof Xo&&this._children[this._children.length-1]instanceof Xo?this._children[this._children.length-1].value+=i.value:(i.parent=this,this._children.push(i)),this}replace(i,n){let{parent:o}=i,r=o.children.indexOf(i),s=o.children.slice(0);s.splice(r,1,...n),o._children=s,function l(c,d){for(let u of c)u.parent=d,l(u.children,u)}(n,o)}get children(){return this._children}get snippet(){let i=this;for(;;){if(!i)return;if(i instanceof kE)return i;i=i.parent}}toString(){return this.children.reduce((i,n)=>i+n.toString(),"")}len(){return 0}},Xo=class e extends Cg{constructor(i){super(),this.value=i}toString(){return this.value}len(){return this.value.length}clone(){return new e(this.value)}},ME=class extends Cg{},vs=class e extends ME{constructor(i){super(),this.index=i}static compareByIndex(i,n){return i.index===n.index?0:i.isFinalTabstop?1:n.isFinalTabstop||i.index<n.index?-1:i.index>n.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Lv?this._children[0]:void 0}clone(){let i=new e(this.index);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}},Lv=class e extends Cg{constructor(){super(...arguments),this.options=[]}appendChild(i){return i instanceof Xo&&(i.parent=this,this.options.push(i)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let i=new e;return this.options.forEach(i.appendChild,i),i}},hL=class e extends Cg{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(i){let n=this,o=!1,r=i.replace(this.regexp,function(){return o=!0,n._replace(Array.prototype.slice.call(arguments,0,-2))});return!o&&this._children.some(s=>s instanceof vl&&!!s.elseValue)&&(r=this._replace([])),r}_replace(i){let n="";for(let o of this._children)if(o instanceof vl){let r=i[o.index]||"";r=o.resolve(r),n+=r}else n+=o.toString();return n}toString(){return""}clone(){let i=new e;return i.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),i._children=this.children.map(n=>n.clone()),i}},vl=class e extends Cg{constructor(i,n,o,r){super(),this.index=i,this.shorthandName=n,this.ifValue=o,this.elseValue=r}resolve(i){return this.shorthandName==="upcase"?i?i.toLocaleUpperCase():"":this.shorthandName==="downcase"?i?i.toLocaleLowerCase():"":this.shorthandName==="capitalize"?i?i[0].toLocaleUpperCase()+i.substr(1):"":this.shorthandName==="pascalcase"?i?this._toPascalCase(i):"":i&&typeof this.ifValue=="string"?this.ifValue:!i&&typeof this.elseValue=="string"?this.elseValue:i||""}_toPascalCase(i){let n=i.match(/[a-z]+/gi);return n?n.map(function(o){return o.charAt(0).toUpperCase()+o.substr(1).toLowerCase()}).join(""):i}clone(){return new e(this.index,this.shorthandName,this.ifValue,this.elseValue)}},Jw=class e extends ME{constructor(i){super(),this.name=i}resolve(i){let n=i.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),n!==void 0?(this._children=[new Xo(n)],!0):!1}clone(){let i=new e(this.name);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}};function GW(e,i){let n=[...e];for(;n.length>0;){let o=n.shift();if(!i(o))break;n.unshift(...o.children)}}var kE=class e extends Cg{get placeholderInfo(){if(!this._placeholders){let i=[],n;this.walk(function(o){return o instanceof vs&&(i.push(o),n=!n||n.index<o.index?o:n),!0}),this._placeholders={all:i,last:n}}return this._placeholders}get placeholders(){let{all:i}=this.placeholderInfo;return i}offset(i){let n=0,o=!1;return this.walk(r=>r===i?(o=!0,!1):(n+=r.len(),!0)),o?n:-1}fullLen(i){let n=0;return GW([i],o=>(n+=o.len(),!0)),n}enclosingPlaceholders(i){let n=[],{parent:o}=i;for(;o;)o instanceof vs&&n.push(o),o=o.parent;return n}resolveVariables(i){return this.walk(n=>(n instanceof Jw&&n.resolve(i)&&(this._placeholders=void 0),!0)),this}appendChild(i){return this._placeholders=void 0,super.appendChild(i)}replace(i,n){return this._placeholders=void 0,super.replace(i,n)}clone(){let i=new e;return this._children=this.children.map(n=>n.clone()),i}walk(i){GW(this.children,i)}},wg=class{constructor(){this._scanner=new pce,this._token={type:14,pos:0,len:0}}static escape(i){return i.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(i){return/\${?CLIPBOARD/.test(i)}parse(i,n,o){this._scanner.text(i),this._token=this._scanner.next();let r=new kE;for(;this._parse(r););let s=new Map,l=[],c=0;r.walk(d=>(d instanceof vs&&(c+=1,d.isFinalTabstop?s.set(0,void 0):!s.has(d.index)&&d.children.length>0?s.set(d.index,d.children):l.push(d)),!0));for(let d of l){let u=s.get(d.index);if(u){let h=new vs(d.index);h.transform=d.transform;for(let g of u)h.appendChild(g.clone());r.replace(d,[h])}}return o||(o=c>0&&n),!s.has(0)&&o&&r.appendChild(new vs(0)),r}_accept(i,n){if(i===void 0||this._token.type===i){let o=n?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),o}return!1}_backTo(i){return this._scanner.pos=i.pos+i.len,this._token=i,!1}_until(i){let n=this._token;for(;this._token.type!==i;){if(this._token.type===14)return!1;if(this._token.type===5){let r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}let o=this._scanner.value.substring(n.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),o}_parse(i){return this._parseEscaped(i)||this._parseTabstopOrVariableName(i)||this._parseComplexPlaceholder(i)||this._parseComplexVariable(i)||this._parseAnything(i)}_parseEscaped(i){let n;return(n=this._accept(5,!0))?(n=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||n,i.appendChild(new Xo(n)),!0):!1}_parseTabstopOrVariableName(i){let n,o=this._token;return this._accept(0)&&(n=this._accept(9,!0)||this._accept(8,!0))?(i.appendChild(/^\d+$/.test(n)?new vs(Number(n)):new Jw(n)),!0):this._backTo(o)}_parseComplexPlaceholder(i){let n,o=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(8,!0))))return this._backTo(o);let s=new vs(Number(n));if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(s),!0;if(!this._parse(s))return i.appendChild(new Xo("${"+n+":")),s.children.forEach(i.appendChild,i),!0}else if(s.index>0&&this._accept(7)){let l=new Lv;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(l),this._accept(4)))return i.appendChild(s),!0}return this._backTo(o),!1}}else return this._accept(6)?this._parseTransform(s)?(i.appendChild(s),!0):(this._backTo(o),!1):this._accept(4)?(i.appendChild(s),!0):this._backTo(o)}_parseChoiceElement(i){let n=this._token,o=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(n),!1;o.push(r)}return o.length===0?(this._backTo(n),!1):(i.appendChild(new Xo(o.join(""))),!0)}_parseComplexVariable(i){let n,o=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(9,!0))))return this._backTo(o);let s=new Jw(n);if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(s),!0;if(!this._parse(s))return i.appendChild(new Xo("${"+n+":")),s.children.forEach(i.appendChild,i),!0}else return this._accept(6)?this._parseTransform(s)?(i.appendChild(s),!0):(this._backTo(o),!1):this._accept(4)?(i.appendChild(s),!0):this._backTo(o)}_parseTransform(i){let n=new hL,o="",r="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(6,!0)||s,o+=s;continue}if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(5,!0)||this._accept(6,!0)||s,n.appendChild(new Xo(s));continue}if(!(this._parseFormatString(n)||this._parseAnything(n)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{n.regexp=new RegExp(o,r)}catch{return!1}return i.transform=n,!0}_parseFormatString(i){let n=this._token;if(!this._accept(0))return!1;let o=!1;this._accept(3)&&(o=!0);let r=this._accept(8,!0);if(r)if(o){if(this._accept(4))return i.appendChild(new vl(Number(r))),!0;if(!this._accept(1))return this._backTo(n),!1}else return i.appendChild(new vl(Number(r))),!0;else return this._backTo(n),!1;if(this._accept(6)){let s=this._accept(9,!0);return!s||!this._accept(4)?(this._backTo(n),!1):(i.appendChild(new vl(Number(r),s)),!0)}else if(this._accept(11)){let s=this._until(4);if(s)return i.appendChild(new vl(Number(r),void 0,s,void 0)),!0}else if(this._accept(12)){let s=this._until(4);if(s)return i.appendChild(new vl(Number(r),void 0,void 0,s)),!0}else if(this._accept(13)){let s=this._until(1);if(s){let l=this._until(4);if(l)return i.appendChild(new vl(Number(r),void 0,s,l)),!0}}else{let s=this._until(4);if(s)return i.appendChild(new vl(Number(r),void 0,void 0,s)),!0}return this._backTo(n),!1}_parseAnything(i){return this._token.type!==14?(i.appendChild(new Xo(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};Fk();Do();Fo();To();Ug();Pt();var ey=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},li={Visible:new ei("suggestWidgetVisible",!1,_("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new ei("suggestWidgetDetailsVisible",!1,_("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new ei("suggestWidgetMultipleSuggestions",!1,_("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new ei("suggestionMakesTextEdit",!0,_("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new ei("acceptSuggestionOnEnter",!0,_("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new ei("suggestionHasInsertAndReplaceRange",!1,_("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new ei("suggestionInsertMode",void 0,{type:"string",description:_("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new ei("suggestionCanResolve",!1,_("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},ou=new Vt("suggestWidgetStatusBar"),gL=class{constructor(i,n,o,r){this.position=i,this.completion=n,this.container=o,this.provider=r,this.isInvalid=!1,this.score=Xg.Default,this.distance=0,this.textLabel=typeof n.label=="string"?n.label:n.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=n.sortText&&n.sortText.toLowerCase(),this.filterTextLow=n.filterText&&n.filterText.toLowerCase(),Ie.isIRange(n.range)?(this.editStart=new _t(n.range.startLineNumber,n.range.startColumn),this.editInsertEnd=new _t(n.range.endLineNumber,n.range.endColumn),this.editReplaceEnd=new _t(n.range.endLineNumber,n.range.endColumn),this.isInvalid=this.isInvalid||Ie.spansMultipleLines(n.range)||n.range.startLineNumber!==i.lineNumber):(this.editStart=new _t(n.range.insert.startLineNumber,n.range.insert.startColumn),this.editInsertEnd=new _t(n.range.insert.endLineNumber,n.range.insert.endColumn),this.editReplaceEnd=new _t(n.range.replace.endLineNumber,n.range.replace.endColumn),this.isInvalid=this.isInvalid||Ie.spansMultipleLines(n.range.insert)||Ie.spansMultipleLines(n.range.replace)||n.range.insert.startLineNumber!==i.lineNumber||n.range.replace.startLineNumber!==i.lineNumber||n.range.insert.startColumn!==n.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(i){return ey(this,void 0,void 0,function*(){if(!this._resolveCache){let n=i.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,i)).then(o=>{Object.assign(this.completion,o),this._isResolved=!0,n.dispose()},o=>{Ml(o)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}},Qp=class{constructor(i=2,n=new Set,o=new Set){this.snippetSortOrder=i,this.kindFilter=n,this.providerFilter=o}};Qp.default=new Qp;var _b;function jW(){return _b}var pL=class{constructor(i,n,o,r){this.items=i,this.needsClipboard=n,this.durations=o,this.disposable=r}};function mL(e,i,n=Qp.default,o={triggerKind:0},r=Jt.None){return ey(this,void 0,void 0,function*(){let s=new xh(!0);i=i.clone();let l=e.getWordAtPosition(i),c=l?new Ie(i.lineNumber,l.startColumn,i.lineNumber,l.endColumn):Ie.fromPositions(i),d={replace:c,insert:c.setEndPosition(i.lineNumber,i.column)},u=[],h=new Xe,g=[],p=!1,f=(M,k,G)=>{var J,$;if(k){for(let _e of k.suggestions)n.kindFilter.has(_e.kind)||(_e.range||(_e.range=d),_e.sortText||(_e.sortText=typeof _e.label=="string"?_e.label:_e.label.name),!p&&_e.insertTextRules&&_e.insertTextRules&4&&(p=wg.guessNeedsClipboard(_e.insertText)),u.push(new gL(i,_e,k,M)));hS(k)&&h.add(k),g.push({providerName:(J=M._debugDisplayName)!==null&&J!==void 0?J:"unkown_provider",elapsedProvider:($=k.duration)!==null&&$!==void 0?$:-1,elapsedOverall:G.elapsed()})}},y=ey(this,void 0,void 0,function*(){if(!_b||n.kindFilter.has(27)||n.providerFilter.size>0&&!n.providerFilter.has(_b))return;let M=new xh(!0),k=yield _b.provideCompletionItems(e,i,o,r);f(_b,k,M)});for(let M of yu.orderedGroups(e)){let k=u.length;if(yield Promise.all(M.map(G=>ey(this,void 0,void 0,function*(){if(!(n.providerFilter.size>0&&!n.providerFilter.has(G)))try{let J=new xh(!0),$=yield G.provideCompletionItems(e,i,o,r);f(G,$,J)}catch(J){pn(J)}}))),k!==u.length||r.isCancellationRequested)break}return yield y,r.isCancellationRequested?(h.dispose(),Promise.reject(uS())):new pL(u.sort(CL(n.snippetSortOrder)),p,{entries:g,elapsed:s.elapsed()},h)})}function vL(e,i){if(e.sortTextLow&&i.sortTextLow){if(e.sortTextLow<i.sortTextLow)return-1;if(e.sortTextLow>i.sortTextLow)return 1}return e.completion.label<i.completion.label?-1:e.completion.label>i.completion.label?1:e.completion.kind-i.completion.kind}function fce(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return vL(e,i)}function mce(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return vL(e,i)}var IE=new Map;IE.set(0,fce);IE.set(2,mce);IE.set(1,vL);function CL(e){return IE.get(e)}xi.registerCommand("_executeCompletionItemProvider",(e,...i)=>ey(void 0,void 0,void 0,function*(){let[n,o,r,s]=i;tn(ci.isUri(n)),tn(_t.isIPosition(o)),tn(typeof r=="string"||!r),tn(typeof s=="number"||!s);let l=yield e.get(jr).createModelReference(n);try{let c={incomplete:!1,suggestions:[]},d=[],u=yield mL(l.object.textEditorModel,_t.lift(o),void 0,{triggerCharacter:r,triggerKind:r?1:0});for(let h of u.items)d.length<(s??0)&&d.push(h.resolve(Jt.None)),c.incomplete=c.incomplete||h.container.incomplete,c.suggestions.push(h.completion);try{return yield Promise.all(d),c}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{l.dispose()}}));var fL=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let i={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,i}};yu.register("*",fL);function WW(e,i){setTimeout(()=>{fL.onlyOnceSuggestions.push(...i),e.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(fL))},0)}Ti();PS();Rn();bt();On();Ah();Bt();lo();Lo();wn();Pt();P4();Es();Su();On();To();var wL="code-workspace";function bL(e){let i=e;return typeof i?.id=="string"&&ci.isUri(i.uri)}function UW(e){if(e.configuration)return{id:e.id,configPath:e.configuration};if(e.folders.length===1)return{id:e.id,uri:e.folders[0].uri}}var vo=new Uint8Array(16),Jo=[];for(let e=0;e<256;e++)Jo.push(e.toString(16).padStart(2,"0"));var yL;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?yL=crypto.getRandomValues.bind(crypto):yL=function(e){for(let i=0;i<e.length;i++)e[i]=Math.floor(Math.random()*256);return e};function $W(){yL(vo),vo[6]=vo[6]&15|64,vo[8]=vo[8]&63|128;let e=0,i="";return i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+="-",i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+="-",i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+="-",i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+="-",i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+=Jo[vo[e++]],i+=Jo[vo[e++]],i}var RE=class{constructor(i){this._delegates=i}resolve(i){for(let n of this._delegates){let o=n.resolve(i);if(o!==void 0)return o}}},AE=class{constructor(i,n,o,r){this._model=i,this._selection=n,this._selectionIdx=o,this._overtypingCapturer=r}resolve(i){let{name:n}=i;if(n==="SELECTION"||n==="TM_SELECTED_TEXT"){let o=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!o&&this._overtypingCapturer){let s=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);s&&(o=s.value,r=s.multiline)}if(o&&r&&i.snippet){let s=this._model.getLineContent(this._selection.startLineNumber),l=Kn(s,0,this._selection.startColumn-1),c=l;i.snippet.walk(u=>u===i?!1:(u instanceof Xo&&(c=Kn(wS(u.value).pop())),!0));let d=zf(c,l);o=o.replace(/(\r\n|\r|\n)(.*)/g,(u,h,g)=>`${h}${c.substr(d)}${g}`)}return o}else{if(n==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(n==="TM_CURRENT_WORD"){let o=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return o&&o.word||void 0}else{if(n==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(n==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}},TE=class{constructor(i,n){this._labelService=i,this._model=n}resolve(i){let{name:n}=i;if(n==="TM_FILENAME")return Pf(this._model.uri.fsPath);if(n==="TM_FILENAME_BASE"){let o=Pf(this._model.uri.fsPath),r=o.lastIndexOf(".");return r<=0?o:o.slice(0,r)}else{if(n==="TM_DIRECTORY"&&this._labelService)return F4(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(Bf(this._model.uri));if(n==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(n==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}},FE=class{constructor(i,n,o,r){this._readClipboardText=i,this._selectionIdx=n,this._selectionCount=o,this._spread=r}resolve(i){if(i.name!=="CLIPBOARD")return;let n=this._readClipboardText();if(n){if(this._spread){let o=n.split(/\r\n|\n|\r/).filter(r=>!e8(r));if(o.length===this._selectionCount)return o[this._selectionIdx]}return n}}},PE=class{constructor(i,n){this._model=i,this._selection=n}resolve(i){let{name:n}=i,o=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=Zi.getComments(o);if(r){if(n==="LINE_COMMENT")return r.lineCommentToken||void 0;if(n==="BLOCK_COMMENT_START")return r.blockCommentStartToken||void 0;if(n==="BLOCK_COMMENT_END")return r.blockCommentEndToken||void 0}}},bg=class e{resolve(i){let{name:n}=i;if(n==="CURRENT_YEAR")return String(new Date().getFullYear());if(n==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(n==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(n==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(n==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(n==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(n==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(n==="CURRENT_DAY_NAME")return e.dayNames[new Date().getDay()];if(n==="CURRENT_DAY_NAME_SHORT")return e.dayNamesShort[new Date().getDay()];if(n==="CURRENT_MONTH_NAME")return e.monthNames[new Date().getMonth()];if(n==="CURRENT_MONTH_NAME_SHORT")return e.monthNamesShort[new Date().getMonth()];if(n==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}};bg.dayNames=[_("Sunday","Sunday"),_("Monday","Monday"),_("Tuesday","Tuesday"),_("Wednesday","Wednesday"),_("Thursday","Thursday"),_("Friday","Friday"),_("Saturday","Saturday")];bg.dayNamesShort=[_("SundayShort","Sun"),_("MondayShort","Mon"),_("TuesdayShort","Tue"),_("WednesdayShort","Wed"),_("ThursdayShort","Thu"),_("FridayShort","Fri"),_("SaturdayShort","Sat")];bg.monthNames=[_("January","January"),_("February","February"),_("March","March"),_("April","April"),_("May","May"),_("June","June"),_("July","July"),_("August","August"),_("September","September"),_("October","October"),_("November","November"),_("December","December")];bg.monthNamesShort=[_("JanuaryShort","Jan"),_("FebruaryShort","Feb"),_("MarchShort","Mar"),_("AprilShort","Apr"),_("MayShort","May"),_("JuneShort","Jun"),_("JulyShort","Jul"),_("AugustShort","Aug"),_("SeptemberShort","Sep"),_("OctoberShort","Oct"),_("NovemberShort","Nov"),_("DecemberShort","Dec")];var LE=class{constructor(i){this._workspaceService=i}resolve(i){if(!this._workspaceService)return;let n=UW(this._workspaceService.getWorkspace());if(n){if(i.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(n);if(i.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(n)}}_resolveWorkspaceName(i){if(bL(i))return Pf(i.uri.path);let n=Pf(i.configPath.path);return n.endsWith(wL)&&(n=n.substr(0,n.length-wL.length-1)),n}_resoveWorkspacePath(i){if(bL(i))return cD(i.uri.fsPath);let n=Pf(i.configPath.path),o=i.configPath.fsPath;return o.endsWith(n)&&(o=o.substr(0,o.length-n.length-1)),o?cD(o):"/"}},NE=class{resolve(i){let{name:n}=i;if(n==="RANDOM")return Math.random().toString().slice(-6);if(n==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(n==="UUID")return $W()}};Oi();vn();ii((e,i)=>{function n(o){let r=e.getColor(o);return r?r.toString():"transparent"}i.addRule(`.monaco-editor .snippet-placeholder { background-color: ${n(M5)}; outline-color: ${n(k5)}; }`),i.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${n(I5)}; outline-color: ${n(R5)}; }`)});var OE=class e{constructor(i,n,o,r){this._editor=i,this._snippet=n,this._offset=o,this._snippetLineLeadingWhitespace=r,this._nestingLevel=1,this._placeholderGroups=o2(n.placeholders,vs.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let i=this._editor.getModel();this._editor.changeDecorations(n=>{for(let o of this._snippet.placeholders){let r=this._snippet.offset(o),s=this._snippet.fullLen(o),l=Ie.fromPositions(i.getPositionAt(this._offset+r),i.getPositionAt(this._offset+r+s)),c=o.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,d=n.addDecoration(l,c);this._placeholderDecorations.set(o,d)}})}move(i){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let r=[];for(let s of this._placeholderGroups[this._placeholderGroupsIdx])if(s.transform){let l=this._placeholderDecorations.get(s),c=this._editor.getModel().getDecorationRange(l),d=this._editor.getModel().getValueInRange(c),u=s.transform.resolve(d).split(/\r\n|\r|\n/);for(let h=1;h<u.length;h++)u[h]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+u[h]);r.push(nn.replace(c,u.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let n=!1;i===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,n=!0):i===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,n=!0);let o=this._editor.getModel().changeDecorations(r=>{let s=new Set,l=[];for(let c of this._placeholderGroups[this._placeholderGroupsIdx]){let d=this._placeholderDecorations.get(c),u=this._editor.getModel().getDecorationRange(d);l.push(new Ct(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)),n=n&&this._hasPlaceholderBeenCollapsed(c),r.changeDecorationOptions(d,c.isFinalTabstop?e._decor.activeFinal:e._decor.active),s.add(c);for(let h of this._snippet.enclosingPlaceholders(c)){let g=this._placeholderDecorations.get(h);r.changeDecorationOptions(g,h.isFinalTabstop?e._decor.activeFinal:e._decor.active),s.add(h)}}for(let[c,d]of this._placeholderDecorations)s.has(c)||r.changeDecorationOptions(d,c.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive);return l});return n?this.move(i):o??[]}_hasPlaceholderBeenCollapsed(i){let n=i;for(;n;){if(n instanceof vs){let o=this._placeholderDecorations.get(n);if(this._editor.getModel().getDecorationRange(o).isEmpty()&&n.toString().length>0)return!0}n=n.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){let i=new Map;for(let n of this._placeholderGroups){let o;for(let r of n){if(r.isFinalTabstop)break;o||(o=[],i.set(r.index,o));let s=this._placeholderDecorations.get(r),l=this._editor.getModel().getDecorationRange(s);if(!l){i.delete(r.index);break}o.push(l)}}return i}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(i){let n=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(o=>{for(let r of this._placeholderGroups[this._placeholderGroupsIdx]){let s=i.shift();console.assert(!s._placeholderDecorations);let l=s._snippet.placeholderInfo.last.index;for(let d of s._snippet.placeholderInfo.all)d.isFinalTabstop?d.index=r.index+(l+1)/this._nestingLevel:d.index=r.index+d.index/this._nestingLevel;this._snippet.replace(r,s._snippet.children);let c=this._placeholderDecorations.get(r);o.removeDecoration(c),this._placeholderDecorations.delete(r);for(let d of s._snippet.placeholders){let u=s._snippet.offset(d),h=s._snippet.fullLen(d),g=Ie.fromPositions(n.getPositionAt(s._offset+u),n.getPositionAt(s._offset+u+h)),p=o.addDecoration(g,e._decor.inactive);this._placeholderDecorations.set(d,p)}}this._placeholderGroups=o2(this._snippet.placeholders,vs.compareByIndex)})}};OE._decor={active:ni.register({stickiness:0,className:"snippet-placeholder"}),inactive:ni.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:ni.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:ni.register({stickiness:1,className:"finish-snippet-placeholder"})};var qW={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},zE=class e{constructor(i,n,o=qW){this._templateMerges=[],this._snippets=[],this._editor=i,this._template=n,this._options=o}static adjustWhitespace(i,n,o,r,s){let l=i.getLineContent(n.lineNumber),c=Kn(l,0,n.column-1),d;return o.walk(u=>{if(!(u instanceof Xo)||u.parent instanceof Lv)return!0;let h=u.value.split(/\r\n|\r|\n/);if(r){let p=o.offset(u);if(p===0)h[0]=i.normalizeIndentation(h[0]);else{d=d??o.toString();let f=d.charCodeAt(p-1);(f===10||f===13)&&(h[0]=i.normalizeIndentation(c+h[0]))}for(let f=1;f<h.length;f++)h[f]=i.normalizeIndentation(c+h[f])}let g=h.join(i.getEOL());return g!==u.value&&(u.parent.replace(u,[new Xo(g)]),d=void 0),!0}),c}static adjustSelection(i,n,o,r){if(o!==0||r!==0){let{positionLineNumber:s,positionColumn:l}=n,c=l-o,d=l+r,u=i.validateRange({startLineNumber:s,startColumn:c,endLineNumber:s,endColumn:d});n=Ct.createWithDirection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn,n.getDirection())}return n}static createEditsAndSnippets(i,n,o,r,s,l,c,d){let u=[],h=[];if(!i.hasModel())return{edits:u,snippets:h};let g=i.getModel(),p=i.invokeWithinContext(_e=>_e.get(V8,Lk)),f=i.invokeWithinContext(_e=>new TE(_e.get(zh,Lk),g)),y=()=>c,M=0,k=g.getValueInRange(e.adjustSelection(g,i.getSelection(),o,0)),G=g.getValueInRange(e.adjustSelection(g,i.getSelection(),0,r)),J=g.getLineFirstNonWhitespaceColumn(i.getSelection().positionLineNumber),$=i.getSelections().map((_e,Te)=>({selection:_e,idx:Te})).sort((_e,Te)=>Ie.compareRangesUsingStarts(_e.selection,Te.selection));for(let{selection:_e,idx:Te}of $){let Pe=e.adjustSelection(g,_e,o,0),$e=e.adjustSelection(g,_e,0,r);k!==g.getValueInRange(Pe)&&(Pe=_e),G!==g.getValueInRange($e)&&($e=_e);let nt=_e.setStartPosition(Pe.startLineNumber,Pe.startColumn).setEndPosition($e.endLineNumber,$e.endColumn),at=new wg().parse(n,!0,s),Ft=nt.getStartPosition(),Zt=e.adjustWhitespace(g,Ft,at,l||Te>0&&J!==g.getLineFirstNonWhitespaceColumn(_e.positionLineNumber),!0);at.resolveVariables(new RE([f,new FE(y,Te,$.length,i.getOption(67)==="spread"),new AE(g,_e,Te,d),new PE(g,_e),new bg,new LE(p),new NE]));let xn=g.getOffsetAt(Ft)+M;M+=at.toString().length-g.getValueLengthInRange(nt),u[Te]=nn.replace(nt,at.toString()),u[Te].identifier={major:Te,minor:0},h[Te]=new OE(i,at,xn,Zt)}return{edits:u,snippets:h}}dispose(){Un(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:i,snippets:n}=e.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=n,this._editor.executeEdits("snippet",i,o=>this._snippets[0].hasPlaceholder?this._move(!0):o.filter(r=>!!r.identifier).map(r=>Ct.fromPositions(r.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(i,n=qW){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,i]);let{edits:o,snippets:r}=e.createEditsAndSnippets(this._editor,i,n.overwriteBefore,n.overwriteAfter,!0,n.adjustWhitespace,n.clipboardText,n.overtypingCapturer);this._editor.executeEdits("snippet",o,s=>{for(let l of this._snippets)l.merge(r);return console.assert(r.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):s.filter(l=>!!l.identifier).map(l=>Ct.fromPositions(l.range.getEndPosition()))})}next(){let i=this._move(!0);this._editor.setSelections(i),this._editor.revealPositionInCenterIfOutsideViewport(i[0].getPosition())}prev(){let i=this._move(!1);this._editor.setSelections(i),this._editor.revealPositionInCenterIfOutsideViewport(i[0].getPosition())}_move(i){let n=[];for(let o of this._snippets){let r=o.move(i);n.push(...r)}return n}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let i=this._editor.getSelections();if(i.length<this._snippets.length)return!1;let n=new Map;for(let o of this._snippets){let r=o.computePossibleSelections();if(n.size===0)for(let[s,l]of r){l.sort(Ie.compareRangesUsingStarts);for(let c of i)if(l[0].containsRange(c)){n.set(s,[]);break}}if(n.size===0)return!1;n.forEach((s,l)=>{s.push(...r.get(l))})}i.sort(Ie.compareRangesUsingStarts);for(let[o,r]of n){if(r.length!==i.length){n.delete(o);continue}r.sort(Ie.compareRangesUsingStarts);for(let s=0;s<r.length;s++)if(!r[s].containsRange(i[s])){n.delete(o);continue}}return n.size>0}};Pt();var vce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},KW=function(e,i){return function(n,o){i(n,o,e)}},YW={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},oo=class ty{constructor(i,n,o){this._editor=i,this._logService=n,this._snippetListener=new Xe,this._modelVersionId=-1,this._inSnippet=ty.InSnippetMode.bindTo(o),this._hasNextTabstop=ty.HasNextTabstop.bindTo(o),this._hasPrevTabstop=ty.HasPrevTabstop.bindTo(o)}static get(i){return i.getContribution(ty.ID)}dispose(){var i;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(i=this._session)===null||i===void 0||i.dispose(),this._snippetListener.dispose()}insert(i,n){try{this._doInsert(i,typeof n>"u"?YW:Object.assign(Object.assign({},YW),n))}catch(o){this.cancel(),this._logService.error(o),this._logService.error("snippet_error"),this._logService.error("insert_template=",i),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(i,n){this._editor.hasModel()&&(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(i,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new zE(this._editor,i,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(o=>o.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{choice:i}=this._session;if(!i){this._currentChoice=void 0;return}if(this._currentChoice!==i){this._currentChoice=i,this._editor.setSelections(this._editor.getSelections().map(o=>Ct.fromPositions(o.getStartPosition())));let[n]=i.options;WW(this._editor,i.options.map((o,r)=>({kind:13,label:o.value,insertText:o.value,sortText:"a".repeat(r+1),range:Ie.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(i=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,i&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};oo.ID="snippetController2";oo.InSnippetMode=new ei("inSnippetMode",!1,_("inSnippetMode","Whether the editor in current in snippet mode"));oo.HasNextTabstop=new ei("hasNextTabstop",!1,_("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));oo.HasPrevTabstop=new ei("hasPrevTabstop",!1,_("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));oo=vce([KW(1,Rh),KW(2,Wt)],oo);Dt(oo.ID,oo);var BE=Tn.bindToContribution(oo.get);pt(new BE({id:"jumpToNextSnippetPlaceholder",precondition:st.and(oo.InSnippetMode,oo.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:Me.editorTextFocus,primary:2}}));pt(new BE({id:"jumpToPrevSnippetPlaceholder",precondition:st.and(oo.InSnippetMode,oo.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:Me.editorTextFocus,primary:1026}}));pt(new BE({id:"leaveSnippet",precondition:oo.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:Me.editorTextFocus,primary:9,secondary:[1033]}}));pt(new BE({id:"acceptSnippet",precondition:oo.InSnippetMode,handler:e=>e.finish()}));el();Rn();ki();kl();bt();Kg();$t();Ah();Bt();Yi();F0();Vi();bt();ln();wn();Kf();X0();kh();var Cce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},SL=function(e,i){return function(n,o){i(n,o,e)}},iy=class{constructor(i){this.name=i}select(i,n,o){if(o.length===0)return 0;let r=o[0].score[0];for(let s=0;s<o.length;s++){let{score:l,completion:c}=o[s];if(l[0]!==r)break;if(c.preselect)return s}return 0}},HE=class extends iy{constructor(){super("first")}memorize(i,n,o){}toJSON(){}fromJSON(){}},xL=class extends iy{constructor(){super("recentlyUsed"),this._cache=new _h(300,.66),this._seq=0}memorize(i,n,o){let r=`${i.getLanguageIdentifier().language}/${o.textLabel}`;this._cache.set(r,{touch:this._seq++,type:o.completion.kind,insertText:o.completion.insertText})}select(i,n,o){if(o.length===0)return 0;let r=i.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(r))return super.select(i,n,o);let s=o[0].score[0],l=-1,c=-1,d=-1;for(let u=0;u<o.length&&o[u].score[0]===s;u++){let h=`${i.getLanguageIdentifier().language}/${o[u].textLabel}`,g=this._cache.peek(h);if(g&&g.touch>d&&g.type===o[u].completion.kind&&g.insertText===o[u].completion.insertText&&(d=g.touch,c=u),o[u].completion.preselect&&l===-1)return l=u}return c!==-1?c:l!==-1?l:0}toJSON(){return this._cache.toJSON()}fromJSON(i){this._cache.clear();let n=0;for(let[o,r]of i)r.touch=n,r.type=typeof r.type=="number"?r.type:Xk(r.type),this._cache.set(o,r);this._seq=this._cache.size}},_L=class extends iy{constructor(){super("recentlyUsedByPrefix"),this._trie=c8.forStrings(),this._seq=0}memorize(i,n,o){let{word:r}=i.getWordUntilPosition(n),s=`${i.getLanguageIdentifier().language}/${r}`;this._trie.set(s,{type:o.completion.kind,insertText:o.completion.insertText,touch:this._seq++})}select(i,n,o){let{word:r}=i.getWordUntilPosition(n);if(!r)return super.select(i,n,o);let s=`${i.getLanguageIdentifier().language}/${r}`,l=this._trie.get(s);if(l||(l=this._trie.findSubstr(s)),l)for(let c=0;c<o.length;c++){let{kind:d,insertText:u}=o[c].completion;if(d===l.type&&u===l.insertText)return c}return super.select(i,n,o)}toJSON(){let i=[];return this._trie.forEach((n,o)=>i.push([o,n])),i.sort((n,o)=>-(n[1].touch-o[1].touch)).forEach((n,o)=>n[1].touch=o),i.slice(0,200)}fromJSON(i){if(this._trie.clear(),i.length>0){this._seq=i[0][1].touch+1;for(let[n,o]of i)o.type=typeof o.type=="number"?o.type:Xk(o.type),this._trie.set(n,o)}}},ny=class VE{constructor(i,n,o){this._storageService=i,this._modeService=n,this._configService=o,this._disposables=new Xe,this._persistSoon=new qn(()=>this._saveState(),500),this._disposables.add(i.onWillSaveState(r=>{r.reason===C1.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(i,n,o){this._withStrategy(i,n).memorize(i,n,o),this._persistSoon.schedule()}select(i,n,o){return this._withStrategy(i,n).select(i,n,o)}_withStrategy(i,n){var o,r;let s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(o=this._modeService.getLanguageIdentifier(i.getLanguageIdAtPosition(n.lineNumber,n.column)))===null||o===void 0?void 0:o.language,resource:i.uri});if(((r=this._strategy)===null||r===void 0?void 0:r.name)!==s){this._saveState();let l=VE._strategyCtors.get(s)||HE;this._strategy=new l;try{let d=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,u=this._storageService.get(`${VE._storagePrefix}/${s}`,d);u&&this._strategy.fromJSON(JSON.parse(u))}catch{}}return this._strategy}_saveState(){if(this._strategy){let n=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=JSON.stringify(this._strategy);this._storageService.store(`${VE._storagePrefix}/${this._strategy.name}`,o,n,1)}}};ny._strategyCtors=new Map([["recentlyUsedByPrefix",_L],["recentlyUsed",xL],["first",HE]]);ny._storagePrefix="suggest/memories";ny=Cce([SL(0,br),SL(1,ar),SL(2,Is)],ny);var DL=Il("ISuggestMemories");Pl(DL,ny,!0);Pt();Do();Ti();wn();zS();Ti();var wce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},bce=function(e,i){return function(n,o){i(n,o,e)}},yg=class GE{constructor(i,n){this._editor=i,this._index=0,this._ckOtherSuggestions=GE.OtherSuggestions.bindTo(n)}dispose(){this.reset()}reset(){var i;this._ckOtherSuggestions.reset(),(i=this._listener)===null||i===void 0||i.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:i,index:n},o){if(i.items.length===0){this.reset();return}if(GE._moveIndex(!0,i,n)===n){this.reset();return}this._acceptNext=o,this._model=i,this._index=n,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(i,n,o){let r=o;for(;r=(r+n.items.length+(i?1:-1))%n.items.length,!(r===o||!n.items[r].completion.additionalTextEdits););return r}next(){this._move(!0)}prev(){this._move(!1)}_move(i){if(this._model)try{this._ignore=!0,this._index=GE._moveIndex(i,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};yg.OtherSuggestions=new ei("hasOtherSuggestions",!1);yg=wce([bce(1,Wt)],yg);ln();ki();en();bt();lo();Vi();On();Rn();var jE=class e{constructor(i,n,o,r,s,l,c){this.clipboardText=c,this._snippetCompareFn=e._compareCompletionItems,this._items=i,this._column=n,this._wordDistance=r,this._options=s,this._refilterKind=1,this._lineContext=o,l==="top"?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:l==="bottom"&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(i){(this._lineContext.leadingLineContent!==i.leadingLineContent||this._lineContext.characterCountDelta!==i.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<i.characterCountDelta&&this._filteredItems?2:1,this._lineContext=i)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();let i=new Set;for(let[n,o]of this._providerInfo)o&&i.add(n);return i}adopt(i){let n=[];for(let o=0;o<this._items.length;)i.has(this._items[o].provider)?o++:(n.push(this._items[o]),this._items[o]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,n}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;let i=[],{leadingLineContent:n,characterCountDelta:o}=this._lineContext,r="",s="",l=this._refilterKind===1?this._items:this._filteredItems,c=[],d=!this._options.filterGraceful||l.length>2e3?m1:nz;for(let u=0;u<l.length;u++){let h=l[u];if(h.isInvalid)continue;this._providerInfo.set(h.provider,!!h.container.incomplete);let g=h.position.column-h.editStart.column,p=g+o-(h.position.column-this._column);if(r.length!==p&&(r=p===0?"":n.slice(-p),s=r.toLowerCase()),h.word=r,p===0)h.score=Xg.Default;else{let f=0;for(;f<g;){let y=r.charCodeAt(f);if(y===32||y===9)f+=1;else break}if(f>=p)h.score=Xg.Default;else if(typeof h.completion.filterText=="string"){let y=d(r,s,f,h.completion.filterText,h.filterTextLow,0,!1);if(!y)continue;o8(h.completion.filterText,h.textLabel)===0?h.score=y:(h.score=iz(r,s,f,h.textLabel,h.labelLow,0),h.score[0]=y[0])}else{let y=d(r,s,f,h.textLabel,h.labelLow,0,!1);if(!y)continue;h.score=y}}h.idx=u,h.distance=this._wordDistance.distance(h.position,h.completion),c.push(h),i.push(h.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:i.length?L8(i.length-.85,i,(u,h)=>u-h):0}}static _compareCompletionItems(i,n){return i.score[0]>n.score[0]?-1:i.score[0]<n.score[0]?1:i.distance<n.distance?-1:i.distance>n.distance?1:i.idx<n.idx?-1:i.idx>n.idx?1:0}static _compareCompletionItemsSnippetsDown(i,n){if(i.completion.kind!==n.completion.kind){if(i.completion.kind===27)return 1;if(n.completion.kind===27)return-1}return e._compareCompletionItems(i,n)}static _compareCompletionItemsSnippetsUp(i,n){if(i.completion.kind!==n.completion.kind){if(i.completion.kind===27)return-1;if(n.completion.kind===27)return 1}return e._compareCompletionItems(i,n)}};$n();i2();Rn();Bt();var yce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},Nv=class e{static create(i,n){return yce(this,void 0,void 0,function*(){if(!n.getOption(103).localityBonus||!n.hasModel())return e.None;let o=n.getModel(),r=n.getPosition();if(!i.canComputeWordRanges(o.uri))return e.None;let[s]=yield new DE().provideSelectionRanges(o,[r]);if(s.length===0)return e.None;let l=yield i.computeWordRanges(o.uri,s[0].range);if(!l)return e.None;let c=o.getWordUntilPosition(r);return delete l[c.word],new class extends e{distance(d,u){if(!r.equals(n.getPosition()))return 0;if(u.kind===17)return 2<<20;let h=typeof u.label=="string"?u.label:u.label.name,g=l[h];if(N8(g))return 2<<20;let p=AS(g,Ie.fromPositions(d),Ie.compareRangesUsingStarts),f=p>=0?g[p]:g[Math.max(0,~p-1)],y=s.length;for(let M of s){if(!Ie.containsRange(M.range,f))break;y-=1}return y}}})}};Nv.None=new class extends Nv{distance(){return 0}};On();jS();PS();var Sce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},WE=function(e,i){return function(n,o){i(n,o,e)}},xce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},Zp=class{constructor(i,n,o,r){this.leadingLineContent=i.getLineContent(n.lineNumber).substr(0,n.column-1),this.leadingWord=i.getWordUntilPosition(n),this.lineNumber=n.lineNumber,this.column=n.column,this.auto=o,this.shy=r}static shouldAutoTrigger(i){if(!i.hasModel())return!1;let n=i.getModel(),o=i.getPosition();n.tokenizeIfCheap(o.lineNumber);let r=n.getWordAtPosition(o);return!(!r||r.endColumn!==o.column||!isNaN(Number(r.word)))}},UE=class QW{constructor(i,n,o,r,s){this._editor=i,this._editorWorkerService=n,this._clipboardService=o,this._telemetryService=r,this._logService=s,this._toDispose=new Xe,this._quickSuggestDelay=10,this._triggerCharacterListener=new Xe,this._triggerQuickSuggest=new zr,this._state=0,this._completionDisposables=new Xe,this._onDidCancel=new vt,this._onDidTrigger=new vt,this._onDidSuggest=new vt,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ct(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(yu.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(c=>{this._onCursorChange(c)}));let l=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{l=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{l=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{l||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){Un(this._triggerCharacterListener),Un([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(76),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(77)||!this._editor.hasModel()||!this._editor.getOption(106))return;let i=new Map;for(let o of yu.all(this._editor.getModel()))for(let r of o.triggerCharacters||[]){let s=i.get(r);s||(s=new Set,s.add(jW()),i.set(r,s)),s.add(o)}let n=o=>{if(!o){let l=this._editor.getPosition();o=this._editor.getModel().getLineContent(l.lineNumber).substr(0,l.column-1)}let r="";a8(o.charCodeAt(o.length-1))?s8(o.charCodeAt(o.length-2))&&(r=o.substr(o.length-2)):r=o.charAt(o.length-1);let s=i.get(r);if(s){let l=this._completionModel?{items:this._completionModel.adopt(s),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:r},!!this._completionModel,s,l)}};this._triggerCharacterListener.add(this._editor.onDidType(n)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(n))}get state(){return this._state}cancel(i=!1){var n;this._state!==0&&(this._triggerQuickSuggest.cancel(),(n=this._requestToken)===null||n===void 0||n.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:i}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!yu.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(i){if(!this._editor.hasModel())return;let n=this._editor.getModel(),o=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!i.selection.isEmpty()||i.reason!==0&&i.reason!==3||i.source!=="keyboard"&&i.source!=="deleteLeft"){this.cancel();return}if(yu.has(n))if(this._state===0&&i.reason===0){if(this._editor.getOption(75)===!1||!o.containsRange(this._currentSelection)&&!o.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(103).snippetsPreventQuickSuggestions&&oo.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!Zp.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;let r=this._editor.getModel(),s=this._editor.getPosition(),l=this._editor.getOption(75);if(l!==!1){if(l!==!0){r.tokenizeIfCheap(s.lineNumber);let c=r.getLineTokens(s.lineNumber),d=c.getStandardTokenType(c.findTokenIndexAtOffset(Math.max(s.column-1-1,0)));if(!(l.other&&d===0||l.comments&&d===1||l.strings&&d===2))return}this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else this._state!==0&&i.reason===3&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;let i=this._editor.getModel(),n=this._editor.getPosition(),o=new Zp(i,n,this._state===2,!1);this._onNewContext(o)})}trigger(i,n=!1,o,r){var s;if(!this._editor.hasModel())return;let l=this._editor.getModel(),c=i.auto,d=new Zp(l,this._editor.getPosition(),c,i.shy);this.cancel(n),this._state=c?2:1,this._onDidTrigger.fire({auto:c,shy:i.shy,position:this._editor.getPosition()}),this._context=d;let u={triggerKind:(s=i.triggerKind)!==null&&s!==void 0?s:0};i.triggerCharacter&&(u={triggerKind:1,triggerCharacter:i.triggerCharacter}),this._requestToken=new Cr;let h=this._editor.getOption(98),g=1;switch(h){case"top":g=0;break;case"bottom":g=2;break}let p=QW._createItemKindFilter(this._editor),f=Nv.create(this._editorWorkerService,this._editor),y=mL(l,this._editor.getPosition(),new Qp(g,p,o),u,this._requestToken.token);Promise.all([y,f]).then(([M,k])=>xce(this,void 0,void 0,function*(){var G;if((G=this._requestToken)===null||G===void 0||G.dispose(),!this._editor.hasModel())return;let J=r?.clipboardText;if(!J&&M.needsClipboard&&(J=yield this._clipboardService.readText()),this._state===0)return;let $=this._editor.getModel(),_e=M.items;if(r){let Pe=CL(g);_e=_e.concat(r.items).sort(Pe)}let Te=new Zp($,this._editor.getPosition(),c,i.shy);this._completionModel=new jE(_e,this._context.column,{leadingLineContent:Te.leadingLineContent,characterCountDelta:Te.column-this._context.column},k,this._editor.getOption(103),this._editor.getOption(98),J),this._completionDisposables.add(M.disposable),this._onNewContext(Te),this._reportDurationsTelemetry(M.durations)})).catch(Ut)}_reportDurationsTelemetry(i){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(i)}),this._logService.debug("suggest.durations.json",i)})}static _createItemKindFilter(i){let n=new Set;i.getOption(98)==="none"&&n.add(27);let r=i.getOption(103);return r.showMethods||n.add(0),r.showFunctions||n.add(1),r.showConstructors||n.add(2),r.showFields||n.add(3),r.showVariables||n.add(4),r.showClasses||n.add(5),r.showStructs||n.add(6),r.showInterfaces||n.add(7),r.showModules||n.add(8),r.showProperties||n.add(9),r.showEvents||n.add(10),r.showOperators||n.add(11),r.showUnits||n.add(12),r.showValues||n.add(13),r.showConstants||n.add(14),r.showEnums||n.add(15),r.showEnumMembers||n.add(16),r.showKeywords||n.add(17),r.showWords||n.add(18),r.showColors||n.add(19),r.showFiles||n.add(20),r.showReferences||n.add(21),r.showColors||n.add(22),r.showFolders||n.add(23),r.showTypeParameters||n.add(24),r.showSnippets||n.add(27),r.showUsers||n.add(25),r.showIssues||n.add(26),n}_onNewContext(i){if(this._context){if(i.lineNumber!==this._context.lineNumber){this.cancel();return}if(Kn(i.leadingLineContent)!==Kn(this._context.leadingLineContent)){this.cancel();return}if(i.column<this._context.column){i.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel){if(i.leadingWord.word.length!==0&&i.leadingWord.startColumn>this._context.leadingWord.startColumn){let n=new Set(yu.all(this._editor.getModel()));for(let r of this._completionModel.allProvider)n.delete(r);let o=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,n,{items:o,clipboardText:this._completionModel.clipboardText});return}if(i.column>this._context.column&&this._completionModel.incomplete.size>0&&i.leadingWord.word.length!==0){let{incomplete:n}=this._completionModel,o=this._completionModel.adopt(n);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,n,{items:o,clipboardText:this._completionModel.clipboardText})}else{let n=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:i.leadingLineContent,characterCountDelta:i.column-this._context.column},this._completionModel.items.length===0){if(Zp.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<i.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=n,o=this._completionModel.items.length>0,o&&i.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:o})}}}}};UE=Sce([WE(1,$f),WE(2,Yg),WE(3,Fh),WE(4,Rh)],UE);Pt();Oi();vn();Gr();var _ce=St("symbolIcon.arrayForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dce=St("symbolIcon.booleanForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ece=St("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mce=St("symbolIcon.colorForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kce=St("symbolIcon.constantForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ice=St("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rce=St("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ace=St("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tce=St("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fce=St("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Pce=St("symbolIcon.fileForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lce=St("symbolIcon.folderForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nce=St("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Oce=St("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zce=St("symbolIcon.keyForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bce=St("symbolIcon.keywordForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vce=St("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hce=St("symbolIcon.moduleForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gce=St("symbolIcon.namespaceForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jce=St("symbolIcon.nullForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Wce=St("symbolIcon.numberForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Uce=St("symbolIcon.objectForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$ce=St("symbolIcon.operatorForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qce=St("symbolIcon.packageForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Kce=St("symbolIcon.propertyForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Yce=St("symbolIcon.referenceForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qce=St("symbolIcon.snippetForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Zce=St("symbolIcon.stringForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xce=St("symbolIcon.structForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Jce=St("symbolIcon.textForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ede=St("symbolIcon.typeParameterForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tde=St("symbolIcon.unitForeground",{dark:kt,light:kt,hc:kt},_("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ide=St("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));ii((e,i)=>{let n=e.getColor(_ce);n&&i.addRule(`${gt.symbolArray.cssSelector} { color: ${n}; }`);let o=e.getColor(Dce);o&&i.addRule(`${gt.symbolBoolean.cssSelector} { color: ${o}; }`);let r=e.getColor(Ece);r&&i.addRule(`${gt.symbolClass.cssSelector} { color: ${r}; }`);let s=e.getColor(Vce);s&&i.addRule(`${gt.symbolMethod.cssSelector} { color: ${s}; }`);let l=e.getColor(Mce);l&&i.addRule(`${gt.symbolColor.cssSelector} { color: ${l}; }`);let c=e.getColor(kce);c&&i.addRule(`${gt.symbolConstant.cssSelector} { color: ${c}; }`);let d=e.getColor(Ice);d&&i.addRule(`${gt.symbolConstructor.cssSelector} { color: ${d}; }`);let u=e.getColor(Rce);u&&i.addRule(`
			${gt.symbolValue.cssSelector},${gt.symbolEnum.cssSelector} { color: ${u}; }`);let h=e.getColor(Ace);h&&i.addRule(`${gt.symbolEnumMember.cssSelector} { color: ${h}; }`);let g=e.getColor(Tce);g&&i.addRule(`${gt.symbolEvent.cssSelector} { color: ${g}; }`);let p=e.getColor(Fce);p&&i.addRule(`${gt.symbolField.cssSelector} { color: ${p}; }`);let f=e.getColor(Pce);f&&i.addRule(`${gt.symbolFile.cssSelector} { color: ${f}; }`);let y=e.getColor(Lce);y&&i.addRule(`${gt.symbolFolder.cssSelector} { color: ${y}; }`);let M=e.getColor(Nce);M&&i.addRule(`${gt.symbolFunction.cssSelector} { color: ${M}; }`);let k=e.getColor(Oce);k&&i.addRule(`${gt.symbolInterface.cssSelector} { color: ${k}; }`);let G=e.getColor(zce);G&&i.addRule(`${gt.symbolKey.cssSelector} { color: ${G}; }`);let J=e.getColor(Bce);J&&i.addRule(`${gt.symbolKeyword.cssSelector} { color: ${J}; }`);let $=e.getColor(Hce);$&&i.addRule(`${gt.symbolModule.cssSelector} { color: ${$}; }`);let _e=e.getColor(Gce);_e&&i.addRule(`${gt.symbolNamespace.cssSelector} { color: ${_e}; }`);let Te=e.getColor(jce);Te&&i.addRule(`${gt.symbolNull.cssSelector} { color: ${Te}; }`);let Pe=e.getColor(Wce);Pe&&i.addRule(`${gt.symbolNumber.cssSelector} { color: ${Pe}; }`);let $e=e.getColor(Uce);$e&&i.addRule(`${gt.symbolObject.cssSelector} { color: ${$e}; }`);let nt=e.getColor($ce);nt&&i.addRule(`${gt.symbolOperator.cssSelector} { color: ${nt}; }`);let at=e.getColor(qce);at&&i.addRule(`${gt.symbolPackage.cssSelector} { color: ${at}; }`);let Ft=e.getColor(Kce);Ft&&i.addRule(`${gt.symbolProperty.cssSelector} { color: ${Ft}; }`);let Zt=e.getColor(Yce);Zt&&i.addRule(`${gt.symbolReference.cssSelector} { color: ${Zt}; }`);let xn=e.getColor(Qce);xn&&i.addRule(`${gt.symbolSnippet.cssSelector} { color: ${xn}; }`);let Ei=e.getColor(Zce);Ei&&i.addRule(`${gt.symbolString.cssSelector} { color: ${Ei}; }`);let hn=e.getColor(Xce);hn&&i.addRule(`${gt.symbolStruct.cssSelector} { color: ${hn}; }`);let Cn=e.getColor(Jce);Cn&&i.addRule(`${gt.symbolText.cssSelector} { color: ${Cn}; }`);let ss=e.getColor(ede);ss&&i.addRule(`${gt.symbolTypeParameter.cssSelector} { color: ${ss}; }`);let ot=e.getColor(tde);ot&&i.addRule(`${gt.symbolUnit.cssSelector} { color: ${ot}; }`);let jt=e.getColor(ide);jt&&i.addRule(`${gt.symbolVariable.cssSelector} { color: ${jt}; }`)});Pt();On();Ki();en();ki();bt();Ti();Oi();vn();ln();wn();Pt();bt();Ki();Gr();en();en();bt();Ki();var Ov=class{constructor(){this._onDidWillResize=new vt,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new vt,this.onDidResize=this._onDidResize.event,this._sashListener=new Xe,this._size=new Dn(0,0),this._minSize=new Dn(0,0),this._maxSize=new Dn(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Iu(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Iu(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Iu(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:y2.North}),this._southSash=new Iu(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:y2.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let i,n=0,o=0;this._sashListener.add(xo.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{i===void 0&&(this._onDidWillResize.fire(),i=this._size,n=0,o=0)})),this._sashListener.add(xo.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{i!==void 0&&(i=void 0,n=0,o=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{i&&(o=r.currentX-r.startX,this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{i&&(o=-(r.currentX-r.startX),this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{i&&(n=-(r.currentY-r.startY),this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{i&&(n=r.currentY-r.startY,this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(xo.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(xo.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this.domNode.remove()}enableSashes(i,n,o,r){this._northSash.state=i?3:0,this._eastSash.state=n?3:0,this._southSash.state=o?3:0,this._westSash.state=r?3:0}layout(i=this.size.height,n=this.size.width){let{height:o,width:r}=this._minSize,{height:s,width:l}=this._maxSize;i=Math.max(o,Math.min(s,i)),n=Math.max(r,Math.min(l,n));let c=new Dn(n,i);Dn.equals(c,this._size)||(this.domNode.style.height=i+"px",this.domNode.style.width=n+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(i){this._maxSize=i}get maxSize(){return this._maxSize}set minSize(i){this._minSize=i}get minSize(){return this._minSize}set preferredSize(i){this._preferredSize=i}get preferredSize(){return this._preferredSize}};wn();var nde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},ode=function(e,i){return function(n,o){i(n,o,e)}};function oy(e){return!!e&&!!(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}var $E=class{constructor(i,n){this._editor=i,this._onDidClose=new vt,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new vt,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Xe,this._renderDisposeable=new Xe,this._borderWidth=1,this._size=new Dn(330,0),this.domNode=ut(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(pl,{editor:i}),this._body=ut(".body"),this._scrollbar=new om(this._body,{}),ct(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ct(this._body,ut(".header")),this._close=ct(this._header,ut("span"+gt.close.cssSelector)),this._close.title=_("details.close","Close"),this._type=ct(this._header,ut("p.type")),this._docs=ct(this._body,ut("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(40)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let i=this._editor.getOptions(),n=i.get(40),o=n.fontFamily,r=i.get(104)||n.fontSize,s=i.get(105)||n.lineHeight,l=n.fontWeight,c=`${r}px`,d=`${s}px`;this.domNode.style.fontSize=c,this.domNode.style.lineHeight=d,this.domNode.style.fontWeight=l,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=o,this._close.style.height=d,this._close.style.width=d}getLayoutInfo(){let i=this._editor.getOption(105)||this._editor.getOption(40).lineHeight,n=this._borderWidth,o=n*2;return{lineHeight:i,borderWidth:n,borderHeight:o,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=_("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(i,n){var o,r;this._renderDisposeable.clear();let{detail:s,documentation:l}=i.completion;if(n){let c="";c+=`score: ${i.score[0]}
`,c+=`prefix: ${(o=i.word)!==null&&o!==void 0?o:"(no prefix)"}
`,c+=`word: ${i.completion.filterText?i.completion.filterText+" (filterText)":i.textLabel}
`,c+=`distance: ${i.distance} (localityBonus-setting)
`,c+=`index: ${i.idx}, based on ${i.completion.sortText&&`sortText: "${i.completion.sortText}"`||"label"}
`,c+=`commit_chars: ${(r=i.completion.commitCharacters)===null||r===void 0?void 0:r.join("")}
`,l=new Qo().appendCodeblock("empty",c),s=`Provider: ${i.provider._debugDisplayName}`}if(!n&&!oy(i)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),s){let c=s.length>1e5?`${s.substr(0,1e5)}\u2026`:s;this._type.textContent=c,this._type.title=c,jo(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(c))}else Ds(this._type),this._type.title="",_o(this._type),this.domNode.classList.add("no-type");if(Ds(this._docs),typeof l=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=l;else if(l){this._docs.classList.add("markdown-docs"),Ds(this._docs);let c=this._markdownRenderer.render(l);this._docs.appendChild(c.element),this._renderDisposeable.add(c),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=c=>{c.preventDefault(),c.stopPropagation()},this._close.onclick=c=>{c.preventDefault(),c.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(i,n){let o=new Dn(i,n);Dn.equals(o,this._size)||(this._size=o,K4(this.domNode,i,n)),this._scrollbar.scanDomNode()}scrollDown(i=8){this._body.scrollTop+=i}scrollUp(i=8){this._body.scrollTop-=i}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(i){this._borderWidth=i}get borderWidth(){return this._borderWidth}};$E=nde([ode(1,hi)],$E);var qE=class{constructor(i,n){this.widget=i,this._editor=n,this._disposables=new Xe,this._added=!1,this._resizable=new Ov,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(i.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o,r,s=0,l=0;this._disposables.add(this._resizable.onDidWillResize(()=>{o=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(c=>{if(o&&r){this.widget.layout(c.dimension.width,c.dimension.height);let d=!1;c.west&&(l=r.width-c.dimension.width,d=!0),c.north&&(s=r.height-c.dimension.height,d=!0),d&&this._applyTopLeft({top:o.top+s,left:o.left+l})}c.done&&(o=void 0,r=void 0,s=0,l=0,this._userSize=c.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var c;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(c=this._userSize)!==null&&c!==void 0?c:this.widget.size)}))}dispose(){this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(i=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),i&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(i){var n;let o=Go(i);this._anchorBox=o,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(i,n){let o=CS(document.body),r=this.widget.getLayoutInfo(),s,l,c=new Dn(220,2*r.lineHeight),d=0,u=i.top,h=i.top+i.height-r.borderHeight,g,p,f=o.width-(i.left+i.width+r.borderWidth+r.horizontalPadding);d=-r.borderWidth+i.left+i.width,p=!0,s=new Dn(f,o.height-i.top-r.borderHeight-r.verticalPadding),l=s.with(void 0,i.top+i.height-r.borderHeight-r.verticalPadding),n.width>f&&(i.left>f&&(f=i.left-r.borderWidth-r.horizontalPadding,p=!1,d=Math.max(r.horizontalPadding,i.left-n.width-r.borderWidth),s=s.with(f),l=s.with(void 0,l.height)),i.width>f*1.3&&o.height-(i.top+i.height)>i.height&&(f=i.width,d=i.left,u=-r.borderWidth+i.top+i.height,s=new Dn(i.width-r.borderHeight,o.height-i.top-i.height-r.verticalPadding),l=s.with(void 0,i.top-r.verticalPadding),c=c.with(s.width)));let y=n.height,M=Math.max(s.height,l.height);y>M&&(y=M);let k;y<=s.height?(g=!0,k=s):(g=!1,k=l),this._applyTopLeft({left:d,top:g?u:h-y}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!g,p,g,!p),this._resizable.minSize=c,this._resizable.maxSize=k,this._resizable.layout(y,Math.min(k.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(i){this._topLeft=i,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}};Ki();bt();Pt();wr();Ti();wn();var rde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},EL=function(e,i){return function(n,o){i(n,o,e)}},ML=class e extends mw{updateLabel(){let i=this._keybindingService.lookupKeybinding(this._action.id);if(!i)return super.updateLabel();this.label&&(this.label.textContent=_("ddd","{0} ({1})",this._action.label,e.symbolPrintEnter(i)))}static symbolPrintEnter(i){var n;return(n=i.getLabel())===null||n===void 0?void 0:n.replace(/\benter\b/gi,"\u23CE")}},KE=class{constructor(i,n,o,r){this._menuService=o,this._contextKeyService=r,this._menuDisposables=new Xe,this.element=ct(i,ut(".suggest-status-bar"));let s=l=>l instanceof j0?n.createInstance(ML,l):void 0;this._leftActions=new tC(this.element,{actionViewItemProvider:s}),this._rightActions=new tC(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){let i=this._menuService.createMenu(ou,this._contextKeyService),n=()=>{let o=[],r=[];for(let[s,l]of i.getActions())s==="left"?o.push(...l):r.push(...l);this._leftActions.clear(),this._leftActions.push(o),this._rightActions.clear(),this._rightActions.push(r)};this._menuDisposables.add(i.onDidChange(()=>n())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};KE=rde([EL(1,hi),EL(2,Qf),EL(3,Wt)],KE);Pt();bt();Ki();Oi();kh();Vi();A0();Es();TQ();var ru=function(e){return e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER",e}(ru||{});function ry(e,i,n,o){let r=o===ru.ROOT_FOLDER?["rootfolder-icon"]:o===ru.FOLDER?["folder-icon"]:["file-icon"];if(n){let s;if(n.scheme===co.data?s=P0.parseMetaData(n).get(P0.META_DATA_LABEL):s=ZW(yS(n).toLowerCase()),o===ru.FOLDER)r.push(`${s}-name-folder-icon`);else{if(s){if(r.push(`${s}-name-file-icon`),s.length<=255){let c=s.split(".");for(let d=1;d<c.length;d++)r.push(`${c.slice(d).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}let l=sde(e,i,n);l&&r.push(`${ZW(l)}-lang-file-icon`)}}return r}function sde(e,i,n){if(!n)return null;let o=null;if(n.scheme===co.data){let s=P0.parseMetaData(n).get(P0.META_DATA_MIME);s&&(o=i.getModeId(s))}else{let r=e.getModel(n);r&&(o=r.getModeId())}return o&&o!==$5?o:i.getModeIdByFilepathOrFirstLine(n)}function ZW(e){return e.replace(/[\11\12\14\15\40]/g,"/")}Dh();To();Rn();Gr();en();var ade=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},kL=function(e,i){return function(n,o){i(n,o,e)}},sy;function IL(e){return`suggest-aria-id:${e}`}var lde=Mo("suggest-more-info",gt.chevronRight,_("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),cde=new(sy=class YE{extract(i,n){if(i.textLabel.match(YE._regexStrict))return n[0]=i.textLabel,!0;if(i.completion.detail&&i.completion.detail.match(YE._regexStrict))return n[0]=i.completion.detail,!0;if(typeof i.completion.documentation=="string"){let o=YE._regexRelaxed.exec(i.completion.documentation);if(o&&(o.index===0||o.index+o[0].length===i.completion.documentation.length))return n[0]=o[0],!0}return!1}},sy._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,sy._regexStrict=new RegExp(`^${sy._regexRelaxed.source}$`,"i"),sy),QE=class{constructor(i,n,o,r){this._editor=i,this._modelService=n,this._modeService=o,this._themeService=r,this._onDidToggleDetails=new vt,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(i){let n=Object.create(null);n.disposables=new Xe,n.root=i,n.root.classList.add("show-file-icons"),n.icon=ct(i,ut(".icon")),n.colorspan=ct(n.icon,ut("span.colorspan"));let o=ct(i,ut(".contents")),r=ct(o,ut(".main"));n.iconContainer=ct(r,ut(".icon-label.codicon")),n.left=ct(r,ut("span.left")),n.right=ct(r,ut("span.right")),n.iconLabel=new b1(n.left,{supportHighlights:!0,supportIcons:!0}),n.disposables.add(n.iconLabel),n.parametersLabel=ct(n.left,ut("span.signature-label")),n.qualifierLabel=ct(n.left,ut("span.qualifier-label")),n.detailsLabel=ct(n.right,ut("span.details-label")),n.readMore=ct(n.right,ut("span.readMore"+An.asCSSSelector(lde))),n.readMore.title=_("readMore","Read More");let s=()=>{let l=this._editor.getOptions(),c=l.get(40),d=c.fontFamily,u=c.fontFeatureSettings,h=l.get(104)||c.fontSize,g=l.get(105)||c.lineHeight,p=c.fontWeight,f=`${h}px`,y=`${g}px`;n.root.style.fontSize=f,n.root.style.fontWeight=p,r.style.fontFamily=d,r.style.fontFeatureSettings=u,r.style.lineHeight=y,n.icon.style.height=y,n.icon.style.width=y,n.readMore.style.height=y,n.readMore.style.width=y};return s(),n.disposables.add(this._editor.onDidChangeConfiguration(l=>{(l.hasChanged(40)||l.hasChanged(104)||l.hasChanged(105))&&s()})),n}renderElement(i,n,o){var r,s,l;let{completion:c}=i;o.root.id=IL(n),o.colorspan.style.backgroundColor="";let d={labelEscapeNewLines:!0,matches:Zg(i.score)},u=[];if(c.kind===19&&cde.extract(i,u))o.icon.className="icon customcolor",o.iconContainer.className="icon hide",o.colorspan.style.backgroundColor=u[0];else if(c.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){o.icon.className="icon hide",o.iconContainer.className="icon hide";let h=ry(this._modelService,this._modeService,ci.from({scheme:"fake",path:i.textLabel}),ru.FILE),g=ry(this._modelService,this._modeService,ci.from({scheme:"fake",path:c.detail}),ru.FILE);d.extraClasses=h.length>g.length?h:g}else c.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(o.icon.className="icon hide",o.iconContainer.className="icon hide",d.extraClasses=$g([ry(this._modelService,this._modeService,ci.from({scheme:"fake",path:i.textLabel}),ru.FOLDER),ry(this._modelService,this._modeService,ci.from({scheme:"fake",path:c.detail}),ru.FOLDER)])):(o.icon.className="icon hide",o.iconContainer.className="",o.iconContainer.classList.add("suggest-icon",...S8(c.kind).split(" ")));c.tags&&c.tags.indexOf(1)>=0&&(d.extraClasses=(d.extraClasses||[]).concat(["deprecated"]),d.matches=[]),o.iconLabel.setLabel(i.textLabel,void 0,d),typeof c.label=="string"?(o.parametersLabel.textContent="",o.qualifierLabel.textContent="",o.detailsLabel.textContent=(c.detail||"").replace(/\n.*$/m,""),o.root.classList.add("string-label"),o.root.title=""):(o.parametersLabel.textContent=(c.label.parameters||"").replace(/\n.*$/m,""),o.qualifierLabel.textContent=(c.label.qualifier||"").replace(/\n.*$/m,""),o.detailsLabel.textContent=(c.label.type||"").replace(/\n.*$/m,""),o.root.classList.remove("string-label"),o.root.title=`${i.textLabel}${(r=c.label.parameters)!==null&&r!==void 0?r:""}  ${(s=c.label.qualifier)!==null&&s!==void 0?s:""}  ${(l=c.label.type)!==null&&l!==void 0?l:""}`),this._editor.getOption(103).showInlineDetails?jo(o.detailsLabel):_o(o.detailsLabel),oy(i)?(o.right.classList.add("can-expand-details"),jo(o.readMore),o.readMore.onmousedown=h=>{h.stopPropagation(),h.preventDefault()},o.readMore.onclick=h=>{h.stopPropagation(),h.preventDefault(),this._onDidToggleDetails.fire()}):(o.right.classList.remove("can-expand-details"),_o(o.readMore),o.readMore.onmousedown=null,o.readMore.onclick=null)}disposeTemplate(i){i.disposables.dispose()}};QE=ade([kL(1,Po),kL(2,ar),kL(3,eo)],QE);xQ();var dde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},ZE=function(e,i){return function(n,o){i(n,o,e)}},ude=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},hde=St("editorSuggestWidget.background",{dark:Rs,light:Rs,hc:Rs},_("editorSuggestWidgetBackground","Background color of the suggest widget.")),gde=St("editorSuggestWidget.border",{dark:Jf,light:Jf,hc:Jf},_("editorSuggestWidgetBorder","Border color of the suggest widget.")),pde=St("editorSuggestWidget.foreground",{dark:t1,light:t1,hc:t1},_("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),fde=St("editorSuggestWidget.selectedBackground",{dark:n1,light:n1,hc:n1},_("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),mde=St("editorSuggestWidget.highlightForeground",{dark:i1,light:i1,hc:i1},_("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),RL=class{constructor(i,n){this._service=i,this._key=`suggestWidget.size/${n.getEditorType()}/${n instanceof gl}`}restore(){var i;let n=(i=this._service.get(this._key,0))!==null&&i!==void 0?i:"";try{let o=JSON.parse(n);if(Dn.is(o))return Dn.lift(o)}catch{}}store(i){this._service.store(this._key,JSON.stringify(i),0,1)}reset(){this._service.remove(this._key,0)}},zv=class AL{constructor(i,n,o,r,s){this.editor=i,this._storageService=n,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._explainMode=!1,this._showTimeout=new zr,this._disposables=new Xe,this._onDidSelect=new vt,this._onDidFocus=new vt,this._onDidHide=new vt,this._onDidShow=new vt,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new vt,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Ov,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new TL(this,i),this._persistedSize=new RL(n,i);class l{constructor(f,y,M=!1,k=!1){this.persistedSize=f,this.currentSize=y,this.persistHeight=M,this.persistWidth=k}}let c;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),c=new l(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(p=>{var f,y,M,k;if(this._resize(p.dimension.width,p.dimension.height),c&&(c.persistHeight=c.persistHeight||!!p.north||!!p.south,c.persistWidth=c.persistWidth||!!p.east||!!p.west),!!p.done){if(c){let{itemHeight:G,defaultSize:J}=this.getLayoutInfo(),$=Math.round(G/2),{width:_e,height:Te}=this.element.size;(!c.persistHeight||Math.abs(c.currentSize.height-Te)<=$)&&(Te=(y=(f=c.persistedSize)===null||f===void 0?void 0:f.height)!==null&&y!==void 0?y:J.height),(!c.persistWidth||Math.abs(c.currentSize.width-_e)<=$)&&(_e=(k=(M=c.persistedSize)===null||M===void 0?void 0:M.width)!==null&&k!==void 0?k:J.width),this._persistedSize.store(new Dn(_e,Te))}this._contentWidget.unlockPreference(),c=void 0}})),this._messageElement=ct(this.element.domNode,ut(".message")),this._listElement=ct(this.element.domNode,ut(".tree"));let d=s.createInstance($E,this.editor);d.onDidClose(this.toggleDetails,this,this._disposables),this._details=new qE(d,this.editor);let u=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(103).showIcons);u();let h=s.createInstance(QE,this.editor);this._disposables.add(h),this._disposables.add(h.onDidToggleDetails(()=>this.toggleDetails())),this._list=new dz("SuggestWidget",this._listElement,{getHeight:p=>this.getLayoutInfo().itemHeight,getTemplateId:p=>"suggestion"},[h],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:p=>{if(p.isResolved&&this._isDetailsVisible()){let{documentation:f,detail:y}=p.completion,M=ds("{0}{1}",y||"",f?typeof f=="string"?f:f.value:"");return _("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",p.textLabel,M)}else return p.textLabel},getWidgetAriaLabel:()=>_("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=s.createInstance(KE,this.element.domNode);let g=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(103).showStatusBar);g(),this._disposables.add(lz(this._list,r,{listInactiveFocusBackground:fde,listInactiveFocusOutline:Du})),this._disposables.add(r.onDidColorThemeChange(p=>this._onThemeChange(p))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown(p=>this._onListMouseDownOrTap(p))),this._disposables.add(this._list.onTap(p=>this._onListMouseDownOrTap(p))),this._disposables.add(this._list.onDidChangeSelection(p=>this._onListSelection(p))),this._disposables.add(this._list.onDidChangeFocus(p=>this._onListFocus(p))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(p=>{p.hasChanged(103)&&(g(),u())})),this._ctxSuggestWidgetVisible=li.Visible.bindTo(o),this._ctxSuggestWidgetDetailsVisible=li.DetailsVisible.bindTo(o),this._ctxSuggestWidgetMultipleSuggestions=li.MultipleSuggestions.bindTo(o),this._disposables.add(ls(this._details.widget.domNode,"keydown",p=>{this._onDetailsKeydown.fire(p)})),this._disposables.add(this.editor.onMouseDown(p=>this._onEditorMouseDown(p)))}dispose(){var i;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(i=this._loadingTimeout)===null||i===void 0||i.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(i){this._details.widget.domNode.contains(i.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(i.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(i){typeof i.element>"u"||typeof i.index>"u"||(i.browserEvent.preventDefault(),i.browserEvent.stopPropagation(),this._select(i.element,i.index))}_onListSelection(i){i.elements.length&&this._select(i.elements[0],i.indexes[0])}_select(i,n){let o=this._completionModel;o&&(this._onDidSelect.fire({item:i,index:n,model:o}),this.editor.focus())}_onThemeChange(i){let n=i.getColor(hde);n&&(this.element.domNode.style.backgroundColor=n.toString(),this._messageElement.style.backgroundColor=n.toString(),this._details.widget.domNode.style.backgroundColor=n.toString());let o=i.getColor(gde);o&&(this.element.domNode.style.borderColor=o.toString(),this._messageElement.style.borderColor=o.toString(),this._status.element.style.borderTopColor=o.toString(),this._details.widget.domNode.style.borderColor=o.toString(),this._detailsBorderColor=o.toString());let r=i.getColor(KS);r&&(this._detailsFocusBorderColor=r.toString()),this._details.widget.borderWidth=i.type==="hc"?2:1}_onListFocus(i){var n;if(this._ignoreFocusEvents)return;if(!i.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;let o=i.elements[0],r=i.indexes[0];o!==this._focusedItem&&((n=this._currentSuggestionDetails)===null||n===void 0||n.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=o,this._list.reveal(r),this._currentSuggestionDetails=ji(s=>ude(this,void 0,void 0,function*(){let l=Vg(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);s.onCancellationRequested(()=>l.dispose());let c=yield o.resolve(s);return l.dispose(),c})),this._currentSuggestionDetails.then(()=>{r>=this._list.length||o!==this._list.element(r)||(this._ignoreFocusEvents=!0,this._list.splice(r,1,[o]),this._list.setFocus([r]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:IL(r)}))}).catch(Ut)),this._onDidFocus.fire({item:o,index:r,model:this._completionModel})}_setState(i){if(this._state!==i)switch(this._state=i,this.element.domNode.classList.toggle("frozen",i===4),this.element.domNode.classList.remove("message"),i){case 0:_o(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=AL.LOADING_MESSAGE,_o(this._listElement,this._status.element),jo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=AL.NO_SUGGESTIONS_MESSAGE,_o(this._listElement,this._status.element),jo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:_o(this._messageElement),jo(this._listElement,this._status.element),this._show();break;case 4:_o(this._messageElement),jo(this._listElement,this._status.element),this._show();break;case 5:_o(this._messageElement),jo(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(i,n){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!i,this._isAuto||(this._loadingTimeout=Vg(()=>this._setState(1),n)))}showSuggestions(i,n,o,r){var s,l;if(this._contentWidget.setPosition(this.editor.getPosition()),(s=this._loadingTimeout)===null||s===void 0||s.dispose(),(l=this._currentSuggestionDetails)===null||l===void 0||l.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==i&&(this._completionModel=i),o&&this._state!==2&&this._state!==0){this._setState(4);return}let c=this._completionModel.items.length,d=c===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(c>1),d){this._setState(r?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(o?4:3),this._list.reveal(n,0),this._list.setFocus([n]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(oy(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(i){this._details.show(),i?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var i;(i=this._loadingTimeout)===null||i===void 0||i.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let n=this._persistedSize.restore(),o=Math.ceil(this.getLayoutInfo().itemHeight*4.3);n&&n.height<o&&this._persistedSize.store(n.with(void 0,o))}isFrozen(){return this._state===4}_afterRender(i){if(i===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(i){var n,o,r;if(!this.editor.hasModel()||!this.editor.getDomNode())return;let s=CS(document.body),l=this.getLayoutInfo();i||(i=l.defaultSize);let c=i.height,d=i.width;if(this._status.element.style.lineHeight=`${l.itemHeight}px`,this._state===2||this._state===1)c=l.itemHeight+l.borderHeight,d=l.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Dn(d,c),this._contentWidget.setPreference(2);else{let u=s.width-l.borderHeight-2*l.horizontalPadding;d>u&&(d=u);let h=this._completionModel?this._completionModel.stats.pLabelLen*l.typicalHalfwidthCharacterWidth:d,g=l.statusBarHeight+this._list.contentHeight+l.borderHeight,p=l.itemHeight+l.statusBarHeight,f=Go(this.editor.getDomNode()),y=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),M=f.top+y.top+y.height,k=Math.min(s.height-M-l.verticalPadding,g),G=Math.min(f.top+y.top-l.verticalPadding,g),J=Math.min(Math.max(G,k)+l.borderHeight,g);c===((n=this._cappedHeight)===null||n===void 0?void 0:n.capped)&&(c=this._cappedHeight.wanted),c<p&&(c=p),c>J&&(c=J),c>k?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),J=G):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),J=k),this.element.preferredSize=new Dn(h,l.defaultSize.height),this.element.maxSize=new Dn(u,J),this.element.minSize=new Dn(220,p),this._cappedHeight=c===g?{wanted:(r=(o=this._cappedHeight)===null||o===void 0?void 0:o.wanted)!==null&&r!==void 0?r:i.height,capped:c}:void 0}this._resize(d,c)}_resize(i,n){let{width:o,height:r}=this.element.maxSize;i=Math.min(o,i),n=Math.min(r,n);let{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(n-s,i),this._listElement.style.height=`${n-s}px`,this.element.layout(n,i),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){let i=this.editor.getOption(40),n=b8(this.editor.getOption(105)||i.lineHeight,8,1e3),o=!this.editor.getOption(103).showStatusBar||this._state===2||this._state===1?0:n,r=this._details.widget.borderWidth,s=2*r;return{itemHeight:n,statusBarHeight:o,borderWidth:r,borderHeight:s,typicalHalfwidthCharacterWidth:i.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Dn(430,o+12*n+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(i){this._storageService.store("expandSuggestionDocs",i,0,0)}};zv.LOADING_MESSAGE=_("suggestWidget.loading","Loading...");zv.NO_SUGGESTIONS_MESSAGE=_("suggestWidget.noSuggestions","No suggestions.");zv=dde([ZE(1,br),ZE(2,Wt),ZE(3,eo),ZE(4,hi)],zv);var TL=class{constructor(i,n){this._widget=i,this._editor=n,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){let{height:i,width:n}=this._widget.element.size,{borderWidth:o,horizontalPadding:r}=this._widget.getLayoutInfo();return new Dn(n+2*o+r,i+2*o)}afterRender(i){this._widget._afterRender(i)}setPreference(i){this._preferenceLocked||(this._preference=i)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(i){this._position=i}};ii((e,i)=>{let n=e.getColor(mde);n&&i.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${n}; }`);let o=e.getColor(pde);o&&i.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${o}; }`);let r=e.getColor(Fl);r&&i.addRule(`.monaco-editor .suggest-details a { color: ${r}; }`);let s=e.getColor(Zf);s&&i.addRule(`.monaco-editor .suggest-details code { background-color: ${s}; }`)});Ti();var vde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Cde=function(e,i){return function(n,o){i(n,o,e)}},Bv=class XW{constructor(i,n){this._editor=i,this._enabled=!1,this._ckAtEnd=XW.AtEnd.bindTo(n),this._configListener=this._editor.onDidChangeConfiguration(o=>o.hasChanged(108)&&this._update()),this._update()}dispose(){var i;this._configListener.dispose(),(i=this._selectionListener)===null||i===void 0||i.dispose(),this._ckAtEnd.reset()}_update(){let i=this._editor.getOption(108)==="on";if(this._enabled!==i)if(this._enabled=i,this._enabled){let n=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let o=this._editor.getModel(),r=this._editor.getSelection(),s=o.getWordAtPosition(r.getStartPosition());if(!s){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(s.endColumn===r.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(n),n()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Bv.AtEnd=new ei("atEndOfWord",!1);Bv=vde([Cde(1,Wt)],Bv);en();ln();Fo();Rn();bt();n2();var XE=class{constructor(i,n,o){this._disposables=new Xe,this._disposables.add(n.onDidShow(()=>this._onItem(n.getFocusedItem()))),this._disposables.add(n.onDidFocus(this._onItem,this)),this._disposables.add(n.onDidHide(this.reset,this)),this._disposables.add(i.onWillType(r=>{if(this._active&&!n.isFrozen()){let s=r.charCodeAt(r.length-1);this._active.acceptCharacters.has(s)&&i.getOption(0)&&o(this._active.item)}}))}_onItem(i){if(!i||!ho(i.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===i.item)return;let n=new xu;for(let o of i.item.completion.commitCharacters)o.length>0&&n.add(o.charCodeAt(0));this._active={acceptCharacters:n,item:i}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}};bt();var JW=(()=>{class e{constructor(n,o){this._disposables=new Xe,this._lastOvertyped=[],this._empty=!0,this._disposables.add(n.onWillType(()=>{if(!this._empty||!n.hasModel())return;let r=n.getSelections(),s=r.length,l=!1;for(let d=0;d<s;d++)if(!r[d].isEmpty()){l=!0;break}if(!l)return;this._lastOvertyped=[];let c=n.getModel();for(let d=0;d<s;d++){let u=r[d];if(c.getValueLengthInRange(u)>e._maxSelectionLength)return;this._lastOvertyped[d]={value:c.getValueInRange(u),multiline:u.startLineNumber!==u.endLineNumber}}this._empty=!1})),this._disposables.add(o.onDidCancel(r=>{!this._empty&&!r.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(n){if(!this._empty&&n>=0&&n<this._lastOvertyped.length)return this._lastOvertyped[n]}dispose(){this._disposables.dispose()}}return e._maxSelectionLength=51200,e})();Jn();wa();wr();$n();PS();Fk();var wde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},ay=function(e,i){return function(n,o){i(n,o,e)}},bde=!1,FL=class{constructor(i,n){if(this._model=i,this._position=n,i.getLineMaxColumn(n.lineNumber)!==n.column){let r=i.getOffsetAt(n),s=i.getPositionAt(r+1);this._marker=i.deltaDecorations([],[{range:Ie.fromPositions(n,s),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(i){if(this._model.isDisposed()||this._position.lineNumber!==i.lineNumber)return 0;if(this._marker){let n=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(n.getStartPosition())-this._model.getOffsetAt(i)}else return this._model.getLineMaxColumn(i.lineNumber)-i.column}},Sg=class eU{constructor(i,n,o,r,s,l){this._memoryService=n,this._commandService=o,this._contextKeyService=r,this._instantiationService=s,this._logService=l,this._lineSuffix=new Ao,this._toDispose=new Xe,this.editor=i,this.model=s.createInstance(UE,this.editor);let c=li.InsertMode.bindTo(r);c.set(i.getOption(103).insertMode),this.model.onDidTrigger(()=>c.set(i.getOption(103).insertMode)),this.widget=this._toDispose.add(new Nf(()=>{let h=this._instantiationService.createInstance(zv,this.editor);this._toDispose.add(h),this._toDispose.add(h.onDidSelect(M=>this._insertSuggestion(M,0),this));let g=new XE(this.editor,h,M=>this._insertSuggestion(M,2));this._toDispose.add(g),this._toDispose.add(this.model.onDidSuggest(M=>{M.completionModel.items.length===0&&g.reset()}));let p=li.MakesTextEdit.bindTo(this._contextKeyService),f=li.HasInsertAndReplaceRange.bindTo(this._contextKeyService),y=li.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(ao(()=>{p.reset(),f.reset(),y.reset()})),this._toDispose.add(h.onDidFocus(({item:M})=>{let k=this.editor.getPosition(),G=M.editStart.column,J=k.column,$=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!M.completion.command&&!M.completion.additionalTextEdits&&!(M.completion.insertTextRules&4)&&J-G===M.completion.insertText.length&&($=this.editor.getModel().getValueInRange({startLineNumber:k.lineNumber,startColumn:G,endLineNumber:k.lineNumber,endColumn:J})!==M.completion.insertText),p.set($),f.set(!_t.equals(M.editInsertEnd,M.editReplaceEnd)),y.set(!!M.provider.resolveCompletionItem||!!M.completion.documentation||M.completion.detail!==M.completion.label)})),this._toDispose.add(h.onDetailsKeyDown(M=>{if(M.toKeybinding().equals(new Pk(!0,!1,!1,!1,33))||rr&&M.toKeybinding().equals(new Pk(!1,!1,!1,!0,33))){M.stopPropagation();return}M.toKeybinding().isModifierKey()||this.editor.focus()})),h})),this._overtypingCapturer=this._toDispose.add(new Nf(()=>this._toDispose.add(new JW(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Nf(()=>this._toDispose.add(new yg(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(Bv,i)),this._toDispose.add(this.model.onDidTrigger(h=>{this.widget.value.showTriggered(h.auto,h.shy?250:50),this._lineSuffix.value=new FL(this.editor.getModel(),h.position)})),this._toDispose.add(this.model.onDidSuggest(h=>{if(!h.shy){let g=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items);this.widget.value.showSuggestions(h.completionModel,g,h.isFrozen,h.auto)}})),this._toDispose.add(this.model.onDidCancel(h=>{h.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{bde||(this.model.cancel(),this.model.clear())}));let d=li.AcceptSuggestionsOnEnter.bindTo(r),u=()=>{let h=this.editor.getOption(1);d.set(h==="on"||h==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>u())),u()}static get(i){return i.getContribution(eU.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(i,n){if(!i||!i.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let o=this.editor.getModel(),r=o.getAlternativeVersionId(),{item:s}=i,l=[],c=new Cr;n&1||this.editor.pushUndoStop();let d=this.getOverwriteInfo(s,!!(n&8));if(this._memoryService.memorize(o,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){let h=rm.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map(g=>nn.replace(Ie.lift(g.range),g.text))),h.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){let h=new xh(!0),g,p=o.onDidChangeContent(k=>{if(k.isFlush){c.cancel(),p.dispose();return}for(let G of k.changes){let J=Ie.getEndPosition(G.range);(!g||_t.isBefore(J,g))&&(g=J)}}),f=n;n|=2;let y=!1,M=this.editor.onWillType(()=>{M.dispose(),y=!0,f&2||this.editor.pushUndoStop()});l.push(s.resolve(c.token).then(()=>{if(!s.completion.additionalTextEdits||c.token.isCancellationRequested||g&&s.completion.additionalTextEdits.some(G=>_t.isBefore(g,Ie.getStartPosition(G.range))))return!1;y&&this.editor.pushUndoStop();let k=rm.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map(G=>nn.replace(Ie.lift(G.range),G.text))),k.restoreRelativeVerticalPositionOfCursor(this.editor),(y||!(f&2))&&this.editor.pushUndoStop(),!0}).then(k=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",h.elapsed(),k),p.dispose(),M.dispose()}))}let{insertText:u}=s.completion;s.completion.insertTextRules&4||(u=wg.escape(u)),oo.get(this.editor).insert(u,{overwriteBefore:d.overwriteBefore,overwriteAfter:d.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(s.completion.insertTextRules&1),clipboardText:i.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),n&2||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===tU.id?this.model.trigger({auto:!0,shy:!1},!0):(l.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(Ut)),this.model.cancel()):this.model.cancel(),n&4&&this._alternatives.value.set(i,h=>{for(c.cancel();o.canUndo();){r!==o.getAlternativeVersionId()&&o.undo(),this._insertSuggestion(h,3|(n&8?8:0));break}}),this._alertCompletionItem(s),Promise.all(l).finally(()=>{this.model.clear(),c.dispose()})}getOverwriteInfo(i,n){tn(this.editor.hasModel());let o=this.editor.getOption(103).insertMode==="replace";n&&(o=!o);let r=i.position.column-i.editStart.column,s=(o?i.editReplaceEnd.column:i.editInsertEnd.column)-i.position.column,l=this.editor.getPosition().column-i.position.column,c=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+l,overwriteAfter:s+c}}_alertCompletionItem(i){if(ho(i.completion.additionalTextEdits)){let n=_("aria.alert.snippet","Accepting '{0}' made {1} additional edits",i.textLabel,i.completion.additionalTextEdits.length);Yn(n)}}triggerSuggest(i){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,i),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(i){if(!this.editor.hasModel())return;let n=this.editor.getPosition(),o=()=>{n.equals(this.editor.getPosition())&&this._commandService.executeCommand(i.fallback)},r=s=>{if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;let l=this.editor.getPosition(),c=s.editStart.column,d=l.column;return d-c!==s.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:l.lineNumber,startColumn:c,endLineNumber:l.lineNumber,endColumn:d})!==s.completion.insertText};xo.once(this.model.onDidTrigger)(s=>{let l=[];xo.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{Un(l),o()},void 0,l),this.model.onDidSuggest(({completionModel:c})=>{if(Un(l),c.items.length===0){o();return}let d=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),c.items),u=c.items[d];if(!r(u)){o();return}this.editor.pushUndoStop(),this._insertSuggestion({index:d,item:u,model:c},7)},void 0,l)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(n.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(i,n){let o=this.widget.value.getFocusedItem(),r=0;i&&(r|=4),n&&(r|=8),this._insertSuggestion(o,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}};Sg.ID="editor.contrib.suggestController";Sg=wde([ay(1,DL),ay(2,Wo),ay(3,Wt),ay(4,hi),ay(5,Rh)],Sg);var tU=(()=>{class e extends it{constructor(){super({id:e.id,label:_("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:st.and(Me.writable,Me.hasCompletionItemProvider),kbOpts:{kbExpr:Me.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(n,o){let r=Sg.get(o);r&&r.triggerSuggest()}}return e.id="editor.action.triggerSuggest",e})();Dt(Sg.ID,Sg);Ue(tU);var Cs=190,Rr=Tn.bindToContribution(Sg.get);pt(new Rr({id:"acceptSelectedSuggestion",precondition:li.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}}));lr.registerKeybindingRule({id:"acceptSelectedSuggestion",when:st.and(li.Visible,Me.textInputFocus),primary:2,weight:Cs});lr.registerKeybindingRule({id:"acceptSelectedSuggestion",when:st.and(li.Visible,Me.textInputFocus,li.AcceptSuggestionsOnEnter,li.MakesTextEdit),primary:3,weight:Cs});tl.appendMenuItem(ou,{command:{id:"acceptSelectedSuggestion",title:_("accept.insert","Insert")},group:"left",order:1,when:li.HasInsertAndReplaceRange.toNegated()});tl.appendMenuItem(ou,{command:{id:"acceptSelectedSuggestion",title:_("accept.insert","Insert")},group:"left",order:1,when:st.and(li.HasInsertAndReplaceRange,li.InsertMode.isEqualTo("insert"))});tl.appendMenuItem(ou,{command:{id:"acceptSelectedSuggestion",title:_("accept.replace","Replace")},group:"left",order:1,when:st.and(li.HasInsertAndReplaceRange,li.InsertMode.isEqualTo("replace"))});pt(new Rr({id:"acceptAlternativeSelectedSuggestion",precondition:st.and(li.Visible,Me.textInputFocus),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:ou,group:"left",order:2,when:st.and(li.HasInsertAndReplaceRange,li.InsertMode.isEqualTo("insert")),title:_("accept.replace","Replace")},{menuId:ou,group:"left",order:2,when:st.and(li.HasInsertAndReplaceRange,li.InsertMode.isEqualTo("replace")),title:_("accept.insert","Insert")}]}));xi.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");pt(new Rr({id:"hideSuggestWidget",precondition:li.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:9,secondary:[1033]}}));pt(new Rr({id:"selectNextSuggestion",precondition:st.and(li.Visible,li.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));pt(new Rr({id:"selectNextPageSuggestion",precondition:st.and(li.Visible,li.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:12,secondary:[2060]}}));pt(new Rr({id:"selectLastSuggestion",precondition:st.and(li.Visible,li.MultipleSuggestions),handler:e=>e.selectLastSuggestion()}));pt(new Rr({id:"selectPrevSuggestion",precondition:st.and(li.Visible,li.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));pt(new Rr({id:"selectPrevPageSuggestion",precondition:st.and(li.Visible,li.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:11,secondary:[2059]}}));pt(new Rr({id:"selectFirstSuggestion",precondition:st.and(li.Visible,li.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()}));pt(new Rr({id:"toggleSuggestionDetails",precondition:li.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:ou,group:"right",order:1,when:st.and(li.DetailsVisible,li.CanResolve),title:_("detail.more","show less")},{menuId:ou,group:"right",order:1,when:st.and(li.DetailsVisible.toNegated(),li.CanResolve),title:_("detail.less","show more")}]}));pt(new Rr({id:"toggleExplainMode",precondition:li.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));pt(new Rr({id:"toggleSuggestionFocus",precondition:li.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:2570,mac:{primary:778}}}));pt(new Rr({id:"insertBestCompletion",precondition:st.and(Me.textInputFocus,st.equals("config.editor.tabCompletion","on"),Bv.AtEnd,li.Visible.toNegated(),yg.OtherSuggestions.toNegated(),oo.InSnippetMode.toNegated()),handler:(e,i)=>{e.triggerSuggestAndAcceptBest(xS(i)?Object.assign({fallback:"tab"},i):{fallback:"tab"})},kbOpts:{weight:Cs,primary:2}}));pt(new Rr({id:"insertNextSuggestion",precondition:st.and(Me.textInputFocus,st.equals("config.editor.tabCompletion","on"),yg.OtherSuggestions,li.Visible.toNegated(),oo.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:2}}));pt(new Rr({id:"insertPrevSuggestion",precondition:st.and(Me.textInputFocus,st.equals("config.editor.tabCompletion","on"),yg.OtherSuggestions,li.Visible.toNegated(),oo.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:Cs,kbExpr:Me.textInputFocus,primary:1026}}));Ue(class extends it{constructor(){super({id:"editor.action.resetSuggestSize",label:_("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,i){Sg.get(i).resetWidgetSize()}});Pt();$t();Fk();var PL=class extends it{constructor(){super({id:"editor.action.forceRetokenize",label:_("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(i,n){if(!n.hasModel())return;let o=n.getModel();o.resetTokenization();let r=new xh(!0);o.forceTokenization(o.getLineCount()),r.stop(),console.log(`tokenization took ${r.elapsed()}`)}};Ue(PL);LL();var Yit=yh(oU()),Qit=yh(rU());Pt();Rn();ln();$n();ki();bt();$t();Bt();Yi();O0();Lo();Vi();Ti();vn();Oi();el();var Ede=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Mde=function(e,i){return function(n,o){i(n,o,e)}},kde=St("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},_("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Ide=St("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},_("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Rde=St("editor.wordHighlightBorder",{light:null,dark:null,hc:Du},_("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),Ade=St("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Du},_("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),Tde=St("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Fde=St("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},_("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),iM=new ei("hasWordHighlights",!1);function sU(e,i,n){let o=z0.ordered(e);return vS(o.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(e,i,n)).then(void 0,pn)),ho)}var eM=class{constructor(i,n,o){this._wordRange=this._getCurrentWordRange(i,n),this.result=ji(r=>this._compute(i,n,o,r))}_getCurrentWordRange(i,n){let o=i.getWordAtPosition(n.getPosition());return o?new Ie(n.startLineNumber,o.startColumn,n.startLineNumber,o.endColumn):null}isValid(i,n,o){let r=n.startLineNumber,s=n.startColumn,l=n.endColumn,c=this._getCurrentWordRange(i,n),d=!!(this._wordRange&&this._wordRange.equalsRange(c));for(let u=0,h=o.length;!d&&u<h;u++){let g=i.getDecorationRange(o[u]);g&&g.startLineNumber===r&&g.startColumn<=s&&g.endColumn>=l&&(d=!0)}return d}cancel(){this.result.cancel()}},OL=class extends eM{_compute(i,n,o,r){return sU(i,n.getPosition(),r).then(s=>s||[])}},zL=class extends eM{constructor(i,n,o){super(i,n,o),this._selectionIsEmpty=n.isEmpty()}_compute(i,n,o,r){return Lf(250,r).then(()=>{if(!n.isEmpty())return[];let s=i.getWordAtPosition(n.getPosition());return!s||s.word.length>1e3?[]:i.findMatches(s.word,!0,!1,!0,o,!1).map(c=>({range:c.range,kind:DS.Text}))})}isValid(i,n,o){let r=n.isEmpty();return this._selectionIsEmpty!==r?!1:super.isValid(i,n,o)}};function Pde(e,i,n){return z0.has(e)?new OL(e,i,n):new zL(e,i,n)}Wr("_executeDocumentHighlights",(e,i)=>sU(e,i,Jt.None));var Vv=class e{constructor(i,n){this.toUnhook=new Xe,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=i,this._hasWordHighlights=iM.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(68),this.model=this.editor.getModel(),this.toUnhook.add(i.onDidChangeCursorPosition(o=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(o)})),this.toUnhook.add(i.onDidChangeModelContent(o=>{this._stopAll()})),this.toUnhook.add(i.onDidChangeConfiguration(o=>{let r=this.editor.getOption(68);this.occurrencesHighlight!==r&&(this.occurrencesHighlight=r,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return Ms(this._decorationIds.map(i=>this.model.getDecorationRange(i)).sort(Ie.compareRangesUsingStarts))}moveNext(){let i=this._getSortedHighlights(),o=(i.findIndex(s=>s.containsPosition(this.editor.getPosition()))+1)%i.length,r=i[o];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);let s=this._getWord();if(s){let l=this.editor.getModel().getLineContent(r.startLineNumber);Yn(`${l}, ${o+1} of ${i.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let i=this._getSortedHighlights(),o=(i.findIndex(s=>s.containsPosition(this.editor.getPosition()))-1+i.length)%i.length,r=i[o];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);let s=this._getWord();if(s){let l=this.editor.getModel().getLineContent(r.startLineNumber);Yn(`${l}, ${o+1} of ${i.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(i){if(!this.occurrencesHighlight){this._stopAll();return}if(i.reason!==3){this._stopAll();return}this._run()}_getWord(){let i=this.editor.getSelection(),n=i.startLineNumber,o=i.startColumn;return this.model.getWordAtPosition({lineNumber:n,column:o})}_run(){let i=this.editor.getSelection();if(i.startLineNumber!==i.endLineNumber){this._stopAll();return}let n=i.startColumn,o=i.endColumn,r=this._getWord();if(!r||r.startColumn>n||r.endColumn<o){this._stopAll();return}let s=this.workerRequest&&this.workerRequest.isValid(this.model,i,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),s)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let l=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=Pde(this.model,this.editor.getSelection(),this.editor.getOption(113)),this.workerRequest.result.then(c=>{l===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=c||[],this._beginRenderDecorations())},Ut)}}_beginRenderDecorations(){let i=new Date().getTime(),n=this.lastCursorPositionChangeTime+250;i>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},n-i)}renderDecorations(){this.renderDecorationsTimer=-1;let i=[];for(let n of this.workerRequestValue)n.range&&i.push({range:n.range,options:e._getDecorationOptions(n.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,i),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(i){return i===DS.Write?this._WRITE_OPTIONS:i===DS.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}};Vv._WRITE_OPTIONS=ni.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:cr(Fde),position:Hr.Center}});Vv._TEXT_OPTIONS=ni.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:cr(r1),position:Hr.Center}});Vv._REGULAR_OPTIONS=ni.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:cr(Tde),position:Hr.Center}});var Jp=class aU extends yt{constructor(i,n){super(),this.wordHighlighter=null;let o=()=>{i.hasModel()&&(this.wordHighlighter=new Vv(i,n))};this._register(i.onDidChangeModel(r=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),o()})),o()}static get(i){return i.getContribution(aU.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(i){this.wordHighlighter&&i&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};Jp.ID="editor.contrib.wordHighlighter";Jp=Ede([Mde(1,Wt)],Jp);var tM=class extends it{constructor(i,n){super(n),this._isNext=i}run(i,n){let o=Jp.get(n);o&&(this._isNext?o.moveNext():o.moveBack())}},BL=class extends tM{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:iM,kbOpts:{kbExpr:Me.editorTextFocus,primary:65,weight:100}})}},VL=class extends tM{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:iM,kbOpts:{kbExpr:Me.editorTextFocus,primary:1089,weight:100}})}},HL=class extends it{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:iM.toNegated(),kbOpts:{kbExpr:Me.editorTextFocus,primary:0,weight:100}})}run(i,n,o){let r=Jp.get(n);r&&r.restoreViewState(!0)}};Dt(Jp.ID,Jp);Ue(BL);Ue(VL);Ue(HL);ii((e,i)=>{let n=e.getColor(g5);n&&(i.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${n}; }`),i.addRule(`.monaco-editor .selectionHighlight { background-color: ${n.transparent(.5)}; }`));let o=e.getColor(kde);o&&i.addRule(`.monaco-editor .wordHighlight { background-color: ${o}; }`);let r=e.getColor(Ide);r&&i.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${r}; }`);let s=e.getColor(p5);s&&i.addRule(`.monaco-editor .selectionHighlight { border: 1px ${e.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);let l=e.getColor(Rde);l&&i.addRule(`.monaco-editor .wordHighlight { border: 1px ${e.type==="hc"?"dashed":"solid"} ${l}; box-sizing: border-box; }`);let c=e.getColor(Ade);c&&i.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${e.type==="hc"?"dashed":"solid"} ${c}; box-sizing: border-box; }`)});Pt();$t();RQ();Jn();Bt();lo();Yi();Ti();vQ();Su();var ef=class extends Tn{constructor(i){super(i),this._inSelectionMode=i.inSelectionMode,this._wordNavigationType=i.wordNavigationType}runEditorCommand(i,n,o){if(!n.hasModel())return;let r=Ph(n.getOption(113)),s=n.getModel(),c=n.getSelections().map(d=>{let u=new _t(d.positionLineNumber,d.positionColumn),h=this._move(r,s,u,this._wordNavigationType);return this._moveTo(d,h,this._inSelectionMode)});if(s.pushStackElement(),n._getViewModel().setCursorStates("moveWordCommand",3,c.map(d=>Q8.fromModelSelection(d))),c.length===1){let d=new _t(c[0].positionLineNumber,c[0].positionColumn);n.revealPosition(d,0)}}_moveTo(i,n,o){return o?new Ct(i.selectionStartLineNumber,i.selectionStartColumn,n.lineNumber,n.column):new Ct(n.lineNumber,n.column,n.lineNumber,n.column)}},su=class extends ef{_move(i,n,o,r){return nm.moveWordLeft(i,n,o,r)}},au=class extends ef{_move(i,n,o,r){return nm.moveWordRight(i,n,o,r)}},GL=class extends su{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}},jL=class extends su{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}},WL=class extends su{constructor(){var i;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:st.and(Me.textInputFocus,(i=st.and(Z0,iC))===null||i===void 0?void 0:i.negate()),primary:2063,mac:{primary:527},weight:100}})}},UL=class extends su{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}},$L=class extends su{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}},qL=class extends su{constructor(){var i;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:st.and(Me.textInputFocus,(i=st.and(Z0,iC))===null||i===void 0?void 0:i.negate()),primary:3087,mac:{primary:1551},weight:100}})}},KL=class extends su{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(i,n,o,r){return super._move(Ph(I0.wordSeparators.defaultValue),n,o,r)}},YL=class extends su{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(i,n,o,r){return super._move(Ph(I0.wordSeparators.defaultValue),n,o,r)}},QL=class extends au{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}},ZL=class extends au{constructor(){var i;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:st.and(Me.textInputFocus,(i=st.and(Z0,iC))===null||i===void 0?void 0:i.negate()),primary:2065,mac:{primary:529},weight:100}})}},XL=class extends au{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}},JL=class extends au{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}},eN=class extends au{constructor(){var i;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:st.and(Me.textInputFocus,(i=st.and(Z0,iC))===null||i===void 0?void 0:i.negate()),primary:3089,mac:{primary:1553},weight:100}})}},tN=class extends au{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}},iN=class extends au{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(i,n,o,r){return super._move(Ph(I0.wordSeparators.defaultValue),n,o,r)}},nN=class extends au{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(i,n,o,r){return super._move(Ph(I0.wordSeparators.defaultValue),n,o,r)}},tf=class extends Tn{constructor(i){super(i),this._whitespaceHeuristics=i.whitespaceHeuristics,this._wordNavigationType=i.wordNavigationType}runEditorCommand(i,n,o){if(!n.hasModel())return;let r=Ph(n.getOption(113)),s=n.getModel(),l=n.getSelections(),c=n.getOption(5),d=n.getOption(8),u=Zi.getAutoClosingPairs(s.getLanguageIdentifier().id),h=n._getViewModel(),g=l.map(p=>{let f=this._delete({wordSeparators:r,model:s,selection:p,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:n.getOption(6),autoClosingBrackets:c,autoClosingQuotes:d,autoClosingPairs:u,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Mu(f,"")});n.pushUndoStop(),n.executeCommands(this.id,g),n.pushUndoStop()}},uy=class extends tf{_delete(i,n){let o=nm.deleteWordLeft(i,n);return o||new Ie(1,1,1,1)}},hy=class extends tf{_delete(i,n){let o=nm.deleteWordRight(i,n);if(o)return o;let r=i.model.getLineCount(),s=i.model.getLineMaxColumn(r);return new Ie(r,s,r,s)}},oN=class extends uy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:Me.writable})}},rN=class extends uy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:Me.writable})}},sN=class extends uy{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}},aN=class extends hy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:Me.writable})}},lN=class extends hy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:Me.writable})}},cN=class extends hy{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}},dN=class extends it{constructor(){super({id:"deleteInsideWord",precondition:Me.writable,label:_("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(i,n,o){if(!n.hasModel())return;let r=Ph(n.getOption(113)),s=n.getModel(),c=n.getSelections().map(d=>{let u=nm.deleteInsideWord(r,s,d);return new Mu(u,"")});n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}};pt(new GL);pt(new jL);pt(new WL);pt(new UL);pt(new $L);pt(new qL);pt(new QL);pt(new ZL);pt(new XL);pt(new JL);pt(new eN);pt(new tN);pt(new KL);pt(new YL);pt(new iN);pt(new nN);pt(new oN);pt(new rN);pt(new sN);pt(new aN);pt(new lN);pt(new cN);Ue(dN);$t();Bt();Yi();Do();var uN=class extends tf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(i,n){let o=Q0.deleteWordPartLeft(i);return o||new Ie(1,1,1,1)}},hN=class extends tf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:Me.writable,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(i,n){let o=Q0.deleteWordPartRight(i);if(o)return o;let r=i.model.getLineCount(),s=i.model.getLineMaxColumn(r);return new Ie(r,s,r,s)}},nM=class extends ef{_move(i,n,o,r){return Q0.moveWordPartLeft(i,n,o)}},gN=class extends nM{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:783},weight:100}})}};xi.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var pN=class extends nM{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}};xi.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var oM=class extends ef{_move(i,n,o,r){return Q0.moveWordPartRight(i,n,o)}},fN=class extends oM{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:785},weight:100}})}},mN=class extends oM{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:Me.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}};pt(new uN);pt(new hN);pt(new gN);pt(new pN);pt(new fN);pt(new mN);Th();var tst=yh(hU());fS();Ki();bt();$t();var gU=(()=>{class e extends yt{constructor(n){super(),this.editor=n,this.widget=null,O4&&(this._register(n.onDidChangeConfiguration(()=>this.update())),this.update())}update(){let n=!this.editor.getOption(77);!this.widget&&n?this.widget=new Ode(this.editor):this.widget&&!n&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return e.ID="editor.contrib.iPadShowKeyboard",e})(),Ode=(()=>{class e extends yt{constructor(n){super(),this.editor=n,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(uo(this._domNode,"touchstart",o=>{this.editor.focus()})),this._register(uo(this._domNode,"focus",o=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return e.ID="editor.contrib.ShowKeyboardWidget",e})();Dt(gU.ID,gU);var nst=yh(vU());qf();Th();qf();Pt();bt();var Gde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},jde=function(e,i){return function(n,o){i(n,o,e)}},fy=class aM{constructor(i){this.quickInputService=i,this.registry=ks.as(Nl.Quickaccess)}provide(i){let n=new Xe;n.add(i.onDidAccept(()=>{let[s]=i.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),n.add(i.onDidChangeValue(s=>{let l=this.registry.getQuickAccessProvider(s.substr(aM.PREFIX.length));l&&l.prefix&&l.prefix!==aM.PREFIX&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})}));let{editorProviders:o,globalProviders:r}=this.getQuickAccessProviders();return i.items=o.length===0||r.length===0?[...o.length===0?r:o]:[{label:_("globalCommands","global commands"),type:"separator"},...r,{label:_("editorCommands","editor commands"),type:"separator"},...o],n}getQuickAccessProviders(){let i=[],n=[];for(let o of this.registry.getQuickAccessProviders().sort((r,s)=>r.prefix.localeCompare(s.prefix)))if(o.prefix!==aM.PREFIX)for(let r of o.helpEntries){let s=r.prefix||o.prefix,l=s||"\u2026";(r.needsEditor?n:i).push({prefix:s,label:l,ariaLabel:_("helpPickAriaLabel","{0}, {1}",l,r.description),description:r.description})}return{editorProviders:n,globalProviders:i}}};fy.PREFIX="?";fy=Gde([jde(0,As)],fy);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:fy,prefix:"",helpEntries:[{description:G8.helpQuickAccessActionLabel,needsEditor:!0}]});Pt();bt();O0();Oi();l1();bt();s2();Fo();var jv=class{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,n){var o;let r=new Xe;i.canAcceptInBackground=!!(!((o=this.options)===null||o===void 0)&&o.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;let s=r.add(new Ao);return s.value=this.doProvide(i,n),r.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(i,n)})),r}doProvide(i,n){let o=new Xe,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){let s={editor:r},l=LS(r);if(l){let c=Vr(r.saveViewState());o.add(l.onDidChangeCursorPosition(()=>{c=Vr(r.saveViewState())})),s.restoreViewState=()=>{c&&r===this.activeTextEditorControl&&r.restoreViewState(c)},o.add(h1(n.onCancellationRequested)(()=>{var d;return(d=s.restoreViewState)===null||d===void 0?void 0:d.call(s)}))}o.add(ao(()=>this.clearDecorations(r))),o.add(this.provideWithTextEditor(s,i,n))}else o.add(this.provideWithoutTextEditor(i,n));return o}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},n){i.setSelection(n.range),i.revealRangeInCenter(n.range,0),n.preserveFocus||i.focus()}getModel(i){var n;return O8(i)?(n=i.getModel())===null||n===void 0?void 0:n.modified:i.getModel()}addDecorations(i,n){i.changeDecorations(o=>{let r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);let s=[{range:n,options:{className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{overviewRuler:{color:cr(N5),position:Hr.Full}}}],[l,c]=o.deltaDecorations(r,s);this.rangeHighlightDecorationId={rangeHighlightId:l,overviewRulerDecorationId:c}})}clearDecorations(i){let n=this.rangeHighlightDecorationId;n&&(i.changeDecorations(o=>{o.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}};s2();var CU=(()=>{class e extends jv{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(n){let o=_("cannotRunGotoLine","Open a text editor first to go to a line.");return n.items=[{label:o}],n.ariaLabel=o,yt.None}provideWithTextEditor(n,o,r){let s=n.editor,l=new Xe;l.add(o.onDidAccept(u=>{let[h]=o.selectedItems;if(h){if(!this.isValidLineNumber(s,h.lineNumber))return;this.gotoLocation(n,{range:this.toRange(h.lineNumber,h.column),keyMods:o.keyMods,preserveFocus:u.inBackground}),u.inBackground||o.hide()}}));let c=()=>{let u=this.parsePosition(s,o.value.trim().substr(e.PREFIX.length)),h=this.getPickLabel(s,u.lineNumber,u.column);if(o.items=[{lineNumber:u.lineNumber,column:u.column,label:h}],o.ariaLabel=h,!this.isValidLineNumber(s,u.lineNumber)){this.clearDecorations(s);return}let g=this.toRange(u.lineNumber,u.column);s.revealRangeInCenter(g,0),this.addDecorations(s,g)};c(),l.add(o.onDidChangeValue(()=>c()));let d=LS(s);return d&&d.getOptions().get(56).renderType===2&&(d.updateOptions({lineNumbers:"on"}),l.add(ao(()=>d.updateOptions({lineNumbers:"relative"})))),l}toRange(n=1,o=1){return{startLineNumber:n,startColumn:o,endLineNumber:n,endColumn:o}}parsePosition(n,o){let r=o.split(/,|:|#/).map(l=>parseInt(l,10)).filter(l=>!isNaN(l)),s=this.lineCount(n)+1;return{lineNumber:r[0]>0?r[0]:s+r[0],column:r[1]}}getPickLabel(n,o,r){if(this.isValidLineNumber(n,o))return this.isValidColumn(n,o,r)?_("gotoLineColumnLabel","Go to line {0} and character {1}.",o,r):_("gotoLineLabel","Go to line {0}.",o);let s=n.getPosition()||{lineNumber:1,column:1},l=this.lineCount(n);return l>1?_("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,l):_("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(n,o){return!o||typeof o!="number"?!1:o>0&&o<=this.lineCount(n)}isValidColumn(n,o,r){if(!r||typeof r!="number")return!1;let s=this.getModel(n);if(!s)return!1;let l={lineNumber:o,column:r};return s.validatePosition(l).equals(l)}lineCount(n){var o,r;return(r=(o=this.getModel(n))===null||o===void 0?void 0:o.getLineCount())!==null&&r!==void 0?r:0}}return e.PREFIX=":",e})();qf();Ho();Fo();Th();en();$t();Yi();var Wde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Ude=function(e,i){return function(n,o){i(n,o,e)}},my=class extends CU{constructor(i){super(),this.editorService=i,this.onDidActiveTextEditorControlChange=xo.None}get activeTextEditorControl(){return Vr(this.editorService.getFocusedCodeEditor())}};my=Wde([Ude(0,Ii)],my);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:my,prefix:my.PREFIX,helpEntries:[{description:l2.gotoLineActionLabel,needsEditor:!0}]});var wN=class extends it{constructor(){super({id:"editor.action.gotoLine",label:l2.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:2085,mac:{primary:293},weight:100}})}run(i){i.get(As).quickAccess.show(my.PREFIX)}};Ue(wN);Pt();$n();bt();Bt();Vi();On();P4();wa();On();var bU=[void 0,[]];function cM(e,i,n=0,o=0){let r=i;return r.values&&r.values.length>1?$de(e,r.values,n,o):yU(e,i,n,o)}function $de(e,i,n,o){let r=0,s=[];for(let l of i){let[c,d]=yU(e,l,n,o);if(typeof c!="number")return bU;r+=c,s.push(...d)}return[r,qde(s)]}function yU(e,i,n,o){let r=m1(i.original,i.originalLowercase,n,e,e.toLowerCase(),o,!0);return r?[r[0],Zg(r)]:bU}function qde(e){let i=e.sort((r,s)=>r.start-s.start),n=[],o;for(let r of i)!o||!Kde(o,r)?(o=r,n.push(r)):(o.start=Math.min(o.start,r.start),o.end=Math.max(o.end,r.end));return n}function Kde(e,i){return!(e.end<i.start||i.end<e.start)}var SU=" ";function lM(e){typeof e!="string"&&(e="");let i=e.toLowerCase(),{pathNormalized:n,normalized:o,normalizedLowercase:r}=wU(e),s=n.indexOf(pS)>=0,l,c=e.split(SU);if(c.length>1)for(let d of c){let{pathNormalized:u,normalized:h,normalizedLowercase:g}=wU(d);h&&(l||(l=[]),l.push({original:d,originalLowercase:d.toLowerCase(),pathNormalized:u,normalized:h,normalizedLowercase:g}))}return{original:e,originalLowercase:i,pathNormalized:n,normalized:o,normalizedLowercase:r,values:l,containsPathSeparator:s}}function wU(e){let i;vu?i=e.replace(/\//g,pS):i=e.replace(/\\/g,pS);let n=n8(i).replace(/\s/g,"");return{pathNormalized:i,normalized:n,normalizedLowercase:n.toLowerCase()}}function bN(e){return Array.isArray(e)?lM(e.map(i=>i.original).join(SU)):lM(e.original)}Gr();var vy=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},ws=class e extends jv{constructor(i=Object.create(null)){super(i),this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(i){return this.provideLabelPick(i,_("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),yt.None}provideWithTextEditor(i,n,o){let r=i.editor,s=this.getModel(r);return s?Ta.has(s)?this.doProvideWithEditorSymbols(i,s,n,o):this.doProvideWithoutEditorSymbols(i,s,n,o):yt.None}doProvideWithoutEditorSymbols(i,n,o,r){let s=new Xe;return this.provideLabelPick(o,_("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),vy(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,s))||r.isCancellationRequested||s.add(this.doProvideWithEditorSymbols(i,n,o,r))}),s}provideLabelPick(i,n){i.items=[{label:n,index:0,kind:14}],i.ariaLabel=n}waitForLanguageSymbolRegistry(i,n){return vy(this,void 0,void 0,function*(){if(Ta.has(i))return!0;let o,r=new Promise(l=>o=l),s=n.add(Ta.onDidChange(()=>{Ta.has(i)&&(s.dispose(),o(!0))}));return n.add(ao(()=>o(!1))),r})}doProvideWithEditorSymbols(i,n,o,r){let s=i.editor,l=new Xe;l.add(o.onDidAccept(g=>{let[p]=o.selectedItems;p&&p.range&&(this.gotoLocation(i,{range:p.range.selection,keyMods:o.keyMods,preserveFocus:g.inBackground}),g.inBackground||o.hide())})),l.add(o.onDidTriggerItemButton(({item:g})=>{g&&g.range&&(this.gotoLocation(i,{range:g.range.selection,keyMods:o.keyMods,forceSideBySide:!0}),o.hide())}));let c=this.getDocumentSymbols(n,r),d,u=()=>vy(this,void 0,void 0,function*(){d?.dispose(!0),o.busy=!1,d=new Cr(r),o.busy=!0;try{let g=lM(o.value.substr(e.PREFIX.length).trim()),p=yield this.doGetSymbolPicks(c,g,void 0,d.token);if(r.isCancellationRequested)return;p.length>0?o.items=p:g.original.length>0?this.provideLabelPick(o,_("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(o,_("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(o.busy=!1)}});l.add(o.onDidChangeValue(()=>u())),u();let h=!0;return l.add(o.onDidChangeActive(()=>{let[g]=o.activeItems;if(g&&g.range){if(h){h=!1;return}s.revealRangeInCenter(g.range.selection,0),this.addDecorations(s,g.range.decoration)}})),l}doGetSymbolPicks(i,n,o,r){return vy(this,void 0,void 0,function*(){let s=yield i;if(r.isCancellationRequested)return[];let l=n.original.indexOf(e.SCOPE_PREFIX)===0,c=l?1:0,d,u;n.values&&n.values.length>1?(d=bN(n.values[0]),u=bN(n.values.slice(1))):d=n;let h=[];for(let y=0;y<s.length;y++){let M=s[y],k=i8(M.name),G=`$(symbol-${_8.toString(M.kind)||"property"}) ${k}`,J=G.length-k.length,$=M.containerName;o?.extraContainerLabel&&($?$=`${o.extraContainerLabel} \u2022 ${$}`:$=o.extraContainerLabel);let _e,Te,Pe,$e;if(n.original.length>c){let at=!1;if(d!==n&&([_e,Te]=cM(G,Object.assign(Object.assign({},n),{values:void 0}),c,J),typeof _e=="number"&&(at=!0)),typeof _e!="number"&&([_e,Te]=cM(G,d,c,J),typeof _e!="number"))continue;if(!at&&u){if($&&u.original.length>0&&([Pe,$e]=cM($,u)),typeof Pe!="number")continue;typeof _e=="number"&&(_e+=Pe)}}let nt=M.tags&&M.tags.indexOf(1)>=0;h.push({index:y,kind:M.kind,score:_e,label:G,ariaLabel:k,description:$,highlights:nt?void 0:{label:Te,description:$e},range:{selection:Ie.collapseToStart(M.selectionRange),decoration:M.range},strikethrough:nt,buttons:(()=>{var at,Ft;let Zt=!((at=this.options)===null||at===void 0)&&at.openSideBySideDirection?(Ft=this.options)===null||Ft===void 0?void 0:Ft.openSideBySideDirection():void 0;if(Zt)return[{iconClass:Zt==="right"?gt.splitHorizontal.classNames:gt.splitVertical.classNames,tooltip:Zt==="right"?_("openToSide","Open to the Side"):_("openToBottom","Open to the Bottom")}]})()})}let g=h.sort((y,M)=>l?this.compareByKindAndScore(y,M):this.compareByScore(y,M)),p=[];if(l){let G=function(){M&&typeof y=="number"&&k>0&&(M.label=ds(SN[y]||yN,k))};var f=G;let y,M,k=0;for(let J of g)y!==J.kind?(G(),y=J.kind,k=1,M={type:"separator"},p.push(M)):k++,p.push(J);G()}else g.length>0&&(p=[{label:_("symbols","symbols ({0})",h.length),type:"separator"},...g]);return p})}compareByScore(i,n){if(typeof i.score!="number"&&typeof n.score=="number")return 1;if(typeof i.score=="number"&&typeof n.score!="number")return-1;if(typeof i.score=="number"&&typeof n.score=="number"){if(i.score>n.score)return-1;if(i.score<n.score)return 1}return i.index<n.index?-1:i.index>n.index?1:0}compareByKindAndScore(i,n){let o=SN[i.kind]||yN,r=SN[n.kind]||yN,s=o.localeCompare(r);return s===0?this.compareByScore(i,n):s}getDocumentSymbols(i,n){return vy(this,void 0,void 0,function*(){let o=yield sh.create(i,n);return n.isCancellationRequested?[]:o.asListOfDocumentSymbols()})}};ws.PREFIX="@";ws.SCOPE_PREFIX=":";ws.PREFIX_BY_CATEGORY=`${ws.PREFIX}${ws.SCOPE_PREFIX}`;var yN=_("property","properties ({0})"),SN={5:_("method","methods ({0})"),11:_("function","functions ({0})"),8:_("_constructor","constructors ({0})"),12:_("variable","variables ({0})"),4:_("class","classes ({0})"),22:_("struct","structs ({0})"),23:_("event","events ({0})"),24:_("operator","operators ({0})"),10:_("interface","interfaces ({0})"),2:_("namespace","namespaces ({0})"),3:_("package","packages ({0})"),25:_("typeParameter","type parameters ({0})"),1:_("modules","modules ({0})"),6:_("property","properties ({0})"),9:_("enum","enumerations ({0})"),21:_("enumMember","enumeration members ({0})"),14:_("string","strings ({0})"),0:_("file","files ({0})"),17:_("array","arrays ({0})"),15:_("number","numbers ({0})"),16:_("boolean","booleans ({0})"),18:_("object","objects ({0})"),19:_("key","keys ({0})"),7:_("field","fields ({0})"),13:_("constant","constants ({0})")};qf();Ho();Fo();Th();en();$t();Yi();var Yde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Qde=function(e,i){return function(n,o){i(n,o,e)}},xN=class extends ws{constructor(i){super(),this.editorService=i,this.onDidActiveTextEditorControlChange=xo.None}get activeTextEditorControl(){return Vr(this.editorService.getFocusedCodeEditor())}};xN=Yde([Qde(0,Ii)],xN);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:xN,prefix:ws.PREFIX,helpEntries:[{description:BS.quickOutlineActionLabel,prefix:ws.PREFIX,needsEditor:!0},{description:BS.quickOutlineByCategoryActionLabel,prefix:ws.PREFIX_BY_CATEGORY,needsEditor:!0}]});var _N=class extends it{constructor(){super({id:"editor.action.quickOutline",label:BS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Me.hasDocumentSymbolProvider,kbOpts:{kbExpr:Me.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(i){i.get(As).quickAccess.show(ws.PREFIX)}};Ue(_N);qf();Th();Ho();Pt();$n();bt();ln();var dM=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},Cy=function(e){return e[e.NO_ACTION=0]="NO_ACTION",e[e.CLOSE_PICKER=1]="CLOSE_PICKER",e[e.REFRESH_PICKER=2]="REFRESH_PICKER",e[e.REMOVE_ITEM=3]="REMOVE_ITEM",e}(Cy||{});function DN(e){let i=e;return Array.isArray(i.items)}function Zde(e){let i=e;return!!i.picks&&i.additionalPicks instanceof Promise}var xU=(()=>{class e extends yt{constructor(n,o){super(),this.prefix=n,this.options=o}provide(n,o){var r;let s=new Xe;n.canAcceptInBackground=!!(!((r=this.options)===null||r===void 0)&&r.canAcceptInBackground),n.matchOnLabel=n.matchOnDescription=n.matchOnDetail=n.sortByLabel=!1;let l,c=s.add(new Ao),d=()=>dM(this,void 0,void 0,function*(){let u=c.value=new Xe;l?.dispose(!0),n.busy=!1,l=new Cr(o);let h=l.token,g=n.value.substr(this.prefix.length).trim(),p=this.getPicks(g,u,h),f=(y,M)=>{var k;let G,J;if(DN(y)?(G=y.items,J=y.active):G=y,G.length===0){if(M)return!1;g.length>0&&(!((k=this.options)===null||k===void 0)&&k.noResultsPick)&&(G=[this.options.noResultsPick])}return n.items=G,J&&(n.activeItems=[J]),!0};if(p!==null)if(Zde(p)){let y=!1,M=!1;yield Promise.all([dM(this,void 0,void 0,function*(){yield Lf(e.FAST_PICKS_RACE_DELAY),!h.isCancellationRequested&&(M||(y=f(p.picks,!0)))}),dM(this,void 0,void 0,function*(){n.busy=!0;try{let k=yield p.additionalPicks;if(h.isCancellationRequested)return;let G,J;DN(p.picks)?(G=p.picks.items,J=p.picks.active):G=p.picks;let $,_e;if(DN(k)?($=k.items,_e=k.active):$=k,$.length>0||!y){let Te;if(!J&&!_e){let Pe=n.activeItems[0];Pe&&G.indexOf(Pe)!==-1&&(Te=Pe)}f({items:[...G,...$],active:J||_e||Te})}}finally{h.isCancellationRequested||(n.busy=!1),M=!0}})])}else if(!(p instanceof Promise))f(p);else{n.busy=!0;try{let y=yield p;if(h.isCancellationRequested)return;f(y)}finally{h.isCancellationRequested||(n.busy=!1)}}});return s.add(n.onDidChangeValue(()=>d())),d(),s.add(n.onDidAccept(u=>{let[h]=n.selectedItems;typeof h?.accept=="function"&&(u.inBackground||n.hide(),h.accept(n.keyMods,u))})),s.add(n.onDidTriggerItemButton(({button:u,item:h})=>dM(this,void 0,void 0,function*(){var g,p;if(typeof h.trigger=="function"){let f=(p=(g=h.buttons)===null||g===void 0?void 0:g.indexOf(u))!==null&&p!==void 0?p:-1;if(f>=0){let y=h.trigger(f,n.keyMods),M=typeof y=="number"?y:yield y;if(o.isCancellationRequested)return;switch(M){case Cy.NO_ACTION:break;case Cy.CLOSE_PICKER:n.hide();break;case Cy.REFRESH_PICKER:d();break;case Cy.REMOVE_ITEM:let k=n.items.indexOf(h);if(k!==-1){let G=n.items.slice();G.splice(k,1),n.items=G}break}}}}))),s}}return e.FAST_PICKS_RACE_DELAY=200,e})();bt();Fo();F0();Kf();wn();us();Do();jS();ki();Pt();Fo();Rn();function EN(e,i){return i&&(e.stack||e.stacktrace)?_("stackTrace.format","{0}: {1}",DU(e),_U(e.stack)||_U(e.stacktrace)):DU(e)}function _U(e){return Array.isArray(e)?e.join(`
`):e}function DU(e){return typeof e.code=="string"&&typeof e.errno=="number"&&typeof e.syscall=="string"?_("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function MN(e=null,i=!1){if(!e)return _("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){let n=Ms(e),o=MN(n[0],i);return n.length>1?_("error.moreErrors","{0} ({1} errors in total)",o,n.length):o}if(SS(e))return e;if(e.detail){let n=e.detail;if(n.error)return EN(n.error,i);if(n.exception)return EN(n.exception,i)}return e.stack?EN(e,i):e.message?e.message:_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var MU=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},of=function(e,i){return function(n,o){i(n,o,e)}},EU=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},Wv=class uM extends xU{constructor(i,n,o,r,s,l){super(uM.PREFIX,i),this.instantiationService=n,this.keybindingService=o,this.commandService=r,this.telemetryService=s,this.notificationService=l,this.commandsHistory=this._register(this.instantiationService.createInstance(rf)),this.options=i}getPicks(i,n,o){return EU(this,void 0,void 0,function*(){let r=yield this.getCommandPicks(n,o);if(o.isCancellationRequested)return[];let s=[];for(let u of r){let h=Vr(uM.WORD_FILTER(i,u.label)),g=u.commandAlias?Vr(uM.WORD_FILTER(i,u.commandAlias)):void 0;h||g?(u.highlights={label:h,detail:this.options.showAlias?g:void 0},s.push(u)):i===u.commandId&&s.push(u)}let l=new Map;for(let u of s){let h=l.get(u.label);h?(u.description=u.commandId,h.description=h.commandId):l.set(u.label,u)}s.sort((u,h)=>{let g=this.commandsHistory.peek(u.commandId),p=this.commandsHistory.peek(h.commandId);return g&&p?g>p?-1:1:g?-1:p?1:u.label.localeCompare(h.label)});let c=[],d=!1;for(let u=0;u<s.length;u++){let h=s[u],g=this.keybindingService.lookupKeybinding(h.commandId),p=g?_("commandPickAriaLabelWithKeybinding","{0}, {1}",h.label,g.getAriaLabel()):h.label;u===0&&this.commandsHistory.peek(h.commandId)&&(c.push({type:"separator",label:_("recentlyUsed","recently used")}),d=!0),u!==0&&d&&!this.commandsHistory.peek(h.commandId)&&(c.push({type:"separator",label:_("morecCommands","other commands")}),d=!1),c.push(Object.assign(Object.assign({},h),{ariaLabel:p,detail:this.options.showAlias&&h.commandAlias!==h.label?h.commandAlias:void 0,keybinding:g,accept:()=>EU(this,void 0,void 0,function*(){this.commandsHistory.push(h.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:h.commandId,from:"quick open"});try{yield this.commandService.executeCommand(h.commandId)}catch(f){Ml(f)||this.notificationService.error(_("canNotRun","Command '{0}' resulted in an error ({1})",h.label,MN(f)))}})}))}return c})}};Wv.PREFIX=">";Wv.WORD_FILTER=X5(J5,tz,ez);Wv=MU([of(1,hi),of(2,En),of(3,Wo),of(4,Fh),of(5,bn)],Wv);var rf=class ro extends yt{constructor(i,n){super(),this.storageService=i,this.configurationService=n,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ro.getConfiguredCommandHistoryLength(this.configurationService),ro.cache&&ro.cache.limit!==this.configuredCommandsHistoryLength&&(ro.cache.limit=this.configuredCommandsHistoryLength,ro.saveState(this.storageService))}load(){let i=this.storageService.get(ro.PREF_KEY_CACHE,0),n;if(i)try{n=JSON.parse(i)}catch{}let o=ro.cache=new _h(this.configuredCommandsHistoryLength,1);if(n){let r;n.usesLRU?r=n.entries:r=n.entries.sort((s,l)=>s.value-l.value),r.forEach(s=>o.set(s.key,s.value))}ro.counter=this.storageService.getNumber(ro.PREF_KEY_COUNTER,0,ro.counter)}push(i){ro.cache&&(ro.cache.set(i,ro.counter++),ro.saveState(this.storageService))}peek(i){var n;return(n=ro.cache)===null||n===void 0?void 0:n.peek(i)}static saveState(i){if(!ro.cache)return;let n={usesLRU:!0,entries:[]};ro.cache.forEach((o,r)=>n.entries.push({key:r,value:o})),i.store(ro.PREF_KEY_CACHE,JSON.stringify(n),0,0),i.store(ro.PREF_KEY_COUNTER,ro.counter,0,0)}static getConfiguredCommandHistoryLength(i){var n,o;let s=(o=(n=i.getValue().workbench)===null||n===void 0?void 0:n.commandPalette)===null||o===void 0?void 0:o.history;return typeof s=="number"?s:ro.DEFAULT_COMMANDS_HISTORY_LENGTH}};rf.DEFAULT_COMMANDS_HISTORY_LENGTH=50;rf.PREF_KEY_CACHE="commandPalette.mru.cache";rf.PREF_KEY_COUNTER="commandPalette.mru.counter";rf.counter=1;rf=MU([of(0,br),of(1,Is)],rf);var hM=class extends Wv{constructor(i,n,o,r,s,l){super(i,n,o,r,s,l)}getCodeEditorCommandPicks(){let i=this.activeTextEditorControl;if(!i)return[];let n=[];for(let o of i.getSupportedActions())n.push({commandId:o.id,commandAlias:o.alias,label:sz(o.label)||o.id});return n}};Fo();wn();us();Do();jS();$t();Yi();var Xde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Uv=function(e,i){return function(n,o){i(n,o,e)}},Jde=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{u(o.next(h))}catch(g){l(g)}}function d(h){try{u(o.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):r(h.value).then(c,d)}u((o=o.apply(e,i||[])).next())})},wy=class extends hM{constructor(i,n,o,r,s,l){super({showAlias:!1},i,o,r,s,l),this.codeEditorService=n}get activeTextEditorControl(){return Vr(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Jde(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};wy=Xde([Uv(0,hi),Uv(1,Ii),Uv(2,En),Uv(3,Wo),Uv(4,Fh),Uv(5,bn)],wy);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:wy,prefix:wy.PREFIX,helpEntries:[{description:c2.quickCommandHelp,needsEditor:!0}]});var kN=class extends it{constructor(){super({id:"editor.action.quickCommand",label:c2.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:Me.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(i){i.get(As).quickAccess.show(wy.PREFIX)}};Ue(kN);$t();Ho();Kf();Ti();wn();var eue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},$v=function(e,i){return function(n,o){i(n,o,e)}},IN=class extends Jl{constructor(i,n,o,r,s,l,c){super(!0,i,n,o,r,s,l,c)}};IN=eue([$v(1,Wt),$v(2,Ii),$v(3,bn),$v(4,hi),$v(5,br),$v(6,Is)],IN);Dt(Jl.ID,IN);$t();U5();Th();var RN=class extends it{constructor(){super({id:"editor.action.toggleHighContrast",label:j8.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(i,n){let o=i.get(f1);this._originalThemeName?(o.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=o.getColorTheme().themeName,o.setTheme("hc-black"))}};Ue(RN);var iue=["editorContainer"],by=new Lt("NGX_MONACO_EDITOR_CONFIG"),kU=!1,IU,nue=(()=>{class e{constructor(n){this.config=n,this.onInit=new Je}ngAfterViewInit(){kU?IU.then(()=>{this.initMonaco(this._options)}):(kU=!0,IU=new Promise(n=>{let o=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if(typeof window.monaco=="object"){n();return}let r=()=>{window.require.config({paths:{vs:`${o}`}}),window.require(["vs/editor/editor.main"],()=>{typeof this.config.onMonacoLoad=="function"&&this.config.onMonacoLoad(),this.initMonaco(this._options),n()})};if(window.require)r();else{let s=document.createElement("script");s.type="text/javascript",s.src=`${o}/loader.js`,s.addEventListener("load",r),document.body.appendChild(s)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return e.\u0275fac=function(n){return new(n||e)(lt(by))},e.\u0275cmp=$i({type:e,selectors:[["ng-component"]],viewQuery:function(n,o){if(n&1&&ql(iue,7),n&2){let r;Dr(r=Er())&&(o._editorContainer=r.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(n,o){},encapsulation:2}),e})(),RU=(()=>{class e extends nue{constructor(n,o){super(o),this.zone=n,this.editorConfig=o,this._value="",this.propagateChange=r=>{},this.onTouched=()=>{}}set options(n){this._options=Object.assign({},this.config.defaultOptions,n),this._editor&&(this._editor.dispose(),this.initMonaco(n))}get options(){return this._options}set model(n){this.options.model=n,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(n){this._value=n||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(n){this.propagateChange=n}registerOnTouched(n){this.onTouched=n}initMonaco(n){let o=!!n.model;if(o){let r=monaco.editor.getModel(n.model.uri||"");r?(n.model=r,n.model.setValue(this._value)):n.model=monaco.editor.createModel(n.model.value,n.model.language,n.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,n),o||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(r=>{let s=this._editor.getValue();this.zone.run(()=>{this.propagateChange(s),this._value=s})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Mn(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return e.\u0275fac=function(n){return new(n||e)(lt(vi),lt(by))},e.\u0275cmp=$i({type:e,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[Xr([{provide:nv,useExisting:Vu(()=>e),multi:!0}]),$l],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(n,o){n&1&&Et(0,"div",1,0)},styles:[`[_nghost-%COMP%] {
          display: block;
          height: 200px;
      }

      .editor-container[_ngcontent-%COMP%] {
          width: 100%;
          height: 98%;
      }`]}),e})();var AU=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:by,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$o({type:e}),e.\u0275inj=Uo({imports:[[In]]}),e})();var BN={};cS(BN,{arrayReplaceAt:()=>zN,assign:()=>Yv,escapeHtml:()=>dh,escapeRE:()=>Hue,fromCodePoint:()=>xy,has:()=>Rue,isMdAsciiPunct:()=>cf,isPunctChar:()=>lf,isSpace:()=>Pi,isString:()=>_M,isValidEntityCode:()=>DM,isWhiteSpace:()=>af,lib:()=>Gue,normalizeReference:()=>df,unescapeAll:()=>ch,unescapeMd:()=>Lue});var vM={};cS(vM,{decode:()=>yy,encode:()=>fM,format:()=>qv,parse:()=>Sy});var TU={};function rue(e){let i=TU[e];if(i)return i;i=TU[e]=[];for(let n=0;n<128;n++){let o=String.fromCharCode(n);i.push(o)}for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);i[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return i}function gM(e,i){typeof i!="string"&&(i=gM.defaultChars);let n=rue(i);return e.replace(/(%[a-f0-9]{2})+/gi,function(o){let r="";for(let s=0,l=o.length;s<l;s+=3){let c=parseInt(o.slice(s+1,s+3),16);if(c<128){r+=n[c];continue}if((c&224)===192&&s+3<l){let d=parseInt(o.slice(s+4,s+6),16);if((d&192)===128){let u=c<<6&1984|d&63;u<128?r+="\uFFFD\uFFFD":r+=String.fromCharCode(u),s+=3;continue}}if((c&240)===224&&s+6<l){let d=parseInt(o.slice(s+4,s+6),16),u=parseInt(o.slice(s+7,s+9),16);if((d&192)===128&&(u&192)===128){let h=c<<12&61440|d<<6&4032|u&63;h<2048||h>=55296&&h<=57343?r+="\uFFFD\uFFFD\uFFFD":r+=String.fromCharCode(h),s+=6;continue}}if((c&248)===240&&s+9<l){let d=parseInt(o.slice(s+4,s+6),16),u=parseInt(o.slice(s+7,s+9),16),h=parseInt(o.slice(s+10,s+12),16);if((d&192)===128&&(u&192)===128&&(h&192)===128){let g=c<<18&1835008|d<<12&258048|u<<6&4032|h&63;g<65536||g>1114111?r+="\uFFFD\uFFFD\uFFFD\uFFFD":(g-=65536,r+=String.fromCharCode(55296+(g>>10),56320+(g&1023))),s+=9;continue}}r+="\uFFFD"}return r})}gM.defaultChars=";/?:@&=+$,#";gM.componentChars="";var yy=gM;var FU={};function sue(e){let i=FU[e];if(i)return i;i=FU[e]=[];for(let n=0;n<128;n++){let o=String.fromCharCode(n);/^[0-9a-z]$/i.test(o)?i.push(o):i.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)i[e.charCodeAt(n)]=e[n];return i}function pM(e,i,n){typeof i!="string"&&(n=i,i=pM.defaultChars),typeof n>"u"&&(n=!0);let o=sue(i),r="";for(let s=0,l=e.length;s<l;s++){let c=e.charCodeAt(s);if(n&&c===37&&s+2<l&&/^[0-9a-f]{2}$/i.test(e.slice(s+1,s+3))){r+=e.slice(s,s+3),s+=2;continue}if(c<128){r+=o[c];continue}if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&s+1<l){let d=e.charCodeAt(s+1);if(d>=56320&&d<=57343){r+=encodeURIComponent(e[s]+e[s+1]),s++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(e[s])}return r}pM.defaultChars=";/?:@&=+$,-_.!~*'()#";pM.componentChars="-_.!~*'()";var fM=pM;function qv(e){let i="";return i+=e.protocol||"",i+=e.slashes?"//":"",i+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?i+="["+e.hostname+"]":i+=e.hostname||"",i+=e.port?":"+e.port:"",i+=e.pathname||"",i+=e.search||"",i+=e.hash||"",i}function mM(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var aue=/^([a-z0-9.+-]+:)/i,lue=/:[0-9]*$/,cue=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,due=["<",">",'"',"`"," ","\r",`
`,"	"],uue=["{","}","|","\\","^","`"].concat(due),hue=["'"].concat(uue),PU=["%","/","?",";","#"].concat(hue),LU=["/","?","#"],gue=255,NU=/^[+a-z0-9A-Z_-]{0,63}$/,pue=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,OU={javascript:!0,"javascript:":!0},zU={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function fue(e,i){if(e&&e instanceof mM)return e;let n=new mM;return n.parse(e,i),n}mM.prototype.parse=function(e,i){let n,o,r,s=e;if(s=s.trim(),!i&&e.split("#").length===1){let u=cue.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let l=aue.exec(s);if(l&&(l=l[0],n=l.toLowerCase(),this.protocol=l,s=s.substr(l.length)),(i||l||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=s.substr(0,2)==="//",r&&!(l&&OU[l])&&(s=s.substr(2),this.slashes=!0)),!OU[l]&&(r||l&&!zU[l])){let u=-1;for(let y=0;y<LU.length;y++)o=s.indexOf(LU[y]),o!==-1&&(u===-1||o<u)&&(u=o);let h,g;u===-1?g=s.lastIndexOf("@"):g=s.lastIndexOf("@",u),g!==-1&&(h=s.slice(0,g),s=s.slice(g+1),this.auth=h),u=-1;for(let y=0;y<PU.length;y++)o=s.indexOf(PU[y]),o!==-1&&(u===-1||o<u)&&(u=o);u===-1&&(u=s.length),s[u-1]===":"&&u--;let p=s.slice(0,u);s=s.slice(u),this.parseHost(p),this.hostname=this.hostname||"";let f=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!f){let y=this.hostname.split(/\./);for(let M=0,k=y.length;M<k;M++){let G=y[M];if(G&&!G.match(NU)){let J="";for(let $=0,_e=G.length;$<_e;$++)G.charCodeAt($)>127?J+="x":J+=G[$];if(!J.match(NU)){let $=y.slice(0,M),_e=y.slice(M+1),Te=G.match(pue);Te&&($.push(Te[1]),_e.unshift(Te[2])),_e.length&&(s=_e.join(".")+s),this.hostname=$.join(".");break}}}}this.hostname.length>gue&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}let c=s.indexOf("#");c!==-1&&(this.hash=s.substr(c),s=s.slice(0,c));let d=s.indexOf("?");return d!==-1&&(this.search=s.substr(d),s=s.slice(0,d)),s&&(this.pathname=s),zU[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};mM.prototype.parseHost=function(e){let i=lue.exec(e);i&&(i=i[0],i!==":"&&(this.port=i.substr(1)),e=e.substr(0,e.length-i.length)),e&&(this.hostname=e)};var Sy=fue;var AN={};cS(AN,{Any:()=>CM,Cc:()=>wM,Cf:()=>BU,P:()=>Kv,S:()=>bM,Z:()=>yM});var CM=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var wM=/[\0-\x1F\x7F-\x9F]/;var BU=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/;var Kv=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;var bM=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/;var yM=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;var VU=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0)));var HU=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(e=>e.charCodeAt(0)));var TN,mue=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),FN=(TN=String.fromCodePoint)!==null&&TN!==void 0?TN:function(e){let i="";return e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),i+=String.fromCharCode(e),i};function PN(e){var i;return e>=55296&&e<=57343||e>1114111?65533:(i=mue.get(e))!==null&&i!==void 0?i:e}var tr=function(e){return e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z",e}(tr||{}),vue=32,sf=function(e){return e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE",e}(sf||{});function LN(e){return e>=tr.ZERO&&e<=tr.NINE}function Cue(e){return e>=tr.UPPER_A&&e<=tr.UPPER_F||e>=tr.LOWER_A&&e<=tr.LOWER_F}function wue(e){return e>=tr.UPPER_A&&e<=tr.UPPER_Z||e>=tr.LOWER_A&&e<=tr.LOWER_Z||LN(e)}function bue(e){return e===tr.EQUALS||wue(e)}var er=function(e){return e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity",e}(er||{}),lh=function(e){return e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute",e}(lh||{}),SM=class{constructor(i,n,o){this.decodeTree=i,this.emitCodePoint=n,this.errors=o,this.state=er.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=lh.Strict}startEntity(i){this.decodeMode=i,this.state=er.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(i,n){switch(this.state){case er.EntityStart:return i.charCodeAt(n)===tr.NUM?(this.state=er.NumericStart,this.consumed+=1,this.stateNumericStart(i,n+1)):(this.state=er.NamedEntity,this.stateNamedEntity(i,n));case er.NumericStart:return this.stateNumericStart(i,n);case er.NumericDecimal:return this.stateNumericDecimal(i,n);case er.NumericHex:return this.stateNumericHex(i,n);case er.NamedEntity:return this.stateNamedEntity(i,n)}}stateNumericStart(i,n){return n>=i.length?-1:(i.charCodeAt(n)|vue)===tr.LOWER_X?(this.state=er.NumericHex,this.consumed+=1,this.stateNumericHex(i,n+1)):(this.state=er.NumericDecimal,this.stateNumericDecimal(i,n))}addToNumericResult(i,n,o,r){if(n!==o){let s=o-n;this.result=this.result*Math.pow(r,s)+parseInt(i.substr(n,s),r),this.consumed+=s}}stateNumericHex(i,n){let o=n;for(;n<i.length;){let r=i.charCodeAt(n);if(LN(r)||Cue(r))n+=1;else return this.addToNumericResult(i,o,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(i,o,n,16),-1}stateNumericDecimal(i,n){let o=n;for(;n<i.length;){let r=i.charCodeAt(n);if(LN(r))n+=1;else return this.addToNumericResult(i,o,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(i,o,n,10),-1}emitNumericEntity(i,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(i===tr.SEMI)this.consumed+=1;else if(this.decodeMode===lh.Strict)return 0;return this.emitCodePoint(PN(this.result),this.consumed),this.errors&&(i!==tr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(i,n){let{decodeTree:o}=this,r=o[this.treeIndex],s=(r&sf.VALUE_LENGTH)>>14;for(;n<i.length;n++,this.excess++){let l=i.charCodeAt(n);if(this.treeIndex=yue(o,r,this.treeIndex+Math.max(1,s),l),this.treeIndex<0)return this.result===0||this.decodeMode===lh.Attribute&&(s===0||bue(l))?0:this.emitNotTerminatedNamedEntity();if(r=o[this.treeIndex],s=(r&sf.VALUE_LENGTH)>>14,s!==0){if(l===tr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==lh.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var i;let{result:n,decodeTree:o}=this,r=(o[n]&sf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(i=this.errors)===null||i===void 0||i.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(i,n,o){let{decodeTree:r}=this;return this.emitCodePoint(n===1?r[i]&~sf.VALUE_LENGTH:r[i+1],o),n===3&&this.emitCodePoint(r[i+2],o),o}end(){var i;switch(this.state){case er.NamedEntity:return this.result!==0&&(this.decodeMode!==lh.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case er.NumericDecimal:return this.emitNumericEntity(0,2);case er.NumericHex:return this.emitNumericEntity(0,3);case er.NumericStart:return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case er.EntityStart:return 0}}};function GU(e){let i="",n=new SM(e,o=>i+=FN(o));return function(r,s){let l=0,c=0;for(;(c=r.indexOf("&",c))>=0;){i+=r.slice(l,c),n.startEntity(s);let u=n.write(r,c+1);if(u<0){l=c+n.end();break}l=c+u,c=u===0?l+1:l}let d=i+r.slice(l);return i="",d}}function yue(e,i,n,o){let r=(i&sf.BRANCH_LENGTH)>>7,s=i&sf.JUMP_TABLE;if(r===0)return s!==0&&o===s?n:-1;if(s){let d=o-s;return d<0||d>=r?-1:e[n+d]-1}let l=n,c=l+r-1;for(;l<=c;){let d=l+c>>>1,u=e[d];if(u<o)l=d+1;else if(u>o)c=d-1;else return e[d+r]}return-1}var Sue=GU(VU),tat=GU(HU);function xg(e,i=lh.Legacy){return Sue(e,i)}function xM(e){for(let i=1;i<e.length;i++)e[i][0]+=e[i-1][0]+1;return e}var xue=new Map(xM([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(xM([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(xM([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(xM([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var _ue=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Due=String.prototype.codePointAt!=null?(e,i)=>e.codePointAt(i):(e,i)=>(e.charCodeAt(i)&64512)===55296?(e.charCodeAt(i)-55296)*1024+e.charCodeAt(i+1)-56320+65536:e.charCodeAt(i);function NN(e,i){return function(o){let r,s=0,l="";for(;r=e.exec(o);)s!==r.index&&(l+=o.substring(s,r.index)),l+=i.get(r[0].charCodeAt(0)),s=r.index+1;return l+o.substring(s)}}var jU=NN(/[&<>'"]/g,_ue),WU=NN(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),UU=NN(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));function kue(e){return Object.prototype.toString.call(e)}function _M(e){return kue(e)==="[object String]"}var Iue=Object.prototype.hasOwnProperty;function Rue(e,i){return Iue.call(e,i)}function Yv(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(o){e[o]=n[o]})}}),e}function zN(e,i,n){return[].concat(e.slice(0,i),n,e.slice(i+1))}function DM(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function xy(e){if(e>65535){e-=65536;let i=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(i,n)}return String.fromCharCode(e)}var KU=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Aue=/&([a-z#][a-z0-9]{1,31});/gi,Tue=new RegExp(KU.source+"|"+Aue.source,"gi"),Fue=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Pue(e,i){if(i.charCodeAt(0)===35&&Fue.test(i)){let o=i[1].toLowerCase()==="x"?parseInt(i.slice(2),16):parseInt(i.slice(1),10);return DM(o)?xy(o):e}let n=xg(e);return n!==e?n:e}function Lue(e){return e.indexOf("\\")<0?e:e.replace(KU,"$1")}function ch(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Tue,function(i,n,o){return n||Pue(i,o)})}var Nue=/[&<>"]/,Oue=/[&<>"]/g,zue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Bue(e){return zue[e]}function dh(e){return Nue.test(e)?e.replace(Oue,Bue):e}var Vue=/[.?*+^$[\]\\(){}|-]/g;function Hue(e){return e.replace(Vue,"\\$&")}function Pi(e){switch(e){case 9:case 32:return!0}return!1}function af(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function lf(e){return Kv.test(e)||bM.test(e)}function cf(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function df(e){return e=e.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(e=e.replace(/ẞ/g,"\xDF")),e.toLowerCase().toUpperCase()}var Gue={mdurl:vM,ucmicro:AN};var jN={};cS(jN,{parseLinkDestination:()=>HN,parseLinkLabel:()=>VN,parseLinkTitle:()=>GN});function VN(e,i,n){let o,r,s,l,c=e.posMax,d=e.pos;for(e.pos=i+1,o=1;e.pos<c;){if(s=e.src.charCodeAt(e.pos),s===93&&(o--,o===0)){r=!0;break}if(l=e.pos,e.md.inline.skipToken(e),s===91){if(l===e.pos-1)o++;else if(n)return e.pos=d,-1}}let u=-1;return r&&(u=e.pos),e.pos=d,u}function HN(e,i,n){let o,r=i,s={ok:!1,pos:0,str:""};if(e.charCodeAt(r)===60){for(r++;r<n;){if(o=e.charCodeAt(r),o===10||o===60)return s;if(o===62)return s.pos=r+1,s.str=ch(e.slice(i+1,r)),s.ok=!0,s;if(o===92&&r+1<n){r+=2;continue}r++}return s}let l=0;for(;r<n&&(o=e.charCodeAt(r),!(o===32||o<32||o===127));){if(o===92&&r+1<n){if(e.charCodeAt(r+1)===32)break;r+=2;continue}if(o===40&&(l++,l>32))return s;if(o===41){if(l===0)break;l--}r++}return i===r||l!==0||(s.str=ch(e.slice(i,r)),s.pos=r,s.ok=!0),s}function GN(e,i,n,o){let r,s=i,l={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)l.str=o.str,l.marker=o.marker;else{if(s>=n)return l;let c=e.charCodeAt(s);if(c!==34&&c!==39&&c!==40)return l;i++,s++,c===40&&(c=41),l.marker=c}for(;s<n;){if(r=e.charCodeAt(s),r===l.marker)return l.pos=s+1,l.str+=ch(e.slice(i,s)),l.ok=!0,l;if(r===40&&l.marker===41)return l;r===92&&s+1<n&&s++,s++}return l.can_continue=!0,l.str+=ch(e.slice(i,s)),l}var lu={};lu.code_inline=function(e,i,n,o,r){let s=e[i];return"<code"+r.renderAttrs(s)+">"+dh(s.content)+"</code>"};lu.code_block=function(e,i,n,o,r){let s=e[i];return"<pre"+r.renderAttrs(s)+"><code>"+dh(e[i].content)+`</code></pre>
`};lu.fence=function(e,i,n,o,r){let s=e[i],l=s.info?ch(s.info).trim():"",c="",d="";if(l){let h=l.split(/(\s+)/g);c=h[0],d=h.slice(2).join("")}let u;if(n.highlight?u=n.highlight(s.content,c,d)||dh(s.content):u=dh(s.content),u.indexOf("<pre")===0)return u+`
`;if(l){let h=s.attrIndex("class"),g=s.attrs?s.attrs.slice():[];h<0?g.push(["class",n.langPrefix+c]):(g[h]=g[h].slice(),g[h][1]+=" "+n.langPrefix+c);let p={attrs:g};return`<pre><code${r.renderAttrs(p)}>${u}</code></pre>
`}return`<pre><code${r.renderAttrs(s)}>${u}</code></pre>
`};lu.image=function(e,i,n,o,r){let s=e[i];return s.attrs[s.attrIndex("alt")][1]=r.renderInlineAsText(s.children,n,o),r.renderToken(e,i,n)};lu.hardbreak=function(e,i,n){return n.xhtmlOut?`<br />
`:`<br>
`};lu.softbreak=function(e,i,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};lu.text=function(e,i){return dh(e[i].content)};lu.html_block=function(e,i){return e[i].content};lu.html_inline=function(e,i){return e[i].content};function Qv(){this.rules=Yv({},lu)}Qv.prototype.renderAttrs=function(i){let n,o,r;if(!i.attrs)return"";for(r="",n=0,o=i.attrs.length;n<o;n++)r+=" "+dh(i.attrs[n][0])+'="'+dh(i.attrs[n][1])+'"';return r};Qv.prototype.renderToken=function(i,n,o){let r=i[n],s="";if(r.hidden)return"";r.block&&r.nesting!==-1&&n&&i[n-1].hidden&&(s+=`
`),s+=(r.nesting===-1?"</":"<")+r.tag,s+=this.renderAttrs(r),r.nesting===0&&o.xhtmlOut&&(s+=" /");let l=!1;if(r.block&&(l=!0,r.nesting===1&&n+1<i.length)){let c=i[n+1];(c.type==="inline"||c.hidden||c.nesting===-1&&c.tag===r.tag)&&(l=!1)}return s+=l?`>
`:">",s};Qv.prototype.renderInline=function(e,i,n){let o="",r=this.rules;for(let s=0,l=e.length;s<l;s++){let c=e[s].type;typeof r[c]<"u"?o+=r[c](e,s,i,n,this):o+=this.renderToken(e,s,i)}return o};Qv.prototype.renderInlineAsText=function(e,i,n){let o="";for(let r=0,s=e.length;r<s;r++)switch(e[r].type){case"text":o+=e[r].content;break;case"image":o+=this.renderInlineAsText(e[r].children,i,n);break;case"html_inline":case"html_block":o+=e[r].content;break;case"softbreak":case"hardbreak":o+=`
`;break;default:}return o};Qv.prototype.render=function(e,i,n){let o="",r=this.rules;for(let s=0,l=e.length;s<l;s++){let c=e[s].type;c==="inline"?o+=this.renderInline(e[s].children,i,n):typeof r[c]<"u"?o+=r[c](e,s,i,n,this):o+=this.renderToken(e,s,i,n)}return o};var YU=Qv;function Cl(){this.__rules__=[],this.__cache__=null}Cl.prototype.__find__=function(e){for(let i=0;i<this.__rules__.length;i++)if(this.__rules__[i].name===e)return i;return-1};Cl.prototype.__compile__=function(){let e=this,i=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){i.indexOf(o)<0&&i.push(o)})}),e.__cache__={},i.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||e.__cache__[n].push(o.fn))})})};Cl.prototype.at=function(e,i,n){let o=this.__find__(e),r=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=i,this.__rules__[o].alt=r.alt||[],this.__cache__=null};Cl.prototype.before=function(e,i,n,o){let r=this.__find__(e),s=o||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:i,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Cl.prototype.after=function(e,i,n,o){let r=this.__find__(e),s=o||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:i,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Cl.prototype.push=function(e,i,n){let o=n||{};this.__rules__.push({name:e,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null};Cl.prototype.enable=function(e,i){Array.isArray(e)||(e=[e]);let n=[];return e.forEach(function(o){let r=this.__find__(o);if(r<0){if(i)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[r].enabled=!0,n.push(o)},this),this.__cache__=null,n};Cl.prototype.enableOnly=function(e,i){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,i)};Cl.prototype.disable=function(e,i){Array.isArray(e)||(e=[e]);let n=[];return e.forEach(function(o){let r=this.__find__(o);if(r<0){if(i)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[r].enabled=!1,n.push(o)},this),this.__cache__=null,n};Cl.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var uf=Cl;function Zv(e,i,n){this.type=e,this.tag=i,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Zv.prototype.attrIndex=function(i){if(!this.attrs)return-1;let n=this.attrs;for(let o=0,r=n.length;o<r;o++)if(n[o][0]===i)return o;return-1};Zv.prototype.attrPush=function(i){this.attrs?this.attrs.push(i):this.attrs=[i]};Zv.prototype.attrSet=function(i,n){let o=this.attrIndex(i),r=[i,n];o<0?this.attrPush(r):this.attrs[o]=r};Zv.prototype.attrGet=function(i){let n=this.attrIndex(i),o=null;return n>=0&&(o=this.attrs[n][1]),o};Zv.prototype.attrJoin=function(i,n){let o=this.attrIndex(i);o<0?this.attrPush([i,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n};var uh=Zv;function QU(e,i,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=i}QU.prototype.Token=uh;var ZU=QU;var jue=/\r\n?|\n/g,Wue=/\0/g;function WN(e){let i;i=e.src.replace(jue,`
`),i=i.replace(Wue,"\uFFFD"),e.src=i}function UN(e){let i;e.inlineMode?(i=new e.Token("inline","",0),i.content=e.src,i.map=[0,1],i.children=[],e.tokens.push(i)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function $N(e){let i=e.tokens;for(let n=0,o=i.length;n<o;n++){let r=i[n];r.type==="inline"&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}function Uue(e){return/^<a[>\s]/i.test(e)}function $ue(e){return/^<\/a\s*>/i.test(e)}function qN(e){let i=e.tokens;if(e.md.options.linkify)for(let n=0,o=i.length;n<o;n++){if(i[n].type!=="inline"||!e.md.linkify.pretest(i[n].content))continue;let r=i[n].children,s=0;for(let l=r.length-1;l>=0;l--){let c=r[l];if(c.type==="link_close"){for(l--;r[l].level!==c.level&&r[l].type!=="link_open";)l--;continue}if(c.type==="html_inline"&&(Uue(c.content)&&s>0&&s--,$ue(c.content)&&s++),!(s>0)&&c.type==="text"&&e.md.linkify.test(c.content)){let d=c.content,u=e.md.linkify.match(d),h=[],g=c.level,p=0;u.length>0&&u[0].index===0&&l>0&&r[l-1].type==="text_special"&&(u=u.slice(1));for(let f=0;f<u.length;f++){let y=u[f].url,M=e.md.normalizeLink(y);if(!e.md.validateLink(M))continue;let k=u[f].text;u[f].schema?u[f].schema==="mailto:"&&!/^mailto:/i.test(k)?k=e.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):k=e.md.normalizeLinkText(k):k=e.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,"");let G=u[f].index;if(G>p){let Te=new e.Token("text","",0);Te.content=d.slice(p,G),Te.level=g,h.push(Te)}let J=new e.Token("link_open","a",1);J.attrs=[["href",M]],J.level=g++,J.markup="linkify",J.info="auto",h.push(J);let $=new e.Token("text","",0);$.content=k,$.level=g,h.push($);let _e=new e.Token("link_close","a",-1);_e.level=--g,_e.markup="linkify",_e.info="auto",h.push(_e),p=u[f].lastIndex}if(p<d.length){let f=new e.Token("text","",0);f.content=d.slice(p),f.level=g,h.push(f)}i[n].children=r=zN(r,l,h)}}}}var XU=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,que=/\((c|tm|r)\)/i,Kue=/\((c|tm|r)\)/ig,Yue={c:"\xA9",r:"\xAE",tm:"\u2122"};function Que(e,i){return Yue[i.toLowerCase()]}function Zue(e){let i=0;for(let n=e.length-1;n>=0;n--){let o=e[n];o.type==="text"&&!i&&(o.content=o.content.replace(Kue,Que)),o.type==="link_open"&&o.info==="auto"&&i--,o.type==="link_close"&&o.info==="auto"&&i++}}function Xue(e){let i=0;for(let n=e.length-1;n>=0;n--){let o=e[n];o.type==="text"&&!i&&XU.test(o.content)&&(o.content=o.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),o.type==="link_open"&&o.info==="auto"&&i--,o.type==="link_close"&&o.info==="auto"&&i++}}function KN(e){let i;if(e.md.options.typographer)for(i=e.tokens.length-1;i>=0;i--)e.tokens[i].type==="inline"&&(que.test(e.tokens[i].content)&&Zue(e.tokens[i].children),XU.test(e.tokens[i].content)&&Xue(e.tokens[i].children))}var Jue=/['"]/,JU=/['"]/g,e$="\u2019";function EM(e,i,n){return e.slice(0,i)+n+e.slice(i+1)}function ehe(e,i){let n,o=[];for(let r=0;r<e.length;r++){let s=e[r],l=e[r].level;for(n=o.length-1;n>=0&&!(o[n].level<=l);n--);if(o.length=n+1,s.type!=="text")continue;let c=s.content,d=0,u=c.length;e:for(;d<u;){JU.lastIndex=d;let h=JU.exec(c);if(!h)break;let g=!0,p=!0;d=h.index+1;let f=h[0]==="'",y=32;if(h.index-1>=0)y=c.charCodeAt(h.index-1);else for(n=r-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){y=e[n].content.charCodeAt(e[n].content.length-1);break}let M=32;if(d<u)M=c.charCodeAt(d);else for(n=r+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){M=e[n].content.charCodeAt(0);break}let k=cf(y)||lf(String.fromCharCode(y)),G=cf(M)||lf(String.fromCharCode(M)),J=af(y),$=af(M);if($?g=!1:G&&(J||k||(g=!1)),J?p=!1:k&&($||G||(p=!1)),M===34&&h[0]==='"'&&y>=48&&y<=57&&(p=g=!1),g&&p&&(g=k,p=G),!g&&!p){f&&(s.content=EM(s.content,h.index,e$));continue}if(p)for(n=o.length-1;n>=0;n--){let _e=o[n];if(o[n].level<l)break;if(_e.single===f&&o[n].level===l){_e=o[n];let Te,Pe;f?(Te=i.md.options.quotes[2],Pe=i.md.options.quotes[3]):(Te=i.md.options.quotes[0],Pe=i.md.options.quotes[1]),s.content=EM(s.content,h.index,Pe),e[_e.token].content=EM(e[_e.token].content,_e.pos,Te),d+=Pe.length-1,_e.token===r&&(d+=Te.length-1),c=s.content,u=c.length,o.length=n;continue e}}g?o.push({token:r,pos:h.index,single:f,level:l}):p&&f&&(s.content=EM(s.content,h.index,e$))}}}function YN(e){if(e.md.options.typographer)for(let i=e.tokens.length-1;i>=0;i--)e.tokens[i].type!=="inline"||!Jue.test(e.tokens[i].content)||ehe(e.tokens[i].children,e)}function QN(e){let i,n,o=e.tokens,r=o.length;for(let s=0;s<r;s++){if(o[s].type!=="inline")continue;let l=o[s].children,c=l.length;for(i=0;i<c;i++)l[i].type==="text_special"&&(l[i].type="text");for(i=n=0;i<c;i++)l[i].type==="text"&&i+1<c&&l[i+1].type==="text"?l[i+1].content=l[i].content+l[i+1].content:(i!==n&&(l[n]=l[i]),n++);i!==n&&(l.length=n)}}var ZN=[["normalize",WN],["block",UN],["inline",$N],["linkify",qN],["replacements",KN],["smartquotes",YN],["text_join",QN]];function XN(){this.ruler=new uf;for(let e=0;e<ZN.length;e++)this.ruler.push(ZN[e][0],ZN[e][1])}XN.prototype.process=function(e){let i=this.ruler.getRules("");for(let n=0,o=i.length;n<o;n++)i[n](e)};XN.prototype.State=ZU;var t$=XN;function cu(e,i,n,o){this.src=e,this.md=i,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;let r=this.src;for(let s=0,l=0,c=0,d=0,u=r.length,h=!1;l<u;l++){let g=r.charCodeAt(l);if(!h)if(Pi(g)){c++,g===9?d+=4-d%4:d++;continue}else h=!0;(g===10||l===u-1)&&(g!==10&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(c),this.sCount.push(d),this.bsCount.push(0),h=!1,c=0,d=0,s=l+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}cu.prototype.push=function(e,i,n){let o=new uh(e,i,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o};cu.prototype.isEmpty=function(i){return this.bMarks[i]+this.tShift[i]>=this.eMarks[i]};cu.prototype.skipEmptyLines=function(i){for(let n=this.lineMax;i<n&&!(this.bMarks[i]+this.tShift[i]<this.eMarks[i]);i++);return i};cu.prototype.skipSpaces=function(i){for(let n=this.src.length;i<n;i++){let o=this.src.charCodeAt(i);if(!Pi(o))break}return i};cu.prototype.skipSpacesBack=function(i,n){if(i<=n)return i;for(;i>n;)if(!Pi(this.src.charCodeAt(--i)))return i+1;return i};cu.prototype.skipChars=function(i,n){for(let o=this.src.length;i<o&&this.src.charCodeAt(i)===n;i++);return i};cu.prototype.skipCharsBack=function(i,n,o){if(i<=o)return i;for(;i>o;)if(n!==this.src.charCodeAt(--i))return i+1;return i};cu.prototype.getLines=function(i,n,o,r){if(i>=n)return"";let s=new Array(n-i);for(let l=0,c=i;c<n;c++,l++){let d=0,u=this.bMarks[c],h=u,g;for(c+1<n||r?g=this.eMarks[c]+1:g=this.eMarks[c];h<g&&d<o;){let p=this.src.charCodeAt(h);if(Pi(p))p===9?d+=4-(d+this.bsCount[c])%4:d++;else if(h-u<this.tShift[c])d++;else break;h++}d>o?s[l]=new Array(d-o+1).join(" ")+this.src.slice(h,g):s[l]=this.src.slice(h,g)}return s.join("")};cu.prototype.Token=uh;var i$=cu;var the=65536;function JN(e,i){let n=e.bMarks[i]+e.tShift[i],o=e.eMarks[i];return e.src.slice(n,o)}function n$(e){let i=[],n=e.length,o=0,r=e.charCodeAt(o),s=!1,l=0,c="";for(;o<n;)r===124&&(s?(c+=e.substring(l,o-1),l=o):(i.push(c+e.substring(l,o)),c="",l=o+1)),s=r===92,o++,r=e.charCodeAt(o);return i.push(c+e.substring(l)),i}function eO(e,i,n,o){if(i+2>n)return!1;let r=i+1;if(e.sCount[r]<e.blkIndent||e.sCount[r]-e.blkIndent>=4)return!1;let s=e.bMarks[r]+e.tShift[r];if(s>=e.eMarks[r])return!1;let l=e.src.charCodeAt(s++);if(l!==124&&l!==45&&l!==58||s>=e.eMarks[r])return!1;let c=e.src.charCodeAt(s++);if(c!==124&&c!==45&&c!==58&&!Pi(c)||l===45&&Pi(c))return!1;for(;s<e.eMarks[r];){let _e=e.src.charCodeAt(s);if(_e!==124&&_e!==45&&_e!==58&&!Pi(_e))return!1;s++}let d=JN(e,i+1),u=d.split("|"),h=[];for(let _e=0;_e<u.length;_e++){let Te=u[_e].trim();if(!Te){if(_e===0||_e===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(Te))return!1;Te.charCodeAt(Te.length-1)===58?h.push(Te.charCodeAt(0)===58?"center":"right"):Te.charCodeAt(0)===58?h.push("left"):h.push("")}if(d=JN(e,i).trim(),d.indexOf("|")===-1||e.sCount[i]-e.blkIndent>=4)return!1;u=n$(d),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();let g=u.length;if(g===0||g!==h.length)return!1;if(o)return!0;let p=e.parentType;e.parentType="table";let f=e.md.block.ruler.getRules("blockquote"),y=e.push("table_open","table",1),M=[i,0];y.map=M;let k=e.push("thead_open","thead",1);k.map=[i,i+1];let G=e.push("tr_open","tr",1);G.map=[i,i+1];for(let _e=0;_e<u.length;_e++){let Te=e.push("th_open","th",1);h[_e]&&(Te.attrs=[["style","text-align:"+h[_e]]]);let Pe=e.push("inline","",0);Pe.content=u[_e].trim(),Pe.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let J,$=0;for(r=i+2;r<n&&!(e.sCount[r]<e.blkIndent);r++){let _e=!1;for(let Pe=0,$e=f.length;Pe<$e;Pe++)if(f[Pe](e,r,n,!0)){_e=!0;break}if(_e||(d=JN(e,r).trim(),!d)||e.sCount[r]-e.blkIndent>=4||(u=n$(d),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),$+=g-u.length,$>the))break;if(r===i+2){let Pe=e.push("tbody_open","tbody",1);Pe.map=J=[i+2,0]}let Te=e.push("tr_open","tr",1);Te.map=[r,r+1];for(let Pe=0;Pe<g;Pe++){let $e=e.push("td_open","td",1);h[Pe]&&($e.attrs=[["style","text-align:"+h[Pe]]]);let nt=e.push("inline","",0);nt.content=u[Pe]?u[Pe].trim():"",nt.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return J&&(e.push("tbody_close","tbody",-1),J[1]=r),e.push("table_close","table",-1),M[1]=r,e.parentType=p,e.line=r,!0}function tO(e,i,n){if(e.sCount[i]-e.blkIndent<4)return!1;let o=i+1,r=o;for(;o<n;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,r=o;continue}break}e.line=r;let s=e.push("code_block","code",0);return s.content=e.getLines(i,r,4+e.blkIndent,!1)+`
`,s.map=[i,e.line],!0}function iO(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4||r+3>s)return!1;let l=e.src.charCodeAt(r);if(l!==126&&l!==96)return!1;let c=r;r=e.skipChars(r,l);let d=r-c;if(d<3)return!1;let u=e.src.slice(c,r),h=e.src.slice(r,s);if(l===96&&h.indexOf(String.fromCharCode(l))>=0)return!1;if(o)return!0;let g=i,p=!1;for(;g++,!(g>=n||(r=c=e.bMarks[g]+e.tShift[g],s=e.eMarks[g],r<s&&e.sCount[g]<e.blkIndent));)if(e.src.charCodeAt(r)===l&&!(e.sCount[g]-e.blkIndent>=4)&&(r=e.skipChars(r,l),!(r-c<d)&&(r=e.skipSpaces(r),!(r<s)))){p=!0;break}d=e.sCount[i],e.line=g+(p?1:0);let f=e.push("fence","code",0);return f.info=h,f.content=e.getLines(i+1,g,d,!0),f.markup=u,f.map=[i,e.line],!0}function nO(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i],l=e.lineMax;if(e.sCount[i]-e.blkIndent>=4||e.src.charCodeAt(r)!==62)return!1;if(o)return!0;let c=[],d=[],u=[],h=[],g=e.md.block.ruler.getRules("blockquote"),p=e.parentType;e.parentType="blockquote";let f=!1,y;for(y=i;y<n;y++){let $=e.sCount[y]<e.blkIndent;if(r=e.bMarks[y]+e.tShift[y],s=e.eMarks[y],r>=s)break;if(e.src.charCodeAt(r++)===62&&!$){let Te=e.sCount[y]+1,Pe,$e;e.src.charCodeAt(r)===32?(r++,Te++,$e=!1,Pe=!0):e.src.charCodeAt(r)===9?(Pe=!0,(e.bsCount[y]+Te)%4===3?(r++,Te++,$e=!1):$e=!0):Pe=!1;let nt=Te;for(c.push(e.bMarks[y]),e.bMarks[y]=r;r<s;){let at=e.src.charCodeAt(r);if(Pi(at))at===9?nt+=4-(nt+e.bsCount[y]+($e?1:0))%4:nt++;else break;r++}f=r>=s,d.push(e.bsCount[y]),e.bsCount[y]=e.sCount[y]+1+(Pe?1:0),u.push(e.sCount[y]),e.sCount[y]=nt-Te,h.push(e.tShift[y]),e.tShift[y]=r-e.bMarks[y];continue}if(f)break;let _e=!1;for(let Te=0,Pe=g.length;Te<Pe;Te++)if(g[Te](e,y,n,!0)){_e=!0;break}if(_e){e.lineMax=y,e.blkIndent!==0&&(c.push(e.bMarks[y]),d.push(e.bsCount[y]),h.push(e.tShift[y]),u.push(e.sCount[y]),e.sCount[y]-=e.blkIndent);break}c.push(e.bMarks[y]),d.push(e.bsCount[y]),h.push(e.tShift[y]),u.push(e.sCount[y]),e.sCount[y]=-1}let M=e.blkIndent;e.blkIndent=0;let k=e.push("blockquote_open","blockquote",1);k.markup=">";let G=[i,0];k.map=G,e.md.block.tokenize(e,i,y);let J=e.push("blockquote_close","blockquote",-1);J.markup=">",e.lineMax=l,e.parentType=p,G[1]=e.line;for(let $=0;$<h.length;$++)e.bMarks[$+i]=c[$],e.tShift[$+i]=h[$],e.sCount[$+i]=u[$],e.bsCount[$+i]=d[$];return e.blkIndent=M,!0}function oO(e,i,n,o){let r=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4)return!1;let s=e.bMarks[i]+e.tShift[i],l=e.src.charCodeAt(s++);if(l!==42&&l!==45&&l!==95)return!1;let c=1;for(;s<r;){let u=e.src.charCodeAt(s++);if(u!==l&&!Pi(u))return!1;u===l&&c++}if(c<3)return!1;if(o)return!0;e.line=i+1;let d=e.push("hr","hr",0);return d.map=[i,e.line],d.markup=Array(c+1).join(String.fromCharCode(l)),!0}function o$(e,i){let n=e.eMarks[i],o=e.bMarks[i]+e.tShift[i],r=e.src.charCodeAt(o++);if(r!==42&&r!==45&&r!==43)return-1;if(o<n){let s=e.src.charCodeAt(o);if(!Pi(s))return-1}return o}function r$(e,i){let n=e.bMarks[i]+e.tShift[i],o=e.eMarks[i],r=n;if(r+1>=o)return-1;let s=e.src.charCodeAt(r++);if(s<48||s>57)return-1;for(;;){if(r>=o)return-1;if(s=e.src.charCodeAt(r++),s>=48&&s<=57){if(r-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return r<o&&(s=e.src.charCodeAt(r),!Pi(s))?-1:r}function ihe(e,i){let n=e.level+2;for(let o=i+2,r=e.tokens.length-2;o<r;o++)e.tokens[o].level===n&&e.tokens[o].type==="paragraph_open"&&(e.tokens[o+2].hidden=!0,e.tokens[o].hidden=!0,o+=2)}function rO(e,i,n,o){let r,s,l,c,d=i,u=!0;if(e.sCount[d]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[d]-e.listIndent>=4&&e.sCount[d]<e.blkIndent)return!1;let h=!1;o&&e.parentType==="paragraph"&&e.sCount[d]>=e.blkIndent&&(h=!0);let g,p,f;if((f=r$(e,d))>=0){if(g=!0,l=e.bMarks[d]+e.tShift[d],p=Number(e.src.slice(l,f-1)),h&&p!==1)return!1}else if((f=o$(e,d))>=0)g=!1;else return!1;if(h&&e.skipSpaces(f)>=e.eMarks[d])return!1;if(o)return!0;let y=e.src.charCodeAt(f-1),M=e.tokens.length;g?(c=e.push("ordered_list_open","ol",1),p!==1&&(c.attrs=[["start",p]])):c=e.push("bullet_list_open","ul",1);let k=[d,0];c.map=k,c.markup=String.fromCharCode(y);let G=!1,J=e.md.block.ruler.getRules("list"),$=e.parentType;for(e.parentType="list";d<n;){s=f,r=e.eMarks[d];let _e=e.sCount[d]+f-(e.bMarks[d]+e.tShift[d]),Te=_e;for(;s<r;){let Cn=e.src.charCodeAt(s);if(Cn===9)Te+=4-(Te+e.bsCount[d])%4;else if(Cn===32)Te++;else break;s++}let Pe=s,$e;Pe>=r?$e=1:$e=Te-_e,$e>4&&($e=1);let nt=_e+$e;c=e.push("list_item_open","li",1),c.markup=String.fromCharCode(y);let at=[d,0];c.map=at,g&&(c.info=e.src.slice(l,f-1));let Ft=e.tight,Zt=e.tShift[d],xn=e.sCount[d],Ei=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=nt,e.tight=!0,e.tShift[d]=Pe-e.bMarks[d],e.sCount[d]=Te,Pe>=r&&e.isEmpty(d+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,d,n,!0),(!e.tight||G)&&(u=!1),G=e.line-d>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=Ei,e.tShift[d]=Zt,e.sCount[d]=xn,e.tight=Ft,c=e.push("list_item_close","li",-1),c.markup=String.fromCharCode(y),d=e.line,at[1]=d,d>=n||e.sCount[d]<e.blkIndent||e.sCount[d]-e.blkIndent>=4)break;let hn=!1;for(let Cn=0,ss=J.length;Cn<ss;Cn++)if(J[Cn](e,d,n,!0)){hn=!0;break}if(hn)break;if(g){if(f=r$(e,d),f<0)break;l=e.bMarks[d]+e.tShift[d]}else if(f=o$(e,d),f<0)break;if(y!==e.src.charCodeAt(f-1))break}return g?c=e.push("ordered_list_close","ol",-1):c=e.push("bullet_list_close","ul",-1),c.markup=String.fromCharCode(y),k[1]=d,e.line=d,e.parentType=$,u&&ihe(e,M),!0}function sO(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i],l=i+1;if(e.sCount[i]-e.blkIndent>=4||e.src.charCodeAt(r)!==91)return!1;function c(J){let $=e.lineMax;if(J>=$||e.isEmpty(J))return null;let _e=!1;if(e.sCount[J]-e.blkIndent>3&&(_e=!0),e.sCount[J]<0&&(_e=!0),!_e){let $e=e.md.block.ruler.getRules("reference"),nt=e.parentType;e.parentType="reference";let at=!1;for(let Ft=0,Zt=$e.length;Ft<Zt;Ft++)if($e[Ft](e,J,$,!0)){at=!0;break}if(e.parentType=nt,at)return null}let Te=e.bMarks[J]+e.tShift[J],Pe=e.eMarks[J];return e.src.slice(Te,Pe+1)}let d=e.src.slice(r,s+1);s=d.length;let u=-1;for(r=1;r<s;r++){let J=d.charCodeAt(r);if(J===91)return!1;if(J===93){u=r;break}else if(J===10){let $=c(l);$!==null&&(d+=$,s=d.length,l++)}else if(J===92&&(r++,r<s&&d.charCodeAt(r)===10)){let $=c(l);$!==null&&(d+=$,s=d.length,l++)}}if(u<0||d.charCodeAt(u+1)!==58)return!1;for(r=u+2;r<s;r++){let J=d.charCodeAt(r);if(J===10){let $=c(l);$!==null&&(d+=$,s=d.length,l++)}else if(!Pi(J))break}let h=e.md.helpers.parseLinkDestination(d,r,s);if(!h.ok)return!1;let g=e.md.normalizeLink(h.str);if(!e.md.validateLink(g))return!1;r=h.pos;let p=r,f=l,y=r;for(;r<s;r++){let J=d.charCodeAt(r);if(J===10){let $=c(l);$!==null&&(d+=$,s=d.length,l++)}else if(!Pi(J))break}let M=e.md.helpers.parseLinkTitle(d,r,s);for(;M.can_continue;){let J=c(l);if(J===null)break;d+=J,r=s,s=d.length,l++,M=e.md.helpers.parseLinkTitle(d,r,s,M)}let k;for(r<s&&y!==r&&M.ok?(k=M.str,r=M.pos):(k="",r=p,l=f);r<s;){let J=d.charCodeAt(r);if(!Pi(J))break;r++}if(r<s&&d.charCodeAt(r)!==10&&k)for(k="",r=p,l=f;r<s;){let J=d.charCodeAt(r);if(!Pi(J))break;r++}if(r<s&&d.charCodeAt(r)!==10)return!1;let G=df(d.slice(1,u));return G?(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[G]>"u"&&(e.env.references[G]={title:k,href:g}),e.line=l),!0):!1}var s$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];var nhe="[a-zA-Z_:][a-zA-Z0-9:._-]*",ohe="[^\"'=<>`\\x00-\\x20]+",rhe="'[^']*'",she='"[^"]*"',ahe="(?:"+ohe+"|"+rhe+"|"+she+")",lhe="(?:\\s+"+nhe+"(?:\\s*=\\s*"+ahe+")?)",a$="<[A-Za-z][A-Za-z0-9\\-]*"+lhe+"*\\s*\\/?>",l$="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",che="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",dhe="<[?][\\s\\S]*?[?]>",uhe="<![A-Za-z][^>]*>",hhe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",c$=new RegExp("^(?:"+a$+"|"+l$+"|"+che+"|"+dhe+"|"+uhe+"|"+hhe+")"),d$=new RegExp("^(?:"+a$+"|"+l$+")");var Xv=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+s$.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(d$.source+"\\s*$"),/^$/,!1]];function aO(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(r)!==60)return!1;let l=e.src.slice(r,s),c=0;for(;c<Xv.length&&!Xv[c][0].test(l);c++);if(c===Xv.length)return!1;if(o)return Xv[c][2];let d=i+1;if(!Xv[c][1].test(l)){for(;d<n&&!(e.sCount[d]<e.blkIndent);d++)if(r=e.bMarks[d]+e.tShift[d],s=e.eMarks[d],l=e.src.slice(r,s),Xv[c][1].test(l)){l.length!==0&&d++;break}}e.line=d;let u=e.push("html_block","",0);return u.map=[i,d],u.content=e.getLines(i,d,e.blkIndent,!0),!0}function lO(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4)return!1;let l=e.src.charCodeAt(r);if(l!==35||r>=s)return!1;let c=1;for(l=e.src.charCodeAt(++r);l===35&&r<s&&c<=6;)c++,l=e.src.charCodeAt(++r);if(c>6||r<s&&!Pi(l))return!1;if(o)return!0;s=e.skipSpacesBack(s,r);let d=e.skipCharsBack(s,35,r);d>r&&Pi(e.src.charCodeAt(d-1))&&(s=d),e.line=i+1;let u=e.push("heading_open","h"+String(c),1);u.markup="########".slice(0,c),u.map=[i,e.line];let h=e.push("inline","",0);h.content=e.src.slice(r,s).trim(),h.map=[i,e.line],h.children=[];let g=e.push("heading_close","h"+String(c),-1);return g.markup="########".slice(0,c),!0}function cO(e,i,n){let o=e.md.block.ruler.getRules("paragraph");if(e.sCount[i]-e.blkIndent>=4)return!1;let r=e.parentType;e.parentType="paragraph";let s=0,l,c=i+1;for(;c<n&&!e.isEmpty(c);c++){if(e.sCount[c]-e.blkIndent>3)continue;if(e.sCount[c]>=e.blkIndent){let f=e.bMarks[c]+e.tShift[c],y=e.eMarks[c];if(f<y&&(l=e.src.charCodeAt(f),(l===45||l===61)&&(f=e.skipChars(f,l),f=e.skipSpaces(f),f>=y))){s=l===61?1:2;break}}if(e.sCount[c]<0)continue;let p=!1;for(let f=0,y=o.length;f<y;f++)if(o[f](e,c,n,!0)){p=!0;break}if(p)break}if(!s)return!1;let d=e.getLines(i,c,e.blkIndent,!1).trim();e.line=c+1;let u=e.push("heading_open","h"+String(s),1);u.markup=String.fromCharCode(l),u.map=[i,e.line];let h=e.push("inline","",0);h.content=d,h.map=[i,e.line-1],h.children=[];let g=e.push("heading_close","h"+String(s),-1);return g.markup=String.fromCharCode(l),e.parentType=r,!0}function dO(e,i,n){let o=e.md.block.ruler.getRules("paragraph"),r=e.parentType,s=i+1;for(e.parentType="paragraph";s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)continue;let u=!1;for(let h=0,g=o.length;h<g;h++)if(o[h](e,s,n,!0)){u=!0;break}if(u)break}let l=e.getLines(i,s,e.blkIndent,!1).trim();e.line=s;let c=e.push("paragraph_open","p",1);c.map=[i,e.line];let d=e.push("inline","",0);return d.content=l,d.map=[i,e.line],d.children=[],e.push("paragraph_close","p",-1),e.parentType=r,!0}var MM=[["table",eO,["paragraph","reference"]],["code",tO],["fence",iO,["paragraph","reference","blockquote","list"]],["blockquote",nO,["paragraph","reference","blockquote","list"]],["hr",oO,["paragraph","reference","blockquote","list"]],["list",rO,["paragraph","reference","blockquote"]],["reference",sO],["html_block",aO,["paragraph","reference","blockquote"]],["heading",lO,["paragraph","reference","blockquote"]],["lheading",cO],["paragraph",dO]];function kM(){this.ruler=new uf;for(let e=0;e<MM.length;e++)this.ruler.push(MM[e][0],MM[e][1],{alt:(MM[e][2]||[]).slice()})}kM.prototype.tokenize=function(e,i,n){let o=this.ruler.getRules(""),r=o.length,s=e.md.options.maxNesting,l=i,c=!1;for(;l<n&&(e.line=l=e.skipEmptyLines(l),!(l>=n||e.sCount[l]<e.blkIndent));){if(e.level>=s){e.line=n;break}let d=e.line,u=!1;for(let h=0;h<r;h++)if(u=o[h](e,l,n,!1),u){if(d>=e.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),l=e.line,l<n&&e.isEmpty(l)&&(c=!0,l++,e.line=l)}};kM.prototype.parse=function(e,i,n,o){if(!e)return;let r=new this.State(e,i,n,o);this.tokenize(r,r.line,r.lineMax)};kM.prototype.State=i$;var u$=kM;function _y(e,i,n,o){this.src=e,this.env=n,this.md=i,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}_y.prototype.pushPending=function(){let e=new uh("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};_y.prototype.push=function(e,i,n){this.pending&&this.pushPending();let o=new uh(e,i,n),r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(r),o};_y.prototype.scanDelims=function(e,i){let n=this.posMax,o=this.src.charCodeAt(e),r=e>0?this.src.charCodeAt(e-1):32,s=e;for(;s<n&&this.src.charCodeAt(s)===o;)s++;let l=s-e,c=s<n?this.src.charCodeAt(s):32,d=cf(r)||lf(String.fromCharCode(r)),u=cf(c)||lf(String.fromCharCode(c)),h=af(r),g=af(c),p=!g&&(!u||h||d),f=!h&&(!d||g||u);return{can_open:p&&(i||!f||d),can_close:f&&(i||!p||u),length:l}};_y.prototype.Token=uh;var h$=_y;function ghe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function uO(e,i){let n=e.pos;for(;n<e.posMax&&!ghe(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(i||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}var phe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function hO(e,i){if(!e.md.options.linkify||e.linkLevel>0)return!1;let n=e.pos,o=e.posMax;if(n+3>o||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;let r=e.pending.match(phe);if(!r)return!1;let s=r[1],l=e.md.linkify.matchAtStart(e.src.slice(n-s.length));if(!l)return!1;let c=l.url;if(c.length<=s.length)return!1;c=c.replace(/\*+$/,"");let d=e.md.normalizeLink(c);if(!e.md.validateLink(d))return!1;if(!i){e.pending=e.pending.slice(0,-s.length);let u=e.push("link_open","a",1);u.attrs=[["href",d]],u.markup="linkify",u.info="auto";let h=e.push("text","",0);h.content=e.md.normalizeLinkText(c);let g=e.push("link_close","a",-1);g.markup="linkify",g.info="auto"}return e.pos+=c.length-s.length,!0}function gO(e,i){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;let o=e.pending.length-1,r=e.posMax;if(!i)if(o>=0&&e.pending.charCodeAt(o)===32)if(o>=1&&e.pending.charCodeAt(o-1)===32){let s=o-1;for(;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<r&&Pi(e.src.charCodeAt(n));)n++;return e.pos=n,!0}var pO=[];for(let e=0;e<256;e++)pO.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){pO[e.charCodeAt(0)]=1});function fO(e,i){let n=e.pos,o=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=o))return!1;let r=e.src.charCodeAt(n);if(r===10){for(i||e.push("hardbreak","br",0),n++;n<o&&(r=e.src.charCodeAt(n),!!Pi(r));)n++;return e.pos=n,!0}let s=e.src[n];if(r>=55296&&r<=56319&&n+1<o){let c=e.src.charCodeAt(n+1);c>=56320&&c<=57343&&(s+=e.src[n+1],n++)}let l="\\"+s;if(!i){let c=e.push("text_special","",0);r<256&&pO[r]!==0?c.content=s:c.content=l,c.markup=l,c.info="escape"}return e.pos=n+1,!0}function mO(e,i){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;let r=n;n++;let s=e.posMax;for(;n<s&&e.src.charCodeAt(n)===96;)n++;let l=e.src.slice(r,n),c=l.length;if(e.backticksScanned&&(e.backticks[c]||0)<=r)return i||(e.pending+=l),e.pos+=c,!0;let d=n,u;for(;(u=e.src.indexOf("`",d))!==-1;){for(d=u+1;d<s&&e.src.charCodeAt(d)===96;)d++;let h=d-u;if(h===c){if(!i){let g=e.push("code_inline","code",0);g.markup=l,g.content=e.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=d,!0}e.backticks[h]=u}return e.backticksScanned=!0,i||(e.pending+=l),e.pos+=c,!0}function fhe(e,i){let n=e.pos,o=e.src.charCodeAt(n);if(i||o!==126)return!1;let r=e.scanDelims(e.pos,!0),s=r.length,l=String.fromCharCode(o);if(s<2)return!1;let c;s%2&&(c=e.push("text","",0),c.content=l,s--);for(let d=0;d<s;d+=2)c=e.push("text","",0),c.content=l+l,e.delimiters.push({marker:o,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0}function g$(e,i){let n,o=[],r=i.length;for(let s=0;s<r;s++){let l=i[s];if(l.marker!==126||l.end===-1)continue;let c=i[l.end];n=e.tokens[l.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[c.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[c.token-1].type==="text"&&e.tokens[c.token-1].content==="~"&&o.push(c.token-1)}for(;o.length;){let s=o.pop(),l=s+1;for(;l<e.tokens.length&&e.tokens[l].type==="s_close";)l++;l--,s!==l&&(n=e.tokens[l],e.tokens[l]=e.tokens[s],e.tokens[s]=n)}}function mhe(e){let i=e.tokens_meta,n=e.tokens_meta.length;g$(e,e.delimiters);for(let o=0;o<n;o++)i[o]&&i[o].delimiters&&g$(e,i[o].delimiters)}var vO={tokenize:fhe,postProcess:mhe};function vhe(e,i){let n=e.pos,o=e.src.charCodeAt(n);if(i||o!==95&&o!==42)return!1;let r=e.scanDelims(e.pos,o===42);for(let s=0;s<r.length;s++){let l=e.push("text","",0);l.content=String.fromCharCode(o),e.delimiters.push({marker:o,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return e.pos+=r.length,!0}function p$(e,i){let n=i.length;for(let o=n-1;o>=0;o--){let r=i[o];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;let s=i[r.end],l=o>0&&i[o-1].end===r.end+1&&i[o-1].marker===r.marker&&i[o-1].token===r.token-1&&i[r.end+1].token===s.token+1,c=String.fromCharCode(r.marker),d=e.tokens[r.token];d.type=l?"strong_open":"em_open",d.tag=l?"strong":"em",d.nesting=1,d.markup=l?c+c:c,d.content="";let u=e.tokens[s.token];u.type=l?"strong_close":"em_close",u.tag=l?"strong":"em",u.nesting=-1,u.markup=l?c+c:c,u.content="",l&&(e.tokens[i[o-1].token].content="",e.tokens[i[r.end+1].token].content="",o--)}}function Che(e){let i=e.tokens_meta,n=e.tokens_meta.length;p$(e,e.delimiters);for(let o=0;o<n;o++)i[o]&&i[o].delimiters&&p$(e,i[o].delimiters)}var CO={tokenize:vhe,postProcess:Che};function wO(e,i){let n,o,r,s,l="",c="",d=e.pos,u=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;let h=e.pos,g=e.posMax,p=e.pos+1,f=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(f<0)return!1;let y=f+1;if(y<g&&e.src.charCodeAt(y)===40){for(u=!1,y++;y<g&&(n=e.src.charCodeAt(y),!(!Pi(n)&&n!==10));y++);if(y>=g)return!1;if(d=y,r=e.md.helpers.parseLinkDestination(e.src,y,e.posMax),r.ok){for(l=e.md.normalizeLink(r.str),e.md.validateLink(l)?y=r.pos:l="",d=y;y<g&&(n=e.src.charCodeAt(y),!(!Pi(n)&&n!==10));y++);if(r=e.md.helpers.parseLinkTitle(e.src,y,e.posMax),y<g&&d!==y&&r.ok)for(c=r.str,y=r.pos;y<g&&(n=e.src.charCodeAt(y),!(!Pi(n)&&n!==10));y++);}(y>=g||e.src.charCodeAt(y)!==41)&&(u=!0),y++}if(u){if(typeof e.env.references>"u")return!1;if(y<g&&e.src.charCodeAt(y)===91?(d=y+1,y=e.md.helpers.parseLinkLabel(e,y),y>=0?o=e.src.slice(d,y++):y=f+1):y=f+1,o||(o=e.src.slice(p,f)),s=e.env.references[df(o)],!s)return e.pos=h,!1;l=s.href,c=s.title}if(!i){e.pos=p,e.posMax=f;let M=e.push("link_open","a",1),k=[["href",l]];M.attrs=k,c&&k.push(["title",c]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=y,e.posMax=g,!0}function bO(e,i){let n,o,r,s,l,c,d,u,h="",g=e.pos,p=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;let f=e.pos+2,y=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(y<0)return!1;if(s=y+1,s<p&&e.src.charCodeAt(s)===40){for(s++;s<p&&(n=e.src.charCodeAt(s),!(!Pi(n)&&n!==10));s++);if(s>=p)return!1;for(u=s,c=e.md.helpers.parseLinkDestination(e.src,s,e.posMax),c.ok&&(h=e.md.normalizeLink(c.str),e.md.validateLink(h)?s=c.pos:h=""),u=s;s<p&&(n=e.src.charCodeAt(s),!(!Pi(n)&&n!==10));s++);if(c=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<p&&u!==s&&c.ok)for(d=c.str,s=c.pos;s<p&&(n=e.src.charCodeAt(s),!(!Pi(n)&&n!==10));s++);else d="";if(s>=p||e.src.charCodeAt(s)!==41)return e.pos=g,!1;s++}else{if(typeof e.env.references>"u")return!1;if(s<p&&e.src.charCodeAt(s)===91?(u=s+1,s=e.md.helpers.parseLinkLabel(e,s),s>=0?r=e.src.slice(u,s++):s=y+1):s=y+1,r||(r=e.src.slice(f,y)),l=e.env.references[df(r)],!l)return e.pos=g,!1;h=l.href,d=l.title}if(!i){o=e.src.slice(f,y);let M=[];e.md.inline.parse(o,e.md,e.env,M);let k=e.push("image","img",0),G=[["src",h],["alt",""]];k.attrs=G,k.children=M,k.content=o,d&&G.push(["title",d])}return e.pos=s,e.posMax=p,!0}var whe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,bhe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function yO(e,i){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;let o=e.pos,r=e.posMax;for(;;){if(++n>=r)return!1;let l=e.src.charCodeAt(n);if(l===60)return!1;if(l===62)break}let s=e.src.slice(o+1,n);if(bhe.test(s)){let l=e.md.normalizeLink(s);if(!e.md.validateLink(l))return!1;if(!i){let c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="autolink",c.info="auto";let d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);let u=e.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return e.pos+=s.length+2,!0}if(whe.test(s)){let l=e.md.normalizeLink("mailto:"+s);if(!e.md.validateLink(l))return!1;if(!i){let c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="autolink",c.info="auto";let d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);let u=e.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return e.pos+=s.length+2,!0}return!1}function yhe(e){return/^<a[>\s]/i.test(e)}function She(e){return/^<\/a\s*>/i.test(e)}function xhe(e){let i=e|32;return i>=97&&i<=122}function SO(e,i){if(!e.md.options.html)return!1;let n=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==60||o+2>=n)return!1;let r=e.src.charCodeAt(o+1);if(r!==33&&r!==63&&r!==47&&!xhe(r))return!1;let s=e.src.slice(o).match(c$);if(!s)return!1;if(!i){let l=e.push("html_inline","",0);l.content=s[0],yhe(l.content)&&e.linkLevel++,She(l.content)&&e.linkLevel--}return e.pos+=s[0].length,!0}var _he=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Dhe=/^&([a-z][a-z0-9]{1,31});/i;function xO(e,i){let n=e.pos,o=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=o)return!1;if(e.src.charCodeAt(n+1)===35){let s=e.src.slice(n).match(_he);if(s){if(!i){let l=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),c=e.push("text_special","",0);c.content=DM(l)?xy(l):xy(65533),c.markup=s[0],c.info="entity"}return e.pos+=s[0].length,!0}}else{let s=e.src.slice(n).match(Dhe);if(s){let l=xg(s[0]);if(l!==s[0]){if(!i){let c=e.push("text_special","",0);c.content=l,c.markup=s[0],c.info="entity"}return e.pos+=s[0].length,!0}}}return!1}function f$(e){let i={},n=e.length;if(!n)return;let o=0,r=-2,s=[];for(let l=0;l<n;l++){let c=e[l];if(s.push(0),(e[o].marker!==c.marker||r!==c.token-1)&&(o=l),r=c.token,c.length=c.length||0,!c.close)continue;i.hasOwnProperty(c.marker)||(i[c.marker]=[-1,-1,-1,-1,-1,-1]);let d=i[c.marker][(c.open?3:0)+c.length%3],u=o-s[o]-1,h=u;for(;u>d;u-=s[u]+1){let g=e[u];if(g.marker===c.marker&&g.open&&g.end<0){let p=!1;if((g.close||c.open)&&(g.length+c.length)%3===0&&(g.length%3!==0||c.length%3!==0)&&(p=!0),!p){let f=u>0&&!e[u-1].open?s[u-1]+1:0;s[l]=l-u+f,s[u]=f,c.open=!1,g.end=l,g.close=!1,h=-1,r=-2;break}}}h!==-1&&(i[c.marker][(c.open?3:0)+(c.length||0)%3]=h)}}function _O(e){let i=e.tokens_meta,n=e.tokens_meta.length;f$(e.delimiters);for(let o=0;o<n;o++)i[o]&&i[o].delimiters&&f$(i[o].delimiters)}function DO(e){let i,n,o=0,r=e.tokens,s=e.tokens.length;for(i=n=0;i<s;i++)r[i].nesting<0&&o--,r[i].level=o,r[i].nesting>0&&o++,r[i].type==="text"&&i+1<s&&r[i+1].type==="text"?r[i+1].content=r[i].content+r[i+1].content:(i!==n&&(r[n]=r[i]),n++);i!==n&&(r.length=n)}var EO=[["text",uO],["linkify",hO],["newline",gO],["escape",fO],["backticks",mO],["strikethrough",vO.tokenize],["emphasis",CO.tokenize],["link",wO],["image",bO],["autolink",yO],["html_inline",SO],["entity",xO]],MO=[["balance_pairs",_O],["strikethrough",vO.postProcess],["emphasis",CO.postProcess],["fragments_join",DO]];function Dy(){this.ruler=new uf;for(let e=0;e<EO.length;e++)this.ruler.push(EO[e][0],EO[e][1]);this.ruler2=new uf;for(let e=0;e<MO.length;e++)this.ruler2.push(MO[e][0],MO[e][1])}Dy.prototype.skipToken=function(e){let i=e.pos,n=this.ruler.getRules(""),o=n.length,r=e.md.options.maxNesting,s=e.cache;if(typeof s[i]<"u"){e.pos=s[i];return}let l=!1;if(e.level<r){for(let c=0;c<o;c++)if(e.level++,l=n[c](e,!0),e.level--,l){if(i>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;l||e.pos++,s[i]=e.pos};Dy.prototype.tokenize=function(e){let i=this.ruler.getRules(""),n=i.length,o=e.posMax,r=e.md.options.maxNesting;for(;e.pos<o;){let s=e.pos,l=!1;if(e.level<r){for(let c=0;c<n;c++)if(l=i[c](e,!1),l){if(s>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(l){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Dy.prototype.parse=function(e,i,n,o){let r=new this.State(e,i,n,o);this.tokenize(r);let s=this.ruler2.getRules(""),l=s.length;for(let c=0;c<l;c++)s[c](r)};Dy.prototype.State=h$;var m$=Dy;function v$(e){let i={};e=e||{},i.src_Any=CM.source,i.src_Cc=wM.source,i.src_Z=yM.source,i.src_P=Kv.source,i.src_ZPCc=[i.src_Z,i.src_P,i.src_Cc].join("|"),i.src_ZCc=[i.src_Z,i.src_Cc].join("|");let n="[><\uFF5C]";return i.src_pseudo_letter="(?:(?!"+n+"|"+i.src_ZPCc+")"+i.src_Any+")",i.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",i.src_auth="(?:(?:(?!"+i.src_ZCc+"|[@/\\[\\]()]).)+@)?",i.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",i.src_host_terminator="(?=$|"+n+"|"+i.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+i.src_ZPCc+"))",i.src_path="(?:[/?#](?:(?!"+i.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+i.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+i.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+i.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+i.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+i.src_ZCc+"|[']).)+\\'|\\'(?="+i.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+i.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+i.src_ZCc+"|$)|;(?!"+i.src_ZCc+"|$)|\\!+(?!"+i.src_ZCc+"|[!]|$)|\\?(?!"+i.src_ZCc+"|[?]|$))+|\\/)?",i.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',i.src_xn="xn--[a-z0-9\\-]{1,59}",i.src_domain_root="(?:"+i.src_xn+"|"+i.src_pseudo_letter+"{1,63})",i.src_domain="(?:"+i.src_xn+"|(?:"+i.src_pseudo_letter+")|(?:"+i.src_pseudo_letter+"(?:-|"+i.src_pseudo_letter+"){0,61}"+i.src_pseudo_letter+"))",i.src_host="(?:(?:(?:(?:"+i.src_domain+")\\.)*"+i.src_domain+"))",i.tpl_host_fuzzy="(?:"+i.src_ip4+"|(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%)))",i.tpl_host_no_ip_fuzzy="(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%))",i.src_host_strict=i.src_host+i.src_host_terminator,i.tpl_host_fuzzy_strict=i.tpl_host_fuzzy+i.src_host_terminator,i.src_host_port_strict=i.src_host+i.src_port+i.src_host_terminator,i.tpl_host_port_fuzzy_strict=i.tpl_host_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_port_no_ip_fuzzy_strict=i.tpl_host_no_ip_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+i.src_ZPCc+"|>|$))",i.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+i.src_ZCc+")("+i.src_email_name+"@"+i.tpl_host_fuzzy_strict+")",i.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+i.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+i.tpl_host_port_fuzzy_strict+i.src_path+")",i.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+i.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+i.tpl_host_port_no_ip_fuzzy_strict+i.src_path+")",i}function kO(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(o){e[o]=n[o]})}),e}function RM(e){return Object.prototype.toString.call(e)}function Ehe(e){return RM(e)==="[object String]"}function Mhe(e){return RM(e)==="[object Object]"}function khe(e){return RM(e)==="[object RegExp]"}function C$(e){return RM(e)==="[object Function]"}function Ihe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var b$={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Rhe(e){return Object.keys(e||{}).reduce(function(i,n){return i||b$.hasOwnProperty(n)},!1)}var Ahe={"http:":{validate:function(e,i,n){let o=e.slice(i);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,i,n){let o=e.slice(i);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?i>=3&&e[i-3]===":"||i>=3&&e[i-3]==="/"?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,i,n){let o=e.slice(i);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},The="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Fhe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function Phe(e){e.__index__=-1,e.__text_cache__=""}function Lhe(e){return function(i,n){let o=i.slice(n);return e.test(o)?o.match(e)[0].length:0}}function w$(){return function(e,i){i.normalize(e)}}function IM(e){let i=e.re=v$(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(The),n.push(i.src_xn),i.src_tlds=n.join("|");function o(c){return c.replace("%TLDS%",i.src_tlds)}i.email_fuzzy=RegExp(o(i.tpl_email_fuzzy),"i"),i.link_fuzzy=RegExp(o(i.tpl_link_fuzzy),"i"),i.link_no_ip_fuzzy=RegExp(o(i.tpl_link_no_ip_fuzzy),"i"),i.host_fuzzy_test=RegExp(o(i.tpl_host_fuzzy_test),"i");let r=[];e.__compiled__={};function s(c,d){throw new Error('(LinkifyIt) Invalid schema "'+c+'": '+d)}Object.keys(e.__schemas__).forEach(function(c){let d=e.__schemas__[c];if(d===null)return;let u={validate:null,link:null};if(e.__compiled__[c]=u,Mhe(d)){khe(d.validate)?u.validate=Lhe(d.validate):C$(d.validate)?u.validate=d.validate:s(c,d),C$(d.normalize)?u.normalize=d.normalize:d.normalize?s(c,d):u.normalize=w$();return}if(Ehe(d)){r.push(c);return}s(c,d)}),r.forEach(function(c){e.__compiled__[e.__schemas__[c]]&&(e.__compiled__[c].validate=e.__compiled__[e.__schemas__[c]].validate,e.__compiled__[c].normalize=e.__compiled__[e.__schemas__[c]].normalize)}),e.__compiled__[""]={validate:null,normalize:w$()};let l=Object.keys(e.__compiled__).filter(function(c){return c.length>0&&e.__compiled__[c]}).map(Ihe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+i.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+i.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Phe(e)}function Nhe(e,i){let n=e.__index__,o=e.__last_index__,r=e.__text_cache__.slice(n,o);this.schema=e.__schema__.toLowerCase(),this.index=n+i,this.lastIndex=o+i,this.raw=r,this.text=r,this.url=r}function IO(e,i){let n=new Nhe(e,i);return e.__compiled__[n.schema].normalize(n,e),n}function bs(e,i){if(!(this instanceof bs))return new bs(e,i);i||Rhe(e)&&(i=e,e={}),this.__opts__=kO({},b$,i),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=kO({},Ahe,e),this.__compiled__={},this.__tlds__=Fhe,this.__tlds_replaced__=!1,this.re={},IM(this)}bs.prototype.add=function(i,n){return this.__schemas__[i]=n,IM(this),this};bs.prototype.set=function(i){return this.__opts__=kO(this.__opts__,i),this};bs.prototype.test=function(i){if(this.__text_cache__=i,this.__index__=-1,!i.length)return!1;let n,o,r,s,l,c,d,u,h;if(this.re.schema_test.test(i)){for(d=this.re.schema_search,d.lastIndex=0;(n=d.exec(i))!==null;)if(s=this.testSchemaAt(i,n[2],d.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=i.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(o=i.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=o.index+o[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(h=i.indexOf("@"),h>=0&&(r=i.match(this.re.email_fuzzy))!==null&&(l=r.index+r[1].length,c=r.index+r[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&c>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=c))),this.__index__>=0};bs.prototype.pretest=function(i){return this.re.pretest.test(i)};bs.prototype.testSchemaAt=function(i,n,o){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(i,o,this):0};bs.prototype.match=function(i){let n=[],o=0;this.__index__>=0&&this.__text_cache__===i&&(n.push(IO(this,o)),o=this.__last_index__);let r=o?i.slice(o):i;for(;this.test(r);)n.push(IO(this,o)),r=r.slice(this.__last_index__),o+=this.__last_index__;return n.length?n:null};bs.prototype.matchAtStart=function(i){if(this.__text_cache__=i,this.__index__=-1,!i.length)return null;let n=this.re.schema_at_start.exec(i);if(!n)return null;let o=this.testSchemaAt(i,n[2],n[0].length);return o?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o,IO(this,0)):null};bs.prototype.tlds=function(i,n){return i=Array.isArray(i)?i:[i],n?(this.__tlds__=this.__tlds__.concat(i).sort().filter(function(o,r,s){return o!==s[r-1]}).reverse(),IM(this),this):(this.__tlds__=i.slice(),this.__tlds_replaced__=!0,IM(this),this)};bs.prototype.normalize=function(i){i.schema||(i.url="http://"+i.url),i.schema==="mailto:"&&!/^mailto:/i.test(i.url)&&(i.url="mailto:"+i.url)};bs.prototype.onCompile=function(){};var y$=bs;var x$="-",Ohe=/^xn--/,zhe=/[^\0-\x7F]/,Bhe=/[\x2E\u3002\uFF0E\uFF61]/g,Vhe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},RO=35,du=Math.floor,AO=String.fromCharCode;function _g(e){throw new RangeError(Vhe[e])}function Hhe(e,i){let n=[],o=e.length;for(;o--;)n[o]=i(e[o]);return n}function _$(e,i){let n=e.split("@"),o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(Bhe,".");let r=e.split("."),s=Hhe(r,i).join(".");return o+s}function D$(e){let i=[],n=0,o=e.length;for(;n<o;){let r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){let s=e.charCodeAt(n++);(s&64512)==56320?i.push(((r&1023)<<10)+(s&1023)+65536):(i.push(r),n--)}else i.push(r)}return i}var Ghe=e=>String.fromCodePoint(...e),jhe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:36},S$=function(e,i){return e+22+75*(e<26)-((i!=0)<<5)},E$=function(e,i,n){let o=0;for(e=n?du(e/700):e>>1,e+=du(e/i);e>RO*26>>1;o+=36)e=du(e/RO);return du(o+(RO+1)*e/(e+38))},M$=function(e){let i=[],n=e.length,o=0,r=128,s=72,l=e.lastIndexOf(x$);l<0&&(l=0);for(let c=0;c<l;++c)e.charCodeAt(c)>=128&&_g("not-basic"),i.push(e.charCodeAt(c));for(let c=l>0?l+1:0;c<n;){let d=o;for(let h=1,g=36;;g+=36){c>=n&&_g("invalid-input");let p=jhe(e.charCodeAt(c++));p>=36&&_g("invalid-input"),p>du((2147483647-o)/h)&&_g("overflow"),o+=p*h;let f=g<=s?1:g>=s+26?26:g-s;if(p<f)break;let y=36-f;h>du(2147483647/y)&&_g("overflow"),h*=y}let u=i.length+1;s=E$(o-d,u,d==0),du(o/u)>2147483647-r&&_g("overflow"),r+=du(o/u),o%=u,i.splice(o++,0,r)}return String.fromCodePoint(...i)},k$=function(e){let i=[];e=D$(e);let n=e.length,o=128,r=0,s=72;for(let d of e)d<128&&i.push(AO(d));let l=i.length,c=l;for(l&&i.push(x$);c<n;){let d=2147483647;for(let h of e)h>=o&&h<d&&(d=h);let u=c+1;d-o>du((2147483647-r)/u)&&_g("overflow"),r+=(d-o)*u,o=d;for(let h of e)if(h<o&&++r>2147483647&&_g("overflow"),h===o){let g=r;for(let p=36;;p+=36){let f=p<=s?1:p>=s+26?26:p-s;if(g<f)break;let y=g-f,M=36-f;i.push(AO(S$(f+y%M,0))),g=du(y/M)}i.push(AO(S$(g,0))),s=E$(r,u,c===l),r=0,++c}++r,++o}return i.join("")},Whe=function(e){return _$(e,function(i){return Ohe.test(i)?M$(i.slice(4).toLowerCase()):i})},Uhe=function(e){return _$(e,function(i){return zhe.test(i)?"xn--"+k$(i):i})},$he={version:"2.3.1",ucs2:{decode:D$,encode:Ghe},decode:M$,encode:k$,toASCII:Uhe,toUnicode:Whe};var TO=$he;var I$={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}};var R$={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}};var A$={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}};var qhe={default:I$,zero:R$,commonmark:A$},Khe=/^(vbscript|javascript|file|data):/,Yhe=/^data:image\/(gif|png|jpeg|webp);/;function Qhe(e){let i=e.trim().toLowerCase();return Khe.test(i)?Yhe.test(i):!0}var T$=["http:","https:","mailto:"];function Zhe(e){let i=Sy(e,!0);if(i.hostname&&(!i.protocol||T$.indexOf(i.protocol)>=0))try{i.hostname=TO.toASCII(i.hostname)}catch{}return fM(qv(i))}function Xhe(e){let i=Sy(e,!0);if(i.hostname&&(!i.protocol||T$.indexOf(i.protocol)>=0))try{i.hostname=TO.toUnicode(i.hostname)}catch{}return yy(qv(i),yy.defaultChars+"%")}function Ws(e,i){if(!(this instanceof Ws))return new Ws(e,i);i||_M(e)||(i=e||{},e="default"),this.inline=new m$,this.block=new u$,this.core=new t$,this.renderer=new YU,this.linkify=new y$,this.validateLink=Qhe,this.normalizeLink=Zhe,this.normalizeLinkText=Xhe,this.utils=BN,this.helpers=Yv({},jN),this.options={},this.configure(e),i&&this.set(i)}Ws.prototype.set=function(e){return Yv(this.options,e),this};Ws.prototype.configure=function(e){let i=this;if(_M(e)){let n=e;if(e=qhe[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&i.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&i[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&i[n].ruler2.enableOnly(e.components[n].rules2)}),this};Ws.prototype.enable=function(e,i){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));let o=e.filter(function(r){return n.indexOf(r)<0});if(o.length&&!i)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};Ws.prototype.disable=function(e,i){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));let o=e.filter(function(r){return n.indexOf(r)<0});if(o.length&&!i)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};Ws.prototype.use=function(e){let i=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,i),this};Ws.prototype.parse=function(e,i){if(typeof e!="string")throw new Error("Input data should be a String");let n=new this.core.State(e,this,i);return this.core.process(n),n.tokens};Ws.prototype.render=function(e,i){return i=i||{},this.renderer.render(this.parse(e,i),this.options,i)};Ws.prototype.parseInline=function(e,i){let n=new this.core.State(e,this,i);return n.inlineMode=!0,this.core.process(n),n.tokens};Ws.prototype.renderInline=function(e,i){return i=i||{},this.renderer.render(this.parseInline(e,i),this.options,i)};var Ey=Ws;var J$=yh(X$(),1);var Eg=J$.default;function LM(e){let i=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},o={begin:"^[-\\*]{3,}",end:"$"},r={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},l={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,d={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:i.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},h={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},g=e.inherit(u,{contains:[]}),p=e.inherit(h,{contains:[]});u.contains.push(p),h.contains.push(g);let f=[n,d];return[u,h,g,p].forEach(G=>{G.contains=G.contains.concat(f)}),f=f.concat(u,h),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,s,u,h,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},r,o,d,l,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function Gge(e,i){if(e&1){let n=no();He(0,"div",7)(1,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyBold())}),Et(2,"i",8),Oe(),He(3,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyItalic())}),Et(4,"i",9),Oe(),He(5,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyHeading())}),Et(6,"i",10),Oe(),He(7,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyStrike())}),Et(8,"i",11),Oe(),He(9,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyBulletedList())}),Et(10,"i",12),Oe(),He(11,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyNumberedList())}),Et(12,"i",13),Oe(),He(13,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyCheckList())}),Et(14,"i",14),Oe(),He(15,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyQuote())}),Et(16,"i",15),Oe(),He(17,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyCodeTag())}),Et(18,"i",16),Oe(),He(19,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyTable())}),Et(20,"i",17),Oe(),He(21,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyLink())}),Et(22,"i",18),Oe(),He(23,"a",2),Ht("click",function(){ri(n);let r=Gt();return si(r.applyImg())}),Et(24,"i",19),Oe(),He(25,"a"),Et(26,"i",20),Oe(),He(27,"a"),Et(28,"i",21),Oe()()}}function jge(e,i){if(e&1){let n=no();Uu(0),He(1,"ngx-monaco-editor",22),fo("ngModelChange",function(r){ri(n);let s=Gt();return So(s.markdownContent,r)||(s.markdownContent=r),si(r)}),Ht("input",function(){ri(n);let r=Gt();return si(r.onContentChange())})("onInit",function(r){ri(n);let s=Gt();return si(s.onEditorInit(r))}),Oe(),$u()}if(e&2){let n=Gt();tt(),po("ngModel",n.markdownContent),ht("options",n.editorOptions)}}function Wge(e,i){if(e&1&&Et(0,"div",23),e&2){let n=Gt();ht("innerHTML",n.renderedContent,zm)}}Eg.registerLanguage("markdown",LM);var NM=(()=>{let i=class i{constructor(){this.markdownContent=`# Markdown Editor

Type **Markdown** here!`,this.renderedContent="",this.editorOptions={mode:"markdown",lineNumbers:!0,theme:"vs-dark",lineWrapping:!0,language:"markdown",minimap:{enabled:!1}},this.isPreview=!1,this.md=new Ey({highlight:(o,r)=>{if(r&&Eg.getLanguage(r))try{return`<pre class="hljs"><code>${Eg.highlight(o,{language:r}).value}</code></pre>`}catch{}return`<pre class="hljs"><code>${this.md.utils.escapeHtml(o)}</code></pre>`}}),this.updatePreview()}updatePreview(){this.renderedContent=this.md.render(this.markdownContent)}onContentChange(){this.updatePreview()}onEditorInit(o){this.editorInstance=o}applyBold(){this.addMarkdown("**","**")}applyItalic(){this.addMarkdown("*","*")}applyHeading(){this.addMarkdown("# ","")}applyStrike(){this.addMarkdown("~~","~~")}applyBulletedList(){this.addMarkdown("- ",`
`)}applyNumberedList(){this.addMarkdown("1. ",`
`)}applyQuote(){this.addMarkdown("> ",`
`)}applyCodeTag(){this.addMarkdown("`","`")}applyTable(){this.addMarkdown(`| Header | Header |
| ------ | ------ |
| Cell   | Cell   |
`,"")}applyLink(){this.addMarkdown("[Link Text](http://)","")}applyImg(){this.addMarkdown("![Alt Text](http://)","")}applyCheckList(){this.addMarkdown("- [ ] List item","")}addMarkdown(o,r){if(!this.editorInstance)return;let s=this.editorInstance.getSelection(),l=this.editorInstance.getModel();if(!s||!l)return;let{startLineNumber:c,startColumn:d,endLineNumber:u,endColumn:h}=s,g=l.getValueInRange(s),p=o+g+r;l.pushEditOperations([],[{range:new xz(c,d,u,h),text:p}],()=>null);let f=r?{lineNumber:u,column:h+o.length+g.length}:{lineNumber:c,column:d+o.length+g.length};this.editorInstance.setPosition(f),this.editorInstance.focus()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=$i({type:i,selectors:[["skp-markdown-editor"]],standalone:!0,features:[Xr([{provide:by,useValue:{baseUrl:"",defaultOptions:{scrollBeyondLastLine:!1},onMonacoLoad:()=>{console.log("Sraban",window.monaco)}}}]),rn],decls:11,vars:4,consts:[[1,"editor-container"],[1,"toggle-bar"],[3,"click"],["class","toolbar",4,"ngIf"],[4,"ngIf"],["class","preview",3,"innerHTML",4,"ngIf"],["href","#"],[1,"toolbar"],[1,"icon-format_bold"],[1,"icon-format_italic"],[1,"icon-format_size"],[1,"icon-strikethrough_s"],[1,"icon-format_list_bulleted"],[1,"icon-format_list_numbered"],[1,"icon-library_add_check"],[1,"icon-format_quote"],[1,"icon-code"],[1,"icon-table_view"],[1,"icon-link"],[1,"icon-insert_photo"],[1,"icon-format_color_fill"],[1,"icon-format_color_text"],[1,"editor",3,"ngModelChange","input","onInit","ngModel","options"],[1,"preview",3,"innerHTML"]],template:function(r,s){r&1&&(Et(0,"br")(1,"br"),He(2,"div",0)(3,"div",1)(4,"button",2),Ht("click",function(){return s.isPreview=!s.isPreview}),Ye(5),Oe(),ui(6,Gge,29,0,"div",3),Oe(),ui(7,jge,2,2,"ng-container",4)(8,Wge,1,1,"div",5),Oe(),He(9,"a",6),Ye(10,"https://microsoft.github.io/monaco-editor/monarch.html"),Oe()),r&2&&(tt(5),dn(s.isPreview?"Edit":"Preview"),tt(),ht("ngIf",!s.isPreview),tt(),ht("ngIf",!s.isPreview),tt(),ht("ngIf",s.isPreview))},dependencies:[Oo,Gs,fs,In,pr,AU,RU],styles:[".editor-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;border:1px solid #ccc;border-radius:5px;overflow:hidden}.toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;background-color:#f4f4f4;border-bottom:1px solid #ccc}.toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;border:none;transition:background-color .3s}.toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{display:block;background-color:gray}.editor[_ngcontent-%COMP%]{width:100%;height:80vh;border:none;outline:none;resize:none;font-family:monospace;font-size:16px}.preview[_ngcontent-%COMP%]{padding:20px;background-color:#f9f9f9;border-top:1px solid #ccc;white-space:pre-wrap}  .preview>*{margin-top:0!important;line-height:.8!important}.toggle-bar[_ngcontent-%COMP%]{display:flex;gap:10px;background-color:#f4f4f4;border-bottom:1px solid #ccc}.toggle-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#007bff;color:#fff;border:none;transition:background-color .3s}.toggle-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let e=i;return e})();var Us=(()=>{let i=class i{constructor(){this.db=null,this.initializeDatabase()}initializeDatabase(){return Nn(this,null,function*(){let o=window.indexedDB.open("myDatabase",1);o.onerror=r=>{console.error("Database error:",r)},o.onsuccess=r=>{this.db=r.target.result,console.log("Database initialized successfully")},o.onupgradeneeded=r=>{this.db=r.target.result,this.db?.objectStoreNames.contains("myDataStore")||this.db?.createObjectStore("myDataStore",{keyPath:"id"}),this.db?.objectStoreNames.contains("myTreeStore")||this.db?.createObjectStore("myTreeStore",{keyPath:"id"}),this.db?.objectStoreNames.contains("myCalenderStore")||this.db?.createObjectStore("myCalenderStore",{keyPath:"id"})}})}addItem(o){if(!this.db)return;let r=this.db.transaction(["myDataStore"],"readwrite");r.objectStore("myDataStore").add(o),r.oncomplete=()=>{console.log("Item added:",o)},r.onerror=l=>{console.error("Transaction error:",l)}}deleteItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let l=this.db.transaction(["myDataStore"],"readwrite");l.objectStore("myDataStore").delete(o),l.oncomplete=()=>{console.log("Item added:",o),r(o)},l.onerror=d=>{console.error("Transaction error:",d),s(d)}})}updateItem(o){if(!this.db)return;let r=this.db.transaction(["myDataStore"],"readwrite");r.objectStore("myDataStore").put(o),r.oncomplete=()=>{console.log("Item added:",o)},r.onerror=l=>{console.error("Transaction error:",l)}}getItemCursor(){if(!this.db)return;let r=this.db.transaction(["myDataStore"],"readwrite").objectStore("myDataStore");r.openCursor().onsuccess=s=>{let l=s?.target?.result;l?(console.log("Record:",l.value),l.continue()):console.log("No more records")}}getItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let d=this.db.transaction(["myDataStore"],"readwrite").objectStore("myDataStore").get(o);d.onsuccess=()=>{console.log("Record retrieved:",d.result),r(d.result)}})}retrievingAllItem(){return new Promise((o,r)=>{if(!this.db)return r("Database not initialized----------------");let c=this.db.transaction(["myDataStore"],"readonly").objectStore("myDataStore").getAll();c.onsuccess=()=>o(c.result),c.onerror=()=>r("Failed to retrieve items")})}clearAllItem(){if(!this.db)return;let s=this.db.transaction(["myDataStore"],"readwrite").objectStore("myDataStore").clear();s.onsuccess=()=>{console.log("Record retrieved:",s.result)}}addCalItem(o){if(!this.db)return;let r=this.db.transaction(["myCalenderStore"],"readwrite");r.objectStore("myCalenderStore").add(o),r.oncomplete=()=>{console.log("Item added:",o)},r.onerror=l=>{console.error("Transaction error:",l)}}getCalItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let d=this.db.transaction(["myCalenderStore"],"readwrite").objectStore("myCalenderStore").get(o);d.onsuccess=()=>{console.log("Record retrieved:",d.result),r(d.result)}})}deleteCalItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let l=this.db.transaction(["myCalenderStore"],"readwrite");l.objectStore("myCalenderStore").delete(o),l.oncomplete=()=>{console.log("Item added:",o),r(o)},l.onerror=d=>{console.error("Transaction error:",d),s(d)}})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Uge(e,i){if(e&1&&(He(0,"tr")(1,"td"),Ye(2),Oe(),He(3,"td"),Ye(4),Oe()()),e&2){let n=i.$implicit;tt(2),dn(n.id),tt(2),dn(n.content)}}var eq=(()=>{let i=class i{constructor(o){this.dbBrowser=o,this.editData={id:"",content:""}}ngOnInit(){setTimeout(()=>{this.onInit()},1e3)}onSubmit(){this.dbBrowser.addItem(this.editData),this.onInit()}onInit(){this.dbBrowser.retrievingAllItem().then(o=>{this.allItems=o})}};i.\u0275fac=function(r){return new(r||i)(lt(Us))},i.\u0275cmp=$i({type:i,selectors:[["skp-editor"]],standalone:!0,features:[rn],decls:18,vars:4,consts:[["rules","all","border","1","width","99%"],[4,"ngFor","ngForOf"],["src","https://i.ibb.co/JKgG8qY/image.png"]],template:function(r,s){r&1&&(Et(0,"skp-markdown-editor"),He(1,"pre"),Ye(2),qu(3,"json"),Oe(),Et(4,"br")(5,"br"),He(6,"strong"),Ye(7,"List:"),Oe(),He(8,"table",0)(9,"tr")(10,"th"),Ye(11,"ID"),Oe(),He(12,"th"),Ye(13,"Content"),Oe()(),ui(14,Uge,5,2,"tr",1),Oe(),Et(15,"img",2),He(16,"pre"),Ye(17,`
==========================================================
left Side bar - Tree
 - file
 - folder
 - trash
 - default.md

right side bar
  - Add Workspace(couchDB, github, gitlab, googleDrive)
  - login, upload files, sync files, upload files
  - 

dataStore
id
id/content
id/contentNgrx
id/contentSync
=========================================

1. read all the file contents from local keep in browser indexed storage xxxxxxxxxxxxxx
2. read all the files from a git repo folder and add to the browser indexed BD.
3. y

=======================
1. Create files/folders
2. upload files to a folder
3. sync selected files/folder to git repo....
4. open file content in md editor ex. *.txt, *.jpg, *.zip, .pdf
5. import entire respository to browser
6. download as zip for folder
7. for files export as html, pdf
  `),Oe()),r&2&&(tt(2),yo("    ",Ku(3,2,s.editData),`
`),tt(12),ht("ngForOf",s.allItems))},dependencies:[In,gr,HH,Oo,NM]});let e=i;return e})();var h0=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,i,n){let o=i?this.allAsyncListeners:this.allSyncListeners,r=o.get(e);return!r&&n&&(r=new Set,o.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,i,n=!1){this.getListeners(e,n,!0).add(i)}removeEventListener(e,i,n=!1){let o=this.getListeners(e,n,!1);o&&(o.delete(i),o.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let i=e;this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,i){let n=e.type;if(i&&"event"in e){let c=e.event;c instanceof Event&&(e.eventPath=c.composedPath())}let o=(c,d)=>c.forEach(u=>{if(!d.has(u))return;let h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);i?this.dispatchAsync(h):h()}),r=this.getListeners(n,i,!1)??new Set,s=new Set(r);s.size>0&&o(s,r),new Set(i?this.globalAsyncListeners:this.globalSyncListeners).forEach(c=>{let d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(n,e)):()=>c(n,e);i?this.dispatchAsync(d):d()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let i=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(i):i(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(i=>i())}},Rq=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(Rq||{}),tq={};function D6(e,i){tq[i]||(e(),tq[i]=!0)}function Ks(e,...i){console.log("AG Grid: "+e,...i)}function et(e,...i){D6(()=>console.warn("AG Grid: "+e,...i),e+i?.join(""))}function Hi(e,...i){D6(()=>console.error("AG Grid: "+e,...i),e+i?.join(""))}function E6(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $ge(e){qge(e,400)}var HO=[],GO=!1;function iq(e){HO.push(e),!GO&&(GO=!0,window.setTimeout(()=>{let i=HO.slice();HO.length=0,GO=!1,i.forEach(n=>n())},0))}function qge(e,i=0){e.length>0&&window.setTimeout(()=>e.forEach(n=>n()),i)}function Lr(e,i){let n;return function(...o){let r=this;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(r,o)},i)}}function nq(e,i){let n=0;return function(...o){let r=this,s=new Date().getTime();s-n<i||(n=s,e.apply(r,o))}}function Kge(e,i,n=100,o){let r=new Date().getTime(),s=null,l=!1,c=()=>{let d=new Date().getTime()-r>n;(e()||d)&&(i(),l=!0,s!=null&&(window.clearInterval(s),s=null),d&&o&&et(o))};c(),l||(s=window.setInterval(c,10))}function Yge(...e){return i=>e.reduce((n,o)=>o(n),i)}function ph(e){return e==null||e===""?null:e}function rt(e,i=!1){return e!=null&&(e!==""||i)}function Ai(e){return!rt(e)}function xs(e){return e==null||e.length===0}function o6(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function wf(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;let i=parseInt(e,10);return isNaN(i)?void 0:i}function r6(e){if(e!==void 0)return e===null||e===""?!1:s6(e)}function s6(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Vy(e,i){let n=e?JSON.stringify(e):null,o=i?JSON.stringify(i):null;return n===o}function Qge(e,i,n=!1){let o=e==null,r=i==null;if(e&&e.toNumber&&(e=e.toNumber()),i&&i.toNumber&&(i=i.toNumber()),o&&r)return 0;if(o)return-1;if(r)return 1;function s(l,c){return l>c?1:l<c?-1:0}if(typeof e!="string"||!n)return s(e,i);try{return e.localeCompare(i)}catch{return s(e,i)}}function UM(e){if(e instanceof Set||e instanceof Map){let i=[];return e.forEach(n=>i.push(n)),i}return Object.values(e)}function Aq(e,i){return e.get("rowModelType")===i}function Wn(e){return Aq(e,"clientSide")}function Ch(e){return Aq(e,"serverSide")}function ir(e,i){return e.get("domLayout")===i}function YM(e){return XM(e)!==void 0}function QM(e){return!e.get("suppressAsyncEvents")}function Tq(e){return typeof e.get("getRowHeight")=="function"}function Zge(e,i){return i?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Tg(e,i,n=!1,o){if(o==null&&(o=e.environment.getDefaultRowHeight()),Tq(e)){if(n)return{height:o,estimated:!0};let l={node:i,data:i.data},c=e.getCallback("getRowHeight")(l);if(a6(c))return c===0&&et("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,c),estimated:!1}}if(i.detail&&e.get("masterDetail"))return Xge(e);let r=e.get("rowHeight");return{height:r&&a6(r)?r:o,estimated:!1}}function Xge(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let i=e.get("detailRowHeight");return a6(i)?{height:i,estimated:!1}:{height:300,estimated:!1}}function bf(e){let{environment:i}=e,n=e.get("rowHeight");if(!n||Ai(n))return i.getDefaultRowHeight();let o=i.refreshRowHeightVariable();return o!==-1?o:(et("row height must be a number if not using standard row model"),i.getDefaultRowHeight())}function a6(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Hy(e,i,n){let o=i[e.getDomDataKey()];return o?o[n]:void 0}function _f(e,i,n,o){let r=e.getDomDataKey(),s=i[r];Ai(s)&&(s={},i[r]=s),s[n]=o}function so(e){let i=null,n=e.get("getDocument");return n&&rt(n)?i=n():e.eGridDiv&&(i=e.eGridDiv.ownerDocument),i&&rt(i)?i:document}function Fq(e){return so(e).defaultView||window}function Gy(e){return e.eGridDiv.getRootNode()}function Ln(e){return Gy(e).activeElement}function Pq(e){let i=so(e),n=Ln(e);return n===null||n===i.body}function r0(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function ck(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||ir(e,"print"))}function hu(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function l6(e){let i=e.get("groupAggFiltering");if(typeof i=="function")return e.getCallback("groupAggFiltering");if(i===!0)return()=>!0}function Lq(e){let i=e.get("grandTotalRow");if(i)return i;if(e.get("groupIncludeTotalFooter"))return"bottom"}function Nq(e){let i=e.get("groupTotalRow");if(typeof i=="function")return e.getCallback("groupTotalRow");if(i)return()=>i;let n=e.get("groupIncludeFooter");if(typeof n=="function"){let o=e.getCallback("groupIncludeFooter");return r=>o(r)?"bottom":void 0}return()=>n?"bottom":void 0}function Oq(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function dk(e,i){return i?!1:e.get("groupDisplayType")==="groupRows"}function g0(e){let i=e.getCallback("getRowId");return i===void 0?i:n=>{let o=i(n);return typeof o!="string"&&(et("The getRowId callback must return a string. The ID ",o," is being cast to a string."),o=String(o)),o}}function l0(e){return e?.checkboxes??!0}function ZM(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function Jge(e){return e?.hideDisabledCheckboxes??!1}function epe(e){return typeof e.get("rowSelection")!="string"}function tpe(e){return e.get("cellSelection")!==void 0}function ipe(e){let i=e.get("cellSelection");return i!==void 0?typeof i!="boolean"?i?.suppressMultiRanges??!1:!1:e.get("suppressMultiRangeSelection")}function pu(e){let i=e.get("cellSelection");return i!==void 0?!!i:e.get("enableRangeSelection")}function npe(e){let i=e.get("cellSelection");return i!==void 0?typeof i!="boolean"?i.handle?.mode==="range":!1:e.get("enableRangeHandle")}function oq(e){let i=e.get("cellSelection");return i!==void 0?typeof i!="boolean"?i.handle?.mode==="fill":!1:e.get("enableFillHandle")}function zq(e){let i=e.get("rowSelection")??"single";if(typeof i=="string"){let n=e.get("suppressRowClickSelection"),o=e.get("suppressRowDeselection");return n&&o?!1:n?"enableDeselection":o?"enableSelection":!0}return i.mode==="singleRow"||i.mode==="multiRow"?i.enableClickSelection??!1:!1}function ope(e){let i=zq(e);return i===!0||i==="enableSelection"}function rq(e){let i=zq(e);return i===!0||i==="enableDeselection"}function M6(e){let i=e.get("rowSelection");return typeof i=="string"?e.get("isRowSelectable"):i?.isRowSelectable}function XM(e){let i=e.get("rowSelection");if(typeof i=="string")switch(i){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return i?.mode}function k6(e){return XM(e)==="multiRow"}function rpe(e){let i=e.get("rowSelection");return typeof i=="string"?e.get("rowMultiSelectWithClick"):i?.enableSelectionWithoutKeys??!1}function I6(e){let i=e.get("rowSelection");if(typeof i=="string"){let n=e.get("groupSelectsChildren"),o=e.get("groupSelectsFiltered");return n&&o?"filteredDescendants":n?"descendants":"self"}return i?.mode==="multiRow"?i.groupSelects:void 0}function Df(e){let i=I6(e);return i==="descendants"||i==="filteredDescendants"}function jO(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Li(e){if(!(!e||!e.length))return e[e.length-1]}function Lg(e,i,n){return e==null&&i==null?!0:e!=null&&i!=null&&e.length===i.length&&e.every((o,r)=>n?n(o,i[r]):i[r]===o)}function spe(e){return e.sort((i,n)=>i-n)}function Bq(e,i){let n=e.indexOf(i);n>=0&&(e[n]=e[e.length-1],e.pop())}function Nr(e,i){let n=e.indexOf(i);n>=0&&e.splice(n,1)}function ape(e,i){for(let n=0;n<i.length;n++)Bq(e,i[n])}function lpe(e,i){for(let n=0;n<i.length;n++)Nr(e,i[n])}function JM(e,i,n){e.splice(n,0,i)}function Vq(e,i,n){lpe(e,i),i.slice().reverse().forEach(o=>JM(e,o,n))}function yf(e,i){return e.indexOf(i)>-1}function cpe(e){return e?.flatMap(i=>i)??[]}function sq(e,i){i==null||e==null||i.forEach(n=>e.push(n))}var Hq="__ag_Grid_Stop_Propagation",dpe=["touchstart","touchend","touchmove","touchcancel","scroll"],WO={};function c0(e){e[Hq]=!0}function fh(e){return e[Hq]===!0}var Gq=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof WO[n]=="boolean")return WO[n];let o=document.createElement(e[n]||"div");return n="on"+n,WO[n]=n in o}})();function c6(e,i,n){let o=i;for(;o;){let r=Hy(e,o,n);if(r)return r;o=o.parentElement}return null}function upe(e,i){return!i||!e?!1:gpe(i).indexOf(e)>=0}function hpe(e){let i=[],n=e.target;for(;n;)i.push(n),n=n.parentElement;return i}function gpe(e){let i=e;return i.path?i.path:i.composedPath?i.composedPath():hpe(i)}function ppe(e,i,n,o){let s=yf(dpe,n)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(i,n,o,s)}var Qe=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,i,n){this.localEventService||(this.localEventService=new h0),this.localEventService.addEventListener(e,i,n)}removeEventListener(e,i,n){this.localEventService&&this.localEventService.removeEventListener(e,i,n)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,i){return this._setupListeners(e,i)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,i){return this._setupListeners(e,i)}_setupListeners(e,i){let n=[];for(let o in i){let r=i[o];r&&n.push(this._setupListener(e,o,r))}return n}_setupListener(e,i,n){if(this.destroyed)return()=>null;e instanceof HTMLElement?ppe(this.getFrameworkOverrides(),e,i,n):e.addEventListener(i,n);let o=()=>(e.removeEventListener(i,n),null);return this.destroyFunctions.push(o),()=>(o(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==o),null)}setupGridOptionListener(e,i){this.gos.addPropertyEventListener(e,i);let n=()=>(this.gos.removePropertyEventListener(e,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==n),null)}addManagedPropertyListener(e,i){return this.destroyed?()=>null:this.setupGridOptionListener(e,i)}addManagedPropertyListeners(e,i){if(this.destroyed)return;let n=e.join("-")+this.propertyListenerId++,o=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}let s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};i(s)};e.forEach(r=>this.setupGridOptionListener(r,o))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,i){let n=this.createBean(e,i);return this.addDestroyFunc(this.destroyBean.bind(this,e,i)),n}createBean(e,i,n){return(i||this.stubContext).createBean(e,n)}destroyBean(e,i){return(i||this.stubContext).destroyBean(e)}destroyBeans(e,i){return(i||this.stubContext).destroyBeans(e)}};function Fr(e){return e instanceof $M}var $M=class extends Qe{constructor(e,i,n,o){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=Uq(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=i,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=o}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,i){this.colGroupDef=e,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(i=>{Pg(i)?e.push(i):Fr(i)&&i.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,i=!1,n=!1,o=this.findChildrenRemovingPadding();for(let s=0,l=o.length;s<l;s++){let c=o[s];if(!c.isVisible())continue;let d=c.getColumnGroupShow();d==="open"?(e=!0,n=!0):d==="closed"?(i=!0,n=!0):(e=!0,i=!0)}let r=e&&i&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],i=n=>{n.forEach(o=>{Fr(o)&&o.isPadding()?i(o.children):e.push(o)})};return i(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},jq="ag-Grid-ControlsColumn",fpe=class extends Qe{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){let{gos:e}=this,i=e.get("rowSelection");if(!i||typeof i!="object")return[];let n=l0(i),o=ZM(i);if(n||o){let r=e.get("selectionColumnDef"),s=e.get("enableRtl"),l=At(We({maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:s?"right":"left",comparator(d,u,h,g){let p=h.isSelected(),f=g.isSelected();return p&&f?0:p?1:-1},editable:!1,suppressFillHandle:!0},r),{colId:`${jq}`}),c=new F6(l,null,l.colId,!1);return this.createBean(c),[c]}return[]}},uk="ag-Grid-AutoColumn";function R6(e){let i=[],n=o=>{for(let r=0;r<o.length;r++){let s=o[r];Pg(s)?i.push(s):Fr(s)&&n(s.getChildren())}};return n(e),i}function hh(e){return e.reduce((i,n)=>i+n.getActualWidth(),0)}function Rg(e,i,n){let o={};if(!i)return;vh(null,i,s=>{o[s.getInstanceId()]=s}),n&&vh(null,n,s=>{o[s.getInstanceId()]=null});let r=Object.values(o).filter(s=>s!=null);e.destroyBeans(r)}function d6(e){return e.getId().startsWith(uk)}function Ky(e){return e.getColId().startsWith(jq)}function qM(e){let i=[];return e instanceof Array?e.some(o=>typeof o!="string")?et("if colDef.type is supplied an array it should be of type 'string[]'"):i=e:typeof e=="string"?i=e.split(","):et("colDef.type should be of type 'string' | 'string[]'"),i}var A6=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=n=>{this.frameworkOverrides.wrapOutgoing(()=>e(n))},this.wrappedListeners.set(e,i)),i}wrapGlobal(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=(n,o)=>{this.frameworkOverrides.wrapOutgoing(()=>e(n,o))},this.wrappedGlobalListeners.set(e,i)),i}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},T6=new Set(["__proto__","constructor","prototype"]);function qs(e,i){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)i(n.toString(),e[n]);return}for(let[n,o]of Object.entries(e))i(n,o)}}function Wq(e){let i={},n=Object.keys(e);for(let o=0;o<n.length;o++){if(T6.has(n[o]))continue;let r=n[o],s=e[r];i[r]=s}return i}function u6(e,i){if(!e)return;let n=e,o={};return Object.keys(n).forEach(r=>{if(i&&i.indexOf(r)>=0||T6.has(r))return;let s=n[r];h6(s)&&s.constructor===Object?o[r]=u6(s):o[r]=s}),o}function Fg(e){if(!e)return[];let i=Object;if(typeof i.values=="function")return i.values(e);let n=[];for(let o in e)e.hasOwnProperty(o)&&e.propertyIsEnumerable(o)&&n.push(e[o]);return n}function Pr(e,i,n=!0,o=!1){rt(i)&&qs(i,(r,s)=>{if(T6.has(r))return;let l=e[r];l!==s&&(o&&l==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(l={},e[r]=l),h6(s)&&h6(l)&&!Array.isArray(l)?Pr(l,s,n,o):(n||s!==void 0)&&(e[r]=s))})}function Ly(e,i,n){if(!i||!e)return;if(!n)return e[i];let o=i.split("."),r=e;for(let s=0;s<o.length;s++){if(r==null)return;r=r[o[s]]}return r}function h6(e){return typeof e=="object"&&e!==null}var mpe={resizable:!0,sortable:!0},vpe=0;function Uq(){return vpe++}function Pg(e){return e instanceof F6}var F6=class extends Qe{constructor(e,i,n,o){super(),this.isColumn=!0,this.instanceId=Uq(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new h0,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=i,this.colId=n,this.primary=o,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);let i=e.sortIndex,n=e.initialSortIndex;i!==void 0?i!==null&&(this.sortIndex=i):n!==null&&(this.sortIndex=n);let o=e.hide,r=e.initialHide;o!==void 0?this.visible=!o:this.visible=!r,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);let s=e.flex,l=e.initialFlex;s!==void 0?this.flex=s:l!==void 0&&(this.flex=l)}setColDef(e,i,n){this.colDef=e,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){let e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=rt(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=rt(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=rt(this.colDef.tooltipField)||rt(this.colDef.tooltipValueGetter)||rt(this.colDef.tooltipComponent)}resetActualWidth(e){let i=this.calculateColInitialWidth(this.colDef);this.setActualWidth(i,e,!0)}calculateColInitialWidth(e){let i,n=wf(e.width),o=wf(e.initialWidth);return n!=null?i=n:o!=null?i=o:i=200,Math.max(Math.min(i,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Ai(this.colDef)||Ai(this.colDef.showRowGroup))return!1;let i=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return i||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,i){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new A6(this.frameworkOverrides));let n=this.frameworkEventListenerService?.wrap(i)??i;this.columnEventService.addEventListener(e,n)}removeEventListener(e,i){let n=this.frameworkEventListenerService?.unwrap(i)??i;this.columnEventService.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){let i=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(i)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){let i=this.gos.get("rowSelection");if(i&&typeof i!="string"){let n=Ky(this)&&l0(i);return this.isColumnFunc(e,n)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??mpe[e]}isColumnFunc(e,i){if(typeof i=="boolean")return i;if(typeof i=="function"){let n=this.createColumnFunctionCallbackParams(e);return i(n)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,i){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(e,i){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,i){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ai(this.sort)}isSorting(){return rt(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,i){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,i){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(e,i,n){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));let o=this.createColumnEvent("filterChanged",i);n&&Pr(o,n),this.columnEventService.dispatchEvent(o)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,i){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(e,i){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,i){let n=e===!0;this.visible!==n&&(this.visible=n,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let i=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:i,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ai(this.colDef.colSpan))return 1;let i=this.createBaseColDefParams(e),n=this.colDef.colSpan(i);return Math.max(n,1)}getRowSpan(e){if(Ai(this.colDef.rowSpan))return 1;let i=this.createBaseColDefParams(e),n=this.colDef.rowSpan(i);return Math.max(n,1)}setActualWidth(e,i,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&i!=="flex"&&i!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,i){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,i){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,i){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Cpe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},wpe=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let i=0;i<e.length;i++)this.existingKeys[e[i]]=!0}getUniqueKey(e,i){e=o6(e);let n=0;for(;;){let o;if(e?(o=e,n!==0&&(o+="_"+n)):i?(o=i,n!==0&&(o+="_"+n)):o=n,!this.existingKeys[o])return this.existingKeys[o]=!0,String(o);n++}}},bpe=class extends Qe{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,i,n,o){let r=new wpe,{existingCols:s,existingGroups:l,existingColKeys:c}=this.extractExistingTreeData(n);r.addExistingKeys(c);let d=this.recursivelyCreateColumns(e,0,i,s,r,l,o),u=this.findMaxDept(d,0),h=this.balanceColumnTree(d,0,u,r);return vh(null,h,(p,f)=>{Fr(p)&&p.setupExpandable(),p.setOriginalParent(f)}),{columnTree:h,treeDept:u}}extractExistingTreeData(e){let i=[],n=[],o=[];return e&&vh(null,e,r=>{if(Fr(r)){let s=r;n.push(s)}else{let s=r;o.push(s.getId()),i.push(s)}}),{existingCols:i,existingGroups:n,existingColKeys:o}}balanceTreeForAutoCols(e,i){let n=[],o=this.findDepth(i);return e.forEach(r=>{let s=r;for(let l=o-1;l>=0;l--){let c=new $M(null,`FAKE_PATH_${r.getId()}}_${l}`,!0,l);this.createBean(c),c.setChildren([s]),s.setOriginalParent(c),s=c}o===0&&r.setOriginalParent(null),n.push(s)}),[n,o]}findDepth(e){let i=0,n=e;for(;n&&n[0]&&Fr(n[0]);)i++,n=n[0].getChildren();return i}balanceColumnTree(e,i,n,o){let r=[];for(let s=0;s<e.length;s++){let l=e[s];if(Fr(l)){let c=l,d=this.balanceColumnTree(c.getChildren(),i+1,n,o);c.setChildren(d),r.push(c)}else{let c,d;for(let u=n-1;u>=i;u--){let h=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),p=new $M(g,h,!0,i);this.createBean(p),d&&d.setChildren([p]),d=p,c||(c=d)}if(c&&d)if(r.push(c),e.some(h=>Fr(h))){d.setChildren([l]);continue}else{d.setChildren(e);break}r.push(l)}}return r}findMaxDept(e,i){let n=i;for(let o=0;o<e.length;o++){let r=e[o];if(Fr(r)){let s=r,l=this.findMaxDept(s.getChildren(),i+1);n<l&&(n=l)}}return n}recursivelyCreateColumns(e,i,n,o,r,s,l){if(!e)return[];let c=new Array(e.length);for(let d=0;d<c.length;d++){let u=e[d];this.isColumnGroup(u)?c[d]=this.createColumnGroup(n,u,i,o,r,s,l):c[d]=this.createColumn(n,u,o,r,l)}return c}createColumnGroup(e,i,n,o,r,s,l){let c=this.createMergedColGroupDef(i),d=r.getUniqueKey(c.groupId||null,null),u=new $M(c,d,!1,n);this.createBean(u);let h=this.findExistingGroup(i,s);h&&s.splice(h.idx,1);let g=h?.group;g&&u.setExpanded(g.isExpanded());let p=this.recursivelyCreateColumns(c.children,n+1,e,o,r,s,l);return u.setChildren(p),u}createMergedColGroupDef(e){let i={};return Object.assign(i,this.gos.get("defaultColGroupDef")),Object.assign(i,e),i}createColumn(e,i,n,o,r){let s=this.findExistingColumn(i,n);s&&n?.splice(s.idx,1);let l=s?.column;if(l){let c=this.addColumnDefaultAndTypes(i,l.getColId());l.setColDef(c,i,r),this.applyColumnState(l,c,r)}else{let c=o.getUniqueKey(i.colId,i.field),d=this.addColumnDefaultAndTypes(i,c);l=new F6(d,i,c,e),this.createBean(l)}return this.dataTypeService?.addColumnListeners(l),l}applyColumnState(e,i,n){let o=wf(i.flex);if(o!==void 0&&e.setFlex(o),e.getFlex()<=0){let c=wf(i.width);if(c!=null)e.setActualWidth(c,n);else{let d=e.getActualWidth();e.setActualWidth(d,n)}}i.sort!==void 0&&(i.sort=="asc"||i.sort=="desc"?e.setSort(i.sort,n):e.setSort(void 0,n));let s=wf(i.sortIndex);s!==void 0&&e.setSortIndex(s);let l=r6(i.hide);l!==void 0&&e.setVisible(!l,n),i.pinned!==void 0&&e.setPinned(i.pinned)}findExistingColumn(e,i){if(i)for(let n=0;n<i.length;n++){let o=i[n].getUserProvidedColDef();if(!o)continue;if(e.colId!=null){if(i[n].getId()===e.colId)return{idx:n,column:i[n]};continue}if(e.field!=null){if(o.field===e.field)return{idx:n,column:i[n]};continue}if(o===e)return{idx:n,column:i[n]}}}findExistingGroup(e,i){if(e.groupId!=null)for(let o=0;o<i.length;o++){let r=i[o];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:o,group:r}}}addColumnDefaultAndTypes(e,i){let n={},o=this.gos.get("defaultColDef");Pr(n,o,!1,!0);let r=this.updateColDefAndGetColumnType(n,e,i);r&&this.assignColumnTypes(r,n),Pr(n,e,!1,!0);let s=this.gos.get("autoGroupColumnDef"),l=hu(this.gos);return e.rowGroup&&s&&l&&Pr(n,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService?.validateColDef(n),n}updateColDefAndGetColumnType(e,i,n){let o=this.dataTypeService?.updateColDefAndGetColumnType(e,i,n),r=i.type??o??e.type;return e.type=r,r?qM(r):void 0}assignColumnTypes(e,i){if(!e.length)return;let n=Object.assign({},Cpe),o=this.gos.get("columnTypes")||{};qs(o,(r,s)=>{r in n?et(`the column type '${r}' is a default column type and cannot be overridden.`):(s.type&&et("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[r]=s)}),e.forEach(r=>{let s=n[r.trim()];s?Pr(i,s,!1,!0):et("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function vh(e,i,n){if(i)for(let o=0;o<i.length;o++){let r=i[o];Fr(r)&&vh(r,r.getChildren(),n),n(r,e)}}var ype=class extends Qe{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){let e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],i=>this.refreshAll(mf(i.source))),this.addManagedPropertyListener("rowSelection",i=>{this.onSelectionOptionsChanged(i.currentValue,i.previousValue,mf(i.source))}),this.addManagedPropertyListener("autoGroupColumnDef",i=>this.onAutoGroupColumnDefChanged(mf(i.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],i=>this.recreateColumnDefs(mf(i.source))),this.addManagedPropertyListener("pivotMode",i=>this.setPivotMode(this.gos.get("pivotMode"),mf(i.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){let i=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();let n=this.colDefCols?.list,o=this.colDefCols?.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,o,e);Rg(this.context,this.colDefCols?.tree,r.columnTree);let s=r.columnTree,l=r.treeDept,c=R6(s),d={};c.forEach(u=>d[u.getId()]=u),this.colDefCols={tree:s,treeDepth:l,list:c,map:d},this.funcColsService.extractCols(e,n),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),i&&(this.changeEventsDispatching=!0,i(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let i=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();let n=Zge(this.gos,this.showingPivotResult);(!e||n)&&this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Lg(i,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){let e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){let{map:i,list:n,tree:o,treeDepth:r}=e;this.cols={list:n.slice(),map:We({},i),tree:o.slice(),treeDepth:r},e.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)}else{let{map:i,list:n,tree:o,treeDepth:r}=this.colDefCols;this.cols={list:n.slice(),map:We({},i),tree:o.slice(),treeDepth:r}}}getColsToShow(){let e=this.isPivotMode()&&!this.isShowingPivotResult(),i=this.funcColsService.getValueColumns();return this.cols.list.filter(o=>{let r=d6(o);if(e){let s=i&&yf(i,o);return r||s}else return r||o.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),aq(this.cols))}createAutoCols(){let e=dk(this.gos,this.pivotMode),i=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),n=this.funcColsService.getRowGroupColumns(),r=!(n.length>0||this.gos.get("treeData"))||i||e,s=()=>{this.autoCols&&(Rg(this.context,this.autoCols.tree),this.autoCols=null)};if(r||!this.autoColService){s();return}let l=this.autoColService.createAutoCols(n)??[],c=cq(l,this.autoCols?.list||null),d=this.cols.treeDepth,h=(this.autoCols?this.autoCols.treeDepth:-1)==d;if(c&&h)return;s();let[g,p]=this.columnFactory.balanceTreeForAutoCols(l,this.cols.tree);this.autoCols={list:l,tree:g,treeDepth:p,map:{}};let f=y=>{if(!y)return null;let M=y.filter(k=>!d6(k));return[...l,...M]};this.lastOrder=f(this.lastOrder),this.lastPivotOrder=f(this.lastPivotOrder)}createControlsCols(){let e=()=>{Rg(this.context,this.controlsCols?.tree),this.controlsCols=null};this.controlsColService||e();let i=this.cols.treeDepth,o=(this.controlsCols?.treeDepth??-1)==i,r=this.controlsColService?.createControlsCols()??[];if(cq(r,this.controlsCols?.list??[])&&o)return;e();let[l,c]=this.columnFactory.balanceTreeForAutoCols(r,this.cols.tree);this.controlsCols={list:r,tree:l,treeDepth:c,map:{}};let d=u=>{if(!u)return null;let h=u.filter(g=>!Ky(g));return[...r,...h]};this.lastOrder=d(this.lastOrder),this.lastPivotOrder=d(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),aq(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,i=!1,n){this.columnApplyStateService.applyColumnState({state:e.map(o=>({colId:typeof o=="string"?o:o.getColId(),hide:!i}))},n)}setColsPinned(e,i,n){if(!this.cols||xs(e))return;if(ir(this.gos,"print")){et("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let o;i===!0||i==="left"?o="left":i==="right"?o="right":o=null;let r=[];e.forEach(s=>{if(!s)return;let l=this.getCol(s);l&&l.getPinned()!==o&&(l.setPinned(o),r.push(l))}),r.length&&(this.visibleColsService.refresh(n),this.eventDispatcher.columnPinned(r,n)),this.columnAnimationService.finish()}setColumnGroupOpened(e,i,n){let o;Fr(e)?o=e.getId():o=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:o,open:i}],n)}getProvidedColGroup(e){let i=null;return vh(null,this.cols?.tree,n=>{Fr(n)&&n.getId()===e&&(i=n)}),i}isColGroupLocked(e){let i=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||i===0)return!1;if(i===-1)return!0;let o=this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId());return i>o}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Wn(this.gos)||Ch(this.gos)||et("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){let e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;let i=new Map(e.map((d,u)=>[d,u]));if(!this.cols.list.some(d=>i.has(d)))return;let o=new Map(this.cols.list.map(d=>[d,!0])),r=e.filter(d=>o.has(d)),s=new Map(r.map(d=>[d,!0])),l=this.cols.list.filter(d=>!s.has(d)),c=r.slice();l.forEach(d=>{let u=d.getOriginalParent();if(!u){c.push(d);return}let h=[];for(;!h.length&&u;)u.getLeafColumns().forEach(y=>{let M=c.indexOf(y)>=0,k=h.indexOf(y)<0;M&&k&&h.push(y)}),u=u.getOriginalParent();if(!h.length){c.push(d);return}let g=h.map(f=>c.indexOf(f)),p=Math.max(...g);JM(c,d,p+1)}),this.cols.list=c}sortColsLikeKeys(e){if(this.cols==null)return;let i=[],n={};e.forEach(r=>{if(n[r])return;let s=this.cols.map[r];s&&(i.push(s),n[r]=!0)});let o=0;if(this.cols.list.forEach(r=>{let s=r.getColId();if(n[s]!=null)return;s.startsWith(uk)?JM(i,r,o++):i.push(r)}),i=this.columnMoveService.placeLockedColumns(i),!this.columnMoveService.doesMovePassMarryChildren(i)){et("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=i}sortColsLikeCols(e){!e||e.length<=1||e.filter(n=>this.cols.list.indexOf(n)<0).length>0||e.sort((n,o)=>{let r=this.cols.list.indexOf(n),s=this.cols.list.indexOf(o);return r-s})}resetColDefIntoCol(e,i){let n=e.getUserProvidedColDef();if(!n)return!1;let o=this.columnFactory.addColumnDefaultAndTypes(n,e.getColId());return e.setColDef(o,n,i),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,i,n){Vq(this.cols?.list,e,i),this.visibleColsService.refresh(n)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;let e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((o,r)=>this.lastOrder.indexOf(o)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((o,r)=>this.cols.list.indexOf(o)-this.cols.list.indexOf(r));let i=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,i,n)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,i){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(i),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(et("Pivot mode not available with treeData."),!1):!0}isPivotActive(){let e=this.funcColsService.getPivotColumns();return this.pivotMode&&!xs(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,i){this.colDefs=e,this.createColsFromColDefs(i)}destroy(){Rg(this.context,this.colDefCols?.tree),Rg(this.context,this.autoCols?.tree),Rg(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){let i=this.pivotResultColsService.getPivotResultCols()?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],i??[]].flat()}getColsForKeys(e){return e?e.map(i=>this.getCol(i)).filter(i=>i!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,i){if(i==null)return null;let{map:n,list:o}=i;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<o.length;r++)if(lq(o[r],e))return o[r];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find(i=>lq(i,e))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,i){e.setAutoHeaderHeight(i)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){let e=[],i=this.ctrlsService.getHeaderRowContainerCtrls();for(let n of i){if(!n)continue;let o=n.getGroupRowCount()||0;for(let r=0;r<o;r++){let s=n.getGroupRowCtrlAtIndex(r),l=e[r];if(s){let c=this.getColumnGroupHeaderRowHeight(s);(l==null||c>l)&&(e[r]=c)}}}return e}getColumnGroupHeaderRowHeight(e){let i=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight(),n=0,o=e.getHeaderCtrls();for(let r of o){let s=r.getColumn();if(s.isAutoHeaderHeight()){let l=s.getAutoHeaderHeight();l!=null&&l>n&&(n=l)}}return Math.max(i,n)}getColumnHeaderRowHeight(){let e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.visibleColsService.getAllCols().filter(o=>o.isAutoHeaderHeight()).map(o=>o.getAutoHeaderHeight()||0);return Math.max(e,...n)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:i,skipHeader:n}=e;setTimeout(()=>{i?this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:n,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",n)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,i,n){let o=i&&typeof i!="string"?l0(i):void 0,r=e&&typeof e!="string"?l0(e):void 0,s=o!==r,l=i&&typeof i!="string"?ZM(i):void 0,c=e&&typeof e!="string"?ZM(e):void 0;(s||l!==c)&&this.refreshAll(n)}};function mf(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function aq(e){e.map={},e.list.forEach(i=>e.map[i.getId()]=i)}function lq(e,i){let n=e===i,o=e.getColDef()===i,r=e.getColId()==i;return n||o||r}function cq(e,i){return Lg(e,i,(n,o)=>n.getColId()===o.getColId())}var Spe=class extends Qe{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:i,skipHeader:n,skipHeaderGroups:o,stopAtGroup:r,source:s="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;let l=[],c=-1,d=n??this.gos.get("skipHeaderOnAutoSize"),u=o??d;for(;c!==0;){c=0;let h=[];i.forEach(g=>{if(!g)return;let p=this.columnModel.getCol(g);if(!p||l.indexOf(p)>=0)return;let f=this.autoWidthCalculator.getPreferredWidthForColumn(p,d);if(f>0){let y=this.normaliseColumnWidth(p,f);p.setActualWidth(y,s),l.push(p),c++}h.push(p)}),h.length&&this.visibleColsService.refresh(s)}u||this.autoSizeColumnGroupsByColumns(i,s,r),this.eventDispatcher.columnResized(l,!0,"autosizeColumns")}autoSizeColumn(e,i,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(e,i,n){let o=new Set;this.columnModel.getColsForKeys(e).forEach(c=>{let d=c.getParent();for(;d&&d!=n;)d.isPadding()||o.add(d),d=d.getParent()});let s,l=[];for(let c of o){for(let d of this.ctrlsService.getHeaderRowContainerCtrls())if(s=d.getHeaderCtrlForColumn(c),s)break;s&&s.resizeLeafColumnsToFit(i)}return l}autoSizeAllColumns(e,i){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,i));return}let n=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:n,skipHeader:i,source:e})}normaliseColumnWidth(e,i){let n=e.getMinWidth();i<n&&(i=n);let o=e.getMaxWidth();return e.isGreaterThanMax(i)&&(i=o),i}},xpe=class extends Qe{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Nr(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Nr(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Nr(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){let i=e.getColDef().showRowGroup;if(!i)return null;if(i===!0)return this.rowGroupCols.slice(0);let n=this.columnModel.getColDefCol(i);return n?[n]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return xs(this.rowGroupCols)}setColumnAggFunc(e,i,n){if(!e)return;let o=this.columnModel.getColDefCol(e);o&&(o.setAggFunc(i),this.eventDispatcher.columnChanged("columnValueChanged",[o],n))}setRowGroupColumns(e,i){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(n,o)=>this.setRowGroupActive(n,o,i),i)}setRowGroupActive(e,i,n){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,n),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([i],!1,n),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([i],!0,n))}addRowGroupColumns(e,i){this.updateColList(e,this.rowGroupCols,!0,!0,n=>this.setRowGroupActive(!0,n,i),"columnRowGroupChanged",i)}removeRowGroupColumns(e,i){this.updateColList(e,this.rowGroupCols,!1,!0,n=>this.setRowGroupActive(!1,n,i),"columnRowGroupChanged",i)}addPivotColumns(e,i){this.updateColList(e,this.pivotCols,!0,!1,n=>n.setPivotActive(!0,i),"columnPivotChanged",i)}setPivotColumns(e,i){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(n,o)=>{o.setPivotActive(n,i)},i)}removePivotColumns(e,i){this.updateColList(e,this.pivotCols,!1,!1,n=>n.setPivotActive(!1,i),"columnPivotChanged",i)}setValueColumns(e,i){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(n,o)=>this.setValueActive(n,o,i),i)}setValueActive(e,i,n){if(e!==i.isValueActive()&&(i.setValueActive(e,n),e&&!i.getAggFunc()&&this.aggFuncService)){let o=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(o)}}addValueColumns(e,i){this.updateColList(e,this.valueCols,!0,!1,n=>this.setValueActive(!0,n,i),"columnValueChanged",i)}removeValueColumns(e,i){this.updateColList(e,this.valueCols,!1,!1,n=>this.setValueActive(!1,n,i),"columnValueChanged",i)}moveRowGroupColumn(e,i,n){if(this.isRowGroupEmpty())return;let o=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,i);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(i,0,o),this.eventDispatcher.rowGroupChanged(r,n)}setColList(e,i,n,o,r,s,l){if(!this.columnModel.getCols())return;let c=new Map;i.forEach((u,h)=>c.set(u,h)),i.length=0,rt(e)&&e.forEach(u=>{let h=this.columnModel.getColDefCol(u);h&&i.push(h)}),i.forEach((u,h)=>{let g=c.get(u);if(g===void 0){c.set(u,0);return}o&&g!==h||c.delete(u)}),(this.columnModel.getColDefCols()||[]).forEach(u=>{let h=i.indexOf(u)>=0;s(h,u)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(l),this.eventDispatcher.columnChanged(n,[...c.keys()],l)}updateColList(e,i,n,o,r,s,l){if(!e||xs(e))return;let c=!1,d=new Set;e.forEach(u=>{if(!u)return;let h=this.columnModel.getColDefCol(u);if(h){if(d.add(h),n){if(i.indexOf(h)>=0)return;i.push(h)}else{let g=i.indexOf(h);if(g<0)return;for(let p=g+1;p<i.length;p++)d.add(i[p]);Nr(i,h)}r(h),c=!0}}),c&&(o&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(l),this.eventDispatcher.genericColumnEvent(s,Array.from(d),l))}extractCols(e,i){this.extractRowGroupCols(e,i),this.extractPivotCols(e,i),this.extractValueCols(e,i)}extractValueCols(e,i){this.valueCols=this.extractColsCommon(i,this.valueCols,(n,o)=>n.setValueActive(o,e),()=>{},()=>{},n=>{let o=n.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},n=>n.initialAggFunc!=null&&n.initialAggFunc!=""),this.valueCols.forEach(n=>{let o=n.getColDef();o.aggFunc!=null&&o.aggFunc!=""?n.setAggFunc(o.aggFunc):n.getAggFunc()||n.setAggFunc(o.initialAggFunc)})}extractRowGroupCols(e,i){this.rowGroupCols=this.extractColsCommon(i,this.rowGroupCols,(n,o)=>n.setRowGroupActive(o,e),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractPivotCols(e,i){this.pivotCols=this.extractColsCommon(i,this.pivotCols,(n,o)=>n.setPivotActive(o,e),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}extractColsCommon(e=[],i=[],n,o,r,s,l){let c=[],d=[];(this.columnModel.getColDefCols()||[]).forEach(p=>{let f=e.indexOf(p)<0,y=p.getColDef(),M=r6(s(y)),k=r6(l(y)),G=wf(o(y)),J=wf(r(y)),$;M!==void 0?$=M:G!==void 0?G===null?$=!1:$=G>=0:f?k!==void 0?$=k:J!==void 0?$=J!=null&&J>=0:$=!1:$=i.indexOf(p)>=0,$&&((f?G!=null||J!=null:G!=null)?c.push(p):d.push(p))});let h=p=>{let f=o(p.getColDef()),y=r(p.getColDef());return f??y};c.sort((p,f)=>{let y=h(p),M=h(f);return y===M?0:y<M?-1:1});let g=[].concat(c);return i.forEach(p=>{d.indexOf(p)>=0&&g.push(p)}),d.forEach(p=>{g.indexOf(p)<0&&g.push(p)}),i.forEach(p=>{g.indexOf(p)<0&&n(p,!1)}),g.forEach(p=>{i.indexOf(p)<0&&n(p,!0)}),g}generateColumnStateForRowGroupAndPivotIndexes(e,i){let n={},o=(r,s,l,c,d,u)=>{let h=this.columnModel.getColDefCols();if(!s.length||!h)return[];let g=Object.keys(r),p=new Set(g),f=new Set(g),y=new Set(s.map(Pe=>{let $e=Pe.getColId();return f.delete($e),$e}).concat(g)),M=[],k={},G=0;for(let Pe=0;Pe<h.length;Pe++){let $e=h[Pe].getColId();y.has($e)&&(M.push($e),k[$e]=G++)}let J=1e3,$=!1,_e=0,Te=Pe=>{let $e=k[Pe];for(let nt=_e;nt<$e;nt++){let at=M[nt];f.has(at)&&(r[at][d]=J++,f.delete(at))}_e=$e};s.forEach(Pe=>{let $e=Pe.getColId();if(p.has($e))Te($e),r[$e][d]=J++;else{let nt=Pe.getColDef();(nt[d]===null||nt[d]===void 0&&nt[u]==null)&&($||(nt[l]||nt[l]===void 0&&nt[c]?Te($e):(f.forEach(Zt=>{r[Zt][d]=J+k[Zt]}),J+=M.length,$=!0)),n[$e]||(n[$e]={colId:$e}),n[$e][d]=J++)}})};return o(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),o(i,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}},_pe=class extends Qe{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,i){let n=this.columnModel.getColDefCols()||[];if(xs(n))return!1;if(e&&e.state&&!e.state.forEach)return et("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;let o=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(c,d,u)=>{let h=this.compareColumnStatesAndDispatchEvents(i),g=d.slice(),p={},f={},y=[],M=[],k=0,G=this.funcColsService.getRowGroupColumns().slice(),J=this.funcColsService.getPivotColumns().slice();c.forEach(Pe=>{let $e=Pe.colId||"";if($e.startsWith(uk)){y.push(Pe),M.push(Pe);return}let at=u($e);at?(this.syncColumnWithStateItem(at,Pe,e.defaultState,p,f,!1,i,o),Nr(g,at)):(M.push(Pe),k+=1)});let $=Pe=>this.syncColumnWithStateItem(Pe,null,e.defaultState,p,f,!1,i,o);g.forEach($),this.funcColsService.sortRowGroupColumns(dq.bind(this,p,G)),this.funcColsService.sortPivotColumns(dq.bind(this,f,J)),this.columnModel.refreshCols(!1);let Te=(this.columnModel.getAutoCols()||[]).slice();return y.forEach(Pe=>{let $e=this.columnModel.getAutoCol(Pe.colId);Nr(Te,$e),this.syncColumnWithStateItem($e,Pe,e.defaultState,null,null,!0,i,o)}),Te.forEach($),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(i),this.eventDispatcher.everythingChanged(i),h(),{unmatchedAndAutoStates:M,unmatchedCount:k}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:l}=r(e.state||[],n,c=>this.columnModel.getColDefCol(c));if(s.length>0||rt(e.defaultState)){let d=this.pivotResultColsService.getPivotResultCols()?.list;l=r(s,d||[],u=>this.pivotResultColsService.getPivotResultCol(u)).unmatchedCount}return this.columnAnimationService.finish(),l===0}resetColumnState(e){let i=this.columnModel.getColDefCols();if(xs(i))return;let n=this.columnModel.getColDefColTree(),o=R6(n),r=[],s=1e3,l=1e3,c=[],d=this.columnModel.getAutoCols();d&&(c=c.concat(d)),o&&(c=c.concat(o)),c.forEach(u=>{let h=this.getColumnStateFromColDef(u);Ai(h.rowGroupIndex)&&h.rowGroup&&(h.rowGroupIndex=s++),Ai(h.pivotIndex)&&h.pivot&&(h.pivotIndex=l++),r.push(h)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){let i=(y,M)=>y??M??null,n=e.getColDef(),o=i(n.sort,n.initialSort),r=i(n.sortIndex,n.initialSortIndex),s=i(n.hide,n.initialHide),l=i(n.pinned,n.initialPinned),c=i(n.width,n.initialWidth),d=i(n.flex,n.initialFlex),u=i(n.rowGroupIndex,n.initialRowGroupIndex),h=i(n.rowGroup,n.initialRowGroup);u==null&&(h==null||h==!1)&&(u=null,h=null);let g=i(n.pivotIndex,n.initialPivotIndex),p=i(n.pivot,n.initialPivot);g==null&&(p==null||p==!1)&&(g=null,p=null);let f=i(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:r,hide:s,pinned:l,width:c,flex:d,rowGroup:h,rowGroupIndex:u,pivot:p,pivotIndex:g,aggFunc:f}}syncColumnWithStateItem(e,i,n,o,r,s,l,c){if(!e)return;let d=(_e,Te)=>{let Pe={value1:void 0,value2:void 0},$e=!1;return i&&(i[_e]!==void 0&&(Pe.value1=i[_e],$e=!0),rt(Te)&&i[Te]!==void 0&&(Pe.value2=i[Te],$e=!0)),!$e&&n&&(n[_e]!==void 0&&(Pe.value1=n[_e]),rt(Te)&&n[Te]!==void 0&&(Pe.value2=n[Te])),Pe},u=d("hide").value1;u!==void 0&&e.setVisible(!u,l);let h=d("pinned").value1;h!==void 0&&e.setPinned(h);let g=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),p=d("flex").value1;if(p!==void 0&&e.setFlex(p),p==null){let _e=d("width").value1;_e!=null&&g!=null&&_e>=g&&e.setActualWidth(_e,l)}let f=d("sort").value1;f!==void 0&&(f==="desc"||f==="asc"?e.setSort(f,l):e.setSort(void 0,l));let y=d("sortIndex").value1;if(y!==void 0&&e.setSortIndex(y),s||!e.isPrimary())return;let M=d("aggFunc").value1;M!==void 0&&(typeof M=="string"?(e.setAggFunc(M),e.isValueActive()||(e.setValueActive(!0,l),c.addValueCol(e))):(rt(M)&&et("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),c.removeValueCol(e))));let{value1:k,value2:G}=d("rowGroup","rowGroupIndex");(k!==void 0||G!==void 0)&&(typeof G=="number"||k?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),c.addGroupCol(e)),o&&typeof G=="number"&&(o[e.getId()]=G)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),c.removeGroupCol(e)));let{value1:J,value2:$}=d("pivot","pivotIndex");(J!==void 0||$!==void 0)&&(typeof $=="number"||J?(e.isPivotActive()||(e.setPivotActive(!0,l),c.addPivotCol(e)),r&&typeof $=="number"&&(r[e.getId()]=$)):e.isPivotActive()&&(e.setPivotActive(!1,l),c.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;let i=[];e.state.forEach(n=>{n.colId!=null&&i.push(n.colId)}),this.columnModel.sortColsLikeKeys(i)}compareColumnStatesAndDispatchEvents(e){let i={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},n=this.columnGetStateService.getColumnState(),o={};return n.forEach(r=>{o[r.colId]=r}),()=>{let r=this.columnModel.getAllCols(),s=(M,k,G,J)=>{let $=k.map(J),_e=G.map(J);if(Lg($,_e))return;let Pe=new Set(k);G.forEach(nt=>{Pe.delete(nt)||Pe.add(nt)});let $e=[...Pe];this.eventService.dispatchEvent({type:M,columns:$e,column:$e.length===1?$e[0]:null,source:e})},l=M=>{let k=[];return r.forEach(G=>{let J=o[G.getColId()];J&&M(J,G)&&k.push(G)}),k},c=M=>M.getColId();s("columnRowGroupChanged",i.rowGroupColumns,this.funcColsService.getRowGroupColumns(),c),s("columnPivotChanged",i.pivotColumns,this.funcColsService.getPivotColumns(),c);let u=l((M,k)=>{let G=M.aggFunc!=null,J=G!=k.isValueActive(),$=G&&M.aggFunc!=k.getAggFunc();return J||$});u.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",u,e);let h=(M,k)=>M.width!=k.getActualWidth();this.eventDispatcher.columnResized(l(h),!0,e);let g=(M,k)=>M.pinned!=k.getPinned();this.eventDispatcher.columnPinned(l(g),e);let p=(M,k)=>M.hide==k.isVisible();this.eventDispatcher.columnVisible(l(p),e);let y=l((M,k)=>M.sort!=k.getSort()||M.sortIndex!=k.getSortIndex());y.length>0&&this.sortController.dispatchSortChangedEvents(e,y),this.normaliseColumnMovedEventForColumnState(n,e)}}normaliseColumnMovedEventForColumnState(e,i){let n=this.columnGetStateService.getColumnState(),o={};n.forEach(d=>o[d.colId]=d);let r={};e.forEach(d=>{o[d.colId]&&(r[d.colId]=!0)});let s=e.filter(d=>r[d.colId]),l=n.filter(d=>r[d.colId]),c=[];l.forEach((d,u)=>{let h=s&&s[u];if(h&&h.colId!==d.colId){let g=this.columnModel.getCol(h.colId);g&&c.push(g)}}),c.length&&this.eventDispatcher.columnMoved({movedColumns:c,source:i,finished:!0})}},dq=(e,i,n,o)=>{let r=e[n.getId()],s=e[o.getId()],l=r!=null,c=s!=null;if(l&&c)return r-s;if(l)return-1;if(c)return 1;let d=i.indexOf(n),u=i.indexOf(o),h=d>=0,g=u>=0;return h&&g?d-u:h?-1:1},Dpe=class extends Qe{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,i,n){let o=this.columnModel.getCols();if(!o)return;let r=o[e];this.moveColumns([r],i,n)}moveColumns(e,i,n,o=!0){let r=this.columnModel.getCols();if(!r)return;if(i>r.length-e.length){et("tried to insert columns in invalid location, toIndex = ",i),et("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();let s=this.columnModel.getColsForKeys(e);this.doesMovePassRules(s,i)&&(this.columnModel.moveInCols(s,i,n),this.eventDispatcher.columnMoved({movedColumns:s,source:n,toIndex:i,finished:o})),this.columnAnimationService.finish()}doesMovePassRules(e,i){let n=this.getProposedColumnOrder(e,i);return this.doesOrderPassRules(n)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,i){let o=this.columnModel.getCols().slice();return Vq(o,e,i),o}doesMovePassLockedPositions(e){let i=s=>s?s==="left"||s===!0?-1:1:0,n=this.gos.get("enableRtl"),o=n?1:-1,r=!0;return e.forEach(s=>{let l=i(s.getColDef().lockPosition);n?l>o&&(r=!1):l<o&&(r=!1),o=l}),r}doesMovePassMarryChildren(e){let i=!0,n=this.columnModel.getColTree();return vh(null,n,o=>{if(!Fr(o))return;let r=o,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;let c=[];r.getLeafColumns().forEach(p=>{let f=e.indexOf(p);c.push(f)});let d=Math.max.apply(Math,c),u=Math.min.apply(Math,c),h=d-u,g=r.getLeafColumns().length-1;h>g&&(i=!1)}),i}placeLockedColumns(e){let i=[],n=[],o=[];return e.forEach(s=>{let l=s.getColDef().lockPosition;l==="right"?o.push(s):l==="left"||l===!0?i.push(s):n.push(s)}),this.gos.get("enableRtl")?[...o,...n,...i]:[...i,...n,...o]}},Epe=/[&<>"']/g,Mpe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gu(e,i){if(e==null)return null;let n=e.toString().toString();return i?n:n.replace(Epe,o=>Mpe[o])}function kpe(e){if(!e||e==null)return null;let i=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(i,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}function Ipe(e){return e.replace(/[A-Z]/g,i=>`-${i.toLocaleLowerCase()}`)}var Rpe=class extends Qe{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,i,n=!1){if(!e)return null;let o=this.getHeaderName(e.getColDef(),e,null,null,i);return n?this.wrapHeaderNameWithAggFunc(e,o):o}getDisplayNameForProvidedColumnGroup(e,i,n){let o=i?i.getColGroupDef():null;return o?this.getHeaderName(o,null,e,i,n):null}getDisplayNameForColumnGroup(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)}getHeaderName(e,i,n,o,r){let s=e.headerValueGetter;if(s){let l=this.gos.addGridCommonParams({colDef:e,column:i,columnGroup:n,providedColumnGroup:o,location:r});return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(et("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return kpe(e.field)}return""}wrapHeaderNameWithAggFunc(e,i){if(this.gos.get("suppressAggFuncInHeader"))return i;let n=e.getColDef().pivotValueColumn,o=rt(n),r=null,s;if(o){let l=this.funcColsService.getValueColumns(),c=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&l.length===1,d=e.getColDef().pivotTotalColumnIds!==void 0;if(c&&!d)return i;r=n?n.getAggFunc():null,s=!0}else{let l=e.isValueActive(),c=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();l&&c?(r=e.getAggFunc(),s=!0):s=!1}if(s){let l=typeof r=="string"?r:"func";return`${this.localeService.getLocaleTextFunc()(l,l)}(${i})`}return i}},Ape=class extends Qe{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){Rg(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,i){if(this.pivotResultCols==null)return null;let n=this.columnModel.getColDefCol(i),o=null;return this.pivotResultCols.list.forEach(r=>{let s=r.getColDef().pivotKeys,l=r.getColDef().pivotValueColumn;Lg(s,e)&&l===n&&(o=r)}),o}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,i){if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);let n=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,i);Rg(this.context,this.pivotResultCols?.tree,n.columnTree);let o=n.columnTree,r=n.treeDept,s=R6(o),l={};this.pivotResultCols={tree:o,treeDepth:r,list:s,map:l},this.pivotResultCols.list.forEach(d=>this.pivotResultCols.map[d.getId()]=d);let c=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!c)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(i)}}processPivotResultColDef(e){let i=this.gos.get("processPivotResultColDef"),n=this.gos.get("processPivotResultColGroupDef");if(!i&&!n)return;let o=r=>{r.forEach(s=>{if(rt(s.children)){let c=s;n&&n(c),o(c.children)}else i&&i(s)})};e&&o(e)}},Tpe=class extends Qe{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,i,n,o){let r=[];e.forEach(s=>{let l=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(!l)return;if(r.push({width:s.newWidth,ratios:[1],columns:[l]}),this.gos.get("colResizeDefault")==="shift"&&(i=!i),i){let d=this.visibleColsService.getColAfter(l);if(!d)return;let u=l.getActualWidth()-s.newWidth,h=d.getActualWidth()+u;r.push({width:h,ratios:[1],columns:[d]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:o})}resizeColumnSets(e){let{resizeSets:i,finished:n,source:o}=e;if(!(!i||i.every(h=>this.checkMinAndMaxWidthsForSet(h)))){if(n){let h=i&&i.length>0?i[0].columns:null;this.eventDispatcher.columnResized(h,n,o)}return}let s=[],l=[];i.forEach(h=>{let{width:g,columns:p,ratios:f}=h,y={},M={};p.forEach(J=>l.push(J));let k=!0,G=0;for(;k;){if(G++,G>1e3){Hi("infinite loop in resizeColumnSets");break}k=!1;let J=[],$=0,_e=g;p.forEach((Pe,$e)=>{if(M[Pe.getId()])_e-=y[Pe.getId()];else{J.push(Pe);let at=f[$e];$+=at}});let Te=1/$;J.forEach((Pe,$e)=>{let nt=$e===J.length-1,at;nt?at=_e:(at=Math.round(f[$e]*g*Te),_e-=at);let Ft=Pe.getMinWidth(),Zt=Pe.getMaxWidth();at<Ft?(at=Ft,M[Pe.getId()]=!0,k=!0):Zt>0&&at>Zt&&(at=Zt,M[Pe.getId()]=!0,k=!0),y[Pe.getId()]=at})}p.forEach(J=>{let $=y[J.getId()];J.getActualWidth()!==$&&(J.setActualWidth($,o),s.push(J))})});let c=s.length>0,d=[];c&&(d=this.refreshFlexedColumns({resizingCols:l,skipSetLeft:!0}),this.visibleColsService.setLeftValues(o),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());let u=l.concat(d);(c||n)&&this.eventDispatcher.columnResized(u,n,o,d)}checkMinAndMaxWidthsForSet(e){let{columns:i,width:n}=e,o=0,r=0,s=!0;i.forEach(d=>{let u=d.getMinWidth();o+=u||0;let h=d.getMaxWidth();h>0?r+=h:s=!1});let l=n>=o,c=!s||n<=r;return l&&c}refreshFlexedColumns(e={}){let i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=this.visibleColsService.getCenterCols(),o=-1;if(e.resizingCols){let p=new Set(e.resizingCols);for(let f=n.length-1;f>=0;f--)if(p.has(n[f])){o=f;break}}let r=0,s=[],l=0,c=0;for(let p=0;p<n.length;p++)n[p].getFlex()&&p>o?(s.push(n[p]),c+=n[p].getFlex(),l+=n[p].getMinWidth()):r+=n[p].getActualWidth();if(!s.length)return[];let d=[];r+l>this.flexViewportWidth&&(s.forEach(p=>p.setActualWidth(p.getMinWidth(),i)),d=s,s=[]);let u=[],h;e:for(;;){h=this.flexViewportWidth-r;let p=h/c;for(let f=0;f<s.length;f++){let y=s[f],M=p*y.getFlex(),k=0,G=y.getMinWidth(),J=y.getMaxWidth();if(M<G?k=G:M>J&&(k=J),k){y.setActualWidth(k,i),Bq(s,y),c-=y.getFlex(),d.push(y),r+=y.getActualWidth();continue e}u[f]=Math.floor(M)}break}let g=h;return s.forEach((p,f)=>{let y=f<s.length-1?Math.min(u[f],g):Math.max(u[f],g);p.setActualWidth(y,i),d.push(p),g-=u[f]}),e.skipSetLeft||this.visibleColsService.setLeftValues(i),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(d,!0,i,s),s}sizeColumnsToFit(e,i="sizeColumnsToFit",n,o){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,i,n,o));return}let r={};o&&o?.columnLimits?.forEach(y=>{var M=y,{key:p}=M,f=Ak(M,["key"]);r[typeof p=="string"?p:p.getColId()]=f});let s=this.visibleColsService.getAllCols(),l=e===hh(s);if(e<=0||!s.length||l)return;let c=[],d=[];s.forEach(p=>{p.getColDef().suppressSizeToFit===!0?d.push(p):c.push(p)});let u=c.slice(0),h=!1,g=p=>{Nr(c,p),d.push(p)};for(c.forEach(p=>{p.resetActualWidth(i);let f=r?.[p.getId()],y=f?.minWidth??o?.defaultMinWidth,M=f?.maxWidth??o?.defaultMaxWidth,k=p.getActualWidth();typeof y=="number"&&k<y?p.setActualWidth(y,i,!0):typeof M=="number"&&k>M&&p.setActualWidth(M,i,!0)});!h;){h=!0;let p=e-hh(d);if(p<=0)c.forEach(f=>{let y=r?.[f.getId()]?.minWidth??o?.defaultMinWidth;if(typeof y=="number"){f.setActualWidth(y,i,!0);return}f.setMinimum(i)});else{let f=p/hh(c),y=p;for(let M=c.length-1;M>=0;M--){let k=c[M],G=r?.[k.getId()],J=G?.minWidth??o?.defaultMinWidth,$=G?.maxWidth??o?.defaultMaxWidth,_e=k.getMinWidth(),Te=k.getMaxWidth(),Pe=typeof J=="number"&&J>_e?J:_e,$e=typeof $=="number"&&$<Te?$:Te,nt=Math.round(k.getActualWidth()*f);nt<Pe?(nt=Pe,g(k),h=!1):nt>$e?(nt=$e,g(k),h=!1):M===0&&(nt=y),k.setActualWidth(nt,i,!0),y-=nt}}}u.forEach(p=>{p.fireColumnWidthChangedEvent(i)}),this.visibleColsService.setLeftValues(i),this.visibleColsService.updateBodyWidths(),!n&&this.eventDispatcher.columnResized(u,!0,i)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:i}=e;setTimeout(()=>{if(i==="fitGridWidth"){let{columnLimits:n,defaultMinWidth:o,defaultMaxWidth:r}=e,s=n?.map(({colId:l,minWidth:c,maxWidth:d})=>({key:l,minWidth:c,maxWidth:d}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:o,defaultMaxWidth:r,columnLimits:s})}else i==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function $q(e,i){return e+"_"+i}function Co(e){return e instanceof qq}var qq=class extends Qe{constructor(e,i,n,o){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=i,this.partId=n,this.providedColumnGroup=e,this.pinned=o}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return $q(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Co(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let i=Li(this.displayedChildren).getLeft();this.setLeft(i)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(i=>{e+=i.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}addDisplayedLeafColumns(e){this.displayedChildren.forEach(i=>{Pg(i)?e.push(i):Co(i)&&i.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(i=>{Pg(i)?e.push(i):Co(i)&&i.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Co(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Kq=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let i=this.existingIds[e],n;return typeof i!="number"?n=0:n=i+1,this.existingIds[e]=n,n}},Fpe=class extends Qe{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,i=!1){i||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=UO(this.treeLeft),this.columnsCenter=UO(this.treeCenter),this.columnsRight=UO(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(n=>n.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){let e=hh(this.columnsCenter),i=hh(this.columnsLeft),n=hh(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=i,this.rightWidth=n,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let i,n;this.gos.get("enableRtl")?(i=this.columnsLeft?this.columnsLeft[0]:null,n=this.columnsRight?Li(this.columnsRight):null):(i=this.columnsLeft?Li(this.columnsLeft):null,n=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(o=>{o.setLastLeftPinned(o===i,e),o.setFirstRightPinned(o===n,e)})}buildTrees(){let e=this.columnModel.getColsToShow(),i=e.filter(s=>s.getPinned()=="left"),n=e.filter(s=>s.getPinned()=="right"),o=e.filter(s=>s.getPinned()!="left"&&s.getPinned()!="right"),r=new Kq;this.treeLeft=this.createGroups({columns:i,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:n,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:o,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){let e=this.columnModel.getCols(),i=[],n=[],o=[];for(let r of e){let s=r.getPinned();s?s===!0||s==="left"?i.push(r):o.push(r):n.push(r)}this.ariaOrderColumns=i.concat(n).concat(o)}getAriaColIndex(e){let i;return Co(e)?i=e.getLeafColumns()[0]:i=e,this.ariaOrderColumns.indexOf(i)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(i=>{Co(i)&&i.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;let n=this.columnModel.getCols().slice(0),o=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(o){let s=hh(r);r.forEach(l=>{s-=l.getActualWidth(),l.setLeft(s,e)})}else{let s=0;r.forEach(l=>{l.setLeft(s,e),s+=l.getActualWidth()})}ape(n,r)}),n.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,i,n,o){let r=[],s=null;for(let l=0;l<i.length;l++){let c=i[l],d=i.length-l,u=Math.min(c.getColSpan(e),d),h=[c];if(u>1){let p=u-1;for(let f=1;f<=p;f++)h.push(i[l+f]);l+=p}let g;n?(g=!1,h.forEach(p=>{n(p)&&(g=!0)})):g=!0,g&&(r.length===0&&s&&(o&&o(c))&&r.push(s),r.push(c)),s=c}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){let i=this.getAllCols(),n=i.indexOf(e);return n>0?i[n-1]:null}getGroupAtDirection(e,i){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),r=i==="After"?Li(o):o[0],s=`getCol${i}`;for(;;){let l=this[s](r);if(!l)return null;let c=this.getColGroupAtLevel(l,n);if(c!==e)return c}}getColGroupAtLevel(e,i){let n=e.getParent(),o,r;for(;o=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(o+r<=i);)n=n.getParent();return n}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=i=>{this.colsAndGroupsMap[i.getUniqueId()]=i};vf(this.treeCenter,!1,e),vf(this.treeLeft,!1,e),vf(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){let e=this.getAllTrees();vf(e,!1,i=>{Co(i)&&i.calculateDisplayedColumns()})}getFirstColumn(){let e=this.gos.get("enableRtl"),i=["getLeftCols","getCenterCols","getRightCols"];e&&i.reverse();for(let n=0;n<i.length;n++){let o=this[i[n]]();if(o.length)return e?Li(o):o[0]}return null}getColumnGroup(e,i){if(!e)return null;if(Co(e))return e;let n=this.getAllTrees(),o=typeof i=="number",r=null;return vf(n,!1,s=>{if(Co(s)){let l=s,c;o?c=e===l.getGroupId()&&i===l.getPartId():c=e===l.getGroupId(),c&&(r=l)}}),r}getColAfter(e){let i=this.getAllCols(),n=i.indexOf(e);return n<i.length-1?i[n+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return hh(this.columnsLeft)}getDisplayedColumnsRightWidth(){return hh(this.columnsRight)}isColAtEdge(e,i){let n=this.getAllCols();if(!n.length)return!1;let o=i==="first",r;if(Co(e)){let s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=o?s[0]:Li(s)}else r=e;return(o?n[0]:Li(n))===r}createGroups(e){let{columns:i,idCreator:n,pinned:o,oldDisplayedGroups:r,isStandaloneStructure:s}=e,l=this.mapOldGroupsById(r),c=[],d=i;for(;d.length;){let u=d;d=[];let h=0,g=p=>{let f=h;h=p;let y=u[f],k=(Co(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(k==null){for(let J=f;J<p;J++)c.push(u[J]);return}let G=this.createColGroup(k,n,l,o,s);for(let J=f;J<p;J++)G.addChild(u[J]);d.push(G)};for(let p=1;p<u.length;p++){let f=u[p],M=(Co(f)?f.getProvidedColumnGroup():f).getOriginalParent(),k=u[h],J=(Co(k)?k.getProvidedColumnGroup():k).getOriginalParent();M!==J&&g(p)}h<u.length&&g(u.length)}return s||this.setupParentsIntoCols(c,null),c}createColGroup(e,i,n,o,r){let s=e.getGroupId(),l=i.getInstanceIdForKey(s),c=$q(s,l),d=n[c];return d&&d.getProvidedColumnGroup()!==e&&(d=null),rt(d)?d.reset():(d=new qq(e,s,l,o),r||this.createBean(d)),d}mapOldGroupsById(e){let i={},n=o=>{o.forEach(r=>{if(Co(r)){let s=r;i[r.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),i}setupParentsIntoCols(e,i){e.forEach(n=>{if(n.setParent(i),Co(n)){let o=n;this.setupParentsIntoCols(o.getChildren(),o)}})}};function vf(e,i,n){if(e)for(let o=0;o<e.length;o++){let r=e[o];if(Co(r)){let s=i?r.getDisplayedChildren():r.getChildren();vf(s,i,n)}n(r)}}function UO(e){let i=[];return vf(e,!0,n=>{Pg(n)&&i.push(n)}),i}var Yq=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],Ppe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],Lpe=[...Yq,...Ppe],Npe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},mr=class{};mr.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];mr.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];mr.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];mr.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];mr.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];mr.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];mr.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];mr.ALL_PROPERTIES=[...mr.ARRAY_PROPERTIES,...mr.OBJECT_PROPERTIES,...mr.STRING_PROPERTIES,...mr.NUMBER_PROPERTIES,...mr.FUNCTION_PROPERTIES,...mr.BOOLEAN_PROPERTIES,...mr.OTHER_PROPERTIES];var jy=mr,Qs=class{static getCallbackForEvent(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substring(1)}};Qs.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Qs.PUBLIC_EVENTS=Yq;Qs.EVENT_CALLBACKS=Lpe.map(e=>Qs.getCallbackForEvent(e));Qs.BOOLEAN_PROPERTIES=jy.BOOLEAN_PROPERTIES;Qs.ALL_PROPERTIES=jy.ALL_PROPERTIES;Qs.ALL_PROPERTIES_AND_CALLBACKS=[...Qs.ALL_PROPERTIES,...Qs.EVENT_CALLBACKS];Qs.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Qs.ALL_PROPERTIES_AND_CALLBACKS);var Wy=Qs;function Qq(e,i){typeof e!="object"&&(e={});let n=We({},e);return Wy.ALL_PROPERTIES_AND_CALLBACKS.forEach(r=>{let s=i[r];typeof s<"u"&&s!==Wy.VUE_OMITTED_PROPERTY&&(n[r]=s)}),n}function Zq(e,i){if(!e)return;let n={},o=!1;if(Object.keys(e).filter(l=>Wy.ALL_PROPERTIES_AND_CALLBACKS_SET.has(l)).forEach(l=>{n[l]=e[l],o=!0}),!o)return;let r={type:"gridOptionsChanged",options:n};i.dispatchEvent(r);let s={type:"componentStateChanged"};qs(n,(l,c)=>{s[l]=c}),i.dispatchEvent(s)}function Yy(e,i,n){return n&&e.addDestroyFunc(()=>i.destroyBean(n)),n??e}var Ope=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){let i=(e||"").split(" ");if(i.length>1){i.forEach(o=>this.addCssClass(o));return}if(this.cssClassStates[e]!==!0&&e.length){let o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){let i=(e||"").split(" ");if(i.length>1){i.forEach(o=>this.removeCssClass(o));return}if(this.cssClassStates[e]!==!1&&e.length){let o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){let i=this.getGui();return i?i.classList.contains(e):!1}addOrRemoveCssClass(e,i){if(!e)return;if(e.indexOf(" ")>=0){let o=(e||"").split(" ");if(o.length>1){o.forEach(r=>this.addOrRemoveCssClass(r,i));return}}if(this.cssClassStates[e]!==i&&e.length){let o=this.getGui();o&&o.classList.toggle(e,i),this.cssClassStates[e]=i}}};function wh(e,i,n){n==null||typeof n=="string"&&n==""?Xq(e,i):yl(e,i,n)}function yl(e,i,n){e.setAttribute(Jq(i),n.toString())}function Xq(e,i){e.removeAttribute(Jq(i))}function Jq(e){return`aria-${e}`}function rs(e,i){i?e.setAttribute("role",i):e.removeAttribute("role")}function zpe(e){let i;return e==="asc"?i="ascending":e==="desc"?i="descending":e==="mixed"?i="other":i="none",i}function Bpe(e){return e.getAttribute("aria-label")}function d0(e,i){wh(e,"label",i)}function Uy(e,i){wh(e,"labelledby",i)}function eK(e,i){wh(e,"live",i)}function Vpe(e,i){wh(e,"atomic",i)}function Hpe(e,i){wh(e,"relevant",i)}function Gpe(e,i){wh(e,"disabled",i)}function tK(e,i){wh(e,"hidden",i)}function ek(e,i){yl(e,"expanded",i)}function jpe(e,i){yl(e,"setsize",i)}function Wpe(e,i){yl(e,"posinset",i)}function Upe(e,i){yl(e,"multiselectable",i)}function $pe(e,i){yl(e,"rowcount",i)}function iK(e,i){yl(e,"rowindex",i)}function qpe(e,i){yl(e,"colcount",i)}function nK(e,i){yl(e,"colindex",i)}function Kpe(e,i){yl(e,"colspan",i)}function Ype(e,i){yl(e,"sort",i)}function Qpe(e){Xq(e,"sort")}function tk(e,i){wh(e,"selected",i)}function Zpe(e,i){wh(e,"controls",i.id),Uy(i,e.id)}function P6(e,i){return i===void 0?e("ariaIndeterminate","indeterminate"):i===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var $O,OM,qO,KO,YO,QO,g6,p6,ZO;function fu(){return $O===void 0&&($O=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),$O}function oK(){if(OM===void 0)if(fu()){let e=navigator.userAgent.match(/version\/(\d+)/i);e&&(OM=e[1]!=null?parseFloat(e[1]):0)}else OM=0;return OM}function L6(){if(qO===void 0){let e=window;qO=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return qO}function N6(){return KO===void 0&&(KO=/(firefox)/i.test(navigator.userAgent)),KO}function rK(){return YO===void 0&&(YO=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),YO}function Ng(){return QO===void 0&&(QO=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),QO}function f6(){return!fu()||oK()>=15}function m6(e){if(!e)return null;let i=e.tabIndex,n=e.getAttribute("tabIndex");return i===-1&&(n===null||n===""&&!N6())?null:i.toString()}function Xpe(){if(ZO!==void 0)return ZO;if(!document.body)return-1;let e=1e6,i=N6()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){let o=e*2;if(n.style.height=o+"px",o>i||n.clientHeight!==o)break;e=o}return document.body.removeChild(n),ZO=e,e}function Jpe(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}function efe(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}function tfe(){return p6==null&&sK(),p6}function sK(){let e=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",e.appendChild(i);let n=i.offsetWidth-i.clientWidth;n===0&&i.clientWidth===0&&(n=null),i.parentNode&&i.parentNode.removeChild(i),n!=null&&(p6=n,g6=n===0)}function aK(){return g6==null&&sK(),g6}var zM;var ife="[tabindex], input, select, button, textarea, [href]",lK="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function O6(e){let i=Element.prototype.matches||Element.prototype.msMatchesSelector,o=i.call(e,"input, select, button, textarea"),r=i.call(e,lK),s=bl(e);return o&&!r&&s}function Pn(e,i,n={}){let{skipAriaHidden:o}=n;e.classList.toggle("ag-hidden",!i),o||tK(e,!i)}function nfe(e,i,n={}){let{skipAriaHidden:o}=n;e.classList.toggle("ag-invisible",!i),o||tK(e,!i)}function $y(e,i){let n="disabled",o=i?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);o(e),fK(e.querySelectorAll("input"),r=>o(r))}function s0(e,i,n){let o=0;for(;e;){if(e.classList.contains(i))return!0;if(e=e.parentElement,typeof n=="number"){if(++o>n)break}else if(e===n)break}return!1}function Ef(e){let{height:i,width:n,borderTopWidth:o,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:l,paddingTop:c,paddingRight:d,paddingBottom:u,paddingLeft:h,marginTop:g,marginRight:p,marginBottom:f,marginLeft:y,boxSizing:M}=window.getComputedStyle(e);return{height:parseFloat(i||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(o||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(l||"0"),paddingTop:parseFloat(c||"0"),paddingRight:parseFloat(d||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(g||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(y||"0"),boxSizing:M}}function z6(e){let i=Ef(e);return i.boxSizing==="border-box"?i.height-i.paddingTop-i.paddingBottom:i.height}function Qy(e){let i=Ef(e);return i.boxSizing==="border-box"?i.width-i.paddingLeft-i.paddingRight:i.width}function cK(e){let{height:i,marginBottom:n,marginTop:o}=Ef(e);return Math.floor(i+n+o)}function ik(e){let{width:i,marginLeft:n,marginRight:o}=Ef(e);return Math.floor(i+n+o)}function dK(e){let i=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:o,borderRightWidth:r,borderBottomWidth:s}=Ef(e);return{top:i.top+(n||0),left:i.left+(o||0),right:i.right+(r||0),bottom:i.bottom+(s||0)}}function nk(){if(typeof zM=="boolean")return zM;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,zM=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),zM}function ok(e,i){let n=e.scrollLeft;return i&&(n=Math.abs(n),L6()&&!nk()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n}function rk(e,i,n){n&&(nk()?i*=-1:(fu()||L6())&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),e.scrollLeft=i}function vr(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Ys(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function uK(e){return!!e.offsetParent}function bl(e){let i=e;return i.checkVisibility?i.checkVisibility({checkVisibilityCSS:!0}):!(!uK(e)||window.getComputedStyle(e).visibility!=="visible")}function qy(e){let i=document.createElement("div");return i.innerHTML=(e||"").trim(),i.firstChild}function hK(e,i,n){n&&n.nextSibling===i||(n?n.nextSibling?e.insertBefore(i,n.nextSibling):e.appendChild(i):e.firstChild&&e.firstChild!==i&&e.insertAdjacentElement("afterbegin",i))}function gK(e,i){for(let n=0;n<i.length;n++){let o=i[n],r=e.children[n];r!==o&&e.insertBefore(o,r)}}function ofe(e,i,n){n?n.insertAdjacentElement("afterend",i):e.firstChild?e.insertAdjacentElement("afterbegin",i):e.appendChild(i)}function pK(e,i){if(i)for(let[n,o]of Object.entries(i)){if(!n||!n.length||o==null)continue;let r=Ipe(n),s=o.toString(),l=s.replace(/\s*!important/g,""),c=l.length!=s.length?"important":void 0;e.style.setProperty(r,l,c)}}function rfe(e){return e.clientWidth<e.scrollWidth}function sfe(e){return e.clientHeight<e.scrollHeight}function sk(e,i){i==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):wl(e,i)}function wl(e,i){i=B6(i),e.style.width=i.toString(),e.style.maxWidth=i.toString(),e.style.minWidth=i.toString()}function Ny(e,i){i=B6(i),e.style.height=i.toString(),e.style.maxHeight=i.toString(),e.style.minHeight=i.toString()}function B6(e){return typeof e=="number"?`${e}px`:e}function V6(e){return e instanceof Node||e instanceof HTMLElement}function afe(e){if(e==null)return[];let i=[];return fK(e,n=>i.push(n)),i}function lfe(e,i){if(e)for(let n=0;n<e.length;n++){let o=e[n];i(o.name,o.value)}}function Zs(e,i,n){n==null||n===""?e.removeAttribute(i):e.setAttribute(i,n.toString())}function fK(e,i){if(e!=null)for(let n=0;n<e.length;n++)i(e[n])}var u0=class{constructor(e=0,i=1){this.nextValue=e,this.step=i}next(){let e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},cfe=1e3,dfe=1e3,uq=100,ufe=(()=>{let e=class pf extends Qe{constructor(n,o,r,s){super(),this.parentComp=n,this.tooltipShowDelayOverride=o,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(n){this.popupService=n.popupService,this.userComponentFactory=n.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let n=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(n,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(n,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(n,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(n,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(n){let o=this.gos.get(n);return o<0&&et(`${n} should not be lower than 0`),Math.max(200,o)}getTooltipDelay(n){return n==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let n=this.gos.get("tooltipTrigger");return!n||n==="hover"?0:1}onMouseEnter(n){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ng()&&(pf.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(n)},uq):this.prepareToShowTooltip(n))}onMouseMove(n){this.lastMouseEvent&&(this.lastMouseEvent=n),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(n){let o=n.relatedTarget,r=this.parentComp.getGui(),s=this.tooltipComp?.getGui();this.isInteractingWithTooltip||r.contains(o)||this.interactionEnabled&&s?.contains(o)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(n){if(this.state!=0||pf.isLocked)return;let o=0;n&&(o=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=n||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),o),this.state=1}isLastTooltipHiddenRecently(){let n=new Date().getTime(),o=pf.lastTooltipHideTime;return n-o<cfe}setToDoNothing(n){!n&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let n=We({},this.parentComp.getTooltipParams());if(!rt(n.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;let o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(n).newAgStackInstance().then(o)}hideTooltip(n){!n&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),pf.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),n&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(n,o){if(this.state!==2||this.tooltipInstanceCount!==n){this.destroyBean(o);return}let s=o.getGui();this.tooltipComp=o,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");let l=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({eChild:s,ariaLabel:l("ariaLabelTooltip","Tooltip")});if(c&&(this.tooltipPopupDestroyFunc=c.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let d=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:d,columnMoved:d})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(so(this.gos),{keydown:d=>{s.contains(d?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let n=this.tooltipComp?.getGui(),o=Ln(this.gos);return!!n&&n.contains(o)}onTooltipFocusOut(n){let o=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,o.contains(n.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let n={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(At(We({},n),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(At(We({},n),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let n=this.tooltipPopupDestroyFunc,o=this.tooltipComp,r=this.tooltipTrigger===0?dfe:0;window.setTimeout(()=>{n(),this.destroyBean(o)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(n=>{n&&n()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){pf.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},uq)}unlockService(){pf.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};return e.isLocked=!1,e})(),hfe=ufe,p0=class extends Qe{constructor(e,i){super(),this.ctrl=e,i&&(this.beans=i)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){let i="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(i,e):n.removeAttribute(i))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null)return;let e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new hfe(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){let e=this.ctrl,i=e.getColumn?.(),n=e.getColDef?.(),o=e.getRowNode?.();return{location:e.getLocation(),colDef:n,column:i,rowIndex:e.getRowIndex?.(),node:o,data:o?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},gfe=new u0,ft=null,zi=class mK extends Qe{constructor(i,n){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=gfe.next(),this.cssClassManager=new Ope(()=>this.eGui),this.componentSelectors=new Map((n??[]).map(o=>[o.selector,o])),i&&this.setTemplate(i)}preWireBeans(i){super.preWireBeans(i)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(i,n){i&&this.gos&&(this.applyElementsToComponent(i),this.createChildComponentsFromTags(i,n))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(i){let{newTooltipText:n,showDelayOverride:o,hideDelayOverride:r,location:s,shouldDisplayTooltip:l}=i||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==n&&(this.tooltipText=n);let c=()=>this.tooltipText;n!=null&&(this.tooltipFeature=this.createBean(new p0({getTooltipValue:c,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:i?.getColDef,getColumn:i?.getColumn,getTooltipShowDelayOverride:o!=null?()=>o:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:l})))}getDataRefAttribute(i){return i.getAttribute?i.getAttribute("data-ref"):null}applyElementsToComponent(i,n,o,r=null){if(n===void 0&&(n=this.getDataRefAttribute(i)),n){let s=this[n];if(s===ft)this[n]=r??i;else{let l=o&&o[n];!this.suppressDataRefValidation&&!l&&et(`Issue with data-ref: ${n} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(i,n){afe(i.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;let s=this.createComponentFromElement(r,l=>{l.getGui()&&this.copyAttributesFromNode(r,l.getGui())},n);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,n);let l=Array.prototype.slice.call(r.children);s.addItems(l)}this.swapComponentForNode(s,i,r)}else r.childNodes&&this.createChildComponentsFromTags(r,n)})}createComponentFromElement(i,n,o){let r=i.nodeName,s=this.getDataRefAttribute(i),l=r.indexOf("AG-")===0,c=l?this.componentSelectors.get(r):null,d=null;if(c){mK.elementGettingCreated=i;let u=o&&s?o[s]:void 0;d=new c.component(u),d.setParentComponent(this),this.createBean(d,null,n)}else l&&et(`Missing selector: ${r}`);return this.applyElementsToComponent(i,s,o,d),d}copyAttributesFromNode(i,n){lfe(i.attributes,(o,r)=>n.setAttribute(o,r))}swapComponentForNode(i,n,o){let r=i.getGui();n.replaceChild(r,o),n.insertBefore(document.createComment(o.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,i))}activateTabIndex(i){let n=this.gos.get("tabIndex");i||(i=[]),i.length||i.push(this.getGui()),i.forEach(o=>o.setAttribute("tabindex",n.toString()))}setTemplate(i,n,o){let r=qy(i);this.setTemplateFromElement(r,n,o)}setTemplateFromElement(i,n,o,r=!1){if(this.eGui=i,this.suppressDataRefValidation=r,n)for(let s=0;s<n.length;s++){let l=n[s];this.componentSelectors.set(l.selector,l)}this.wireTemplate(i,o)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(i){this.parentComponent=i}getParentComponent(){return this.parentComponent}setGui(i){this.eGui=i}queryForHtmlElement(i){return this.eGui.querySelector(i)}getContainerAndElement(i,n){let o=n;return i==null?null:(o||(o=this.eGui),V6(i)?{element:i,parent:o}:{element:i.getGui(),parent:o})}prependChild(i,n){let{element:o,parent:r}=this.getContainerAndElement(i,n)||{};!o||!r||r.insertAdjacentElement("afterbegin",o)}appendChild(i,n){let{element:o,parent:r}=this.getContainerAndElement(i,n)||{};!o||!r||r.appendChild(o)}isDisplayed(){return this.displayed}setVisible(i,n={}){if(i!==this.visible){this.visible=i;let{skipAriaHidden:o}=n;nfe(this.eGui,i,{skipAriaHidden:o})}}setDisplayed(i,n={}){if(i!==this.displayed){this.displayed=i;let{skipAriaHidden:o}=n;Pn(this.eGui,i,{skipAriaHidden:o});let r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(i,n,o){this.eGui.addEventListener(i,n,o),this.addDestroyFunc(()=>this.eGui.removeEventListener(i,n))}addCssClass(i){this.cssClassManager.addCssClass(i)}removeCssClass(i){this.cssClassManager.removeCssClass(i)}containsCssClass(i){return this.cssClassManager.containsCssClass(i)}addOrRemoveCssClass(i,n){this.cssClassManager.addOrRemoveCssClass(i,n)}},vK={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},pfe=(()=>{let e=new Set(Object.values(vK));return e.add("eye"),e})();function ffe(e,i,n){let o=Ss(e,i,n);if(o){let{className:s}=o;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return o}let r=document.createElement("span");return r.appendChild(o),r}function Ss(e,i,n,o){let r=null,s=n&&n.getColDef().icons;if(s&&(r=s[e]),i&&!r){let l=i.get("icons");l&&(r=l[e])}if(r){let l;if(typeof r=="function")l=r();else if(typeof r=="string")l=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof l=="string")return qy(l);if(V6(l))return l;et("iconRenderer should return back a string or a dom object")}else{let l=document.createElement("span"),c=vK[e]??(pfe.has(e)?e:void 0);return c||(o?c=e:(et(`Did not find icon ${e}`),c="")),l.setAttribute("class",`ag-icon ag-icon-${c}`),l.setAttribute("unselectable","on"),rs(l,"presentation"),l}}var mfe=class extends zi{constructor(){super(...arguments),this.dragSource=null,this.eIcon=ft,this.eLabel=ft}postConstruct(){let e=i=>ffe(i,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,i=!1){vr(this.eIcon);let n=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),n=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",i),!(n===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&n&&this.eIcon.appendChild(n)}setLabel(e){this.eLabel.textContent=gu(e)}};function CK(e,i,n){if(n===0)return!1;let o=Math.abs(e.clientX-i.clientX),r=Math.abs(e.clientY-i.clientY);return Math.max(o,r)<=n}var Ag=class{constructor(e,i=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new h0,this.eElement=e,this.preventMouseClick=i;let n=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",o,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let i=this.touchStart;window.setTimeout(()=>{let n=this.touchStart===i;if(this.touching&&n&&!this.moved){this.moved=!0;let o={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(o)}},500)}onTouchMove(e){if(!this.touching)return;let i=this.getActiveTouch(e.touches);if(!i)return;!CK(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let i={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Iy(e,i){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${i} ag-hidden" aria-hidden="true"></span>`}var vfe=`<span class="ag-sort-indicator-container">
        ${Iy("Order","order")}
        ${Iy("Asc","ascending-icon")}
        ${Iy("Desc","descending-icon")}
        ${Iy("Mixed","mixed-icon")}
        ${Iy("None","none-icon")}
    </span>`,H6=class extends zi{constructor(e){super(),this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,e||this.setTemplate(vfe)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,i,n,o,r){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=n,this.eSortMixed=o,this.eSortNone=r}setupSort(e,i=!1){if(this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let n=this.updateIcons.bind(this),o=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:o,columnRowGroupChanged:o}),this.onSortChanged()}addInIcon(e,i,n){if(i==null)return;let o=Ss(e,this.gos,n);o&&i.appendChild(o)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){let i=e==="asc";Pn(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){let i=e==="desc";Pn(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){let i=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),n=e==null;Pn(this.eSortNone,!i&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);let e=this.column.getColDef().showRowGroup;hu(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){let e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Pn(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;let e=this.sortController.getColumnsWithSortingOrdered(),i=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,n=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1),o=i>=0&&n;Pn(this.eSortOrder,o,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():vr(this.eSortOrder)}},Cfe={selector:"AG-SORT-INDICATOR",component:H6},wfe=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,v6=class extends zi{constructor(){super(...arguments),this.eFilter=ft,this.eFilterButton=ft,this.eSortIndicator=ft,this.eMenu=ft,this.eLabel=ft,this.eText=ft,this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){let i=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||i.enableFilterButton!=e.enableFilterButton||i.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??wfe;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[Cfe]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;let i=gu(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(e,i,n){if(i==null)return;let o=Ss(e,this.gos,n);o&&i.appendChild(o)}setupTap(){let{gos:e}=this;if(e.get("suppressTouch"))return;let i=new Ag(this.getGui(),!0),n=this.shouldSuppressMenuHide(),o=n&&rt(this.eMenu),r=o?new Ag(this.eMenu,!0):i;if(this.params.enableMenu){let s=o?"tap":"longTap",l=c=>this.params.showColumnMenuAfterMouseClick(c.touchStart);this.addManagedListeners(r,{[s]:l})}if(this.params.enableSorting){let s=l=>{let c=l.touchStart.target;n&&(this.eMenu?.contains(c)||this.eFilterButton?.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(i,{tap:s})}if(this.params.enableFilterButton){let s=new Ag(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>i.destroy()),o&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Ys(this.eMenu),this.eMenu=void 0;return}let e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){let i=this.params.column,n=this.menuService.isLegacyMenuEnabled();if(e&&!n){if(this.menuService.isFilterMenuInHeaderEnabled(i))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new H6(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:i=>{let n=this.params.column.isMoving(),r=new Date().getTime()-this.lastMovingChanged<50;if(!(n||r)){let c=this.gos.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(c)}}});let e=()=>{let i=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",i==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",i==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!i),this.params.column.getColDef().showRowGroup){let r=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(s=>this.params.column.getSort()==s.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,i,n){if(!e)return Ys(i),!1;let o=this.params.column;return this.addInIcon("filter",i,o),this.addManagedListeners(o,{filterChanged:n}),n(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();Pn(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},bfe=class extends zi{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=ft,this.agClosed=ft,this.agLabel=ft}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&et("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);let e=r=>{if(fh(r))return;let s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);let i=r=>{c0(r)};this.addManagedElementListeners(this.agClosed,{dblclick:i}),this.addManagedElementListeners(this.agOpened,{dblclick:i}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();let n=this.params.columnGroup.getProvidedColumnGroup(),o=this.updateIconVisibility.bind(this);this.addManagedListeners(n,{expandedChanged:o,expandableChanged:o})}addTouchAndClickListeners(e,i){let n=new Ag(e,!0);this.addManagedListeners(n,{tap:i}),this.addDestroyFunc(()=>n.destroy()),this.addManagedElementListeners(e,{click:i})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){let i=this.params.columnGroup.isExpanded();Pn(this.agOpened,i),Pn(this.agClosed,!i)}else Pn(this.agOpened,!1),Pn(this.agClosed,!1)}addInIcon(e,i){let n=Ss(e,this.gos,null);n&&i.appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Pn(this.agOpened,!1),Pn(this.agClosed,!1);return}}setupLabel(){let{displayName:e,columnGroup:i}=this.params;if(rt(e)){let n=gu(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!i.getColGroupDef()?.suppressStickyLabel)}},yfe="\u2191",Sfe="\u2193",xfe=class extends zi{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");let n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(i),e.appendChild(n),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,i){let n=Math.abs(i),o=e.formatValue(n),r=rt(o)?o:n,s=i>=0;s?this.eDelta.textContent=yfe+r:this.eDelta.textContent=Sfe+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),vr(this.eDelta)}refresh(e,i=!1){let n=e.value;if(n===this.lastValue||(rt(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:rt(e.value)?this.eValue.textContent=n:vr(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){let o=n-this.lastValue;this.showDelta(e,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),i||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},_fe=class extends zi{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-slide-current"),e.appendChild(i),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,i=!1){let n=e.value;return Ai(n)&&(n=""),n===this.lastValue||this.filterManager?.isSuppressFlashingCellsBecauseFiltering()?!1:(i||this.addSlideAnimation(),this.lastValue=n,rt(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:rt(e.value)?this.eCurrent.textContent=n:vr(this.eCurrent),!0)}},Ze=(()=>{let e=class{};return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.D="KeyD",e.V="KeyV",e.X="KeyX",e.Y="KeyY",e.Z="KeyZ",e})(),Dfe=class extends zi{constructor(e,i,n){super(i,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:i,labelWidth:n,labelAlignment:o,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),i!=null&&this.setLabel(i),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()}refreshLabel(){vr(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Pn(this.eLabel,!1),rs(this.eLabel,"presentation")):(Pn(this.eLabel,!0),rs(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(sk(this.eLabel,e),this)}setDisabled(e){e=!!e;let i=this.getGui();return $y(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},wK=class extends Dfe{constructor(e,i,n,o){super(e,i,n),this.className=o}postConstruct(){super.postConstruct();let{width:e,value:i,onValueChange:n}=this.config;e!=null&&this.setWidth(e),i!=null&&this.setValue(i),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),i=this.getLabelId(),n=this.getLabel();n==null||n==""||Bpe(e)!==null?Uy(e,""):Uy(e,i??"")}setAriaLabel(e){return d0(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return wl(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,i){return this.value===e?this:(this.previousValue=this.value,this.value=e,i||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Cf=class extends wK{constructor(e,i,n="text",o="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${o} data-ref="eInput" class="ag-input-field-input"></${o}>
                </div>
            </div>`,[],i),this.inputType=n,this.displayFieldTag=o,this.eLabel=ft,this.eWrapper=ft,this.eInput=ft}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;let{inputName:e,inputWidth:i}=this.config;e!=null&&this.setInputName(e),i!=null&&this.setInputWidth(i),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return sk(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let i=this.eInput;return i.maxLength=e,this}setInputPlaceholder(e){return Zs(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return d0(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return $y(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Zs(this.eInput,"autocomplete",null);else{let i=typeof e=="string"?e:"off";Zs(this.eInput,"autocomplete",i)}return this}},G6=class extends Cf{constructor(e,i="ag-checkbox",n="checkbox"){super(e,i,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:i}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof i=="boolean"&&this.setPassive(i)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}getValue(){return this.isSelected()}setValue(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this}setName(e){let i=this.getInputElement();return i.name=e,this}isSelected(){return this.selected}setSelected(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,i||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,i,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:i,event:n});let o=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:o.id,name:o.name,selected:e,previousValue:i})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let i=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,i,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},j6={selector:"AG-CHECKBOX",component:G6},Efe=class extends zi{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[j6]),this.eCheckbox=ft}init(e){this.refresh(e);let i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),eK(i,"polite"),this.addManagedListeners(i,{click:n=>{if(c0(n),this.eCheckbox.isDisabled())return;let o=this.eCheckbox.getValue();this.onCheckboxChanged(o)},dblclick:n=>{c0(n)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:n=>{if(n.key===Ze.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Ln(this.gos)&&this.eCheckbox.toggle();let o=this.eCheckbox.getValue();this.onCheckboxChanged(o),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let i,n=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")i=e.value;else{let c=e.column.getColId();c.startsWith(uk)?i=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[c]!==void 0?i=e.value??void 0:n=!1}else i=e.value??void 0;if(!n){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(i);let o=e.disabled!=null?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(o);let r=this.localeService.getLocaleTextFunc(),s=P6(r,i),l=o?s:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(l)}onCheckboxChanged(e){let{column:i,node:n,value:o}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:o});let r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:o,oldValue:o,newValue:e,valueChanged:r}),r||this.updateCheckbox(this.params)}},Mfe=class extends zi{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=ft,this.eLoadingText=ft}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){let e=Ss("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);let i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},kfe=class extends zi{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){let i=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",i),this.addDestroyFunc(()=>Uy(e.eParentOfValue)),Uy(e.eParentOfValue,i),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");let i=e("ariaSkeletonCellLoadingFailed","Row failed to load");d0(this.getGui(),i)}setupLoading(e){let n=so(this.gos).createElement("div");n.classList.add("ag-skeleton-effect");let o=e.node.rowIndex;if(o!=null){let l=75+25*(o%2===0?Math.sin(o):Math.cos(o));n.style.width=`${l}%`}this.getGui().appendChild(n);let s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");d0(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},bK=class extends zi{constructor(){super()}destroy(){super.destroy()}},Ife=class extends bK{init(){let e=ph(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){let i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},Rfe=class extends bK{init(){let e=ph(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){let i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}},f0=class extends zi{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Afe=class extends f0{constructor(){super('<div class="ag-tooltip"></div>')}init(e){let{value:i}=e;this.getGui().textContent=gu(i,!0)}};function yK(e){let{inputValue:i,allSuggestions:n,hideIrrelevant:o,filterByPercentageOfBestMatch:r,addSequentialWeight:s}=e,l=n.map((u,h)=>({value:u,relevance:Ffe(i.toLowerCase(),u.toLocaleLowerCase(),s),idx:h}));if(l.sort((u,h)=>h.relevance-u.relevance),o&&(l=l.filter(u=>u.relevance!==0)),l.length>0&&r&&r>0){let h=l[0].relevance*r;l=l.filter(g=>h-g.relevance<0)}let c=[],d=[];for(let u of l)c.push(u.value),d.push(u.idx);return{values:c,indices:d}}function Tfe(e){let i=[],n=e.length;for(let o=1;o<=n;o++)for(let r=0;r<=n-o;r++){let s=r+o-1;i.push(e.slice(r,s+1))}return i}function Ffe(e,i,n=!1){let o=e.replace(/\s/g,""),r=i.replace(/\s/g,""),s=o.length,l=r.length,c=new Array(s+1).fill(null).map(()=>new Array(l+1).fill(0));for(let g=0;g<=s;g+=1)c[g][0]=g;for(let g=0;g<=l;g+=1)c[0][g]=g;for(let g=1;g<=s;g++)for(let p=1;p<=l;p++)o[g-1]===r[p-1]?c[g][p]=c[g-1][p-1]:c[g][p]=1+Math.min(c[g][p-1],Math.min(c[g-1][p],c[g-1][p-1]));let d=c[s][l],h=Math.max(s,l)-d;if(n){let g=Tfe(o);for(let p=0;p<g.length;p++){let f=g[p];r.indexOf(f)!==-1&&(h+=1,h*=f.length)}}return h}var Pfe=class extends Qe{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:mfe,agColumnHeader:v6,agColumnGroupHeader:bfe,agSortIndicator:H6,agAnimateShowChangeCellRenderer:xfe,agAnimateSlideCellRenderer:_fe,agLoadingCellRenderer:Mfe,agSkeletonCellRenderer:kfe,agCheckboxCellRenderer:Efe,agLoadingOverlay:Ife,agNoRowsOverlay:Rfe,agTooltipComponent:Afe},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){let e=this.gos.get("components");e!=null&&qs(e,(i,n)=>this.registerJsComponent(i,n))}registerDefaultComponent(e,i,n){this.agGridDefaults[e]=i,n&&(this.agGridDefaultParams[e]=n)}registerJsComponent(e,i){this.jsComps[e]=i}retrieve(e,i){let n=(c,d,u)=>({componentFromFramework:d,component:c,params:u}),o=this.getFrameworkOverrides().frameworkComponent(i,this.gos.get("components"));if(o!=null)return n(o,!0);let r=this.jsComps[i];if(r){let c=this.getFrameworkOverrides().isFrameworkComponent(r);return n(r,c)}let s=this.agGridDefaults[i];if(s)return n(s,!1,this.agGridDefaultParams[i]);let l=this.enterpriseAgDefaultCompsModule[i];return l?this.gos.assertModuleRegistered(l,`AG Grid '${e}' component: ${i}`):D6(()=>{this.warnAboutMissingComponent(e,i)},"MissingComp"+i),null}warnAboutMissingComponent(e,i){let n=[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],o=yK({inputValue:i,allSuggestions:n,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;et(`Could not find '${i}' component. It was configured as "${e}: '${i}'" but it wasn't found in the list of registered components.`),o.length>0&&et(`         Did you mean: [${o.slice(0,3)}]?`),et(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},ys=class Fy{constructor(i){this.status=0,this.resolution=null,this.waiters=[],i(n=>this.onDone(n),n=>this.onReject(n))}static all(i){return i.length?new Fy(n=>{let o=i.length,r=new Array(o);i.forEach((s,l)=>{s.then(c=>{r[l]=c,o--,o===0&&n(r)})})}):Fy.resolve()}static resolve(i=null){return new Fy(n=>n(i))}then(i){return new Fy(n=>{this.status===1?n(i(this.resolution)):this.waiters.push(o=>n(i(o)))})}onDone(i){this.status=1,this.resolution=i,this.waiters.forEach(n=>n(i))}onReject(i){}},Lfe={propertyName:"dateComponent",cellRenderer:!1},Nfe={propertyName:"dragAndDropImageComponent",cellRenderer:!1},Ofe={propertyName:"headerComponent",cellRenderer:!1},zfe={propertyName:"headerGroupComponent",cellRenderer:!1},hq={propertyName:"cellRenderer",cellRenderer:!0},Bfe={propertyName:"cellRenderer",cellRenderer:!1},Vfe={propertyName:"loadingCellRenderer",cellRenderer:!0},Hfe={propertyName:"cellEditor",cellRenderer:!1},gq={propertyName:"innerRenderer",cellRenderer:!0},Gfe={propertyName:"loadingOverlayComponent",cellRenderer:!1},jfe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Wfe={propertyName:"tooltipComponent",cellRenderer:!1},W6={propertyName:"filter",cellRenderer:!1},Ufe={propertyName:"floatingFilterComponent",cellRenderer:!1},$fe={propertyName:"toolPanel",cellRenderer:!1},qfe={propertyName:"statusPanel",cellRenderer:!1},Kfe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Yfe={propertyName:"loadingCellRenderer",cellRenderer:!0},Qfe={propertyName:"groupRowRenderer",cellRenderer:!0},Zfe={propertyName:"detailCellRenderer",cellRenderer:!0},Xfe={propertyName:"menuItem",cellRenderer:!1},SK=class xK extends Qe{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(i){this.agComponentUtils=i.agComponentUtils,this.componentMetadataProvider=i.componentMetadataProvider,this.userComponentRegistry=i.userComponentRegistry,this.frameworkComponentWrapper=i.frameworkComponentWrapper,this.gridOptions=i.gridOptions}getDragAndDropImageCompDetails(i){return this.getCompDetails(this.gridOptions,Nfe,"agDragAndDropImage",i,!0)}getHeaderCompDetails(i,n){return this.getCompDetails(i,Ofe,"agColumnHeader",n)}getHeaderGroupCompDetails(i){let n=i.columnGroup.getColGroupDef();return this.getCompDetails(n,zfe,"agColumnGroupHeader",i)}getFullWidthCellRendererDetails(i){return this.getCompDetails(this.gridOptions,Kfe,null,i,!0)}getFullWidthLoadingCellRendererDetails(i){return this.getCompDetails(this.gridOptions,Yfe,"agLoadingCellRenderer",i,!0)}getFullWidthGroupCellRendererDetails(i){return this.getCompDetails(this.gridOptions,Qfe,"agGroupRowRenderer",i,!0)}getFullWidthDetailCellRendererDetails(i){return this.getCompDetails(this.gridOptions,Zfe,"agDetailCellRenderer",i,!0)}getInnerRendererDetails(i,n){return this.getCompDetails(i,gq,null,n)}getFullWidthGroupRowInnerCellRenderer(i,n){return this.getCompDetails(i,gq,null,n)}getCellRendererDetails(i,n){return this.getCompDetails(i,hq,null,n)}getEditorRendererDetails(i,n){return this.getCompDetails(i,Bfe,null,n)}getLoadingCellRendererDetails(i,n){return this.getCompDetails(i,Vfe,"agSkeletonCellRenderer",n,!0)}getCellEditorDetails(i,n){return this.getCompDetails(i,Hfe,"agCellEditor",n,!0)}getFilterDetails(i,n,o){return this.getCompDetails(i,W6,o,n,!0)}getDateCompDetails(i){return this.getCompDetails(this.gridOptions,Lfe,"agDateInput",i,!0)}getLoadingOverlayCompDetails(i){return this.getCompDetails(this.gridOptions,Gfe,"agLoadingOverlay",i,!0)}getNoRowsOverlayCompDetails(i){return this.getCompDetails(this.gridOptions,jfe,"agNoRowsOverlay",i,!0)}getTooltipCompDetails(i){return this.getCompDetails(i.colDef,Wfe,"agTooltipComponent",i,!0)}getSetFilterCellRendererDetails(i,n){return this.getCompDetails(i,hq,null,n)}getFloatingFilterCompDetails(i,n,o){return this.getCompDetails(i,Ufe,o,n)}getToolPanelCompDetails(i,n){return this.getCompDetails(i,$fe,null,n,!0)}getStatusPanelCompDetails(i,n){return this.getCompDetails(i,qfe,null,n,!0)}getMenuItemCompDetails(i,n){return this.getCompDetails(i,Xfe,"agMenuItem",n,!0)}getCompDetails(i,n,o,r,s=!1){let{propertyName:l,cellRenderer:c}=n,{compName:d,jsComp:u,fwComp:h,paramsFromSelector:g,popupFromSelector:p,popupPositionFromSelector:f}=xK.getCompKeys(this.frameworkOverrides,i,n,r),y,M=$=>{let _e=this.userComponentRegistry.retrieve(l,$);_e&&(u=_e.componentFromFramework?void 0:_e.component,h=_e.componentFromFramework?_e.component:void 0,y=_e.params)};if(d!=null&&M(d),u==null&&h==null&&o!=null&&M(o),u&&c&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(l,u)),!u&&!h){s&&Hi(`Could not find component ${d}, did you forget to configure this component?`);return}let k=this.mergeParamsWithApplicationProvidedParams(i,n,r,g,y),G=u==null,J=u||h;return{componentFromFramework:G,componentClass:J,params:k,type:n,popupFromSelector:p,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(J,G,k,n)}}static getCompKeys(i,n,o,r){let{propertyName:s}=o,l,c,d,u,h,g;if(n){let p=n,f=p[s+"Selector"],y=f?f(r):null,M=k=>{typeof k=="string"?l=k:k!=null&&k!==!0&&(i.isFrameworkComponent(k)?d=k:c=k)};y?(M(y.component),u=y.params,h=y.popup,g=y.popupPosition):M(p[s])}return{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:g}}newAgStackInstance(i,n,o,r){let s=r.propertyName,l=!n,c;if(l)c=new i;else{let u=this.componentMetadataProvider.retrieve(s);c=this.frameworkComponentWrapper.wrap(i,u.mandatoryMethodList,u.optionalMethodList,r)}let d=this.initComponent(c,o);return d==null?ys.resolve(c):d.then(()=>c)}mergeParamsWithApplicationProvidedParams(i,n,o,r=null,s){let l=this.gos.getGridCommonParams();Pr(l,o),s&&Pr(l,s);let c=i,d=c&&c[n.propertyName+"Params"];if(typeof d=="function"){let u=d(o);Pr(l,u)}else typeof d=="object"&&Pr(l,d);return Pr(l,r),l}initComponent(i,n){if(this.createBean(i),i.init!=null)return i.init(n)}};function Oy(e){let i=e;return i!=null&&i.getFrameworkComponentInstance!=null?i.getFrameworkComponentInstance():e}var Jfe=(()=>{let e=class Ji{static register(n){Ji.__register(n,!0,void 0)}static registerModules(n){Ji.__registerModules(n,!0,void 0)}static __register(n,o,r){Ji.runVersionChecks(n),r!==void 0?(Ji.areGridScopedModules=!0,Ji.gridModulesMap[r]===void 0&&(Ji.gridModulesMap[r]={}),Ji.gridModulesMap[r][n.moduleName]=n):Ji.globalModulesMap[n.moduleName]=n,Ji.setModuleBased(o)}static __unRegisterGridModules(n){delete Ji.gridModulesMap[n]}static __registerModules(n,o,r){Ji.setModuleBased(o),n&&n.forEach(s=>Ji.__register(s,o,r))}static isValidModuleVersion(n){let[o,r]=n.version.split(".")||[],[s,l]=Ji.currentModuleVersion.split(".")||[];return o===s&&r===l}static runVersionChecks(n){Ji.currentModuleVersion||(Ji.currentModuleVersion=n.version);let o=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;if(n.version?Ji.isValidModuleVersion(n)||Hi(o(`'${n.moduleName}' is version ${n.version} but the other modules are version ${Ji.currentModuleVersion}.`)):Hi(o(`'${n.moduleName}' is incompatible.`)),n.validate){let r=n.validate();r.isValid||Hi(`${r.message}`)}}static setModuleBased(n){Ji.moduleBased===void 0?Ji.moduleBased=n:Ji.moduleBased!==n&&(Hi("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Hi("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){Ji.isBundled=!0}static __assertRegistered(n,o,r){if(this.__isRegistered(n,r))return!0;let s;if(Ji.isBundled)s=`AG Grid: unable to use ${o} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Ji.moduleBased||Ji.moduleBased===void 0){let l=Object.entries(Rq).find(([c,d])=>d===n)?.[0];s=`AG Grid: unable to use ${o} as the ${l} is not registered${Ji.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${l} } from '${n}';
    
    ModuleRegistry.registerModules([ ${l} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${o} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Hi(s),!1}static __isRegistered(n,o){return!!Ji.globalModulesMap[n]||!!Ji.gridModulesMap[o]?.[n]}static __getRegisteredModules(n){return[...UM(Ji.globalModulesMap),...UM(Ji.gridModulesMap[n]||{})]}static __getGridRegisteredModules(n){return UM(Ji.gridModulesMap[n]??{})||[]}static __isPackageBased(){return!Ji.moduleBased}};return e.globalModulesMap={},e.gridModulesMap={},e.areGridScopedModules=!1,e})(),gh=Jfe,eme=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([i,n])=>{this.beans[i]=n}),e.beanClasses.forEach(i=>{let n=new i;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(i=>{let{beanName:n,bean:o}=i(this);this.beans[n]=o,this.createdBeans.push(o)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,i){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],i),e}initBeans(e,i){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),i&&e.forEach(i),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let i=0;i<e.length;i++)this.destroyBean(e[i]);return[]}isDestroyed(){return this.destroyed}},tme=class extends eme{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),gh.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}};var _K=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(_K||{});var ime=class extends Qe{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,i=!1){let n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let i=this.dragSourceAndParamsList.find(n=>n.dragSource===e);i&&(this.dragService.removeDragSource(i.params),Nr(this.dragSourceAndParamsList,i))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,i){this.dragging=!0,this.dragSource=e,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){let i=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,i=!1){let n=this.getHorizontalDirection(e),o=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let r=this.dropTargets.filter(l=>this.isMouseOnDropTarget(e,l)),s=this.findCurrentDropTarget(e,r);if(s!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,n,o,i),this.lastDropTarget!==null&&s===null&&this.dragSource?.onGridExit?.(this.dragItem),this.lastDropTarget===null&&s!==null&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(s,e,n,o,i),s&&this.dragAndDropImageComp){let{comp:l,promise:c}=this.dragAndDropImageComp;l?l.setIcon(s.getIconName?s.getIconName():null):c.then(d=>{d&&d.setIcon(s.getIconName?s.getIconName():null)})}this.lastDropTarget=s}else if(s&&s.onDragging){let l=this.createDropTargetEvent(s,e,n,o,i);s.onDragging(l)}}getAllContainersFromDropTarget(e){let i=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return i?n.concat(i):n}allContainersIntersect(e,i){for(let n of i){let{width:o,height:r,left:s,right:l,top:c,bottom:d}=n.getBoundingClientRect();if(o===0||r===0)return!1;let u=e.clientX>=s&&e.clientX<l,h=e.clientY>=c&&e.clientY<d;if(!u||!h)return!1}return!0}isMouseOnDropTarget(e,i){let n=this.getAllContainersFromDropTarget(i),o=!1;for(let l of n)if(this.allContainersIntersect(e,l)){o=!0;break}let{eElement:r,type:s}=this.dragSource;return i.targetContainsSource&&!i.getContainer().contains(r)?!1:o&&i.isInterestedIn(s,r)}findCurrentDropTarget(e,i){let n=i.length;if(n===0)return null;if(n===1)return i[0];let r=Gy(this.gos).elementsFromPoint(e.clientX,e.clientY);for(let s of r)for(let l of i)if(cpe(this.getAllContainersFromDropTarget(l)).indexOf(s)!==-1)return l;return null}enterDragTargetIfExists(e,i,n,o,r){if(e&&e.onDragEnter){let s=this.createDropTargetEvent(e,i,n,o,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,i,n,o){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){let s=this.createDropTargetEvent(this.lastDropTarget,e,i,n,o);this.lastDropTarget.onDragLeave(s)}let r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(i=>i.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:o}=e;return n.contains(o)}getHorizontalDirection(e){let i=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return i===n?null:i>n?0:1}getVerticalDirection(e){let i=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return i===n?null:i>n?0:1}createDropTargetEvent(e,i,n,o,r){let s=e.getContainer(),l=s.getBoundingClientRect(),{dragItem:c,dragSource:d}=this,u=i.clientX-l.left,h=i.clientY-l.top;return this.gos.addGridCommonParams({event:i,x:u,y:h,vDirection:o,hDirection:n,dragSource:d,fromNudge:r,dragItem:c,dropZoneTarget:s})}positionDragAndDropImageComp(e){let i=this.getDragAndDropImageComponent();if(!i)return;let n=i.getGui(),r=n.getBoundingClientRect().height,s=Jpe()-2,l=efe()-2;if(!n.offsetParent)return;let d=dK(n.offsetParent),{clientY:u,clientX:h}=e,g=u-d.top-r/2,p=h-d.left-10,f=so(this.gos),y=f.defaultView||window,M=y.pageYOffset||f.documentElement.scrollTop,k=y.pageXOffset||f.documentElement.scrollLeft;s>0&&p+n.clientWidth>s+k&&(p=s+k-n.clientWidth),p<0&&(p=0),l>0&&g+n.clientHeight>l+M&&(g=l+M-n.clientHeight),g<0&&(g=0),n.style.left=`${p}px`,n.style.top=`${g}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){let{comp:e}=this.dragAndDropImageComp;if(e){let i=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(i),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e}=this;if(!e)return;let n=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){let{dragSource:i,mouseEventService:n,environment:o}=this;if(!i)return;let r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),n.stampTopLevelGridCompWithGridInstance(r),o.applyThemeClasses(r),e.setIcon(null);let{dragItemName:s}=i;E6(s)&&(s=s()),e.setLabel(s||""),r.style.top="20px",r.style.left="20px";let l=so(this.gos),c=null,d=null;try{c=l.fullscreenElement}catch{}finally{c||(c=Gy(this.gos));let u=c.querySelector("body");u?d=u:c instanceof ShadowRoot?d=c:c instanceof Document?d=c?.documentElement:d=c}this.dragAndDropImageParent=d,d?d.appendChild(r):et("Could not find document body, it is needed for drag and drop.")}},nme=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,i=!1){let n=i||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let o=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<o.left+r,this.tickRight=e.clientX>o.right-r,this.tickUp=e.clientY<o.top+r&&!n,this.tickDown=e.clientY>o.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let i=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(i-e),this.tickDown&&this.setVerticalPosition(i+e)}if(this.scrollHorizontally){let i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-e),this.tickRight&&this.setHorizontalPosition(i+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};var ome=class extends Qe{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{let i=e.gridBodyCtrl;this.autoScrollService=new nme({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>i.getScrollFeature().getVScrollPosition().top,setVerticalPosition:n=>i.getScrollFeature().setVerticalScrollPosition(n),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let i=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let o=[...this.selectionService.getSelectedNodes()].sort((r,s)=>r.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(o.indexOf(i)!==-1)return o}return[i]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(i=>{i.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:i}=e.dragSource;return i===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;let i=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)}doManagedDrag(e,i){let n=this.isFromThisGrid(e),o=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!n?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],i):this.moveRows(r,i))}getRowIndexNumber(e){let i=e.getRowIndexString();return parseInt(Li(i.split("-")),10)}moveRowAndClearHighlight(e){let i=this.clientSideRowModel.getLastHighlightedRowNode(),n=i&&i.highlighted===1,o=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=n?1:0;if(this.isFromThisGrid(e))r.forEach(l=>{l.rowTop<o&&(s-=1)}),this.moveRows(r,o,s);else{let l=g0(this.gos),c=this.clientSideRowModel.getRowIndexAtPixel(o)+1;this.clientSideRowModel.getHighlightPosition(o)===0&&c--,this.clientSideRowModel.updateRowData({add:r.filter(d=>!this.clientSideRowModel.getRowNode(l?.({data:d.data,level:0,rowPinned:d.rowPinned})??d.data.id)).map(d=>d.data),addIndex:c})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,i,n=0){this.clientSideRowModel.ensureRowsAtPixel(e,i,n)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){et("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){et("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let i={getContainer:e.getContainer};e.fromGrid?i=e:(e.onDragEnter&&(i.onDragEnter=o=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",o))}),e.onDragLeave&&(i.onDragLeave=o=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",o))}),e.onDragging&&(i.onDragging=o=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",o))}),e.onDragStop&&(i.onDragStop=o=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",o))}),e.onDragCancel&&(i.onDragCancel=o=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",o))}));let n=We({isInterestedIn:o=>o===2,getIconName:()=>"move",external:!0},i);this.dragAndDropService.addDropTarget(n),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(n))}getRowDropZone(e){let i=this.getContainer.bind(this),n=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),l=this.onDragCancel.bind(this),c;return e?c={getContainer:i,onDragEnter:e.onDragEnter?d=>{n(d),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",d))}:n,onDragLeave:e.onDragLeave?d=>{o(d),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",d))}:o,onDragging:e.onDragging?d=>{r(d),e.onDragging(this.draggingToRowDragEvent("rowDragMove",d))}:r,onDragStop:e.onDragStop?d=>{s(d),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",d))}:s,onDragCancel:e.onDragCancel?d=>{l(d),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",d))}:l,fromGrid:!0}:c={getContainer:i,onDragEnter:n,onDragLeave:o,onDragging:r,onDragStop:s,onDragCancel:l,fromGrid:!0},c}draggingToRowDragEvent(e,i){let n=this.mouseEventService.getNormalisedPosition(i).y,o=n>this.pageBoundsService.getCurrentPageHeight(),r=-1,s;o||(r=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(r));let l;switch(i.vDirection){case 1:l="down";break;case 0:l="up";break;default:l=null;break}return this.gos.addGridCommonParams({type:e,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:r,overNode:s,y:n,vDirection:l})}dispatchGridEvent(e,i){let n=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(i=>{i.setDragging(!1)})}},rme=class extends Qe{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){let i=e.dragSource.eElement,n=e.mouseDownListener;if(i.removeEventListener("mousedown",n),e.touchEnabled){let o=e.touchStartListener;i.removeEventListener("touchstart",o,{passive:!0})}}removeDragSource(e){let i=this.dragSources.find(n=>n.dragSource===e);i&&(this.removeListener(i),Nr(this.dragSources,i))}isDragging(){return this.dragging}addDragSource(e){let i=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:o,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",i);let s=null,l=this.gos.get("suppressTouch");o&&!l&&(s=c=>{O6(c.target)||(r&&c.stopPropagation(),this.onTouchStart(e,c))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:s,touchEnabled:!!o})}getStartTarget(){return this.startTarget}onTouchStart(e,i){this.currentDragParams=e,this.dragging=!1;let n=i.touches[0];this.touchLastTime=n,this.touchStart=n;let o=d=>this.onTouchMove(d,e.eElement),r=d=>this.onTouchUp(d,e.eElement),s=d=>{d.cancelable&&d.preventDefault()},l=i.target,c=[{target:Gy(this.gos),type:"touchmove",listener:s,options:{passive:!1}},{target:l,type:"touchmove",listener:o,options:{passive:!0}},{target:l,type:"touchend",listener:r,options:{passive:!0}},{target:l,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,i){let n=i;if(e.skipMouseEvent&&e.skipMouseEvent(i)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,i.button!==0))return;this.shouldPreventMouseEvent(i)&&i.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i,this.startTarget=i.target;let o=u=>this.onMouseMove(u,e.eElement),r=u=>this.onMouseUp(u,e.eElement),s=u=>u.preventDefault(),l=u=>{u.key===Ze.ESCAPE&&this.cancelDrag(e.eElement)},c=Gy(this.gos),d=[{target:c,type:"mousemove",listener:o},{target:c,type:"mouseup",listener:r},{target:c,type:"contextmenu",listener:s},{target:c,type:"keydown",listener:l}];this.addTemporaryEvents(d),e.dragStartPixels===0&&this.onMouseMove(i,e.eElement)}addTemporaryEvents(e){e.forEach(i=>{let{target:n,type:o,listener:r,options:s}=i;n.addEventListener(o,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(i=>{let{target:n,type:o,listener:r,options:s}=i;n.removeEventListener(o,r,s)})})}isEventNearStartEvent(e,i){let{dragStartPixels:n}=this.currentDragParams,o=rt(n)?n:4;return CK(e,i,o)}getFirstActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}onCommonMove(e,i,n){if(!this.dragging){if(this.isEventNearStartEvent(e,i))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(i),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(i)}this.currentDragParams?.onDragging(e)}onTouchMove(e,i){let n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,i)}onMouseMove(e,i){fu()&&so(this.gos).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)}shouldPreventMouseEvent(e){let i=this.gos.get("enableCellTextSelection"),n=e.type==="mousemove";return i&&n&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,i){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,i)}onMouseUp(e,i){this.onUpCommon(e,i)}onUpCommon(e,i){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:i})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},C6=class extends zi{constructor(e,i,n,o,r,s){super(),this.cellValueFn=e,this.rowNode=i,this.column=n,this.customGui=o,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ss("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){let e=this.gos.get("rowDragManaged")?new ame(this,this.beans,this.rowNode,this.column):new sme(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,i){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(i)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];let i=this.beans.selectionService.getSelectedNodes();return i.indexOf(this.rowNode)!==-1?i:[this.rowNode]}checkCompatibility(){let e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&et("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let i=e.getColDef();if(i.rowDragText)return i.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let i=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(i,{mousedown:o=>{o?.preventDefault()}})[0]);let n=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:i,dragItemName:()=>{let o=this.getDragItem(),r=o.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(o,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},DK=class extends Qe{constructor(e,i,n){super(),this.parent=e,this.rowNode=i,this.column=n}setDisplayedOrVisible(e){let i={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,i);else{let n=!0,o=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=E6(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,i),this.parent.setVisible(n,i)):(this.parent.setDisplayed(n,i),this.parent.setVisible(!0,i))}}},sme=class extends DK{constructor(e,i,n,o){super(e,n,o),this.beans=i}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},ame=class extends DK{constructor(e,i,n,o){super(e,n,o),this.beans=i}postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=i&&i.shouldPreventRowMove(),o=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),s=n&&!r||o;this.setDisplayedOrVisible(s)}},lme=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),cme=(()=>{let e=class Ig{constructor(n){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ig.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=n}setData(n){this.setDataCommon(n,!1)}updateData(n){this.setDataCommon(n,!0)}setDataCommon(n,o){let r=this.data;this.data=n,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();let s=this.createDataChangedEvent(n,r,o);this.localEventService?.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(n,o,r){return{type:"dataChanged",node:this,oldData:o,newData:n,update:r}}getRowIndexString(){return this.rowIndex==null?(Hi("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Ig.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Ig.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){let n=new Ig(this.beans);return n.id=this.id,n.data=this.data,n.__daemon=!0,n.selected=this.selected,n.level=this.level,n}setDataAndId(n,o){let r=rt(this.id)?this.createDaemonNode():null,s=this.data;this.data=n,this.updateDataOnDetailNode(),this.setId(o),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);let l=this.createDataChangedEvent(n,s,!1);this.localEventService?.dispatchEvent(l)}checkRowSelectable(){let n=M6(this.beans.gos);this.setRowSelectable(n?n(this):!0)}setRowSelectable(n,o){if(this.selectable!==n){if(this.selectable=n,this.dispatchRowEvent("selectableChanged"),o)return;if(Df(this.beans.gos)){let s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(n){let o=g0(this.beans.gos);if(o)if(this.data){let r=this.parent?.getRoute()??[];this.id=o({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Ig.ID_PREFIX_ROW_GROUP)&&Hi(`Row IDs cannot start with ${Ig.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=n}setRowTop(n){this.oldRowTop=this.rowTop,this.rowTop!==n&&(this.rowTop=n,this.dispatchRowEvent("topChanged"),this.setDisplayed(n!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(n){this.hovered=n}isHovered(){return this.hovered}setMaster(n){this.master!==n&&(this.master&&!n&&(this.expanded=!1),this.master=n,this.dispatchRowEvent("masterChanged"))}setGroup(n){this.group!==n&&(this.group&&!n&&(this.expanded=!1),this.group=n,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(n,o=!1){this.rowHeight=n,this.rowHeightEstimated=o,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(n,o){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[o.getId()]=n,n!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Lr(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let n=!1,o=!0,r=0,s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(d=>{let u=s[d.getId()];if(u==null)if(this.beans.columnModel.isColSpanActive()){let h=[];switch(d.getPinned()){case"left":h=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":h=this.beans.visibleColsService.getRightColsForRow(this);break;case null:h=this.beans.columnViewportService.getColsWithinViewport(this);break}if(h.includes(d)){n=!0;return}u=-1}else{n=!0;return}else o=!1;u>r&&(r=u)}),n)||((o||r<10)&&(r=Tg(this.beans.gos,this).height),r==this.rowHeight))return;this.setRowHeight(r),this.beans.rowModel.onRowHeightChangedDebounced?.()}setExpanded(n,o,r){if(this.expanded===n)return;this.expanded=n,this.dispatchRowEvent("expandedChanged");let s=At(We({},this.createGlobalRowEvent("rowGroupOpened")),{expanded:n,event:o||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s,r),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(n){return this.beans.gos.addGridCommonParams({type:n,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(n,o,r){let l=typeof n!="string"?n:this.beans.columnModel.getCol(n)??this.beans.columnModel.getColDefCol(n),c=this.beans.valueService.getValueForDisplay(l,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:l,colDef:l.getColDef(),data:this.data,node:this,oldValue:c,newValue:o,value:o,source:r}),!1;let d=this.beans.valueService.setValue(this,l,o,r);return this.dispatchCellChangedEvent(l,o,c),this.checkRowSelectable(),d}setGroupValue(n,o){let r=this.beans.columnModel.getCol(n);Ai(this.groupData)&&(this.groupData={});let s=r.getColId(),l=this.groupData[s];l!==o&&(this.groupData[s]=o,this.dispatchCellChangedEvent(r,o,l))}setAggData(n){let o=this.aggData;if(this.aggData=n,this.localEventService){let r=s=>{let l=this.aggData?this.aggData[s]:void 0,c=o?o[s]:void 0;if(l===c)return;let d=this.beans.columnModel.getCol(s);d&&this.dispatchCellChangedEvent(d,l,c)};for(let s in o)r(s);for(let s in n)(!o||!(s in o))&&r(s)}}updateHasChildren(){let n=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(Ch(this.beans.gos)){let r=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");n=!this.stub&&!this.footer&&(r?!!s&&s(this.data):!!this.group)}n!==this.__hasChildren&&(this.__hasChildren=!!n,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(n,o,r){let s={type:"cellChanged",node:this,column:n,newValue:o,oldValue:r};this.localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(n){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(o=>o.depthFirstSearch(n)),n(this)}calculateSelectedFromChildren(){let n=!1,o=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){let s=this.childrenAfterGroup[r],l=s.isSelected();if(!s.selectable){let c=s.calculateSelectedFromChildren();if(c===null)continue;l=c}switch(l){case!0:n=!0;break;case!1:o=!0;break;default:return}}if(!(n&&o))return n?!0:o?!1:this.selectable?this.selected:null}setSelectedInitialValue(n){this.selected=n}dispatchRowEvent(n){this.localEventService?.dispatchEvent({type:n,node:this})}selectThisNode(n,o,r="api"){let s=!this.selectable&&n,l=this.selected===n;if(s||l)return!1;this.selected=n,this.dispatchRowEvent("rowSelected");let c=this.sibling;return c&&c.footer&&c.localEventService&&c.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent(At(We({},this.createGlobalRowEvent("rowSelected")),{event:o||null,source:r})),!0}setSelected(n,o=!1,r="api"){if(typeof r=="boolean"){et("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:n,clearSelection:o,rangeSelect:!1,source:r})}setSelectedParams(n){return this.rowPinned?(et("cannot select pinned rows"),0):this.id===void 0?(et("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(At(We({},n),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return!!this.rowPinned}addEventListener(n,o){this.localEventService||(this.localEventService=new h0),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new A6(this.beans.frameworkOverrides));let r=this.frameworkEventListenerService?.wrap(o)??o;this.localEventService.addEventListener(n,r)}removeEventListener(n,o){if(!this.localEventService)return;let r=this.frameworkEventListenerService?.unwrap(o)??o;this.localEventService.removeEventListener(n,r),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(et("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;let n=this.beans.gos.getCallback("isFullWidthRow");return n?n({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let n=[],o=this;for(;o&&o.key!=null;)n.push(o.key),o=o.parent;return n.reverse()}createFooter(){if(this.sibling)return;let n=new Ig(this.beans);Object.keys(this).forEach(o=>{lme.has(o)||(n[o]=this[o])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(n){this.firstChild!==n&&(this.firstChild=n,this.dispatchRowEvent("firstChildChanged"))}setLastChild(n){this.lastChild!==n&&(this.lastChild=n,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(n){this.childIndex!==n&&(this.childIndex=n,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(n){this.displayed!==n&&(this.displayed=n,this.dispatchRowEvent("displayedChanged"))}setDragging(n){this.dragging!==n&&(this.dragging=n,this.dispatchRowEvent("draggingChanged"))}setHighlighted(n){this.highlighted!==n&&(this.highlighted=n,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(n){this.allChildrenCount!==n&&(this.allChildrenCount=n,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(n){this.rowIndex!==n&&(this.rowIndex=n,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(n){this.uiLevel!==n&&(this.uiLevel=n,this.dispatchRowEvent("uiLevelChanged"))}};return e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e})(),mh=cme,dme=class extends Qe{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),i=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:i,columnVisible:i,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvancedFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){let i=this.gos.get("doesExternalFilterPass");return typeof i=="function"?i(e):!1}setFilterModel(e,i="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(e,i)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){l6(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:i,additionalEventAttributes:n,columns:o=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):ys.resolve()).then(()=>{let r={source:i,type:"filterChanged",columns:o};n&&Pr(r,n),this.eventService.dispatchEvent(r),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!l6(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,i){return this.columnFilterService.createFilterParams(e,i)}isFilterAllowed(e){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,i){return this.columnFilterService?.getFloatingFilterCompDetails(e,i)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,i="api"){this.columnFilterService?.destroyFilter(e,i)}areFilterCompsDifferent(e,i){return!!this.columnFilterService?.areFilterCompsDifferent(e,i)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,i){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:i,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,i){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return this.columnFilterService?.getFilterInstance(e,i)}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){et("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,i){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,i)??Promise.resolve()}setColDefPropertiesForDataType(e,i,n){this.columnFilterService?.setColDefPropertiesForDataType(e,i,n)}},ume=class extends zi{constructor(e,i){super('<div class="ag-filter"></div>'),this.column=e,this.source=i,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??ys.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(i=>{i?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){let{column:i,source:n}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(i)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(o=>{let r=o.getGui();rt(r)||et(`getGui method from filter returned ${r}; it should be a DOM element.`),this.appendChild(r),e&&this.eventService.dispatchEvent({type:"filterOpened",column:i,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(vr(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},EK="ag-resizer-wrapper",Mg=(e,i)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${i}"></div>`,hme=`<div class="${EK}">
        ${Mg("eTopLeft","topLeft")}
        ${Mg("eTop","top")}
        ${Mg("eTopRight","topRight")}
        ${Mg("eRight","right")}
        ${Mg("eBottomRight","bottomRight")}
        ${Mg("eBottom","bottom")}
        ${Mg("eBottomLeft","bottomLeft")}
        ${Mg("eLeft","left")}
    </div>`,gme=class extends Qe{constructor(e,i){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},i)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){let{clientHeight:e,clientWidth:i}=this.offsetParent,n=i/2-this.getWidth()/2,o=e/2-this.getHeight()/2;this.offsetElement(n,o)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:i,minWidth:n,width:o,minHeight:r,height:s,x:l,y:c}=this.config;this.offsetParent||this.setOffsetParent();let d=0,u=0,h=bl(this.element);if(h){let g=this.findBoundaryElement(),p=window.getComputedStyle(g);if(p.minWidth!=null){let f=g.offsetWidth-this.element.offsetWidth;u=parseInt(p.minWidth,10)-f}if(p.minHeight!=null){let f=g.offsetHeight-this.element.offsetHeight;d=parseInt(p.minHeight,10)-f}}if(this.minHeight=r||d,this.minWidth=n||u,o&&this.setWidth(o),s&&this.setHeight(s),(!o||!s)&&this.refreshSize(),e)this.center();else if(l||c)this.offsetElement(l,c);else if(h&&i){let g=this.boundaryEl,p=!0;if(g||(g=this.findBoundaryElement(),p=!1),g){let f=parseFloat(g.style.top),y=parseFloat(g.style.left);p?this.offsetElement(isNaN(y)?0:y,isNaN(f)?0:f):this.setPosition(y,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,i){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(i=>{let o=!!e[i],r=this.getResizerElement(i),s={dragStartPixels:0,eElement:r,onDragStart:l=>this.onResizeStart(l,i),onDragging:this.onResize.bind(this),onDragStop:l=>this.onResizeEnd(l,i)};(o||!this.isAlive()&&!o)&&(o?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[i]=o)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:i}=this.lastSize;i!==-1&&(this.element.style.width=`${i}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:i}=this.config,n=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ny(n,e),e=cK(n),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):i?Ny(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:i}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:o.top,l=e?0:r.top,c=0;if(i){let u=this.element.parentElement;if(u){let{bottom:h}=u.getBoundingClientRect();c=h-o.bottom}}return n+l-s-c}getWidth(){return this.element.offsetWidth}setWidth(e){let i=this.element,{popup:n}=this.config,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)wl(i,e),e=ik(i),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(o?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?wl(i,e):(i.style.width=`${e}px`,i.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,i=0){let{forcePopupParentAsOffsetParent:n}=this.config,o=n?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:i})}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let i=()=>{let n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,i){this.position.x=e,this.position.y=i}updateDragStartPosition(e,i){this.dragStartPosition={x:e,y:i}}calculateMouseMovement(e){let{e:i,isLeft:n,isTop:o,anywhereWithin:r,topBuffer:s}=e,l=i.clientX-this.dragStartPosition.x,c=i.clientY-this.dragStartPosition.y,d=this.shouldSkipX(i,!!n,!!r,l)?0:l,u=this.shouldSkipY(i,!!o,s,c)?0:c;return{movementX:d,movementY:u}}shouldSkipX(e,i,n,o){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:r.left,d=c<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return d?!0:(i?d=o<0&&e.clientX>c+s.left||o>0&&e.clientX<c+s.left:n?d=o<0&&e.clientX>l.right||o>0&&e.clientX<c+s.left:d=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,d)}shouldSkipY(e,i,n=0,o){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:r.top,d=c<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return d?!0:(i?d=o<0&&e.clientY>c+s.top+n||o>0&&e.clientY<c+s.top:d=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,d)}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let n=new DOMParser().parseFromString(hme,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${EK}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");let{popup:n,forcePopupParentAsOffsetParent:o}=this.config;!n&&!o&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],i=0,n=0;for(let o=0;o<e.length;o++){let r=e[o],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let l=this.minHeight||0,c=this.minWidth||0;if(s){let d=window.getComputedStyle(r);d.minHeight&&(l=parseInt(d.minHeight,10)),d.minWidth&&(c=parseInt(d.minWidth,10))}else l=r.offsetHeight,c=r.offsetWidth;i+=l,n+=c}return{height:i,width:n}}applySizeToSiblings(e){let i=null,n=this.getSiblings();if(n){for(let o=0;o<n.length;o++){let r=n[o];r!==i&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(i=n[o+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:i,forcePopupParentAsOffsetParent:n}=this.config,{isTop:o,isRight:r,isBottom:s,isLeft:l}=this.currentResizer,c=r||l,d=s||o,{movementX:u,movementY:h}=this.calculateMouseMovement({e,isLeft:l,isTop:o}),g=this.position.x,p=this.position.y,f=0,y=0;if(c&&u){let M=l?-1:1,k=this.getWidth(),G=k+u*M,J=!1;l&&(f=k-G,(g+f<=0||G<=this.minWidth)&&(J=!0,f=0)),J||this.setWidth(G)}if(d&&h){let M=o?-1:1,k=this.getHeight(),G=k+h*M,J=!1;o?(y=k-G,(p+y<=0||G<=this.minHeight)&&(J=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&k<G&&this.getMinSizeOfSiblings().height+G>this.element.parentElement.offsetHeight&&(J=!0),J||this.setHeight(G)}this.updateDragStartPosition(e.clientX,e.clientY),((i||n)&&f||y)&&this.offsetElement(g+f,p+y)}onResizeEnd(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:i,y:n}=this.position,o;this.config.calculateTopBuffer&&(o=this.config.calculateTopBuffer());let{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:o});this.offsetElement(i+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},pme=(()=>{let e=class MK extends Qe{constructor(n,o={}){super(),this.eFocusableElement=n,this.callbacks=o,this.callbacks=We({shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;let s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);s&&(s.focus(),r.preventDefault())}},o)}wireBeans(n){this.focusService=n.focusService}postConstruct(){this.eFocusableElement.classList.add(MK.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(n){this.addManagedElementListeners(n,{keydown:o=>{if(!(o.defaultPrevented||fh(o))){if(this.callbacks.shouldStopEventPropagation(o)){c0(o);return}o.key===Ze.TAB?this.callbacks.onTabKeyDown(o):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(o)}}})}};return e.FOCUS_MANAGED_CLASS="ag-focus-managed",e})(),Mf=pme,kK={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function U6(e,i){return ak(e)?(e.debounceMs!=null&&et("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:i}function ak(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var fme=class extends zi{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=ft,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Mf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new gme(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);let n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=ak(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=ak(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,i){let{buttons:n,readOnly:o}=i??{},{buttons:r,readOnly:s}=e;if(o===s&&Vy(n,r))return;let l=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(vr(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):l&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!l){this.eButtonsPanel&&Ys(this.eButtonsPanel);return}let c=document.createDocumentFragment(),d=u=>{let h,g;switch(u){case"apply":h=this.translate("applyFilter"),g=y=>this.onBtApply(!1,!1,y);break;case"clear":h=this.translate("clearFilter"),g=()=>this.onBtClear();break;case"reset":h=this.translate("resetFilter"),g=()=>this.onBtReset();break;case"cancel":h=this.translate("cancelFilter"),g=y=>{this.onBtCancel(y)};break;default:et("Unknown button type specified");return}let f=qy(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${h}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(f,{click:g})),c.append(f)};r.forEach(u=>d(u)),this.eButtonsPanel.append(c),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){let e=U6(this.providedFilterParams,this.getDefaultDebounceMs()),i=Lr(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,i){let n=()=>{this.onUiChanged(!1,"prevent"),i?.()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let i=this.getModelFromUi();if(!this.isModelValid(i))return!1;let n=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(n,i)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,i=!1,n){n&&n.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"});let{closeOnApply:o}=this.providedFilterParams;o&&this.applyActive&&!e&&!i&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let i=e,n=i&&i.key,o;(n==="Enter"||n==="Space")&&(o={keyboardEvent:i}),this.hidePopup(o),this.hidePopup=null}onUiChanged(e=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let n=this.isModelValid(this.getModelFromUi()),o=this.queryForHtmlElement('[data-ref="applyFilterButton"]');o&&$y(o,!n)}e&&!i||i==="immediately"?this.onBtApply(e):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;let i=e==="floatingFilter"||e==="columnFilter",{positionableFeature:n,gos:o}=this;i?(n.restoreLastSize(),n.setResizable(o.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){let i=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,i),!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,kK[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},mme=class extends G6{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},vme=class extends zi{constructor(e="default",i=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=i,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let i=e.key;switch(i){case Ze.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case Ze.DOWN:case Ze.UP:e.preventDefault(),this.navigate(i);break;case Ze.PAGE_DOWN:case Ze.PAGE_UP:case Ze.PAGE_HOME:case Ze.PAGE_END:e.preventDefault(),this.navigateToPage(i);break}}navigate(e){let i=e===Ze.DOWN,n;if(!this.highlightedEl)n=this.itemEls[i?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),n=this.itemEls[r]}this.highlightItem(n)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;let i=this.itemEls.indexOf(this.highlightedEl),n=this.options.length-1,o=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/o),s=-1;e===Ze.PAGE_HOME?s=0:e===Ze.PAGE_END?s=n:e===Ze.PAGE_DOWN?s=Math.min(i+r,n):e===Ze.PAGE_UP&&(s=Math.max(i-r,0)),s!==-1&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){let{value:i,text:n}=e,o=n||i;return this.options.push({value:i,text:o}),this.renderOption(i,o),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Ys(e)}),this.itemEls=[]}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((i,n)=>{Wpe(i,n+1),jpe(i,e.length)})}renderOption(e,i){let n=so(this.gos),o=n.createElement("div");rs(o,"option"),o.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let r=n.createElement("span");o.appendChild(r),r.textContent=i,this.unFocusable||(o.tabIndex=-1),this.itemEls.push(o),this.addManagedListeners(o,{mouseover:()=>this.highlightItem(o),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new p0({getTooltipValue:()=>i,getGui:()=>o,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(o)}setValue(e,i){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(i),this;let n=this.options.findIndex(o=>o.value===e);if(n!==-1){let o=this.options[n];this.value=o.value,this.displayValue=o.text,this.highlightItem(this.itemEls[n]),i||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(i=>i.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!bl(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),tk(this.highlightedEl,!0);let i=this.getGui(),{scrollTop:n,clientHeight:o}=i,{offsetTop:r,offsetHeight:s}=e;(r+s>n+o||r<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!bl(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),tk(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Cme=class extends wK{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ft,this.eWrapper=ft,this.eDisplayField=ft,this.eIcon=ft,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:i,maxPickerHeight:n,variableWidth:o,minPickerWidth:r,maxPickerWidth:s}=e;i!=null&&(this.pickerGap=i),this.variableWidth=!!o,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let i=this.getAriaElement();this.addManagedElementListeners(i,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:o}=this.config;if(n){let r=Ss(n,this.gos);r&&this.eIcon.appendChild(r)}o!=null&&this.setInputWidth(o)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),ek(e,!1),this.ariaRole&&rs(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let i=this.getFocusableElement();if(i!==this.eWrapper&&e?.target===i)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Ze.UP:case Ze.DOWN:case Ze.ENTER:case Ze.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Ze.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:o,modalPicker:r=!0}=this.config,s={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let p=Pq(this.gos);this.beforeHidePicker(),p&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(n,o),anchorToElement:this.eWrapper};e.style.position="absolute";let l=this.popupService.addPopup(s),{maxPickerHeight:c,minPickerWidth:d,maxPickerWidth:u,variableWidth:h}=this;h?(d&&(e.style.minWidth=d),e.style.width=B6(ik(this.eWrapper)),u&&(e.style.maxWidth=u)):sk(e,u??ik(this.eWrapper));let g=c??`${z6(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",g),this.alignPickerToComponent(),l.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerType:e}=this.config,{pickerGap:i}=this,n=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:i})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let i=this.getAriaElement();ek(i,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return sk(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},$6=class extends Cme{constructor(e){super(We({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:i,placeholder:n}=this.config;e!=null&&this.addOptions(e),i!=null&&this.setValue(i,!0),n&&i==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new vme("select",!0)),this.listComponent.setParentComponent(this);let e=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",i),Zpe(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:i}=e;switch(i===Ze.TAB&&this.hidePicker(),i){case Ze.ENTER:case Ze.UP:case Ze.DOWN:case Ze.PAGE_UP:case Ze.PAGE_DOWN:case Ze.PAGE_HOME:case Ze.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Ze.ESCAPE:super.onKeyDown(e);break;case Ze.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,i,n){if(this.value===e||!this.listComponent)return this;if(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return r==null&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,i)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},wme={selector:"AG-SELECT",component:$6},IK=class{constructor(){this.customFilterOptions={}}init(e,i){this.filterOptions=e.filterOptions||i,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;let i=[["displayKey"],["displayName"],["predicate","test"]],n=o=>o.some(r=>e[r]!=null)?!0:(et(`ignoring FilterOptionDef as it doesn't contain one of '${o}'`),!1);if(!i.every(n)){this.filterOptions=this.filterOptions.filter(o=>o===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){let i=this.filterOptions[0];typeof i=="string"?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:et("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else et("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},RK=class extends fme{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){let i=this.optionsFactory.getCustomOption(e);if(i){let{numberOfInputs:o}=i;return o??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((i,n)=>{n===0?i.setValue(e,!0):i.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;let n=!e.operator,o=!i.operator;if(!n&&o||n&&!o)return!1;let s;if(n){let l=e,c=i;s=this.areSimpleModelsEqual(l,c)}else{let l=e,c=i;s=l.operator===c.operator&&Lg(l.conditions,c.conditions,(d,u)=>this.areSimpleModelsEqual(d,u))}return s}shouldRefresh(e){let i=this.getModel(),n=i?i.conditions??[i]:null,o=e.filterOptions?.map(s=>typeof s=="string"?s:s.displayKey)??this.getDefaultFilterOptions();return!(!(!n||n.every(s=>o.find(l=>l===s.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let n=e,o=n.conditions;o==null&&(o=[],et("Filter model is missing 'conditions'"));let r=this.validateAndUpdateConditions(o),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let c=s;c<r;c++)this.createJoinOperatorPanel(),this.createOption();let l=n.operator==="OR";this.eJoinOperatorsAnd.forEach(c=>c.setValue(!l,!0)),this.eJoinOperatorsOr.forEach(c=>c.setValue(l,!0)),o.forEach((c,d)=>{this.eTypes[d].setValue(c.type,!0),this.setConditionIntoUi(c,d)})}else{let n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ys.resolve()}validateAndUpdateConditions(e){let i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),et('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(e){let i=this.getModel();if(i==null)return!0;let{operator:n}=i,o=[];if(n){let s=i;o.push(...s.conditions??[])}else o.push(i);return o[n&&n==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new IK,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(et('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(et('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(et('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){let e=this.createManagedBean(new $6);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);let n=this.getNumConditions()-1;this.forEachPositionInput(n,o=>this.resetInput(o)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let o=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(i,o,r),this.resetJoinOperatorOr(n,o,r),this.isReadOnly()||(i.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,i,n){let o=this.createManagedBean(new mme);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass(`ag-filter-condition-operator-${n}`),i.appendChild(o.getGui()),o}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){let e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(i=>typeof i=="string"?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(i=>{e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:i}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(i)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,i=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{let n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);let o=e+1,r=n-o;r>0&&this.removeConditionsAndOperators(o,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,i){this.eTypes.forEach((o,r)=>{let s=this.isConditionDisabled(r,e);o.setDisabled(s||this.filterListOptions.length<=1),r===1&&($y(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((o,r)=>{Pn(o,this.isConditionBodyVisible(r))});let n=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(o=>{o.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(o=>{o.setValue(n,!0)}),this.forEachInput((o,r,s,l)=>{this.setElementDisplayed(o,r<l),this.setElementDisabled(o,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,i){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);let n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,i),this.removeComponents(this.eJoinOperatorsAnd,n,i),this.removeComponents(this.eJoinOperatorsOr,n,i)}removeElements(e,i,n){this.removeItems(e,i,n).forEach(r=>Ys(r))}removeComponents(e,i,n){this.removeItems(e,i,n).forEach(r=>{Ys(r.getGui()),this.destroyBean(r)})}removeItems(e,i,n){return n==null?e.splice(i):e.splice(i,n)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{let i=this.getInputs(0)[0];if(!i)return;i instanceof Cf&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let i=-1,n=-1,o=!1,r=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))i===-1&&(i=l,n=l);else{let c=l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1),d=l<i;(c||d)&&(this.removeConditionsAndOperators(l,1),o=!0,d&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,i){let n=this.translate(e);if(E6(this.filterPlaceholder)){let o=this.filterPlaceholder,r=this.eTypes[i].getValue(),s=this.translate(r);n=o({filterOptionKey:r,filterOption:s,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc();this.forEachInput((i,n,o,r)=>{if(!(i instanceof Cf))return;let s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",l=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(s,o)),i.setInputAriaLabel(l)})}setElementValue(e,i,n){e instanceof Cf&&e.setValue(i!=null?String(i):null,!0)}setElementDisplayed(e,i){e instanceof zi&&Pn(e.getGui(),i)}setElementDisabled(e,i){e instanceof zi&&$y(e.getGui(),i)}attachElementOnChange(e,i){e instanceof Cf&&e.onValueChange(i)}forEachInput(e){this.getConditionTypes().forEach((i,n)=>{this.forEachPositionTypeInput(n,i,e)})}forEachPositionInput(e,i){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,i)}forEachPositionTypeInput(e,i,n){let o=this.getNumberOfInputs(i),r=this.getInputs(e);for(let s=0;s<r.length;s++){let l=r[s];l!=null&&n(l,s,e,o)}}isConditionDisabled(e,i){return this.isReadOnly()?!0:e===0?!1:e>i+1}isConditionBodyVisible(e){let i=this.getConditionType(e);return this.getNumberOfInputs(i)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,n)=>this.resetJoinOperatorAnd(i,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((i,n)=>this.resetJoinOperatorOr(i,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),ys.resolve()}resetType(e){let n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(e,i,n,o,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(o),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i)),this.eJoinOperatorsOr.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i))}updateJoinOperatorDisabled(e,i){e.setDisabled(this.isReadOnly()||i>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,i){let n=this.mapValuesFromModel(e);this.forEachInput((o,r,s)=>{s===i&&this.setElementValue(o,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((i,n,o)=>{this.setElementValue(i,n===0&&o===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,i){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,i){let n=this.getCellValue(e.node),o=this.mapValuesFromModel(i),r=this.optionsFactory.getCustomOption(i.type),s=this.evaluateCustomFilter(r,o,n);return s??(n==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(o,n,i,e))}evaluateCustomFilter(e,i,n){if(e==null)return;let{predicate:o}=e;if(o!=null&&!i.some(r=>r==null))return o(i,n)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},AK=class extends RK{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,i,n){let o=this.comparator(),r=e[0]!=null?o(e[0],i):0;switch(n.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{let s=o(e[1],i);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case"blank":return this.isBlank(i);case"notBlank":return!this.isBlank(i);default:return et('Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},bme=65,yme=67,Sme=86,xme=68,_me=90,Dme=89;function TK(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function w6(e,i,n,o,r){let s=o?o.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;let l=e.addGridCommonParams({event:i,editing:r,column:o,node:n,data:n.data,colDef:o.getColDef()});return!!(s&&s(l))}function Eme(e,i,n,o){let r=o.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;if(!rt(s))return!1;let l=e.addGridCommonParams({colDef:r,column:o,headerRowIndex:n,event:i});return!!s(l)}function Mme(e){let{keyCode:i}=e,n;switch(i){case bme:n=Ze.A;break;case yme:n=Ze.C;break;case Sme:n=Ze.V;break;case xme:n=Ze.D;break;case _me:n=Ze.Z;break;case Dme:n=Ze.Y;break;default:n=e.code}return n}function kme(e,i=!1){return e===Ze.DELETE?!0:!i&&e===Ze.BACKSPACE?rK():!1}var kf=class extends Cf{constructor(e,i="ag-text-field",n="text"){super(e,i,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,i){return this.eInput.value!==e&&(this.eInput.value=rt(e)?e:""),super.setValue(e,i)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),i=n=>{TK(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:i,paste:n=>{let o=n.clipboardData?.getData("text");o&&o.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},hk={selector:"AG-INPUT-TEXT-FIELD",component:kf},q6=class extends kf{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{let r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";let{precision:e,min:i,max:n,step:o}=this.config;typeof e=="number"&&this.setPrecision(e),typeof i=="number"&&this.setMin(i),typeof n=="number"&&this.setMax(n),typeof o=="number"&&this.setStep(o)}onWheel(e){Ln(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let i=parseFloat(e);return this.min!=null&&i<this.min?e=this.min.toString():this.max!=null&&i>this.max&&(e=this.max.toString()),e}adjustPrecision(e,i){if(this.precision==null)return e;if(i){let o=parseFloat(e).toFixed(this.precision);return parseFloat(o).toString()}let n=String(e).split(".");if(n.length>1){if(n[1].length<=this.precision)return e;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,Zs(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Zs(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Zs(this.eInput,"step",e),this)}setValue(e,i){return this.setValueOrInputValue(n=>super.setValue(n,i),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(i=>super.setValue(i,!0),i=>{this.eInput.value=i},e)}setValueOrInputValue(e,i,n){if(rt(n)){let o=this.isScientificNotation(n);if(o&&this.eInput.validity.valid)return e(n);if(!o){n=this.adjustPrecision(n);let r=this.normalizeValue(n);o=n!=r}if(o)return i(n)}return e(n)}getValue(){if(!this.eInput.validity.valid)return;let e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Ime={selector:"AG-INPUT-NUMBER-FIELD",component:q6},FK=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],K6=class{constructor(e,i,n){this.localeService=e,this.optionsFactory=i,this.valueFormatter=n}getModelAsString(e){if(!e)return null;let i=e.operator!=null,n=this.localeService.getLocaleTextFunc();if(i){let o=e,s=(o.conditions??[]).map(c=>this.getModelAsString(c)),l=o.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(l,kK[l])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{let o=e,r=this.optionsFactory.getCustomOption(o.type),{displayKey:s,displayName:l,numberOfInputs:c}=r||{};return s&&l&&c===0?(n(s,l),l):this.conditionToString(o,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},PK=class extends K6{conditionToString(e,i){let{numberOfInputs:n}=i||{};return e.type=="inRange"||n===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function b6(e){let{allowedCharPattern:i}=e??{};return i??null}var Rme=class extends AK{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){let{filter:i,filterTo:n,type:o}=e||{};return[this.processValue(i),this.processValue(n)].slice(0,this.getNumberOfInputs(o))}getDefaultDebounceMs(){return 500}comparator(){return(e,i)=>e===i?0:e<i?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new PK(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return FK}setElementValue(e,i,n){let o=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(e,o)}createValueElement(){let e=b6(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),rs(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i}createFromToElement(e,i,n,o){let r=this.createManagedBean(o?new kf({allowedCharPattern:o}):new q6);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),i.push(r),e.appendChild(r.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}getValues(e){let i=[];return this.forEachPositionInput(e,(n,o,r,s)=>{o<s&&i.push(this.processValue(this.stringToFloat(n.getValue())))}),i}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let i=ph(e);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)}createCondition(e){let i=this.getConditionType(e),n={filterType:this.getFilterType(),type:i},o=this.getValues(e);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(i=>{if(!i.getInputElement().validity.valid){e=!0;return}}),e}},LK=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],NK=class extends K6{conditionToString(e,i){let{numberOfInputs:n}=i||{};return e.type=="inRange"||n===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function OK(e){let i=e&&e.trim();return i===""?e:i}var Ame=class extends RK{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:i,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return i.indexOf(n)>=0;case"notContains":return i.indexOf(n)<0;case"equals":return i===n;case"notEqual":return i!=n;case"startsWith":return i.indexOf(n)===0;case"endsWith":{let o=i.lastIndexOf(n);return o>=0&&o===i.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new NK(this.localeService,this.optionsFactory)}getTextMatcher(){let e=this.textFilterParams.textCustomComparator;return e?(et("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:n,filterText:o})=>e(i,n,o)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){let i=this.getConditionType(e),n={filterType:this.getFilterType(),type:i},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,i){let n=[];return this.forEachPositionInput(e,(o,r,s,l)=>{if(r<l){let c=ph(o.getValue());i&&this.textFilterParams.trimInput&&(c=OK(c)??null,o.setValue(c,!0)),n.push(c)}}),n}getDefaultFilterOptions(){return LK}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),rs(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,i,n){let o=this.createManagedBean(new kf);o.addCssClass(`ag-filter-${n}`),o.addCssClass("ag-filter-filter"),i.push(o),e.appendChild(o.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}mapValuesFromModel(e){let{filter:i,filterTo:n,type:o}=e||{};return[i||null,n||null].slice(0,this.getNumberOfInputs(o))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,i,n,o){let r=e.map(p=>this.formatter(p))||[],s=this.formatter(i),{api:l,colDef:c,column:d,context:u,textFormatter:h}=this.textFilterParams;if(n.type==="blank")return this.isBlank(i);if(n.type==="notBlank")return!this.isBlank(i);let g={api:l,colDef:c,column:d,context:u,node:o.node,data:o.data,filterOption:n.type,value:s,textFormatter:h};return r.some(p=>this.matcher(At(We({},g),{filterText:p})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function zK(e){if(typeof e=="number")return e;if(typeof e=="string"){let i=parseInt(e);return isNaN(i)?void 0:i}}function uu(e,i=Number.MAX_VALUE){return n=>{let o=zK(n);if(!(o==null||o<e||o>i))return o}}function zy(e,i){return e.toString().padStart(i,"0")}function Tme(e,i){let n=[];for(let o=e;o<=i;o++)n.push(o);return n}function Fme(e,i,n){return typeof e!="number"?"":e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}function Xs(e,i=!0,n="-"){if(!e)return null;let o=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>zy(r,2)).join(n);return i&&(o+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>zy(r,2)).join(":")),o}var XO=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function By(e,i="YYYY-MM-DD"){let n=zy(e.getFullYear(),4),o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>o[e.getMonth()],MMM:()=>o[e.getMonth()].slice(0,3),MM:()=>zy(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${XO(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${XO(e.getDate())}`,DD:()=>zy(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${XO(e.getDay())}`,d:()=>`${e.getDay()}`},l=new RegExp(Object.keys(s).join("|"),"g");return i.replace(l,c=>c in s?s[c]():c)}function os(e){if(!e)return null;let[i,n]=e.split(" ");if(!i)return null;let o=i.split("-").map(g=>parseInt(g,10));if(o.filter(g=>!isNaN(g)).length!==3)return null;let[r,s,l]=o,c=new Date(r,s-1,l);if(c.getFullYear()!==r||c.getMonth()!==s-1||c.getDate()!==l)return null;if(!n||n==="00:00:00")return c;let[d,u,h]=n.split(":").map(g=>parseInt(g,10));return d>=0&&d<24&&c.setHours(d),u>=0&&u<60&&c.setMinutes(u),h>=0&&h<60&&c.setSeconds(h),c}var BK=class{constructor(e,i,n,o,r){this.alive=!0,this.context=e,this.eParent=o,i.getDateCompDetails(n).newAgStackInstance().then(c=>{if(!this.alive){e.destroyBean(c);return}this.dateComp=c,c&&(o.appendChild(c.getGui()),c.afterGuiAttached&&c.afterGuiAttached(),this.tempValue&&c.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r?.(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Pn(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){let i=!1;this.dateComp?.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(i=!0),!i&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&et("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},VK=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],HK=class extends K6{constructor(e,i,n){super(i,n),this.dateFilterParams=e}conditionToString(e,i){let{type:n}=e,{numberOfInputs:o}=i||{},r=n=="inRange"||o===2,s=os(e.dateFrom),l=os(e.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){let d=s!==null?By(s,c):"null",u=l!==null?By(l,c):"null";return`${d}-${u}`}return s!=null?By(s,c):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},pq=1e3,fq=1/0,Pme=class extends AK{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=pq,this.maxValidYear=fq,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:i,dateTo:n,type:o}=e||{};return[i&&os(i)||null,n&&os(n)||null].slice(0,this.getNumberOfInputs(o))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,i){let n=i;return i==null||n<e?-1:n>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);let i=(n,o)=>{if(e[n]!=null)if(isNaN(e[n]))et(`DateFilter ${n} is not a number`);else return e[n]==null?o:Number(e[n]);return o};this.minValidYear=i("minValidYear",pq),this.maxValidYear=i("maxValidYear",fq),this.minValidYear>this.maxValidYear&&et("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:os(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:os(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&et("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new HK(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){let i=new BK(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,i){e.setDate(i)}setElementDisplayed(e,i){e.setDisplayed(i)}setElementDisabled(e,i){e.setDisabled(i)}getDefaultFilterOptions(){return VK}createValueElement(){let i=so(this.gos).createElement("div");return i.classList.add("ag-filter-body"),this.createFromToElement(i,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(i,this.eConditionPanelsTo,this.dateConditionToComps,"to"),i}createFromToElement(e,i,n,o){let s=so(this.gos).createElement("div");s.classList.add(`ag-filter-${o}`),s.classList.add(`ag-filter-date-${o}`),i.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s))}removeValueElements(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)}removeDateComps(e,i,n){this.removeItems(e,i,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let i=!0;return this.forEachInput((n,o,r,s)=>{r!==e||!i||o>=s||(i=i&&this.isValidDateValue(n.getDate()))}),i}areSimpleModelsEqual(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type}getFilterType(){return"date"}createCondition(e){let i=this.getConditionType(e),n={},o=this.getValues(e);return o.length>0&&(n.dateFrom=Xs(o[0])),o.length>1&&(n.dateTo=Xs(o[1])),We({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},n)}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(o=>{o.setInputPlaceholder(i),o.setInputAriaLabel(n)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){let i=[];return this.forEachPositionInput(e,(n,o,r,s)=>{o<s&&i.push(n.getDate())}),i}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Y6=class extends Qe{constructor(e,i,n,o){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=i,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=o,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Li(this.colsSpanning):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let e=this.beans.gos.get("suppressColumnMoveAnimation"),i=rt(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),i=e.getLeft(),n=e.getOldLeft(),o=this.modifyLeftForPrintLayout(e,n),r=this.modifyLeftForPrintLayout(e,i);this.setLeft(o),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){let e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,i){if(!ir(this.beans.gos,"print")||e.getPinned()==="left")return i;let o=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){let r=this.beans.visibleColsService.getBodyContainerWidth();return o+r+i}return o+i}setLeft(e){if(rt(e)&&(this.eCell.style.left=`${e}px`),Co(this.columnOrGroup)){let i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&Kpe(this.ariaEl,i.length)}}},Lme="ag-column-first",Nme="ag-column-last";function GK(e,i,n,o){return Ai(e)?[]:zme(e.headerClass,e,i,n,o)}function jK(e,i,n){e.addOrRemoveCssClass(Lme,n.isColAtEdge(i,"first")),e.addOrRemoveCssClass(Nme,n.isColAtEdge(i,"last"))}function Ome(e,i,n,o){return i.addGridCommonParams({colDef:e,column:n,columnGroup:o})}function zme(e,i,n,o,r){if(Ai(e))return[];let s;if(typeof e=="function"){let l=Ome(i,n,o,r);s=e(l)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}var Bme=0,Vme=(()=>{let e=class WK extends Qe{constructor(n,o,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=n,this.parentRowCtrl=r,this.beans=o,this.instanceId=n.getUniqueId()+"-"+Bme++}wireBeans(n){this.pinnedWidthService=n.pinnedWidthService,this.focusService=n.focusService,this.userComponentFactory=n.userComponentFactory,this.ctrlsService=n.ctrlsService,this.dragAndDropService=n.dragAndDropService,this.menuService=n.menuService}postConstruct(){let n=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],n),this.addManagedEventListeners({overlayExclusiveChanged:n})}shouldStopEventPropagation(n){let{headerRowIndex:o,column:r}=this.focusService.getFocusedHeader();return Eme(this.gos,n,o,r)}getWrapperHasFocus(){return Ln(this.gos)===this.eGui}setGui(n,o){this.eGui=n,this.addDomData(o),o.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),o.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(n){let{wrapperElement:o,checkMeasuringCallback:r,compBean:s}=n,{animationFrameService:l,resizeObserverService:c,columnModel:d,gos:u}=this.beans,h=k=>{if(!this.isAlive()||!s.isAlive())return;let{paddingTop:G,paddingBottom:J,borderBottomWidth:$,borderTopWidth:_e}=Ef(this.getGui()),Te=G+J+$+_e,$e=o.offsetHeight+Te;if(k<5){let nt=so(u),at=!nt||!nt.contains(o),Ft=$e==0;if(at||Ft){l.requestAnimationFrame(()=>h(k+1));return}}d.setColHeaderHeight(this.column,$e)},g=!1,p,f=()=>{let k=this.column.isAutoHeaderHeight();k&&!g&&y(),!k&&g&&M()},y=()=>{g=!0,h(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),p=c.observeResize(o,()=>h(0))},M=()=>{g=!1,p&&p(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),p=void 0};f(),s.addDestroyFunc(()=>M()),s.addManagedListeners(this.column,{widthChanged:()=>g&&h(0)}),s.addManagedEventListeners({sortChanged:()=>{g&&window.setTimeout(()=>h(0))}}),r&&r(f)}onDisplayedColumnsChanged(){let{comp:n,column:o,beans:r,eGui:s}=this;!n||!o||!s||(jK(n,o,r.visibleColsService),nK(s,r.visibleColsService.getAriaColIndex(o)))}addResizeAndMoveKeyboardListeners(n){this.resizeFeature&&n.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let n=this.focusService.isHeaderFocusSuppressed();this.eGui&&Zs(this.eGui,"tabindex",n?null:"-1")}onGuiKeyDown(n){let o=Ln(this.gos),r=n.key===Ze.LEFT||n.key===Ze.RIGHT;if(this.isResizing&&(n.preventDefault(),n.stopImmediatePropagation()),o!==this.eGui||!n.shiftKey&&!n.altKey||((this.isResizing||r)&&(n.preventDefault(),n.stopImmediatePropagation()),!r))return;let s=n.key===Ze.LEFT!==this.gos.get("enableRtl"),l=_K[s?"Left":"Right"];if(n.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let c=this.getViewportAdjustedResizeDiff(n);this.resizeHeader(c,n.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(l)}getViewportAdjustedResizeDiff(n){let o=this.getResizeDiff(n);if(this.column.getPinned()){let s=this.pinnedWidthService.getPinnedLeftWidth(),l=this.pinnedWidthService.getPinnedRightWidth(),c=Qy(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+l+o>c)if(c>s+l)o=c-s-l;else return 0}return o}getResizeDiff(n){let o=n.key===Ze.LEFT!==this.gos.get("enableRtl"),r=this.column.getPinned(),s=this.gos.get("enableRtl");return r&&s!==(r==="right")&&(o=!o),(o?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(n){let o=this.getWrapperHasFocus();switch(n.key){case Ze.PAGE_DOWN:case Ze.PAGE_UP:case Ze.PAGE_HOME:case Ze.PAGE_END:o&&n.preventDefault()}}addDomData(n){let o=WK.DOM_DATA_KEY_HEADER_CTRL;_f(this.gos,this.eGui,o,this),n.addDestroyFunc(()=>_f(this.gos,this.eGui,o,null))}getGui(){return this.eGui}focus(n){return this.eGui?(this.lastFocusEvent=n||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(n,o,r){let s=n??o;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,n,o),this.dispatchColumnMouseEvent("columnHeaderContextMenu",r)}dispatchColumnMouseEvent(n,o){this.eventService.dispatchEvent({type:n,column:o})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};return e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",e})(),gk=Vme,Q6=class extends Qe{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,i){super(),this.columns=e,this.element=i}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},Hme=class extends gk{constructor(e,i,n){super(e,i,n),this.iconCreated=!1,this.column=e}setComp(e,i,n,o,r){this.comp=e,r=Yy(this,this.beans.context,r),this.eButtonShowMainFilter=n,this.eFloatingFilterBody=o,this.setGui(i,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){let e=this.column.getColDef(),i=!!e.filter,n=!!e.floatingFilter;this.active=i&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=Ss("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Mf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.localeService.getLocaleTextFunc();d0(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Ln(this.gos)===this.eGui)return;let o=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(o){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),o.focus();return}let r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let i=this.beans.visibleColsService,n=this.column;do if(n=e?i.getColBefore(n):i.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);let i=this.getWrapperHasFocus();switch(e.key){case Ze.UP:case Ze.DOWN:i||e.preventDefault();case Ze.LEFT:case Ze.RIGHT:if(i)return;e.stopPropagation();case Ze.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Ze.ESCAPE:i||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&s0(e.relatedTarget,"ag-floating-filter");if(n&&o&&e.target===this.eGui){let s=this.lastFocusEvent,l=!!(s&&s.key===Ze.TAB);if(s&&l){let c=s.shiftKey;this.focusService.focusInto(this.eGui,c)}}let r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new Q6([this.column],this.eGui));let i=()=>{if(!this.gos.get("columnHoverHighlight"))return;let n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:i}),i()}setupLeft(e){let i=new Y6(this.column,this.eGui,this.beans);e.createManagedBean(i)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{filterManager:i}=this.beans,n=o=>{if(o?.source==="filterDestroyed"&&!this.isAlive())return;let r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){let l=i?.getCurrentFloatingFilterParentModel(this.column),c=o?At(We({},o),{columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}):null;s.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),i?.isFilterActive(this.column)&&n(null)}setupWidth(e){let i=()=>{let n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:i}),i()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let i=this.active;this.setupActive();let n=!i&&this.active;i&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let o=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!o?this.updateCompDetails(e,o,n):r.then(s=>{!s||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,o)?this.updateCompDetails(e,o,n):this.updateFloatingFilterParams(o)})}updateCompDetails(e,i,n){this.isAlive()&&(this.setCompDetails(i),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;let i=e.params;this.comp.getFloatingFilterComp()?.then(n=>{let o=!1;n?.refresh&&typeof n.refresh=="function"&&n.refresh(i)!==null&&(o=!0),!o&&n?.onParamsUpdated&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(i)!==null&&et("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Qt="32.3.3";function Gme(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()}function jme(e,i,n){return e.filterManager?.getFilterInstance(i,n)}function Wme(e,i){return e.filterManager?.getColumnFilterInstance(i)??Promise.resolve(void 0)}function Ume(e,i){let n=e.columnModel.getColDefCol(i);if(n)return e.filterManager?.destroyFilter(n,"api")}function $me(e,i){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(i))}function qme(e){return e.filterManager?.getFilterModel()??{}}function Kme(e,i){return e.filterManager?.getColumnFilterModel(i)??null}function Yme(e,i,n){return e.filterManager?.setColumnFilterModel(i,n)??Promise.resolve()}function Qme(e,i){let n=e.columnModel.getCol(i);if(!n){Hi(`column '${i}' not found`);return}e.menuService.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function Zme(e,i,n){if(i==null)return null;let o=null,{compName:r,jsComp:s,fwComp:l}=SK.getCompKeys(e,i,W6);return r?o={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&l==null&&i.filter===!0&&(o=n()),o}var mq={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},vq=["january","february","march","april","may","june","july","august","september","october","november","december"],Xme=class extends Qe{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=We({},this.gos.get("initialState")?.filter?.filterModel??{})}setFilterModel(e,i="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:i});return}let n=[],o=this.getFilterModel(!0);if(e){let r=new Set(Object.keys(e));this.allColumnFilters.forEach((s,l)=>{let c=e[l];n.push(this.setModelOnFilterWrapper(s.filterPromise,c)),r.delete(l)}),r.forEach(s=>{let l=this.columnModel.getColDefCol(s)||this.columnModel.getCol(s);if(!l){et("setFilterModel() - no column found for colId: "+s);return}if(!l.isFilterAllowed()){et("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);return}let c=this.getOrCreateFilterWrapper(l);if(!c){et("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s);return}n.push(this.setModelOnFilterWrapper(c.filterPromise,e[s]))})}else this.allColumnFilters.forEach(r=>{n.push(this.setModelOnFilterWrapper(r.filterPromise,null))});ys.all(n).then(()=>{let r=this.getFilterModel(!0),s=[];this.allColumnFilters.forEach((l,c)=>{let d=o?o[c]:null,u=r?r[c]:null;Vy(d,u)||s.push(l.column)}),s.length>0&&this.filterManager?.onFilterChanged({columns:s,source:i})})}setModelOnFilterWrapper(e,i){return new ys(n=>{e.then(o=>{typeof o.setModel!="function"&&(et("filter missing setModel method, which is needed for setFilterModel"),n()),(o.setModel(i)||ys.resolve()).then(()=>n())})})}getFilterModel(e){let i={},{allColumnFilters:n,initialFilterModel:o}=this;return n.forEach((r,s)=>{let l=this.getModelFromFilterWrapper(r);rt(l)&&(i[s]=l)}),e||Object.entries(o).forEach(([r,s])=>{rt(s)&&!n.has(r)&&this.columnModel.getCol(r)?.isFilterAllowed()&&(i[r]=s)}),i}getModelFromFilterWrapper(e){let{filter:i}=e;return i?typeof i.getModel!="function"?(et("filter API missing getModel method, which is needed for getFilterModel"),null):i.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,i){return this.doColumnFiltersPass(e,i,!0)}updateActiveFilters(){let e=s=>s?s.isFilterActive?s.isFilterActive():(et("Filter is missing isFilterActive() method"),!1):!1,i=!!l6(this.gos),n=s=>{if(!s.isPrimary())return!0;let c=!this.columnModel.isPivotActive();return!s.isValueActive()||!c?!1:this.columnModel.isPivotMode()?!0:i},o=[],r=[];return this.forEachColumnFilter((s,l)=>{e(s)&&(n(l.column)?o.push(s):r.push(s))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,i){return this.forEachColumnFilter((n,o)=>o.column.setFilterActive(n.isFilterActive(),e,i))}forEachColumnFilter(e){return ys.all(Array.from(this.allColumnFilters.values()).map(i=>i.filterPromise.then(n=>e(n,i))))}doColumnFiltersPass(e,i,n){let{data:o,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,l=n?r:o;for(let c=0;c<s.length;c++){let d=s[c];if(!(d==null||d===i)){if(typeof d.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!d.doesFilterPass({node:e,data:l}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){let i=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){let{filterInstance:i,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(r=>{r&&r!==i&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:i})=>this.valueService.getValue(e,i,!0)}createGetValue(e){return(i,n)=>{let o=n?this.columnModel.getCol(n):e;return o?this.valueService.getValue(o,i,!0):void 0}}isFilterActive(e){let{filter:i}=this.cachedFilter(e)??{};return i?i.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);return i||(i=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let i;if(jO(this.gos))i="agSetColumnFilter";else{let n=this.dataTypeService?.getBaseDataType(e);n==="number"?i="agNumberColumnFilter":n==="date"||n==="dateString"?i="agDateColumnFilter":i="agTextColumnFilter"}return i}getDefaultFloatingFilter(e){let i;if(jO(this.gos))i="agSetColumnFloatingFilter";else{let n=this.dataTypeService?.getBaseDataType(e);n==="number"?i="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?i="agDateColumnFloatingFilter":i="agTextColumnFloatingFilter"}return i}createFilterInstance(e,i){let n=this.getDefaultFilter(e),o=e.getColDef(),r,s=At(We({},this.createFilterParams(e,o)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:c=>this.filterChangedCallbackFactory(r,e)(c),doesRowPassOtherFilter:c=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,c):!0}),l=this.userComponentFactory.getFilterDetails(o,s,n);return l?{filterPromise:()=>{let c=l.newAgStackInstance();return c?.then(d=>{r=d,i&&(i.filter=d)}),c},compDetails:l}:{filterPromise:null,compDetails:null}}createFilterParams(e,i){return this.gos.addGridCommonParams({column:e,colDef:Wq(i),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){let i={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:n,compDetails:o}=this.createFilterInstance(e,i);return i.filterPromise=n?.()??null,i.compDetails=o,i}onColumnsChanged(){let e=[];this.allColumnFilters.forEach((n,o)=>{let r;n.column.isPrimary()?r=this.columnModel.getColDefCol(o):r=this.columnModel.getCol(o),!(r&&r===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(o))});let i=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!i?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(i=>{i.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(i)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof n?.isFilterAllowed=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,i){let n=d=>{let u=this.getOrCreateFilterWrapper(e)?.filterPromise;u?.then(h=>{d(Oy(h))})},o=e.getColDef(),r=At(We({},this.createFilterParams(e,o)),{filterChangedCallback:()=>n(d=>this.filterChangedCallbackFactory(d,e)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,W6,r),l=Zme(this.frameworkOverrides,o,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");let c={column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:i,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,c,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,i="api"){let n=e.getColId(),o=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],o&&(this.disposeFilterWrapper(o,i),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){let i=this.allColumnListeners.get(e);i&&(this.allColumnListeners.delete(e),i())}disposeFilterWrapper(e,i){e.filterPromise.then(n=>{this.destroyBean(n),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:i,column:e.column})})}filterModifiedCallbackFactory(e,i){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:i,filterInstance:e})}}filterChangedCallbackFactory(e,i){return n=>{let o=n?.source??"columnFilter",r={filter:e,additionalEventAttributes:n,columns:[i],source:o};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){let i=this.allColumnFilters.get(e);if(!i)return;let n=i.column,{compDetails:o}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(i.compDetails,o)){this.destroyFilter(n,"paramsUpdated");return}let r=n.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(n,"paramsUpdated");return}i.filterPromise.then(s=>{(s?.refresh?s.refresh(We(At(We({},this.createFilterParams(n,n.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:c=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,c):!0}),r)):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,i){let n=e.getColId();this.allColumnFilters.set(n,i),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,i){if(!i||!e)return!0;let{componentClass:n}=e,{componentClass:o}=i;return!(n===o||n?.render&&o?.render&&n.render===o.render)}hasFloatingFilters(){return this.columnModel.getCols().some(i=>i.getColDef().floatingFilter)}getFilterInstance(e,i){i&&this.getFilterInstanceImpl(e).then(n=>{let o=Oy(n);i(o)})}getColumnFilterInstance(e){return new Promise(i=>{this.getFilterInstanceImpl(e).then(n=>{i(Oy(n))})})}getFilterInstanceImpl(e){let i=this.columnModel.getColDefCol(e);return i?this.getOrCreateFilterWrapper(i)?.filterPromise??ys.resolve(null):ys.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:i})=>this.setFilterModel(e,i)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:i,resolve:n})=>{this.setColumnFilterModel(e,i).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){let i=this.getFilterWrapper(e);return i?this.getModelFromFilterWrapper(i):null}setColumnFilterModel(e,i){if(this.dataTypeService?.isPendingInference()){let s=()=>{},l=new Promise(c=>{s=c});return this.columnFilterModelUpdateQueue.push({key:e,model:i,resolve:s}),l}let n=this.columnModel.getColDefCol(e),o=n?this.getOrCreateFilterWrapper(n):null;return o?(s=>new Promise(l=>{s.then(c=>l(c))}))(this.setModelOnFilterWrapper(o.filterPromise,i)):Promise.resolve()}getFilterWrapper(e){let i=this.columnModel.getColDefCol(e);return i?this.cachedFilter(i)??null:null}setColDefPropertiesForDataType(e,i,n){let o=jO(this.gos),r=this.localeService.getLocaleTextFunc(),s=l=>{let{filterParams:c}=e;e.filterParams=typeof c=="object"?We(We({},c),l):l};switch(i.baseDataType){case"number":{o&&s({comparator:(l,c)=>{let d=l==null?0:parseInt(l),u=c==null?0:parseInt(c);return d===u?0:d>u?1:-1}});break}case"boolean":{s(o?{valueFormatter:l=>rt(l.value)?r(String(l.value),l.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,c)=>c===!1,numberOfInputs:0}]});break}case"date":{o&&s({valueFormatter:l=>{let c=n(l);return rt(c)?c:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,c)=>{if(c===1&&l!=null){let d=vq[Number(l)-1];return r(d,mq[d])}return l??r("blanks","(Blanks)")}});break}case"dateString":{let l=i.dateParser;s(o?{valueFormatter:c=>{let d=n(c);return rt(d)?d:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{let d=l(c??void 0);return d?[String(d.getFullYear()),String(d.getMonth()+1),String(d.getDate())]:null},treeListFormatter:(c,d)=>{if(d===1&&c!=null){let u=vq[Number(c)-1];return r(u,mq[u])}return c??r("blanks","(Blanks)")}}:{comparator:(c,d)=>{let u=l(d);return d==null||u<c?-1:u>c?1:0}});break}case"object":{o?s({valueFormatter:l=>{let c=n(l);return rt(c)?c:r("blanks","(Blanks)")}}):e.filterValueGetter=l=>n({column:l.column,node:l.node,value:this.valueService.getValue(l.column,l.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function Jme(e){return!!e.filterManager?.isAnyFilterPresent()}function eve(e,i="api"){e.filterManager?.onFilterChanged({source:i})}var tve=class extends zi{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[hk]),this.eFloatingFilterText=ft}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;let i=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${i} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(i=>{if(i.getModelAsString){let n=i.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},UK=class extends zi{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}let i=e.operator,n;i?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,i=!0){this.optionsFactory=new IK,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),i||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;let n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){let i=this.optionsFactory.getCustomOption(e),{numberOfInputs:n}=i||{};return n==null||n==1}isTypeEditable(e){let i=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0}getAriaLabel(e){let i=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();return`${i} ${n("ariaFilterInput","Filter Input")}`}},ive=class extends UK{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[hk]),this.eReadOnlyText=ft,this.eDateWrapper=ft}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return VK}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new HK(this.filterParams,this.localeService,this.optionsFactory);let i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(i),i){if(e){let n=e;this.dateComp.setDate(os(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Pn(this.eDateWrapper,e),Pn(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=this.dateComp.getDate(),i=Xs(e);this.params.parentFilterInstance(n=>{if(n){let o=os(i);n.onFloatingFilterChanged(this.getLastType()||null,o)}})}getDateComponentParams(){let e=U6(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Lr(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new BK(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){let e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},nve=class extends zi{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[hk]),this.eDateInput=ft}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);let i=this.eDateInput.getInputElement();this.addManagedListeners(i,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||i.focus()},input:n=>{n.target===Ln(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){let i=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&fu(),i.type=n?"date":"text";let{minValidYear:o,maxValidYear:r,minValidDate:s,maxValidDate:l}=e.filterParams||{};if(s&&o&&et("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),l&&r&&et("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&l){let[c,d]=[s,l].map(u=>u instanceof Date?u:os(u));c&&d&&c.getTime()>d.getTime()&&et("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?i.min=By(s):i.min=s:o&&(i.min=`${o}-01-01`),l?l instanceof Date?i.max=By(l):i.max=l:r&&(i.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return os(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Xs(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:L6()||N6()||fu()&&oK()>=14.1}},$K=class extends Qe{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=ft,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new kf(this.params?.config));let i=this.eFloatingFilterTextInput.getGui();e.appendChild(i);let n=o=>this.valueChangedListener(o);this.addManagedListeners(i,{input:n,keydown:n})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,i){this.eFloatingFilterTextInput.setValue(e,i)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},qK=class extends UK{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ft}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;let i=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=ak(this.params.filterParams),!this.isReadOnly()){let n=U6(this.params.filterParams,this.getDefaultDebounceMs()),o=Lr(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(o)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let i=this.floatingFilterInputService.getValue();vr(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(i,!0)}syncUpWithParentFilter(e){let i=e.key===Ze.ENTER;if(this.applyActive&&!i)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=OK(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(o=>{o&&o.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},ove=class extends Qe{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new q6),this.eFloatingFilterTextInput=this.createManagedBean(new kf),this.eFloatingFilterTextInput.setDisabled(!0);let i=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(n),this.setupListeners(i,o=>this.valueChangedListener(o)),this.setupListeners(n,o=>this.valueChangedListener(o))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,i){this.getActiveInputElement().setValue(e,i)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,i){this.addManagedListeners(e,{input:i,keydown:i})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},rve=class extends qK{init(e){super.init(e),this.filterModelFormatter=new PK(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){b6(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return FK}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=b6(e.filterParams),this.allowedCharPattern?this.createManagedBean(new $K({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new ove)}},sve=class extends qK{init(e){super.init(e),this.filterModelFormatter=new NK(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return LK}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new $K)}};function ave(e){return!!e.filterManager?.isQuickFilterPresent()}function lve(e){return e.gos.get("quickFilterText")}function cve(e){e.filterManager?.resetQuickFilterCache()}var dve=class extends Qe{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){let e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",i=>this.setQuickFilter(i.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){let e=this.columnModel.isPivotMode(),i=this.columnModel.getAutoCols(),n=this.columnModel.getColDefCols(),o=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:n)??[];i&&(o=o.concat(i)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?o:o.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){let i=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(i,e):this.quickFilterParts.every(n=>i?this.doesRowPassQuickFilterCache(e,n):this.doesRowPassQuickFilterNoCache(e,n))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){let{quickFilter:e,parser:i}=this;e?this.quickFilterParts=i?i(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return rt(e)?Wn(this.gos)?e.toUpperCase():(et("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){et(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}let i=this.parseQuickFilter(e);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){let e=this.gos.get("quickFilterParser"),i=this.gos.get("quickFilterMatcher"),n=e!==this.parser||i!==this.matcher;this.parser=e,this.matcher=i,n&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,i){return this.colsForQuickFilter.some(n=>{let o=this.getQuickFilterTextForColumn(n,e);return rt(o)&&o.indexOf(i)>=0})}doesRowPassQuickFilterCache(e,i){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(i)>=0}doesRowPassQuickFilterMatcher(e,i){let n;e?(this.checkGenerateQuickFilterAggregateText(i),n=i.quickFilterAggregateText):n=this.getQuickFilterAggregateText(i);let{quickFilterParts:o,matcher:r}=this;return r(o,n)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,i){let n=this.valueService.getValue(e,i,!0),o=e.getColDef();if(o.getQuickFilterText){let r=this.gos.addGridCommonParams({value:n,node:i,data:i.data,column:e,colDef:o});n=o.getQuickFilterText(r)}return rt(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(e){let i=[];return this.colsForQuickFilter.forEach(n=>{let o=this.getQuickFilterTextForColumn(n,e);rt(o)&&i.push(o)}),i.join(`
`)}},Z6={version:Qt,moduleName:"@ag-grid-community/filter-core",beans:[dme]},uve={version:Qt,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:Jme,onFilterChanged:eve},dependantModules:[Z6]},pk={version:Qt,moduleName:"@ag-grid-community/column-filter",beans:[Xme],dependantModules:[Z6]},hve={version:Qt,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:Gme,getFilterInstance:jme,getColumnFilterInstance:Wme,destroyFilter:Ume,setFilterModel:$me,getFilterModel:qme,getColumnFilterModel:Kme,setColumnFilterModel:Yme,showColumnFilter:Qme},dependantModules:[pk,uve]},X6={version:Qt,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:Hme}],dependantModules:[pk]},adt={version:Qt,moduleName:"@ag-grid-community/floating-filter",dependantModules:[X6,pk]},gve={version:Qt,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:tve}],dependantModules:[X6]},pve={version:Qt,moduleName:"@ag-grid-community/simple-filter",dependantModules:[pk],userComponents:[{name:"agTextColumnFilter",classImp:Ame},{name:"agNumberColumnFilter",classImp:Rme},{name:"agDateColumnFilter",classImp:Pme},{name:"agDateInput",classImp:nve}]},fve={version:Qt,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[pve,X6],userComponents:[{name:"agTextColumnFloatingFilter",classImp:sve},{name:"agNumberColumnFloatingFilter",classImp:rve},{name:"agDateColumnFloatingFilter",classImp:ive}]},KK={version:Qt,moduleName:"@ag-grid-community/quick-filter-core",beans:[dve],dependantModules:[Z6]},mve={version:Qt,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:ave,getQuickFilter:lve,resetQuickFilter:cve},dependantModules:[KK]},vve={version:Qt,moduleName:"@ag-grid-community/quick-filter",dependantModules:[KK,mve]},Cve={version:Qt,moduleName:"@ag-grid-community/filter",dependantModules:[fve,gve,vve,hve]},J6=class extends zi{constructor(e,i){super(e),this.ctrl=i}getCtrl(){return this.ctrl}},wve=class extends J6{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=ft,this.eButtonWrapper=ft,this.eButtonShowMainFilter=ft}postConstruct(){let e=this.getGui(),i={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),addOrRemoveBodyCssClass:(n,o)=>this.eFloatingFilterBody.classList.toggle(n,o),setButtonWrapperDisplayed:n=>Pn(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(i,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},bve=class extends J6{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=ft,this.eHeaderCompWrapper=ft,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){let e=this.getGui();((r,s)=>{s!=null&&s!=""?e.setAttribute(r,s):e.removeAttribute(r)})("col-id",this.column.getColId());let n={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setAriaSort:r=>r?Ype(e,r):Qpe(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);let o=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",o)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let i=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(i,n))}afterCompCreated(e,i){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},yve=class extends J6{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=ft,this.eHeaderCompWrapper=ft}postConstruct(){let e=this.getGui(),i=(o,r)=>r!=null?e.setAttribute(o,r):e.removeAttribute(o);e.setAttribute("col-id",this.ctrl.getColId());let n={addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),setHeaderWrapperHidden:o=>{o?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:o=>{o!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${o}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",o!=null)},setResizableDisplayed:o=>Pn(this.eResize,o),setWidth:o=>e.style.width=o,setAriaExpanded:o=>i("aria-expanded",o),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(e){let i=()=>this.destroyBean(e);if(!this.isAlive()){i();return}let n=this.getGui(),o=e.getGui();this.eHeaderCompWrapper.appendChild(o),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(n)}addOrRemoveHeaderWrapperStyle(e,i){let{eHeaderCompWrapper:n}=this;i?n.style.setProperty(e,i):n.style.removeProperty(e)}};var Sve=class extends zi{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){iK(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:i=>this.getGui().style.height=i,setTop:i=>this.getGui().style.top=i,setHeaderCtrls:(i,n)=>this.setHeaderCtrls(i,n),setWidth:i=>this.getGui().style.width=i};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,i){if(!this.isAlive())return;let n=this.headerComps;if(this.headerComps={},e.forEach(o=>{let r=o.instanceId,s=n[r];delete n[r],s==null&&(s=this.createHeaderComp(o),this.getGui().appendChild(s.getGui())),this.headerComps[r]=s}),qs(n,(o,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),i){let o=Fg(this.headerComps);o.sort((s,l)=>{let c=s.getCtrl().getColumnGroupChild().getLeft(),d=l.getCtrl().getColumnGroupChild().getLeft();return c-d});let r=o.map(s=>s.getGui());gK(this.getGui(),r)}}createHeaderComp(e){let i;switch(this.ctrl.getType()){case"group":i=new yve(e);break;case"filter":i=new wve(e);break;default:i=new bve(e);break}return this.createBean(i),i.setParentComponent(this),i}};var xve=class extends Qe{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});let e=so(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,i){let n;if(typeof e=="string"?(n=this.columnModel.getCol(e),n||(n=this.visibleColService.getColumnGroup(e))):n=e,!n)return null;let r=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),s=Li(r||[]).getType()==="filter",l=this.getHeaderRowCount()-1,c=-1,d=n;for(;d;)c++,d=d.getParent();let u=c;return i&&s&&u===l-1&&u++,u===-1?null:{headerRowIndex:u,column:n}}navigateVertically(e,i,n){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;let{headerRowIndex:o}=i,r=i.column,s=this.getHeaderRowCount(),l=e===0,{headerRowIndex:c,column:d,headerRowIndexWithoutSpan:u}=l?this.headerPositionUtils.getColumnVisibleParent(r,o):this.headerPositionUtils.getColumnVisibleChild(r,o),h=!1;return c<0&&(c=0,d=r,h=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):u!==void 0&&(this.currentHeaderRowWithoutSpan=u),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:n})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,i=!1,n){let o=this.focusService.getFocusedHeader(),r=e===2,s=this.gos.get("enableRtl"),l,c;if(this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,r!==s?(c="Before",l=this.headerPositionUtils.findHeader(o,c)):(c="After",l=this.headerPositionUtils.findHeader(o,c)),l||!i)return this.focusService.focusHeaderPosition({headerPosition:l,direction:c,fromTab:i,allowUserOverride:!0,event:n});if(i){let d=this.gos.getCallback("tabToNextHeader");if(d)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:d,headerPosition:l,direction:c})}return this.focusNextHeaderRow(o,c,n)}focusNextHeaderRow(e,i,n){let o=e.headerRowIndex,r=null,s;if(i==="Before"?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;let{column:l,headerRowIndex:c}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:c},direction:i,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,i="After"){if(e.getPinned())return;let n;if(Co(e)){let o=e.getDisplayedLeafColumns();n=i==="Before"?Li(o):o[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},_ve=class extends Qe{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,i,n){this.comp=e,this.eGui=i,this.createManagedBean(new Mf(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();let o=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:o}),this.mockContextMenuForIPad(o),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){let{columnModel:e}=this,i=0,n=this.columnModel.getGroupRowsHeight().reduce((s,l)=>s+l,0),o=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(i+=e.getFloatingFiltersHeight()),i+=n,i+=o,this.headerHeight===i)return;this.headerHeight=i;let r=`${i+1}px`;this.comp.setHeightAndMinHeight(r),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){let e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){let i=this.visibleColsService.getAllCols().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){let i=this.gos.get("enableRtl"),n=e.shiftKey,o=n!==i?2:3;(this.headerNavigationService.navigateHorizontally(o,!0,e)||!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n,!0))&&e.preventDefault()}handleKeyDown(e){let i=null;switch(e.key){case Ze.LEFT:i=2;case Ze.RIGHT:{rt(i)||(i=3),this.headerNavigationService.navigateHorizontally(i,!1,e)&&e.preventDefault();break}case Ze.UP:i=0;case Ze.DOWN:{rt(i)||(i=1),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:i}=e;!i&&this.eGui.contains(Ln(this.gos))||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,i,n){if(!e&&!n||!this.menuService.isHeaderContextMenuEnabled())return;let{target:o}=e??i;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,e,n)}mockContextMenuForIPad(e){if(!Ng())return;let i=new Ag(this.eGui),n=o=>{e(void 0,o.touchStart,o.touchEvent)};this.addManagedListeners(i,{longTap:n}),this.addDestroyFunc(()=>i.destroy())}},e4=class extends Qe{constructor(e,i=!1){super(),this.callback=e,this.addSpacer=i}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=ir(this.gos,"print"),i=this.visibleColsService.getBodyContainerWidth(),n=this.visibleColsService.getColsLeftWidth(),o=this.visibleColsService.getDisplayedColumnsRightWidth(),r;e?r=i+n+o:(r=i,this.addSpacer&&(this.gos.get("enableRtl")?n:o)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},Dve=class extends Qe{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let i=e.dragItem.columns;i&&i.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function YK(e){let{isFromHeader:i,fromLeft:n,xPosition:o,fromEnter:r,fakeEvent:s,pinned:l,gos:c,columnModel:d,columnMoveService:u,visibleColsService:h}=e,{allMovingColumns:g}=e;if(i){let Te=[];g.forEach(Pe=>{let $e=null,nt=Pe.getParent();for(;nt!=null&&nt.getDisplayedLeafColumns().length===1;)$e=nt,nt=nt.getParent();$e!=null?(!!$e.getColGroupDef()?.marryChildren?$e.getProvidedColumnGroup().getLeafColumns():$e.getLeafColumns()).forEach(Zt=>{Te.includes(Zt)||Te.push(Zt)}):Te.includes(Pe)||Te.push(Pe)}),g=Te}let p=g.slice();d.sortColsLikeCols(p);let f=Ive({movingCols:p,draggingRight:n,xPosition:o,pinned:l,gos:c,columnModel:d,visibleColsService:h}),y=Eve(p,d);if(f.length===0)return;let M=f[0],k=y!==null&&!r;if(i&&(k=y!==null),k&&!s&&(!n&&M>=y||n&&M<=y))return;let G=h.getAllCols(),J=[],$=null;for(let Te=0;Te<f.length;Te++){let Pe=f[Te],$e=u.getProposedColumnOrder(p,Pe);if(!u.doesOrderPassRules($e))continue;let nt=$e.filter(Ft=>G.includes(Ft));if($===null)$=nt;else if(!Lg(nt,$))break;let at=Mve($e);J.push({move:Pe,fragCount:at})}if(J.length===0)return;J.sort((Te,Pe)=>Te.fragCount-Pe.fragCount);let _e=J[0].move;if(!(_e>d.getCols().length-g.length))return{columns:g,toIndex:_e}}function t4(e){let{columns:i,toIndex:n}=YK(e)||{},{finished:o,columnMoveService:r}=e;return!i||n==null?null:(r.moveColumns(i,n,"uiColumnMoved",o),o?null:{columns:i,toIndex:n})}function Eve(e,i){let n=i.getCols(),o=spe(e.map(d=>n.indexOf(d))),r=o[0];return Li(o)-r!==o.length-1?null:r}function Mve(e){function i(o){let r=[],s=o.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let o=0;o<e.length-1;o++){let r=i(e[o]),s=i(e[o+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(l=>{s.indexOf(l)===-1&&n++})}return n}function kve(e,i){switch(i){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function Ive(e){let{movingCols:i,draggingRight:n,xPosition:o,pinned:r,gos:s,columnModel:l,visibleColsService:c}=e;if(s.get("suppressMovableColumns")||i.some($=>$.getColDef().suppressMovable))return[];let u=kve(c,r),h=l.getCols(),g=u.filter($=>yf(i,$)),p=u.filter($=>!yf(i,$)),f=h.filter($=>!yf(i,$)),y=0,M=o;if(n){let $=0;g.forEach(_e=>$+=_e.getActualWidth()),M-=$}if(M>0){for(let $=0;$<p.length;$++){let _e=p[$];if(M-=_e.getActualWidth(),M<0)break;y++}n&&y++}let k;if(y>0){let $=p[y-1];k=f.indexOf($)+1}else k=f.indexOf(p[0]),k===-1&&(k=0);let G=[k],J=($,_e)=>$-_e;if(n){let $=k+1,_e=h.length-1;for(;$<=_e;)G.push($),$++;G.sort(J)}else{let $=k,_e=h.length-1,Te=h[$];for(;$<=_e&&u.indexOf(Te)<0;)$++,G.push($),Te=h[$];$=k-1;let Pe=0;for(;$>=Pe;)G.push($),$--;G.sort(J).reverse()}return G}function lk(e){let{pinned:i,fromKeyboard:n,gos:o,ctrlsService:r,useHeaderRow:s,skipScrollPadding:l}=e,c=r.getHeaderRowContainerCtrl(i)?.getViewportElement(),{x:d}=e;return c?(n&&(d-=c.getBoundingClientRect().left),o.get("enableRtl")&&(s&&(c=c.querySelector(".ag-header-row")),d=c.clientWidth-d),i==null&&!l&&(d+=r.get("center").getCenterViewportScrollLeft()),d):0}function a0(e,i){for(let n of e)n.setMoving(i,"uiColumnMoved")}var Cq=7,y6=100,BM=y6/2,Rve=5,Ave=100,Tve=class extends Qe{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!rt(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let e=this.lastDraggingEvent?.dragItem.columns??[];for(let i of e){let n=i.getPinned();if(i.getColDef().lockPinned){if(n==this.pinned)return"move";continue}if(n===this.pinned||!this.pinned)return"move";if(!n&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){let i=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{let o=e.dragItem.visibleState,r=(i||[]).filter(s=>o[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,i=!1,n=!1,o=!1){let r=this.gos.get("suppressMoveWhenColumnDragging");if(o&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!o&&Ai(e.hDirection))return;let{pinned:s,gos:l,ctrlsService:c}=this,d=lk({x:e.x,pinned:s,gos:l,ctrlsService:c});i||this.checkCenterForScrolling(d),r?this.handleColumnDragWhileSuppressingMovement(e,i,n,d,o):this.handleColumnDragWhileAllowingMovement(e,i,n,d,o)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,i,n){if(!e)return;let o=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(o,i,n)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;let{columns:e,toIndex:i}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,i,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,i,n,o,r){let s=this.getAllMovingColumns(e,!0);if(r){let l=this.isAttemptingToPin(s);l&&this.attemptToPinColumns(s,void 0,!0);let{fromLeft:c,xPosition:d}=this.getNormalisedXPositionInfo(s,l)||{};if(c==null||d==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:d,fromEnter:i,fakeEvent:n,fromLeft:c})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,o)}}handleColumnDragWhileAllowingMovement(e,i,n,o,r){let s=this.getAllMovingColumns(e),l=this.normaliseDirection(e.hDirection)===1,c=e.dragSource.type===1,d=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:c,xPosition:o,fromLeft:l,fromEnter:i,fakeEvent:n}),u=t4(At(We({},d),{finished:r}));u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,i=!1){let n=e.dragSource.getDragItem(),o=null;i?(o=n.columnsInSplit,o||(o=n.columns)):o=n.columns;let r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return o?o.filter(r):[]}getMoveColumnParams(e){let{allMovingColumns:i,isFromHeader:n,xPosition:o,fromLeft:r,fromEnter:s,fakeEvent:l}=e,{pinned:c,gos:d,columnModel:u,columnMoveService:h,visibleColsService:g}=this;return{allMovingColumns:i,isFromHeader:n,fromLeft:r,xPosition:o,pinned:c,fromEnter:s,fakeEvent:l,gos:d,columnModel:u,columnMoveService:h,visibleColsService:g}}findFirstAndLastMovingColumns(e){let i=e.length,n,o;for(let r=0;r<=i;r++){if(!n){let s=e[r];s.getLeft()!=null&&(n=s)}if(!o){let s=e[i-1-r];s.getLeft()!=null&&(o=s)}if(n&&o)break}return{firstMovingCol:n,lastMovingCol:o}}highlightHoveredColumn(e,i){let{gos:n,columnModel:o}=this,r=n.get("enableRtl"),s=o.getCols().filter(h=>h.isVisible()&&h.getPinned()===this.pinned),l=null,c=null,d=null;for(let h of s){if(c=h.getActualWidth(),l=this.getNormalisedColumnLeft(h,0,r),l!=null){let g=l+c;if(l<=i&&g>=i){d=h;break}}l=null,c=null}if(d)e.indexOf(d)!==-1&&(d=null);else{for(let h=s.length-1;h>=0;h--){let g=s[h],p=s[h].getParent();if(!p){d=g;break}let f=p?.getDisplayedLeafColumns();if(f.length){d=Li(f);break}}if(!d)return;l=this.getNormalisedColumnLeft(d,0,r),c=d.getActualWidth()}if(this.lastHighlightedColumn?.column!==d&&this.clearHighlighted(),d==null||l==null||c==null)return;let u;i-l<c/2!==r?u=0:u=1,d.setHighlighted(u),this.lastHighlightedColumn={column:d,position:u}}getNormalisedXPositionInfo(e,i){let{gos:n,visibleColsService:o}=this,r=n.get("enableRtl"),{firstMovingCol:s,column:l,position:c}=this.getColumnMoveAndTargetInfo(e,i,r);if(!s||!l||c==null)return;let d=o.getAllCols(),u=d.indexOf(s),h=d.indexOf(l),g=c===0!==r,p=u<h||u===h&&!g,f=0;if(g?p&&(f-=1):p||(f+=1),h+f===u)return;let y=d[h+f];if(!y)return;let M=this.getNormalisedColumnLeft(y,20,r);return{fromLeft:p,xPosition:M}}getColumnMoveAndTargetInfo(e,i,n){let o=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=this.findFirstAndLastMovingColumns(e);if(!r||!s||o.column||!i)return We({firstMovingCol:r},o);let c=this.getPinDirection()==="left";return{firstMovingCol:r,position:c?1:0,column:c!==n?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,i,n){let{gos:o,ctrlsService:r}=this,s=e.getLeft();if(s==null)return null;let l=e.getActualWidth();return lk({x:n?s+l-i:s+i,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:o,ctrlsService:r})}isAttemptingToPin(e){let i=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>Cq;return i&&n||e.some(o=>o.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:i,xPosition:n,fromEnter:o,fakeEvent:r,fromLeft:s}=e,l=this.getMoveColumnParams({allMovingColumns:i,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:o,fakeEvent:r}),{columns:c,toIndex:d}=YK(l)||{};c&&d!=null&&(this.lastMovedInfo={columns:c,toIndex:d}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let i=this.ctrlsService.get("center"),n=i.getCenterViewportScrollLeft(),o=n+i.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<n+BM,this.needToMoveLeft=e>o-BM):(this.needToMoveLeft=e<n+BM,this.needToMoveRight=e>o-BM),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Ave),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*Rve,e>y6&&(e=y6);let i=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?i=n.scrollHorizontally(-e):this.needToMoveRight&&(i=n.scrollHorizontally(e)),i!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=Cq+1)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){let o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,i,n=!1){let o=(e||[]).filter(r=>!r.getColDef().lockPinned);return o.length?(n&&(i=this.getPinDirection()),this.columnModel.setColsPinned(o,i,"uiColumnDragged"),n&&this.dragAndDropService.nudge(),o.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},Fve=class extends Qe{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,i){super(),this.pinned=e,this.eContainer=i}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new Tve(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Dve(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Pve=class extends Qe{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,i,n,o,r){super(),this.pinned=e,this.column=i,this.eResize=n,this.comp=o,this.ctrl=r}postConstruct(){let e=[],i,n,o=()=>{if(Pn(this.eResize,i),!i)return;let l=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(l),n){let c=this.gos.get("skipHeaderOnAutoSize"),d=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",c)};this.eResize.addEventListener("dblclick",d);let u=new Ag(this.eResize);u.addEventListener("doubleTap",d),e.push(()=>{this.eResize.removeEventListener("dblclick",d),u.removeEventListener("doubleTap",d),u.destroy()})}},r=()=>{e.forEach(l=>l()),e.length=0},s=()=>{let l=this.column.isResizable(),c=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(l!==i||c!==n)&&(i=l,n=c,r(),o())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,i){let{column:n,lastResizeAmount:o,resizeStartWidth:r}=this,s=this.normaliseResizeAmount(i),l=r+s,c=[{key:n,newWidth:l}];if(this.column.getPinned()){let d=this.pinnedWidthService.getPinnedLeftWidth(),u=this.pinnedWidthService.getPinnedRightWidth(),h=Qy(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+u+(s-o)>h)return}this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let i=e,n=this.pinned!=="left",o=this.pinned==="right";return this.gos.get("enableRtl")?n&&(i*=-1):o&&(i*=-1),i}},Lve=class extends Qe{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){let i=this.cbSelectAll;i.isDisplayed()&&!i.getGui().contains(Ln(this.gos))&&(e.preventDefault(),i.setValue(!i.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new G6),this.cbSelectAll.addCssClass("ag-header-select-all"),rs(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);let i=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){let e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${o} (${n})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return k6(this.gos)?!0:(et(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return Wn(this.gos)||Ch(this.gos)?!0:(et(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),i=this.isFilteredOnly(),n=this.isCurrentPageOnly(),o="uiSelectAll";n?o="uiSelectAllCurrentPage":i&&(o="uiSelectAllFiltered");let r={source:o,justFiltered:i,justCurrentPage:n};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){let e=this.gos.get("rowSelection"),i=typeof e=="object"&&ZM(e)&&Ky(this.column),n=this.column.getColDef().headerCheckboxSelection,o=!1;return i?o=!0:typeof n=="function"?o=n(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):o=!!n,o&&this.checkRightRowModelType(i?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(i?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){let e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){let e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},Nve=class extends gk{constructor(e,i,n){super(e,i,n),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,i,n,o,r){this.comp=e,r=Yy(this,this.beans.context,r),this.setGui(i,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:o,checkMeasuringCallback:l=>this.setRefreshFunction("measuring",l),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new Pve(this.getPinned(),this.column,n,e,this)),r.createManagedBean(new Q6([this.column],i)),r.createManagedBean(new Y6(this.column,i,this.beans)),r.createManagedBean(new Mf(i,{shouldStopEventPropagation:l=>this.shouldStopEventPropagation(l),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let s=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:s,columnRowGroupChanged:s,columnPivotChanged:s,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,i){if(!this.column.isResizable())return;let n=this.column.getActualWidth(),o=this.column.getMinWidth(),r=this.column.getMaxWidth(),s=Math.min(Math.max(n+e,o),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],i,!0,"uiColumnResized")}moveHeader(e){let{eGui:i,beans:n,column:o,ctrlsService:r}=this,{gos:s,columnModel:l,columnMoveService:c,visibleColsService:d}=n,u=this.getPinned(),h=i.getBoundingClientRect().left,g=o.getActualWidth(),p=s.get("enableRtl"),y=lk({x:e===0!==p?h-20:h+g+20,pinned:u,fromKeyboard:!0,gos:s,ctrlsService:r}),M=this.focusService.getFocusedHeader();t4({allMovingColumns:[o],isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:u,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:l,columnMoveService:c,visibleColsService:d,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&M&&this.restoreFocus(M)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:At(We({},e),{column:this.column})})}setupUserComp(e){let i=this.lookupUserCompDetails(e);this.setCompDetails(i)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){let i=this.createParams(e),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,i)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:n=>{this.menuService.showColumnMenu({column:this.column,buttonElement:n,positionBy:"button"})},showColumnMenuAfterMouseClick:n=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:n,positionBy:"mouse"})},showFilter:n=>{this.menuService.showFilterMenu({column:this.column,buttonElement:n,containerType:"columnFilter",positionBy:"button"})},progressSort:n=>{this.beans.sortController.progressSort(this.column,!!n,"uiColumnSorted")},setSort:(n,o)=>{this.beans.sortController.setSortForColumn(this.column,n,!!o,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(n,o)=>{this.setupTooltip(e,n,o)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new Lve(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Ze.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Ze.ENTER&&this.onEnterKeyDown(e),e.key===Ze.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){let i=e.shiftKey;this.beans.sortController.progressSort(this.column,i,"uiColumnSorted")}}showMenuOnKeyPress(e,i){let n=this.comp.getUserCompInstance();!n||!(n instanceof v6)||n.onMenuKeyboardShortcut(i)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){let i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,i,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let o=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui,s=this.column.getColDef();!n&&o&&!s.headerComponent&&(n=()=>{let d=r.querySelector(".ag-header-cell-text");return d?d.scrollWidth>d.clientWidth:!0});let l={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>i??this.column.getColDef().headerTooltip,shouldDisplayTooltip:n},c=e.createManagedBean(new p0(l));this.setRefreshFunction("tooltip",()=>c.refreshToolTip())}setupClassesFromColDef(){let e=()=>{let i=this.column.getColDef(),n=GK(i,this.gos,this.column,null),o=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{o.has(r)?o.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),o.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;let{column:i,beans:n,displayName:o,dragAndDropService:r,gos:s}=this,{columnModel:l}=n,c=!this.gos.get("suppressDragLeaveHidesColumns"),d=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>c?"hide":"notAllowed",getDragItem:()=>this.createDragItem(i),dragItemName:o,onDragStarted:()=>{c=!s.get("suppressDragLeaveHidesColumns"),a0([i],!0)},onDragStopped:()=>a0([i],!1),onDragCancelled:()=>a0([i],!1),onGridEnter:u=>{if(c){let h=u?.columns?.filter(g=>!g.getColDef().lockVisible)||[];l.setColsVisible(h,!0,"uiColumnMoved")}},onGridExit:u=>{if(c){let h=u?.columns?.filter(g=>!g.getColDef().lockVisible)||[];l.setColsVisible(h,!1,"uiColumnMoved")}}};r.addDragSource(d,!0)}createDragItem(e){let i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,i){this.refreshFunctions[e]=i}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(i=>i())}refreshHeaderComp(e){let i=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==i.componentClass?this.attemptHeaderCompRefresh(i.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(i)}attemptHeaderCompRefresh(e){let i=this.comp.getUserCompInstance();return!i||!i.refresh?!1:i.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let i=()=>{let n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:i}),i()}setupMovingCss(e){let i=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:i}),i()}setupMenuClass(e){let i=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:i}),i()}setupSortableClass(e){let i=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};i(),this.setRefreshFunction("updateSortable",i),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let i=()=>{let n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:i}),i()}setupWrapTextClass(){let e=()=>{let i=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),i=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",i),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:i,comp:n,beans:o}=this,r=this.beans.columnModel.getGroupRowsHeight(),s=r.reduce((g,p)=>g+=p,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",s),!i.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:l,isSpanningTotal:c}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",l>0);let{columnModel:d}=o,u=d.getColumnHeaderRowHeight();if(l===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}n.addOrRemoveCssClass("ag-header-span-total",c);let h=0;for(let g=0;g<l;g++)h+=r[r.length-1-g];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${u+h}px`)}refreshAriaSort(){if(this.sortable){let e=this.localeService.getLocaleTextFunc(),i=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(zpe(i)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,i){i!=null?this.ariaDescriptionProperties.set(e,i):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Ln(this.beans.gos)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((i,n)=>i==="filter"?-1:n.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){let i=()=>{if(!this.gos.get("columnHoverHighlight"))return;let n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:i}),i()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){let i=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),o=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:i,mouseleave:i,click:n,contextmenu:o})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let i=this.comp.getUserCompInstance();return i instanceof v6?i.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Ove=class extends Qe{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,i,n,o){super(),this.eResize=i,this.comp=e,this.pinned=n,this.columnGroup=o}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){let i=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{let n=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||n.push(r.getColId())}),n.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:n,skipHeader:i,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){let i=this.getInitialValues(e);this.storeLocalValues(i),this.toggleColumnResizing(!0)}onResizing(e,i,n="uiColumnResized"){let o=this.normaliseDragChange(i),r=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){let i=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(i),o=this.getSizeRatiosOfColumns(i,n),r={columnsToResize:i,resizeStartWidth:n,resizeRatios:o},s=null;if(e&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){let l=s.getDisplayedLeafColumns(),c=r.groupAfterColumns=l.filter(u=>u.isResizable()),d=r.groupAfterStartWidth=this.getInitialSizeOfColumns(c);r.groupAfterRatios=this.getSizeRatiosOfColumns(c,d)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){let{columnsToResize:i,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:l}=e;this.resizeCols=i,this.resizeStartWidth=n,this.resizeRatios=o,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){let i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();i>n.resizeStartWidth&&this.resizeColumns(n,i,e,!0)}resizeColumnsFromLocalValues(e,i,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(o,e,i,n)}resizeColumns(e,i,n,o=!0){let{columnsToResize:r,resizeStartWidth:s,resizeRatios:l,groupAfterColumns:c,groupAfterStartWidth:d,groupAfterRatios:u}=e,h=[];if(h.push({columns:r,ratios:l,width:i}),c){let g=i-s;h.push({columns:c,ratios:u,width:d-g})}this.columnSizeService.resizeColumnSets({resizeSets:h,finished:o,source:n}),o&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(i=>i.isResizable())}getInitialSizeOfColumns(e){return e.reduce((i,n)=>i+n.getActualWidth(),0)}getSizeRatiosOfColumns(e,i){return e.map(n=>n.getActualWidth()/i)}normaliseDragChange(e){let i=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(i*=-1):this.pinned==="right"&&(i*=-1),i}destroy(){super.destroy(),this.clearLocalValues()}},zve=class extends Qe{constructor(e,i){super(),this.removeChildListenersFuncs=[],this.columnGroup=i,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(i=>{i.addEventListener("widthChanged",e),i.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{i.removeEventListener("widthChanged",e),i.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},Bve=class extends gk{constructor(e,i,n){super(e,i,n),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){let o=this.getGui();this.setDragSource(o)}},this.column=e}setComp(e,i,n,o,r){this.comp=e,r=Yy(this,this.beans.context,r),this.setGui(i,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:o,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let s=this.getParentRowCtrl().getPinned(),l=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new Q6(l,i)),r.createManagedBean(new Y6(this.column,i,this.beans)),r.createManagedBean(new zve(e,this.column)),this.resizeFeature=r.createManagedBean(new Ove(e,n,s,this.column)),r.createManagedBean(new Mf(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,l),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){let{gos:e,comp:i}=this,n=e.get("groupHeaderHeight");n!=null?n===0?i.setHeaderWrapperHidden(!0):i.setHeaderWrapperMaxHeight(n):(i.setHeaderWrapperHidden(!1),i.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,i){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let n of i)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){let i=this.column.getDisplayedLeafColumns(),n=i[0]===e,o=Li(i)===e;if(!n&&!o)return;let r=e.getHighlighted(),s=!!this.getParentRowCtrl().findHeaderCellCtrl(d=>d.getColumnGroupChild().isMoving()),l=!1,c=!1;if(s){let d=this.beans.gos.get("enableRtl"),u=r===1,h=r===0;n&&(d?c=u:l=h),o&&(d?l=h:c=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",l),this.comp.addOrRemoveCssClass("ag-header-highlight-after",c)}getColumn(){return this.column}resizeHeader(e,i){if(!this.resizeFeature)return;let n=this.resizeFeature.getInitialValues(i);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){let{beans:i,eGui:n,column:o,ctrlsService:r}=this,{gos:s,columnModel:l,columnMoveService:c,visibleColsService:d}=i,u=s.get("enableRtl"),h=e===0,g=this.getPinned(),p=n.getBoundingClientRect(),f=p.left,y=p.width,M=lk({x:h!==u?f-20:f+y+20,pinned:g,fromKeyboard:!0,gos:s,ctrlsService:r}),k=o.getGroupId(),G=this.focusService.getFocusedHeader();t4({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:M,pinned:g,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:l,columnMoveService:c,visibleColsService:d,finished:!0});let J=o.getDisplayedLeafColumns(),$=h?J[0]:Li(J);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible($,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&G&&this.restoreFocus(k,o,G)}restoreFocus(e,i,n){let o=i.getLeafColumns();if(!o.length)return;let r=o[0].getParent();if(!r)return;let s=this.findGroupWidthId(r,e);s&&this.focusService.focusHeaderPosition({headerPosition:At(We({},n),{column:s})})}findGroupWidthId(e,i){for(;e;){if(e.getGroupId()===i)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){let i=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,r)=>{this.setupTooltip(e,o,r)}}),n=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(n)}addHeaderMouseListeners(e){let i=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),o=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:i,mouseleave:i,click:n,contextmenu:o})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,i,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let o=this.column.getColGroupDef(),r=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui;!n&&r&&!o?.headerGroupComponent&&(n=()=>{let c=s.querySelector(".ag-header-group-text");return c?c.scrollWidth>c.clientWidth:!0});let l={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>i??(o&&o.headerTooltip),shouldDisplayTooltip:n};o&&(l.getColDef=()=>o),e.createManagedBean(new p0(l))}setupExpandable(e){let i=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let i=e.isExpanded();this.expandable?this.comp.setAriaExpanded(i?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){let e=this.column.getColGroupDef(),i=GK(e,this.gos,null,this.column);this.column.isPadding()?(i.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(o=>o.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){let n=this.column.getProvidedColumnGroup().getLeafColumns(),o=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());n.forEach(r=>{e.addManagedListeners(r,{movingChanged:o})}),o()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){let i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}}handleKeyDown(e){super.handleKeyDown(e);let i=this.getWrapperHasFocus();if(!(!this.expandable||!i)&&e.key===Ze.ENTER){let n=this.column,o=!n.isExpanded();this.beans.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),o,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;let{beans:i,column:n,displayName:o,gos:r,dragAndDropService:s}=this,{columnModel:l}=i,c=n.getProvidedColumnGroup().getLeafColumns(),d=!r.get("suppressDragLeaveHidesColumns"),u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>d?"hide":"notAllowed",dragItemName:o,getDragItem:()=>this.getDragItemForGroup(n),onDragStarted:()=>{d=!r.get("suppressDragLeaveHidesColumns"),a0(c,!0)},onDragStopped:()=>a0(c,!1),onDragCancelled:()=>a0(c,!1),onGridEnter:h=>{if(d){let{columns:g=[],visibleState:p}=h??{},f=g.filter(y=>!y.getColDef().lockVisible&&(!p||p[y.getColId()]));l.setColsVisible(f,!0,"uiColumnMoved")}},onGridExit:h=>{if(d){let g=h?.columns?.filter(p=>!p.getColDef().lockVisible)||[];l.setColsVisible(g,!1,"uiColumnMoved")}}};s.addDragSource(u,!0)}getDragItemForGroup(e){let i=e.getProvidedColumnGroup().getLeafColumns(),n={};i.forEach(l=>n[l.getId()]=l.isVisible());let o=[];this.beans.visibleColsService.getAllCols().forEach(l=>{i.indexOf(l)>=0&&(o.push(l),Nr(i,l))}),i.forEach(l=>o.push(l));let r=[],s=e.getLeafColumns();for(let l of o)s.indexOf(l)!==-1&&r.push(l);return{columns:o,columnsInSplit:r,visibleState:n}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},Vve=0,JO=class extends Qe{constructor(e,i,n){super(),this.instanceId=Vve++,this.rowIndex=e,this.pinned=i,this.type=n;let o=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${o}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=ir(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,i,n=!0){this.comp=e,i=Yy(this,this.beans.context,i),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(i)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let i=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:i,columnHeaderHeightChanged:i,gridStylesChanged:i,advancedFilterEnabledChanged:i}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],i)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return UM(this.headerCellCtrls).find(i=>i.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=ir(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:i}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(i+"px")}getTopAndHeight(){let{columnModel:e,filterManager:i}=this.beans,n=[],o=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();n.push(...o),n.push(r),i?.hasFloatingFilters()&&n.push(e.getFloatingFiltersHeight());let s=0;for(let c=0;c<this.rowIndex;c++)s+=n[c];let l=n[this.rowIndex];return{topOffset:s,rowHeight:l}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){let i=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(i,n,e)}getHeaderCtrls(){let e=this.headerCellCtrls;this.headerCellCtrls=new Map;let i=this.getColumnsInViewport();for(let o of i)this.recycleAndCreateHeaderCtrls(o,e);let n=o=>{let{focusService:r,visibleColsService:s}=this.beans;return r.isHeaderWrapperFocused(o)?s.isVisible(o.getColumnGroupChild()):!1};if(e)for(let[o,r]of e)n(r)?this.headerCellCtrls.set(o,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,i){if(!this.headerCellCtrls||e.isEmptyGroup())return;let n=e.getUniqueId(),o;if(i&&(o=i.get(n),i.delete(n)),o&&o.getColumnGroupChild()!=e&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case"filter":{o=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":o=this.createBean(new Bve(e,this.beans,this));break;default:o=this.createBean(new Nve(e,this.beans,this));break}this.headerCellCtrls.set(n,o)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],i=this.getActualDepth(),{columnViewportService:n}=this.beans;return["left",null,"right"].forEach(o=>{let r=n.getHeadersToRender(o,i);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;let i=this.getHeaderCellCtrls(),n;return typeof e=="function"?n=i.find(e):n=i.find(o=>o.getColumnGroupChild()==e),n}focusHeader(e,i){let n=this.findHeaderCellCtrl(e);return n?n.focus(i):!1}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},Hve=class extends Qe{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,i){this.comp=e,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);let n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:n,advancedFilterEnabledChanged:n});let o=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(o,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let i=new u0,n=this.focusService.getFocusHeaderToUseAfterRefresh(),o=()=>{let c=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let d=0;d<c;d++){let u=this.createBean(new JO(i.next(),this.pinned,"group"));this.groupsRowCtrls.push(u)}},r=()=>{let c=i.next(),d=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==c);(d||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),d&&(this.columnsRowCtrl=this.createBean(new JO(c,this.pinned,"column")))},s=()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;let c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){c();return}let d=i.next();if(this.filtersRowCtrl){let u=this.filtersRowCtrl.getRowIndex()!==d;(!e||u)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new JO(d,this.pinned,"filter")))};o(),r(),s();let l=this.getAllCtrls();this.comp.setCtrls(l),this.restoreFocusOnHeader(n)}getHeaderCtrlForColumn(e){if(Pg(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){let n=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){let i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null}getRowType(e){let n=this.getAllCtrls()[e];return n?n.getType():void 0}focusHeader(e,i,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(i,n):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){let i=new Fve(this.pinned,e);this.createManagedBean(i)}restoreFocusOnHeader(e){if(!e)return;let{column:i}=e;i.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){let e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new e4(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;let e=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;let n=()=>{let o=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(o==null)return;let r=o==0,s=this.hidden!==r,l=this.gos.get("enableRtl"),c=this.scrollVisibleService.getScrollbarWidth(),u=this.scrollVisibleService.isVerticalScrollShowing()&&(l&&e||!l&&i)?o+c:o;this.comp.setPinnedContainerWidth(`${u}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}},Gve='<div class="ag-pinned-left-header" role="rowgroup"></div>',jve='<div class="ag-pinned-right-header" role="rowgroup"></div>',Wve=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,e6=class extends zi{constructor(e){super(),this.eCenterContainer=ft,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{let o=this.getGui();o.style.width=n,o.style.maxWidth=n,o.style.minWidth=n}};this.createManagedBean(new Hve(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",i=this.pinned=="right",n=e?Gve:i?jve:Wve;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==ft?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n,o=r=>{let s=r.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),n&&hK(this.eRowContainer,s,n),n=s};e.forEach(r=>{let s=r.instanceId,l=i[s];delete i[s];let c=l||this.createBean(new Sve(r));this.headerRowComps[s]=c,this.rowCompsList.push(c),o(c)}),Fg(i).forEach(r=>this.destroyRowComp(r))}},Uve=class extends zi{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){let e={addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),setHeightAndMinHeight:o=>{this.getGui().style.height=o,this.getGui().style.minHeight=o}};this.createManagedBean(new _ve).setComp(e,this.getGui(),this.getFocusableElement());let n=o=>{this.createManagedBean(o),this.appendChild(o)};n(new e6("left")),n(new e6(null)),n(new e6("right"))}},$ve={selector:"AG-HEADER-ROOT",component:Uve};var i4=class extends Qe{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.getDomLayout(),i={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=i.autoHeight?"ag-layout-auto-height":i.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(n,i)}getDomLayout(){let e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(et(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},qve=class extends zi{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=ft,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==Ze.TAB||e.defaultPrevented||fh(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=this.focusService.focusGridView(Li(this.visibleColsService.getAllCols()),!0,!1):n=this.focusService.focusNextGridCoreContainer(!1),n&&e.preventDefault()}updateLayoutClasses(e,i){let n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",i.autoHeight),n.toggle("ag-layout-normal",i.normal),n.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new i4(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)}showOverlay(e,i,n,o){if(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.focusService.isGridFocused()){let r=Ln(this.gos);r&&!Pq(this.gos)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,o)){let l=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(o,({currentValue:c})=>{l.refresh?.(this.gos.addGridCommonParams(We({},c??{})))})}let s=this.focusService;n&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let i=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,i&&!this.focusService.isGridFocused()&&(i=null);let n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),vr(this.eOverlayWrapper),i?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},Kve={selector:"AG-OVERLAY-WRAPPER",component:qve},QK=class extends zi{constructor(e,i){super(),this.direction=i,this.eViewport=ft,this.eContainer=ft,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",rK()||Ng())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=aK(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:i,mousedown:i,touchstart:i,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){let i=this.getViewportElement();Kge(()=>bl(i),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},Yve=class extends QK{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=ft,this.eRightSpacer=ft}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new e4(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.visibleColsService.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,o=this.scrollVisibleService.getScrollbarWidth();n&&(i+=o),wl(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=o);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=o),wl(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=o)}setScrollVisible(){let e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),o=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=n?0:o===0&&i?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Ny(this.getGui(),s),Ny(this.eViewport,s),Ny(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return ok(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){bl(this.getViewportElement())||this.attemptSettingScrollPosition(e),rk(this.getViewportElement(),e,this.enableRtl)}},Qve={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:Yve},ZK=class extends Qe{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,i){super(),this.eContainer=e,this.eViewport=i}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){let e=this.maxDivHeightScaler.getUiContainerHeight(),i=e!=null?`${e}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},Zve=class extends QK{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new ZK(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){let e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,n=e&&this.scrollVisibleService.getScrollbarWidth()||0,o=n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),wl(this.getGui(),o),wl(this.eViewport,o),wl(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){let{ctrlsService:e}=this,n=e.getGridBodyCtrl().getBodyViewportElement(),o=this.getScrollPosition(),r=n.scrollTop;o!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,i){!i&&!bl(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},Xve={selector:"AG-FAKE-VERTICAL-SCROLL",component:Zve},S6=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(S6||{}),Jve=class extends Qe{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Lr(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Lr(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(let e of Object.values(S6)){let i=this.ctrlsService.get(e);this.registerScrollPartner(i,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsService.get("fakeVScrollComp"),i=this.gos.get("debounceVerticalScrollbar"),n=i?Lr(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),o=i?Lr(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,o)}registerScrollPartner(e,i){e.onScrollCallback(i)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let i of[...Object.values(S6),"Viewport"]){if(this.lastScrollSource[1]===i)continue;let n=this.getViewportForSource(i);rk(n,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,i){return this.lastScrollSource[i]==null?(i===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[i]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let i=this.centerRowsCtrl.getViewportElement(),{scrollLeft:n}=i;if(this.shouldBlockScrollUpdate(1,n,!0))return;let o=ok(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(o),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let i;e==="Viewport"?i=this.eBodyViewport.scrollTop:i=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,i,!0)&&(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(i):this.eBodyViewport.scrollTop=i,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){let i=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let i={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent(At(We({},i),{type:"bodyScrollEnd"}))},100)}shouldBlockScrollUpdate(e,i,n=!1){return n&&!Ng()?!1:e===0?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i)}shouldBlockVerticalScroll(e){let i=z6(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+i>n}shouldBlockHorizontalScroll(e){let i=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&nk()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+i>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){let e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,i=!1){let o=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!i&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&nk()?e=e>0?0:o:e=Math.min(Math.max(e,0),o)),rk(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){let i=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowsCtrl.getViewportElement().scrollLeft-i}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,i=null){let n=this.rowModel.getRowCount(),o=-1;for(let r=0;r<n;r++){let s=this.rowModel.getRow(r);if(typeof e=="function"){if(s&&e(s)){o=r;break}}else if(e===s||e===s.data){o=r;break}}o>=0&&this.ensureIndexVisible(o,i)}ensureIndexVisible(e,i){if(ir(this.gos,"print"))return;let n=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=n){et("Invalid row index for ensureIndexVisible: "+e);return}let r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationService?.goToPageWithIndex(e);let s=this.ctrlsService.getGridBodyCtrl(),l=s.getStickyTopHeight(),c=s.getStickyBottomHeight(),d=this.rowModel.getRow(e),u;do{let h=d.rowTop,g=d.rowHeight,p=this.pageBoundsService.getPixelOffset(),f=d.rowTop-p,y=f+d.rowHeight,M=this.getVScrollPosition(),k=this.heightScaler.getDivStretchOffset(),G=M.top+k,J=M.bottom+k,$=J-G,_e=this.heightScaler.getScrollPositionForPixel(f),Te=this.heightScaler.getScrollPositionForPixel(y-$),Pe=Math.min((_e+Te)/2,f),$e=G+l>f,nt=J-c<y,at=null;i==="top"?at=_e:i==="bottom"?at=Te:i==="middle"?at=Pe:$e?at=_e-l:nt&&(at=Te+c),at!==null&&(this.setVerticalScrollPosition(at),this.rowRenderer.redraw({afterScroll:!0})),u=h!==d.rowTop||g!==d.rowHeight}while(u);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,i="auto"){let n=this.columnModel.getCol(e);if(!n||n.isPinned()||!this.visibleColsService.isColDisplayed(n))return;let o=this.getPositionedHorizontalScroll(n,i);this.getFrameworkOverrides().wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,i){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(i),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,i){let{columnBeforeStart:n,columnAfterEnd:o}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),l=this.enableRtl,c=(l?n:o)||r,d=l?o:n;i!=="auto"&&(c=i==="start",d=i==="end");let u=i==="middle";if(c||d||u){let{colLeft:h,colMiddle:g,colRight:p}=this.getColumnBounds(e);return u?g-s/2:c?l?p:h:l?h-s:p-s}return null}isColumnOutsideViewport(e){let{start:i,end:n}=this.getViewportBounds(),{colLeft:o,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,l=s?i>r:n<r,c=s?n<o:i>o;return{columnBeforeStart:l,columnAfterEnd:c}}getColumnBounds(e){let i=this.enableRtl,n=this.visibleColsService.getBodyContainerWidth(),o=e.getActualWidth(),r=e.getLeft(),s=i?-1:1,l=i?n-r:r,c=l+o*s,d=l+o/2*s;return{colLeft:l,colMiddle:d,colRight:c}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),i=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=i,o=e+i;return{start:n,end:o,width:e}}},e0e=class extends Qe{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.getBodyViewportElement(),i=Qy(e);if(i<=50)return;let n=this.getPinnedColumnsOverflowingViewport(i-50),o=this.gos.getCallback("processUnpinnedColumns");n.length&&(o&&(n=o({columns:n,viewportWidth:i})),this.columnModel.setColsPinned(n,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){let i=this.pinnedWidthService.getPinnedRightWidth(),n=this.pinnedWidthService.getPinnedLeftWidth(),o=i+n;if(o<e)return[];let r=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()],l=0,c=0,d=0,u=[],h=o-d-e;for(;(c<r.length||l<s.length)&&h>0;){if(l<s.length){let g=s[l++];h-=g.getActualWidth(),u.push(g)}if(c<r.length&&h>0){let g=r[c++];h-=g.getActualWidth(),u.push(g)}}return u}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.getBodyViewportElement(),i=z6(e);this.bodyHeight!==i&&(this.bodyHeight=i,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,i)}},t0e=class extends Qe{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{pu(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),pu(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},i0e=class extends zi{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[j6]),this.eCheckbox=ft}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.localeService.getLocaleTextFunc(),i=this.rowNode.isSelected(),n=P6(e,i),[o,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(o,r);this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(`${s} (${n})`)}onClicked(e,i,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:i,event:n,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:o=>c0(o),click:o=>{c0(o);let r=I6(this.gos)==="filteredDescendants",s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?this.onClicked(!0,r,o||{})===0&&this.onClicked(!1,r,o):s?this.onClicked(!1,r,o):this.onClicked(!0,r,o||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),M6(this.gos)||typeof this.getIsVisible()=="function"){let o=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:o}),this.addManagedListeners(this.rowNode,{dataChanged:o,cellChanged:o}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,i){return i&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&Wn(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable,i=this.getIsVisible();if(e)if(typeof i=="function"){let r=this.overrides?.callbackParams;if(!this.column)e=i(At(We({},r),{node:this.rowNode,data:this.rowNode.data}));else{let s=this.column.createColumnFunctionCallbackParams(this.rowNode);e=i(We(We({},r),s))}}else e=i??!1;let n=this.gos.get("rowSelection");if(n&&typeof n!="string"?!Jge(n):this.column?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if(this.overrides?.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;let e=this.gos.get("rowSelection");return e&&typeof e!="string"?l0(e):this.column?.getColDef()?.checkboxSelection}},n0e=class extends zi{constructor(e,i,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=i,this.eCell=n}postConstruct(){this.getGui().appendChild(Ss("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",i=>{i.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);let n=()=>{try{let o=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o)}catch{}};if(i){let o=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});i(o)}else n()}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},o0e=class extends Qe{constructor(e,i){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let e=this.column.getColDef(),{cellClassRules:i}=e,n=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,n,o=>this.cellComp.addOrRemoveCssClass(o,!0),o=>this.cellComp.addOrRemoveCssClass(o,!1)),this.cellClassRules=i}applyUserStyles(){let e=this.column.getColDef();if(!e.cellStyle)return;let i;if(typeof e.cellStyle=="function"){let n=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=e.cellStyle;i=o(n)}else i=e.cellStyle;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){let e=this.column.getColDef(),i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,i),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},r0e=class extends Qe{constructor(e,i,n,o,r){super(),this.cellCtrl=e,this.beans=i,this.rowNode=o,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){let i=e.key;switch(i){case Ze.ENTER:this.onEnterKeyDown(e);break;case Ze.F2:this.onF2KeyDown(e);break;case Ze.ESCAPE:this.onEscapeKeyDown(e);break;case Ze.TAB:this.onTabKeyDown(e);break;case Ze.BACKSPACE:case Ze.DELETE:this.onBackspaceOrDeleteKeyDown(i,e);break;case Ze.DOWN:case Ze.UP:case Ze.RIGHT:case Ze.LEFT:this.onNavigationKeyDown(e,i);break}}onNavigationKeyDown(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;let i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,i){let{cellCtrl:n,beans:o,rowNode:r}=this,{gos:s,rangeService:l,eventService:c}=o;if(!n.isEditing()){if(c.dispatchEvent({type:"keyShortcutChangedCellStart"}),kme(e,s.get("enableCellEditingOnBackspace"))){if(l&&pu(s))l.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){let d=n.getColumn(),u=this.beans.valueService.getDeleteValue(d,r);r.setDataValue(d,u,"cellClear")}}else n.startRowOrCellEdit(e,i);c.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){let i=e.shiftKey?Ze.UP:Ze.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Ze.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Ze.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;let o=e.key;o===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(o,e)&&e.preventDefault()}onSpaceKeyDown(e){let{gos:i}=this.beans;if(!this.cellCtrl.isEditing()&&YM(i)){let n=this.rowNode.isSelected(),o=!n,r=I6(i)==="filteredDescendants",s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});n===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},s0e=class extends Qe{constructor(e,i,n){super(),this.cellCtrl=e,this.beans=i,this.column=n}onMouseEvent(e,i){if(!fh(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}let{eventService:i,rangeService:n,gos:o}=this.beans,r=e.ctrlKey||e.metaKey;n&&r&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);let s=this.cellCtrl.createEvent(e,"cellClicked");i.dispatchEvent(s);let l=this.column.getColDef();l.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{l.onCellClicked(s)})},0),(o.get("singleClickEdit")||l.singleClickEdit)&&!o.get("suppressClickEdit")&&!(e.shiftKey&&n?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Ng()||Gq("dblclick"))return!1;let e=new Date().getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i}onCellDoubleClicked(e){let{column:i,beans:n,cellCtrl:o}=this,{eventService:r,frameworkOverrides:s,gos:l}=n,c=i.getColDef(),d=o.createEvent(e,"cellDoubleClicked");r.dispatchEvent(d),typeof c.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{c.onCellDoubleClicked(d)})},0),!l.get("singleClickEdit")&&!l.get("suppressClickEdit")&&o.startRowOrCellEdit(null,e)}onMouseDown(e){let{ctrlKey:i,metaKey:n,shiftKey:o}=e,r=e.target,{cellCtrl:s,beans:l}=this,{eventService:c,rangeService:d,focusService:u,gos:h}=l;if(this.isRightClickInExistingRange(e))return;let g=d&&d.getCellRanges().length!=0;if(!o||!g){let f=h.get("enableCellTextSelection")&&e.defaultPrevented,y=(fu()||f)&&!s.isEditing()&&!O6(r);s.focusCell(y)}if(o&&g&&!u.isCellFocused(s.getCellPosition())){e.preventDefault();let p=u.getFocusedCell();if(p){let{column:f,rowIndex:y,rowPinned:M}=p,G=l.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:M})?.getCellCtrl(f);G?.isEditing()&&G.stopEditing(),u.setFocusedCell({column:f,rowIndex:y,rowPinned:M,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(d){let p=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(p);else{let f=i||n;d.setRangeToCell(p,f)}}c.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeService:i}=this.beans;if(i){let n=i.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&o)return!0}return!1}containsWidget(e){return s0(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let i=this.cellCtrl.getGui(),n=i.contains(e.target),o=i.contains(e.relatedTarget);return n&&o}destroy(){super.destroy()}},a0e=class extends Qe{constructor(e,i){super(),this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();Lg(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;let e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,i)=>e+i.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let e=this.column.getColSpan(this.rowNode),i=[];if(e===1)i.push(this.column);else{let n=this.column,o=this.column.getPinned();for(let r=0;n&&r<e&&(i.push(n),n=this.beans.visibleColsService.getColAfter(n),!(!n||Ai(n)||o!==n.getPinned()));r++);}return i}onLeftChanged(){if(!this.eGui)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Li(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;let i=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){let n=this.beans.visibleColsService.getBodyContainerWidth();return i+n+(e||0)}return i+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;let n=bf(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}};var Ry="ag-cell-range-selected",l0e="ag-cell-range-chart",c0e="ag-cell-range-single-cell",d0e="ag-cell-range-chart-category",u0e="ag-cell-range-handle",h0e="ag-cell-range-top",g0e="ag-cell-range-right",p0e="ag-cell-range-bottom",f0e="ag-cell-range-left",m0e=class{constructor(e,i){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=i}setComp(e,i){this.cellComp=e,this.eGui=i,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ry,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Ry}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Ry}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Ry}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Ry}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(l0e,this.hasChartRange),tk(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(c0e,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){let e=this.getRangeBorders(),i=this.isSingleCell(),n=!i&&e.top,o=!i&&e.right,r=!i&&e.bottom,s=!i&&e.left;this.cellComp.addOrRemoveCssClass(h0e,n),this.cellComp.addOrRemoveCssClass(g0e,o),this.cellComp.addOrRemoveCssClass(p0e,r),this.cellComp.addOrRemoveCssClass(f0e,s)}isSingleCell(){let{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){let{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;let i=e.getCellRanges();return i.length>0&&i.every(n=>yf([1,0],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let e=this.beans.gos.get("enableRtl"),i=!1,n=!1,o=!1,r=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans.visibleColsService,c,d;e?(c=l.getColAfter(s),d=l.getColBefore(s)):(c=l.getColBefore(s),d=l.getColAfter(s));let u=this.rangeService.getCellRanges().filter(h=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));c||(r=!0),d||(n=!0);for(let h=0;h<u.length&&!(i&&n&&o&&r);h++){let g=u[h],p=this.rangeService.getRangeStartRow(g),f=this.rangeService.getRangeEndRow(g);!i&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(i=!0),!o&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(o=!0),!r&&c&&g.columns.indexOf(c)<0&&(r=!0),!n&&d&&g.columns.indexOf(d)<0&&(n=!0)}return{top:i,right:n,bottom:o,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;let e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(u0e,!!this.selectionHandle)}shouldHaveSelectionHandle(){let e=this.beans.gos,i=this.rangeService.getCellRanges(),n=i.length;if(this.rangeCount<1||n<1)return!1;let o=Li(i),r=this.cellCtrl.getCellPosition(),s=oq(e)&&!this.cellCtrl.isSuppressFillHandle(),l=npe(e),c=n===1&&!this.cellCtrl.isEditing()&&(s||l);if(this.hasChartRange){let u=i[0].type===1&&this.rangeService.isCellInSpecificRange(r,i[0]);this.cellComp.addOrRemoveCssClass(d0e,u),c=o.type===0}return c&&o.endRow!=null&&this.rangeService.isContiguousRange(o)&&this.rangeService.isBottomRightCell(o,r)}addSelectionHandle(){let e=Li(this.rangeService.getCellRanges()).type,n=oq(this.beans.gos)&&Ai(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},v0e="ag-cell",C0e="ag-cell-auto-height",w0e="ag-cell-normal-height",b0e="ag-cell-focus",y0e="ag-cell-first-right-pinned",S0e="ag-cell-last-left-pinned",x0e="ag-cell-not-inline-editing",_0e="ag-column-hover",D0e="ag-cell-wrap-text",E0e=0,M0e=(()=>{let e=class x6 extends Qe{constructor(n,o,r,s){super(),this.column=n,this.rowNode=o,this.beans=r,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=n.getId()+"-"+E0e++,this.colIdSanitised=gu(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new a0e(this,this.beans),this.cellCustomStyleFeature=new o0e(this,this.beans),this.cellMouseListenerFeature=new s0e(this,this.beans,this.column),this.cellKeyboardListenerFeature=new r0e(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&pu(this.beans.gos)&&(this.cellRangeFeature=new m0e(this.beans,this))}removeFeatures(){let n=this.beans.context;this.cellPositionFeature=n.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=n.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=n.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=n.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=n.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(n,o){let r=()=>{let c=this.column.getColDef(),d=this.rowNode.data;if(c.tooltipField&&rt(d))return Ly(d,c.tooltipField,this.column.isTooltipFieldContainsDots());let u=c.tooltipValueGetter;return u?u(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!o&&s&&!this.isCellRenderer()&&(o=()=>{let c=this.getGui(),d=c.children.length===0?c:c.querySelector(".ag-cell-value");return d?d.scrollWidth>d.clientWidth:!0});let l={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:n!=null?()=>n:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:o};this.tooltipFeature=new p0(l,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(n,o,r,s,l,c){this.cellComp=n,this.eGui=o,this.printLayout=s,c??(c=this),this.addDomData(c),this.addFeatures(),c.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,c),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(o),this.cellCustomStyleFeature?.setComp(n),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(n,o),l&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(d=>d()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(n,o){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!n)return;let r=n.parentElement,s=Tg(this.beans.gos,this.rowNode).height,l=u=>{if(this.editing||!this.isAlive()||!o.isAlive())return;let{paddingTop:h,paddingBottom:g,borderBottomWidth:p,borderTopWidth:f}=Ef(r),y=h+g+p+f,k=n.offsetHeight+y;if(u<5){let J=so(this.beans.gos),$=!J||!J.contains(n),_e=k==0;if($||_e){window.setTimeout(()=>l(u+1),0);return}}let G=Math.max(k,s);this.rowNode.setRowAutoHeight(G,this.column)},c=()=>l(0);c();let d=this.beans.resizeObserverService.observeResize(n,c);o.addDestroyFunc(()=>{d(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let n=this.column.getColDef();return n.cellRenderer!=null||n.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(n=!1){let{beans:o,column:r,rowNode:s,cellRangeFeature:l,cellComp:c}=this,{userComponentFactory:d,animationFrameService:u}=o,h=this.getValueToDisplay(),g;if(s.stub&&s.groupData?.[this.column.getId()]==null){let f=this.createCellRendererParams();g=d.getLoadingCellRendererDetails(r.getColDef(),f)}else if(this.isCellRenderer()){let f=this.createCellRendererParams();g=d.getCellRendererDetails(r.getColDef(),f)}c.setRenderDetails(g,h,n),u.requestAnimationFrame(()=>l?.refreshHandle())}setupControlComps(){let n=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(n)),this.includeRowDrag=this.isIncludeControl(n.rowDrag),this.includeDndSource=this.isIncludeControl(n.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(n){return this.rowNode.rowPinned!=null?!1:typeof n=="function"||n===!0}isCheckboxSelection(n){let{rowSelection:o}=this.beans.gridOptions;return n.checkboxSelection||Ky(this.column)&&o&&typeof o!="string"&&l0(o)}refreshShouldDestroy(){let n=this.column.getColDef(),o=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(n)),r=this.includeRowDrag!=this.isIncludeControl(n.rowDrag),s=this.includeDndSource!=this.isIncludeControl(n.dndSource),l=this.isAutoHeight!=this.column.isAutoHeight();return o||r||s||l}startEditing(n=null,o=!1,r=null){let{editService:s}=this.beans;return!this.isCellEditable()||this.editing||!s?!0:this.cellComp?s.startEditing(this,n,o,r):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(n,o,r)}),!0)}setEditing(n,o){this.editCompDetails=o,this.editing!==n&&(this.editing=n)}stopRowOrCellEdit(n=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(n):this.stopEditing(n)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(n=!1){this.onCellEditorAttachedFuncs=[];let{editService:o}=this.beans;return!this.editing||!o?!1:o.stopEditing(this,n)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:o=>this.beans.valueService.setValue(this.rowNode,this.column,o),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(o,r,s,l)=>this.registerRowDragger(o,r,l),setTooltip:(o,r)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(o,r),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(n){n.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(n){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(n)}refreshCell(n){if(this.suppressRefreshCell||this.editing)return;let o=this.column.getColDef(),r=n!=null&&!!n.newData,s=n!=null&&!!n.suppressFlash||!!o.suppressCellFlash,l=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,c=n&&n.forceRefresh||l||r,d=!!this.cellComp,u=this.updateAndFormatValue(d),h=c||u;if(d){if(h){this.showValue(r);let g=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!s&&!g&&(this.beans.gos.get("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(n=!1,o=!1){this.beans.editService?.stopEditingAndFocus(this,n,o)}flashCell(n){let o=n?.flashDuration??n?.flashDelay,r=n?.fadeDuration??n?.fadeDelay;this.animateCell("data-changed",o,r)}animateCell(n,o,r){if(!this.cellComp)return;let{gos:s}=this.beans;if(o||(o=s.get("cellFlashDuration")),o===0)return;rt(r)||(r=s.get("cellFadeDuration"));let l=`ag-cell-${n}`,c=`ag-cell-${n}-animation`;this.cellComp.addOrRemoveCssClass(l,!0),this.cellComp.addOrRemoveCssClass(c,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(l,!1),this.cellComp.addOrRemoveCssClass(c,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(c,!1),this.eGui.style.transition="")},r))},o)})}onFlashCells(n){if(!this.cellComp)return;let o=this.beans.cellPositionUtils.createId(this.getCellPosition());n.cells[o]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(n){return this.callValueFormatter(n)??n}callValueFormatter(n){return this.beans.valueService.formatValue(this.column,this.rowNode,n)}updateAndFormatValue(n){let o=this.value,r=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),n?!this.valuesAreEqual(o,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(n,o){let r=this.column.getColDef();return r.equals?r.equals(n,o):n===o}getComp(){return this.cellComp}getValue(){return this.value}addDomData(n){let o=this.getGui();_f(this.beans.gos,o,x6.DOM_DATA_KEY_CELL_CTRL,this),n.addDestroyFunc(()=>_f(this.beans.gos,o,x6.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(n,o){return this.beans.gos.addGridCommonParams({type:o,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:n,rowIndex:this.rowNode.rowIndex})}processCharacter(n){this.cellKeyboardListenerFeature?.processCharacter(n)}onKeyDown(n){this.cellKeyboardListenerFeature?.onKeyDown(n)}onMouseEvent(n,o){this.cellMouseListenerFeature?.onMouseEvent(n,o)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{cellComp:n,column:o,beans:r}=this;jK(n,o,r.visibleColsService)}refreshAriaColIndex(){let n=this.beans.visibleColsService.getAriaColIndex(this.column);nK(this.getGui(),n)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(n,o=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(n,this):this.startEditing(n,!0,o):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(n,o)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(n=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:n})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(n){this.eGui&&Zs(this.eGui,"tabindex",n?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;let n=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(y0e,n)}onLastLeftPinnedChanged(){if(!this.cellComp)return;let n=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(S0e,n)}onCellFocused(n){if(this.beans.focusService.isCellFocusSuppressed())return;let o=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){o&&n?.forceBrowserFocus&&(this.focusEventToRestore=n);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(b0e,o),o&&n&&n.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){let l=this.beans.focusService.findFocusableElements(s,null,!0);l.length&&(s=l[0])}s.focus({preventScroll:!!n.preventScrollOnBrowserFocus})}let r=this.beans.gos.get("editType")==="fullRow";!o&&!r&&this.editing&&this.stopRowOrCellEdit(),o&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:ph(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(v0e,!0),this.cellComp.addOrRemoveCssClass(x0e,!0);let n=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(C0e,n),this.cellComp.addOrRemoveCssClass(w0e,!n)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;let n=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(_0e,n)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){let n=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(D0e,n)}dispatchCellContextMenuEvent(n){let o=this.column.getColDef(),r=this.createEvent(n,"cellContextMenu");this.beans.eventService.dispatchEvent(r),o.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let n=new i0e;return this.beans.context.createBean(n),n.init({rowNode:this.rowNode,column:this.column}),n}createDndSource(){let n=new n0e(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(n),n}registerRowDragger(n,o,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(n,o);return}let s=this.createRowDragComp(n,o,r);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(n,o,r){let s=this.beans.gos.get("pagination"),l=this.beans.gos.get("rowDragManaged"),c=Wn(this.beans.gos);if(l){if(!c){et("managed row dragging is only allowed in the Client Side Row Model");return}if(s){et("managed row dragging is not possible when doing pagination");return}}let d=new C6(()=>this.value,this.rowNode,this.column,n,o,r);return this.beans.context.createBean(d),d}setSuppressRefreshCell(n){this.suppressRefreshCell=n}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(n){this.onCellEditorAttachedFuncs.push(n)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(n=>n()),this.onCellEditorAttachedFuncs=[]}};return e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e})(),Sf=M0e,k0e=0,I0e=(()=>{let e=class _6 extends Qe{constructor(n,o,r,s,l){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=o,this.gos=o.gos,this.rowNode=n,this.paginationPage=o.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=s,this.printLayout=l,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=n.id+"-"+k0e++,this.rowId=gu(n.id),this.initRowBusinessKey(),this.rowFocused=o.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=o.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let n=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=gu(n)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(n,o){n==="left"?this.leftGui=o:n==="right"?this.rightGui=o:n==="fullWidth"?this.fullWidthGui=o:this.centerGui=o}setComp(n,o,r,s){s=Yy(this,this.beans.context,s);let l={rowComp:n,element:o,containerType:r,compBean:s};this.allRowGuis.push(l),this.updateGui(r,l),this.initialiseRowComp(l),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(n){this.allRowGuis=this.allRowGuis.filter(o=>o.containerType!==n),this.updateGui(n,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(n){let o=n?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=o)}initialiseRowComp(n){let o=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(n),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(n),this.updateRowIndexes(n),this.setFocusedClasses(n),this.setStylesFromGridOptions(!1,n),YM(o)&&this.rowNode.selectable&&this.onRowSelected(n),this.updateColumnLists(!this.useAnimationFrameForCreate);let r=n.rowComp;this.getInitialRowClasses(n.containerType).forEach(l=>r.addOrRemoveCssClass(l,!0)),this.executeSlideAndFadeAnimations(n),this.rowNode.group&&ek(n.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),_f(o,n.element,_6.DOM_DATA_KEY_ROW_CTRL,this),n.compBean.addDestroyFunc(()=>_f(o,n.element,_6.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,n),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(n),this.isFullWidth()&&this.setupFullWidth(n),o.get("rowDragEntireRow")&&this.addRowDraggerToRow(n),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&n.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(n){this.businessKeySanitised!=null&&n.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(n){this.rowId=gu(this.rowNode.id),this.rowId!=null&&n.setRowId(this.rowId)}executeSlideAndFadeAnimations(n){let{containerType:o}=n;this.slideInAnimation[o]&&(iq(()=>{this.onTopChanged()}),this.slideInAnimation[o]=!1),this.fadeInAnimation[o]&&(iq(()=>{n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[o]=!1)}addRowDraggerToRow(n){if(pu(this.gos)){et("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}let o=this.beans.localeService.getLocaleTextFunc(),r=new C6(()=>`1 ${o("rowDragRow","row")}`,this.rowNode,void 0,n.element,void 0,!0),s=this.createBean(r,this.beans.context);this.rowDragComps.push(s),n.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(l=>l!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(n){let o=this.getPinnedForContainer(n.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;let r=this.createFullWidthCompDetails(n.element,o);n.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>n?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(n){let o=this.getCellCtrl(n);return o?o.getGui():null}executeProcessRowPostCreateFunc(){let n=this.gos.getCallback("processRowPostCreate");if(!n||!this.areAllContainersReady())return;let o={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};n(o)}areAllContainersReady(){let n=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),o=!!this.centerGui,r=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return n&&o&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let n=this.beans.gos.getCallback("isFullWidthRow");return n?n({rowNode:this.rowNode}):!1}setRowType(){let n=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),o=this.isNodeFullWidthCell(),r=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),c=!!this.rowNode.group&&!this.rowNode.footer&&dk(this.gos,s);n?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":o?this.rowType="FullWidth":c?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(n=!1,o=!1){if(this.isFullWidth())return;if(n||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(o);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(n,o,r=null){let s={list:[],map:{}},l=(c,d)=>{s.list.push(d),s.map[c]=d};return o.forEach(c=>{let d=c.getInstanceId(),u=n.map[d];u||(u=new Sf(c,this.rowNode,this.beans,this)),l(d,u)}),n.list.forEach(c=>{let d=c.getColumn().getInstanceId();if(s.map[d]!=null)return;if(!this.isCellEligibleToBeRemoved(c,r)){l(d,c);return}c.destroy()}),s}updateColumnListsImpl(n){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(n)}setCellCtrls(n){this.allRowGuis.forEach(o=>{let r=this.getCellCtrlsForContainer(o.containerType);o.rowComp.setCellCtrls(r,n)})}getCellCtrlsForContainer(n){switch(n){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let n=this.beans.columnViewportService,o=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let r=n.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);let s=o.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");let l=o.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,l,"right")}}isCellEligibleToBeRemoved(n,o){if(n.getColumn().getPinned()!=o)return!0;let c=n.isEditing(),d=this.beans.focusService.isCellFocused(n.getCellPosition());if(c||d){let h=n.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(h)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||ir(this.gos,"print")}listenOnDomOrder(n){let o=()=>{n.rowComp.setDomOrder(this.getDomOrder())};n.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],o)}setAnimateFlags(n){if(this.isSticky()||!n)return;let o=rt(this.rowNode.oldRowTop),r=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(o){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let n=(d,u)=>d?d.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(d.element,u).params):!0,o=n(this.fullWidthGui,null),r=n(this.centerGui,null),s=n(this.leftGui,"left"),l=n(this.rightGui,"right");return o&&r&&s&&l}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(o=>{this.addRowDraggerToRow(o)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(n=>n.onRowIndexChanged())},cellChanged:n=>{this.getAllCellCtrls().forEach(o=>o.onCellChanged(n))}})}onRowNodeDataChanged(n){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!n.update,newData:!n.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let n=this.rowNode.highlighted;this.allRowGuis.forEach(o=>{let r=n===0,s=n===1;o.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),o.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){let n=this.rowNode.dragging;this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-dragging",n))}updateExpandedCss(){let n=this.rowNode.isExpandable(),o=this.rowNode.expanded==!0;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-group",n),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",n&&o),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",n&&!o),ek(r.element,n&&o)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:ph(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(n){return this.allRowGuis.find(o=>o.element.contains(n))}onKeyboardNavigate(n){let o=this.findFullWidthRowGui(n.target);if(!((o?o.element:null)===n.target))return;let l=this.rowNode,c=this.beans.focusService.getFocusedCell(),d={rowIndex:l.rowIndex,rowPinned:l.rowPinned,column:c?.column??this.getColumnForFullWidth(o)};this.beans.navigationService.navigateToNextCell(n,n.key,d,!0),n.preventDefault()}onTabKeyDown(n){if(n.defaultPrevented||fh(n))return;let o=this.allRowGuis.find(u=>u.element.contains(n.target)),r=o?o.element:null,s=r===n.target,l=Ln(this.gos),c=!1;r&&l&&(c=r.contains(l)&&l.classList.contains("ag-cell"));let d=null;!s&&!c&&(d=this.beans.focusService.findNextFocusableElement(r,!1,n.shiftKey)),(this.isFullWidth()&&s||!d)&&this.beans.navigationService.onTabKeyDown(this,n)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let n=this.allRowGuis.find(o=>bl(o.element))?.element;return n?n.getBoundingClientRect().top:0}onSuppressCellFocusChanged(n){let o=this.isFullWidth()&&n?void 0:-1;this.allRowGuis.forEach(r=>{Zs(r.element,"tabindex",o)})}onFullWidthRowFocused(n){let o=this.rowNode,r=n?this.isFullWidth()&&n.rowIndex===o.rowIndex&&n.rowPinned==o.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;s&&(s.classList.toggle("ag-full-width-focus",r),r&&n?.forceBrowserFocus&&s.focus({preventScroll:!0}))}recreateCell(n){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,n),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,n),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,n),n.destroy(),this.updateColumnLists()}removeCellCtrl(n,o){let r={list:[],map:{}};return n.list.forEach(s=>{s!==o&&(r.list.push(s),r.map[s.getColumn().getInstanceId()]=s)}),r}onMouseEvent(n,o){switch(n){case"dblclick":this.onRowDblClick(o);break;case"click":this.onRowClick(o);break;case"touchstart":case"mousedown":this.onRowMouseDown(o);break}}createRowEvent(n,o){return this.gos.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:o})}createRowEventWithSource(n,o){let r=this.createRowEvent(n,o);return r.source=this,r}onRowDblClick(n){fh(n)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",n))}getColumnForFullWidth(n){let{visibleColsService:o}=this.beans;switch(n?.containerType){case"center":return o.getCenterCols()[0];case"left":return o.getLeftCols()[0];case"right":return o.getRightCols()[0];default:return o.getAllCols()[0]}}onRowMouseDown(n){if(this.lastMouseDownOnDragger=s0(n.target,"ag-row-drag",3),!this.isFullWidth())return;let o=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();let r=this.findFullWidthRowGui(n.target),s=r?.element,l=n.target,c=!0;s&&s.contains(l)&&O6(l)&&(c=!1),this.beans.focusService.setFocusedCell({rowIndex:o.rowIndex,column:this.getColumnForFullWidth(r),rowPinned:o.rowPinned,forceBrowserFocus:c})}onRowClick(n){if(fh(n)||this.lastMouseDownOnDragger)return;let{gos:r}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",n));let s=n.ctrlKey||n.metaKey,l=n.shiftKey,c=this.rowNode.isSelected(),d=Df(r),u=rq(r),h=ope(r);if(d&&this.rowNode.group||this.isRowSelectionBlocked()||!h&&!c||!u&&c)return;let g=rpe(r),p="rowClicked";if(c)g?this.rowNode.setSelectedParams({newValue:!1,event:n,source:p}):s?u&&this.rowNode.setSelectedParams({newValue:!1,event:n,source:p}):h&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l,rangeSelect:l,event:n,source:p});else{let f=g?!1:!s;this.rowNode.setSelectedParams({newValue:!0,clearSelection:f,rangeSelect:l,event:n,source:p})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!YM(this.gos)}setupDetailRowAutoHeight(n){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;let o=()=>{let s=n.clientHeight;if(s!=null&&s>0){let l=()=>{this.rowNode.setRowHeight(s),(Wn(this.gos)||Ch(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(l,0)}},r=this.beans.resizeObserverService.observeResize(n,o);this.addDestroyFunc(r),o()}createFullWidthCompDetails(n,o){let{gos:r,rowNode:s}=this,l=r.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:n,eParentOfValue:n,pinned:o,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(d,u,h,g)=>this.addFullWidthRowDragging(d,u,h,g),setTooltip:(d,u)=>this.refreshRowTooltip(d,u)}),c=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return c.getFullWidthDetailCellRendererDetails(l);case"FullWidthGroup":return c.getFullWidthGroupCellRendererDetails(l);case"FullWidthLoading":return c.getFullWidthLoadingCellRendererDetails(l);default:return c.getFullWidthCellRendererDetails(l)}}refreshRowTooltip(n,o){if(!this.fullWidthGui)return;let r={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:o};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new p0(r,this.beans))}addFullWidthRowDragging(n,o,r="",s){if(!this.isFullWidth())return;let l=new C6(()=>r,this.rowNode,void 0,n,o,s);this.createBean(l,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(l,this.beans.context)})}onUiLevelChanged(){let n=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=n){let o="ag-row-level-"+n,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(o,!0),s.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=n}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){let n=this.isFirstRowOnPage(),o=this.isLastRowOnPage();this.firstRowOnPage!==n&&(this.firstRowOnPage=n,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",n))),this.lastRowOnPage!==o&&(this.lastRowOnPage=o,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",o)))}stopEditing(n=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,n)}setInlineEditingCss(){let n=this.editingRow||this.getAllCellCtrls().some(o=>o.isEditing());this.allRowGuis.forEach(o=>{o.rowComp.addOrRemoveCssClass("ag-row-inline-editing",n),o.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!n)})}setEditingRow(n){this.editingRow=n}startRowEditing(n=null,o=null,r=null){return this.editingRow?!0:this.beans.rowEditService?.startEditing(this,n,o,r)??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(o=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(o,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,n=>{this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass(n,!0))},n=>{this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass(n,!1))})}setStylesFromGridOptions(n,o){n&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(o,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(n){return n==="left"||n==="right"?n:null}getInitialRowClasses(n){let o=this.getPinnedForContainer(n),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[n],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:o};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)}processStylesFromGridOptions(){let n=this.gos.get("rowStyle");if(n&&typeof n=="function"){et("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}let o=this.gos.getCallback("getRowStyle"),r;if(o){let s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=o(s)}return r||n?Object.assign({},n,r):this.emptyStyle}onRowSelected(n){let o=!!this.rowNode.isSelected();this.forEachGui(n,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",o),tk(r.element,o),r.element.contains(Ln(this.gos))&&(r===this.centerGui||r===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;let n=this.rowNode.isSelected();if(n&&!rq(this.gos))return;let r=this.beans.localeService.getLocaleTextFunc()(n?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${n?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(r,"rowSelection")}addHoverFunctionality(n){if(!this.active)return;let{element:o,compBean:r}=n,{rowNode:s,beans:l,gos:c}=this;r.addManagedListeners(o,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),r.addManagedListeners(s,{mouseEnter:()=>{!l.dragService.isDragging()&&!c.get("suppressRowHoverHighlight")&&(o.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{o.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(n){let o=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(o.top,!0)-100,s=this.applyPaginationOffset(o.bottom,!0)+100;return Math.min(Math.max(r,n),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(n,o){n?o(n):this.allRowGuis.forEach(o)}onRowHeightChanged(n){if(this.rowNode.rowHeight==null)return;let o=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),l=Tq(this.gos)?Tg(this.gos,this.rowNode).height:void 0,c=l?`${Math.min(r,l)-2}px`:void 0;this.forEachGui(n,d=>{d.element.style.height=`${o}px`,c&&d.element.style.setProperty("--ag-line-height",c)})}addEventListener(n,o){super.addEventListener(n,o)}removeEventListener(n,o){super.removeEventListener(n,o)}destroyFirstPass(n=!1){if(this.active=!1,!n&&r0(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){let s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);let o=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(o),this.beans.eventService.dispatchEvent(o),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();let n=o=>(o.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=n(this.centerCellCtrls),this.leftCellCtrls=n(this.leftCellCtrls),this.rightCellCtrls=n(this.rightCellCtrls)}setFocusedClasses(n){this.forEachGui(n,o=>{o.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),o.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let n=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){let n=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==n&&(this.paginationPage=n,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(n,o=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return n;let r=this.beans.pageBoundsService.getPixelOffset();return n+r*(o?1:-1)}setRowTop(n){if(!this.printLayout&&rt(n)){let o=this.applyPaginationOffset(n),l=`${this.rowNode.isRowPinned()||this.rowNode.sticky?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}px`;this.setRowTopStyle(l)}}getInitialRowTop(n){return this.suppressRowTransform?this.getInitialRowTopShared(n):void 0}getInitialTransform(n){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(n)})`}getInitialRowTopShared(n){if(this.printLayout)return"";let o=this.rowNode,r;if(this.isSticky())r=o.stickyRowTop;else{let s=this.slideInAnimation[n]?this.roundRowTopToBounds(o.oldRowTop):o.rowTop,l=this.applyPaginationOffset(s);r=o.isRowPinned()?l:this.beans.rowContainerHeightService.getRealPixelPosition(l)}return r+"px"}setRowTopStyle(n){this.allRowGuis.forEach(o=>this.suppressRowTransform?o.rowComp.setTop(n):o.rowComp.setTransform(`translateY(${n})`))}getRowNode(){return this.rowNode}getCellCtrl(n){let o=null;return this.getAllCellCtrls().forEach(r=>{r.getColumn()==n&&(o=r)}),o!=null||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(n)>=0&&(o=r)}),o}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(n){let o=this.rowNode.getRowIndexString();if(o===null)return;let r=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),s=this.rowNode.rowIndex%2===0,l=r+this.rowNode.rowIndex+1;this.forEachGui(n,c=>{c.rowComp.setRowIndex(o),c.rowComp.addOrRemoveCssClass("ag-row-even",s),c.rowComp.addOrRemoveCssClass("ag-row-odd",!s),iK(c.element,l)})}setStoppingRowEdit(n){this.stoppingRowEdit=n}};return e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e})(),xf=I0e,R0e=class extends Qe{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){let e="keydown",i=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:i})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Gq("touchstart")?"touchstart":"mousedown"].forEach(n=>{let o=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:o})})}processMouseEvent(e,i){if(!this.mouseEventService.isEventFromThisGrid(i)||fh(i))return;let n=this.getRowForEvent(i),o=this.mouseEventService.getRenderedCellForEvent(i);e==="contextmenu"?this.handleContextMenuMouseEvent(i,void 0,n,o):(o&&o.onMouseEvent(e,i),n&&n.onMouseEvent(e,i))}mockContextMenuForIPad(){if(!Ng())return;let e=new Ag(this.element),i=n=>{let o=this.getRowForEvent(n.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(void 0,n.touchEvent,o,r)};this.addManagedListeners(e,{longTap:i}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let i=e.target;for(;i;){let n=Hy(this.gos,i,xf.DOM_DATA_KEY_ROW_CTRL);if(n)return n;i=i.parentElement}return null}handleContextMenuMouseEvent(e,i,n,o){let r=n?n.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){let u=e||i;o.dispatchCellContextMenuEvent(u??null),l=this.valueService.getValue(s,r)}let c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,rowNode:r,column:s,value:l,anchorToElement:d})}getControlsForEventTarget(e){return{cellCtrl:c6(this.gos,e,Sf.DOM_DATA_KEY_CELL_CTRL),rowCtrl:c6(this.gos,e,xf.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,i){let{cellCtrl:n,rowCtrl:o}=this.getControlsForEventTarget(i.target);i.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,i):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,e,i))}processCellKeyboardEvent(e,i,n){let o=e.getRowNode(),r=e.getColumn(),s=e.isEditing();!w6(this.gos,n,o,r,s)&&i==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),TK(n)&&e.processCharacter(n)),i==="keydown"&&this.eventService.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,i,n){let o=e.getRowNode(),r=this.focusService.getFocusedCell(),s=r&&r.column;if(!w6(this.gos,n,o,s,!1)){let c=n.key;if(i==="keydown")switch(c){case Ze.PAGE_HOME:case Ze.PAGE_END:case Ze.PAGE_UP:case Ze.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case Ze.UP:case Ze.DOWN:e.onKeyboardNavigate(n);break;case Ze.TAB:e.onTabKeyDown(n);break;default:}}i==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,i){if(!e.ctrlKey&&!e.metaKey||i||!this.mouseEventService.isEventFromThisGrid(e))return;let n=Mme(e);if(n===Ze.A)return this.onCtrlAndA(e);if(n===Ze.C)return this.onCtrlAndC(e);if(n===Ze.D)return this.onCtrlAndD(e);if(n===Ze.V)return this.onCtrlAndV(e);if(n===Ze.X)return this.onCtrlAndX(e);if(n===Ze.Y)return this.onCtrlAndY();if(n===Ze.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){let{pinnedRowModel:i,rowModel:n,rangeService:o}=this;if(o&&n.isRowsToRender()){let[r,s]=[i.isEmpty("top"),i.isEmpty("bottom")],l=r?null:"top",c,d;s?(c=null,d=n.getRowCount()-1):(c="bottom",d=i.getPinnedBottomRowCount()-1);let u=this.visibleColsService.getAllCols();if(xs(u))return;o.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:d,rowEndPinned:c,columnStart:u[0],columnEnd:Li(u)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);i?.isEditing()||n?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);i?.isEditing()||n?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);i?.isEditing()||n?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},A0e=class extends Qe{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){let e=this.pinnedWidthService.getPinnedLeftWidth(),i=e>0;Pn(this.element,i),wl(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},T0e=class extends Qe{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){let e=this.pinnedWidthService.getPinnedRightWidth(),i=e>0;Pn(this.element,i),wl(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},VM=e=>e.getTopRowCtrls(),HM=e=>e.getStickyTopRowCtrls(),GM=e=>e.getStickyBottomRowCtrls(),jM=e=>e.getBottomRowCtrls(),WM=e=>e.getCentreRowCtrls(),F0e={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:WM},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:WM},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:WM},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:WM},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:VM},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:VM},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:VM},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:VM},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:HM},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:HM},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:HM},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:HM},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:GM},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:GM},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:GM},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:GM},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:jM},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:jM},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:jM},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:jM}};function o0(e){return F0e[e]}var P0e=["topCenter","topLeft","topRight"],L0e=["bottomCenter","bottomLeft","bottomRight"],N0e=["center","left","right"],O0e=["center","left","right","fullWidth"],z0e=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],B0e=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],V0e=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],XK=["stickyTopCenter","stickyTopLeft","stickyTopRight"],JK=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],H0e=[...XK,"stickyTopFullWidth",...JK,"stickyBottomFullWidth"],G0e=[...P0e,...L0e,...N0e,...XK,...JK],j0e=class extends Qe{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=o0(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new e0e(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,i){e.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,i,n){this.comp=e,this.eContainer=i,this.eViewport=n,this.createManagedBean(new R0e(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let o=()=>this.onPinnedWidthChanged();this.forContainers(B0e,()=>{this.pinnedWidthFeature=this.createManagedBean(new A0e(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(V0e,()=>{this.pinnedWidthFeature=this.createManagedBean(new T0e(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(O0e,()=>this.createManagedBean(new ZK(this.eContainer,this.name==="center"?n:void 0))),this.forContainers(G0e,()=>this.createManagedBean(new t0e(this.eContainer))),this.forContainers(z0e,()=>this.createManagedBean(new e4(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(H0e.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let i=()=>{let n=this.gos.get("ensureDomOrder"),o=ir(this.gos,"print");this.comp.setDomOrder(n||o)};this.addManagedPropertyListener("domLayout",i),i()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let e=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){let i=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(i,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Qy(this.eViewport)}getCenterViewportScrollLeft(){return ok(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return uK(this.eViewport)}getViewportScrollLeft(){return ok(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||rfe(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){rk(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let i=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||i.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let n=ir(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=i.filter(l=>{let c=l.isFullWidth();return this.options.fullWidth?!r&&c:r||!c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},eY="ag-force-vertical-scroll",W0e="ag-selectable",U0e="ag-column-moving",$0e=class extends Qe{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,i,n,o,r,s,l){this.comp=e,this.eGridBody=i,this.eBodyViewport=n,this.eTop=o,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=l,this.eCenterColsViewport=n.querySelector(`.${o0("center").viewport}`),this.eFullWidthContainer=n.querySelector(`.${o0("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${o0("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=l.querySelector(`.${o0("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",c=>this.setCellTextSelection(c.currentValue)),this.createManagedBean(new i4(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Jve(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,r,s,l]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(o),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){let e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(i=>{this.addManagedElementListeners(i,{focusin:n=>{let{target:o}=n,r=s0(o,"ag-root",i);i.classList.toggle("ag-has-focus",!r)},focusout:n=>{let{target:o,relatedTarget:r}=n,s=i.contains(r),l=s0(r,"ag-root",i);s0(o,"ag-root",i)||(!s||l)&&i.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(U0e,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(W0e,e)}onScrollVisibilityChanged(){let e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();let i=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=aK()?16:0,o=`calc(100% + ${i+n}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(o)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){let e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let e=n=>{let o=n.relatedTarget;if(m6(o)===null){this.rowRenderer.stopEditing();return}let r=i.some(s=>s.contains(o))&&this.mouseEventService.isElementInThisGrid(o);if(!r){let s=this.popupService;r=s.getActivePopups().some(l=>l.contains(o))||s.isElementWithinCustomPopup(o)}r||this.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];i.forEach(n=>this.addManagedElementListeners(n,{focusout:e}))}updateRowCount(){let e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=i===-1?-1:e+i;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let i=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(i)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),i=e?eY:null,n=ir(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(i,e),e||n&&sfe(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes(),i=()=>{let n=e&&r0(this.gos)&&!this.rowContainerHeightService.isStretching(),o=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,n)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,i())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){let e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:i,deltaY:n,shiftKey:o}=e;(o||Math.abs(i)>Math.abs(n))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaX:i,deltaY:n,shiftKey:o}=e,r=o||Math.abs(i)>Math.abs(n),s=e.target;r?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){let{deltaX:i,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:i||n})}onBodyViewportContextMenu(e,i,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();let{target:o}=e||i;(o===this.eBodyViewport||o===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Ng())return;let i=new Ag(this.eBodyViewport),n=o=>{e(void 0,o.touchStart,o.touchEvent)};this.addManagedListeners(i,{longTap:n}),this.addDestroyFunc(()=>i.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){let i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new ome(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){let{pinnedRowModel:e}=this,i=e.getPinnedTopTotalHeight(),n=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(i),this.comp.setBottomHeight(n),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let i=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${i}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${i}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){let i=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;i>0&&(o+=i),n>0&&(o+=n),o>0&&(o+=1),this.comp.setStickyTopTop(`${o}px`)}setStickyBottomOffsetBottom(){let e=this.pinnedRowModel.getPinnedBottomTotalHeight(),n=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,o=e+n;this.comp.setStickyBottomBottom(`${o}px`)}sizeColumnsToFit(e,i){let o=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,s=Qy(this.eGridBody)-o;if(s>0){this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e);return}i===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):i===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):i===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):et("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},q0e=class extends zi{constructor(e,i,n,o,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=i.getColumn(),this.rowNode=i.getRowNode(),this.rowCtrl=i.getRowCtrl(),this.eRow=o,this.cellCtrl=i;let s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);let l=this.getGui();this.forceWrapper=i.isForceWrapper(),this.refreshWrapper(!1),rs(l,i.getCellAriaRole()),l.setAttribute("col-id",i.colIdSanitised);let c={addOrRemoveCssClass:(d,u)=>this.addOrRemoveCssClass(d,u),setUserStyles:d=>pK(l,d),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:d=>this.includeSelection=d,setIncludeRowDrag:d=>this.includeRowDrag=d,setIncludeDndSource:d=>this.includeDndSource=d,setRenderDetails:(d,u,h)=>this.setRenderDetails(d,u,h),setEditDetails:(d,u,h)=>this.setEditDetails(d,u,h),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};i.setComp(c,this.getGui(),this.eCellWrapper,n,r,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,i,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}setEditDetails(e,i,n){e?this.createCellEditorInstance(e,i,n):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let i=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=i||this.forceWrapper,o=n&&this.eCellWrapper==null;if(o){let u=document.createElement("div");u.setAttribute("role","presentation"),u.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=u,this.getGui().appendChild(this.eCellWrapper)}let r=!n&&this.eCellWrapper!=null;r&&(Ys(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);let s=!e&&n,l=s&&this.eCellValue==null;if(l){let u=document.createElement("span");u.setAttribute("role","presentation"),u.setAttribute("class","ag-cell-value"),this.eCellValue=u,this.eCellWrapper.appendChild(this.eCellValue)}let c=!s&&this.eCellValue!=null;c&&(Ys(this.eCellValue),this.eCellValue=void 0);let d=o||r||l||c;return d&&this.removeControls(),e||i&&this.addControls(),d}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,i,n){let o=this.editorVersion,r=e.newAgStackInstance();if(r==null)return;let{params:s}=e;r.then(c=>this.afterCellEditorCreated(o,c,s,i,n)),Ai(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let i=this.getParentOfValue();vr(i);let n=e!=null?gu(e,!0):null;n!=null&&(i.textContent=n)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Ys(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Ys(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let i=this.cellRenderer.refresh(e.params);return i===!0||i===void 0}createCellRendererInstance(e){let n=!this.beans.gos.get("suppressAnimationFrame"),o=this.rendererVersion,{componentClass:r}=e,s=()=>{if(this.rendererVersion!==o||!this.isAlive())return;let c=e.newAgStackInstance(),d=this.afterCellRendererCreated.bind(this,o,r);c&&c.then(d)};n&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,i,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}if(this.cellRenderer=n,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){let r=this.getParentOfValue();vr(r),r.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,i,n,o,r){if(e!==this.editorVersion){this.beans.context.destroyBean(i);return}if(i.isCancelBeforeStart&&i.isCancelBeforeStart()){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing(!0);return}if(!i.getGui){et(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();let c=o||i.isPopup!==void 0&&i.isPopup();c?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,c),i.afterGuiAttached&&i.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,i){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){let e=this.getGui();e.contains(Ln(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,i){this.beans.gos.get("editType")==="fullRow"&&et("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");let n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));let o=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&o.appendChild(this.cellEditorGui);let r=this.beans.popupService,s=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),l=i??n.getPopupPosition?.()??"over",c=this.beans.gos.get("enableRtl"),d={ePopup:o,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:l,alignSide:c?"right":"left",keepWithinBounds:!0},u=r.positionPopupByComponent.bind(r,d),h=this.beans.localeService.getLocaleTextFunc(),g=r.addPopup({modal:s,eChild:o,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});g&&(this.hideEditorPopup=g.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){let e=this.getGui();e.contains(Ln(this.beans.gos))&&f6()&&e.focus({preventScroll:!0}),vr(this.getParentOfValue())}},K0e=class extends zi{constructor(e,i,n){super(),this.cellComps={},this.beans=i,this.rowCtrl=e;let o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),o.setAttribute("style",this.getInitialStyle(n)),this.setTemplateFromElement(o);let r=this.getGui(),s=r.style;this.domOrder=this.rowCtrl.getDomOrder(),rs(r,"row");let l={setDomOrder:c=>this.domOrder=c,setCellCtrls:c=>this.setCellCtrls(c),showFullWidth:c=>this.showFullWidth(c),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),setUserStyles:c=>pK(r,c),setTop:c=>s.top=c,setTransform:c=>s.transform=c,setRowIndex:c=>r.setAttribute("row-index",c),setRowId:c=>r.setAttribute("row-id",c),setRowBusinessKey:c=>r.setAttribute("row-business-key",c),refreshFullWidth:c=>this.fullWidthCellRenderer?.refresh?.(c())??!1};e.setComp(l,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n)})}getInitialStyle(e){let i=this.rowCtrl.getInitialTransform(e);return i?`transform: ${i}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){let i=o=>{if(this.isAlive()){let r=o.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(o)}else this.beans.context.destroyBean(o)},n=e.newAgStackInstance();n?.then(i)}setCellCtrls(e){let i=Object.assign({},this.cellComps);e.forEach(o=>{let r=o.instanceId;this.cellComps[r]==null?this.newCellComp(o):i[r]=null});let n=Fg(i).filter(o=>o!=null);this.destroyCells(n),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let i=[];e.forEach(n=>{let o=this.cellComps[n.instanceId];o&&i.push(o.getGui())}),gK(this.getGui(),i)}newCellComp(e){let i=new q0e(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=i,this.getGui().appendChild(i.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){let e=Fg(this.cellComps).filter(i=>i!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&Hi("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(i=>{if(!i)return;let n=i.getCtrl().instanceId;this.cellComps[n]===i&&(i.detach(),i.destroy(),this.cellComps[n]=null)})}};function Y0e(e){let i;return e.type==="center"?i=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer"></div>
            </div>`:i=`<div class="${e.container}" data-ref="eContainer"></div>`,i}var Q0e=class extends zi{constructor(){super(),this.eViewport=ft,this.eContainer=ft,this.rowComps={},this.name=zi.elementGettingCreated.getAttribute("name"),this.options=o0(this.name),this.setTemplate(Y0e(this.options))}wireBeans(e){this.beans=e}postConstruct(){let e={setHorizontalScroll:n=>this.eViewport.scrollLeft=n,setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>this.eContainer.style.width=n,setOffsetTop:n=>this.eContainer.style.transform=`translateY(${n})`};this.createManagedBean(new j0e(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){let i=We({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;let n=o=>{let r=o.instanceId,s=i[r];if(s)this.rowComps[r]=s,delete i[r],this.ensureDomOrder(s.getGui());else{if(!o.getRowNode().displayed)return;let l=new K0e(o,this.beans,this.options.type);this.rowComps[r]=l,this.appendRow(l.getGui())}};e.forEach(n),Fg(i).forEach(o=>{this.eContainer.removeChild(o.getGui()),o.destroy()}),rs(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?ofe(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(hK(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}},Z0e={selector:"AG-ROW-CONTAINER",component:Q0e};function Ay(e){return e.map(i=>`<ag-row-container name="${i}"></ag-row-container>`).join("")}var X0e=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${Ay(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${Ay(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${Ay(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${Ay(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${Ay(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,J0e=class extends zi{constructor(){super(X0e,[Kve,Qve,Xve,$ve,Z0e]),this.eBodyViewport=ft,this.eStickyTop=ft,this.eStickyBottom=ft,this.eTop=ft,this.eBottom=ft,this.eBody=ft}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){let e=(n,o)=>{let r=`${n}px`;o.style.minHeight=r,o.style.height=r},i={setRowAnimationCssOnBodyViewport:(n,o)=>this.setRowAnimationCssOnBodyViewport(n,o),setColumnCount:n=>qpe(this.getGui(),n),setRowCount:n=>$pe(this.getGui(),n),setTopHeight:n=>e(n,this.eTop),setBottomHeight:n=>e(n,this.eBottom),setTopDisplay:n=>this.eTop.style.display=n,setBottomDisplay:n=>this.eBottom.style.display=n,setStickyTopHeight:n=>this.eStickyTop.style.height=n,setStickyTopTop:n=>this.eStickyTop.style.top=n,setStickyTopWidth:n=>this.eStickyTop.style.width=n,setStickyBottomHeight:n=>{this.eStickyBottom.style.height=n,this.eStickyBottom.classList.toggle("ag-hidden",n==="0px")},setStickyBottomBottom:n=>this.eStickyBottom.style.bottom=n,setStickyBottomWidth:n=>this.eStickyBottom.style.width=n,setColumnMovingCss:(n,o)=>this.addOrRemoveCssClass(n,o),updateLayoutClasses:(n,o)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle("ag-layout-auto-height",o.autoHeight),s.toggle("ag-layout-normal",o.normal),s.toggle("ag-layout-print",o.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",o.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",o.normal),this.addOrRemoveCssClass("ag-layout-print",o.print)},setAlwaysVerticalScrollClass:(n,o)=>this.eBodyViewport.classList.toggle(eY,o),registerBodyViewportResizeListener:n=>{let o=this.resizeObserverService.observeResize(this.eBodyViewport,n);this.addDestroyFunc(()=>o())},setPinnedTopBottomOverflowY:n=>this.eTop.style.overflowY=this.eBottom.style.overflowY=n,setCellSelectableCss:(n,o)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(n,o))},setBodyViewportWidth:n=>this.eBodyViewport.style.width=n};this.ctrl=this.createManagedBean(new $0e),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&pu(this.gos)||k6(this.gos))&&Upe(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,i){let n=this.eBodyViewport.classList;n.toggle("ag-row-animation",i),n.toggle("ag-row-no-animation",!i)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},eCe={selector:"AG-GRID-BODY",component:J0e},tCe=class extends Qe{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;let i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsService.get("center"),i=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==i||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=i,this.verticalScrollGap=n,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:tfe();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},wq="__ag_grid_instance",tY=class iY extends Qe{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=iY.gridInstanceSequence.next()}wireBeans(i){this.ctrlsService=i.ctrlsService}stampTopLevelGridCompWithGridInstance(i){i[wq]=this.gridInstanceId}getRenderedCellForEvent(i){return c6(this.gos,i.target,Sf.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(i){return this.isElementInThisGrid(i.target)}isElementInThisGrid(i){let n=i;for(;n;){let o=n[wq];if(rt(o))return o===this.gridInstanceId;n=n.parentElement}return!1}getCellPositionForEvent(i){let n=this.getRenderedCellForEvent(i);return n?n.getCellPosition():null}getNormalisedPosition(i){let n=ir(this.gos,"normal"),o=i,r,s;if(o.clientX!=null||o.clientY!=null?(r=o.clientX,s=o.clientY):(r=o.x,s=o.y),n){let l=this.ctrlsService.getGridBodyCtrl(),c=l.getScrollFeature().getVScrollPosition(),d=l.getScrollFeature().getHScrollPosition();r+=d.left,s+=c.top}return{x:r,y:s}}};tY.gridInstanceSequence=new u0;var iCe=tY,nCe=class extends Qe{constructor(){super(),this.beanName="navigationService",this.onPageDown=nq(this.onPageDown,100),this.onPageUp=nq(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,i=!1){let n=e.key,o=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),c=!1;switch(n){case Ze.PAGE_HOME:case Ze.PAGE_END:!r&&!o&&(this.onHomeOrEndKey(n),c=!0);break;case Ze.LEFT:case Ze.RIGHT:case Ze.UP:case Ze.DOWN:if(!l)return!1;r&&!o&&!s&&(this.onCtrlUpDownLeftRight(n,l),c=!0);break;case Ze.PAGE_DOWN:case Ze.PAGE_UP:!r&&!o&&(c=this.handlePageUpDown(n,l,i));break}return c&&e.preventDefault(),c}handlePageUpDown(e,i,n){return n&&(i=this.focusService.getFocusedCell()),i?(e===Ze.PAGE_UP?this.onPageUp(i):this.onPageDown(i),!0):!1}navigateTo(e){let{scrollIndex:i,scrollType:n,scrollColumn:o,focusIndex:r,focusColumn:s}=e;rt(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),rt(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){let n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),s=n.top+o,l=this.rowModel.getRowIndexAtPixel(s+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)}onPageUp(e){let n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.pageBoundsService.getPixelOffset(),r=n.top,s=this.rowModel.getRowIndexAtPixel(r+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,i,n=!1){let o=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),l=this.pageBoundsService.getPixelOffset(),c=this.rowModel.getRow(e.rowIndex),d=n?c?.rowHeight-o-l:o-l,u=c?.rowTop+d,h=this.rowModel.getRowIndexAtPixel(u+l);if(h===e.rowIndex){let p=n?-1:1;i=h=e.rowIndex+p}let g;n?(g="bottom",h<r&&(h=r),i<r&&(i=r)):(g="top",h>s&&(h=s),i>s&&(i=s)),this.isRowTallerThanView(h)&&(i=h,g="top"),this.navigateTo({scrollIndex:i,scrollType:g,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,i,n=!1){this.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column}),setTimeout(()=>{let o=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,i=!1){let n=i?-1:1,o=this.getViewportHeight(),r=this.pageBoundsService.getLastRow(),s=0,l=e.rowIndex;for(;l>=0&&l<=r;){let c=this.rowModel.getRow(l);if(c){let d=c.rowHeight??0;if(s+d>o)break;s+=d}l+=n}return Math.max(0,Math.min(l,r))}getViewportHeight(){let e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.scrollVisibleService.getScrollbarWidth(),n=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){let i=this.rowModel.getRow(e);if(!i)return!1;let n=i.rowHeight;return typeof n!="number"?!1:n>this.getViewportHeight()}onCtrlUpDownLeftRight(e,i){let n=this.cellNavigationService.getNextCellToFocus(e,i,!0),{rowIndex:o}=n,r=n.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:r,focusIndex:o,focusColumn:r})}onHomeOrEndKey(e){let i=e===Ze.PAGE_HOME,n=this.visibleColsService.getAllCols(),o=i?n[0]:Li(n),r=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o})}onTabKeyDown(e,i){let n=i.shiftKey,o=this.tabToNextCellCommon(e,n,i);if(o!==!1){o?i.preventDefault():o===null&&this.focusService.allowFocusForNextGridCoreContainer(n);return}if(n){let{rowIndex:r,rowPinned:s}=e.getRowPosition();(s?r===0:r===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(i.preventDefault(),this.focusService.focusPreviousFromFirstCell(i)))}else e instanceof Sf&&e.focusCell(!0),(!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n))&&i.preventDefault()}tabToNextCell(e,i){let n=this.focusService.getFocusedCell();if(!n)return!1;let o=this.getCellByPosition(n);return!o&&(o=this.rowRenderer.getRowByPosition(n),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,i)}tabToNextCellCommon(e,i,n){let o=e.isEditing();if(!o&&e instanceof Sf){let l=e.getRowCtrl();l&&(o=l.isEditing())}let r;return o?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,i,n):r=this.moveToNextEditingCell(e,i,n):r=this.moveToNextCellNotEditing(e,i),r===null?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,i,n=null){let o=e.getCellPosition();e.getGui().focus(),e.stopEditing();let r=this.findNextCellToFocusOn(o,i,!0);return r===!1?null:r==null?!1:(r.startEditing(null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(e,i,n=null){let o=e.getCellPosition(),r=this.findNextCellToFocusOn(o,i,!0);if(r===!1)return null;if(r==null)return!1;let s=r.getCellPosition(),l=this.isCellEditable(o),c=this.isCellEditable(s),d=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;return l&&e.setFocusOutOnEditor(),d||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,n)),c?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,i){let n=this.visibleColsService.getAllCols(),o;e instanceof xf?o=At(We({},e.getRowPosition()),{column:i?n[0]:Li(n)}):o=e.getCellPosition();let r=this.findNextCellToFocusOn(o,i,!1);if(r===!1)return null;if(r instanceof Sf)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),i);return rt(r)}findNextCellToFocusOn(e,i,n){let o=e;for(;;){e!==o&&(e=o),i||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,i);let r=this.gos.getCallback("tabToNextCell");if(rt(r)){let d=r({backwards:i,editing:n,previousCellPosition:e,nextCellPosition:o||null});if(d===!0||d===null)d===null&&et("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),o=e;else{if(d===!1)return!1;o={rowIndex:d.rowIndex,column:d.column,rowPinned:d.rowPinned}}}if(!o)return null;if(o.rowIndex<0){let c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+o.rowIndex,column:o.column},fromCell:!0}),null}let s=this.gos.get("editType")==="fullRow";if(n&&!s&&!this.isCellEditable(o))continue;this.ensureCellVisible(o);let l=this.getCellByPosition(o);if(!l){let c=this.rowRenderer.getRowByPosition(o);if(!c||!c.isFullWidth()||n)continue;return c}if(!l.isSuppressNavigable())return this.rangeService?.setRangeToCell(o),l}}isCellEditable(e){let i=this.lookupRowNodeForCell(e);return i?e.column.isCellEditable(i):!1}getCellByPosition(e){let i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,i,n,o){let r=n,s=!1;for(;r&&(r===n||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?i===Ze.LEFT&&(r=this.getLastCellOfColSpan(r)):i===Ze.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(i,r),s=Ai(r);if(s&&e&&e.key===Ze.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),o){let c=this.gos.getCallback("navigateToNextCell");if(rt(c)){let u=c({key:i,previousCellPosition:n,nextCellPosition:r||null,event:e});rt(u)?r={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}:r=null}}if(!r)return;if(r.rowIndex<0){let c=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}let l=this.getNormalisedPosition(r);l?this.focusPosition(l):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);let i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,i){let n=this.visibleColsService.getAllCols(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;let r=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?Li(n):n[0])};this.focusPosition(s);let l=i??(r!=null&&this.rowPositionUtils.before(s,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:l}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){let i=this.getCellByPosition(e);if(!i)return e;let n=i.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Li(n),rowPinned:e.rowPinned}}ensureCellVisible(e){let i=ck(this.gos),n=this.rowModel.getRow(e.rowIndex);!(i&&n?.sticky)&&Ai(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},oCe=class extends Qe{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){let i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(i),()=>this.dragService.removeDragSource(i)}onDragStart(e,i){this.dragStartX=i.clientX,this.setResizeIcons();let n=i instanceof MouseEvent&&i.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},rCe=class extends Qe{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,i,n){this.showPopup(e,o=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:i,ePopup:o})},n,i.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,i,n){let o=-1,r="left",s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(o=1,r="right");let l=s?void 0:4*o,c=s?void 0:4;this.showPopup(e,d=>{this.popupService.positionPopupByComponent({type:n,eventSource:i,ePopup:d,nudgeX:l,nudgeY:c,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},n,i,s)}showPopup(e,i,n,o,r){let s=e?this.createBean(new ume(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");let l=document.createElement("div");rs(l,"presentation"),l.classList.add("ag-menu"),r||l.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(l,{keydown:y=>this.trapFocusWithin(y,l)}),l.appendChild(s?.getGui());let c,d=()=>s?.afterGuiDetached(),u=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=y=>{e.setMenuVisible(!1,"contextMenu");let M=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),M&&o&&bl(o)){let k=this.focusService.findTabbableParent(o);k&&k.focus()}d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e)},g=this.localeService.getLocaleTextFunc(),p=r&&n!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),f=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:h,positionCallback:()=>i(l),anchorToElement:u,ariaLabel:p});f&&(this.hidePopup=c=f.hideFunc),s.afterInit().then(()=>{i(l),s.afterGuiAttached({container:n,hidePopup:c})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,i){e.key!==Ze.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))}dispatchVisibleChangedEvent(e,i,n){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:i,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},sCe=class extends Qe{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,i){let o=Fq(this.gos).ResizeObserver,r=o?new o(i):null;return r?.observe(e),()=>r?.disconnect()}},aCe=class extends Qe{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){let i=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&e===0){let n=this.paginationService?.getCurrentPage()??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&et(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,i,n){this.verifyAnimationFrameOn(n);let o={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,i){e.list.push(i),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let i=this.scrollGoingDown?1:-1;e.list.sort((n,o)=>n.index!==o.index?i*(o.index-n.index):o.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");let i=this.createTasksP1,n=i.list,o=this.createTasksP2,r=o.list,s=this.destroyTasks,l=new Date().getTime(),c=new Date().getTime()-l,d=e<=0,u=this.ctrlsService.getGridBodyCtrl();for(;d||c<e;){if(!u.getScrollFeature().scrollGridIfNeeded()){let g;if(n.length)this.sortTaskList(i),g=n.pop().task;else if(r.length)this.sortTaskList(o),g=r.pop().task;else if(s.length)g=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(g)||g()}c=new Date().getTime()-l}n.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){let i=Fq(this.gos);i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let i=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}i||(i=!0,this.addDestroyTask(()=>{i=!1,e()}))}}};var lCe=class extends Qe{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Wn(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;let i=new Set(e);this.rowModel.forEachNode(n=>{n.id&&i.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){let e=[];return this.rowModel.forEachNode(({expanded:i,id:n})=>{i&&n&&e.push(n)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,i,n,o){e&&(n&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,i,n,o),e.setExpanded(i,void 0,o))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},cCe=class extends Qe{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let i=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,i,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,i,n)}getContextMenuPosition(e,i){let n=this.getRowCtrl(e),o=this.getCellGui(n,i);if(!o)return n?{x:0,y:n.getRowYPosition()}:{x:0,y:0};let r=o.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){let i=e.rowNode,n=e.column,{anchorToElement:o,value:r}=e;i&&n&&r==null&&(r=this.valueService.getValueForDisplay(n,i)),o==null&&(o=this.getContextMenuAnchorElement(i,n)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,i??null,n??null,r,o)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){let{suppressMenu:i,suppressHeaderMenuButton:n}=e.getColDef();return!(n??i)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Pg(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(Ng()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){let i=e.getColDef(),n=i.floatingFilterComponentParams?.suppressFilterButton;return n!=null&&et("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!n:!i.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,i,n,o){let{positionBy:r}=i,s=i.column;if(r==="button"){let{buttonElement:l}=i;e.showMenuAfterButtonClick(s,l,n,o)}else if(r==="mouse"){let{mouseEvent:l}=i;e.showMenuAfterMouseEvent(s,l,n,o)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{let l=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);l&&e.showMenuAfterButtonClick(s,l.getAnchorElementForMenu(o),n,!0)}))}getRowCtrl(e){let{rowIndex:i,rowPinned:n}=e||{};if(i!=null)return this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n})||void 0}getCellGui(e,i){return!e||!i?void 0:e.getCellCtrl(i)?.getGui()||void 0}getContextMenuAnchorElement(e,i){let n=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),o=this.getRowCtrl(e);if(!o)return n;let r=this.getCellGui(o,i);return r||(o.isFullWidth()?o.getFullWidthElement():n)}},dCe=class extends Cf{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,i){let n=super.setValue(e,i);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},uCe={selector:"AG-INPUT-TEXT-AREA",component:dCe},hCe=class extends f0{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[uCe]),this.eTextArea=ft}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),rt(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let i=e.key;(i===Ze.LEFT||i===Ze.UP||i===Ze.RIGHT||i===Ze.DOWN||e.shiftKey&&i===Ze.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue();return!rt(e)&&!rt(this.params.value)?this.params.value:this.params.parseValue(e)}},gCe=class extends f0{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){_f(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),i=this.params,n=o=>{w6(this.gos,o,i.node,i.column,!0)||i.onKeyDown(o)};this.addManagedElementListeners(e,{keydown:n})}},pCe=class extends f0{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[wme]),this.eSelect=ft,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:i,valueService:n,gos:o}=this,{values:r,value:s,eventKey:l}=e;if(Ai(r)){et("no values found for select cellEditor");return}this.startedByEnter=l!=null?l===Ze.ENTER:!1;let c=!1;r.forEach(g=>{let p={value:g},f=n.formatValue(e.column,null,g),y=f!=null;p.text=y?f:g,i.addOption(p),c=c||s===g}),c?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);let{valueListGap:d,valueListMaxWidth:u,valueListMaxHeight:h}=e;d!=null&&i.setPickerGap(d),h!=null&&i.setPickerMaxHeight(h),u!=null&&i.setPickerMaxWidth(u),o.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},fk=class extends f0{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=ft}init(e){this.params=e;let{cellStartedEdit:i,eventKey:n,suppressPreventDefault:o}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,l=!0;i?(this.focusAfterAttached=!0,n===Ze.BACKSPACE||n===Ze.DELETE?s="":n&&n.length===1?o?l=!1:s=n:(s=this.cellEditorInput.getStartValue(),n!==Ze.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),l&&s!=null&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:c=>{let{key:d}=c;(d===Ze.PAGE_UP||d===Ze.PAGE_DOWN)&&c.preventDefault()}})}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;fu()||i.getFocusableElement().focus();let n=i.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){let e=this.eInput,i=e.getFocusableElement(),n=e.getInputElement();i.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},fCe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[hk]}init(e,i){this.eInput=e,this.params=i,i.maxLength!=null&&e.setMaxLength(i.maxLength)}getValue(){let e=this.eInput.getValue();return!rt(e)&&!rt(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){let e=this.eInput.getValue(),i=rt(e)&&e.length||0;i&&this.eInput.getInputElement().setSelectionRange(i,i)}},nY=class extends fk{constructor(){super(new fCe)}},mCe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Ime]}init(e,i){this.eInput=e,this.params=i,i.max!=null&&e.setMax(i.max),i.min!=null&&e.setMin(i.min),i.precision!=null&&e.setPrecision(i.precision),i.step!=null&&e.setStep(i.step);let n=e.getInputElement();i.preventStepping?e.addManagedElementListeners(n,{keydown:this.preventStepping}):i.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Ze.UP||e.key===Ze.DOWN)&&e.preventDefault()}getValue(){let e=this.eInput.getValue();if(!rt(e)&&!rt(this.params.value))return this.params.value;let i=this.params.parseValue(e);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){fu()&&this.eInput.getInputElement().focus({preventScroll:!0})}},vCe=class extends fk{constructor(){super(new mCe)}},CCe=class extends kf{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=fu();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Ln(this.gos)===this.eInput&&e.preventDefault()}setMin(e){let i=e instanceof Date?Xs(e??null,!1)??void 0:e;return this.min===i?this:(this.min=i,Zs(this.eInput,"min",i),this)}setMax(e){let i=e instanceof Date?Xs(e??null,!1)??void 0:e;return this.max===i?this:(this.max=i,Zs(this.eInput,"max",i),this)}setStep(e){return this.step===e?this:(this.step=e,Zs(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return os(this.getValue())??void 0}setDate(e,i){this.setValue(Xs(e??null,!1),i)}},oY={selector:"AG-INPUT-DATE-FIELD",component:CCe},wCe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[oY]}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){let e=this.eInput.getDate();return!rt(e)&&!rt(this.params.value)?this.params.value:e??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Xs(e,!1)}},bCe=class extends fk{constructor(){super(new wCe)}},yCe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[oY]}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){let e=this.formatDate(this.eInput.getDate());return!rt(e)&&!rt(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Xs(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){let i=this.getDataTypeService();return i?i.getDateParserFunction(this.params.column)(e):os(e)??void 0}formatDate(e){let i=this.getDataTypeService();return i?i.getDateFormatterFunction(this.params.column)(e):Xs(e??null,!1)??void 0}},SCe=class extends fk{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new yCe(()=>this.dataTypeService))}},xCe=class extends f0{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[j6]),this.eCheckbox=ft}init(e){this.params=e;let i=e.value??void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:o=>this.setAriaLabel(o.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let i=this.localeService.getLocaleTextFunc(),n=P6(i,e),o=i("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${o} (${n})`)}},Py=class{constructor(e){this.cellValueChanges=e}},t6=class extends Py{constructor(e,i,n,o){super(e),this.initialRange=i,this.finalRange=n,this.ranges=o}},_Ce=10,bq=class{constructor(e){this.actionStack=[],this.maxStackSize=e||_Ce,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},DCe=class extends Qe{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let i={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,i),o=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,i);if(!(n||o||this.isPasting||this.isRangeInAction))return;let{rowPinned:s,rowIndex:l,column:c,oldValue:d,value:u}=e,h={rowPinned:s,rowIndex:l,columnId:c.getColId(),newValue:u,oldValue:d};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;let e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new bq(e),this.redoStack=new bq(e),this.addListeners();let i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:n=>{n.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),this.ctrlsService.whenReady(this,n=>{this.gridBodyCtrl=n.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});let i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});let i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,i,n,o,r){if(!e)return!1;let s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,l=>l[o],r),s instanceof t6?this.processRange(this.rangeService,s.ranges||[s[n]]):this.processCell(s.cellValueChanges),i.push(s),!0)}processAction(e,i,n){e.cellValueChanges.forEach(o=>{let{rowIndex:r,rowPinned:s,columnId:l}=o,c={rowIndex:r,rowPinned:s},d=this.rowPositionUtils.getRowNode(c);d.displayed&&d.setDataValue(l,i(o),n)})}processRange(e,i){let n;e.removeAllCellRanges(!0),i.forEach((o,r)=>{if(!o)return;let s=o.startRow,l=o.endRow;r===i.length-1&&(n={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},this.setLastFocusedCell(n));let c={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};e.addCellRange(c)})}processCell(e){let i=e[0],{rowIndex:n,rowPinned:o}=i,r={rowIndex:n,rowPinned:o},s=this.rowPositionUtils.getRowNode(r),l={rowPinned:i.rowPinned,rowIndex:s.rowIndex,columnId:i.columnId};this.setLastFocusedCell(l,this.rangeService)}setLastFocusedCell(e,i){let{rowIndex:n,columnId:o,rowPinned:r}=e,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getCol(o);if(!l)return;s.ensureIndexVisible(n),s.ensureColumnVisible(l);let c={rowIndex:n,column:l,rowPinned:r};this.focusService.setFocusedCell(At(We({},c),{forceBrowserFocus:!0})),i?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new Py(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let n=new Py(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new Py(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let i=new t6(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(i),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&pu(this.gos)?e=new t6(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Py(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function ECe(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function MCe(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function rY(e,i,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,n),"ensureVisible")}function sY(e,i,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(i,n),"ensureVisible")}function kCe(e,i,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(i,n),"ensureVisible")}function ICe(e){e.undoRedoService?.undo("api")}function RCe(e){e.undoRedoService?.redo("api")}function ACe(e,i={}){return e.rowRenderer.getCellEditorInstances(i).map(Oy)}function TCe(e){return e.rowRenderer.getEditingCells()}function FCe(e,i=!1){e.rowRenderer.stopEditing(i)}function PCe(e,i){let n=e.columnModel.getCol(i.colKey);if(!n){et(`no column found for ${i.colKey}`);return}let o={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:n};i.rowPinned==null&&sY(e,i.rowIndex),rY(e,i.colKey);let s=e.navigationService.getCellByPosition(o);if(!s)return;let{focusService:l,gos:c}=e,d=()=>{let h=Ln(c),g=s.getGui();return h!==g&&!!g?.contains(h)},u=c.get("stopEditingWhenCellsLoseFocus")&&d();(u||!l.isCellFocused(o))&&l.setFocusedCell(At(We({},o),{forceBrowserFocus:u,preventScrollOnBrowserFocus:!0})),s.startRowOrCellEdit(i.key)}function LCe(e){return e.undoRedoService?.getCurrentUndoStackSize()??0}function NCe(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}var OCe=class extends Qe{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,i=null,n=!1,o=null){let r=this.createCellEditorParams(e,i,n),s=e.getColumn().getColDef(),l=this.userComponentFactory.getCellEditorDetails(s,r),c=l?.popupFromSelector!=null?l.popupFromSelector:!!s.cellEditorPopup,d=l?.popupPositionFromSelector!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;return e.setEditing(!0,l),e.getComp().setEditDetails(l,c,d,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(o,"cellEditingStarted")),!l?.params?.suppressPreventDefault}stopEditing(e,i){let n=e.getComp(),{newValue:o,newValueExists:r}=this.takeValueFromCellEditor(i,n),s=e.getRowNode(),l=e.getColumn(),c=this.valueService.getValueForDisplay(l,s),d=!1;return r&&(d=this.saveNewValue(e,c,o,s,l)),e.setEditing(!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent(At(We({},e.createEvent(null,"cellEditingStopped")),{oldValue:c,newValue:o,valueChanged:d})),d}handleColDefChanged(e){let i=e.getCellEditor();if(i?.refresh){let{eventKey:n,cellStartedEdit:o}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,n,o),s=e.getColumn().getColDef(),l=this.userComponentFactory.getCellEditorDetails(s,r);i.refresh(l.params)}}setFocusOutOnEditor(e){let i=e.getComp().getCellEditor();i&&i.focusOut&&i.focusOut()}setFocusInOnEditor(e){let i=e.getComp(),n=i.getCellEditor();n?.focusIn?n.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>i.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,i=!1,n=!1){e.stopRowOrCellEdit(),e.focusCell(!0),i||this.navigateAfterEdit(n,e.getCellPosition())}createPopupEditorWrapper(e){return new gCe(e)}takeValueFromCellEditor(e,i){let n={newValueExists:!1};if(e)return n;let o=i.getCellEditor();return!o||o.isCancelAfterEnd&&o.isCancelAfterEnd()?n:{newValue:o.getValue(),newValueExists:!0}}saveNewValue(e,i,n,o,r){if(n===i)return!1;e.setSuppressRefreshCell(!0);let s=o.setDataValue(r,n,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,i,n){let o=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(o,r),eventKey:i,column:o,colDef:o.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(o,r,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,i){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let o=e?Ze.UP:Ze.DOWN;this.navigationService.navigateToNextCell(null,o,i,!1)}}},zCe=class extends Qe{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,i=null,n=null,o=null){let r=!0;return e.getAllCellCtrls().reduce((l,c)=>{let d=c===n;return d?r=c.startEditing(i,d,o):c.startEditing(null,d,o),l?!0:c.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,i=!1){let n=e.getAllCellCtrls(),o=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(let s of n){let l=s.stopEditing(i);o&&!i&&!r&&l&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),o&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,i){e.setEditingRow(i),e.forEachGui(void 0,o=>o.rowComp.addOrRemoveCssClass("ag-row-editing",i));let n=i?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(n)}},If={version:Qt,moduleName:"@ag-grid-community/edit-core",beans:[OCe]},BCe={version:Qt,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:ICe,redoCellEditing:RCe,getCellEditorInstances:ACe,getEditingCells:TCe,stopEditing:FCe,startEditingCell:PCe,getCurrentUndoSize:LCe,getCurrentRedoSize:NCe},dependantModules:[If]},VCe={version:Qt,moduleName:"@ag-grid-community/undo-redo-edit",beans:[DCe],dependantModules:[If]},HCe={version:Qt,moduleName:"@ag-grid-community/full-row-edit",beans:[zCe],dependantModules:[If]},aY={version:Qt,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:nY}],dependantModules:[If]},GCe={version:Qt,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:nY},{name:"agNumberCellEditor",classImp:vCe,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:bCe},{name:"agDateStringCellEditor",classImp:SCe},{name:"agCheckboxCellEditor",classImp:xCe}],dependantModules:[aY]},jCe={version:Qt,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:pCe}],dependantModules:[If]},WCe={version:Qt,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:hCe}],dependantModules:[If]},UCe={version:Qt,moduleName:"@ag-grid-community/all-editors",dependantModules:[aY,GCe,jCe,WCe]},$Ce={version:Qt,moduleName:"@ag-grid-community/editing",dependantModules:[If,VCe,HCe,UCe,BCe]},qCe=class extends Qe{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,i){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let o=this.rowRenderer.getAllCellsForColumn(e);return i||o.push(n),this.addElementsToContainerAndGetWidth(o)}getPreferredWidthForColumnGroup(e){let i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1}addElementsToContainerAndGetWidth(e){let i=document.createElement("form");i.style.position="fixed";let n=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,i)),n.appendChild(i);let o=i.offsetWidth;n.removeChild(i);let r=this.getAutoSizePadding();return o+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{let o=n.getHtmlElementForColumnHeader(e);o!=null&&(i=o)}),i}cloneItemIntoDummy(e,i){let n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";let o=document.createElement("div"),r=o.classList;["ag-header-cell","ag-header-group-cell"].some(c=>n.classList.contains(c))?(r.add("ag-header","ag-header-row"),o.style.position="static"):r.add("ag-row");let l=e.parentElement;for(;l;){if(["ag-header-row","ag-row"].some(d=>l.classList.contains(d))){for(let d=0;d<l.classList.length;d++){let u=l.classList[d];u!="ag-row-position-absolute"&&r.add(u)}break}l=l.parentElement}o.appendChild(n),i.appendChild(o)}},KCe=class extends Qe{constructor(e,i){super(),this.createRowCon=e,this.destroyRowCtrls=i,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Wn(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.childStore?.getStoreBounds();return e.footer&&(n=e.sibling.childStore?.getStoreBounds()),(n?.heightPx??0)+(n?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let o=e.footer?e.sibling:e;for(;o.isExpandable()&&o.expanded;)if(o.master)o=o.detailNode;else if(o.childrenAfterSort){if(o.childrenAfterSort.length===0)break;o=Li(o.childrenAfterSort)}return o.rowTop+o.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){let i=e==="top",n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);let o=i?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,s=u=>{if(r.add(u),i){let h=this.getLastPixelOfGroup(u),g=o+n+u.rowHeight;h<g?u.stickyRowTop=n+(h-g):u.stickyRowTop=n}else{let h=this.getFirstPixelOfGroup(u),g=o-(n+u.rowHeight);h>g?u.stickyRowTop=n-(h-g):u.stickyRowTop=n}n=0,r.forEach(h=>{let g=h.stickyRowTop+h.rowHeight;n<g&&(n=g)})},l=this.areFooterRowsStickySuppressed(),c=this.gos.get("suppressGroupRowsSticky"),d=u=>{if(!u.displayed)return!1;if(u.footer){if(l===!0||l==="grand"&&u.level===-1||l==="group"&&u.level>-1)return!1;let h=u.sibling.rowIndex?u.sibling.rowIndex+1===u.rowIndex:!1;return e==="bottom"&&h?!1:!r.has(u)}return u.isExpandable()?c===!0||e==="bottom"?!1:!r.has(u)&&u.expanded:!1};for(let u=0;u<100;u++){let h=o+n;i||(h=o-n);let g=this.rowModel.getRowIndexAtPixel(h),p=this.rowModel.getRow(g);if(p==null)break;let y=this.getStickyAncestors(p).find(k=>(i?k.rowIndex<g:k.rowIndex>g)&&d(k));if(y){s(y);continue}if((i?p.rowTop<h:p.rowTop+p.rowHeight>h)&&d(p)){s(p);continue}break}return i||r.forEach(u=>{u.stickyRowTop=n-(u.stickyRowTop+u.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,n)}areFooterRowsStickySuppressed(){let e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;let i=!!this.gos.get("groupIncludeFooter")||e==="group",n=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return i&&n?!0:n?"grand":i?"group":!1}canRowsBeSticky(){let e=ck(this.gos),i=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!i||!n)}getStickyAncestors(e){let i=[],n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&i.push(n.sibling),i.push(n),n=n.parent;return i.reverse()}checkStickyRows(){let e=this.updateStickyRows("top"),i=this.updateStickyRows("bottom");return e||i}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){let i=new Set;if(this.stickyTopRowCtrls.some(n=>n.getRowNode()===e)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){let o=this.stickyTopRowCtrls[n].getRowNode();o!==e&&i.add(o)}this.refreshNodesAndContainerHeight("top",i,this.topContainerHeight)&&this.checkStickyRows();return}for(let n=0;n<this.stickyBottomRowCtrls.length;n++){let o=this.stickyBottomRowCtrls[n].getRowNode();o!==e&&i.add(o)}this.refreshNodesAndContainerHeight("bottom",i,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,i,n){let o=e==="top",r=o?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},l=[];for(let p=0;p<r.length;p++){let f=r[p].getRowNode();if(!i.has(f)){s[f.id]=r[p],f.sticky=!1;continue}l.push(r[p])}let c=new Set;for(let p=0;p<l.length;p++)c.add(l[p].getRowNode());let d=[];i.forEach(p=>{c.has(p)||(p.sticky=!0,d.push(this.createRowCon(p,!1,!1)))});let u=!!d.length||l.length!==r.length;o?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),u=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),u=!0),this.destroyRowCtrls(s,!1);let h=[...l,...d];h.sort((p,f)=>f.getRowNode().rowIndex-p.getRowNode().rowIndex),o||h.reverse(),h.forEach(p=>p.setRowTop(p.getRowNode().stickyRowTop));let g=0;return o?(i.forEach(p=>{p.rowIndex<this.pageBoundsService.getFirstRow()&&(g+=p.rowHeight)}),g>this.topContainerHeight&&(g=this.topContainerHeight),this.setOffsetTop(g)):(i.forEach(p=>{p.rowIndex>this.pageBoundsService.getLastRow()&&(g+=p.rowHeight)}),g>this.bottomContainerHeight&&(g=this.bottomContainerHeight),this.setOffsetBottom(g)),u?(o?this.stickyTopRowCtrls=h:this.stickyBottomRowCtrls=h,!0):!1}ensureRowHeightsValid(){let e=!1,i=n=>{let o=n.getRowNode();if(o.rowHeightEstimated){let r=Tg(this.gos,o);o.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(i),this.stickyBottomRowCtrls.forEach(i),e}},YCe=class extends Qe{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},i=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",i),this.eventService.addEventListener("columnPinned",i),this.eventService.addEventListener("columnVisible",i)},o=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",i),this.eventService.removeEventListener("columnPinned",i),this.eventService.removeEventListener("columnVisible",i)};this.addDestroyFunc(()=>o()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{pu(this.gos)?n():o()}),pu(this.gos)&&n()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),ck(this.gos)&&(Wn(this.gos)||Ch(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new KCe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=ir(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),i=e??3;this.cachedRowCtrls=new QCe(i)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){let e=Fg(this.rowCtrlsByRowIndex),i=Fg(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];i.length>0||n.length>0?this.allRowCtrls=[...e,...i,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(i=>i.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(i=>i.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(i=>i.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(i=>i.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(i=>{let n=d=>{this.getAllCellCtrls().forEach(u=>{u.getColumn()===i&&d(u)})},o=()=>{n(d=>d.onLeftChanged())},r=()=>{n(d=>d.onWidthChanged())},s=()=>{n(d=>d.onFirstRightPinnedChanged())},l=()=>{n(d=>d.onLastLeftPinnedChanged())},c=()=>{n(d=>d.onColDefChanged())};i.addEventListener("leftChanged",o),i.addEventListener("widthChanged",r),i.addEventListener("firstRightPinnedChanged",s),i.addEventListener("lastLeftPinnedChanged",l),i.addEventListener("colDefChanged",c),this.destroyFuncsForColumnListeners.push(()=>{i.removeEventListener("leftChanged",o),i.removeEventListener("widthChanged",r),i.removeEventListener("firstRightPinnedChanged",s),i.removeEventListener("lastLeftPinnedChanged",l),i.removeEventListener("colDefChanged",c)})})}onDomLayoutChanged(){let e=ir(this.gos,"print"),i=e||this.gos.get("embedFullWidthRows"),n=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let i={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(i)}getAllCellsForColumn(e){let i=[];return this.getAllRowCtrls().forEach(n=>{let o=n.getCellElement(e);o&&i.push(o)}),i}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,i){let{pinnedRowModel:n,beans:o,printLayout:r}=this,s=Object.fromEntries(e.map(c=>[c.getRowNode().id,c]));n.forEachPinnedRow(i,(c,d)=>{let u=e[d];u&&n.getPinnedRowById(u.getRowNode().id,i)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),c.id in s?(e[d]=s[c.id],delete s[c.id]):e[d]=new xf(c,o,!1,!1,r)});let l=i==="top"?n.getPinnedTopRowCount():n.getPinnedBottomRowCount();e.length=l}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,i=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let n=o=>{let r=o[e.rowIndex];r&&r.getRowNode()===e&&(r.destroyFirstPass(),r.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){let i=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(i==null)return null;let n=Ln(this.gos),o=Hy(this.gos,n,Sf.DOM_DATA_KEY_CELL_CTRL),r=Hy(this.gos,n,xf.DOM_DATA_KEY_ROW_CTRL);return o||r?i:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&r0(this.gos),r=n?this.getRowsToRecycle():null;if(n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();let s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(r,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),i!=null&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let i=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");i&&!n&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let i=this.pageBoundsService.getCurrentPageHeight();i===0&&(i=1),this.rowContainerHeightService.setModelHeight(i+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(i=>{i.stopEditing(e)})}getAllCellCtrls(){let e=[],i=this.getAllRowCtrls(),n=i.length;for(let o=0;o<n;o++){let r=i[o].getAllCellCtrls(),s=r.length;for(let l=0;l<s;l++)e.push(r[l])}return e}getAllRowCtrls(){let e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],i=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],n=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...i];for(let o in this.rowCtrlsByRowIndex)n.push(this.rowCtrlsByRowIndex[o]);return n}addRenderedRowListener(e,i,n){let o=this.rowCtrlsByRowIndex[i];o&&o.addEventListener(e,n)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.flashCell(e))}refreshCells(e={}){let i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(i);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let i=null;this.stickyRowFeature&&f6()&&(i=this.getCellToRestoreFocusToAfterRefresh()||null);for(let n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),i&&this.restoreFocusedCell(i)}getCellRendererInstances(e){let i=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>r!=null);if(e.columns?.length)return i;let n=[],o=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(o&&!this.isRowInMap(r.getRowNode(),o)||!r.isFullWidth())return;let s=r.getFullWidthCellRenderers();for(let l=0;l<s.length;l++){let c=s[l];c!=null&&n.push(c)}}),[...n,...i]}getCellEditorInstances(e){let i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>{let o=n.getCellEditor();o&&i.push(o)}),i}getEditingCells(){let e=[];return this.getAllCellCtrls().forEach(i=>{if(i.isEditing()){let n=i.getCellPosition();e.push(n)}}),e}mapRowNodes(e){if(!e)return;let i={top:{},bottom:{},normal:{}};return e.forEach(n=>{let o=n.id;switch(n.rowPinned){case"top":i.top[o]=n;break;case"bottom":i.bottom[o]=n;break;default:i.normal[o]=n;break}}),i}isRowInMap(e,i){let n=e.id;switch(e.rowPinned){case"top":return i.top[n]!=null;case"bottom":return i.bottom[n]!=null;default:return i.normal[n]!=null}}getRowCtrls(e){let i=this.mapRowNodes(e),n=this.getAllRowCtrls();return!e||!i?n:n.filter(o=>{let r=o.getRowNode();return this.isRowInMap(r,i)})}getCellCtrls(e,i){let n;rt(i)&&(n={},i.forEach(r=>{let s=this.columnModel.getCol(r);rt(s)&&(n[s.getId()]=!0)}));let o=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{let l=s.getColumn().getId();n&&!n[l]||o.push(s)})}),o}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){let e=[];qs(this.rowCtrlsByRowIndex,(n,o)=>{o.getRowNode().id==null&&e.push(n)}),this.removeRowCtrls(e);let i={};return qs(this.rowCtrlsByRowIndex,(n,o)=>{let r=o.getRowNode();i[r.id]=o}),this.rowCtrlsByRowIndex={},i}removeRowCtrls(e,i=!1){e.forEach(n=>{let o=this.rowCtrlsByRowIndex[n];o&&(o.destroyFirstPass(i),o.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{afterScroll:i}=e,n;this.stickyRowFeature&&f6()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);let o=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();let c=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();c&&this.updateContainerHeights(c)}let l=this.firstRenderedRow!==o||this.lastRenderedRow!==r;if(!(i&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!s),n!=null)){let c=this.getCellToRestoreFocusToAfterRefresh();n!=null&&c==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,i){let n={};e.forEach(s=>n[s]=!0);let r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,i)}calculateIndexesToDraw(e){let i=Tme(this.firstRenderedRow,this.lastRenderedRow),n=(r,s)=>{let l=s.getRowNode().rowIndex;l!=null&&(l<this.firstRenderedRow||l>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&i.push(l)};qs(this.rowCtrlsByRowIndex,n),qs(e,n),i.sort((r,s)=>r-s);let o=[];for(let r=0;r<i.length;r++){let s=i[r],l=this.rowModel.getRow(s);l&&!l.sticky&&o.push(s)}return o}recycleRows(e,i=!1,n=!1){let o=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(i=!1),this.removeRowCompsNotToDraw(o,!i);let r=[];o.forEach(s=>{let l=this.createOrUpdateRowCtrl(s,e,i,n);rt(l)&&r.push(l)}),e&&(n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,i),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,i)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let e=this.visibleColsService.isPinningLeft(),i=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(i=>{let n=i.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;let o=n.getRowNode();return!(i!=null&&!this.isRowInMap(o,i))})}createOrUpdateRowCtrl(e,i,n,o){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),rt(r)&&rt(i)&&i[r.id]&&r.alreadyRendered&&(s=i[r.id],i[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),rt(r))s=this.createRowCon(r,n,o);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,i){let n=[];qs(e,(o,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);return}if(r.destroyFirstPass(!i),i){let s=r.instanceId;this.zombieRowCtrls[s]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[s]})}else r.destroySecondPass()}}),i&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),$ge(n))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),i=bf(this.gos);return e*i}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,i;if(!this.rowModel.isRowsToRender())e=0,i=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();else{let c=this.getRowBufferInPixels(),d=this.ctrlsService.getGridBodyCtrl(),u=this.gos.get("suppressRowVirtualisation"),h=!1,g,p;do{let G=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:J,pageLastPixel:$}=this.pageBoundsService.getCurrentPagePixelRange(),_e=this.rowContainerHeightService.getDivStretchOffset(),Te=d.getScrollFeature().getVScrollPosition(),Pe=Te.top,$e=Te.bottom;u?(g=J+_e,p=$+_e):(g=Math.max(Pe+G-c,J)+_e,p=Math.min($e+G+c,$)+_e),this.firstVisibleVPixel=Math.max(Pe+G,J)+_e,this.lastVisibleVPixel=Math.min($e+G,$)+_e,h=this.ensureAllRowsInRangeHaveHeightsCalculated(g,p)}while(h);let f=this.rowModel.getRowIndexAtPixel(g),y=this.rowModel.getRowIndexAtPixel(p),M=this.pageBoundsService.getFirstRow(),k=this.pageBoundsService.getLastRow();f<M&&(f=M),y>k&&(y=k),e=f,i=y}let n=ir(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);n&&!o&&i-e>r&&(i=e+r);let s=e!==this.firstRenderedRow,l=i!==this.lastRenderedRow;(s||l)&&(this.firstRenderedRow=e,this.lastRenderedRow=i,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,i){let n=this.pinnedRowModel?.ensureRowHeightsValid(),o=this.stickyRowFeature?.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,i,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||o)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),o||r||n?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){let o=e.getRowNode(),r=this.focusService.isRowNodeFocused(o),s=e.isEditing(),l=o.detail;return r||s||l?!!this.isRowPresent(o):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,i,n){let o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;let r=this.gos.get("suppressAnimationFrame"),s=n&&!r&&!this.printLayout;return new xf(e,this.beans,i,s,this.printLayout)}getRenderedNodes(){let e=this.rowCtrlsByRowIndex;return Object.values(e).map(i=>i.getRowNode())}getRowByPosition(e){let i,{rowIndex:n}=e;switch(e.rowPinned){case"top":i=this.topRowCtrls[n];break;case"bottom":i=this.bottomRowCtrls[n];break;default:i=this.rowCtrlsByRowIndex[n],i||(i=this.getStickyTopRowCtrls().find(o=>o.getRowNode().rowIndex===n)||null,i||(i=this.getStickyBottomRowCtrls().find(o=>o.getRowNode().rowIndex===n)||null));break}return i}isRangeInRenderedViewport(e,i){if(e==null||i==null)return!1;let o=e>this.lastRenderedRow;return!(i<this.firstRenderedRow)&&!o}},QCe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let i=this.entriesList[0];i.destroyFirstPass(),i.destroySecondPass(),this.removeFromCache(i)}}getRow(e){if(e==null||e.id==null)return null;let i=this.entriesMap[e.id];return i?(this.removeFromCache(i),i.setCached(!1),i.getRowNode()!=e?null:i):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let i=e.id,n=this.entriesMap[i];delete this.entriesMap[i],Nr(this.entriesList,n)}removeFromCache(e){let i=e.getRowNode().id;delete this.entriesMap[i],Nr(this.entriesList,e)}getEntries(){return this.entriesList}},ZCe=class extends Qe{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new yq,this.pinnedBottomRows=new yq}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){let i=n=>{n.setRowHeight(n.rowHeight,!0)};this.pinnedBottomRows.forEach(i),this.pinnedTopRows.forEach(i)}}ensureRowHeightsValid(){let e=!1,i=0,n=o=>{if(o.rowHeightEstimated){let r=Tg(this.gos,o);o.setRowTop(i),o.setRowHeight(r.height),i+=r.height,e=!0}};return this.pinnedBottomRows?.forEach(n),i=0,this.pinnedTopRows?.forEach(n),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,i){this.updateNodesFromRowData(e,i),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,i){let n=i==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){n.clear();return}let o=g0(this.gos),r=i==="top"?mh.ID_PREFIX_TOP_PINNED:mh.ID_PREFIX_BOTTOM_PINNED,s=n.getIds(),l=[],c=new Set,d=0,u=-1;for(let h of e){let g=o?.({data:h,level:0,rowPinned:i})??r+this.nextId++;if(c.has(g)){et("Duplicate ID",g,"found for pinned row with data",h,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}u++,c.add(g),l.push(g);let p=n.getById(g);if(p!==void 0)p.data!==h&&p.setData(h),d+=this.setRowTopAndRowIndex(p,d,u),s.delete(g);else{let f=new mh(this.beans);f.id=g,f.data=h,f.rowPinned=i,d+=this.setRowTopAndRowIndex(f,d,u),n.push(f)}}s.forEach(h=>{n.getById(h)?.clearRowTopAndRowIndex()}),n.removeAllById(s),n.setOrder(l)}setRowTopAndRowIndex(e,i,n){return e.setRowTop(i),e.setRowHeight(Tg(this.gos,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,i){return i==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,i){return e==="top"?this.pinnedTopRows.forEach(i):this.pinnedBottomRows.forEach(i)}getTotalHeight(e){let i=e.getSize();if(i===0)return 0;let n=e.getByIndex(i-1);return n===void 0?0:n.rowTop+n.rowHeight}},yq=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){let i=this.ordering[e];return this.cache[i]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(let i of e)delete this.cache[i];this.ordering=this.ordering.filter(i=>!e.has(i))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((i,n)=>{let o=this.cache[i];o&&e(o,n)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}};var XCe=class extends Qe{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,i){this.successCommon(e,i)}pageLoaded(e,i,n){this.successCommon(e,{rowData:i,rowCount:n})}isRequestMostRecentAndLive(e){let i=e===this.version,n=this.isAlive();return i&&n}successCommon(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(i))}dispatchLoadCompleted(e=!0){let i={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(i)}},JCe=class extends Qe{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Lr(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){let e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Nr(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&Ks("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.getAvailableLoadingCount(),i=this.blocks.filter(n=>n.getState()==="needsLoading").slice(0,e);this.registerLoads(i.length),i.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){if(Ch(this.gos))return this.rowModel.getBlockStates();let e={};return this.blocks.forEach(i=>{let{id:n,state:o}=i.getBlockStateJson();e[n]=o}),e}printCacheStatus(){this.gos.get("debug")&&Ks(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},ewe={version:Qt,moduleName:"@ag-grid-community/row-node-block",beans:[JCe]},twe=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),i=this.getEnd();if(e==null||i==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,i)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(i=>i.id===e.id)}getRoot(){return this.root&&this.root?.key===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&this.end?.key===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){let i=this.getRange();if(i.length===0)return{keep:[],discard:[]};let n=i[0].id===this.root.id,o=i.findIndex(r=>r.id===e.id);if(o>-1){let r=i.slice(0,o),s=i.slice(o+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:i,discard:[]}}extend(e,i=!1){let n=this.getRoot();if(n==null){let r=this.getRange().slice();return i&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(n,e).find(r=>r.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},iwe=class extends Qe{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,i,n,o){this.processClassRules(void 0,e.cellClassRules,i,n,o),this.processStaticCellClasses(e,i,n)}processClassRules(e,i,n,o,r){if(i==null&&e==null)return;let s={},l={},c=(d,u)=>{d.split(" ").forEach(h=>{h.trim()!=""&&u(h)})};if(i){let d=Object.keys(i);for(let u=0;u<d.length;u++){let h=d[u],g=i[h],p;typeof g=="string"?p=this.expressionService.evaluate(g,n):typeof g=="function"&&(p=g(n)),c(h,f=>{p?s[f]=!0:l[f]=!0})}}e&&r&&Object.keys(e).forEach(d=>c(d,u=>{s[u]||(l[u]=!0)})),r&&Object.keys(l).forEach(r),Object.keys(s).forEach(o)}getStaticCellClasses(e,i){let{cellClass:n}=e;if(!n)return[];let o;return typeof n=="function"?o=n(i):o=n,typeof o=="string"&&(o=[o]),o||[]}processStaticCellClasses(e,i,n){this.getStaticCellClasses(e,i).forEach(r=>{n(r)})}};var nwe=class extends Qe{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:i,eTopGuard:n,eBottomGuard:o,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:l,focusInnerElement:c,onFocusIn:d,onFocusOut:u,shouldStopEventPropagation:h,onTabKeyDown:g,handleKeyDown:p,eFocusableElement:f}=e;this.comp=i,this.eTopGuard=n,this.eBottomGuard=o,this.providedFocusInnerElement=c,this.eFocusableElement=f,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!l,this.providedFocusIn=d,this.providedFocusOut=u,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=g,this.providedHandleKeyDown=p}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Mf(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)}findNextElementOutsideAndFocus(e){let i=so(this.gos),n=this.focusService.findFocusableElements(i.body,null,!0),o=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(o===-1)return;let r,s;e?(r=0,s=o):(r=o+1,s=n.length);let l=n.slice(r,s),c=this.gos.get("tabIndex");l.sort((d,u)=>{let h=parseInt(d.getAttribute("tabindex")||"0"),g=parseInt(u.getAttribute("tabindex")||"0");return g===c?1:h===c?-1:h===0?1:g===0?-1:h-g}),l[e?l.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){let i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,i){return e===this.eTopGuard&&!i||e===this.eBottomGuard&&(i??!0)}setAllowFocus(e){this.allowFocus=e}},owe=class extends Qe{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:i,eBottomGuard:n,eFocusableElement:o}=this,r=[i,n],s={setTabIndex:M=>{r.forEach(k=>M!=null?k.setAttribute("tabindex",M):k.removeAttribute("tabindex"))}};this.addTabGuards(i,n);let{focusTrapActive:l=!1,onFocusIn:c,onFocusOut:d,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:g,shouldStopEventPropagation:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:y}=e;this.tabGuardCtrl=this.createManagedBean(new nwe({comp:s,focusTrapActive:l,eTopGuard:i,eBottomGuard:n,eFocusableElement:o,onFocusIn:c,onFocusOut:d,focusInnerElement:u,handleKeyDown:h,onTabKeyDown:g,shouldStopEventPropagation:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:y}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let i=so(this.gos).createElement("div"),n=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return i.classList.add("ag-tab-guard",n),rs(i,"presentation"),i}addTabGuards(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];vr(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,i,n){V6(i)||(i=i.getGui());let{eBottomGuard:o}=this;o?o.insertAdjacentElement("beforebegin",i):e(i,n)}},lY=class extends zi{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new owe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,i)}},rwe=0,swe=200,awe=class extends Qe{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:i,ePopup:n}=e,o=this.getPopupIndex(n);if(o!==-1){let f=this.popupList[o];f.alignedToElement=i}let r=i.getBoundingClientRect(),s=this.getParentRect(),l=this.keepXYWithinBounds(n,r.top-s.top,0),c=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${c}px`;let u=s.right-s.left-c,h;this.gos.get("enableRtl")?(h=p(),h<0&&(h=g(),this.setAlignedStyles(n,"left")),h>u&&(h=0,this.setAlignedStyles(n,"right"))):(h=g(),h>u&&(h=p(),this.setAlignedStyles(n,"right")),h<0&&(h=0,this.setAlignedStyles(n,"left"))),n.style.left=`${h}px`,n.style.top=`${l}px`;function g(){return r.right-s.left-2}function p(){return r.left-s.left-c}}positionPopupUnderMouseEvent(e){let{ePopup:i,nudgeX:n,nudgeY:o,skipObserver:r}=e;this.positionPopup({ePopup:i,nudgeX:n,nudgeY:o,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let i=this.getParentRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}positionPopupByComponent(e){let{ePopup:i,nudgeX:n,nudgeY:o,keepWithinBounds:r,eventSource:s,alignSide:l="left",position:c="over",column:d,rowNode:u,type:h}=e,g=s.getBoundingClientRect(),p=this.getParentRect(),f=this.getPopupIndex(i);if(f!==-1){let M=this.popupList[f];M.alignedToElement=s}let y=()=>{let M=g.left-p.left;l==="right"&&(M-=i.offsetWidth-g.width);let k;return c==="over"?(k=g.top-p.top,this.setAlignedStyles(i,"over")):(this.setAlignedStyles(i,"under"),this.shouldRenderUnderOrAbove(i,g,p,e.nudgeY||0)==="under"?k=g.top-p.top+g.height:k=g.top-i.offsetHeight-(o||0)*2-p.top),{x:M,y:k}};this.positionPopup({ePopup:i,nudgeX:n,nudgeY:o,keepWithinBounds:r,updatePosition:y,postProcessCallback:()=>this.callPostProcessPopup(h,i,s,null,d,u)})}shouldRenderUnderOrAbove(e,i,n,o){let r=n.bottom-i.bottom,s=i.top-n.top,l=e.offsetHeight+o;return r>l?"under":s>l||s>r?"above":"under"}setAlignedStyles(e,i){let n=this.getPopupIndex(e);if(n===-1)return;let o=this.popupList[n],{alignedToElement:r}=o;!r||(["right","left","over","above","under"].forEach(l=>{r.classList.remove(`ag-has-popup-positioned-${l}`),e.classList.remove(`ag-popup-positioned-${l}`)}),!i)||(r.classList.add(`ag-has-popup-positioned-${i}`),e.classList.add(`ag-popup-positioned-${i}`))}callPostProcessPopup(e,i,n,o,r,s){let l=this.gos.getCallback("postProcessPopup");l&&l({column:r,rowNode:s,ePopup:i,type:e,eventSource:n,mouseEvent:o})}positionPopup(e){let{ePopup:i,keepWithinBounds:n,nudgeX:o,nudgeY:r,skipObserver:s,updatePosition:l}=e,c={width:0,height:0},d=(u=!1)=>{let{x:h,y:g}=l();u&&i.clientWidth===c.width&&i.clientHeight===c.height||(c.width=i.clientWidth,c.height=i.clientHeight,o&&(h+=o),r&&(g+=r),n&&(h=this.keepXYWithinBounds(i,h,1),g=this.keepXYWithinBounds(i,g,0)),i.style.left=`${h}px`,i.style.top=`${g}px`,e.postProcessCallback&&e.postProcessCallback())};if(d(),!s){let u=this.resizeObserverService.observeResize(i,()=>d(!0));setTimeout(()=>u(),swe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){let e=so(this.gos),i=this.getPopupParent();return i===e.body?i=e.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),dK(i)}keepXYWithinBounds(e,i,n){let o=n===0,r=o?"clientHeight":"clientWidth",s=o?"top":"left",l=o?"height":"width",c=o?"scrollTop":"scrollLeft",d=so(this.gos),u=d.documentElement,h=this.getPopupParent(),g=e.getBoundingClientRect(),p=h.getBoundingClientRect(),f=d.documentElement.getBoundingClientRect(),y=h===d.body,M=Math.ceil(g[l]),G=y?(o?cK:ik)(u)+u[c]:h[r];y&&(G-=Math.abs(f[s]-p[s]));let J=G-M;return Math.min(Math.max(i,0),Math.abs(J))}addPopup(e){let i=so(this.gos),{eChild:n,ariaLabel:o,alwaysOnTop:r,positionCallback:s,anchorToElement:l}=e;if(!i)return et("could not find the document, document is empty"),{hideFunc:()=>{}};let c=this.getPopupIndex(n);if(c!==-1)return{hideFunc:this.popupList[c].hideFunc};this.initialisePopupPosition(n);let d=this.createPopupWrapper(n,o,!!r),u=this.addEventListenersToPopup(At(We({},e),{wrapperEl:d}));return s&&s(),this.addPopupToPopupList(n,d,u,l),{hideFunc:u}}initialisePopupPosition(e){let n=this.getPopupParent().getBoundingClientRect();rt(e.style.top)||(e.style.top=`${n.top*-1}px`),rt(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,i,n){let o=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||rs(e,"dialog"),d0(e,i),r.appendChild(e),o.appendChild(r),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(let i of this.popupList)this.environment.applyThemeClasses(i.wrapper)}addEventListenersToPopup(e){let i=so(this.gos),n=this.getPopupParent(),{wrapperEl:o,eChild:r,closedCallback:s,afterGuiAttached:l,closeOnEsc:c,modal:d}=e,u=!1,h=y=>{if(!o.contains(Ln(this.gos)))return;y.key===Ze.ESCAPE&&!fh(y)&&f({keyboardEvent:y})},g=y=>f({mouseEvent:y}),p=y=>f({touchEvent:y}),f=(y={})=>{let{mouseEvent:M,touchEvent:k,keyboardEvent:G,forceHide:J}=y;!J&&(this.isEventFromCurrentPopup({mouseEvent:M,touchEvent:k},r)||u)||(u=!0,n.removeChild(o),i.removeEventListener("keydown",h),i.removeEventListener("mousedown",g),i.removeEventListener("touchstart",p),i.removeEventListener("contextmenu",g),this.eventService.removeEventListener("dragStarted",g),s&&s(M||k||G),this.removePopupFromPopupList(r))};return l&&l({hidePopup:f}),window.setTimeout(()=>{c&&i.addEventListener("keydown",h),d&&(i.addEventListener("mousedown",g),this.eventService.addEventListener("dragStarted",g),i.addEventListener("touchstart",p),i.addEventListener("contextmenu",g))},0),f}addPopupToPopupList(e,i,n,o){this.popupList.push({element:e,wrapper:i,hideFunc:n,instanceId:rwe++,isAnchored:!!o}),o&&this.setPopupPositionRelatedToElement(e,o)}getPopupIndex(e){return this.popupList.findIndex(i=>i.element===e)}setPopupPositionRelatedToElement(e,i){let n=this.getPopupIndex(e);if(n===-1)return;let o=this.popupList[n];if(o.stopAnchoringPromise&&o.stopAnchoringPromise.then(s=>s&&s()),o.stopAnchoringPromise=void 0,o.isAnchored=!1,!i)return;let r=this.keepPopupPositionedRelativeTo({element:i,ePopup:e,hidePopup:o.hideFunc});return o.stopAnchoringPromise=r,o.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(i=>i.element!==e)}keepPopupPositionedRelativeTo(e){let i=this.getPopupParent(),n=i.getBoundingClientRect(),{element:o,ePopup:r}=e,s=o.getBoundingClientRect(),l=g=>parseInt(g.substring(0,g.length-1),10),c=(g,p)=>{let f=n[g]-s[g],y=l(r.style[g]);return{initialDiff:f,lastDiff:f,initial:y,last:y,direction:p}},d=c("top",0),u=c("left",1),h=this.getFrameworkOverrides();return new ys(g=>{h.wrapIncoming(()=>{h.setInterval(()=>{let p=i.getBoundingClientRect(),f=o.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return}let M=(k,G)=>{let J=l(r.style[G]);k.last!==J&&(k.initial=J,k.last=J);let $=p[G]-f[G];if($!=k.lastDiff){let _e=this.keepXYWithinBounds(r,k.initial+k.initialDiff-$,k.direction);r.style[G]=`${_e}px`,k.last=_e}k.lastDiff=$};M(d,"top"),M(u,"left")},200).then(p=>{g(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,i){let{mouseEvent:n,touchEvent:o}=e,r=n||o;if(!r)return!1;let s=this.getPopupIndex(i);if(s===-1)return!1;for(let l=s;l<this.popupList.length;l++){let c=this.popupList[l];if(upe(c.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){let i=so(this.gos);for(;e&&e!==i.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,i){let n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(n))}bringPopupToFront(e){let i=this.getPopupParent(),n=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),o=n.length,r=this.getWrapper(e);if(!r||o<=1||!i.contains(e))return;let s=[],l=[];for(let p of n)p!==r&&(p.classList.contains("ag-always-on-top")?l.push(p):s.push(p));let c=[],d=l.length,g=r.classList.contains("ag-always-on-top")||!d?[...s,...l,r]:[...s,r,...l];for(let p=0;p<=o;p++){let f=g[p];if(n[p]===g[p]||f===r)continue;f.querySelectorAll("div").forEach(M=>{M.scrollTop!==0&&c.push([M,M.scrollTop])}),p===0?i.insertAdjacentElement("afterbegin",f):g[p-1].insertAdjacentElement("afterend",f)}for(;c.length;){let p=c.pop();p[0].scrollTop=p[1]}}},lwe=["touchstart","touchend","touchmove","touchcancel"],n4=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=i=>i(),this.wrapOutgoing=i=>i()}setInterval(e,i){return new ys(n=>{n(window.setInterval(e,i))})}addEventListener(e,i,n,o){let r=yf(lwe,i);e.addEventListener(i,n,{capture:!!o,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},cwe=class extends Qe{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,i,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,i):this.getNextCellToFocusWithoutCtrlPressed(e,i)}getNextCellToFocusWithCtrlPressed(e,i){let n=e===Ze.UP,o=e===Ze.DOWN,r=e===Ze.LEFT,s,l;if(n||o)l=n?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=i.column;else{let c=this.visibleColsService.getAllCols(),d=this.gos.get("enableRtl");l=i.rowIndex,s=r!==d?c[0]:Li(c)}return{rowIndex:l,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,i){let n=i,o=!1;for(;!o;){switch(e){case Ze.UP:n=this.getCellAbove(n);break;case Ze.DOWN:n=this.getCellBelow(n);break;case Ze.RIGHT:this.gos.get("enableRtl")?n=this.getCellToLeft(n):n=this.getCellToRight(n);break;case Ze.LEFT:this.gos.get("enableRtl")?n=this.getCellToRight(n):n=this.getCellToLeft(n);break;default:n=null,et("unknown key for navigation ",e);break}n?o=this.isCellGoodToFocusOn(n):o=!0}return n}isCellGoodToFocusOn(e){let i=e.column,n;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex);break}return n?!i.isSuppressNavigable(n):!1}getCellToLeft(e){if(!e)return null;let i=this.visibleColsService.getColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let i=this.visibleColsService.getColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getRowBelow(e){let i=e.rowIndex,n=e.rowPinned,o=!1;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(o=!0);let r=this.rowModel.getRow(e.rowIndex),s=o?void 0:this.getNextStickyPosition(r);return s||{rowIndex:i+1,rowPinned:n}}getNextStickyPosition(e,i){if(!ck(this.gos)||!e||!e.sticky)return;let n=this.rowRenderer.getStickyTopRowCtrls().some(c=>c.getRowNode().rowIndex===e.rowIndex),o=[];n?o=[...this.rowRenderer.getStickyTopRowCtrls()].sort((c,d)=>c.getRowNode().rowIndex-d.getRowNode().rowIndex):o=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((c,d)=>d.getRowNode().rowIndex-c.getRowNode().rowIndex);let r=i?-1:1,s=o.findIndex(c=>c.getRowNode().rowIndex===e.rowIndex),l=o[s+r];if(l)return{rowIndex:l.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;let i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}isLastRowInContainer(e){let i=e.rowPinned,n=e.rowIndex;return i==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=n:i==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=n:this.pageBoundsService.getLastRow()<=n}getRowAbove(e){let i=e.rowIndex,n=e.rowPinned,o=n?i===0:i===this.pageBoundsService.getFirstRow(),r=!1;if(o)return n==="top"?null:n?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;n&&(r=!0);let s=this.rowModel.getRow(e.rowIndex),l=r?void 0:this.getNextStickyPosition(s,!0);return l||{rowIndex:i-1,rowPinned:n}}getCellAbove(e){if(!e)return null;let i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let i=this.visibleColsService.getAllCols(),n=e.rowIndex,o=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=i[0];let s=this.getRowBelow(e);if(Ai(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??!0))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}}getNextTabbedCellBackwards(e){let i=this.visibleColsService.getAllCols(),n=e.rowIndex,o=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=Li(i);let s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ai(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??!0))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}}},Ar=(e,i)=>{for(let n in i)i[n]=e;return i},Sq=We(We(We(We(We(We(We(We(We(We(We(We(We(We(We({},Ar("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),Ar("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),Ar("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0})),Ar("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),Ar("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),Ar("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),Ar("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),Ar("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),Ar("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),Ar("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0})),Ar("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),Ar("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),Ar("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),Ar("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),Ar("@ag-grid-enterprise/status-bar",{getStatusPanel:0})),i6={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},dwe=(e,i)=>e.eventService.dispatchEvent(i),cY=class{};Reflect.defineProperty(cY,"name",{value:"GridApi"});var uwe=class extends Qe{constructor(){super(),this.beanName="apiFunctionService",this.api=new cY,this.fns=At(We({},i6),{dispatchEvent:dwe}),this.beans=null,this.preDestroyLink="";let{api:e}=this;for(let i in Sq)e[i]=this.makeApi(i)[i]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,i){let{fns:n,beans:o}=this;n!==i6&&(n[e]=o?.validationService?.validateApiFunction(e,i)??i)}makeApi(e){return{[e]:(...i)=>{let{beans:n,fns:{[e]:o}}=this;return o?o(n,...i):this.apiNotFound(e)}}}apiNotFound(e){let{beans:i,gos:n,preDestroyLink:o}=this;if(!i)et(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${o}`);else{let r=Sq[e];n.assertModuleRegistered(r,`api.${e}`)&&et(`API function '${e}' not registered to module '${r}'`)}}destroy(){super.destroy(),this.fns=i6,this.beans=null}};function hwe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var gwe=class extends Qe{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,i,n){let o=[],r={};return e.forEach(s=>{let l=this.createDefFromColumn(s,i,n),c=!0,d=l,u=s.getOriginalParent(),h=null;for(;u;){let g=null;if(u.isPadding()){u=u.getOriginalParent();continue}let p=r[u.getGroupId()];if(p){p.children.push(d),c=!1;break}if(g=this.createDefFromGroup(u),g&&(g.children=[d],r[g.groupId]=g,d=g,u=u.getOriginalParent()),u!=null&&h===u){c=!1;break}h=u}c&&o.push(d)}),o}createDefFromGroup(e){let i=u6(e.getColGroupDef(),["children"]);return i&&(i.groupId=e.getGroupId()),i}createDefFromColumn(e,i,n){let o=u6(e.getColDef());return o.colId=e.getColId(),o.width=e.getActualWidth(),o.rowGroup=e.isRowGroupActive(),o.rowGroupIndex=e.isRowGroupActive()?i.indexOf(e):null,o.pivot=e.isPivotActive(),o.pivotIndex=e.isPivotActive()?n.indexOf(e):null,o.aggFunc=e.isValueActive()?e.getAggFunc():null,o.hide=e.isVisible()?void 0:!0,o.pinned=e.isPinned()?e.getPinned():null,o.sort=e.getSort()?e.getSort():null,o.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,o}},pwe=class extends Qe{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,i){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:i})}genericColumnEvent(e,i,n){this.eventService.dispatchEvent({type:e,columns:i,column:i.length===1?i[0]:null,source:n})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){let{movedColumns:i,source:n,toIndex:o,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:i,column:i&&i.length===1?i[0]:null,toIndex:o,finished:r,source:n})}columnPinned(e,i){if(!e.length)return;let n=e.length===1?e[0]:null,o=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:o??null,columns:e,column:n,source:i})}columnVisible(e,i){if(!e.length)return;let n=e.length===1?e[0]:null,o=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:o,columns:e,column:n,source:i})}getCommonValue(e,i){if(!e||e.length==0)return;let n=i(e[0]);for(let o=1;o<e.length;o++)if(n!==i(e[o]))return;return n}columnChanged(e,i,n){this.eventService.dispatchEvent({type:e,columns:i,column:i&&i.length==1?i[0]:null,source:n})}columnResized(e,i,n,o=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:i,source:n})}},fwe=class extends Qe{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){let e=this.columnModel.getColDefCols();if(Ai(e)||!this.columnModel.isAlive())return[];let n=this.columnModel.getAllCols().map(o=>this.createStateItemFromColumn(o));return this.orderColumnStateList(n),n}createStateItemFromColumn(e){let i=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns(),o=e.isRowGroupActive()?i.indexOf(e):null,r=e.isPivotActive()?n.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,l=e.getSort()!=null?e.getSort():null,c=e.getSortIndex()!=null?e.getSortIndex():null,d=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:l,sortIndex:c,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:o,pivot:e.isPivotActive(),pivotIndex:r,flex:d}}orderColumnStateList(e){let i=this.columnModel.getCols(),n=new Map(i.map((o,r)=>[o.getColId(),r]));e.sort((o,r)=>{let s=n.has(o.colId)?n.get(o.colId):-1,l=n.has(r.colId)?n.get(r.colId):-1;return s-l})}},mwe=class extends Qe{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){let e=[],i=this.columnModel.getColTree();return vh(null,i,n=>{Fr(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){let i=this.columnModel.getColDefColTree();if(!i)return;let n=[];vh(null,i,o=>{if(Fr(o)){let r=o.getColGroupDef(),s={groupId:o.getGroupId(),open:r?r.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,i){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();let o=[];e.forEach(r=>{let s=r.groupId,l=r.open,c=this.columnModel.getProvidedColGroup(s);c&&c.isExpanded()!==l&&(c.setExpanded(l),o.push(c))}),this.visibleColsService.refresh(i,!0),o.length&&this.eventDispatcher.groupOpened(o),this.columnAnimationService.finish()}},vwe=class extends Qe{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,i,n=!1){let o=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&i===this.scrollPosition&&!o)){if(this.scrollWidth=e,this.scrollPosition=i,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){let s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(n)}}getHeadersToRender(e,i){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[i];break;case"right":n=this.rowsOfHeadersToRenderRight[i];break;default:n=this.rowsOfHeadersToRenderCenter[i];break}return n||[]}extractViewportColumns(){let e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let i=e.getLeft()||0,n=i+e.getActualWidth(),o=this.viewportLeft-200,r=this.viewportRight+200,s=i<o&&n<o,l=i>r&&n>r;return!s&&!l}getViewportColumns(){let e=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(i)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;let i=r=>{let s=r.getLeft();return rt(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),o=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,o,n,i)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};let e={},i=this.visibleColsService.getLeftCols(),n=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(i).concat(n).forEach(s=>e[s.getId()]=!0);let r=(s,l,c)=>{let d=!1;for(let u=0;u<s.length;u++){let h=s[u],g=!1;if(Pg(h))g=e[h.getId()]===!0;else{let f=h.getDisplayedChildren();f&&(g=r(f,l,c+1))}g&&(d=!0,l[c]||(l[c]=[]),l[c].push(h))}return d};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=o=>`${o.getId()}-${o.getPinned()||"normal"}`;this.extractViewportColumns();let i=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==i;return n&&(this.colsWithinViewportHash=i,this.calculateHeaderRows()),n}},Cwe=class extends Qe{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,i){let n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(i):null}adaptCellRendererFunction(e){class i{refresh(){return!1}getGui(){return this.eGui}init(o){let r=e(o),s=typeof r;if(s==="string"||s==="number"||s==="boolean"){this.eGui=qy("<span>"+r+"</span>");return}if(r==null){this.eGui=qy("<span></span>");return}this.eGui=r}}return i}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},wwe=class extends Qe{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},bwe=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],xq=Object.fromEntries(bwe.map((e,i)=>[e,i]));function ywe(e,i){let n=(e.beanName?xq[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,o=(i.beanName?xq[i.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-o}function Swe(e,i){return e?.beanName==="gridDestroyService"?-1:0}var xwe=class extends Qe{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...i){let n=this.registry[e];if(n!=null)return new n(...i)}},_we=class extends Qe{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>e?.isAlive()??!1)}whenReady(e,i){this.ready?i(this.params):this.readyCallbacks.push(i),e.addDestroyFunc(()=>{let n=this.readyCallbacks.indexOf(i);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,i){this.params[e]=i,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),i.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:i,rightHeader:n}=this.params;return[e,n,i]}getHeaderRowContainerCtrl(e){let i=this.params;switch(e){case"left":return i.leftHeader;case"right":return i.rightHeader;default:return i.centerHeader}}},Dwe=class extends Qe{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){let{rowIndex:i,rowPinned:n,column:o}=e;return this.createIdFromValues({rowIndex:i,column:o,rowPinned:n})}createIdFromValues(e){let{rowIndex:i,rowPinned:n,column:o}=e;return`${i}.${n??"null"}.${o.getId()}`}equals(e,i){let n=e.column===i.column,o=e.rowPinned===i.rowPinned,r=e.rowIndex===i.rowIndex;return n&&o&&r}},Ewe=class extends Qe{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,i){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);let n=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(o=>this.eventService.dispatchEvent(o)),this.events=[]};i?n():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(n)),this.dispatchExpandedDebounced())}},Mwe=class extends Qe{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,i;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:e,rowPinned:i}}getLastRow(){let e,i=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return n?(i="bottom",e=n-1):this.rowModel.getRowCount()?(i=null,e=this.pageBoundsService.getLastRow()):o&&(i="top",e=o-1),e===void 0?null:{rowIndex:e,rowPinned:i}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,i){return!e&&!i?!0:e&&!i||!e&&i?!1:e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned}before(e,i){switch(e.rowPinned){case"top":if(i.rowPinned!=="top")return!0;break;case"bottom":if(i.rowPinned!=="bottom")return!1;break;default:if(rt(i.rowPinned))return i.rowPinned!=="top";break}return e.rowIndex<i.rowIndex}},_q={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Dq={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Eq={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},kwe=class extends Qe{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(_q),this.getSizeEl(Dq),this.getSizeEl(Eq)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(_q)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Dq)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Eq)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){let i=this.getThemeClasses();for(let n of Array.from(e.classList))n.startsWith("ag-theme-")&&!i.includes(n)&&e.classList.remove(n);e.classList.add(...i)}refreshRowHeightVariable(){let e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;let n=`${i}px`;return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),i):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){let i=this.lastKnownValues.get(e);if(i!=null)return i;let n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){let i=this.getSizeEl(e);if(i.offsetParent==null)return"detached";let n=i.offsetWidth;return n===Mq?"no-styles":(this.sizesMeasured=!0,n)}getSizeEl(e){let i=this.sizeEls.get(e);if(i)return i;let n=this.eMeasurementContainer;n||(n=this.eMeasurementContainer=document.createElement("div"),n.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(n),this.eGridDiv.appendChild(n)),i=document.createElement("div"),i.style.width=`var(${e.cssName}, ${Mq}px)`,n.appendChild(i),this.sizeEls.set(e,i);let o=this.measureSizeEl(e);o==="no-styles"&&et(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);let r=this.resizeObserverService.observeResize(i,()=>{let s=this.measureSizeEl(e);s==="detached"||s==="no-styles"||(this.lastKnownValues.set(e,s),s!==o&&(o=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),i}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){let e=new MutationObserver(()=>{let n=this.readAncestorThemeClasses();Iwe(n,this.ancestorThemeClasses)||(this.ancestorThemeClasses=n,this.fireGridStylesChangedEvent("themeChanged"))}),i=this.eGridDiv;for(;i;)e.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv,i=[];for(;e;){let n=Array.from(e.classList).filter(o=>o.startsWith("ag-theme-"));for(let o of n)i.includes(o)||i.unshift(o);e=e.parentElement}return Object.freeze(i)}handleThemeGridOptionChange(){let{gos:e,eMeasurementContainer:i,gridTheme:n}=this,o=e.get("theme")||null;o!==n&&(n?.stopUse(),this.gridTheme=o,o?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),i&&this.applyThemeClasses(i),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},Iwe=(e,i)=>e.length===i.length&&e.findIndex((n,o)=>e[o]!==i[o])===-1,Mq=15538,Rwe=class extends Qe{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new h0}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){let e=QM(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,i,n){this.globalEventService.addEventListener(e,i,n)}removeEventListener(e,i,n){this.globalEventService.removeEventListener(e,i,n)}addGlobalListener(e,i=!1){this.globalEventService.addGlobalListener(e,i)}removeGlobalListener(e,i=!1){this.globalEventService.removeGlobalListener(e,i)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},Awe=(()=>{let e=class $s extends Qe{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(n){this.eGridDiv=n.eGridDiv,this.columnModel=n.columnModel,this.visibleColsService=n.visibleColsService,this.headerNavigationService=n.headerNavigationService,this.headerPositionUtils=n.headerPositionUtils,this.rowRenderer=n.rowRenderer,this.rowPositionUtils=n.rowPositionUtils,this.cellPositionUtils=n.cellPositionUtils,this.navigationService=n.navigationService,this.ctrlsService=n.ctrlsService,this.filterManager=n.filterManager,this.rangeService=n.rangeService,this.advancedFilterService=n.advancedFilterService,this.overlayService=n.overlayService}static addKeyboardModeEvents(n){this.instanceCount>0||(n.addEventListener("keydown",$s.toggleKeyboardMode),n.addEventListener("mousedown",$s.toggleKeyboardMode))}static removeKeyboardModeEvents(n){this.instanceCount>0||(n.removeEventListener("keydown",$s.toggleKeyboardMode),n.removeEventListener("mousedown",$s.toggleKeyboardMode))}static toggleKeyboardMode(n){let o=$s.keyboardModeActive,r=n.type==="keydown";r&&(n.ctrlKey||n.metaKey||n.altKey)||o!==r&&($s.keyboardModeActive=r)}postConstruct(){let n=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:n,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:n,columnRowGroupChanged:n}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,o=>{this.gridCtrl=o.gridCtrl})}registerKeyboardFocusEvents(){let n=so(this.gos);$s.addKeyboardModeEvents(n),$s.instanceCount++,this.addDestroyFunc(()=>{$s.instanceCount--,$s.removeKeyboardModeEvents(n)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;let n=this.focusedCellPosition.column,o=this.columnModel.getCol(n.getId());n!==o&&this.clearFocusedCell()}isKeyboardMode(){return $s.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Ln(this.gos),xf.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Ln(this.gos),gk.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(n,o){let r=n;for(;r;){if(Hy(this.gos,r,o))return!1;r=r.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(n){return this.isCellRestoreFocused(n)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(n,o){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(n),o())})}isCellRestoreFocused(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)}setRestoreFocusedCell(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)}getFocusEventParams(n){let{rowIndex:o,rowPinned:r,column:s}=n,l={rowIndex:o,rowPinned:r,column:s,isFullWidthCell:!1},c=this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:r});return c&&(l.isFullWidthCell=c.isFullWidth()),l}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;let n=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent(We({type:"cellFocusCleared"},n))}setFocusedCell(n){let{column:o,rowIndex:r,rowPinned:s,forceBrowserFocus:l=!1,preventScrollOnBrowserFocus:c=!1}=n,d=this.columnModel.getCol(o);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:r,rowPinned:ph(s),column:d},this.eventService.dispatchEvent(At(We({type:"cellFocused"},this.getFocusEventParams(this.focusedCellPosition)),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c}))}isCellFocused(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)}isRowNodeFocused(n){return this.isRowFocused(n.rowIndex,n.rowPinned)}isHeaderWrapperFocused(n){if(this.focusedHeaderPosition==null)return!1;let o=n.getColumnGroupChild(),r=n.getRowIndex(),s=n.getPinned(),{column:l,headerRowIndex:c}=this.focusedHeaderPosition;return o===l&&r===c&&s==l.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(n,o){this.focusedHeaderPosition={headerRowIndex:n,column:o}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(n){if(this.isHeaderFocusSuppressed())return!1;let{direction:o,fromTab:r,allowUserOverride:s,event:l,fromCell:c,rowWithoutSpanValue:d}=n,{headerPosition:u}=n;if(c&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(s){let h=this.getFocusedHeader(),g=this.headerNavigationService.getHeaderRowCount();if(r){let p=this.gos.getCallback("tabToNextHeader");p&&(u=this.getHeaderPositionFromUserFunc({userFunc:p,direction:o,currentPosition:h,headerPosition:u,headerRowCount:g}))}else{let p=this.gos.getCallback("navigateToNextHeader");if(p&&l){let f={key:l.key,previousHeaderPosition:h,nextHeaderPosition:u,headerRowCount:g,event:l};u=p(f)}}}return u?this.focusProvidedHeaderPosition({headerPosition:u,direction:o,event:l,fromCell:c,rowWithoutSpanValue:d}):!1}focusHeaderPositionFromUserFunc(n){if(this.isHeaderFocusSuppressed())return!1;let{userFunc:o,headerPosition:r,direction:s,event:l}=n,c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount(),u=this.getHeaderPositionFromUserFunc({userFunc:o,direction:s,currentPosition:c,headerPosition:r,headerRowCount:d});return!!u&&this.focusProvidedHeaderPosition({headerPosition:u,direction:s,event:l})}getHeaderPositionFromUserFunc(n){let{userFunc:o,direction:r,currentPosition:s,headerPosition:l,headerRowCount:c}=n,u=o({backwards:r==="Before",previousHeaderPosition:s,nextHeaderPosition:l,headerRowCount:c});return u===!0||u===null?(u===null&&et("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):u===!1?null:u}focusProvidedHeaderPosition(n){let{headerPosition:o,direction:r,fromCell:s,rowWithoutSpanValue:l,event:c}=n,{column:d,headerRowIndex:u}=o;if(u===-1)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(o):this.focusGridView(d);this.headerNavigationService.scrollToColumn(d,r);let g=this.ctrlsService.getHeaderRowContainerCtrl(d.getPinned())?.focusHeader(o.headerRowIndex,d,c)||!1;return g&&(l!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(l??-1),g}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let n=this.visibleColsService.getAllCols()[0];if(!n)return!1;n.getParent()&&(n=this.visibleColsService.getColGroupAtLevel(n,0));let o=this.headerPositionUtils.getHeaderIndexToFocus(n,0);return this.focusHeaderPosition({headerPosition:o,rowWithoutSpanValue:0})}focusLastHeader(n){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;let o=this.headerNavigationService.getHeaderRowCount()-1,r=Li(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:o,column:r},rowWithoutSpanValue:-1,event:n})}focusPreviousFromFirstCell(n){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(n,o){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===ph(o)}findFocusableElements(n,o,r=!1){let s=ife,l=lK;o&&(l+=", "+o),r&&(l+=', [tabindex="-1"]');let c=Array.prototype.slice.apply(n.querySelectorAll(s)).filter(h=>bl(h)),d=Array.prototype.slice.apply(n.querySelectorAll(l));return d.length?((h,g)=>h.filter(p=>g.indexOf(p)===-1))(c,d):c}focusInto(n,o=!1,r=!1){let s=this.findFocusableElements(n,null,r),l=o?Li(s):s[0];return l?(l.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(n,o){if(!o)return null;let r=this.findFocusableElements(n),s=r.indexOf(o);if(s===-1)return null;let l=-1;for(let c=s-1;c>=0;c--)if(r[c].classList.contains("ag-tab-guard-top")){l=c;break}return l<=0?null:r[l-1]}findNextFocusableElement(n=this.eGridDiv,o,r){let s=this.findFocusableElements(n,o?':not([tabindex="-1"])':null),l=Ln(this.gos),c;o?c=s.findIndex(u=>u.contains(l)):c=s.indexOf(l);let d=c+(r?-1:1);return d<0||d>=s.length?null:s[d]}isTargetUnderManagedComponent(n,o){if(!o)return!1;let r=n.querySelectorAll(`.${Mf.FOCUS_MANAGED_CLASS}`);if(!r.length)return!1;for(let s=0;s<r.length;s++)if(r[s].contains(o))return!0;return!1}findTabbableParent(n,o=5){let r=0;for(;n&&m6(n)===null&&++r<=o;)n=n.parentElement;return m6(n)===null?null:n}focusOverlay(n){let o=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!o&&this.focusInto(o,n)}focusGridViewFailed(n,o){return o&&this.focusOverlay(n)||n&&this.focusLastHeader()}focusGridView(n,o=!1,r=!0){if(this.overlayService.isExclusive())return r&&this.focusOverlay(o);if(this.isCellFocusSuppressed())return o&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():r&&this.focusOverlay(o)?!0:this.focusNextGridCoreContainer(!1);let s=o?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){let{rowIndex:l,rowPinned:c}=s;if(n??(n=this.getFocusedHeader()?.column),n&&l!==void 0&&l!==null)return this.navigationService.ensureCellVisible({rowIndex:l,column:n,rowPinned:c}),o&&this.rowRenderer.getRowByPosition(s)?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,o)||(this.setFocusedCell({rowIndex:l,column:n,rowPinned:ph(c),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:l,rowPinned:c,column:n})),!0}return!!(r&&this.focusOverlay(o)||o&&this.focusLastHeader())}isGridFocused(){let n=Ln(this.gos);return!!n&&this.eGridDiv.contains(n)}focusNextGridCoreContainer(n,o=!1){return!o&&this.gridCtrl.focusNextInnerContainer(n)?!0:((o||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)}focusAdvancedFilter(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(n,o){let r=(o?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return n?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(n){this.gridCtrl.addFocusableContainer(n)}removeFocusableContainer(n){this.gridCtrl.removeFocusableContainer(n)}focusGridInnerElement(n){return this.gridCtrl.focusInnerElement(n)}allowFocusForNextGridCoreContainer(n){this.gridCtrl.allowFocusForNextCoreContainer(n)}};return e.keyboardModeActive=!1,e.instanceCount=0,e})(),Twe=Awe,Fwe=class extends Qe{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let e=ir(this.gos,"print"),i=e?0:this.visibleColsService.getColsLeftWidth(),n=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},Pwe=class extends Qe{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,i,n){this.view=e,this.eGridHostDiv=i,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDropService:o,mouseEventService:r,ctrlsService:s,resizeObserverService:l}=this.beans,c={getContainer:()=>this.eGui,isInterestedIn:u=>u===1||u===0,getIconName:()=>"notAllowed"};o.addDropTarget(c),this.addDestroyFunc(()=>o.removeDropTarget(c)),r.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new i4(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});let d=l.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>d()),s.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let i=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:o}=this.getNextFocusableIndex(i,e);if(o<0||o>=i.length)return!1;if(o===0){if(n>0){let r=this.visibleColsService.getAllCols(),s=Li(r);if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(i[o],e)}focusInnerElement(e){let i=this.gos.getCallback("focusGridInnerElement");if(i&&i({fromBottom:!!e}))return!0;let n=this.getFocusableContainers(),o=this.visibleColsService.getAllCols();if(e){if(n.length>1)return this.focusContainer(Li(n),!0);let r=Li(o);if(this.focusService.focusGridView(r,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(o[0]))return!0;for(let r=1;r<n.length;r++)if(this.focusService.focusInto(n[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let i=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:o}=this.getNextFocusableIndex(i,e);if(o===-1||n<0||n>=i.length)return;let r=i[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}getNextFocusableIndex(e,i){let n=Ln(this.gos),o=e.findIndex(s=>s.getGui().contains(n)),r=o+(i?-1:1);return{indexWithFocus:o,nextIndex:r}}focusContainer(e,i){e.setAllowFocus?.(!0);let n=this.focusService.focusInto(e.getGui(),i);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){let e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Lwe=class extends lY{constructor(e){super(),this.gridBody=ft,this.sideBar=ft,this.pagination=ft,this.rootWrapperBody=ft,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:s=>this.addCssClass(s),setGridThemeClass:s=>this.addCssClass(s),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:s=>{this.getGui().style.userSelect=s??"",this.getGui().style.webkitUserSelect=s??""},setCursor:s=>{this.getGui().style.cursor=s??""}},i=this.createManagedBean(new Pwe),n=i.getOptionalSelectors(),o=this.createTemplate(n),r=[eCe,...Object.values(n).filter(s=>!!s)];this.setTemplate(o,r),i.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>i.focusInnerElement(s),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&Ks("Grid removed from DOM")})}updateLayoutClasses(e,i){let n=this.rootWrapperBody.classList;n.toggle("ag-layout-auto-height",i.autoHeight),n.toggle("ag-layout-normal",i.normal),n.toggle("ag-layout-print",i.print),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)}createTemplate(e){let i=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",o=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",r=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",s=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${i}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${n}
                </div>
                ${o}
                ${s}
                ${r}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(i=>{i&&e.push(i)}),e.filter(i=>bl(i.getGui()))}},Nwe=class extends Qe{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],i=typeof e=="function";typeof e=="function"&&(e=e());let n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{if(!r){Hi("alignedGrids contains an undefined option."),i||Hi(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Hi(n());return}if(this.isGridApi(r))return r;let s=r;return"current"in s?s.current?.api:(s.api||Hi(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),s.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:i})=>this.onColumnEvent(i),alignedGridScroll:({event:i})=>this.onScrollEvent(i)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(i=>{i.isDestroyed()||i.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,i){let n=[];return e.columns?e.columns.forEach(o=>{n.push(i(o))}):e.column&&n.push(i(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,i=>i)}getColumnIds(e){return this.extractDataFromEvent(e,i=>i.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":et("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){let{columnModel:i}=this;e.columnGroups.forEach(n=>{let o=null;n&&(o=i.getProvidedColGroup(n.getGroupId())),!(n&&!o)&&i.setColumnGroupOpened(o,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let i=e.column,n=null;if(i&&(n=this.columnModel.getColDefCol(i.getColId())),i&&!n)return;let o=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:s,ctrlsService:l}=this;switch(e.type){case"columnMoved":{let h=e.api.getColumnState().map(g=>({colId:g.colId}));r.applyColumnState({state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let h=e.api.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));r.applyColumnState({state:h},"alignedGridChanged")}break;case"columnPinned":{let h=e.api.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));r.applyColumnState({state:h},"alignedGridChanged")}break;case"columnResized":{let u=e,h={};o.forEach(g=>{h[g.getId()]={key:g.getColId(),newWidth:g.getActualWidth()}}),u.flexColumns?.forEach(g=>{h[g.getId()]&&delete h[g.getId()]}),s.setColumnWidths(Object.values(h),!1,u.finished,"alignedGridChanged");break}}let d=l.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",d)})}},Owe={version:Qt,moduleName:"@ag-grid-community/aligned-grid",beans:[Nwe]};function zwe(e,i){let n=e.columnModel.getColDefCol(i);return n?n.getColDef():null}function Bwe(e){return e.columnModel.getColumnDefs()}function Vwe(e,i){typeof i=="number"?e.columnSizeService.sizeColumnsToFit(i,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(i)}function Hwe(e,i,n){e.columnModel.setColumnGroupOpened(i,n,"api")}function Gwe(e,i,n){return e.visibleColsService.getColumnGroup(i,n)}function jwe(e,i){return e.columnModel.getProvidedColGroup(i)}function Wwe(e,i,n){return e.columnNameService.getDisplayNameForColumn(i,n)||""}function Uwe(e,i,n){return e.columnNameService.getDisplayNameForColumnGroup(i,n)||""}function $we(e,i){return e.columnModel.getColDefCol(i)}function qwe(e){return e.columnModel.getColDefCols()}function Kwe(e,i){return e.columnApplyStateService.applyColumnState(i,"api")}function Ywe(e){return e.columnGetStateService.getColumnState()}function Qwe(e){e.columnApplyStateService.resetColumnState("api")}function Zwe(e){return e.columnGroupStateService.getColumnGroupState()}function Xwe(e,i){e.columnGroupStateService.setColumnGroupState(i,"api")}function Jwe(e){e.columnGroupStateService.resetColumnGroupState("api")}function ebe(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function tbe(e){return e.visibleColsService.isPinningLeft()}function ibe(e){return e.visibleColsService.isPinningRight()}function nbe(e,i){return e.visibleColsService.getColAfter(i)}function obe(e,i){return e.visibleColsService.getColBefore(i)}function rbe(e,i,n){e.columnModel.setColsVisible([i],n,"api")}function sbe(e,i,n){e.columnModel.setColsVisible(i,n,"api")}function abe(e,i,n){e.columnModel.setColsPinned([i],n,"api")}function lbe(e,i,n){e.columnModel.setColsPinned(i,n,"api")}function cbe(e){return e.columnModel.getCols()}function dbe(e){return e.visibleColsService.getLeftCols()}function ube(e){return e.visibleColsService.getCenterCols()}function hbe(e){return e.visibleColsService.getRightCols()}function gbe(e){return e.visibleColsService.getAllCols()}function pbe(e){return e.columnViewportService.getViewportColumns()}function fbe(e,i,n){e.columnMoveService.moveColumns([i],n,"api")}function mbe(e,i,n){e.columnMoveService.moveColumnByIndex(i,n,"api")}function vbe(e,i,n){e.columnMoveService.moveColumns(i,n,"api")}function Cbe(e,i,n,o=!0,r="api"){e.columnSizeService.setColumnWidths([{key:i,newWidth:n}],!1,o,r)}function wbe(e,i,n=!0,o="api"){e.columnSizeService.setColumnWidths(i,!1,n,o)}function bbe(e){return e.visibleColsService.getTreeLeft()}function ybe(e){return e.visibleColsService.getTreeCenter()}function Sbe(e){return e.visibleColsService.getTreeRight()}function xbe(e){return e.visibleColsService.getAllTrees()}function _be(e,i,n){return e.columnAutosizeService.autoSizeCols({colKeys:[i],skipHeader:n,source:"api"})}function Dbe(e,i,n){e.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:n,source:"api"})}function Ebe(e,i){e.columnAutosizeService.autoSizeAllColumns("api",i)}var Mbe=class extends Qe{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(mf(e.source))})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};let i=o=>r=>{let{column:s,node:l,value:c}=r,d=s.getColDef().valueFormatter;return d===o.groupSafeValueFormatter&&(d=o.valueFormatter),this.valueService.formatValue(s,l,c,d)};Object.entries(e).forEach(([o,r])=>{let s=At(We({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)});this.dataTypeDefinitions[o]=s,this.formatValueFuncs[o]=i(s)});let n=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(n).forEach(([o,r])=>{let s=this.processDataTypeDefinition(r,n,[o],e);s&&(this.dataTypeDefinitions[o]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[o]=r.dataTypeMatcher),this.formatValueFuncs[o]=i(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{let r=this.dataTypeMatchers[o];r&&delete this.dataTypeMatchers[o],this.dataTypeMatchers[o]=r??e[o].dataTypeMatcher})}mergeDataTypeDefinitions(e,i){let n=We(We({},e),i);return e.columnTypes&&i.columnTypes&&i.appendColumnTypes&&(n.columnTypes=[...qM(e.columnTypes),...qM(i.columnTypes)]),n}processDataTypeDefinition(e,i,n,o){let r,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let l=o[s],c=i[s];if(l&&c&&(l=c),!this.validateDataTypeDefinition(e,l,s))return;r=this.mergeDataTypeDefinitions(l,e)}else{if(n.includes(s)){et('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}let l=i[s];if(!this.validateDataTypeDefinition(e,l,s))return;let c=this.processDataTypeDefinition(l,i,[...n,s],o);if(!c)return;r=this.mergeDataTypeDefinitions(c,e)}return At(We({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(e,i,n){return i?i.baseDataType!==e.baseDataType?(et('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(et(`The data type definition ${n} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return i=>{if(i.node?.group){let n=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&n!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(At(We({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(At(We({},i),{value:i.value.value}))}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!e.dataTypeMatcher?.(i.value))return;return e.valueFormatter(i)}}updateColDefAndGetColumnType(e,i,n){let{cellDataType:o}=i,{field:r}=i;if(o===void 0&&(o=e.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(e,i)?this.inferCellDataType(r,n):!1),!o){e.cellDataType=!1;return}let s=this.dataTypeDefinitions[o];if(!s){et(`Missing data type definition - "${o}"`);return}return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,s,n),s.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;let i=this.columnStateUpdatesPendingInference[e.getColId()];if(!i)return;let n=o=>{i.add(o.key)};e.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,i){if(!Wn(this.gos))return!1;let n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(i,n))return!1;let o=i.type===null?e.type:i.type;if(o){let r=this.gos.get("columnTypes")??{};if(qM(o).some(l=>{let c=r[l.trim()];return c&&this.doColDefPropsPreventInference(c,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,i){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,o])=>this.doesColDefPropPreventInference(e,i,n,o))}doesColDefPropPreventInference(e,i,n,o){if(!i[n])return!1;let r=e[n];return r===null?(i[n]=!1,!1):o===void 0?!!r:r===o}inferCellDataType(e,i){if(!e)return;let n,o=this.getInitialData();if(o){let s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Ly(o,e,s)}else this.initWaitForRowData(i);if(n==null)return;let[r]=Object.entries(this.dataTypeMatchers).find(([s,l])=>l(n))??["object"];return r}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let i=this.rowModel.getRootNode().allLeafChildren;if(i?.length)return i[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;let i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();let[n]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{let{firstRowData:r}=o;r&&(n?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,i),this.columnStateUpdatesPendingInference={},i&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,i){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let o={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,l])=>{let c=this.columnModel.getCol(s);if(!c)return;let d=c.getColDef();if(!this.columnModel.resetColDefIntoCol(c,"cellDataTypeInferred"))return;let u=c.getColDef();if(i&&u.type&&u.type!==d.type){let h=this.getUpdatedColumnState(c,l);h.rowGroup&&h.rowGroupIndex==null&&(o[s]=h),h.pivot&&h.pivotIndex==null&&(r[s]=h),n.push(h)}}),i&&n.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(o,r)),n.length&&this.columnApplyStateService.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,i){let n=this.columnApplyStateService.getColumnStateFromColDef(e);return i.forEach(o=>{delete n[o],o==="rowGroup"?delete n.rowGroupIndex:o==="pivot"&&delete n.pivotIndex}),n}checkObjectValueHandlers(e){let i=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=i.valueParser!==n.valueParser,this.hasObjectValueFormatter=i.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let i=e.getColDef();if(i.cellDataType)return this.dataTypeDefinitions[i.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,i){if(i==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(i):!0}validateColDef(e){let i=n=>et(`Cell data type is "object" but no Value ${n} has been provided. Please either provide an object data type definition with a Value ${n}, or set "colDef.value${n}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&i("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&i("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,i,n,o){let r=this.formatValueFuncs[i];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===Ze.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(s,l)=>{let c=this.columnModel.getColDefCol(o),d=c?.getColDef();if(!c||!d)return 0;let u=s==null?"":r({column:c,node:null,value:s}),h=l==null?"":r({column:c,node:null,value:l});return u===h?0:u>h?1:-1},e.keyCreator=r;break}}this.filterManager?.setColDefPropertiesForDataType(e,n,r)}getDefaultDataTypes(){let e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),i=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>n.newValue?.trim?.()===""?null:Number(n.newValue),valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?i("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:o6(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>n.newValue==null?n.newValue:n.newValue?.trim?.()===""?null:String(n.newValue).toLowerCase()==="true",valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>os(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?i("invalidDate","Invalid Date"):Xs(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>os(n)??void 0,dateFormatter:n=>Xs(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>o6(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},kbe={version:Qt,moduleName:"@ag-grid-community/data-type",beans:[Mbe]},Ibe={version:Qt,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:zwe,getColumnDefs:Bwe,sizeColumnsToFit:Vwe,setColumnGroupOpened:Hwe,getColumnGroup:Gwe,getProvidedColumnGroup:jwe,getDisplayNameForColumn:Wwe,getDisplayNameForColumnGroup:Uwe,getColumn:$we,getColumns:qwe,applyColumnState:Kwe,getColumnState:Ywe,resetColumnState:Qwe,getColumnGroupState:Zwe,setColumnGroupState:Xwe,resetColumnGroupState:Jwe,isPinning:ebe,isPinningLeft:tbe,isPinningRight:ibe,getDisplayedColAfter:nbe,getDisplayedColBefore:obe,setColumnVisible:rbe,setColumnsVisible:sbe,setColumnPinned:abe,setColumnsPinned:lbe,getAllGridColumns:cbe,getDisplayedLeftColumns:dbe,getDisplayedCenterColumns:ube,getDisplayedRightColumns:hbe,getAllDisplayedColumns:gbe,getAllDisplayedVirtualColumns:pbe,moveColumn:fbe,moveColumnByIndex:mbe,moveColumns:vbe,setColumnWidth:Cbe,setColumnWidths:wbe,getLeftDisplayedColumnGroups:bbe,getCenterDisplayedColumnGroups:ybe,getRightDisplayedColumnGroups:Sbe,getAllDisplayedColumnGroups:xbe,autoSizeColumn:_be,autoSizeColumns:Dbe,autoSizeAllColumns:Ebe}};function Rbe(e,i){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(i)}function Abe(e,i){let n=e.dragAndDropService.findExternalZone(i);n&&e.dragAndDropService.removeDropTarget(n)}function Tbe(e,i){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(i)}var Fbe={version:Qt,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:Rbe,removeRowDropZone:Abe,getRowDropZoneParams:Tbe}};function Pbe(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Lbe(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function Nbe(e,i){return e.pinnedRowModel.getPinnedTopRow(i)}function Obe(e,i){return e.pinnedRowModel.getPinnedBottomRow(i)}var zbe={version:Qt,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:Pbe,getPinnedBottomRowCount:Lbe,getPinnedTopRow:Nbe,getPinnedBottomRow:Obe}};function Bbe(e){e.overlayService.showLoadingOverlay()}function Vbe(e){e.overlayService.showNoRowsOverlay()}function Hbe(e){e.overlayService.hideOverlay()}var Gbe={version:Qt,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:Bbe,showNoRowsOverlay:Vbe,hideOverlay:Hbe}};function jbe(e,i,n){if(!i)return;let o=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${i}`;n===null?o.removeAttribute(r):o.setAttribute(r,n)}function Wbe(e,i={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(i))}function Ube(e,i={}){let n=o=>et(`Since v31.1 api.flashCells parameter '${o}Delay' is deprecated. Please use '${o}Duration' instead.`);rt(i.fadeDelay)&&n("fade"),rt(i.flashDelay)&&n("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(i))}function $be(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>i.refresh()))}function qbe(e){return e.animationFrameService.isQueueEmpty()}function Kbe(e){e.animationFrameService.flushAllFrames()}function Ybe(e){return{rowHeight:bf(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function Qbe(e,i={}){return e.rowRenderer.getCellRendererInstances(i).map(Oy)}var Zbe={version:Qt,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:jbe,refreshCells:Wbe,flashCells:Ube,refreshHeader:$be,isAnimationFrameQueueEmpty:qbe,flushAllAnimationFrames:Kbe,getSizesForCurrentTheme:Ybe,getCellRendererInstances:Qbe}};function Xbe(e){e.valueCache.expire()}function Jbe(e,i,n){return dY(e,{colKey:i,rowNode:n})}function dY(e,i){let{colKey:n,rowNode:o,useFormatter:r}=i,s=e.columnModel.getColDefCol(n)??e.columnModel.getCol(n);if(Ai(s))return null;let l=e.valueService.getValueForDisplay(s,o);return r?e.valueService.formatValue(s,o,l)??gu(l,!0):l}function eye(e){return e.context.getGridId()}function tye(e){e.gridDestroyService.destroy()}function iye(e){return e.gridDestroyService.isDestroyCalled()}function nye(e,i){return e.gos.get(i)}function oye(e,i,n){uY(e,{[i]:n})}function uY(e,i){e.gos.updateGridOptions({options:i})}function rye(e,i,n){e.apiEventService.addEventListener(i,n)}function sye(e,i,n){e.apiEventService.removeEventListener(i,n)}function aye(e,i){e.apiEventService.addGlobalListener(i)}function lye(e,i){e.apiEventService.removeGlobalListener(i)}function cye(e){return e.focusService.getFocusedCell()}function dye(e){return e.focusService.clearFocusedCell()}function uye(e,i,n,o){e.focusService.setFocusedCell({rowIndex:i,column:n,rowPinned:o,forceBrowserFocus:!0})}function hye(e,i){return e.navigationService.tabToNextCell(!1,i)}function gye(e,i){return e.navigationService.tabToNextCell(!0,i)}function pye(e,i,n=!1){let o=e.headerNavigationService.getHeaderPositionForColumn(i,n);o&&e.focusService.focusHeaderPosition({headerPosition:o})}function fye(e,i,n){let o=e.columnModel.getCol(i);e.menuService.showColumnMenu({column:o,buttonElement:n,positionBy:"button"})}function mye(e,i,n){let o=e.columnModel.getCol(i);if(o||(o=e.columnModel.getColDefCol(i)),!o){Hi(`column '${i}' not found`);return}e.menuService.showColumnMenu({column:o,mouseEvent:n,positionBy:"mouse"})}function vye(e,i){let n=e.columnModel.getCol(i);if(!n){Hi(`column '${i}' not found`);return}e.menuService.showColumnMenu({column:n,positionBy:"auto"})}function Cye(e){e.menuService.hidePopupMenu()}function wye(e,i={}){let n=i?i.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function bye(e,i,n,o,r){e.expansionService.setRowNodeExpanded(i,n,o,r)}function yye(e,i){return e.rowModel.getRowNode(i)}function Sye(e,i,n,o){e.rowRenderer.addRenderedRowListener(i,n,o)}function xye(e){return e.rowRenderer.getRenderedNodes()}function _ye(e,i,n){e.rowModel.forEachNode(i,n)}function Dye(e){return hY(e)}function hY(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function Eye(e){return gY(e)}function gY(e){return e.rowRenderer.getLastVirtualRenderedRow()}function Mye(e,i){return e.rowModel.getRow(i)}function kye(e){return e.rowModel.getRowCount()}function Iye(e){return e.rowModel}function Rye(e,i){if(!i.nodes.every(c=>c.rowPinned?(et("cannot select pinned rows"),!1):c.id===void 0?(et("cannot select node until id for node is known"),!1):!0))return;let{nodes:o,source:r,newValue:s}=i,l=o;e.selectionService.setNodesSelected({nodes:l,source:r??"api",newValue:s})}function Aye(e,i="apiSelectAll"){e.selectionService.selectAllRowNodes({source:i})}function Tye(e,i="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:i})}function Fye(e,i="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:i,justFiltered:!0})}function Pye(e,i="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:i,justFiltered:!0})}function Lye(e,i="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:i,justCurrentPage:!0})}function Nye(e,i="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:i,justCurrentPage:!0})}function Oye(e){return e.selectionService.getSelectedNodes()}function zye(e){return e.selectionService.getSelectedRows()}function Bye(e){e.sortController.onSortChanged("api")}var Vye={version:Qt,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:eye,destroy:tye,isDestroyed:iye,getGridOption:nye,setGridOption:oye,updateGridOptions:uY}},Hye={version:Qt,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:Rye,selectAll:Aye,deselectAll:Tye,selectAllFiltered:Fye,deselectAllFiltered:Pye,selectAllOnCurrentPage:Lye,deselectAllOnCurrentPage:Nye,getSelectedNodes:Oye,getSelectedRows:zye}},Gye={version:Qt,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:wye,setRowNodeExpanded:bye,getRowNode:yye,addRenderedRowListener:Sye,getRenderedNodes:xye,forEachNode:_ye,getFirstDisplayedRow:Dye,getFirstDisplayedRowIndex:hY,getLastDisplayedRow:Eye,getLastDisplayedRowIndex:gY,getDisplayedRowAtIndex:Mye,getDisplayedRowCount:kye,getModel:Iye}},jye={version:Qt,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:ECe,getHorizontalPixelRange:MCe,ensureColumnVisible:rY,ensureIndexVisible:sY,ensureNodeVisible:kCe}},Wye={version:Qt,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:cye,clearFocusedCell:dye,setFocusedCell:uye,setFocusedHeader:pye,tabToNextCell:hye,tabToPreviousCell:gye}},Uye={version:Qt,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:rye,addGlobalListener:aye,removeEventListener:sye,removeGlobalListener:lye}},$ye={version:Qt,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:Xbe,getValue:Jbe,getCellValue:dY}},qye={version:Qt,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:fye,showColumnMenuAfterMouseClick:mye,showColumnMenu:vye,hidePopupMenu:Cye}},Kye={version:Qt,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:Bye}},Yye={version:Qt,moduleName:"@ag-grid-community/api",dependantModules:[Vye,zbe,Hye,Ibe,Gye,Fbe,jye,Gbe,Wye,Uye,Zbe,$ye,qye,Kye]};function Qye(e){return e.stateService?.getState()??{}}function Zye(e){switch(e=We({},e),e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Xye(e)}return e}function Xye(e){return e.cellSelection=Jye(e,"rangeSelection"),e}function Jye(e,i){if(e&&typeof e=="object")return e[i]}var eSe=class extends Qe{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Lr(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Lr(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Lr(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Wn(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Qt),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));let[e,i,n]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return Zye(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());let e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){let e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let i=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:i("aggregation"),columnMoved:i("columnOrder"),columnPinned:i("columnPinning"),columnResized:i("columnSizing"),columnVisible:i("columnVisibility"),columnPivotChanged:i("pivot"),columnPivotModeChanged:i("pivot"),columnRowGroupChanged:i("rowGroup"),sortChanged:i("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:i,rowSelection:n,pagination:o}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),i&&this.setRowGroupExpansionState(i),n&&this.setRowSelectionState(n),o&&this.setPaginationState(o),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());let s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:l=>{(l.newPage||l.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:e,cellSelection:i,focusedCell:n,columnOrder:o}=this.getInitialState();n&&this.setFocusedCellState(n),i&&this.setCellSelectionState(i),e&&this.setScrollState(e),this.setColumnPivotState(!!o?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());let r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){let l=this.getRangeSelectionState();this.updateCachedState("rangeSelection",l),this.updateCachedState("cellSelection",l)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){let e=this.columnModel.isPivotMode(),i=[],n=[],o=[],r=[],s=[],l=[],c=[],d=[],u=[],h=0,g=this.columnGetStateService.getColumnState();for(let p=0;p<g.length;p++){let{colId:f,sort:y,sortIndex:M,rowGroup:k,rowGroupIndex:G,aggFunc:J,pivot:$,pivotIndex:_e,pinned:Te,hide:Pe,width:$e,flex:nt}=g[p];u.push(f),y&&(i[M??h++]={colId:f,sort:y}),k&&(n[G??0]=f),typeof J=="string"&&o.push({colId:f,aggFunc:J}),$&&(r[_e??0]=f),Te&&(Te==="right"?l:s).push(f),Pe&&c.push(f),(nt||$e)&&d.push({colId:f,flex:nt??void 0,width:$e})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}setColumnState(e){let{sort:i,rowGroup:n,aggregation:o,pivot:r,columnPinning:s,columnVisibility:l,columnSizing:c,columnOrder:d,partialColumnState:u}=e,h={},g=k=>{let G=h[k];return G||(G={colId:k},h[k]=G,G)},p=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};i&&(i.sortModel.forEach(({colId:k,sort:G},J)=>{let $=g(k);$.sort=G,$.sortIndex=J}),p.sort=null,p.sortIndex=null),n&&(n.groupColIds.forEach((k,G)=>{let J=g(k);J.rowGroup=!0,J.rowGroupIndex=G}),p.rowGroup=null,p.rowGroupIndex=null),o&&(o.aggregationModel.forEach(({colId:k,aggFunc:G})=>{g(k).aggFunc=G}),p.aggFunc=null),r&&(r.pivotColIds.forEach((k,G)=>{let J=g(k);J.pivot=!0,J.pivotIndex=G}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),p.pivot=null,p.pivotIndex=null),s&&(s.leftColIds.forEach(k=>{g(k).pinned="left"}),s.rightColIds.forEach(k=>{g(k).pinned="right"}),p.pinned=null),l&&(l.hiddenColIds.forEach(k=>{g(k).hide=!0}),p.hide=null),c&&(c.columnSizingModel.forEach(({colId:k,flex:G,width:J})=>{let $=g(k);$.flex=G??null,$.width=J}),p.flex=null);let f=d?.orderedColIds,y=!!f?.length,M=y?f.map(k=>g(k)):Object.values(h);M.length&&(this.columnStates=M,this.columnApplyStateService.applyColumnState({state:M,applyOrder:y,defaultState:p},"gridInitializing"))}setColumnPivotState(e){let i=this.columnStates;this.columnStates=void 0;let n=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(i){let o=[];for(let r of i)this.pivotResultColsService.getPivotResultCol(r.colId)&&o.push(r);this.columnApplyStateService.applyColumnState({state:o,applyOrder:e},"gridInitializing")}n&&this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}}getColumnGroupState(){let e=this.columnGroupStateService.getColumnGroupState(),i=[];return e.forEach(({groupId:n,open:o})=>{o&&i.push(n)}),i.length?{openColumnGroupIds:i}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let i=new Set(e.columnGroup?.openColumnGroupIds),o=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{let s=i.has(r);return s&&i.delete(r),{groupId:r,open:s}});i.forEach(r=>{o.push({groupId:r,open:!0})}),o.length&&(this.columnGroupStates=o),this.columnGroupStateService.setColumnGroupState(o,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);let i=this.filterManager?.getAdvancedFilterModel()??void 0;return e||i?{filterModel:e,advancedFilterModel:i}:void 0}setFilterState(e,i){let{filterModel:n,advancedFilterModel:o}=e??{advancedFilterModel:i};n&&this.filterManager?.setFilterModel(n,"columnFilter"),o&&this.filterManager?.setAdvancedFilterModel(o)}getRangeSelectionState(){let e=this.rangeService?.getCellRanges().map(i=>{let{id:n,type:o,startRow:r,endRow:s,columns:l,startColumn:c}=i;return{id:n,type:o,startRow:r,endRow:s,colIds:l.map(d=>d.getColId()),startColId:c.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:i,rangeService:n,columnModel:o,visibleColsService:r}=this;if(!pu(i)||!n)return;let s=[];if(e.cellRanges.forEach(l=>{let c=[];if(l.colIds.forEach(u=>{let h=o.getCol(u);h&&c.push(h)}),!c.length)return;let d=o.getCol(l.startColId);if(!d){let u=r.getAllCols(),h=new Set(c);d=u.find(g=>h.has(g))}s.push(At(We({},l),{columns:c,startColumn:d}))}),tpe(i)&&ipe(i)&&s.length>1)return et("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:i}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||i?{top:n,left:i}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:i,left:n}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(i,n)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.focusService.getFocusedCell();if(e){let{column:i,rowIndex:n,rowPinned:o}=e;return{colId:i.getColId(),rowIndex:n,rowPinned:o}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:i,rowIndex:n,rowPinned:o}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(i),rowIndex:n,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;let e=this.paginationService.getCurrentPage(),i=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!i))return{page:e,pageSize:i}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){let e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let i=this.getColumnState(),n=!1;Object.entries(i).forEach(([o,r])=>{Vy(r,this.cachedState[o])||(n=!0)}),this.cachedState=We(We({},this.cachedState),i),n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,i){let n=this.cachedState[e];this.setCachedStateValue(e,i),Vy(i,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,i){this.cachedState=At(We({},this.cachedState),{[e]:i})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(i=>this.queuedUpdateSources.add(i)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},pY={version:Qt,moduleName:"@ag-grid-community/state-core",beans:[eSe]},tSe={version:Qt,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:Qye},dependantModules:[pY]},iSe={version:Qt,moduleName:"@ag-grid-community/state",dependantModules:[pY,tSe]};function nSe(e){return e.rowModel.isLastRowIndexKnown()}function oSe(e){return e.paginationService?.getPageSize()??100}function rSe(e){return e.paginationService?.getCurrentPage()??0}function sSe(e){return e.paginationService?.getTotalPages()??1}function aSe(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function lSe(e){e.paginationService?.goToNextPage()}function cSe(e){e.paginationService?.goToPreviousPage()}function dSe(e){e.paginationService?.goToFirstPage()}function uSe(e){e.paginationService?.goToLastPage()}function hSe(e,i){e.paginationService?.goToPage(i)}var gSe=class extends Qe{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;let i=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:i,scrollVisibilityChanged:i}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){let i=()=>{let n=Math.max(bf(this.gos),1),o=Math.floor(e/n);this.paginationService.setPageSize(o,"autoCalculated")};this.isBodyRendered?Lr(()=>i(),50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function pSe(e,i,n){e.addManagedElementListeners(i,{keydown:o=>{if(!o.defaultPrevented&&o.key===Ze.TAB){let r=o.shiftKey;n.findNextFocusableElement(i,!1,r)||n.focusNextGridCoreContainer(r)&&o.preventDefault()}}})}var Ty="paginationPageSizeSelector",fSe=class extends zi{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let i=Number(e);isNaN(i)||i<1||i===this.paginationService.getPageSize()||(this.paginationService.setPageSize(i,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(Ty,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let i=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(i)?this.selectPageSizeComp.setValue(i.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){vr(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Ty)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),i=this.paginationService.getPageSize(),n=!i||!e.includes(i);if(n){let r=this.gos.exists("paginationPageSize"),s=this.gos.get(Ty)!==!0;et(`'paginationPageSize=${i}'${r?"":" (default value)"}, but ${i} is not included in${s?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),s||et(`Either set '${Ty}' to an array that includes ${i} or to 'false' to disable the page size selector.`),e.unshift("")}let o=String(n?"":i);this.selectPageSizeComp?(Lg(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(o,!0)):this.createPageSizeSelectorComp(e,o),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(i=>({value:String(i)}))}createPageSizeSelectorComp(e,i){let n=this.localeService.getLocaleTextFunc(),o=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new $6).addOptions(this.createPageSizeSelectOptions(e)).setValue(i).setAriaLabel(r).setLabel(o).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],i=this.gos.get(Ty);return!Array.isArray(i)||xs(i)?e:[...i].sort((n,o)=>n-o)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},mSe={selector:"AG-PAGE-SIZE-SELECTOR",component:fSe},vSe=class extends lY{constructor(){super(),this.btFirst=ft,this.btPrevious=ft,this.btNext=ft,this.btLast=ft,this.lbRecordCount=ft,this.lbFirstRowOnPage=ft,this.lbLastRowOnPage=ft,this.lbCurrent=ft,this.lbTotal=ft,this.pageSizeComp=ft,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[mSe]);let{btFirst:i,btPrevious:n,btNext:o,btLast:r}=this;this.activateTabIndex([i,n,o,r]),i.insertAdjacentElement("afterbegin",Ss(e?"last":"first",this.gos)),n.insertAdjacentElement("afterbegin",Ss(e?"next":"previous",this.gos)),o.insertAdjacentElement("afterbegin",Ss(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",Ss(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let i=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:i,fn:n}=e;this.addManagedListeners(i,{click:n,keydown:o=>{(o.key===Ze.ENTER||o.key===Ze.SPACE)&&(o.preventDefault(),n())}})}),pSe(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){let i=this.gos.getCallback("paginationNumberFormatter");if(i)return i({value:e});let n=this.localeService.getLocaleTextFunc(),o=n("thousandSeparator",","),r=n("decimalSeparator",".");return Fme(e,o,r)}getTemplate(){let e=this.localeService.getLocaleTextFunc(),i=e("page","Page"),n=e("to","to"),o=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),c=e("lastPage","Last Page"),d=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${d}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${d}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${d}-to">${n}</span>
                    <span id="ag-${d}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${d}-of">${o}</span>
                    <span id="ag-${d}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${d}-start-page">${i}</span>
                        <span id="ag-${d}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${d}-of-page">${o}</span>
                        <span id="ag-${d}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${c}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){let e=this.paginationService.getCurrentPage(),i=this.rowModel.isLastRowIndexKnown(),n=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let o=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||o,this.lastButtonDisabled=!i||o||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,i){Gpe(e,i),e.classList.toggle("ag-disabled",i)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();return e&&i===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages(),n=this.paginationService.getMasterRowCount(),o=e?n:null;if(o===1){let J=this.rowModel.getRow(0);if(J&&J.group&&!(J.groupData||J.aggData)){this.setTotalLabelsToZero();return}}let r=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize(),l,c;this.isZeroPagesToDisplay()?l=c=0:(l=s*r+1,c=l+s-1,e&&c>o&&(c=o));let d=l+s-1,u=!e&&n<d,h=this.formatNumber(l);this.lbFirstRowOnPage.textContent=h;let g,p=this.localeService.getLocaleTextFunc();u?g=p("pageLastRowUnknown","?"):g=this.formatNumber(c),this.lbLastRowOnPage.textContent=g;let y=i>0?r+1:0,M=this.formatNumber(y);this.lbCurrent.textContent=M;let k,G;if(e)k=this.formatNumber(i),G=this.formatNumber(o);else{let J=p("more","more");k=J,G=J}this.lbTotal.textContent=k,this.lbRecordCount.textContent=G,this.announceAriaStatus(h,g,G,M,k)}announceAriaStatus(e,i,n,o,r){let s=this.localeService.getLocaleTextFunc(),l=s("page","Page"),c=s("to","to"),d=s("of","of"),u=`${e} ${c} ${i} ${d} ${n}`,h=`${l} ${o} ${d} ${r}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,this.ariaAnnouncementService.announceValue(h,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},CSe={selector:"AG-PAGINATION",component:vSe},wSe=class extends Qe{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return CSe}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;let i=this.getPageForIndex(e);this.goToPage(i)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return rt(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:rt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:rt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:rt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,i){let n=this.pageSize;switch(i){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(i),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{let o=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=o-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:i=!1,newPage:n=!1,newPageSize:o=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:o,keepRenderedRows:i})}},fY={version:Qt,moduleName:"@ag-grid-community/pagination-core",beans:[wSe,gSe]},bSe={version:Qt,moduleName:"@ag-grid-community/pagination-api",dependantModules:[fY],apiFunctions:{paginationIsLastPageFound:nSe,paginationGetPageSize:oSe,paginationGetCurrentPage:rSe,paginationGetTotalPages:sSe,paginationGetRowCount:aSe,paginationGoToNextPage:lSe,paginationGoToPreviousPage:cSe,paginationGoToFirstPage:dSe,paginationGoToLastPage:uSe,paginationGoToPage:hSe}},ySe={version:Qt,moduleName:"@ag-grid-community/pagination",dependantModules:[fY,bSe]},ns="clientSide",Tr="serverSide",i0="infinite",SSe={onGroupExpandedOrCollapsed:[ns],refreshClientSideRowModel:[ns],isRowDataEmpty:[ns],forEachLeafNode:[ns],forEachNodeAfterFilter:[ns],forEachNodeAfterFilterAndSort:[ns],resetRowHeights:[ns],applyTransaction:[ns],applyTransactionAsync:[ns],flushAsyncTransactions:[ns],getBestCostNodeSelection:[ns],getServerSideSelectionState:[Tr],setServerSideSelectionState:[Tr],applyServerSideTransaction:[Tr],applyServerSideTransactionAsync:[Tr],applyServerSideRowData:[Tr],retryServerSideLoads:[Tr],flushServerSideAsyncTransactions:[Tr],refreshServerSide:[Tr],getServerSideGroupLevelState:[Tr],refreshInfiniteCache:[i0],purgeInfiniteCache:[i0],getInfiniteRowCount:[i0],isLastRowIndexKnown:[i0,Tr],expandAll:[ns,Tr],collapseAll:[ns,Tr],onRowHeightChanged:[ns,Tr],setRowCount:[i0,Tr],getCacheBlockState:[i0,Tr]},xSe={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function _Se(e,i,n){let o=xSe[e];if(o){let{version:s,new:l,old:c,message:d}=o,u=c??e;return(...h)=>{let g=l?`Please use ${l} instead. `:"";return et(`Since ${s} api.${u} is deprecated. ${g}${d??""}`),i.apply(i,h)}}let r=SSe[e];return r?(...s)=>{let l=n.rowModel.getType();if(!r.includes(l)){Hi(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return i.apply(i,s)}:i}var DSe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},kg=(e,i)=>{let n=i.rowModelType??"clientSide";return n==="clientSide"||n==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},ESe={enableRowGroup:kg,rowGroup:kg,rowGroupIndex:kg,enablePivot:kg,enableValue:kg,pivot:kg,pivotIndex:kg,aggFunc:kg,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{let i=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>i.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>n0},MSe={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},kSe=Object.keys(MSe),n0={objectName:"colDef",allProperties:kSe,docsUrl:"column-properties/",deprecations:DSe,validations:ESe},ISe=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),RSe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},ASe=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{let i=e.rowModelType??"clientSide";switch(i){case"clientSide":{let n=`treeData requires 'getDataPath' in the ${i} row model.`;return e.getDataPath?null:n}case"serverSide":{let n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{let i=e.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>n0,defaultColDef:()=>n0,defaultColGroupDef:()=>n0,autoGroupColumnDef:()=>n0,selectionColumnDef:()=>n0}),TSe=()=>({objectName:"gridOptions",allProperties:[...jy.ALL_PROPERTIES,...Wy.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:ISe(),validations:ASe()}),FSe=class extends Qe{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,TSe())}validateApiFunction(e,i){return _Se(e,i,this.beans)}processOptions(e,i){let{validations:n,deprecations:o,allProperties:r,propertyExceptions:s,objectName:l,docsUrl:c}=i;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(o)],r,l,c);let d=new Set;Object.keys(e).forEach(h=>{let g=o[h];if(g)if("renamed"in g){let{renamed:$,version:_e}=g;d.add(`As of v${_e}, ${String(h)} is deprecated. Please use ${String($)} instead.`),e[$]=e[h]}else{let{message:$,version:_e}=g;d.add(`As of v${_e}, ${String(h)} is deprecated. ${$??""}`)}let p=e[h];if(p==null||p===!1)return;let f=n[h],y;if(f)if(typeof f=="function"){let $=f(e,this.gridOptions);if(!$)return;if("objectName"in $){let _e=e[h];if(Array.isArray(_e)){_e.forEach(Te=>{this.processOptions(Te,$)});return}this.processOptions(e[h],$);return}y=$}else y=f;else return;let{module:M,dependencies:k,validate:G,supportedRowModels:J}=y;if(J){let $=this.gridOptions.rowModelType??"clientSide";if(!J.includes($)){d.add(`${String(h)} is not supported with the '${$}' row model.`);return}}if(M){let $=Array.isArray(M)?M:[M],_e=!0;if($.forEach(Te=>{this.gos.assertModuleRegistered(Te,String(h))||(_e=!1,d.add(`${String(h)} is only available when ${Te} is loaded.`))}),!_e)return}if(k){let $=this.checkForRequiredDependencies(h,k,e);if($){d.add($);return}}if(G){let $=G(e,this.gridOptions);if($){d.add($);return}}}),d.size>0&&d.forEach(h=>{et(h)})}checkForRequiredDependencies(e,i,n){let r=Object.entries(i).find(([c,d])=>{let u=n[c];return!d.includes(u)});if(!r)return null;let[s,l]=r;return l.length>1?`'${String(e)}' requires '${s}' to be one of [${l.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${l[0]}.`}checkProperties(e,i,n,o,r){let s=["__ob__","__v_skip","__metadata__"],l=PSe(Object.getOwnPropertyNames(e),[...s,...i,...n],n);if(qs(l,(c,d)=>{let u=`invalid ${o} property '${c}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(u+=`
If you are trying to annotate ${o} with application data, use the '${o}.context' property instead.`),et(u)}),Object.keys(l).length>0&&r){let c=this.getFrameworkOverrides().getDocLink(r);et(`to see all the valid ${o} properties please check: ${c}`)}}};function PSe(e,i,n){let o={},r=e.filter(s=>!i.some(l=>l===s));return r.length>0&&r.forEach(s=>o[s]=yK({inputValue:s,allSuggestions:n}).values),o}var LSe={version:Qt,moduleName:"@ag-grid-community/core"},NSe={version:Qt,moduleName:"@ag-grid-community/core-validations",beans:[FSe]},mY={version:Qt,moduleName:"@ag-grid-community/core-community-features",dependantModules:[LSe,NSe,$Ce,Cve,iSe,kbe,Owe,ySe,Yye]},OSe=class extends Qe{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},KM=new Set(["gridPreDestroyed","fillStart","pasteStart"]),zSe=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",BSe=new Map([...jy.BOOLEAN_PROPERTIES.map(e=>[e,s6]),...jy.NUMBER_PROPERTIES.map(e=>[e,zK]),["groupAggFiltering",e=>typeof e=="function"?e:s6(e)],["pageSize",uu(1)],["autoSizePadding",uu(0)],["keepDetailRowsCount",uu(1)],["rowBuffer",uu(0)],["infiniteInitialRowCount",uu(1)],["cacheOverflowSize",uu(1)],["cacheBlockSize",uu(1)],["serverSideInitialRowCount",uu(1)],["viewportRowModelPageSize",uu(1)],["viewportRowModelBufferSize",uu(0)]]);function vY(e,i){let n=BSe.get(e);return n?n(i):i}function VSe(e){let i={};return Object.entries(e).forEach(([n,o])=>{let r=vY(n,o);i[n]=r}),i}var HSe=(()=>{let e=class CY extends Qe{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new h0,this.globalEventHandlerFactory=n=>(o,r)=>{if(!this.isAlive())return;let s=KM.has(o);if(s&&!n||!s&&n)return;let l=Wy.getCallbackForEvent(o),c=this.gridOptions[l];typeof c=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{c(r)})}}wireBeans(n){this.gridOptions=n.gridOptions,this.eGridDiv=n.eGridDiv,this.validationService=n.validationService,this.environment=n.environment,this.api=n.gridApi,this.gridId=n.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){let n=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),n),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:o})=>{this.updateGridOptions({options:o,force:!0,source:"gridOptionsUpdated"})}})}get(n){return this.gridOptions[n]??RSe[n]}getCallback(n){return this.mergeGridCommonParams(this.gridOptions[n])}exists(n){return rt(this.gridOptions[n])}mergeGridCommonParams(n){return n&&(r=>{let s=r;return s.api=this.api,s.context=this.gridOptionsContext,n(s)})}updateGridOptions({options:n,force:o,source:r="api"}){let s={id:CY.changeSetId++,properties:[]},l=[];Object.entries(n).forEach(([c,d])=>{r==="api"&&Npe[c]&&et(`${c} is an initial property and cannot be updated.`);let u=vY(c,d),h=o||typeof u=="object"&&r==="api",g=this.gridOptions[c];if(h||g!==u){this.gridOptions[c]=u;let p={type:c,currentValue:u,previousValue:g,changeSet:s,source:r};l.push(p)}}),this.validationService?.processGridOptions(this.gridOptions),s.properties=l.map(c=>c.type),l.forEach(c=>{this.gridOptions.debug&&Ks(`Updated property ${c.type} from`,c.previousValue," to ",c.currentValue),this.propertyEventService.dispatchEvent(c)})}addPropertyEventListener(n,o){this.propertyEventService.addEventListener(n,o)}removePropertyEventListener(n,o){this.propertyEventService.removeEventListener(n,o)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(n){let o=n;return o.api=this.api,o.context=this.gridOptionsContext,o}assertModuleRegistered(n,o){return gh.__assertRegistered(n,o,this.gridId)}isModuleRegistered(n){return gh.__isRegistered(n,this.gridId)}};return e.changeSetId=0,e})(),GSe=HSe,jSe=class extends Qe{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,i){let n,o;if(Co(e.column)?n=this.visibleColsService.getGroupAtDirection(e.column,i):(o=`getCol${i}`,n=this.visibleColsService[o](e.column)),!n)return;let{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){let c=[n];for(;n.getParent();)n=n.getParent(),c.push(n);n=c[c.length-1-r]}let{column:s,headerRowIndex:l}=this.getHeaderIndexToFocus(n,r);return{column:s,headerRowIndex:l}}getHeaderIndexToFocus(e,i){let n;if(Co(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){let o=e;n=o.getLeafColumns()[0];let r=n;for(;r!==o;)i++,r=r.getParent()}return{column:n||e,headerRowIndex:i}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(i=>i.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,i){let n=this.getHeaderRowType(i),o=n==="filter",r=n==="column",s=o?e:e.getParent(),l=i-1,c=l;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;c=l,l<0&&(s=e,l=i,c=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:c}}getColumnVisibleChild(e,i,n="After"){let o=this.getHeaderRowType(i),r=e,s=i+1,l=s;if(o==="group"){let c=e.getDisplayedLeafColumns(),d=n==="After"?c[0]:Li(c),u=[],h=d;for(;h.getParent()!==e;)h=h.getParent(),u.push(h);if(r=d,d.isSpanHeaderHeight())for(let g=u.length-1;g>=0;g--){let p=u[g];if(!p.isPadding()){r=p;break}s++}else r=Li(u),r||(r=d)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:l}}getHeaderRowType(e){let i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)}findColAtEdgeForHeaderRow(e,i){let n=this.visibleColsService.getAllCols(),o=n[i==="start"?0:n.length-1];if(!o)return;let s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned())?.getRowType(e);if(s=="group"){let l=this.visibleColsService.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:s==null?-1:e,column:o}}},WSe=class extends Qe{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){let e=this.gos.getCallback("getLocaleText");if(e)return(n,o,r)=>e({key:n,defaultValue:o,variableValues:r});let i=this.gos.get("localeText");return(n,o,r)=>{let s=i&&i[n];if(s&&r&&r.length){let l=0;for(;!(l>=r.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",r[l++])}return s??o}}},USe=class extends Qe{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new A6(this.getFrameworkOverrides())}addEventListener(e,i){let n=this.frameworkEventWrappingService.wrap(i),o=QM(this.gos)&&!KM.has(e),r=o?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventService.addEventListener(e,n,o)}removeEventListener(e,i){let n=this.frameworkEventWrappingService.unwrap(i),r=!!this.asyncEventListeners.get(e)?.delete(n);r||this.syncEventListeners.get(e)?.delete(n),this.eventService.removeEventListener(e,n,r)}addGlobalListener(e){let i=this.frameworkEventWrappingService.wrapGlobal(e);if(QM(this.gos)){let o=(s,l)=>{KM.has(s)&&i(s,l)},r=(s,l)=>{KM.has(s)||i(s,l)};this.globalEventListenerPairs.set(e,{syncListener:o,asyncListener:r}),this.eventService.addGlobalListener(o,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(i),this.eventService.addGlobalListener(i,!1)}removeGlobalListener(e){let i=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(i)){let{syncListener:o,asyncListener:r}=this.globalEventListenerPairs.get(i);this.eventService.removeGlobalListener(o,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(i),this.eventService.removeGlobalListener(i,!1)}destroyEventListeners(e,i){e.forEach((n,o)=>{n.forEach(r=>this.eventService.removeEventListener(o,r,i)),n.clear()}),e.clear()}destroyGlobalListeners(e,i){e.forEach(n=>this.eventService.removeGlobalListener(n,i)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:i})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(i,!0)}),this.globalEventListenerPairs.clear()}},$Se=class extends Qe{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},qSe=class extends Qe{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Ai(this.topRowBounds)||Ai(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){let e=this.topRowBounds?this.topRowBounds.rowTop:0,i=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:i}}calculateBounds(e,i){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(i),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=i),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=rt(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},KSe=class extends Qe{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Lr(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){let e=so(this.gos),i=this.descriptionContainer=e.createElement("div");i.classList.add("ag-aria-description-container"),eK(i,"polite"),Hpe(i,"additions text"),Vpe(i,!0),this.eGridDiv.appendChild(i)}announceValue(e,i){this.pendingAnnouncements.set(i,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(vr(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},YSe=class extends Qe{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,i){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),i();return}let n=o=>{for(;o.length;){let r=o.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),n(this.executeNextFuncs)},0),window.setTimeout(()=>{i(),n(this.executeLaterFuncs)},200)})}},QSe=class extends Qe{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},ZSe=class extends Qe{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Wn(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){et("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,i,n){let o=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(o,i,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;this.state===2?e=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:this.wrapperPadding!==0&&(e=0),this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},XSe=class extends Qe{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){let i=[];return rt(e.extraCssClass)&&i.push(e.extraCssClass),i.push("ag-row"),i.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&i.push("ag-opacity-zero"),i.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&i.push("ag-row-pinned"),e.rowNode.isSelected()&&i.push("ag-row-selected"),e.rowNode.footer&&i.push("ag-row-footer"),i.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&i.push("ag-row-loading"),e.fullWidthRow&&i.push("ag-full-width-row"),e.expandable&&(i.push("ag-row-group"),i.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&i.push("ag-row-dragging"),sq(i,this.processClassesFromGridOptions(e.rowNode)),sq(i,this.preProcessRowClassRules(e.rowNode)),i.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&i.push("ag-row-first"),e.lastRowOnPage&&i.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&i.push("ag-cell-last-left-pinned"),e.pinned==="right"&&i.push("ag-cell-first-right-pinned")),i}processClassesFromGridOptions(e){let i=[],n=s=>{typeof s=="string"?i.push(s):Array.isArray(s)&&s.forEach(l=>i.push(l))},o=this.gos.get("rowClass");if(o){if(typeof o=="function")return et("rowClass should not be a function, please use getRowClass instead"),[];n(o)}let r=this.gos.getCallback("getRowClass");if(r){let s={data:e.data,node:e,rowIndex:e.rowIndex},l=r(s);n(l)}return i}preProcessRowClassRules(e){let i=[];return this.processRowClassRules(e,n=>{i.push(n)},()=>{}),i}processRowClassRules(e,i,n){let o=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),o,i,n)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},JSe=class extends Qe{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Xpe(),this.gos.get("debug")&&Ks("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(i!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.gos.get("debug")&&Ks(`RowContainerHeightService - Div Stretch Offset = ${i} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(i)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let i=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let i=this.modelHeight-this.getUiBodyHeight(),n=e/i;return this.maxScrollY*n}},e1e=class extends Qe{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=hu(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=hu(this.gos))}doFullSort(e,i){let n=(r,s)=>({currentPos:s,rowNode:r}),o=e.map(n);return o.sort(this.compareRowNodes.bind(this,i)),o.map(r=>r.rowNode)}compareRowNodes(e,i,n){let o=i.rowNode,r=n.rowNode;for(let s=0,l=e.length;s<l;s++){let c=e[s],d=c.sort==="desc",u=this.getValue(o,c.column),h=this.getValue(r,c.column),g,p=this.getComparator(c,o);if(p?g=p(u,h,o,r,d):g=Qge(u,h,this.isAccentedSort),!isNaN(g)&&g!==0)return c.sort==="asc"?g:g*-1}return i.currentPos-n.currentPos}getComparator(e,i){let n=e.column,o=n.getColDef().comparator;if(o!=null)return o;if(!n.getColDef().showRowGroup)return;let r=!i.group&&n.getColDef().field;if(!r)return;let s=this.columnModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,i){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,e,!1,!1);if(e.rowGroupColumn===i){if(dk(this.gos,this.columnModel.isPivotActive())){let s=e.allLeafChildren?.[0];return s?this.valueService.getValue(i,s,!1,!1):void 0}let r=this.showRowGroupColsService?.getShowRowGroupCol(i.getId());return r?e.groupData?.[r.getId()]:void 0}if(!(e.group&&i.getColDef().showRowGroup))return this.valueService.getValue(i,e,!1,!1)}},mk=class{constructor(e,i){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:i,children:null},this.mapToItems[i.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,i){if(e.children)for(let n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],i);i(e.rowNode)}depthFirstSearchEverything(e,i,n){if(e.childrenAfterGroup)for(let o=0;o<e.childrenAfterGroup.length;o++){let r=e.childrenAfterGroup[o];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[o],i,n):n&&i(r)}i(e)}forEachChangedNodeDepthFirst(e,i=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,i)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let i=e,n=0;for(;!this.mapToItems[i.id];){let o={rowNode:i,children:null};this.mapToItems[i.id]=o,n++,i=i.parent}return n}populateColumnsMap(e,i){if(!this.keepingColumns||!i)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),i.forEach(o=>this.nodeIdsToColumns[n.id][o.getId()]=!0),n=n.parent}linkPathItems(e,i){let n=e;for(let o=0;o<i;o++){let r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(e,i){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,i)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,i){if(!this.keepingColumns)return i;let n=this.nodeIdsToColumns[e.id];return i.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,i){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return i.filter(r=>!n[r.getId()])}},wY=class extends Qe{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new twe,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){let{gos:e,rowModel:i,onRowSelected:n}=this;this.selectionCtx.init(i),this.rowSelectionMode=XM(e),this.groupSelectsChildren=Df(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{let o=Df(e),r=XM(e);(o!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=o,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:n.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,i){if(!zSe(i))return e;let n=this.selectionCtx.getRoot();return n?n.isSelected()??!1:!0}setNodesSelected(e){let{newValue:i,clearSelection:n,suppressFinishActions:o,rangeSelect:r,nodes:s,event:l,source:c}=e;if(s.length===0)return 0;if(s.length>1&&!this.isMultiSelect())return et("cannot multi select unless selection mode is 'multiRow'"),0;let d=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,u=s.map(g=>g.footer?g.sibling:g);if(r){if(u.length>1)return et("cannot range select while selecting multiple rows"),0;let g=u[0],p=this.overrideSelectionValue(i,c);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(g)){let f=this.selectionCtx.truncate(g);return p&&this.selectRange(f.discard,!1,c),this.selectRange(f.keep,p,c)}else if(this.selectionCtx.getRoot()!==g){let M=this.selectionCtx.extend(g,this.groupSelectsChildren);return p&&this.selectRange(M.discard,!1,c),this.selectRange(M.keep,p,c)}}}o||this.selectionCtx.setRoot(u[0]);let h=0;for(let g=0;g<u.length;g++){let p=u[g];d&&p.group||p.selectThisNode(i,l,c)&&h++,this.groupSelectsChildren&&p.childrenAfterGroup?.length&&(h+=this.selectChildren(p,i,d,c))}return o||(i&&(n||!this.isMultiSelect())&&(h+=this.clearOtherNodes(u[0],c)),h>0&&(this.updateGroupsFromChildrenSelections(c),this.dispatchSelectionChanged(c))),h}selectRange(e,i,n){let o=0;return e.forEach(r=>{if(r.group&&this.groupSelectsChildren)return;r.selectThisNode(i,void 0,n)&&o++}),o>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),o}selectChildren(e,i,n,o){let r=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return Ai(r)?0:this.setNodesSelected({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:o,nodes:r})}getSelectedNodes(){let e=[];return this.selectedNodes.forEach(i=>{i&&e.push(i)}),e}getSelectedRows(){let e=[];return this.selectedNodes.forEach(i=>{i&&i.data&&e.push(i.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let i=new Map;this.selectedNodes.forEach((n,o)=>{n&&e(n)&&i.set(o,n)}),this.selectedNodes=i}updateGroupsFromChildrenSelections(e,i){if(!this.groupSelectsChildren||!Wn(this.gos))return!1;let o=this.rowModel.getRootNode();i||(i=new mk(!0,o),i.setInactive());let r=!1;return i.forEachChangedNodeDepthFirst(s=>{if(s!==o){let l=s.calculateSelectedFromChildren();r=s.selectThisNode(l===null?!1:l,void 0,e)||r}}),r}clearOtherNodes(e,i){let n=new Map,o=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){let s=this.selectedNodes.get(r.id);o+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),this.groupSelectsChildren&&r.parent&&n.set(r.parent.id,r.parent)}}),n.forEach(r=>{let s=r.calculateSelectedFromChildren();r.selectThisNode(s===null?!1:s,void 0,i)}),o}onRowSelected(e){let i=e.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes.set(i.id,i):this.selectedNodes.delete(i.id))}syncInRowNode(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)}syncInOldRowNode(e,i){if(rt(i)&&e.id!==i.id&&i){let o=i.id;this.selectedNodes.get(o)==e&&this.selectedNodes.set(i.id,i)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){let i=this.getSelectionCount();this.resetNodes(),i&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!Wn(this.gos))return;let i=this.rowModel.getTopLevelNodes();if(i===null)return;let n=[];function o(r){for(let s=0,l=r.length;s<l;s++){let c=r[s];if(c.isSelected())n.push(c);else{let d=c;d.group&&d.children&&o(d.children)}}}return o(i),n}isEmpty(){let e=0;return this.selectedNodes.forEach(i=>{i&&e++}),e===0}deselectAllRowNodes(e){let i=l=>l.selectThisNode(!1,void 0,o),n=Wn(this.gos),{source:o,justFiltered:r,justCurrentPage:s}=e;if(s||r){if(!n){Hi("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,s).forEach(i)}else this.selectedNodes.forEach(l=>{l&&i(l)}),this.reset(o);this.selectionCtx.reset(),n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o)}getSelectedCounts(e,i){let n=0,o=0,r=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?n++:s.selectable&&o++)};return this.getNodesToSelect(e,i).forEach(r),{selectedCount:n,notSelectedCount:o}}getSelectAllState(e,i){let{selectedCount:n,notSelectedCount:o}=this.getSelectedCounts(e,i);return n===0&&o===0?!1:n>0&&o>0?null:n>0}hasNodesToSelect(e=!1,i=!1){return this.getNodesToSelect(e,i).filter(n=>n.selectable).length>0}getNodesToSelect(e=!1,i=!1){this.validateSelectAllType();let n=[];if(i)return this.forEachNodeOnPage(r=>{if(!r.group){n.push(r);return}if(!r.expanded){let s=l=>{n.push(l),l.childrenAfterFilter?.length&&l.childrenAfterFilter.forEach(s)};s(r);return}this.groupSelectsChildren||n.push(r)}),n;let o=this.rowModel;return e?(o.forEachNodeAfterFilter(r=>{n.push(r)}),n):(o.forEachNode(r=>{n.push(r)}),n)}forEachNodeOnPage(e){let i=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow();for(let o=i;o<=n;o++){let r=this.rowModel.getRow(o);r&&e(r)}}selectAllRowNodes(e){if(epe(this.gos)&&!k6(this.gos))return et("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();let{source:i,justFiltered:n,justCurrentPage:o}=e,r=this.getNodesToSelect(n,o);r.forEach(s=>s.selectThisNode(!0,void 0,i)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(Li(r)??null),Wn(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)}getSelectionState(){let e=[];return this.selectedNodes.forEach(i=>{i?.id&&e.push(i.id)}),e.length?e:null}setSelectionState(e,i){if(!Array.isArray(e))return Hi("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");let n=new Set(e),o=[];this.rowModel.forEachNode(r=>{n.has(r.id)&&o.push(r)}),this.setNodesSelected({newValue:!0,nodes:o,source:i})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Wn(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},t1e=class extends Qe{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){let{gos:i}=this,n=YM(i),o=M6(i);if(!n||!o)return;let r=Df(i),s=Wn(i)&&r,l=[],c=d=>{if(e&&!d.group)return;if(s&&d.group){let h=d.childrenAfterGroup.some(g=>g.selectable===!0);d.setRowSelectable(h,!0);return}let u=o?.(d)??!0;d.setRowSelectable(u,!0),!u&&d.isSelected()&&l.push(d)};if(s){let d=this.rowModel;new mk(!1,d.getRootNode()).forEachChangedNodeDepthFirst(c,!0,!0)}else this.rowModel.forEachNode(c);l.length&&this.selectionService.setNodesSelected({nodes:l,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof wY&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},kq=["asc","desc",null],i1e=class extends Qe{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,i,n){let o=this.getNextSortDirection(e);this.setSortForColumn(e,o,i,n)}setSortForColumn(e,i,n,o){i!=="asc"&&i!=="desc"&&(i=null);let r=hu(this.gos),s=[e];if(r&&e.getColDef().showRowGroup){let u=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(h=>h.isSortable());u&&(s=[e,...u])}s.forEach(d=>d.setSort(i,o));let l=(n||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),c=[];if(!l){let d=this.clearSortBarTheseColumns(s,o);c.push(...d)}this.updateSortIndex(e),c.push(...s),this.dispatchSortChangedEvents(o,c)}updateSortIndex(e){let i=hu(this.gos),n=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),o=i&&n||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(c=>c.setSortIndex(null));let s=r.filter(c=>i&&c.getColDef().showRowGroup?!1:c!==o);(o.getSort()?[...s,o]:s).forEach((c,d)=>{c.setSortIndex(d)})}onSortChanged(e,i){this.dispatchSortChangedEvents(e,i)}isSortActive(){let i=this.columnModel.getAllCols().filter(n=>!!n.getSort());return i&&i.length>0}dispatchSortChangedEvents(e,i){let n={type:"sortChanged",source:e};i&&(n.columns=i),this.eventService.dispatchEvent(n)}clearSortBarTheseColumns(e,i){let n=[];return this.columnModel.getAllCols().forEach(o=>{e.includes(o)||(o.getSort()&&n.push(o),o.setSort(void 0,i))}),n}getNextSortDirection(e){let i;if(e.getColDef().sortingOrder?i=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?i=this.gos.get("sortingOrder"):i=kq,!Array.isArray(i)||i.length<=0)return et(`sortingOrder must be an array with at least one element, currently it's ${i}`),null;let n=i.indexOf(e.getSort()),o=n<0,r=n==i.length-1,s;return o||r?s=i[0]:s=i[n+1],kq.indexOf(s)<0?(et("invalid sort type ",s),null):s}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){let s=hu(this.gos);e=e.filter(l=>{let c=!!l.getAggFunc(),d=!l.isPrimary(),u=s?this.showRowGroupColsService?.getShowRowGroupCol(l.getId()):l.getColDef().showRowGroup;return c||d||u})}let i=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),n={};e.forEach((s,l)=>n[s.getId()]=l),e.sort((s,l)=>{let c=s.getSortIndex(),d=l.getSortIndex();if(c!=null&&d!=null)return c-d;if(c==null&&d==null){let u=n[s.getId()],h=n[l.getId()];return u>h?1:-1}else return d==null?-1:1});let o=hu(this.gos)&&!!i.length;o&&(e=[...new Set(e.map(s=>this.showRowGroupColsService?.getShowRowGroupCol(s.getId())??s))]);let r=new Map;return e.forEach((s,l)=>r.set(s,l)),o&&i.forEach(s=>{let l=this.showRowGroupColsService.getShowRowGroupCol(s.getId());r.set(s,r.get(l))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,i],[n,o])=>i-o).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let i=hu(this.gos),n=!!e.getColDef().showRowGroup;return i&&n}getDisplaySortForColumn(e){let i=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!i?.length)return e.getSort();let o=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...i]:i,r=o[0].getSort();return o.every(l=>l.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},n1e=class extends Qe{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});let e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&Ks(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){let i=this.gos.get("columnDefs");if(i){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(i);return}this.columnModel.setColumnDefs(i,mf(e.source))}}},o1e="paste",r1e=class extends Qe{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==o1e&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,i){if(this.gos.get("suppressChangeDetection"))return;let n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){let o=this.gos.get("aggregateOnlyChangedColumns"),r=new mk(o,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(s=>{n.push(s)})}this.rowRenderer.refreshCells({rowNodes:n})}},s1e=class extends Qe{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,i){if(typeof e=="string")return this.evaluateExpression(e,i);Hi("value should be either a string or a function",e)}evaluateExpression(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.getValue,i.column,i.columnGroup)}catch(n){return Ks("Processing of the expression failed"),Ks("Expression = ",e),Ks("Params = ",i),Ks("Exception = ",n),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];let i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},a1e=class extends Qe{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,i,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=n)}getValue(e,i){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[i]}},l1e=class extends Qe{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=Ch(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=n=>this.callColumnCellValueChangedHandler(n),i=QM(this.gos);this.eventService.addEventListener("cellValueChanged",e,i),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,i)),this.addManagedPropertyListener("treeData",n=>this.isTreeData=n.currentValue)}getValueForDisplay(e,i){let n=i.leafGroup&&this.columnModel.isPivotMode(),o=i.group&&i.expanded&&!i.footer&&!n,r=this.gos.get("groupSuppressBlankHeader");if(!o||r)return this.getValue(e,i);let s=!1,l=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof l!="function"?s=!!l:s=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});let c=o&&s;return this.getValue(e,i,!1,c)}getValue(e,i,n=!1,o=!1){if(this.initialised||this.init(),!i)return;let r=e.getColDef(),s=r.field,l=e.getColId(),c=i.data,d,u=i.groupData&&i.groupData[l]!==void 0,h=!o&&i.aggData&&i.aggData[l]!==void 0,g=this.isSsrm&&o&&!!e.getColDef().aggFunc,p=this.isSsrm&&i.footer&&i.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===i.field);if(n&&r.filterValueGetter?d=this.executeFilterValueGetter(r.filterValueGetter,c,e,i):this.isTreeData&&h?d=i.aggData[l]:this.isTreeData&&r.valueGetter?d=this.executeValueGetter(r.valueGetter,c,e,i):this.isTreeData&&s&&c?d=Ly(c,s,e.isFieldContainsDots()):u?d=i.groupData[l]:h?d=i.aggData[l]:r.valueGetter?d=this.executeValueGetter(r.valueGetter,c,e,i):p?d=Ly(c,i.field,e.isFieldContainsDots()):s&&c&&!g&&(d=Ly(c,s,e.isFieldContainsDots())),this.cellExpressions&&typeof d=="string"&&d.indexOf("=")===0){let f=d.substring(1);d=this.executeValueGetter(f,c,e,i)}if(d==null){let f=this.getOpenedGroup(i,e);if(f!=null)return f}return d}parseValue(e,i,n,o){let r=e.getColDef(),s=r.valueParser;if(rt(s)){let l=this.gos.addGridCommonParams({node:i,data:i?.data,oldValue:o,newValue:n,colDef:r,column:e});return typeof s=="function"?s(l):this.expressionService.evaluate(s,l)}return n}getDeleteValue(e,i){return rt(e.getColDef().valueParser)?this.parseValue(e,i,"",this.getValueForDisplay(e,i))??null:null}formatValue(e,i,n,o,r=!0){let s=null,l,c=e.getColDef();if(o?l=o:r&&(l=c.valueFormatter),l){let d=this.gos.addGridCommonParams({value:n,node:i,data:i?i.data:null,colDef:c,column:e});typeof l=="function"?s=l(d):s=this.expressionService.evaluate(l,d)}else if(c.refData)return c.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}getOpenedGroup(e,i){if(!this.gos.get("showOpenedGroup")||!i.getColDef().showRowGroup)return;let o=i.getColDef().showRowGroup,r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(o===!0||o===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,i,n,o){let r=this.columnModel.getColDefCol(i);if(!e||!r)return!1;Ai(e.data)&&(e.data={});let{field:s,valueSetter:l}=r.getColDef();if(Ai(s)&&Ai(l))return et("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,n))return et("Data type of the new value does not match the cell data type of the column"),!1;let c=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});c.newValue=n;let d;if(rt(l)?typeof l=="function"?d=l(c):d=this.expressionService.evaluate(l,c):d=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();let u=this.getValue(r,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,colDef:c.colDef,data:e.data,node:e,oldValue:c.oldValue,newValue:u,value:u,source:o}),!0}callColumnCellValueChangedHandler(e){let i=e.colDef.onCellValueChanged;typeof i=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{i({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,i,n,o){if(!i)return!1;let r=!1;if(!o)r=e[i]===n,r||(e[i]=n);else{let s=i.split("."),l=e;for(;s.length>0&&l;){let c=s.shift();s.length===0?(r=l[c]===n,r||(l[c]=n)):l=l[c]}}return!r}executeFilterValueGetter(e,i,n,o){let r=this.gos.addGridCommonParams({data:i,node:o,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof e=="function"?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,i,n,o){let r=n.getColId(),s=this.valueCache.getValue(o,r);if(s!==void 0)return s;let l=this.gos.addGridCommonParams({data:i,node:o,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,o)}),c;return typeof e=="function"?c=e(l):c=this.expressionService.evaluate(e,l),this.valueCache.setValue(o,r,c),c}getValueCallback(e,i){let n=this.columnModel.getColDefCol(i);return n?this.getValue(n,e):null}getKeyForNode(e,i){let n=this.getValue(e,i),o=e.getColDef().keyCreator,r=n;if(o){let s=this.gos.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:i,data:i.data});r=o(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&et("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},c1e=(()=>{let e=class ff{static applyGlobalGridOptions(n){if(!ff.gridOptions)return n;let o={};return Pr(o,ff.gridOptions,!0,!0),ff.mergeStrategy==="deep"?Pr(o,n,!0,!0):o=We(We({},o),n),ff.gridOptions.context&&(o.context=ff.gridOptions.context),n.context&&(ff.mergeStrategy==="deep"&&o.context&&Pr(n.context,o.context,!0,!0),o.context=n.context),o}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),d1e=c1e;function bY(e,i,n){if(!i)return Hi("No gridOptions provided to createGrid"),{};let o=new h1e().create(e,i,r=>{let s=new Lwe(e);r.createBean(s)},void 0,n);if(!Object.isFrozen(i)&&!n?.frameworkOverrides){let r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(i,"api",{get:()=>{Hi(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0})}return o}var u1e=1,h1e=class{create(e,i,n,o,r){let s=d1e.applyGlobalGridOptions(i),l=VSe(s),c=l.gridId??String(u1e++),d=this.getRegisteredModules(r,c),u=this.createBeansList(l.rowModelType,d,c),h=this.createProvidedBeans(e,l,r);if(!u){Hi("Failed to create grid.");return}let g={providedBeanInstances:h,beanClasses:u,gridId:c,beanInitComparator:ywe,beanDestroyComparator:Swe,derivedBeans:[hwe]},p=new tme(g);return this.registerModuleUserComponents(p,d),this.registerControllers(p,d),this.registerModuleApiFunctions(p,d),n(p),p.getBean("syncService").start(),o&&o(p),p.getBean("gridApi")}registerControllers(e,i){let n=e.getBean("ctrlsFactory");i.forEach(o=>{o.controllers&&o.controllers.forEach(r=>n.register(r))})}getRegisteredModules(e,i){let n=e?e.modules:null,o=gh.__getRegisteredModules(i),r=[],s={},l=(c,d,u)=>{(g=>{s[g.moduleName]||(s[g.moduleName]=!0,r.push(g),gh.__register(g,c,u))})(d),d.dependantModules&&d.dependantModules.forEach(g=>l(c,g,u))};return l(!!n?.length||!gh.__isPackageBased(),mY,void 0),n&&n.forEach(c=>l(!0,c,i)),o&&o.forEach(c=>l(!gh.__isPackageBased(),c,void 0)),r}registerModuleUserComponents(e,i){let n=this.extractModuleEntity(i,r=>r.userComponents?r.userComponents:[]),o=e.getBean("userComponentRegistry");n.forEach(({name:r,classImp:s,params:l})=>{o.registerDefaultComponent(r,s,l)})}registerModuleApiFunctions(e,i){let n=e.getBean("apiFunctionService");i.forEach(o=>{let r=o.apiFunctions;r&&Object.keys(r).forEach(l=>{n?.addFunction(l,r[l])})})}createProvidedBeans(e,i,n){let o=n?n.frameworkOverrides:null;Ai(o)&&(o=new n4);let r={gridOptions:i,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:o};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e="clientSide",i,n){let o=i.filter(d=>!d.rowModel||d.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e]){Hi("Could not find row model for rowModelType = ",e);return}if(!gh.__assertRegistered(r[e],`rowModelType = '${e}'`,n))return;let s=[Mwe,Dwe,jSe,OSe,uwe,Pfe,Cwe,wwe,sCe,SK,JSe,oCe,WSe,ZCe,rme,Fpe,Rwe,GSe,awe,wY,ype,xve,qSe,$Se,YCe,s1e,bpe,nCe,a1e,l1e,qCe,rCe,ime,Twe,iCe,kwe,cwe,iwe,tCe,i1e,QSe,YSe,t1e,r1e,aCe,gwe,XSe,e1e,_we,Fwe,Ewe,xwe,n1e,ZSe,lCe,USe,KSe,cCe,_pe,pwe,Dpe,Spe,fwe,mwe,Tpe,xpe,Rpe,vwe,Ape,fpe],l=this.extractModuleEntity(o,d=>d.beans?d.beans:[]);s.push(...l);let c=[];return s.forEach(d=>{c.indexOf(d)<0&&c.push(d)}),c}extractModuleEntity(e,i){return[].concat(...e.map(i))}},yY=class extends Qe{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){let e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function g1e(e){e.expansionService.expandAll(!0)}function p1e(e){e.expansionService.expandAll(!1)}function f1e(e){let i=e.rowModelHelperService?.getClientSideRowModel(),n=e.rowModelHelperService?.getServerSideRowModel();i?i.onRowHeightChanged():n&&n.onRowHeightChanged()}function m1e(e,i,n){let o=e.rowModelHelperService?.getServerSideRowModel();if(o){if(e.funcColsService.isRowGroupEmpty()){o.setRowCount(i,n);return}Hi("setRowCount cannot be used while using row grouping.");return}let r=e.rowModelHelperService?.getInfiniteRowModel();if(r){r.setRowCount(i,n);return}}function v1e(e){return e.rowNodeBlockLoader?.getBlockState()??{}}function C1e(e){return e.rowModel.isLastRowIndexKnown()}var w1e={version:Qt,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:g1e,collapseAll:p1e,onRowHeightChanged:f1e}},b1e={version:Qt,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:m1e,getCacheBlockState:v1e,isLastRowIndexKnown:C1e}},SY=class{wrap(e,i,n=[],o){let r=this.createWrapper(e,o);return i.forEach(s=>{this.createMethod(r,s,!0)}),n.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,i,n){e.addMethod(i,this.createMethodProxy(e,i,n))}createMethodProxy(e,i,n){return function(){return e.hasMethod(i)?e.callMethod(i,arguments):(n&&et("Framework component is missing the method "+i+"()"),null)}}};var m0=typeof global>"u"?{}:global;m0.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;m0.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;m0.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;m0.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;m0.Node=typeof Node>"u"?{}:Node;m0.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var y1e="ROOT_NODE_ID",n6=0,S1e=class{constructor(e,i,n,o,r,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=i,this.eventService=n,this.funcColsService=o,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=y1e,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return Wq(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){et("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);let i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map((o,r)=>this.createNode(o,this.rootNode,n6,r)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);let i={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[];return this.executeRemove(e,i,n),this.executeUpdate(e,i,n),this.executeAdd(e,i),this.updateSelection(n,"rowDataChanged"),i}updateRowOrderFromRowData(e){let i=this.rootNode.allLeafChildren,n=i?.length??0,o=new Map,r=-1,s=-1;for(let l=0;l<n;++l){let c=i[l],d=c.data;d!==e[l]&&(s<0&&(r=l),s=l,o.set(d,c))}if(r<0)return!1;for(let l=r;l<=s;++l){let c=o.get(e[l]);c!==void 0&&(i[l]=c,c.sourceRowIndex=l)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,i){let n=e.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),n&&this.eventService.dispatchEvent({type:"selectionChanged",source:i})}executeAdd(e,i){let n=e.add;if(xs(n))return;let o=this.rootNode.allLeafChildren,r=o.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData"))){for(let d=0;d<o.length;d++)if(o[d]?.rowIndex==r-1){r=d+1;break}}let s=n.map((c,d)=>this.createNode(c,this.rootNode,n6,r+d));if(r<o.length){let c=o.slice(0,r),d=o.slice(r,o.length),u=c.length+s.length;for(let h=0,g=d.length;h<g;++h)d[h].sourceRowIndex=u+h;this.rootNode.allLeafChildren=[...c,...s,...d],i.rowsInserted=!0}else this.rootNode.allLeafChildren=o.concat(s);let l=this.rootNode.sibling;l&&(l.allLeafChildren=o),i.rowNodeTransaction.add=s}sanitizeAddIndex(e){let i=this.rootNode.allLeafChildren?.length??0;return e<0||e>=i||Number.isNaN(e)?i:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:i},n){let{remove:o}=e;if(xs(o))return;let r={};o.forEach(l=>{let c=this.lookupRowNode(l);c&&(c.isSelected()&&n.push(c),c.clearRowTopAndRowIndex(),r[c.id]=!0,delete this.allNodesMap[c.id],i.remove.push(c))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(l=>!r[l.id])??null,this.rootNode.allLeafChildren?.forEach((l,c)=>{l.sourceRowIndex=c});let s=this.rootNode.sibling;s&&(s.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:i},n){let{update:o}=e;xs(o)||o.forEach(r=>{let s=this.lookupRowNode(r);s&&(s.updateData(r),!s.selectable&&s.isSelected()&&n.push(s),this.setMasterForRow(s,r,n6,!1),i.update.push(s))})}lookupRowNode(e){let i=g0(this.gos),n;if(i){let o=i({data:e,level:0});if(n=this.allNodesMap[o],!n)return Hi(`could not find row id=${o}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren?.find(o=>o.data===e),!n)return Hi("could not find data item as object was not found",e),Hi("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(e,i,n,o){let r=new mh(this.beans);return r.sourceRowIndex=o,r.group=!1,this.setMasterForRow(r,e,n,!0),i&&(r.parent=i),r.level=n,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&et(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,i,n,o){if(this.gos.get("treeData"))e.setMaster(!1),o&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){let l=this.gos.get("isRowMaster");l?e.setMaster(l(i)):e.setMaster(!0)}else e.setMaster(!1);if(o){let l=this.funcColsService.getRowGroupColumns(),c=l?l.length:0,d=n+c;e.expanded=e.master?this.isExpanded(d):!1}}}isExpanded(e){let i=this.gos.get("groupDefaultExpanded");return i===-1?!0:e<i}},x1e=class extends Qe{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Lr(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){let e=this.refreshModel.bind(this,{step:"group"}),i=!this.gos.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new mh(this.beans),this.nodeManager=new S1e(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){let e=new Set(["treeData","masterDetail"]),i=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),n=new Set(["excludeChildrenWhenTreeDataFiltering"]),o=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),l=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),d=[...e,...i,...n,...o,...o,...r,...s,...l,...c];this.addManagedPropertyListeners(d,u=>{let h=u.changeSet?.properties;if(!h)return;let g=p=>h.some(f=>p.has(f));if(g(e)){this.setRowData(this.rootNode.allLeafChildren.map(p=>p.data));return}if(g(i)){this.refreshModel({step:"group"});return}if(g(n)){this.refreshModel({step:"filter"});return}if(g(o)){this.refreshModel({step:"pivot"});return}if(g(r)){this.refreshModel({step:"aggregate"});return}if(g(s)){this.refreshModel({step:"sort"});return}if(g(l)){this.refreshModel({step:"filter_aggregates"});return}g(c)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){let e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,i,n,o){let r,s=!1;do{r=!1;let l=this.getRowIndexAtPixel(e),c=this.getRowIndexAtPixel(i),d=Math.max(l,n),u=Math.min(c,o);for(let h=d;h<=u;h++){let g=this.getRow(h);if(g.rowHeightEstimated){let p=Tg(this.gos,g);g.setRowHeight(p.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){let e=this.environment.getDefaultRowHeight(),i=0,n=new Set,o=ir(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){let s=this.rowsToDisplay[r];if(s.id!=null&&n.add(s.id),s.rowHeight==null){let l=Tg(this.gos,s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(i),s.setRowIndex(r),i+=s.rowHeight}return n}clearRowTopAndRowIndex(e,i){let n=e.isActive(),o=s=>{s&&s.id!=null&&!i.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){let l=s.level==-1;n&&!l&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,i,n=0){let o=this.getRowIndexAtPixel(i),r=this.getRow(o),s=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;let l=this.rootNode.allLeafChildren;return e.forEach(c=>{Nr(l,c)}),e.forEach((c,d)=>{JM(l,c,Math.max(o+n,0)+d)}),e.forEach((c,d)=>{c.sourceRowIndex=d}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,i){let n=i!=null?this.getRowIndexAtPixel(i):null,o=n!=null?this.getRow(n):null;if(!o||!e||i==null){this.clearHighlightedRow();return}let r=this.getHighlightPosition(i,o),s=this.isHighlightingCurrentPosition(e,o,r),l=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==o;(s||l)&&(this.clearHighlightedRow(),s)||(o.setHighlighted(r),this.lastHighlightedRow=o)}getHighlightPosition(e,i){if(!i){let r=this.getRowIndexAtPixel(e);if(i=this.getRow(r||0),!i)return 1}let{rowTop:n,rowHeight:o}=i;return e-n<o/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,i,n){if(e===i)return!0;let o=n===0?-1:1;return this.getRow(i.rowIndex+o)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;let i=this.rootNode.childrenAfterAggFilter,n=this.rootNode.sibling?1:0;return(i?i.length:0)+n}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let n=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;n-=1}let o=this.rowsToDisplay[this.rowsToDisplay.length-1],r=n>=this.rootNode.childrenAfterSort.length;if(o.footer&&r)return o.rowIndex;let s=this.rootNode.childrenAfterSort[n];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(Ai(this.rowsToDisplay))return null;let i=this.rowsToDisplay[e];return i?{rowTop:i.rowTop,rowHeight:i.rowHeight}:null}onRowGroupOpened(){let e=r0(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let i=r0(this.gos),o=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:o,keepRenderedRows:!0,animate:i})}onSortChanged(){let e=r0(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){let i=xs(e),n=new mk(!1,this.rootNode);return i&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;let i=e.rowNodeTransactions.filter(o=>o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0);return i==null||i.length==0}buildRefreshModelParams(e){let i="group",n={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(rt(e)&&(i=n[e]),Ai(i)){Hi(`invalid step ${e}, available steps are ${Object.keys(n).join(", ")}`);return}let o=!this.gos.get("suppressAnimationFrame");return{step:i,keepRenderedRows:!0,keepEditingRows:!0,animate:o}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;let i=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!i||this.isSuppressModelUpdateAfterUpdateTransaction(i))return;let n=this.createChangePath(i.rowNodeTransactions);switch(this.isRefreshingModel=!0,i.step){case"group":this.doRowGrouping(i.rowNodeTransactions,n,!!i.rowNodesOrderChanged,!!i.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(i.rowNodeTransactions,n);case"map":this.doRowsToDisplay()}let o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,o),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1,keepUndoRedoStack:i.keepUndoRedoStack})}isEmpty(){let e=Ai(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Ai(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return rt(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,i){let n=!1,o=!1,r=[],s=Df(this.gos);return this.forEachNodeAfterFilterAndSort(l=>{if(o)return;if(n&&(l===i||l===e)&&(o=!0,l.group&&s)){r.push(...l.allLeafChildren);return}if(!n){if(l!==i&&l!==e)return;n=!0}if(!l.group||!s){r.push(l);return}}),r}setDatasource(e){Hi("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let i=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Li(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){let l=Math.floor((i+n)/2),c=this.rowsToDisplay[l];if(this.isRowInPixel(c,e)||(c.rowTop<e?i=l+1:c.rowTop>e&&(n=l-1),r===i&&s===n))return l;r=i,s=n}}isRowInPixel(e,i){let n=e.rowTop,o=e.rowTop+e.rowHeight;return n<=i&&o>i}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((i,n)=>e(i,n))}forEachNode(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:i})}forEachNodeAfterFilter(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:i})}forEachNodeAfterFilterAndSort(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:i})}forEachPivotNode(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:i})}recursivelyWalkNodesAndCallback(e){let{nodes:i,callback:n,recursionType:o,includeFooterNodes:r}=e,{index:s}=e,l=c=>{let d=i[0]?.parent;if(!d)return;let u=r&&Lq(this.gos),h=Nq(this.gos),g=r&&h({node:d});if(d===this.rootNode){u===c&&(d.createFooter(),n(d.sibling,s++));return}g===c&&(d.createFooter(),n(d.sibling,s++))};l("top");for(let c=0;c<i.length;c++){let d=i[c];if(n(d,s++),d.hasChildren()&&!d.footer){let u=null;switch(o){case 0:u=d.childrenAfterGroup;break;case 1:u=d.childrenAfterAggFilter;break;case 2:u=d.childrenAfterSort;break;case 3:u=d.leafGroup?null:d.childrenAfterSort;break}u&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:n,recursionType:o,index:s,includeFooterNodes:r}))}}return l("bottom"),s}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){let i=this.gos.get("treeData"),n=this.columnModel.isPivotActive(),o=r=>{r&&r.forEach(s=>{let l=()=>{s.expanded=e,o(s.childrenAfterGroup)};if(i){rt(s.childrenAfterGroup)&&l();return}if(n){!s.leafGroup&&l();return}s.group&&l()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,i){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:i})}doRowGrouping(e,i,n,o){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:n,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),Df(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{let r=this.rootNode,s=r.sibling;r.childrenAfterGroup=r.allLeafChildren,s&&(s.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(mh.ID_PREFIX_ROW_GROUP)==0){let n;return this.forEachNode(o=>{o.id===e&&(n=o)}),n}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,i){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:i})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();let e=[],i=[],n=!1;this.rowDataTransactionBatch?.forEach(o=>{let{rowNodeTransaction:r,rowsInserted:s}=this.nodeManager.updateRowData(o.rowDataTransaction);s&&(n=!0),i.push(r),o.callback&&e.push(o.callback.bind(null,r))}),this.commonUpdateRowData(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),i.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:i}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();let{rowNodeTransaction:i,rowsInserted:n}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([i],n),i}afterImmutableDataChange(e,i){this.commonUpdateRowData([e],i)}commonUpdateRowData(e,i){if(!this.hasStarted)return;let n=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:i,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){let e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(i=>{i.setRowHeight(i.rowHeight,!0);let n=i.detailNode;n&&n.setRowHeight(n.rowHeight,!0),i.sibling&&i.sibling.setRowHeight(i.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function _1e(e){e.expansionService.onGroupExpandedOrCollapsed()}function D1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(i)}function E1e(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0}function M1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(i)}function k1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(i)}function I1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(i)}function R1e(e){if(e.columnModel.isAutoRowHeightActive()){et("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()}function A1e(e,i){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(i))}function T1e(e,i,n){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(i,n))}function F1e(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())}function P1e(e){return e.selectionService.getBestCostNodeSelection()}var L1e=class extends Qe{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:i}=e;this.filter(i)}filter(e){let i=!!this.filterManager?.isChildFilterPresent();this.filterNodes(i,e)}filterNodes(e,i){let n=(o,r)=>{o.hasChildren()&&e&&!r?o.childrenAfterFilter=o.childrenAfterGroup.filter(s=>{let l=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,c=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return l||c}):o.childrenAfterFilter=o.childrenAfterGroup,o.sibling&&(o.sibling.childrenAfterFilter=o.childrenAfterFilter)};if(this.doingTreeDataFiltering()){let o=(s,l)=>{if(s.childrenAfterGroup)for(let c=0;c<s.childrenAfterGroup.length;c++){let d=s.childrenAfterGroup[c],u=l||this.filterManager.doesRowPassFilter({rowNode:d});d.childrenAfterGroup?o(s.childrenAfterGroup[c],u):n(d,u)}n(s,l)},r=s=>o(s,!1);i.executeFromRootNode(r)}else{let o=r=>n(r,!1);i.forEachChangedNodeDepthFirst(o,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},N1e=class extends Qe{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){let i=e.rowNode,n=[],o=this.columnModel.isPivotMode(),r=o&&i.leafGroup,s=r?[i]:i.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,n,o,0);let c=n.length>0;if(!r&&c&&l.grandTotalRow){i.createFooter();let u=l.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(l,i.sibling,n,0,u)}return n}getFlattenDetails(){let e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:Oq(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:Lq(this.gos),groupTotalRow:Nq(this.gos)}}recursivelyAddToRowsToDisplay(e,i,n,o,r){if(!xs(i))for(let s=0;s<i.length;s++){let l=i[s],c=l.hasChildren(),d=o&&!c,u=e.groupRemoveSingleChildren&&c&&l.childrenAfterGroup.length===1,h=e.groupRemoveLowestSingleChildren&&c&&l.leafGroup&&l.childrenAfterGroup.length===1,g=o&&l.leafGroup,p=e.hideOpenParents&&l.expanded&&!l.master&&!g;if(!d&&!p&&!u&&!h&&this.addRowNodeToRowsToDisplay(e,l,n,r),!(o&&l.leafGroup)){if(c){let y=u||h;if(l.expanded||y){let M=e.groupTotalRow({node:l});M||l.destroyFooter();let k=y?r:r+1;M==="top"&&(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,n,k)),this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,n,o,k),M==="bottom"&&(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,n,k))}}else if(l.master&&l.expanded){let y=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,y,n,r)}}}}addRowNodeToRowsToDisplay(e,i,n,o,r){r?n.unshift(i):n.push(i),i.setUiLevel(e.isGroupMultiAutoColumn?0:o)}createDetailNode(e){if(rt(e.detailNode))return e.detailNode;let i=new mh(this.beans);return i.detail=!0,i.selectable=!1,i.parent=e,rt(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1,e.detailNode=i,i}},O1e=class extends Qe{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){let e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){let i=this.createTransactionForRowData(e);if(!i)return;let n=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:o,rowsInserted:r}=n.updateRowData(i),s=!1;this.gos.get("suppressMaintainUnsortedOrder")||(s=n.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(o,s||r)}createTransactionForRowData(e){if(!Wn(this.gos))return Hi("ImmutableService only works with ClientSideRowModel"),null;let i=g0(this.gos);if(i==null)return Hi("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;let n=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),o=[],r=[],s=[];return rt(e)&&e.forEach(l=>{let c=i({data:l,level:0}),d=n[c];d?(d.data!==l&&r.push(l),n[c]=void 0):s.push(l)}),qs(n,(l,c)=>{c&&o.push(c.data)}),{remove:o,update:r,add:s}}onRowDataUpdated(){let e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},z1e=class extends Qe{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,i,n,o,r,s){let l=this.gos.get("groupMaintainOrder"),c=this.columnModel.getCols().some(p=>p.isRowGroupActive()),d={};n&&o&&(d=this.calculateDirtyNodes(o));let u=this.columnModel.isPivotMode(),h=this.gos.getCallback("postSortRows"),g=p=>{this.pullDownGroupDataForHideOpenParents(p.childrenAfterAggFilter,!0);let f=u&&p.leafGroup;if(l&&c&&!p.leafGroup&&!s){let k=this.funcColsService.getRowGroupColumns()?.[p.level+1]?.getSort()===null,G=p.childrenAfterAggFilter.slice(0);if(p.childrenAfterSort&&!k){let J={};p.childrenAfterSort.forEach(($,_e)=>{J[$.id]=_e}),G.sort(($,_e)=>(J[$.id]??0)-(J[_e.id]??0))}p.childrenAfterSort=G}else!i||f?p.childrenAfterSort=p.childrenAfterAggFilter.slice(0):n?p.childrenAfterSort=this.doDeltaSort(p,d,r,e):p.childrenAfterSort=this.rowNodeSorter.doFullSort(p.childrenAfterAggFilter,e);if(p.sibling&&(p.sibling.childrenAfterSort=p.childrenAfterSort),this.updateChildIndexes(p),h){let M={nodes:p.childrenAfterSort};h(M)}};r&&r.forEachChangedNodeDepthFirst(g),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){let i={},n=o=>{o&&o.forEach(r=>i[r.id]=!0)};return e&&e.forEach(o=>{n(o.add),n(o.update),n(o.remove)}),i}doDeltaSort(e,i,n,o){let r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,o);let l={},c=[];r.forEach(g=>{i[g.id]||!n.canSkip(g)?c.push(g):l[g.id]=!0});let d=s.filter(g=>l[g.id]),u=(g,p)=>({currentPos:p,rowNode:g}),h=c.map(u).sort((g,p)=>this.rowNodeSorter.compareRowNodes(o,g,p));return this.mergeSortedArrays(o,h,d.map(u)).map(({rowNode:g})=>g)}mergeSortedArrays(e,i,n){let o=[],r=0,s=0;for(;r<i.length&&s<n.length;)this.rowNodeSorter.compareRowNodes(e,i[r],n[s])<0?o.push(i[r++]):o.push(n[s++]);for(;r<i.length;)o.push(i[r++]);for(;s<n.length;)o.push(n[s++]);return o}updateChildIndexes(e){if(Ai(e.childrenAfterSort))return;let i=e.childrenAfterSort;for(let n=0;n<i.length;n++){let o=i[n],r=n===0,s=n===e.childrenAfterSort.length-1;o.setFirstChild(r),o.setLastChild(s),o.setChildIndex(n)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return et("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;let i=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(o=>{o.hasChildren()&&i(o)})};e&&e.executeFromRootNode(n=>i(n))}pullDownGroupDataForHideOpenParents(e,i){!this.gos.get("groupHideOpenParents")||Ai(e)||e.forEach(n=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(r=>{let s=r.getColDef().showRowGroup;if(typeof s!="string"){Hi("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}let l=s,c=this.columnModel.getColDefCol(l);if(c!==n.rowGroupColumn)if(i)n.setGroupValue(r.getId(),void 0);else{let u=this.getFirstChildOfFirstChild(n,c);u&&n.setGroupValue(r.getId(),u.key)}})})}getFirstChildOfFirstChild(e,i){let n=e;for(;n;){let o=n.parent;if(o&&n.firstChild){if(o.rowGroupColumn===i)return o}else return null;n=o}return null}},B1e=class extends Qe{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){let i=this.sortController.getSortOptions(),n=rt(i)&&i.length>0,o=n&&rt(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=i.some(s=>hu(this.gos)?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(i,n,o,e.rowNodeTransactions,e.changedPath,r)}},o4="32.3.3",xY={version:o4,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[x1e,L1e,B1e,N1e,z1e,O1e]},V1e={version:o4,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[yY],apiFunctions:{onGroupExpandedOrCollapsed:_1e,refreshClientSideRowModel:D1e,isRowDataEmpty:E1e,forEachLeafNode:M1e,forEachNodeAfterFilter:k1e,forEachNodeAfterFilterAndSort:I1e,resetRowHeights:R1e,applyTransaction:A1e,applyTransactionAsync:T1e,flushAsyncTransactions:F1e,getBestCostNodeSelection:P1e},dependantModules:[xY,w1e]},H1e={version:o4,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[xY,V1e]},G1e=class extends Qe{setBeans(e){this.beans=e}getFileName(e){let i=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${i}`:e}getData(e){let i=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(i,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},j1e=class{constructor(e){this.groupColumns=[];let{columnModel:i,funcColsService:n,columnNameService:o,valueService:r,gos:s,processCellCallback:l,processHeaderCallback:c,processGroupHeaderCallback:d,processRowGroupCallback:u}=e;this.columnModel=i,this.funcColsService=n,this.columnNameService=o,this.valueService=r,this.gos=s,this.processCellCallback=l,this.processHeaderCallback=c,this.processGroupHeaderCallback=d,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(i=>!!i.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,i,n,o,r){let l=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,i)?this.createValueForGroupNode(e,r):this.valueService.getValue(e,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:e,value:l,processCellCallback:this.processCellCallback,type:o})}shouldRenderGroupSummaryCell(e,i,n){if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(i)!==-1){let l=e.groupData?.[i.getId()],c=this.gos.get("suppressGroupMaintainValueType");if(c&&l!=null||!c&&l!==void 0||Ch(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){let d=i.getColDef();return d==null||d.showRowGroup===!0||d.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}let s=dk(this.gos,this.columnModel.isPivotMode());return n===0&&s}getHeaderName(e,i){return e?e(this.gos.addGridCommonParams({column:i})):this.columnNameService.getDisplayNameForColumn(i,"csv",!0)}createValueForGroupNode(e,i){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:i}));let n=this.gos.get("treeData"),o=this.gos.get("suppressGroupMaintainValueType"),r=d=>{if(n||o)return d.key;let u=d.groupData?.[e.getId()];return!u||!d.rowGroupColumn||d.rowGroupColumn.getColDef().useValueFormatterForExport===!1?u:this.valueService.formatValue(d.rowGroupColumn,d,u)??u},s=i.footer,l=[r(i)];if(!Oq(this.gos))for(;i.parent;)i=i.parent,l.push(r(i));let c=l.reverse().join(" -> ");return s?`Total ${c}`:c}processCell(e){let{accumulatedRowIndex:i,rowNode:n,column:o,value:r,processCellCallback:s,type:l}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:i,column:o,node:n,value:r,type:l,parseValue:c=>this.valueService.parseValue(o,n,c,this.valueService.getValue(o,n)),formatValue:c=>this.valueService.formatValue(o,n,c)??c}))??""}:o.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueService.formatValue(o,n,r)}:{value:r??""}}},W1e=class{static download(e,i){let n=document.defaultView||window;if(!n){et("There is no `window` associated with the current `document`");return}let o=document.createElement("a"),r=n.URL.createObjectURL(i);o.setAttribute("href",r),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(o),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}},Iq=`\r
`,U1e=class extends j1e{constructor(e){super(e),this.isFirstLine=!0,this.result="";let{suppressQuotes:i,columnSeparator:n}=e;this.suppressQuotes=i,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Iq),this.result+=e):e.forEach(i=>{this.beginNewLine(),i.forEach((n,o)=>{o!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,i,n,o){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(o)}appendEmptyCells(e){for(let i=1;i<=e;i++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,i){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,i,n){i!=0&&(this.result+=this.columnSeparator);let o=this.extractRowCellValue(e,i,i,"csv",n);this.result+=this.putInQuotes(o.valueFormatted??o.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let i;return typeof e=="string"?i=e:typeof e.toString=="function"?i=e.toString():(et("unknown value type during csv conversion"),i=""),'"'+i.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Iq),this.isFirstLine=!1}},$1e=class extends G1e{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){let i=this.gos.get("defaultCsvExportParams");return Object.assign({},i,e)}export(e){if(this.isExportSuppressed()){et("Export cancelled. Export is not allowed as per your configuration.");return}let i=this.getMergedParams(e),n=this.getData(i),o=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof i.fileName=="function"?i.fileName(this.gos.getGridCommonParams()):i.fileName;W1e.download(this.getFileName(r),o)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,i=!1){let n=i?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{columnModel:i,columnNameService:n,funcColsService:o,valueService:r,gos:s}=this,{processCellCallback:l,processHeaderCallback:c,processGroupHeaderCallback:d,processRowGroupCallback:u,suppressQuotes:h,columnSeparator:g}=e;return new U1e({columnModel:i,columnNameService:n,funcColsService:o,valueService:r,gos:s,processCellCallback:l||void 0,processHeaderCallback:c||void 0,processGroupHeaderCallback:d||void 0,processRowGroupCallback:u||void 0,suppressQuotes:h||!1,columnSeparator:g||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function q1e(e,i){return e.csvCreator?.getDataAsCsv(i)}function K1e(e,i){e.csvCreator?.exportDataAsCsv(i)}var Y1e=class extends Qe{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,i={}){let{allColumns:n,columnKeys:o,skipRowGroups:r}=i,s=this.getColumnsToExport(n,r,o);return Yge(this.prepareSession(s),this.prependContent(i),this.exportColumnGroups(i,s),this.exportHeaders(i,s),this.processPinnedTopRows(i,s),this.processRows(i,s),this.processPinnedBottomRows(i,s),this.appendContent(i))(e).parse()}processRow(e,i,n,o){let r=i.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),l=this.gos.get("groupRemoveLowestSingleChildren"),d=i.rowPositions!=null||!!i.onlySelected,u=this.gos.get("groupHideOpenParents")&&!d,h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,g=!!o.footer,p=l&&o.leafGroup,f=o.allChildrenCount===1&&o.childrenAfterGroup?.length===1&&(s||p);if(!h&&!g&&(i.skipRowGroups||f||u)||i.onlySelected&&!o.isSelected()||i.skipPinnedTop&&o.rowPinned==="top"||i.skipPinnedBottom&&o.rowPinned==="bottom"||o.level===-1&&!h&&!g||r(this.gos.addGridCommonParams({node:o})))return;let k=e.onNewBodyRow(o);if(n.forEach((G,J)=>{k.onColumn(G,J,o)}),i.getCustomContentBelowRow){let G=i.getCustomContentBelowRow(this.gos.addGridCommonParams({node:o}));G&&e.addCustomContent(G)}}appendContent(e){return i=>{let n=e.appendContent;return n&&i.addCustomContent(n),i}}prependContent(e){return i=>{let n=e.prependContent;return n&&i.addCustomContent(n),i}}prepareSession(e){return i=>(i.prepare(e),i)}exportColumnGroups(e,i){return n=>{if(!e.skipColumnGroupHeaders){let o=new Kq,r=this.visibleColsService.createGroups({columns:i,idCreator:o,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,i){return n=>{if(!e.skipColumnHeaders){let o=n.onNewHeaderRow();i.forEach((r,s)=>{o.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(e,i){return n=>{let o=this.processRow.bind(this,n,e,i);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(o):this.pinnedRowModel.forEachPinnedRow("top",o),n}}processRows(e,i){return n=>{let o=this.rowModel,r=Wn(this.gos),s=Ch(this.gos),l=!r&&e.onlySelected,c=this.processRow.bind(this,n,e,i),{exportedRows:d="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>u.rowPinned==null).sort((u,h)=>u.rowIndex-h.rowIndex).map(u=>o.getRow(u.rowIndex)).forEach(c);else if(this.columnModel.isPivotMode())r?o.forEachPivotNode(c,!0):s?o.forEachNodeAfterFilterAndSort(c,!0):o.forEachNode(c);else if(e.onlySelectedAllPages||l){let u=this.selectionService.getSelectedNodes();this.replicateSortedOrder(u),u.forEach(c)}else d==="all"?o.forEachNode(c):r||s?o.forEachNodeAfterFilterAndSort(c,!0):o.forEachNode(c);return n}}replicateSortedOrder(e){let i=this.sortController.getSortOptions(),n=(o,r)=>o.rowIndex!=null&&r.rowIndex!=null?o.rowIndex-r.rowIndex:o.level===r.level?o.parent?.id===r.parent?.id?this.rowNodeSorter.compareRowNodes(i,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):n(o.parent,r.parent):o.level>r.level?n(o.parent,r):n(o,r.parent);e.sort(n)}processPinnedBottomRows(e,i){return n=>{let o=this.processRow.bind(this,n,e,i);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(o):this.pinnedRowModel.forEachPinnedRow("bottom",o),n}}getColumnsToExport(e=!1,i=!1,n){let o=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getColsForKeys(n);let r=this.gos.get("treeData"),s=[];return e&&!o?s=this.columnModel.getCols():s=this.visibleColsService.getAllCols(),i&&!r&&(s=s.filter(l=>d6(l)||Ky(l))),s}recursivelyAddHeaderGroups(e,i,n){let o=[];e.forEach(r=>{let s=r;s.getChildren&&s.getChildren().forEach(l=>o.push(l))}),e.length>0&&Co(e[0])&&this.doAddHeaderHeader(i,e,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,i,n)}doAddHeaderHeader(e,i,n){let o=e.onNewHeaderGroupingRow(),r=0;i.forEach(s=>{let l=s,c;n?c=n(this.gos.addGridCommonParams({columnGroup:l})):c=this.columnNameService.getDisplayNameForColumnGroup(l,"header");let d=l.getLeafColumns().reduce((u,h,g,p)=>{let f=Li(u);return h.getColumnGroupShow()==="open"?(!f||f[1]!=null)&&(f=[g],u.push(f)):f&&f[1]==null&&(f[1]=g-1),g===p.length-1&&f&&f[1]==null&&(f[1]=g),u},[]);o.onColumn(l,c||"",r++,l.getLeafColumns().length-1,d)})}},r4="32.3.3",_Y={version:r4,moduleName:"@ag-grid-community/csv-export-core",beans:[$1e,Y1e]},Q1e={version:r4,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:q1e,exportDataAsCsv:K1e},dependantModules:[_Y]},Z1e={version:r4,moduleName:"@ag-grid-community/csv-export",dependantModules:[_Y,Q1e]};var ldt=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var X1e=class extends XCe{wireBeans(e){this.beans=e}constructor(e,i,n){super(e),this.parentCache=i,this.params=n,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,i,n){rt(i)?e.setDataAndId(i,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Ai(this.params.datasource.getRows)){et("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,i,n){this.rowNodes.forEach((o,r)=>{this.startRow+r<n&&e(o,i.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,i=!1){i||(this.lastAccessed=this.params.lastAccessedSequence.next());let n=e-this.startRow;return this.rowNodes[n]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){let i=this.startRow+e,n=new mh(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(i),n.setRowTop(this.params.rowHeight*i),this.rowNodes.push(n)}}processServerResult(e){this.rowNodes.forEach((n,o)=>{let r=e.rowData?e.rowData[o]:void 0;!n.id&&n.alreadyRendered&&r&&(this.rowNodes[o]=new mh(this.beans),this.rowNodes[o].setRowIndex(n.rowIndex),this.rowNodes[o].setRowTop(n.rowTop),this.rowNodes[o].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[o],r,this.startRow+o)});let i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},J1e=2,exe=class extends Qe{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,i=!1){let n=Math.floor(e/this.params.blockSize),o=this.blocks[n];if(!o){if(i)return;o=this.createBlock(n)}return o.getRow(e)}createBlock(e){let i=this.createBean(new X1e(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,i){this.isAlive()&&(this.gos.get("debug")&&Ks(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${i}`),this.checkRowCount(e,i),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let i=this.getBlocksInOrder().filter(l=>l!=e),n=(l,c)=>c.getLastAccessed()-l.getLastAccessed();i.sort(n);let o=this.params.maxBlocksInCache>0,r=o?this.params.maxBlocksInCache-1:null,s=J1e-1;i.forEach((l,c)=>{let d=l.getState()==="needsLoading"&&c>=s,u=o?c>=r:!1;if(d||u){if(this.isBlockCurrentlyDisplayed(l)||this.isBlockFocused(l))return;this.removeBlockFromCache(l)}})}isBlockFocused(e){let i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||i.rowPinned!=null)return!1;let n=e.getStartRow(),o=e.getEndRow();return i.rowIndex>=n&&i.rowIndex<o}isBlockCurrentlyDisplayed(e){let i=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,n)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,i){if(typeof i=="number"&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,i){this.rowCount=e,rt(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let i=new u0;this.getBlocksInOrder().forEach(n=>n.forEachNode(e,i,this.rowCount))}getBlocksInOrder(){let e=(n,o)=>n.getId()-o.getId();return Fg(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&e.push(i)}),e.length>0&&e.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,i){let n=[],o=-1,r=!1,s=new u0,l=!1;return this.getBlocksInOrder().forEach(d=>{if(!l){if(r&&o+1!==d.getId()){l=!0;return}o=d.getId(),d.forEachNode(u=>{let h=u===e||u===i;(r||h)&&n.push(u),h&&(r=!r)},s,this.rowCount)}}),l||r?[]:n}},txe=class extends Qe{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=bf(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&et("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=bf(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!Vy(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,i){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,i):[]}reset(){if(!this.datasource)return;g0(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:bf(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new u0},this.infiniteCache=this.createBean(new exe(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let i=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return i>n?n:i}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,i){this.infiniteCache&&this.infiniteCache.setRowCount(e,i)}};function ixe(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()}function nxe(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()}function oxe(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}var s4="32.3.3",DY={version:s4,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[txe],dependantModules:[ewe]},rxe={version:s4,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[yY],apiFunctions:{refreshInfiniteCache:ixe,purgeInfiniteCache:nxe,getInfiniteRowCount:oxe},dependantModules:[DY,b1e]},sxe={version:s4,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[DY,rxe]};var axe=e=>{let i=new Map;return n=>{let o=n;return i.has(o)||i.set(o,e(n)),i.get(o)}},cdt=axe(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)});var ddt=typeof window!="object"||!window||typeof document!="object"||window.document!==document;gh.__registerModules([mY,H1e,sxe,Z1e],!1,void 0);var EY=(()=>{let i=class i extends SY{setViewContainerRef(o,r){this.viewContainerRef=o,this.angularFrameworkOverrides=r}createWrapper(o){let r=this.angularFrameworkOverrides,s=this;class l extends a4{init(u){r.runInsideAngular(()=>{super.init(u),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.runInsideAngular(()=>s.createComponent(o))}hasMethod(u){return c.getFrameworkComponentInstance()[u]!=null}callMethod(u,h){let g=this.getFrameworkComponentInstance();return r.runInsideAngular(()=>c.getFrameworkComponentInstance()[u].apply(g,h))}addMethod(u,h){c[u]=h}}let c=new l;return c}createComponent(o){return this.viewContainerRef.createComponent(o)}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=Ul(i)))(s||i)}})(),i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),a4=class{init(i){this._params=i,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Ys(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},MY=(()=>{let i=class i extends n4{constructor(o){super("angular"),this._ngZone=o,this.isRunningWithinTestZone=!1,this.wrapIncoming=(r,s)=>this.runOutside(r,s),this.wrapOutgoing=r=>this.runInsideAngular(r),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(r,s)=>s==="resize-observer"||s==="popupPositioning"?this._ngZone.runOutsideAngular(r):r():this.runOutside=r=>this._ngZone.runOutsideAngular(r):this.runOutside=r=>r()}get shouldWrapOutgoing(){return this._ngZone&&vi.isInAngularZone()}isFrameworkComponent(o){if(!o)return!1;let r=o.prototype;return r&&"agInit"in r}runInsideAngular(o){return this._ngZone?this._ngZone.run(o):o()}runOutsideAngular(o,r){return this.runOutside(o,r)}};i.\u0275fac=function(r){return new(r||i)(Mt(vi))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),kY=(()=>{let i=class i{constructor(o,r,s,l){this.viewContainerRef=r,this.angularFrameworkOverrides=s,this.frameworkComponentWrapper=l,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(c=>{this._resolveFullyReady=c}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Je,this.toolPanelSizeChanged=new Je,this.columnMenuVisibleChanged=new Je,this.contextMenuVisibleChanged=new Je,this.cutStart=new Je,this.cutEnd=new Je,this.pasteStart=new Je,this.pasteEnd=new Je,this.columnVisible=new Je,this.columnPinned=new Je,this.columnResized=new Je,this.columnMoved=new Je,this.columnValueChanged=new Je,this.columnPivotModeChanged=new Je,this.columnPivotChanged=new Je,this.columnGroupOpened=new Je,this.newColumnsLoaded=new Je,this.gridColumnsChanged=new Je,this.displayedColumnsChanged=new Je,this.virtualColumnsChanged=new Je,this.columnEverythingChanged=new Je,this.columnHeaderMouseOver=new Je,this.columnHeaderMouseLeave=new Je,this.columnHeaderClicked=new Je,this.columnHeaderContextMenu=new Je,this.componentStateChanged=new Je,this.cellValueChanged=new Je,this.cellEditRequest=new Je,this.rowValueChanged=new Je,this.cellEditingStarted=new Je,this.cellEditingStopped=new Je,this.rowEditingStarted=new Je,this.rowEditingStopped=new Je,this.undoStarted=new Je,this.undoEnded=new Je,this.redoStarted=new Je,this.redoEnded=new Je,this.cellSelectionDeleteStart=new Je,this.cellSelectionDeleteEnd=new Je,this.rangeDeleteStart=new Je,this.rangeDeleteEnd=new Je,this.fillStart=new Je,this.fillEnd=new Je,this.filterOpened=new Je,this.filterChanged=new Je,this.filterModified=new Je,this.advancedFilterBuilderVisibleChanged=new Je,this.chartCreated=new Je,this.chartRangeSelectionChanged=new Je,this.chartOptionsChanged=new Je,this.chartDestroyed=new Je,this.cellKeyDown=new Je,this.gridReady=new Je,this.firstDataRendered=new Je,this.gridSizeChanged=new Je,this.modelUpdated=new Je,this.virtualRowRemoved=new Je,this.viewportChanged=new Je,this.bodyScroll=new Je,this.bodyScrollEnd=new Je,this.dragStarted=new Je,this.dragStopped=new Je,this.dragCancelled=new Je,this.stateUpdated=new Je,this.paginationChanged=new Je,this.rowDragEnter=new Je,this.rowDragMove=new Je,this.rowDragLeave=new Je,this.rowDragEnd=new Je,this.rowDragCancel=new Je,this.columnRowGroupChanged=new Je,this.rowGroupOpened=new Je,this.expandOrCollapseAll=new Je,this.pivotMaxColumnsExceeded=new Je,this.pinnedRowDataChanged=new Je,this.rowDataUpdated=new Je,this.asyncTransactionsFlushed=new Je,this.storeRefreshed=new Je,this.headerFocused=new Je,this.cellClicked=new Je,this.cellDoubleClicked=new Je,this.cellFocused=new Je,this.cellMouseOver=new Je,this.cellMouseOut=new Je,this.cellMouseDown=new Je,this.rowClicked=new Je,this.rowDoubleClicked=new Je,this.rowSelected=new Je,this.selectionChanged=new Je,this.cellContextMenu=new Je,this.rangeSelectionChanged=new Je,this.cellSelectionChanged=new Je,this.tooltipShow=new Je,this.tooltipHide=new Je,this.sortChanged=new Je,this._nativeElement=o.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);let o=Qq(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let r=bY(this._nativeElement,o,this.gridParams);r&&(this.api=r),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(o){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{let r={};Object.entries(o).forEach(([s,l])=>{r[s]=l.currentValue}),Zq(r,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(o){let s=this[o],l=s?.observed??s?.observers?.length>0,c=`on${o.charAt(0).toUpperCase()}${o.substring(1)}`,d=!!this.gridOptions&&!!this.gridOptions[c];return l||d}globalEventListener(o,r){if(this._destroyed)return;let s=this[o];if(s&&this.isEmitterUsed(o)){let l=()=>this.angularFrameworkOverrides.runInsideAngular(()=>s.emit(r));this._holdEvents?this._fullyReady.then(()=>l()):l()}}};i.\u0275fac=function(r){return new(r||i)(lt(Gn),lt(zs),lt(MY),lt(EY))},i.\u0275cmp=$i({type:i,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",enableStrictPivotColumnOrder:"enableStrictPivotColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressMoveWhenColumnDragging:"suppressMoveWhenColumnDragging",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",suppressSetFilterByDefault:"suppressSetFilterByDefault",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",loading:"loading",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",selectionColumnDef:"selectionColumnDef",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:"enableGroupEdit",initialState:"initialState",theme:"theme",loadThemeGoogleFonts:"loadThemeGoogleFonts",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[Xr([MY,EY]),cl,rn],decls:0,vars:0,template:function(r,s){},encapsulation:2});let e=i;return e})(),IY=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({});let e=i;return e})();var v0=(()=>{let i=class i{constructor(o){this.http=o,this.github={},this.clientId="Ov23lidGErtWsbAweqpR",this.appUrl=`https://skpedit.github.io/?state=${+new Date}`,this.redirectURI="http://skpedit.42web.io/github/login.php",this.logoutURI="http://skpedit.42web.io/github/logout.php",this.apiBaseUrl="https://api.github.com",this.getGithubInfo()}get loginLink(){return`https://github.com/login/oauth/authorize?client_id=${this.clientId}&scope=public_repo%20gist&state=${btoa(this.appUrl)}&redirect_uri=${this.redirectURI}`}getGithubInfo(){let o=localStorage.getItem("github");try{this.github=o?JSON.parse(o):{}}catch(r){console.error("Error parsing GitHub data from localStorage:",r)}}setGithubInfo({token:o,owner:r,branch:s,repository:l,path:c}){let d=localStorage.getItem("github");try{this.github=d?JSON.parse(d):{}}catch(u){console.error("Error parsing GitHub data from localStorage:",u)}o&&(this.github.token=o),r&&(this.github.owner=r),s&&(this.github.branch=s),l&&(this.github.repository=l),c&&(this.github.path=c),localStorage.setItem("github",JSON.stringify(this.github))}login(o){let r=o.token,s=o.state;console.log("authParams",o),r&&this.getUserInfo(r)}logout(){let o=this.github.token;localStorage.removeItem("github"),this.detachGithubToken(o)}detachGithubToken(o){let r=`${this.logoutURI}?token=${o}&state=${btoa(this.appUrl)}`;o&&(location.href=r)}getDirectoryContents(o,r,s){let l=`${this.apiBaseUrl}/repos/${this.github.owner}/${r}/contents/${s}?ref=${o}&t=${+new Date}`,c=new Xi({Accept:"*/*",Authorization:`Bearer ${this.github.token}`});return this.http.get(l,{headers:c})}getUserInfo(o){let r=new Xi({"Content-Type":"application/json",Authorization:`Bearer ${o}`});this.http.get(`${this.apiBaseUrl}/user`,{headers:r}).subscribe(s=>{console.log("Access user response:",s),this.setGithubInfo({token:o,owner:s.login})})}uploadFile(o,r,s,l,c){let d=s&&!s.endsWith("/")?"/":"",u=s+d+l,h=`${this.apiBaseUrl}/repos/${this.github.owner}/${r}/contents/${u}?ref=${o}&t=${+new Date}`;this.setGithubInfo({branch:o,repository:r,path:s});let g=new Xi({Accept:"*/*",Authorization:`token ${this.github.token}`});return this.http.put(h,{branch:o,message:`Upload ${l} from sraban`,content:c},{headers:g,reportProgress:!0,observe:"events"})}deleteFileFolder(o,r,s,l){let c=`${this.apiBaseUrl}/repos/${this.github.owner}/${r}/contents/${s}?ref=${o}&t=${+new Date}`,d=new Xi({Accept:"*/*",Authorization:`Bearer ${this.github.token}`}),u={message:"Deleting the file "+s,sha:l,branch:o};return this.http.delete(c,{headers:d,body:u})}deleteDirectory(o,r,s){return this.getDirectoryContents(o,r,s).pipe(cn(l=>{let c=l.map(d=>this.deleteFileFolder(o,r,d.path,d.sha));return aC(c)}))}setIndexedTable(o){if(!o||!o.content)return null;let{name:r,path:s,sha:l,size:c,download_url:d}=o.content;return{id:`github/${this.github.owner}/${this.github.repository}/${this.github.branch}`,content:{name:r,path:s,sha:l,size:c,download_url:d,localSha:null}}}};i.\u0275fac=function(r){return new(r||i)(Mt(Mr))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var cxe=()=>[10,20];function dxe(e,i){if(e&1&&(He(0,"tr")(1,"td"),Ye(2),Oe(),He(3,"td"),Ye(4),Oe(),He(5,"td"),Ye(6),Oe(),He(7,"td"),Ye(8),Oe(),He(9,"td"),Ye(10),Oe(),He(11,"td")(12,"a",3),Ye(13,"View"),Oe(),Ye(14," | "),He(15,"a",3),Ye(16,"Delete"),Oe()()()),e&2){let n=i.$implicit,o=i.index;tt(2),dn(o+1),tt(2),dn(n.name),tt(2),dn(n.size),tt(2),dn(n.platform),tt(2),yo("",n.location," "),tt(2),ht("href",n.download_url,Fn),tt(3),ht("href",n.path,Fn)}}var RY=(()=>{let i=class i{constructor(o,r){this.githubService=o,this.browserDB=r,this.selectedFiles=null,this.rowClassRules={"red-row-sraban":s=>s.data.make=="Toyata"},this.defaultColDef={flex:1,filter:!0,floatingFilter:!0},this.columnDefs=[{field:"make",cellRenderer:s=>`<h3>${s.value}</h3>`},{field:"model",checkboxSelection:!0,cellClassRule:{"sraban-kumar":s=>s.value=="Ford"}},{field:"price",valueFormatter:s=>"$"+s.value.toLocaleString()}],this.rowData=[{make:"Toyota",model:"Celica",price:35e3},{make:"Ford",model:"Mondeo",price:32e3},{make:"Porsche",model:"Boxster",price:72e3}]}deletGithubFolderFiles(o,r,s){this.githubService.deleteDirectory(o,r,s).subscribe({next:l=>console.log("Delted successfully",l),error:l=>console.log("sraban err error3",l)})}ngOnInit(){setTimeout(()=>{this.onInit()},500)}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[d,u,h,g]=l.split("/"),p="";d=="github"&&(p=`${u}/${h}/${g}`),d=="gDrive"&&(p=u),d=="dropbox"&&(p=u);let f=c.map(y=>At(We({},y),{platform:d,location:p}));return r.push(...f),r},[])}),console.log("this.itemList",this.itemList)}deleteFile(o,r,s,l,c){if(this.githubService.github.owner===o){let d=`github/${o}/${s}/${r}`;this.githubService.deleteFileFolder(r,s,l,c).pipe(Hn(u=>(this.updateRemovedRecord(d,c),bo(u)))).subscribe(u=>{console.log(u.content==null),u.content==null&&this.updateRemovedRecord(d,c)})}}updateRemovedRecord(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(d=>d.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}};i.\u0275fac=function(r){return new(r||i)(lt(v0),lt(Us))},i.\u0275cmp=$i({type:i,selectors:[["skp-file-sync"]],standalone:!0,features:[rn],decls:22,vars:9,consts:[["rules","all","border","1","cellspacing","5","cellpadding","5","width","100%"],[4,"ngFor","ngForOf"],["rowSelection","multiple",1,"ag-theme-material",2,"width","100%","height","350px","border","1px solid #cccccc50",3,"defaultColDef","rowData","columnDefs","rowClassRules","pagination","paginationPageSize","paginationPageSizeSelector"],[3,"href"]],template:function(r,s){r&1&&(He(0,"H5"),Ye(1,"All Uploads using Ag-Grid"),Oe(),He(2,"table",0)(3,"thead")(4,"tr")(5,"th"),Ye(6,"No."),Oe(),He(7,"th"),Ye(8,"File"),Oe(),He(9,"th"),Ye(10,"Size"),Oe(),He(11,"th"),Ye(12,"Platform"),Oe(),He(13,"th"),Ye(14,"Location"),Oe(),He(15,"th"),Ye(16,"Action"),Oe()()(),He(17,"tbody"),ui(18,dxe,17,7,"tr",1),Oe()(),Et(19,"br")(20,"br")(21,"ag-grid-angular",2)),r&2&&(tt(18),ht("ngForOf",s.itemList),tt(3),ht("defaultColDef",s.defaultColDef)("rowData",s.rowData)("columnDefs",s.columnDefs)("rowClassRules",s.rowClassRules)("pagination",!0)("paginationPageSize",10)("paginationPageSizeSelector",hr(8,cxe)))},dependencies:[Oo,og,In,gr,IY,kY],styles:[".ag-theme-material[_ngcontent-%COMP%]{--ag-foreground-color: red;--ag-header-background-color: green;--ag-background-color: pink;--ag-row-hover-color: tomato}.sraban-kumar[_ngcontent-%COMP%]{color:#ff0}.red-row-sraban[_ngcontent-%COMP%]{color:#00f}"]});let e=i;return e})();var AY=(()=>{let i=class i{constructor(o,r){this.route=o,this.http=r}};i.\u0275fac=function(r){return new(r||i)(lt(hl),lt(Mr))},i.\u0275cmp=$i({type:i,selectors:[["skp-auth-callback"]],standalone:!0,features:[rn],decls:2,vars:0,template:function(r,s){r&1&&(He(0,"p"),Ye(1,"auth-callback works!"),Oe())}});let e=i;return e})();var c4=window.gapi=window.gapi||{};c4._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,i,n){return e==Array.prototype||e==Object.prototype||(e[i]=n.value),e},da=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var i=0;i<e.length;++i){var n=e[i];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},ea=da(this),fa=function(e,i){if(i)e:{var n=ea;e=e.split(".");for(var o=0;o<e.length-1;o++){var r=e[o];if(!(r in n))break e;n=n[r]}e=e[e.length-1],o=n[e],i=i(o),i!=o&&i!=null&&aa(n,e,{configurable:!0,writable:!0,value:i})}},ha=function(e){var i=0;return function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}};fa("Symbol",function(e){if(e)return e;var i=function(r,s){this.ba=r,aa(this,"description",{configurable:!0,writable:!0,value:s})};i.prototype.toString=function(){return this.ba};var n=0,o=function(r){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return new i("jscomp_symbol_"+(r||"")+"_"+n++,r)};return o}),fa("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var i="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<i.length;n++){var o=ea[i[n]];typeof o=="function"&&typeof o.prototype[e]!="function"&&aa(o.prototype,e,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return e});var ia=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},ja=function(e,i){e instanceof String&&(e+="");var n=0,o=!1,r={next:function(){if(!o&&n<e.length){var s=n++;return{value:i(s,e[s]),done:!1}}return o=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r};fa("Array.prototype.keys",function(e){return e||function(){return ja(this,function(i){return i})}});var m=this||self,ka=function(e){var i=typeof e;return i!="object"?i:e?Array.isArray(e)?"array":i:"null"},la=function(e,i,n){return e.call.apply(e.bind,arguments)},ma=function(e,i,n){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,o),e.apply(i,r)}}return function(){return e.apply(i,arguments)}},na=function(e,i,n){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function(e,i){function n(){}n.prototype=i.prototype,e.ma=i.prototype,e.prototype=new n,e.prototype.constructor=e,e.A=function(o,r,s){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return i.prototype[r].apply(o,l)}},pa=function(e){return e},qa=function(e){var i=null,n=m.trustedTypes;if(!n||!n.createPolicy)return i;try{i=n.createPolicy(e,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(o){m.console&&m.console.error(o.message)}return i};function q(e){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var i=Error().stack;i&&(this.stack=i)}e&&(this.message=String(e))}oa(q,Error),q.prototype.name="CustomError";var ra=function(e,i){e=e.split("%s");for(var n="",o=e.length-1,r=0;r<o;r++)n+=e[r]+(r<i.length?i[r]:"%s");q.call(this,n+e[o])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(e,i,n,o){var r="Assertion failed";if(n){r+=": "+n;var s=o}else e&&(r+=": "+e,s=i);throw new ra(""+r,s||[])},ta=function(e,i,n){return e||sa("",null,i,Array.prototype.slice.call(arguments,2)),e},ua=function(e,i){throw new ra("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},va=function(e,i,n){typeof e!="string"&&sa("Expected string but got %s: %s.",[ka(e),e],i,Array.prototype.slice.call(arguments,2))},xa=function(e,i){e:{try{var n=e&&e.ownerDocument,o=n&&(n.defaultView||n.parentWindow);if(o=o||m,o.Element&&o.Location){var r=o;break e}}catch{}r=null}if(r&&typeof r[i]<"u"&&(!e||!(e instanceof r[i])&&(e instanceof r.Location||e instanceof r.Element))){if(r=typeof e,r=="object"&&e!=null||r=="function")try{var s=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{s="<object could not be stringified>"}else s=e===void 0?"undefined":e===null?"null":typeof e;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",i,s)}return e},ya,t=function(e,i){this.P=e===za&&i||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(e){return e instanceof t&&e.constructor===t&&e.ca===Aa?e.P:(ua("expected object of type Const, got '"+e+"'"),"type_error:Const")},Aa={},za={},v=function(e,i){this.N=i===Ca?e:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(e){return e instanceof v&&e.constructor===v?e.N:(ua("expected object of type SafeUrl, got '"+e+"' of type "+ka(e)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(e){return e instanceof v?e:(e=typeof e=="object"&&e.J?e.H():String(e),ta(Ea.test(e),"%s does not match the safe URL pattern",e)||(e="about:invalid#zClosurez"),new v(e,Ca))},Ca={},w=function(e,i,n){this.M=n===Ga?e:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(e){return e instanceof w&&e.constructor===w?e.M:(ua("expected object of type SafeHtml, got '"+e+"' of type "+ka(e)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(e){var i=!1,n;return function(){return i||(n=e(),i=!0),n}}(function(){if(typeof document>"u")return!1;var e=document.createElement("div"),i=document.createElement("div");return i.appendChild(document.createElement("div")),e.appendChild(i),e.firstChild?(i=e.firstChild.firstChild,e.innerHTML=Ha(Ia),!i.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(e,i,n){return e[i]=e[i]||n},Oa=function(e){for(var i=0;i<this.length;i++)if(this[i]===e)return i;return-1},Pa=function(e){e=e.sort();for(var i=[],n=void 0,o=0;o<e.length;o++){var r=e[o];r!=n&&i.push(r),n=r}return i},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(e){return String(e).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var e;if((e=Object.create)&&Na.test(e))e=e(null);else{e={};for(var i in e)e[i]=void 0}return e},C=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},Xa=function(e){if(Na.test(Object.keys))return Object.keys(e);var i=[],n;for(n in e)C(e,n)&&i.push(n);return i},D=function(e,i){e=e||{};for(var n in e)C(e,n)&&(i[n]=e[n])},Ya=function(e){return function(){x.setTimeout(e,0)}},E=function(e,i){if(!e)throw Error(i||"")},F=A(x,"gapi",{}),H=function(e,i,n){var o=new RegExp("([#].*&|[#])"+i+"=([^&#]*)","g");if(i=new RegExp("([?#].*&|[?#])"+i+"=([^&#]*)","g"),e=e&&(o.exec(e)||i.exec(e)))try{n=decodeURIComponent(e[2])}catch{}return n},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(e){e=String(e),e=e.replace($a,function(r){try{return encodeURIComponent(r)}catch{return encodeURIComponent(r.replace(/^[^%]+$/g,"\uFFFD"))}}).replace(ab,function(r){return r.replace(/%/g,"%25")}).replace(bb,function(r){return r.toUpperCase()}),e=e.match(Za)||[];var i=B(),n=function(r){return r.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},o=!!(e[1]||"").match(cb);return i.A=n((e[1]||"")+(e[2]||"")+(e[3]||(e[2]&&o?"/":""))),o=function(r){return n(r.replace(/\?/g,"%3F").replace(/#/g,"%23"))},i.query=e[5]?[o(e[5])]:[],i.g=e[7]?[o(e[7])]:[],i},db=function(e){return e.A+(0<e.query.length?"?"+e.query.join("&"):"")+(0<e.g.length?"#"+e.g.join("&"):"")},eb=function(e,i){var n=[];if(e){for(var o in e)if(C(e,o)&&e[o]!=null){var r=i?i(e[o]):e[o];n.push(encodeURIComponent(o)+"="+encodeURIComponent(r))}}return n},fb=function(e,i,n,o){return e=I(e),e.query.push.apply(e.query,eb(i,o)),e.g.push.apply(e.g,eb(n,o)),db(e)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(e,i){var n=I(i);i=n.A,n.query.length&&(i+="?"+n.query.join("")),n.g.length&&(i+="#"+n.g.join(""));var o="";2e3<i.length&&(o=i,i=i.substr(0,2e3),i=i.replace(gb,""),o=o.substr(i.length));var r=e.createElement("div");if(e=e.createElement("a"),n=I(i),i=n.A,n.query.length&&(i+="?"+n.query.join("")),n.g.length&&(i+="#"+n.g.join("")),i=new v(i,Ca),xa(e,"HTMLAnchorElement"),i=i instanceof v?i:Fa(i),e.href=Da(i),r.appendChild(e),i=r.innerHTML,n=new t(za,"Assignment to self."),va(Ba(n),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(n)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),i=(n=ya)?n.createHTML(i):i,i=new w(i,null,Ga),r.tagName&&Ja[r.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+r.tagName+".");if(Ka())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ha(i),i=String(r.firstChild.href),r.parentNode&&r.parentNode.removeChild(r),n=I(i+o),o=n.A,n.query.length&&(o+="?"+n.query.join("")),n.g.length&&(o+="#"+n.g.join("")),o},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(e,i,n,o){x[n+"EventListener"]?x[n+"EventListener"](e,i,!1):x[o+"tachEvent"]&&x[o+"tachEvent"]("on"+e,i)},kb=function(){var e=z.readyState;return e==="complete"||e==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function(e){var i=lb;if(!kb())try{i()}catch{}mb(e)},mb=function(e){if(kb())e();else{var i=!1,n=function(){if(!i)return i=!0,e.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",n,!1),x.addEventListener("DOMContentLoaded",n,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&n.apply(this,arguments)}),x.attachEvent("onload",n))}},ob=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(e){return K.dpo?K.h:H(e,"jsh",K.h)},rb=function(e){var i=A(K,"sws",[]);i.push.apply(i,e)},sb=function(e){return A(K,"watt",B())[e]},tb=function(e){var i=A(K,"PQ",[]);K.PQ=[];var n=i.length;if(n===0)e();else for(var o=0,r=function(){++o===n&&e()},s=0;s<n;s++)i[s](r)},ub=function(e){return A(A(K,"H",B()),e,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(e,i,n){var o=vb.r;typeof o=="function"?o(e,i,n):o.push([e,i,n])},L=function(e,i,n){wb[e]=!i&&wb[e]||n||new Date().getTime(),yb(e)},Ab=function(e,i,n){i&&0<i.length&&(i=zb(i),n&&0<n.length&&(i+="___"+zb(n)),28<i.length&&(i=i.substr(0,28)+(i.length-28)),n=i,i=A(xb,"_p",B()),A(i,n,B())[e]=new Date().getTime(),yb(e,"_p",n))},zb=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(e){throw Error("Bad hint"+(e?": "+e:""))};N.push(["jsl",function(e){for(var i in e)if(C(e,i)){var n=e[i];typeof n=="object"?K[i]=A(K,i,[]).concat(n):A(K,i,n)}(i=e.u)&&(e=A(K,"us",[]),e.push(i),(i=/^https:(.*)$/.exec(i))&&e.push("http:"+i[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(e,i,n,o){var r=e.split(";"),s=r.shift(),l=Bb[s],c=null;return l?c=l(r,i,n,o):O("no hint processor for: "+s),c||O("failed to generate load url"),i=c,n=i.match(Hb),(o=i.match(Ib))&&o.length===1&&Jb.test(i)&&n&&n.length===1||O("failed sanity: "+e),c},Nb=function(e,i,n,o){e=Lb(e),Fb.test(n)||O("invalid_callback"),i=Mb(i),o=o&&o.length?Mb(o):null;var r=function(s){return encodeURIComponent(s).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",r(e.version),"/m=",r(i),o?"/exm="+r(o):"","/rt=j/sv=1/d=1/ed=1",e.S?"/am="+r(e.S):"",e.Z?"/rs="+r(e.Z):"",e.aa?"/t="+r(e.aa):"","/cb=",r(n)].join("")},Lb=function(e){e.charAt(0)!=="/"&&O("relative path");for(var i=e.substring(1).split("/"),n=[];i.length;){if(e=i.shift(),!e.length||e.indexOf(".")==0)O("empty/relative directory");else if(0<e.indexOf("=")){i.unshift(e);break}n.push(e)}e={};for(var o=0,r=i.length;o<r;++o){var s=i[o].split("="),l=decodeURIComponent(s[0]),c=decodeURIComponent(s[1]);s.length==2&&l&&c&&(e[l]=e[l]||c)}for(i="/"+n.join("/"),Cb.test(i)||O("invalid_prefix"),n=0,o=Db.length;n<o;++n)Db[n].test(i)&&O("invalid_prefix");return n=Ob(e,"k",!0),o=Ob(e,"am"),r=Ob(e,"rs"),e=Ob(e,"t"),{pathPrefix:i,version:n,S:o,Z:r,aa:e}},Mb=function(e){for(var i=[],n=0,o=e.length;n<o;++n){var r=e[n].replace(/\./g,"_").replace(/-/g,"_");Gb.test(r)&&i.push(r)}return i.join(",")},Ob=function(e,i,n){if(e=e[i],!e&&n&&O("missing: "+i),e){if(Eb.test(e))return e;O("invalid: "+i)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var e=qb(La.href);if(!e)throw Error("Bad hint");return e};Bb.m=function(e,i,n,o){return(e=e[0])||O("missing_hint"),"https://apis.google.com"+Nb(e,i,n,o)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(e,i){for(var n=[],o=0;o<e.length;++o){var r=e[o];r&&0>Oa.call(i,r)&&n.push(r)}return n},Tb=function(){var e=K.nonce;return e!==void 0?e&&e===String(e)&&e.match(Rb)?e:K.nonce=null:z.querySelector&&(e=z.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"",e&&e===String(e)&&e.match(Rb)?K.nonce=e:K.nonce=null):null},Wb=function(e){if(z.readyState!="loading")Ub(e);else{var i=Tb(),n="";i!==null&&(n=' nonce="'+i+'"'),e="<"+Qb+' src="'+encodeURI(e)+'"'+n+"></"+Qb+">",z.write(Vb?Vb.createHTML(e):e)}},Ub=function(e){var i=z.createElement(Qb);i.setAttribute("src",Vb?Vb.createScriptURL(e):e),e=Tb(),e!==null&&i.setAttribute("nonce",e),i.async="true",(e=z.getElementsByTagName(Qb)[0])?e.parentNode.insertBefore(i,e):(z.head||z.body||z.documentElement).appendChild(i)},Xb=function(e,i){var n=i&&i._c;if(n)for(var o=0;o<N.length;o++){var r=N[o][0],s=N[o][1];s&&C(n,r)&&s(n[r],e,i)}},Zb=function(e,i,n){Yb(function(){var o=i===qb(La.href)?A(F,"_",B()):B();o=A(ub(i),"_",o),e(o)},n)},ac=function(e,i){var n=i||{};typeof i=="function"&&(n={},n.callback=i),Xb(e,n),i=e?e.split(":"):[];var o=n.h||Pb(),r=A(K,"ah",B());if(r["::"]&&i.length){e=[];for(var s=null;s=i.shift();){var l=s.split(".");l=r[s]||r[l[1]&&"ns:"+l[0]||""]||o;var c=e.length&&e[e.length-1]||null,d=c;c&&c.hint==l||(d={hint:l,V:[]},e.push(d)),d.V.push(s)}var u=e.length;if(1<u){var h=n.callback;h&&(n.callback=function(){--u==0&&h()})}for(;i=e.shift();)$b(i.V,n,i.hint)}else $b(i||[],n,o)},$b=function(e,i,n){e=Pa(e)||[];var o=i.callback,r=i.config,s=i.timeout,l=i.ontimeout,c=i.onerror,d=void 0;typeof c=="function"&&(d=c);var u=null,h=!1;if(s&&!l||!s&&l)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";c=A(ub(n),"r",[]).sort();var g=A(ub(n),"L",[]).sort(),p=[].concat(c),f=function(J,$){if(h)return 0;x.clearTimeout(u),g.push.apply(g,y);var _e=((F||{}).config||{}).update;if(_e?_e(r):r&&A(K,"cu",[]).push(r),$){Ab("me0",J,p);try{Zb($,n,d)}finally{Ab("me1",J,p)}}return 1};0<s&&(u=x.setTimeout(function(){h=!0,l()},s));var y=Sb(e,g);if(y.length){y=Sb(e,c);var M=A(K,"CP",[]),k=M.length;if(M[k]=function(J){if(!J)return 0;Ab("ml1",y,p);var $=function(Te){M[k]=null,f(y,J)&&tb(function(){o&&o(),Te()})},_e=function(){var Te=M[k+1];Te&&Te()};0<k&&M[k-1]?M[k]=function(){$(_e)}:$(_e)},y.length){var G="loaded_"+K.I++;F[G]=function(J){M[k](J),F[G]=null},e=Kb(n,y,"gapi."+G,c),c.push.apply(c,y),Ab("ml0",y,p),i.sync||x.___gapisync?Wb(e):Ub(e)}else M[k](Ma)}else f(y)&&o&&o()},Vb=qa("gapi#gapi"),Yb=function(e,i){if(K.hee&&0<K.hel)try{return e()}catch(n){i&&i(n),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(n)}catch{throw n}})}else try{return e()}catch(n){throw i&&i(n),n}};F.load=function(e,i){return Yb(function(){return ac(e,i)})};var bc=function(e){var i=window.___jsl=window.___jsl||{};return i[e]=i[e]||[],i[e]},cc=function(e){var i=window.___jsl=window.___jsl||{};return i.cfg=!e&&i.cfg||{},i.cfg},dc=function(e){return typeof e=="object"&&/\[native code\]/.test(e.push)},P=function(e,i,n){if(i&&typeof i=="object")for(var o in i)!Object.prototype.hasOwnProperty.call(i,o)||n&&o==="___goc"&&typeof i[o]>"u"||(e[o]&&i[o]&&typeof e[o]=="object"&&typeof i[o]=="object"&&!dc(e[o])&&!dc(i[o])?P(e[o],i[o]):i[o]&&typeof i[o]=="object"?(e[o]=dc(i[o])?[]:{},P(e[o],i[o])):e[o]=i[o])},ec=function(e){if(e&&!/^\s+$/.test(e)){for(;e.charCodeAt(e.length-1)==0;)e=e.substring(0,e.length-1);try{var i=window.JSON.parse(e)}catch{}if(typeof i=="object")return i;try{i=new Function("return ("+e+`
)`)()}catch{}if(typeof i=="object")return i;try{i=new Function("return ({"+e+`
})`)()}catch{}return typeof i=="object"?i:{}}},fc=function(e,i){var n={___goc:void 0};e.length&&e[e.length-1]&&Object.hasOwnProperty.call(e[e.length-1],"___goc")&&typeof e[e.length-1].___goc>"u"&&(n=e.pop()),P(n,i),e.push(n)},gc=function(e){cc(!0);var i=window.___gcfg,n=bc("cu"),o=window.___gu;i&&i!==o&&(fc(n,i),window.___gu=i),i=bc("cu");var r=document.scripts||document.getElementsByTagName("script")||[];o=[];var s=[];s.push.apply(s,bc("us"));for(var l=0;l<r.length;++l)for(var c=r[l],d=0;d<s.length;++d)c.src&&c.src.indexOf(s[d])==0&&o.push(c);for(o.length==0&&0<r.length&&r[r.length-1].src&&o.push(r[r.length-1]),r=0;r<o.length;++r)o[r].getAttribute("gapi_processed")||(o[r].setAttribute("gapi_processed",!0),(s=o[r])?(l=s.nodeType,s=l==3||l==4?s.nodeValue:s.textContent||s.innerText||s.innerHTML||""):s=void 0,(s=ec(s))&&i.push(s));for(e&&fc(n,e),o=bc("cd"),e=0,i=o.length;e<i;++e)P(cc(),o[e],!0);for(o=bc("ci"),e=0,i=o.length;e<i;++e)P(cc(),o[e],!0);for(e=0,i=n.length;e<i;++e)P(cc(),n[e],!0)},Q=function(e){var i=cc();if(!e)return i;e=e.split("/");for(var n=0,o=e.length;i&&typeof i=="object"&&n<o;++n)i=i[e[n]];return n===e.length&&i!==void 0?i:void 0},hc=function(e,i){var n;if(typeof e=="string"){var o=n={};e=e.split("/");for(var r=0,s=e.length;r<s-1;++r){var l={};o=o[e[r]]=l}o[e[r]]=i}else n=e;gc(n)},ic=function(){var e=window.__GOOGLEAPIS;e&&(e.googleapis&&!e["googleapis.config"]&&(e["googleapis.config"]=e.googleapis),A(K,"ci",[]).push(e),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var e=document.getElementsByTagName("meta"),i=0;i<e.length;++i){var n=e[i].name.toLowerCase();if(n.lastIndexOf("google-signin-",0)==0){n=n.substring(14);var o=e[i].content;jc[n]&&o&&(lc[n]=o)}}if(window.self!==window.top){e=document.location.toString();for(var r in jc)0<jc[r]&&(i=H(e,r,""))&&(lc[r]=i)}kc=!0}return r=B(),D(lc,r),r},nc=function(e){return!!(e.clientid&&e.scope&&e.callback)},oc=window.console,pc=function(e){oc&&oc.log&&oc.log(e)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(e){for(var i in R)e(R[i])},tc=function(e,i){(e=R[e])&&e.state<i&&(e.state=i)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(e){var i=Q("googleapis.config/sessionIndex");if(typeof i=="string"&&254<i.length&&(i=null),i==null&&(i=window.__X_GOOG_AUTHUSER),typeof i=="string"&&254<i.length&&(i=null),i==null){var n=window.google;n&&(i=n.authuser)}return typeof i=="string"&&254<i.length&&(i=null),i==null&&(e=e||window.location.href,i=H(e,"authuser")||null,i==null&&(i=(i=e.match(vc))?i[1]:null)),i==null?null:(i=String(i),254<i.length&&(i=null),i)},yc=function(e){var i=Q("googleapis.config/sessionDelegate");return typeof i=="string"&&21<i.length&&(i=null),i==null&&(i=(e=(e||window.location.href).match(wc))?e[1]:null),i==null?null:(i=String(i),21<i.length&&(i=null),i)},zc,S,T=void 0,U=function(e){try{return m.JSON.parse.call(m.JSON,e)}catch{return!1}},V=function(e){return Object.prototype.toString.call(e)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(e,i){if(i){for(var n=0,o=i.length;n<o;++n)if(e===i[n])throw new TypeError("Converting circular structure to JSON")}if(o=typeof e,o!=="undefined"){n=Array.prototype.slice.call(i||[],0),n[n.length]=e,i=[];var r=V(e);if(e!=null&&typeof e.toJSON=="function"&&(Object.prototype.hasOwnProperty.call(e,"toJSON")||(r!==Fc||e.constructor!==Array&&e.constructor!==Object)&&(r!==Ec||e.constructor!==Array&&e.constructor!==Object)&&r!==Dc&&r!==Ac&&r!==Cc&&r!==Bc))return W(e.toJSON.call(e),n);if(e==null)i[i.length]="null";else if(r===Ac)e=Number(e),isNaN(e)||isNaN(e-e)?e="null":e===-0&&0>1/e&&(e="-0"),i[i.length]=String(e);else if(r===Cc)i[i.length]=String(!!Number(e));else{if(r===Bc)return W(e.toISOString.call(e),n);if(r===Fc&&V(e.length)===Ac){i[i.length]="[";var s=0;for(o=Number(e.length)>>0;s<o;++s)s&&(i[i.length]=","),i[i.length]=W(e[s],n)||"null";i[i.length]="]"}else if(r==Dc&&V(e.length)===Ac){for(i[i.length]='"',s=0,n=Number(e.length)>>0;s<n;++s)o=String.prototype.charAt.call(e,s),r=String.prototype.charCodeAt.call(e,s),i[i.length]=o==="\b"?"\\b":o==="\f"?"\\f":o===`
`?"\\n":o==="\r"?"\\r":o==="	"?"\\t":o==="\\"||o==='"'?"\\"+o:31>=r?"\\u"+(r+65536).toString(16).substr(1):32<=r&&65535>=r?o:"\uFFFD";i[i.length]='"'}else if(o==="object"){i[i.length]="{",o=0;for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r=W(e[s],n),r!==void 0&&(o++&&(i[i.length]=","),i[i.length]=W(s),i[i.length]=":",i[i.length]=r));i[i.length]="}"}else return}return i.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch(e){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var e=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==e)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=e}}},Zc=function(e){return S===-1?!1:(Yc(),(zc?U:Xc)(e))},$c=function(e){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,e):W(e)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var e=Date.prototype.getUTCFullYear.call(this);return[0>e?"-"+String(1e6-e).substr(1):9999>=e?String(1e4+e).substr(1):"+"+String(1e6+e).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var e=1;e<this.j;++e)this.C[e]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(e,i,n){n||(n=0);var o=e.da;if(typeof i=="string")for(var r=0;16>r;r++)o[r]=i.charCodeAt(n)<<24|i.charCodeAt(n+1)<<16|i.charCodeAt(n+2)<<8|i.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)o[r]=i[n]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3],n+=4;for(r=16;80>r;r++){var s=o[r-3]^o[r-8]^o[r-14]^o[r-16];o[r]=(s<<1|s>>>31)&4294967295}i=e.b[0],n=e.b[1];var l=e.b[2],c=e.b[3],d=e.b[4];for(r=0;80>r;r++){if(40>r)if(20>r){s=c^n&(l^c);var u=1518500249}else s=n^l^c,u=1859775393;else 60>r?(s=n&l|c&(n|l),u=2400959708):(s=n^l^c,u=3395469782);s=(i<<5|i>>>27)+s+d+u+o[r]&4294967295,d=c,c=l,l=(n<<30|n>>>2)&4294967295,n=i,i=s}e.b[0]=e.b[0]+i&4294967295,e.b[1]=e.b[1]+n&4294967295,e.b[2]=e.b[2]+l&4294967295,e.b[3]=e.b[3]+c&4294967295,e.b[4]=e.b[4]+d&4294967295};dd.prototype.update=function(e,i){if(e!=null){i===void 0&&(i=e.length);for(var n=i-this.j,o=0,r=this.G,s=this.o;o<i;){if(s==0)for(;o<=n;)ed(this,e,o),o+=this.j;if(typeof e=="string"){for(;o<i;)if(r[s]=e.charCodeAt(o),++s,++o,s==this.j){ed(this,r),s=0;break}}else for(;o<i;)if(r[s]=e[o],++s,++o,s==this.j){ed(this,r),s=0;break}}this.o=s,this.D+=i}},dd.prototype.digest=function(){var e=[],i=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var n=this.j-1;56<=n;n--)this.G[n]=i&255,i/=256;for(ed(this,this.G),n=i=0;5>n;n++)for(var o=24;0<=o;o-=8)e[i]=this.b[n]>>o&255,++i;return e};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(e){e=e||x.event;var i=e.screenX+e.clientX<<16;i+=e.screenY+e.clientY,i*=new Date().getTime()%1e6,kd=kd*i%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(e){var i=new fd;e=unescape(encodeURIComponent(e));for(var n=[],o=0,r=e.length;o<r;++o)n.push(e.charCodeAt(o));for(i.O.update(n),i=i.O.digest(),e="",n=0;n<i.length;n++)e+="0123456789ABCDEF".charAt(Math.floor(i[n]/16))+"0123456789ABCDEF".charAt(i[n]%16);return e};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var e=kd;return e+=parseInt(md.substr(0,20),16),md=od(md),e/(ld+Math.pow(16,20))},qd=function(){var e=new x.Uint32Array(1);return gd.getRandomValues(e),+("0."+e[0])},rd=function(){var e=K.onl;if(!e){e=B(),K.onl=e;var i=B();e.e=function(n){var o=i[n];o&&(delete i[n],o())},e.a=function(n,o){i[n]=o},e.r=function(n){delete i[n]}}return e},sd=function(e,i){return i=i.onload,typeof i=="function"?(rd().a(e,i),i):null},td=function(e){return E(/^\w+$/.test(e),"Unsupported id - "+e),rd(),'onload="window.___jsl.onl.e(&#34;'+e+'&#34;)"'},ud=function(e){rd().r(e)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(e){E(!e||ib.test(e),"Illegal url for new iframe - "+e)},zd=function(e,i,n,o,r){yd(n.src);var s,l=sd(o,n),c=l?td(o):"";try{document.all&&(s=e.createElement('<iframe frameborder="'+Wa(String(n.frameborder))+'" scrolling="'+Wa(String(n.scrolling))+'" '+c+' name="'+Wa(String(n.name))+'"/>'))}catch{}finally{s||(s=e.createElement("iframe"),l&&(s.onload=function(){s.onload=null,l.call(this)},ud(o)))}s.setAttribute("ng-non-bindable","");for(var d in n)e=n[d],d==="style"&&typeof e=="object"?D(e,s.style):wd[d]||s.setAttribute(d,String(e));return(d=r&&r.beforeNode||null)||r&&r.dontclear||ob(i),i.insertBefore(s,d),s=d?d.previousSibling:i.lastChild,n.allowtransparency&&(s.allowTransparency=!0),s},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var e=xc()||"0",i=yc(),n=xc(void 0)||e,o=yc(void 0),r="";n&&(r+="u/"+encodeURIComponent(String(n))+"/"),o&&(r+="b/"+encodeURIComponent(String(o))+"/"),n=r||null,(r=(o=Q("isLoggedIn")===!1)?"_/im/":"")&&(n="");var s=Q("iframes/:socialhost:"),l=Q("iframes/:im_socialhost:");return uc={socialhost:s,ctx_socialhost:o?l:s,session_index:e,session_delegate:i,session_prefix:n,im_prefix:r}},Dd=function(e,i){return Cd()[i]||""},Ed=function(e){return function(i,n){return e?Cd()[n]||e[n]||"":Cd()[n]||""}},Fd=function(e){var i;return e.match(/^https?%3A/i)&&(i=decodeURIComponent(e)),hb(document,i||e)},Gd=function(e){e=e||"canonical";for(var i=document.getElementsByTagName("link"),n=0,o=i.length;n<o;n++){var r=i[n],s=r.getAttribute("rel");if(s&&s.toLowerCase()==e&&(r=r.getAttribute("href"))&&(r=Fd(r))&&r.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return r}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(e,i,n){var o,r={},s=o=e;e=="plus"&&i.action&&(o=e+"_"+i.action,s=e+"/"+i.action),(o=Q("iframes/"+o+"/url"))||(o=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+s+"?usegapi=1");for(var l in Hd)r[l]=l+"/"+(i[l]||Hd[l])+"/";if(r=hb(z,o.replace(Bd,Ed(r))),l="iframes/"+e+"/params/",s={},D(i,s),(o=Q("lang")||Q("gwidget/lang"))&&(s.hl=o),Id[e]||(s.origin=window.location.origin||window.location.protocol+"//"+window.location.host),s.exp=Q(l+"exp"),l=Q(l+"location"))for(o=0;o<l.length;o++){var c=l[o];s[c]=x.location[c]}switch(e){case"plus":case"follow":l=s.href,o=i.action?void 0:"publisher",l=(l=typeof l=="string"?l:void 0)?Fd(l):Gd(o),s.url=l,delete s.href;break;case"plusone":l=(l=i.href)?Fd(l):Gd(),s.url=l,l=i.db,o=Q(),l==null&&o&&(l=o.db,l==null&&(l=o.gwidget&&o.gwidget.db)),s.db=l||void 0,l=i.ecp,o=Q(),l==null&&o&&(l=o.ecp,l==null&&(l=o.gwidget&&o.gwidget.ecp)),s.ecp=l||void 0,delete s.href;break;case"signin":s.url=Gd()}K.ILI&&(s.iloader="1"),delete s["data-onload"],delete s.rd;for(var d in Hd)s[d]&&delete s[d];s.gsrc=Q("iframes/:source:"),d=Q("inline/css"),typeof d<"u"&&0<n&&d>=n&&(s.ic="1"),d=/^#|^fr-/,n={};for(var u in s)C(s,u)&&d.test(u)&&(n[u.replace(d,"")]=s[u],delete s[u]);u=Q("iframes/"+e+"/params/si")=="q"?s:n,d=mc();for(var h in d)!C(d,h)||C(s,h)||C(n,h)||(u[h]=d[h]);h=[].concat(Kd),(u=Q("iframes/"+e+"/methods"))&&typeof u=="object"&&Na.test(u.push)&&(h=h.concat(u));for(var g in i)C(i,g)&&/^on/.test(g)&&(e!="plus"||g!="onconnect")&&(h.push(g),delete s[g]);return delete s.callback,n._methods=h.join(","),fb(r,s,n)},Nd=["style","data-gapiscan"],Pd=function(e){for(var i=B(),n=e.nodeName.toLowerCase().indexOf("g:")!=0,o=0,r=e.attributes.length;o<r;o++){var s=e.attributes[o],l=s.name,c=s.value;0<=Oa.call(Nd,l)||n&&l.indexOf("data-")!=0||c==="null"||"specified"in s&&!s.specified||(n&&(l=l.substr(5)),i[l.toLowerCase()]=c)}return e=e.style,(n=Od(e&&e.height))&&(i.height=String(n)),(e=Od(e&&e.width))&&(i.width=String(e)),i},Od=function(e){var i=void 0;return typeof e=="number"?i=e:typeof e=="string"&&(i=parseInt(e,10)),i},Rd=function(){var e=K.drw;sc(function(i){if(e!==i.id&&i.state!=4&&i.type!="share"){var n=i.id,o=i.type,r=i.url;i=i.userParams;var s=z.getElementById(n);if(s){var l=Md(o,i,0);l?(s=s.parentNode,r.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==l.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(i.dontclear=!0,i.rd=!0,i.ri=!0,i.type=o,Qd(s,i),(o=R[s.lastChild.id])&&(o.oid=n),tc(n,4))):delete R[n]}else delete R[n]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(e,i){Yd(void 0,!1,e,i)},Yd=function(e,i,n,o){L("ps0",!0),n=(typeof n=="string"?document.getElementById(n):n)||z;var r=z.documentMode;if(n.querySelectorAll&&(!r||8<r)){r=o?[o]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var s=[],l=0;l<r.length;l++){var c=r[l];s.push(".g-"+c,"g\\:"+c)}r=n.querySelectorAll(s.join(","))}else r=n.getElementsByTagName("*");for(n=B(),s=0;s<r.length;s++){l=r[s];var d=l;c=o;var u=d.nodeName.toLowerCase(),h=void 0;if(d.getAttribute("data-gapiscan"))c=null;else{var g=u.indexOf("g:");g==0?h=u.substr(2):(g=(g=String(d.className||d.getAttribute("class")))&&Wd.exec(g))&&(h=g[1]),c=!h||!(Sd[h]||Td[h]||X[h])||c&&h!==c?null:h}c&&(Xd[c]||l.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd(l)).length!=0)&&(l.setAttribute("data-gapiscan",!0),A(n,c,[]).push(l))}if(i)for(var p in n)for(i=n[p],o=0;o<i.length;o++)i[o].setAttribute("data-onload",!0);for(var f in n)Ud.push(f);if(L("ps1",!0),(p=Ud.join(":"))||e)try{F.load(p,e)}catch(M){pc(M);return}if($d(Vd||{}))for(var y in n){for(e=n[y],f=0,i=e.length;f<i;f++)e[f].removeAttribute("data-gapiscan");ae(y)}else{o=[];for(y in n)for(e=n[y],f=0,i=e.length;f<i;f++)r=e[f],be(y,r,Pd(r),o,i);ce(p,o)}},de=function(e){var i=A(F,e,{});i.go||(i.go=function(n){return Zd(n,e)},i.render=function(n,o){return o=o||{},o.type=e,Qd(n,o)})},ee=function(e){Sd[e]=!0},fe=function(e){Td[e]=!0},ge=function(e){X[e]=!0},ae=function(e,i){var n=sb(e);i&&n?(n(i),(n=i.iframeNode)&&n.setAttribute("data-gapiattached",!0)):F.load(e,function(){var o=sb(e),r=i&&i.iframeNode,s=i&&i.userParams;r&&o?(o(i),r.setAttribute("data-gapiattached",!0)):(o=F[e].go,e=="signin2"?o(r,s):o(r&&r.parentNode,s))})},$d=function(){return!1},ce=function(){},be=function(e,i,n,o,r,s,l){switch(he(i,e,s)){case 0:e=X[e]?e+"_annotation":e,o={},o.iframeNode=i,o.userParams=n,ae(e,o);break;case 1:if(i.parentNode){for(var c in n)if((s=C(n,c))&&(s=n[c],s=!!s&&typeof s=="object"&&(!s.toString||s.toString===Object.prototype.toString||s.toString===Array.prototype.toString)),s)try{n[c]=$c(n[c])}catch{delete n[c]}if(s=!0,n.dontclear&&(s=!1),delete n.dontclear,rc(),c=Md(e,n,r),r=l||{},r.allowPost=1,r.attributes=Jd,r.dontclear=!s,l={},l.userParams=n,l.url=c,l.type=e,n.rd)var d=i;else d=document.createElement("div"),i.setAttribute("data-gapistub",!0),d.style.cssText="position:absolute;width:450px;left:-10000px;",i.parentNode.insertBefore(d,i);l.siteElement=d,d.id||(i=d,A(Ld,e,0),s="___"+e+"_"+Ld[e]++,i.id=s),i=B(),i[">type"]=e,D(n,i),s=c,n=d,c=r||{},i=c.attributes||{},E(!(c.allowPost||c.forcePost)||!i.onload,"onload is not supported by post iframe (allowPost or forcePost)"),r=i=s,Ad.test(i)&&(r=Q("iframes/"+r.substring(1)+"/url"),E(!!r,"Unknown iframe url config for - "+i)),s=hb(z,r.replace(Bd,Dd)),i=n.ownerDocument||z,d=0;do r=c.id||["I",xd++,"_",new Date().getTime()].join("");while(i.getElementById(r)&&5>++d);E(5>d,"Error creating iframe id"),d={};var u={};i.documentMode&&9>i.documentMode&&(d.hostiemode=i.documentMode),D(c.queryParams||{},d),D(c.fragmentParams||{},u);var h=c.pfname,g=B();Q("iframes/dropLegacyIdParam")||(g.id=r),g._gfid=r,g.parent=i.location.protocol+"//"+i.location.host;var p=H(i.location.href,"parent");if(h=h||"",!h&&p&&(p=H(i.location.href,"_gfid","")||H(i.location.href,"id",""),h=H(i.location.href,"pfname",""),h=p?h+"/"+p:""),h||(p=Zc(H(i.location.href,"jcp","")))&&typeof p=="object"&&(h=(h=p.id)?p.pfname+"/"+h:""),g.pfname=h,c.connectWithJsonParam&&(p={},p.jcp=$c(g),g=p),p=H(s,"rpctoken")||d.rpctoken||u.rpctoken,p||(p=c.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),g.rpctoken=p),c.rpctoken=p,D(g,c.connectWithQueryParams?d:u),p=i.location.href,g=B(),(h=H(p,"_bsh",K.bsh))&&(g._bsh=h),(p=qb(p))&&(g.jsh=p),c.hintInFragment?D(g,u):D(g,d),s=fb(s,d,u,c.paramsSerializer),u=B(),D(vd,u),D(c.attributes,u),u.name=u.id=r,u.src=s,c.eurl=s,d=c||{},g=!!d.allowPost,d.forcePost||g&&2e3<s.length){if(d=I(s),u.src="",c.dropDataPostorigin||(u["data-postorigin"]=s),s=zd(i,n,u,r),navigator.userAgent.indexOf("WebKit")!=-1){var f=s.contentWindow.document;f.open(),u=f.createElement("div"),g={},p=r+"_inner",g.name=p,g.src="",g.style="display:none",zd(i,u,g,p,c)}for(u=(c=d.query[0])?c.split("&"):[],c=[],g=0;g<u.length;g++)p=u[g].split("=",2),c.push([decodeURIComponent(p[0]),decodeURIComponent(p[1])]);for(d.query=[],u=db(d),E(ib.test(u),"Invalid URL: "+u),d=i.createElement("form"),d.method="POST",d.target=r,d.style.display="none",r=u instanceof v?u:Fa(u),xa(d,"HTMLFormElement").action=Da(r),r=0;r<c.length;r++)u=i.createElement("input"),u.type="hidden",u.name=c[r][0],u.value=c[r][1],d.appendChild(u);n.appendChild(d),d.submit(),d.parentNode.removeChild(d),f&&f.close(),f=s}else f=zd(i,n,u,r,c);l.iframeNode=f,l.id=f.getAttribute("id"),f=l.id,n=B(),n.id=f,n.userParams=l.userParams,n.url=l.url,n.type=l.type,n.state=1,R[f]=n,f=l}else f=null;f&&((l=f.id)&&o.push(l),ae(e,f))}},he=function(e,i,n){if(e&&e.nodeType===1&&i){if(n)return 1;if(X[i]){if(pb[e.nodeName.toLowerCase()])return(e=e.innerHTML)&&e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[i])return 0;if(Sd[i])return 1}}return null},Qd=function(e,i){var n=i.type;delete i.type;var o=(typeof e=="string"?document.getElementById(e):e)||void 0;if(o){e={};for(var r in i)C(i,r)&&(e[r.toLowerCase()]=i[r]);e.rd=1,(i=!!e.ri)&&delete e.ri,r=[],be(n,o,e,r,0,i,void 0),ce(n,r)}else pc("gapi."+n+".render: missing element "+typeof e=="string"?e:"")};A(F,"platform",{}).go=Zd,$d=function(e){for(var i=["_c","jsl","h"],n=0;n<i.length&&e;n++)e=e[i[n]];return i=qb(La.href),!e||e.indexOf("n;")!=0&&i.indexOf("n;")!=0&&e!==i},ce=function(e,i){ie(e,i)};var lb=function(e){Yd(e,!0)},je=function(e,i){i=i||[];for(var n=0;n<i.length;++n)e(i[n]);for(e=0;e<i.length;e++)de(i[e])};N.push(["platform",function(e,i,n){if(Vd=n,i&&Ud.push(i),je(ee,e),je(fe,n._c.annotation),je(ge,n._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb(e),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),n&&(e=n.callback)){var o=Ya(e);delete n.callback}nb(function(){lb(o)})}}]),F._pl=!0;var ke=function(e){if(e=(e=R[e])?e.oid:void 0,e){var i=z.getElementById(e);i&&i.parentNode.removeChild(i),delete R[e],ke(e)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(e,i){function n(){jb("message",o,"remove","de")}function o(s){var l=s.data,c=s.origin;if(oe(l,i)){var d=r;r=!1,d&&L("rqe"),pe(e,function(){d&&L("rqd"),n();for(var u=A(K,"RPMQ",[]),h=0;h<u.length;h++)u[h]({data:l,origin:c})})}}if(i.length!==0){ne=H(La.href,"pfname","");var r=!0;jb("message",o,"add","at"),ac(e,n)}},oe=function(e,i){if(e=String(e),le.test(e))return!0;var n=!1;if(me.test(e)&&(n=!0,e=e.substr(2)),!/^\{/.test(e))return!1;var o=Zc(e);if(!o)return!1;if(e=o.f,o.s&&e&&Oa.call(i,e)!=-1){if((o.s==="_renderstart"||o.s===ne+"/"+e+"::_renderstart")&&(o=o.a&&o.a[n?0:1],i=z.getElementById(e),tc(e,2),o&&i&&o.width&&o.height)){e:{if(n=i.parentNode,e=o||{},qc()){var r=i.id;if(r){if(o=(o=R[r])?o.state:void 0,o===1||o===4)break e;ke(r)}}(o=n.nextSibling)&&o.getAttribute&&o.getAttribute("data-gapistub")&&(n.parentNode.removeChild(o),n.style.cssText=""),o=e.width;var s=e.height,l=n.style;l.textIndent="0",l.margin="0",l.padding="0",l.background="transparent",l.borderStyle="none",l.cssFloat="none",l.styleFloat="none",l.lineHeight="normal",l.fontSize="1px",l.verticalAlign="baseline",n=n.style,n.display="inline-block",l=i.style,l.position="static",l.left="0",l.top="0",l.visibility="visible",o&&(n.width=l.width=o+"px"),s&&(n.height=l.height=s+"px"),e.verticalAlign&&(n.verticalAlign=e.verticalAlign),r&&tc(r,3)}i["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function(e,i){ac(e,i)},qe=function(e,i){this.L=e,e=i||{},this.fa=Number(e.maxAge)||0,this.U=e.domain,this.X=e.path,this.ga=!!e.secure};qe.prototype.read=function(){for(var e=this.L+"=",i=document.cookie.split(/;\s*/),n=0;n<i.length;++n){var o=i[n];if(o.indexOf(e)==0)return o.substr(e.length)}},qe.prototype.write=function(e,i){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(e))throw"Invalid cookie value";if(e=this.L+"="+e,this.U&&(e+=";domain="+this.U),this.X&&(e+=";path="+this.X),i=typeof i=="number"?i:this.fa,0<=i){var n=new Date;n.setSeconds(n.getSeconds()+i),e+=";expires="+n.toUTCString()}return this.ga&&(e+=";secure"),document.cookie=e,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(e){for(var i=document.cookie.split(/;\s*/),n=0;n<i.length;++n){var o=i[n].split("="),r=o.shift();e(r,o.join("="))}};var te=function(e){this.B=e};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(e){return Y[this.B]=e,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(e){for(var i in Y)Y.hasOwnProperty(i)&&e(i,Y[i])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function(e){var i=e.substr(1),n="",o=window.location.hostname;if(i!==""){if(n=parseInt(i,10),isNaN(n)||(i=o.split("."),i.length<n-1))return null;i.length==n-1&&(o="."+o)}else o="";return{i:e.charAt(0)=="S",domain:o,l:n}},xe=function(){var e,i=null;return ve.iterate(function(n,o){n.indexOf("G_AUTHUSER_")===0&&(n=we(n.substring(11)),!e||n.i&&!e.i||n.i==e.i&&n.l>e.l)&&(e=n,i=o)}),{ea:e,F:i}},ye=function(e){if(e.indexOf("GCSC")!==0)return null;var i={W:!1};if(e=e.substr(4),!e)return i;var n=e.charAt(0);e=e.substr(1);var o=e.lastIndexOf("_");if(o==-1)return i;var r=we(e.substr(o+1));return r==null||(e=e.substring(0,o),e.charAt(0)!=="_")?i:(o=n==="E"&&r.i,!o&&(n!=="U"||r.i)||o&&!ue?i:{W:!0,i:o,ja:e.substr(1),domain:r.domain,l:r.l})},ze=function(e){return e?(e=e.split("="),e[1]?e[1].split("|"):[]):[]},Ae=function(e){return e=e.split(":"),{clientId:e[0].split("=")[1],ia:ze(e[1]),la:ze(e[2]),ka:ze(e[3])}},Be=function(){var e=xe(),i=e.ea;if(e=e.F,e!==null){var n;if(ve.iterate(function(s,l){(s=ye(s))&&s.W&&s.i==i.i&&s.l==i.l&&(n=l)}),n){var o=Ae(n),r=o&&o.ia[Number(e)];if(o=o&&o.clientId,r)return{F:e,ha:r,clientId:o}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var e=Be();(e=e&&e.F)&&hc("googleapis.config/sessionIndex",e),Ee||(Ee=A(K,"ss",new Z)),e=Ee,e.$&&e.$()};var Ce=function(){var e=Be(),i=e&&e.ha||null,n=e&&e.clientId;return ac("auth",{callback:function(){var o=x.gapi.auth,r={client_id:n,session_state:i};o.checkSessionState(r,function(s){var l=r.session_state,c=Q("isLoggedIn");s=Q("debug/forceIm")?!1:l&&s||!l&&!s,(c=c!=s)&&(hc("isLoggedIn",s),rc(),Rd(),s||((s=o.signOut)?s():(s=o.setToken)&&s(null))),s=mc();var d=Q("savedUserState");l=o._guss(s.cookiepolicy),d=d!=l&&typeof d<"u",hc("savedUserState",l),(c||d)&&nc(s)&&!Q("disableRealtimeCallback")&&o._pimf(s,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(void 0);var uxe=c4.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var TY=function(){return Nn(this,null,function*(){return new Promise(e=>{let i=document.getElementsByTagName("script")[0],n=document.createElement("script");n.id="google-platform",n.src="//apis.google.com/js/platform.js",n.async=!0,n.defer=!0,i.parentNode.insertBefore(n,i),n.onload=()=>Nn(this,null,function*(){e(window.gapi)})})})};var FY=(()=>{let i=class i{constructor(o,r){this.http=o,this._ngZone=r,this.clientId="1001414568909-9m4o7llv98hhne9trahkek6k62d7t47a.apps.googleusercontent.com",this.apiKey="AIzaSyBP_9BO-erVUz-HWUb0qmC0aC7IKxO2UpU",this.scopes="https://www.googleapis.com/auth/drive.file",this.gLoginSubject=new Wi,this.gLoginFlag$=this.gLoginSubject.asObservable(),this.gDrive={},this.initGoogleAPI(),this.subscription=this.gLoginFlag$.subscribe(s=>{this._ngZone.run(()=>{this.getGDriveInfo()})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}initGoogleAPI(){return Nn(this,null,function*(){yield TY(),this.gapi=window.gapi,yield this.gapi.load("client:auth2",()=>{this.gapi.client.init({apiKey:this.apiKey,clientId:this.clientId,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:this.scopes}).then(()=>{this.getUserInfo()})})})}getUserInfo(){return Nn(this,null,function*(){let o=this.gapi.auth2.getAuthInstance().currentUser.get(),r=o?.getBasicProfile(),s=o.getAuthResponse(),l=s.access_token||this.gapi.auth.getToken()?.access_token,c=s?.session_state?.extraQueryParams?.authuser||"0";this.setGDriveInfo({token:l,owner:r?.getEmail(),authUser:c}),this.gLoginSubject.next(+new Date)})}signIn(){this.gapi.auth2.getAuthInstance().signIn().then(o=>{this.getUserInfo()})}signOut(){this.gapi.auth2.getAuthInstance().signOut().then(o=>{console.log("User signed out",o),localStorage.removeItem("gDrive"),this.gLoginSubject.next(+new Date)})}get isLoggedIn(){return!!this.gDrive.token}getGDriveInfo(){let o=localStorage.getItem("gDrive");try{this.gDrive=o?JSON.parse(o):{}}catch(r){console.error("Error parsing GitHub data from localStorage:",r)}}setGDriveInfo({token:o,owner:r,path:s,authUser:l}){let c=localStorage.getItem("gDrive");try{this.gDrive=c?JSON.parse(c):{}}catch(d){console.error("Error parsing GitHub data from localStorage:",d)}o&&(this.gDrive.token=o),r&&(this.gDrive.owner=r),s&&(this.gDrive.path=s),l&&(this.gDrive.authUser=l),localStorage.setItem("gDrive",JSON.stringify(this.gDrive))}setIndexedTable(o){if(!o)return null;let{name:r,size:s,parents:l,webViewLink:c,id:d}=o,u=`gDrive/${this.gDrive.owner}`,h={name:r,path:l.join("/"),sha:d,size:s,download_url:c,localSha:null};return{id:u,content:h}}getFolders(){let o=this.gDrive.token,r="https://www.googleapis.com/drive/v3/files",s=new Xi({Authorization:`Bearer ${o}`}),l={q:"mimeType = 'application/vnd.google-apps.folder' and trashed = false",fields:"files(id, name)"};return this.http.get(r,{headers:s,params:l})}uploadFileForm(o){let r=this.gDrive.token,s="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,mimeType,size,parents,webViewLink,shared,createdTime,webContentLink,owners",l="",c={name:o.name,mimeType:o.type},d=new FormData;d.append("metadata",new Blob([JSON.stringify(c)],{type:"application/json"})),d.append("file",o);let u=new Xi({Accept:"*/*",Authorization:`Bearer ${r}`});return this.http.post(s,d,{headers:u,reportProgress:!0,observe:"events"})}};i.\u0275fac=function(r){return new(r||i)(Mt(Mr),Mt(vi))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function gxe(e,i){if(e&1){let n=no();He(0,"a",6),Ht("click",function(){ri(n);let r=Gt();return si(r.signIn())}),Ye(1," Sign In"),Oe()}}function pxe(e,i){if(e&1){let n=no();He(0,"a",6),Ht("click",function(){ri(n);let r=Gt();return si(r.signOut())}),Ye(1," Sign Out"),Oe()}}function fxe(e,i){if(e&1&&(He(0,"div"),Ye(1," Drive: "),He(2,"a",7),Ye(3),Oe(),Et(4,"br"),Ye(5),Et(6,"br"),Oe()),e&2){let n=Gt();tt(2),ht("href",n.driveLocation,Fn),tt(),dn(n.driveLocation),tt(2),yo(" Email: ",n.googleDriveService.gDrive.owner," ")}}function mxe(e,i){if(e&1){let n=no();He(0,"li",10)(1,"div"),Ye(2),Oe(),He(3,"div")(4,"a",7),Ye(5,"Download"),Oe(),Ye(6," | "),He(7,"a",6),Ht("click",function(){let r=ri(n).$implicit,s=Gt(2).$implicit,l=Gt();return si(l.deleteFile(s.key,r))}),Ye(8,"Delete"),Oe()()()}if(e&2){let n=i.$implicit;tt(2),yo(" ",n.name," "),tt(2),ht("href",n.download_url,Fn)}}function vxe(e,i){if(e&1&&(He(0,"ul"),ui(1,mxe,9,2,"li",9),Oe()),e&2){let n=i.ngIf;tt(),ht("ngForOf",n)}}function Cxe(e,i){if(e&1&&(He(0,"li")(1,"b",8),Ye(2),Oe(),ui(3,vxe,2,1,"ul",2),Oe()),e&2){let n=i.$implicit;tt(2),dn(n.key),tt(),ht("ngIf",n==null?null:n.value)}}var PY=(()=>{let i=class i{constructor(o,r,s){this.googleDriveService=o,this._ngZone=r,this.browserDB=s,this.myFile="",this.driveLocation="",this.selectedFiles=null,this.files=[]}ngOnInit(){this.googleDriveService.gLoginFlag$.subscribe(o=>{this._ngZone.run(()=>{this.driveLocation=`https://drive.google.com/drive/u/${this.googleDriveService.gDrive.authUser}/home`,this.isSignedIn&&this.getFolders()})}),setTimeout(()=>{this.onInit()},500)}get isSignedIn(){return this.googleDriveService.isLoggedIn}signIn(){this.googleDriveService.signIn()}signOut(){this.googleDriveService.signOut()}onFileChange(o){let r=o.target;r.files&&(this.selectedFiles=r.files)}uploadFile(){if(!this.selectedFiles){alert("No files selected!");return}let o=`(/(.|[\r
])*)|(ns:[0-9]+(/.*)?)|(id:.*)`;for(let r=0;r<this.selectedFiles.length;r++){let s=this.selectedFiles[r];s&&this.googleDriveService.uploadFileForm(s).pipe(It(l=>(l.type==Ko.UploadProgress?this.progress=Math.round(100/l.total*l.loaded):l.type==Ko.Response&&(this.progress=null),l)),Hn(l=>(console.log("sraban error1",l),l.error&&alert(l.error.message),this.progress=null,bo(l)))).subscribe(l=>{let c=this.googleDriveService.setIndexedTable(l.body);console.log("file-uploaded",l,c),c&&this.browserDB.getItem(c.id).then(d=>{if(d){let u=[...d.content,c.content];console.log("merge newContent---",d.content,u),this.browserDB.deleteItem(c.id).then(h=>{this.browserDB.addItem({id:c.id,content:u}),this.onInit()})}else this.browserDB.addItem({id:c.id,content:[c.content]}),this.onInit()})})}}deleteFile(o,r){let s=`gDrive/${o}`;this.updateLocalDB(s,r.sha),this.googleDriveService.gDrive.owner}updateLocalDB(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(d=>d.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[d,u]=l.split("/");return d=="gDrive"&&(r[u]=r[u]||[],r[u].push(...c)),r},{})})}getFolders(){this.googleDriveService.getFolders().subscribe(o=>{this.files=o})}onFileChange2(o){let r=o.target.files[0],s=r.type,l=r.name;if(r){let c=new FileReader;c.onload=d=>Nn(this,null,function*(){let u=d.target?.result;if(u){let h=new Blob([u],{type:r.type});console.log("arrayBuffer",h)}}),c.readAsBinaryString(r)}}};i.\u0275fac=function(r){return new(r||i)(lt(FY),lt(vi),lt(Us))},i.\u0275cmp=$i({type:i,selectors:[["skp-g-drive"]],standalone:!0,features:[rn],decls:14,vars:9,consts:[[2,"float","right","cursor","pointer","text-decoration","underline"],[3,"click",4,"ngIf"],[4,"ngIf"],["type","file",3,"ngModelChange","change","ngModel"],[3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"click"],["target","_blank",3,"href"],[2,"margin","10px","display","block"],["style","display: flex; justify-content: space-between;",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between"]],template:function(r,s){r&1&&(He(0,"div",0),ui(1,gxe,2,0,"a",1),Ye(2," | "),ui(3,pxe,2,0,"a",1),Oe(),Et(4,"br")(5,"hr"),ui(6,fxe,7,3,"div",2),He(7,"input",3),fo("ngModelChange",function(c){return So(s.myFile,c)||(s.myFile=c),c}),Ht("change",function(c){return s.onFileChange(c)}),Oe(),Et(8,"br"),He(9,"button",4),Ht("click",function(){return s.uploadFile()}),Ye(10),Oe(),He(11,"ul"),ui(12,Cxe,4,2,"li",5),qu(13,"keyvalue"),Oe()),r&2&&(tt(),ht("ngIf",s.isSignedIn!==!0),tt(2),ht("ngIf",s.isSignedIn==!0),tt(3),ht("ngIf",s.isSignedIn==!0),tt(),po("ngModel",s.myFile),tt(2),ht("disabled",!s.isSignedIn),tt(),yo("Upload ",s.progress?" "+s.progress+"% ....":"",""),tt(2),ht("ngForOf",Ku(13,7,s.itemList)))},dependencies:[Oo,Hs,Gs,fs,og,In,gr,pr,Wm]});let e=i;return e})();var vk=(()=>{let i=class i{constructor(o){this.http=o,this.clientId="w7sd1isz53ckzzh",this.redirectUri="http://localhost:4300?auth=dropbox",this.dropbox={},this.getDropBoxInfo()}get isLoggedIn(){return!!this.dropbox.token}get login(){return`https://www.dropbox.com/oauth2/authorize?client_id=${this.clientId}&redirect_uri=${this.redirectUri}&response_type=code&token_access_type=offline&scope=files.content.read%20files.content.write`}getToken(o){let r=`http://skpedit.42web.io/dropbox/login.php?code=${o}&state=${btoa(this.redirectUri)}`;window.location.href=r}saveToken({token:o,account_id:r}){this.setDropBoxUserInfo({token:o,owner:r})}logout(){let o=new Xi({Authorization:`Bearer ${this.dropbox.token}`});localStorage.removeItem("dropbox"),this.getDropBoxInfo(),this.http.post("https://api.dropboxapi.com/2/auth/token/revoke",null,{headers:o}).subscribe(r=>{})}getDropBoxInfo(){let o=localStorage.getItem("dropbox");try{this.dropbox=o?JSON.parse(o):{}}catch(r){console.error("Error parsing dropbox data from localStorage:",r)}}setDropBoxUserInfo({token:o,owner:r,path:s}){let l=localStorage.getItem("dropbox");try{this.dropbox=l?JSON.parse(l):{}}catch(c){console.error("Error parsing dropbox data from localStorage:",c)}o&&(this.dropbox.token=o),r&&(this.dropbox.owner=r),s&&(this.dropbox.path=s),localStorage.setItem("dropbox",JSON.stringify(this.dropbox))}uploadFile(o,r,s=""){this.setDropBoxUserInfo({path:s}),s=s.replace(/^\/+|\/+$/g,"");let l=s?"/":"",c="/"+s+l+o,d=new Xi({Accept:"*/*",Authorization:`Bearer ${this.dropbox.token}`,"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify({path:`${c}`,mode:"add",autorename:!0,mute:!1,strict_conflict:!1})});return this.http.post("https://content.dropboxapi.com/2/files/upload",r,{headers:d,reportProgress:!0,observe:"events"})}downloadFile(o){let r=new Xi({Accept:"*/*",Authorization:`Bearer ${this.dropbox.token}`,"Content-Type":"application/json"});this.http.post("https://api.dropboxapi.com/2/files/get_temporary_link",{path:o},{headers:r}).subscribe(s=>{window.open(s.link,"_blank")})}previewFile(o){let r=o.split("/"),s=r[r.length-1],c=`https://www.dropbox.com/home${o.replace("/"+s,"")}?preview=${s}`;window.open(c,"_blank")}deleteFile(o){let r=new Xi({Accept:"*/*",Authorization:`Bearer ${this.dropbox.token}`,"Content-Type":"application/json","Dropbox-API-Arg":JSON.stringify({path:o})});this.http.post("https://api.dropboxapi.com/2/files/delete_v2",null,{headers:r}).subscribe(s=>{alert("deleted!!!")})}setIndexedTable(o){if(!o)return null;let{name:r,size:s,path_display:l,path_lower:c,content_hash:d}=o;return{id:`dropbox/${this.dropbox.owner}`,content:{name:r,path:l,sha:d,size:s,download_url:c,localSha:null}}}};i.\u0275fac=function(r){return new(r||i)(Mt(Mr))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function wxe(e,i){if(e&1&&(He(0,"a",8),Ye(1,"Login"),Oe()),e&2){let n=Gt();ht("href",n.dropboxService.login,Fn)}}function bxe(e,i){if(e&1){let n=no();He(0,"a",9),Ht("click",function(){ri(n);let r=Gt();return si(r.dropboxService.logout())}),Ye(1,"Logout"),Oe()}}function yxe(e,i){if(e&1){let n=no();He(0,"li",13)(1,"div"),Ye(2),Oe(),He(3,"div")(4,"a",14),Ht("click",function(){let r=ri(n).$implicit,s=Gt(3);return si(s.dropboxService.downloadFile(r.download_url))}),Ye(5,"Download"),Oe(),Ye(6," | "),He(7,"a",14),Ht("click",function(){let r=ri(n).$implicit,s=Gt(3);return si(s.dropboxService.previewFile(r.path))}),Ye(8,"View"),Oe(),Ye(9," | "),He(10,"a",9),Ht("click",function(){let r=ri(n).$implicit,s=Gt(2).$implicit,l=Gt();return si(l.deleteFile(s.key,r))}),Ye(11,"Delete"),Oe()()()}if(e&2){let n=i.$implicit;tt(2),yo(" ",n.name," ")}}function Sxe(e,i){if(e&1&&(He(0,"ul"),ui(1,yxe,12,1,"li",12),Oe()),e&2){let n=i.ngIf;tt(),ht("ngForOf",n)}}function xxe(e,i){if(e&1&&(He(0,"li")(1,"b",10),Ye(2),Oe(),ui(3,Sxe,2,1,"ul",11),Oe()),e&2){let n=i.$implicit;tt(2),dn(n.key),tt(),ht("ngIf",n==null?null:n.value)}}var NY=(()=>{let i=class i{constructor(o,r){this.dropboxService=o,this.browserDB=r,this.myFile="",this.folderPath="",this.selectedFiles=null,this.drive="https://www.dropbox.com/home",this.folderPath=this.dropboxService.dropbox.path||""}ngOnInit(){setTimeout(()=>{this.onInit()},500)}onFileSelected(o){let r=o.target;r.files&&(this.selectedFiles=r.files)}uploadFile(){if(!this.selectedFiles){alert("No files selected!");return}let o=`(/(.|[\r
])*)|(ns:[0-9]+(/.*)?)|(id:.*)`;for(let r=0;r<this.selectedFiles.length;r++){let s=this.selectedFiles[r],l=s.type,c=s.name;if(s){let d=new FileReader;d.onload=u=>Nn(this,null,function*(){let h=u.target?.result;h&&this.dropboxService.uploadFile(c,h,this.folderPath).pipe(It(g=>(g.type==Ko.UploadProgress?this.progress=Math.round(100/g.total*g.loaded):g.type==Ko.Response&&(this.progress=null),g)),Hn(g=>(console.log("sraban error1",g),g.error&&alert(g.error.message),this.progress=null,bo(g)))).subscribe(g=>{if(g.status==200){console.log("file",g.body);let p=this.dropboxService.setIndexedTable(g.body);p&&this.browserDB.getItem(p.id).then(f=>{if(f){let y=[...f.content,p.content];console.log("merge newContent---",f.content,y),this.browserDB.deleteItem(p.id).then(M=>{this.browserDB.addItem({id:p.id,content:y}),this.onInit()})}else this.browserDB.addItem({id:p.id,content:[p.content]}),this.onInit()})}})}),d.readAsArrayBuffer(s)}}}deleteFile(o,r){let s=`dropbox/${o}`;this.updateLocalDB(s,r.sha),this.dropboxService.dropbox.owner}updateLocalDB(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(d=>d.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[d,u]=l.split("/");return d=="dropbox"&&(r[u]=r[u]||[],r[u].push(...c)),r},{})})}};i.\u0275fac=function(r){return new(r||i)(lt(vk),lt(Us))},i.\u0275cmp=$i({type:i,selectors:[["skp-drop-box"]],standalone:!0,features:[rn],decls:22,vars:12,consts:[[2,"float","right","text-decoration","underline","cursor","pointer"],[3,"href",4,"ngIf"],[3,"click",4,"ngIf"],["target","_blank",3,"href"],["type","text",3,"ngModelChange","ngModel"],["type","file","multiple","",3,"ngModelChange","change","ngModel"],[3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"href"],[3,"click"],[2,"margin","10px","display","block"],[4,"ngIf"],["style","display: flex; justify-content: space-between;",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between"],["target","_blank",3,"click"]],template:function(r,s){r&1&&(He(0,"div",0),ui(1,wxe,2,1,"a",1),Ye(2," | "),ui(3,bxe,2,0,"a",2),Oe(),Et(4,"br")(5,"hr"),Ye(6," Drive: "),He(7,"a",3),Ye(8),Oe(),Et(9,"br"),Ye(10),Et(11,"br"),Ye(12,`
Path: `),He(13,"input",4),fo("ngModelChange",function(c){return So(s.folderPath,c)||(s.folderPath=c),c}),Oe(),Et(14,"br"),He(15,"input",5),fo("ngModelChange",function(c){return So(s.myFile,c)||(s.myFile=c),c}),Ht("change",function(c){return s.onFileSelected(c)}),Oe(),Et(16,"br"),He(17,"button",6),Ht("click",function(){return s.uploadFile()}),Ye(18),Oe(),He(19,"ul"),ui(20,xxe,4,2,"li",7),qu(21,"keyvalue"),Oe()),r&2&&(tt(),ht("ngIf",!s.dropboxService.isLoggedIn),tt(2),ht("ngIf",s.dropboxService.isLoggedIn),tt(4),ht("href",s.drive,Fn),tt(),dn(s.drive),tt(2),yo(`
Owner: `,s.dropboxService.dropbox.owner,""),tt(3),po("ngModel",s.folderPath),tt(2),po("ngModel",s.myFile),tt(2),ht("disabled",!s.dropboxService.isLoggedIn),tt(),yo("Upload ",s.progress?" "+s.progress+"% ....":"",""),tt(2),ht("ngForOf",Ku(21,10,s.itemList)))},dependencies:[Oo,Hs,Gs,fs,og,In,gr,pr,Wm]});let e=i;return e})();function _xe(e,i){if(e&1){let n=no();He(0,"a",6),Ht("click",function(){ri(n);let r=Gt();return si(r.githubService.logout())}),He(1,"button"),Ye(2,"Logout from GitHub"),Oe()()}}function Dxe(e,i){if(e&1&&(He(0,"a",11)(1,"button"),Ye(2,"Login with GitHub"),Oe()()),e&2){let n=Gt();ht("href",n.githubService.loginLink,Fn)}}function Exe(e,i){if(e&1){let n=no();He(0,"li",18)(1,"div"),Ye(2),Oe(),He(3,"div")(4,"a",3),Ye(5,"Download"),Oe(),Ye(6," | "),He(7,"a",19),Ht("click",function(){let r=ri(n).$implicit,s=Gt(2).ngIf,l=Gt(3).$implicit,c=Gt();return si(c.deleteFile(l.key,s[1],s[0],r.path,r.sha))}),Ye(8,"Delete"),Oe()()()}if(e&2){let n=i.$implicit;tt(2),yo("- ",n.path,""),tt(2),ht("href",n.download_url,Fn)}}function Mxe(e,i){if(e&1&&(He(0,"ul",16),ui(1,Exe,9,2,"li",17),Oe()),e&2){let n=i.ngIf;tt(),ht("ngForOf",n)}}function kxe(e,i){if(e&1&&(Uu(0),He(1,"i"),Ye(2),Oe(),ui(3,Mxe,2,1,"ul",15),$u()),e&2){let n=i.ngIf,o=Gt().$implicit;tt(2),lR("",n[0]," (",n[1],")"),tt(),ht("ngIf",o==null?null:o.value)}}function Ixe(e,i){if(e&1&&(He(0,"li"),ui(1,kxe,4,3,"ng-container",13),Oe()),e&2){let n=i.$implicit;tt(),ht("ngIf",n.key.split("/"))}}function Rxe(e,i){if(e&1&&(Uu(0),He(1,"b"),Ye(2),Oe(),He(3,"ul"),ui(4,Ixe,2,1,"li",14),qu(5,"keyvalue"),Oe(),$u()),e&2){let n=i.ngIf,o=Gt().$implicit;tt(2),dn(o.key),tt(2),ht("ngForOf",Ku(5,2,n))}}function Axe(e,i){if(e&1&&(He(0,"li",12),ui(1,Rxe,6,4,"ng-container",13),Oe()),e&2){let n=i.$implicit;tt(),ht("ngIf",n.value)}}var OY=(()=>{let i=class i{constructor(o,r){this.githubService=o,this.browserDB=r,this.selectedFiles=null,this.repositoryName="",this.repositoryBranch="main",this.folderPath="",this.fileName="",this.repositoryName=this.githubService.github.repository||"",this.repositoryBranch=this.githubService.github.branch||"",this.folderPath=this.githubService.github.path||""}onFileSelected(o){let r=o.target;r.files&&(this.selectedFiles=r.files)}uploadFile(){if(!this.selectedFiles){alert("No files selected!");return}for(let o=0;o<this.selectedFiles.length;o++){let r=this.selectedFiles[o],s=new FileReader;s.onload=l=>Nn(this,null,function*(){let c=l.target?.result?.toString().split(",")[1];this.githubService.uploadFile(this.repositoryBranch,this.repositoryName,this.folderPath,r.name,c).pipe(It(d=>(d.type==Ko.UploadProgress?this.progress=Math.round(100/d.total*d.loaded):d.type==Ko.Response&&(this.progress=null,this.fileName=""),d)),Hn(d=>(console.log("sraban error1",d),d.error&&alert(d.error.message),this.progress=null,this.fileName="",bo(d)))).subscribe(d=>{console.log(`Uploaded ${r.name} successfully.`,d.body);let u=this.githubService.setIndexedTable(d.body);console.log("item---->",u),u&&this.browserDB.getItem(u.id).then(h=>{if(console.log(h),h){let g=[...h.content,u.content];console.log("merge newContent---",h.content,g),this.browserDB.deleteItem(u.id).then(p=>{this.browserDB.addItem({id:u.id,content:g}),this.onInit()})}else this.browserDB.addItem({id:u.id,content:[u.content]}),this.onInit()})})}),s.readAsDataURL(r)}}deletFolderFiles(){this.githubService.deleteDirectory(this.repositoryBranch,this.repositoryName,this.folderPath).subscribe({next:o=>console.log("Delted successfully",o),error:o=>console.log("sraban err error3",o)})}ngOnInit(){setTimeout(()=>{this.onInit()},500)}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[d,u,h,g]=l.split("/");if(d=="github"){let p=`${h}/${g}`;r[u]=r[u]||{},r[u][p]=r[u][p]||[],r[u][p].push(...c),console.log(r)}return r},{})})}deleteFile(o,r,s,l,c){if(this.githubService.github.owner===o){let d=`github/${o}/${s}/${r}`;this.githubService.deleteFileFolder(r,s,l,c).pipe(Hn(u=>(this.updateRemovedRecord(d,c),bo(u)))).subscribe(u=>{console.log(u.content==null),u.content==null&&this.updateRemovedRecord(d,c)})}}updateRemovedRecord(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(d=>d.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}};i.\u0275fac=function(r){return new(r||i)(lt(v0),lt(Us))},i.\u0275cmp=$i({type:i,selectors:[["skp-git-hub"]],standalone:!0,features:[rn],decls:42,vars:12,consts:[["loginBlock",""],[2,"float","right"],[3,"click",4,"ngIf","ngIfElse"],["target","_blank",3,"href"],["type","text",3,"ngModelChange","ngModel"],["type","file",3,"change","ngModelChange","ngModel"],[3,"click"],[2,"display","none",3,"click"],[2,"border","1px solid grey","max-height","500px","overflow-y","auto"],[2,"padding","0 15px"],["style","border: 1px solid pink; margin-bottom: 10px; list-style: none; padding:5px 15px 15px;",4,"ngFor","ngForOf"],[3,"href"],[2,"border","1px solid pink","margin-bottom","10px","list-style","none","padding","5px 15px 15px"],[4,"ngIf"],[4,"ngFor","ngForOf"],["style","padding: 0 10px;",4,"ngIf"],[2,"padding","0 10px"],["style","display: flex; justify-content: space-between; font-size: 12px;",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between","font-size","12px"],[2,"cursor","pointer","text-decoration","underline",3,"click"]],template:function(r,s){if(r&1){let l=no();He(0,"div",1),ui(1,_xe,3,0,"a",2)(2,Dxe,3,1,"ng-template",null,0,bH),Oe(),Et(4,"br"),He(5,"samp"),Ye(6," Ex. "),He(7,"a",3),Ye(8),Oe(),Ye(9,"/______"),Oe(),Et(10,"br"),He(11,"i"),Ye(12,"Repository Name: "),Oe(),He(13,"input",4),fo("ngModelChange",function(d){return ri(l),So(s.repositoryName,d)||(s.repositoryName=d),si(d)}),Oe(),Et(14,"br"),He(15,"i"),Ye(16,"Branch: "),Oe(),He(17,"input",4),fo("ngModelChange",function(d){return ri(l),So(s.repositoryBranch,d)||(s.repositoryBranch=d),si(d)}),Oe(),He(18,"samp"),Ye(19," ex. main, master, .."),Oe(),Et(20,"br"),He(21,"i"),Ye(22,"Path: "),Oe(),He(23,"input",4),fo("ngModelChange",function(d){return ri(l),So(s.folderPath,d)||(s.folderPath=d),si(d)}),Oe(),He(24,"samp"),Ye(25," ex. folder/folder/folder/.."),Oe(),Et(26,"br"),He(27,"i"),Ye(28,"File : "),Oe(),He(29,"input",5),Ht("change",function(d){return ri(l),si(s.onFileSelected(d))}),fo("ngModelChange",function(d){return ri(l),So(s.fileName,d)||(s.fileName=d),si(d)}),Oe(),Et(30,"br"),He(31,"button",6),Ht("click",function(){return ri(l),si(s.uploadFile())}),Ye(32),Oe(),Et(33,"br"),He(34,"button",7),Ht("click",function(){return ri(l),si(s.deletFolderFiles())}),Ye(35,"Delete Files Git"),Oe(),He(36,"H5"),Ye(37,"All Uploads"),Oe(),He(38,"div",8)(39,"ul",9),ui(40,Axe,2,1,"li",10),qu(41,"keyvalue"),Oe()()}if(r&2){let l,c,d=CH(3);tt(),ht("ngIf",!!s.githubService.github.token)("ngIfElse",d),tt(6),ht("href","https://github.com/"+((l=s.githubService.github.owner)!==null&&l!==void 0?l:"owner")+"?tab=repositories",Fn),tt(),yo("https://github.com/",(c=s.githubService.github.owner)!==null&&c!==void 0?c:"owner",""),tt(5),po("ngModel",s.repositoryName),tt(4),po("ngModel",s.repositoryBranch),tt(6),po("ngModel",s.folderPath),tt(6),po("ngModel",s.fileName),tt(3),yo("Upload ",s.progress?" "+s.progress+"% ....":"",""),tt(8),ht("ngForOf",Ku(41,10,s.itemList))}},dependencies:[Oo,Hs,Gs,fs,og,In,gr,pr,Wm]});let e=i;return e})();var Txe=["resizeElem"],KY=["*"],Fxe=!1;function Pxe(e){let i=0,n;for(let o=0,r=e.length;o<r;o++)n=e[o].y+e[o].h,n>i&&(i=n);return i}function Lxe(e){let i={w:e.w,h:e.h,x:e.x,y:e.y,id:e.id,moved:!!e.moved,static:!!e.static};return e.minW!==void 0&&(i.minW=e.minW),e.maxW!==void 0&&(i.maxW=e.maxW),e.minH!==void 0&&(i.minH=e.minH),e.maxH!==void 0&&(i.maxH=e.maxH),e.isDraggable!==void 0&&(i.isDraggable=e.isDraggable),e.isResizable!==void 0&&(i.isResizable=e.isResizable),i}function C4(e,i){return!(e.id===i.id||e.x+e.w<=i.x||e.x>=i.x+i.w||e.y+e.h<=i.y||e.y>=i.y+i.h)}function w4(e,i,n){let o=Bxe(e),r=YY(e,i),s=Array(e.length);for(let l=0,c=r.length;l<c;l++){let d=Lxe(r[l]);d.static||(d=Oxe(o,d,i,n,r),o.push(d)),s[e.indexOf(r[l])]=d,d.moved=!1}return s}var Nxe={x:"w",y:"h"};function g4(e,i,n,o){let r=Nxe[o];i[o]+=1;let s=e.map(l=>l.id).indexOf(i.id);for(let l=s+1;l<e.length;l++){let c=e[l];if(!c.static){if(c.y>i.y+i.h)break;C4(i,c)&&g4(e,c,n+i[r],o)}}i[o]=n}function Oxe(e,i,n,o,r){let s=n==="vertical",l=n==="horizontal";if(s)for(i.y=Math.min(Pxe(e),i.y);i.y>0&&!w0(e,i);)i.y--;else if(l)for(;i.x>0&&!w0(e,i);)i.x--;let c;for(;c=w0(e,i);)if(l?g4(r,i,c.x+c.w,"x"):g4(r,i,c.y+c.h,"y"),l&&i.x+i.w>o)for(i.x=o-i.w,i.y++;i.x>0&&!w0(e,i);)i.x--;return i.y=Math.max(i.y,0),i.x=Math.max(i.x,0),i}function w0(e,i){for(let n=0,o=e.length;n<o;n++)if(C4(e[n],i))return e[n];return null}function zxe(e,i){return e.filter(n=>C4(n,i))}function Bxe(e){return e.filter(i=>i.static)}function p4(e,i,n,o,r,s,l,c){if(i.static&&i.isDraggable!==!0||i.y===o&&i.x===n)return e;bk(`Moving element ${i.id} to [${String(n)},${String(o)}] from [${i.x},${i.y}]`);let d=i.x,u=i.y;typeof n=="number"&&(i.x=n),typeof o=="number"&&(i.y=o),i.moved=!0;let h=YY(e,l);(l==="vertical"&&typeof o=="number"?u>=o:l==="horizontal"&&typeof n=="number"?d>=n:!1)&&(h=h.reverse());let p=zxe(h,i);if(s&&p.length)return bk(`Collision prevented on ${i.id}, reverting.`),i.x=d,i.y=u,i.moved=!1,e;for(let f=0,y=p.length;f<y;f++){let M=p[f];bk(`Resolving collision between ${i.id} at [${i.x},${i.y}] and ${M.id} at [${M.x},${M.y}]`),!M.moved&&(M.static?e=zY(e,M,i,r,l,c):e=zY(e,i,M,r,l,c))}return e}function zY(e,i,n,o,r,s){let l=r==="horizontal",c=r!=="horizontal",d=i.static;if(o){o=!1;let u={x:l?Math.max(i.x-n.w,0):n.x,y:c?Math.max(i.y-n.h,0):n.y,w:n.w,h:n.h,id:"-1"};if(!w0(e,u))return bk(`Doing reverse collision on ${n.id} up to [${u.x},${u.y}].`),p4(e,n,l?u.x:void 0,c?u.y:void 0,o,d,r,s)}return p4(e,n,l?n.x+1:void 0,c?n.y+1:void 0,o,d,r,s)}function YY(e,i){return i==="horizontal"?Hxe(e):Vxe(e)}function Vxe(e){return[].concat(e).sort(function(i,n){return i.y>n.y||i.y===n.y&&i.x>n.x?1:i.y===n.y&&i.x===n.x?0:-1})}function Hxe(e){return[].concat(e).sort(function(i,n){return i.x>n.x||i.x===n.x&&i.y>n.y?1:-1})}function bk(...e){Fxe&&console.log(...e)}var Zy;function Gxe(){if(Zy==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zy=!0}))}finally{Zy=Zy||!1}return Zy}function xk(e){return Gxe()?e:!!e.capture}var jxe=xk({passive:!0}),QY=xk({passive:!1}),Ck=null;function b4(){if(Ck!=null)return Ck;let e=/Android|webOS|BlackBerry|Windows Phone|iPad|iPhone|iPod/i.test(navigator.userAgent),i=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return Ck=e||i,Ck}function yk(e){return e.clientX!=null}function eS(e){return yk(e)?e.clientX:e.touches[0].clientX}function tS(e){return yk(e)?e.clientY:e.touches[0].clientY}function BY(e){return{clientX:yk(e)?e.clientX:e.touches[0].clientX,clientY:yk(e)?e.clientY:e.touches[0].clientY}}function VY(e){return e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse"}function y4(){return!!window.PointerEvent}function Wxe(e,i=1){return wm(()=>b4(),Mn(e,"touchstart",jxe).pipe(bi(n=>n.touches.length===i)),Mn(e,"mousedown",QY).pipe(bi(n=>n.button===0)))}function Uxe(e,i=1){return dr(Mn(e,"touchend").pipe(bi(n=>n.touches.length===i-1)),Mn(e,"touchcancel").pipe(bi(n=>n.touches.length===i-1)))}function $xe(e,i=1){return wm(()=>b4(),Uxe(e,i),Mn(e,"mouseup"))}function wk(e){return y4()?Mn(e,"pointerdown",QY).pipe(bi(i=>i.isPrimary)):Wxe(e)}function f4(e){return y4()?Mn(e,"pointerup").pipe(bi(i=>i.isPrimary)):$xe(e)}function _k(e,i){return i.id}function Dk(e,i,n){let o=e.reduce((l,c)=>Math.max(l,Math.max(c.y+c.h,0)),0),r=(o-1)*n;return(i-r)/o}function qxe(e,i,n,o){let s=(n-o*(i-1))/i,c=(n-s)/(i-1);return Math.round(e/c)}function Kxe(e,i,n,o){return Math.round(e/(i+o))}function Yxe(e,i,n,o){let s=(n-o*(i-1))/i,l=e-s;return Math.round(l/(s+o))+1}function Qxe(e,i,n,o){let r=e-i;return Math.round(r/(i+o))+1}function Zxe(e,i,n,o){let{pointerDownEvent:r,pointerDragEvent:s,gridElemClientRect:l,dragElemClientRect:c,scrollDifference:d}=o,u=e.id,h=i.layout.find(Ft=>Ft.id===u),g=eS(r),p=tS(r),f=eS(s),y=tS(s),M=g-c.left,k=p-c.top,G=l.left+d.left,J=l.top+d.top,$=f-G-M,_e=y-J-k,Te=i.rowHeight==="fit"?Dk(i.layout,i.height??l.height,i.gap):i.rowHeight,Pe=At(We({},h),{x:qxe($,i.cols,l.width,i.gap),y:Kxe(_e,Te,l.height,i.gap)});Pe.x=Math.max(0,Pe.x),Pe.y=Math.max(0,Pe.y),Pe.x+Pe.w>i.cols&&(Pe.x=Math.max(0,i.cols-Pe.w));let $e=i.layout,nt=$e.find(Ft=>Ft.id===u),at=p4($e,nt,Pe.x,Pe.y,!0,i.preventCollision,n,i.cols);return at=w4(at,n,i.cols),{layout:at,draggedItemPos:{top:_e,left:$,width:c.width,height:c.height}}}function Xxe(e,i,n,o){let{pointerDownEvent:r,pointerDragEvent:s,gridElemClientRect:l,dragElemClientRect:c,scrollDifference:d}=o,u=e.id,h=eS(r),g=tS(r),p=eS(s),f=tS(s),y=c.width-(h-c.left),M=c.height-(g-c.top),k=i.layout.find(Pe=>Pe.id===u),G=p+y-(c.left+d.left),J=f+M-(c.top+d.top),$=i.rowHeight==="fit"?Dk(i.layout,i.height??l.height,i.gap):i.rowHeight,_e=At(We({},k),{w:Yxe(G,i.cols,l.width,i.gap),h:Qxe(J,$,l.height,i.gap)});if(_e.w=HY(_e.w,e.minW??_e.minW,e.maxW??_e.maxW),_e.h=HY(_e.h,e.minH??_e.minH,e.maxH??_e.maxH),_e.x+_e.w>i.cols&&(_e.w=Math.max(1,i.cols-_e.x)),i.preventCollision){let Pe=_e.w,$e=_e.h,nt=C0(i.layout,_e),at;for(;nt;)at=Jxe(_e,at),_e[at]--,nt=C0(i.layout,_e);if(at==="w")for(_e.h=$e,nt=C0(i.layout,_e);nt;)_e.h--,nt=C0(i.layout,_e);if(at==="h")for(_e.w=Pe,nt=C0(i.layout,_e);nt;)_e.w--,nt=C0(i.layout,_e)}let Te=i.layout.map(Pe=>Pe.id===u?_e:Pe);return{layout:w4(Te,n,i.cols),draggedItemPos:{top:c.top-l.top,left:c.left-l.left,width:G,height:J}}}function C0(e,i){return!!w0(e,i)}function Jxe(e,i){return e.h<=1?"w":e.w<=1||i==="w"?"h":"w"}function HY(e,i=1,n=1/0){return Math.min(Math.max(e,i<1?1:i),n)}function e_e(e,i){return e.id===i.id&&e.x===i.x&&e.y===i.y&&e.w===i.w&&e.h===i.h}var t_e=new Lt("KtdGridDragHandle");var i_e=new Lt("KtdGridResizeHandle");var ZY=new Lt("KtdGridItemPlaceholder"),Ek=(()=>{let i=class i{constructor(o){this.templateRef=o}};i.\u0275fac=function(r){return new(r||i)(lt(zu))},i.\u0275dir=No({type:i,selectors:[["ng-template","ktdGridItemPlaceholder",""]],hostAttrs:[1,"ktd-grid-item-placeholder-content"],inputs:{data:"data"},standalone:!0,features:[Xr([{provide:ZY,useExisting:i}])]});let e=i;return e})();function Sk(e){return e!=null&&`${e}`!="false"}function Jy(e,i=0){return n_e(e)?Number(e):i}function n_e(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}var XY=new Lt("GRID_ITEM_GET_RENDER_DATA_TOKEN");function o_e(e){return i=>new oi(n=>e.runOutsideAngular(()=>i.subscribe(n)))}function r_e(){return e=>e.pipe(bi(()=>!1))}var d4=xk({passive:!1,capture:!0}),S4=(()=>{let i=class i{constructor(o){this.ngZone=o,this.touchMoveSubject=new Wi,this.touchMove$=this.touchMoveSubject.asObservable(),this.registerTouchMoveSubscription()}ngOnDestroy(){this.touchMoveSubscription.unsubscribe()}mouseOrTouchMove$(o){return y4()?Mn(o,"pointermove",d4):wm(()=>b4(),this.touchMove$,Mn(o,"mousemove",d4))}registerTouchMoveSubscription(){this.touchMoveSubscription=this.ngZone.runOutsideAngular(()=>Mn(document,"touchmove",d4).pipe(bi(o=>o.touches.length===1)).subscribe(o=>this.touchMoveSubject.next(o)))}};i.\u0275fac=function(r){return new(r||i)(Mt(vi))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),iS=(()=>{let i=class i{get id(){return this._id}set id(o){this._id=o}get dragStartThreshold(){return this._dragStartThreshold}set dragStartThreshold(o){this._dragStartThreshold=Jy(o)}get draggable(){return this._draggable}set draggable(o){this._draggable=Sk(o),this._draggable$.next(this._draggable)}get resizable(){return this._resizable}set resizable(o){this._resizable=Sk(o),this._resizable$.next(this._resizable)}constructor(o,r,s,l,c){this.elementRef=o,this.gridService=r,this.renderer=s,this.ngZone=l,this.getItemRenderData=c,this.transition="transform 500ms ease, width 500ms ease, height 500ms ease",this._dragStartThreshold=0,this._draggable=!0,this._draggable$=new wo(this._draggable),this._manualDragEvents$=new Wi,this._resizable=!0,this._resizable$=new wo(this._resizable),this.dragStartSubject=new Wi,this.resizeStartSubject=new Wi,this.subscriptions=[],this.dragStart$=this.dragStartSubject.asObservable(),this.resizeStart$=this.resizeStartSubject.asObservable()}ngOnInit(){let o=this.getItemRenderData(this.id);this.setStyles(o)}ngAfterContentInit(){this.subscriptions.push(this._dragStart$().subscribe(this.dragStartSubject),this._resizeStart$().subscribe(this.resizeStartSubject))}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}startDragManually(o){this._manualDragEvents$.next(o)}setStyles({top:o,left:r,width:s,height:l}){this.renderer.setStyle(this.elementRef.nativeElement,"transform",`translateX(${r}) translateY(${o})`),this.renderer.setStyle(this.elementRef.nativeElement,"display","block"),this.renderer.setStyle(this.elementRef.nativeElement,"transition",this.transition),s!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"width",s),l!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"height",l)}_dragStart$(){return dr(this._manualDragEvents$,this._draggable$.pipe(cn(o=>o?this._dragHandles.changes.pipe(Wh(this._dragHandles),cn(r=>wm(()=>r.length>0,dr(...r.toArray().map(s=>wk(s.element.nativeElement))),wk(this.elementRef.nativeElement)))):Ts))).pipe(cC(o=>{VY(o)&&o.preventDefault();let r=BY(o);return this.gridService.mouseOrTouchMove$(document).pipe(sp(f4(document)),o_e(this.ngZone),bi(s=>{s.preventDefault();let l=BY(s),c=Math.abs(r.clientX-l.clientX),d=Math.abs(r.clientY-l.clientY);return c+d>=this.dragStartThreshold}),to(1),It(()=>o))}))}_resizeStart$(){return this._resizable$.pipe(cn(o=>o?this._resizeHandles.changes.pipe(Wh(this._resizeHandles),cn(r=>r.length>0?(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),dr(...r.toArray().map(s=>wk(s.element.nativeElement)))):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","block"),wk(this.resizeElem.nativeElement))),kn(r=>{VY(r)&&r.preventDefault()})):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),Ts)))}};i.\u0275fac=function(r){return new(r||i)(lt(Gn),lt(S4),lt(Os),lt(vi),lt(XY))},i.\u0275cmp=$i({type:i,selectors:[["ktd-grid-item"]],contentQueries:function(r,s,l){if(r&1&&(Hm(l,ZY,5),Hm(l,t_e,5),Hm(l,i_e,5)),r&2){let c;Dr(c=Er())&&(s.placeholder=c.first),Dr(c=Er())&&(s._dragHandles=c),Dr(c=Er())&&(s._resizeHandles=c)}},viewQuery:function(r,s){if(r&1&&ql(Txe,7,Gn),r&2){let l;Dr(l=Er())&&(s.resizeElem=l.first)}},inputs:{minW:"minW",minH:"minH",maxW:"maxW",maxH:"maxH",transition:"transition",id:"id",dragStartThreshold:"dragStartThreshold",draggable:"draggable",resizable:"resizable"},standalone:!0,features:[rn],ngContentSelectors:KY,decls:3,vars:0,consts:[["resizeElem",""],[1,"grid-item-resize-icon"]],template:function(r,s){r&1&&(sR(),aR(0),Et(1,"div",1,0))},styles:['[_nghost-%COMP%]{display:none;position:absolute;z-index:1;overflow:hidden;touch-action:none}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;user-select:none;z-index:10}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]{cursor:se-resize;width:20px;height:20px;bottom:0;right:0;color:inherit}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid;border-bottom:2px solid}.display-none[_ngcontent-%COMP%]{display:none!important}'],changeDetection:0});let e=i;return e})();function m4(e){let i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}var JY=.05;function GY(e,i){e===window?e.scrollBy(0,i):e.scrollTop+=i}function jY(e,i){e===window?e.scrollBy(i,0):e.scrollLeft+=i}function s_e(e,i){let{top:n,bottom:o,height:r}=e,s=r*JY;return i>=n-s&&i<=n+s?1:i>=o-s&&i<=o+s?2:0}function a_e(e,i){let{left:n,right:o,width:r}=e,s=r*JY;return i>=n-s&&i<=n+s?1:i>=o-s&&i<=o+s?2:0}function l_e(e,i,n,o=2){return K2(0,U2).pipe(kn(()=>{i===1?GY(e,-o):i===2&&GY(e,o),n===1?jY(e,-o):n===2&&jY(e,o)}),r_e())}function c_e(e,i){let n,o,r;if(e===document){n=document.defaultView;let{width:s,height:l}=u_e();o={width:s,height:l,top:0,right:s,bottom:l,left:0},r=h_e()}else n=e,o=m4(e),r=e.scrollWidth;return i=i||{},i.disableHorizontal==null&&r<=o.width&&(i.disableHorizontal=!0),s=>s.pipe(It(({pointerX:l,pointerY:c})=>{let d=s_e(o,c),u=a_e(o,l);return i?.disableVertical&&(d=0),i?.disableHorizontal&&(u=0),{verticalScrollDirection:d,horizontalScrollDirection:u}}),Z2((l,c)=>l.verticalScrollDirection===c.verticalScrollDirection&&l.horizontalScrollDirection===c.horizontalScrollDirection),cn(({verticalScrollDirection:l,horizontalScrollDirection:c})=>l||c?l_e(n,l,c,i?.scrollStep):Ts))}function d_e(e){let i;return e===document?i=WY():i={top:e.scrollTop,left:e.scrollLeft},Mn(e,"scroll",xk({capture:!0})).pipe(It(()=>{let n,o;if(e===document){let l=WY();n=l.top,o=l.left}else n=e.scrollTop,o=e.scrollLeft;let r=i.top-n,s=i.left-o;return{top:r,left:s}}))}function u_e(){let e=document.defaultView||window;return{width:e.innerWidth,height:e.innerHeight}}function WY(){let e=document.defaultView||window,i=document.documentElement,n=i.getBoundingClientRect(),o=-n.top||document.body.scrollTop||e.scrollY||i.scrollTop||0,r=-n.left||document.body.scrollLeft||e.scrollX||i.scrollLeft||0;return{top:o,left:r}}function h_e(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)}function UY(e){let i=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*i}function g_e(e){let i=getComputedStyle(e),n=u4(i,"transition-property"),o=n.find(c=>c==="transform"||c==="all");if(!o)return 0;let r=n.indexOf(o),s=u4(i,"transition-duration"),l=u4(i,"transition-delay");return UY(s[r])+UY(l[r])}function u4(e,i){return e.getPropertyValue(i).split(",").map(o=>o.trim())}function h4(e,i){return{layout:i,layoutItem:i.find(n=>n.id===e.id),gridItemRef:e}}function p_e(e,i){let{cols:n,gap:o}=e;return(i-Math.max(o*(n-1),0))/n}function eQ(e,i){let{rowHeight:n,layout:o,gap:r}=e;return n==="fit"?Dk(o,i,r):n}function $Y(e,i,n){let{layout:o,gap:r}=e,s=eQ(e,n),l=p_e(e,i),c={};for(let d of o)c[d.id]={id:d.id,top:d.y*s+r*d.y,left:d.x*l+r*d.x,width:d.w*l+r*Math.max(d.w-1,0),height:d.h*s+r*Math.max(d.h-1,0)};return c}function qY(e,i,n){return e.reduce((o,r)=>Math.max(o,(r.y+r.h)*i+Math.max(r.y+r.h-1,0)*n),0)}function v4(e){return{id:e.id,top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}}function f_e(e){return function(i){return v4(e.getItemRenderData(i))}}function m_e(e){return f_e(e)}var Xy={borderColor:"#ffa72678",gapColor:"transparent",rowColor:"transparent",columnColor:"transparent",borderWidth:1},Og=(()=>{let i=class i{get compactOnPropsChange(){return this._compactOnPropsChange}set compactOnPropsChange(o){this._compactOnPropsChange=Sk(o)}get preventCollision(){return this._preventCollision}set preventCollision(o){this._preventCollision=Sk(o)}get scrollSpeed(){return this._scrollSpeed}set scrollSpeed(o){this._scrollSpeed=Jy(o,2)}get compactType(){return this._compactType}set compactType(o){this._compactType=o}get rowHeight(){return this._rowHeight}set rowHeight(o){this._rowHeight=o==="fit"?o:Math.max(1,Math.round(Jy(o)))}get cols(){return this._cols}set cols(o){this._cols=Math.max(1,Math.round(Jy(o)))}get layout(){return this._layout}set layout(o){this._layout=o}get gap(){return this._gap}set gap(o){this._gap=Math.max(Jy(o),0)}get height(){return this._height}set height(o){this._height=typeof o=="number"?Math.max(o,0):null}get backgroundConfig(){return this._backgroundConfig}set backgroundConfig(o){this._backgroundConfig=o;let r=this.elementRef.nativeElement.classList;this._backgroundConfig!==null?r.add("ktd-grid-background"):r.remove("ktd-grid-background"),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")}get config(){return{cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:this.layout,preventCollision:this.preventCollision,gap:this.gap}}constructor(o,r,s,l,c){this.gridService=o,this.elementRef=r,this.viewContainerRef=s,this.renderer=l,this.ngZone=c,this.layoutUpdated=new Je,this.dragStarted=new Je,this.resizeStarted=new Je,this.dragEnded=new Je,this.resizeEnded=new Je,this.gridItemResize=new Je,this.scrollableParent=null,this._compactOnPropsChange=!0,this._preventCollision=!1,this._scrollSpeed=2,this._compactType="vertical",this._rowHeight=100,this._cols=6,this._gap=0,this._height=null,this._backgroundConfig=null,this.subscriptions=[]}ngOnChanges(o){this.rowHeight==="fit"&&this.height==null&&console.warn("KtdGridComponent: The @Input() height should not be null when using rowHeight 'fit'");let r=!1,s=!1;(o.compactType||o.cols||o.layout)&&(r=!0),(r||o.rowHeight||o.height||o.gap||o.backgroundConfig)&&(s=!0),r&&this.compactOnPropsChange&&this.compactLayout(),s&&this.calculateRenderData()}ngAfterContentInit(){this.initSubscriptions()}ngAfterContentChecked(){this.render()}resize(){this.calculateRenderData(),this.render()}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}compactLayout(){this.layout=w4(this.layout,this.compactType,this.cols)}getItemsRenderData(){return We({},this._gridItemsRenderData)}getItemRenderData(o){return this._gridItemsRenderData[o]}calculateRenderData(){let o=this.elementRef.nativeElement.getBoundingClientRect();this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?o.height:qY(this.layout,this.rowHeight,this.gap)),this._gridItemsRenderData=$Y(this.config,o.width,this.gridCurrentHeight),this.setBackgroundCssVariables(eQ(this.config,this.gridCurrentHeight))}render(){this.renderer.setStyle(this.elementRef.nativeElement,"height",`${this.gridCurrentHeight}px`),this.updateGridItemsStyles()}setBackgroundCssVariables(o){let r=this.elementRef.nativeElement.style;this._backgroundConfig?(r.setProperty("--gap",this.gap+"px"),r.setProperty("--row-height",o+"px"),r.setProperty("--columns",`${this.cols}`),r.setProperty("--border-width",(this._backgroundConfig.borderWidth??Xy.borderWidth)+"px"),r.setProperty("--border-color",this._backgroundConfig.borderColor??Xy.borderColor),r.setProperty("--gap-color",this._backgroundConfig.gapColor??Xy.gapColor),r.setProperty("--row-color",this._backgroundConfig.rowColor??Xy.rowColor),r.setProperty("--column-color",this._backgroundConfig.columnColor??Xy.columnColor)):(r.removeProperty("--gap"),r.removeProperty("--row-height"),r.removeProperty("--columns"),r.removeProperty("--border-width"),r.removeProperty("--border-color"),r.removeProperty("--gap-color"),r.removeProperty("--row-color"),r.removeProperty("--column-color"))}updateGridItemsStyles(){this._gridItems.forEach(o=>{let r=this._gridItemsRenderData[o.id];r==null?console.error(`Couldn't find the specified grid item for the id: ${o.id}`):o.setStyles(v4(r))})}setGridBackgroundVisible(o){let r=this.elementRef.nativeElement.classList;o?r.add("ktd-grid-background-visible"):r.remove("ktd-grid-background-visible")}initSubscriptions(){this.subscriptions=[this._gridItems.changes.pipe(Wh(this._gridItems),cn(o=>dr(...o.map(r=>r.dragStart$.pipe(It(s=>({event:s,gridItem:r,type:"drag"})))),...o.map(r=>r.resizeStart$.pipe(It(s=>({event:s,gridItem:r,type:"resize"}))))).pipe(cC(({event:r,gridItem:s,type:l})=>(this.ngZone.run(()=>(l==="drag"?this.dragStarted:this.resizeStarted).emit(h4(s,this.layout))),this.setGridBackgroundVisible(this._backgroundConfig?.show==="whenDragging"||this._backgroundConfig?.show==="always"),this.performDragSequence$(s,r,l).pipe(It(c=>({layout:c,gridItem:s,type:l})))))))).subscribe(({layout:o,gridItem:r,type:s})=>{this.layout=o,this.calculateRenderData(),(s==="drag"?this.dragEnded:this.resizeEnded).emit(h4(r,o)),this.layoutUpdated.emit(o),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")})]}performDragSequence$(o,r,s){return new oi(l=>{let c=m4(this.elementRef.nativeElement),d=m4(o.elementRef.nativeElement),u=typeof this.scrollableParent=="string"?document.getElementById(this.scrollableParent):this.scrollableParent;this.renderer.addClass(o.elementRef.nativeElement,"no-transitions"),this.renderer.addClass(o.elementRef.nativeElement,"ktd-grid-item-dragging");let h=At(We({},d),{left:d.left-c.left,top:d.top-c.top});this.createPlaceholderElement(h,o.placeholder);let g,p=this.ngZone.runOutsideAngular(()=>(u?this.gridService.mouseOrTouchMove$(document).pipe(It(y=>({pointerX:eS(y),pointerY:tS(y)})),c_e(u,{scrollStep:this.scrollSpeed})):Ts).pipe(sp(f4(document))).subscribe()),f=this.ngZone.runOutsideAngular(()=>dr(Vh([this.gridService.mouseOrTouchMove$(document),...u?[d_e(u).pipe(Wh({top:0,left:0}))]:[Nt({top:0,left:0})]])).pipe(sp(f4(document))).subscribe(([y,M])=>{y.preventDefault();let k=g||this.layout,G=s==="drag"?Zxe:Xxe,{layout:J,draggedItemPos:$}=G(o,{layout:k,rowHeight:this.rowHeight,height:this.height,cols:this.cols,preventCollision:this.preventCollision,gap:this.gap},this.compactType,{pointerDownEvent:r,pointerDragEvent:y,gridElemClientRect:c,dragElemClientRect:d,scrollDifference:M});g=J,this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?c.height:qY(g,this.rowHeight,this.gap)),this._gridItemsRenderData=$Y({cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:g,preventCollision:this.preventCollision,gap:this.gap},c.width,c.height);let _e=We({},this._gridItemsRenderData[o.id]),Te=v4(_e);if(this.placeholder.style.width=Te.width,this.placeholder.style.height=Te.height,this.placeholder.style.transform=`translateX(${Te.left}) translateY(${Te.top})`,this._gridItemsRenderData[o.id]=At(We({},$),{id:this._gridItemsRenderData[o.id].id}),this.setBackgroundCssVariables(this.rowHeight==="fit"?Dk(g,c.height,this.gap):this.rowHeight),this.render(),s==="resize"){let Pe=k.find(nt=>nt.id===o.id),$e=g.find(nt=>nt.id===o.id);e_e(Pe,$e)||this.gridItemResize.emit({width:_e.width,height:_e.height,gridItemRef:h4(o,g).gridItemRef})}},y=>l.error(y),()=>{this.ngZone.run(()=>{this.renderer.removeClass(o.elementRef.nativeElement,"no-transitions"),this.renderer.removeClass(o.elementRef.nativeElement,"ktd-grid-item-dragging"),this.addGridItemAnimatingClass(o).subscribe(),this.destroyPlaceholder(),g?l.next(g.map(y=>({id:y.id,x:y.x,y:y.y,w:y.w,h:y.h,minW:y.minW,minH:y.minH,maxW:y.maxW,maxH:y.maxH}))):l.next(this.layout),l.complete()})}));return()=>{p.unsubscribe(),f.unsubscribe()}})}addGridItemAnimatingClass(o){return new oi(r=>{let s=g_e(o.elementRef.nativeElement);if(s===0){r.next(),r.complete();return}this.renderer.addClass(o.elementRef.nativeElement,"ktd-grid-item-animating");let l=u=>{(!u||u.target===o.elementRef.nativeElement&&u.propertyName==="transform")&&(this.renderer.removeClass(o.elementRef.nativeElement,"ktd-grid-item-animating"),d(),clearTimeout(c),r.next(),r.complete())},c=setTimeout(l,s*1.5),d=this.renderer.listen(o.elementRef.nativeElement,"transitionend",l)})}createPlaceholderElement(o,r){this.placeholder=this.renderer.createElement("div"),this.placeholder.style.width=`${o.width}px`,this.placeholder.style.height=`${o.height}px`,this.placeholder.style.transform=`translateX(${o.left}px) translateY(${o.top}px)`,this.placeholder.classList.add("ktd-grid-item-placeholder"),this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder),r?(this.placeholderRef=this.viewContainerRef.createEmbeddedView(r.templateRef,r.data),this.placeholderRef.rootNodes.forEach(s=>this.placeholder.appendChild(s)),this.placeholderRef.detectChanges()):this.placeholder.classList.add("ktd-grid-item-placeholder-default")}destroyPlaceholder(){this.placeholder?.remove(),this.placeholderRef?.destroy(),this.placeholder=this.placeholderRef=null}};i.\u0275fac=function(r){return new(r||i)(lt(S4),lt(Gn),lt(zs),lt(Os),lt(vi))},i.\u0275cmp=$i({type:i,selectors:[["ktd-grid"]],contentQueries:function(r,s,l){if(r&1&&Hm(l,iS,5),r&2){let c;Dr(c=Er())&&(s._gridItems=c)}},inputs:{scrollableParent:"scrollableParent",compactOnPropsChange:"compactOnPropsChange",preventCollision:"preventCollision",scrollSpeed:"scrollSpeed",compactType:"compactType",rowHeight:"rowHeight",cols:"cols",layout:"layout",gap:"gap",height:"height",backgroundConfig:"backgroundConfig"},outputs:{layoutUpdated:"layoutUpdated",dragStarted:"dragStarted",resizeStarted:"resizeStarted",dragEnded:"dragEnded",resizeEnded:"resizeEnded",gridItemResize:"gridItemResize"},standalone:!0,features:[Xr([{provide:XY,useFactory:m_e,deps:[i]}]),cl,rn],ngContentSelectors:KY,decls:1,vars:0,template:function(r,s){r&1&&(sR(),aR(0))},styles:[`ktd-grid{display:block;position:relative;width:100%}ktd-grid.ktd-grid-background:before{content:"";border:none;position:absolute;inset:0;z-index:0;transition:opacity .2s;opacity:0;background-image:repeating-linear-gradient(var(--border-color) 0 var(--border-width),var(--row-color) var(--border-width) calc(var(--row-height) - var(--border-width)),var(--border-color) calc(var(--row-height) - var(--border-width)) calc(var(--row-height)),var(--gap-color) calc(var(--row-height)) calc(var(--row-height) + var(--gap))),repeating-linear-gradient(90deg,var(--border-color) 0 var(--border-width),var(--column-color) var(--border-width) calc(100% - (var(--border-width) + var(--gap))),var(--border-color) calc(100% - (var(--border-width) + var(--gap))) calc(100% - var(--gap)),var(--gap-color) calc(100% - var(--gap)) 100%);background-size:calc((100% + var(--gap)) / var(--columns)) calc(var(--row-height) + var(--gap));background-position:0 0}ktd-grid.ktd-grid-background.ktd-grid-background-visible:before{opacity:1}ktd-grid ktd-grid-item.ktd-grid-item-dragging,ktd-grid ktd-grid-item.ktd-grid-item-animating{z-index:1000}ktd-grid ktd-grid-item.no-transitions{transition:none!important}ktd-grid .ktd-grid-item-placeholder{position:absolute;z-index:0;transition-property:transform;transition:all .15s ease}ktd-grid .ktd-grid-item-placeholder-default{background-color:#8b0000;opacity:.6}
`],encapsulation:2,changeDetection:0});let e=i;return e})(),Mk=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({providers:[S4]});let e=i;return e})();var v_e=()=>[2024,2025,2026],C_e=()=>[1,2,3,4,5,6,7,8,9,10,11,12];function w_e(e,i){if(e&1&&(He(0,"option",10),Ye(1),Oe()),e&2){let n=i.$implicit;ht("value",n),tt(),dn(n)}}function b_e(e,i){if(e&1&&(He(0,"option",10),Ye(1),Oe()),e&2){let n=i.$implicit;ht("value",n),tt(),dn(n)}}function y_e(e,i){if(e&1){let n=no();He(0,"div",18),Ht("mousedown",function(r){ri(n);let s=Gt(3);return si(s.stopEventPropagation(r))})("click",function(){ri(n);let r=Gt(2).$implicit,s=Gt();return si(s.removeItem(r.id))}),Oe()}}function S_e(e,i){if(e&1&&ui(0,y_e,1,0,"div",17),e&2){let n=Gt(2);ht("ngIf",!n.disableRemove)}}function x_e(e,i){if(e&1){let n=no();He(0,"ktd-grid-item",11)(1,"div",12),Ht("click",function(){let r=ri(n).$implicit,s=Gt();return si(s.enableEdit(r.id))})("blur",function(){let r=ri(n).$implicit,s=Gt();return si(s.disableEdit(r.id))}),He(2,"div",13)(3,"a"),Ye(4,"\u2B1C"),Oe(),He(5,"a"),Ye(6,"\u{1F9F7}"),Oe()(),Et(7,"div",14),He(8,"div",15)(9,"div"),Ye(10),Oe(),He(11,"div"),Ye(12),Oe()()(),ui(13,S_e,1,1,"ng-template",16),Oe()}if(e&2){let n=i.$implicit,o=Gt();ht("id",n.id)("dragStartThreshold",o.dragStartThreshold)("draggable",!o.disableDrag)("resizable",!o.disableResize),tt(),Zx(n.id),Vm("--base-hue",o.layoutMore[n.id].hue),tt(6),ht("innerHTML",o.markdown.render(o.layoutMore[n.id].content),zm),tt(3),dn(n.id),tt(2),dn(o.getDayName(n.id))}}Eg.registerLanguage("markdown",LM);function __e(e,i){let n=[...e],o=e.findIndex(r=>i(r));return o>-1&&n.splice(o,1),n}var iQ=(()=>{let i=class i{constructor(o,r,s,l){this.ngZone=o,this.elementRef=r,this.document=s,this.browserDB=l,this.dragStartThreshold=0,this.autoScroll=!0,this.disableDrag=!1,this.disableResize=!1,this.disableRemove=!1,this.autoResize=!0,this.preventCollision=!1,this.isDragging=!1,this.isResizing=!1,this.gap=10,this.cols=12,this.rowHeight=100,this.compactType="vertical",this.layout=[],this.layoutMore={},this.trackById=_k,this.month=new Date().getMonth()+1,this.year=new Date().getFullYear(),this.isEditable=!1,this.markdown=new Ey({highlight:(c,d)=>{if(d&&Eg.getLanguage(d))try{return`<pre class="hljs"><code>${Eg.highlight(c,{language:d}).value}</code></pre>`}catch{}return`<pre class="hljs"><code>${this.markdown.utils.escapeHtml(c)}</code></pre>`}})}ngOnInit(){this.resizeSubscription=dr(Mn(window,"resize"),Mn(window,"orientationchange")).pipe(Gh(50),bi(()=>this.autoResize)).subscribe(()=>{this.grid.resize()}),setTimeout(()=>{this.getCalFromDB()},1e3)}generateLayout(o,r){let s=this.getDatesForMonth(o,r),l=[0,3,6,9],c=0,d=0,u=s.map((h,g)=>{let p=g+1,f={id:h,x:l[d],y:c,w:3,h:2};return d++,p%4===0&&(c++,d=0),f});this.layout=[...u],this.layout.forEach(h=>{this.layoutMore[h.id]={hue:this.randomHue(),content:""}})}ngOnDestroy(){this.resizeSubscription.unsubscribe()}onDragStarted(o){this.isDragging=!0}onResizeStarted(o){this.isResizing=!0}onDragEnded(o){this.isDragging=!1}onResizeEnded(o){this.isResizing=!1}onLayoutUpdated(o){console.log("on layout updated",o)}onAutoScrollChange(o){this.autoScroll=o}onDisableDragChange(o){this.disableDrag=o}onDisableResizeChange(o){this.disableResize=o}onDisableRemoveChange(o){this.disableRemove=o}onAutoResizeChange(o){this.autoResize=o}onPreventCollisionChange(o){this.preventCollision=o}stopEventPropagation(o){o.preventDefault(),o.stopPropagation()}removeItem(o){this.layout=__e(this.layout,r=>r.id===o)}enableEdit(o){this.isEditable=!0,this.selectedGridID=o,this.selectedGridContent=this.layoutMore[o].content}disableEdit(o){this.isEditable=!1,this.selectedGridID=o}changeContent(){this.selectedGridID&&(this.layoutMore[this.selectedGridID].content=this.selectedGridContent)}changeCalender(o){this.selectedGridID="",this.selectedGridContent="",this.getCalFromDB()}getCalFromDB(){let o=this.year+"-"+this.month;this.browserDB.getCalItem(o).then(r=>{if(r)this.layout=r.content.layout,this.layoutMore=r.content.layoutMore;else{this.generateLayout(this.year,this.month);let s={layout:this.layout,layoutMore:this.layoutMore};setTimeout(()=>{this.browserDB.addCalItem({id:o,content:s})},1e3)}})}save(){let o=this.year+"-"+this.month,r={layout:this.layout,layoutMore:this.layoutMore};this.browserDB.getCalItem(o).then(s=>{s&&this.browserDB.deleteCalItem(o).then(l=>{this.browserDB.addCalItem({id:o,content:r}),alert("Saved!!")})})}randomHue(){let o=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),s=Math.floor(Math.random()*256);return Math.floor(Math.random()*256)}getDatesForMonth(o,r){let s=[],l=new Date(o,r,0).getDate(),c=d=>d<10?"0"+d:d;for(let d=1;d<=l;d++)s.push(o+"-"+c(r)+"-"+c(d));return s}getDayName(o="2024-11-01"){let r=new Date(o);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(r)}};i.\u0275fac=function(r){return new(r||i)(lt(vi),lt(Gn),lt(mo),lt(Us))},i.\u0275cmp=$i({type:i,selectors:[["skp-task-card"]],viewQuery:function(r,s){if(r&1&&ql(Og,7),r&2){let l;Dr(l=Er())&&(s.grid=l.first)}},standalone:!0,features:[rn],decls:30,vars:18,consts:[["name","year",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","month",3,"change","ngModelChange","ngModel"],["type","text","disabled","",3,"ngModelChange","ngModel"],[3,"ngModelChange","keyup","disabled","ngModel"],["type","button","value","Save",3,"click"],["scrollSpeed","4",3,"dragStarted","resizeStarted","dragEnded","resizeEnded","layoutUpdated","gap","cols","rowHeight","layout","compactType","preventCollision","scrollableParent"],[3,"id","dragStartThreshold","draggable","resizable",4,"ngFor","ngForOf","ngForTrackBy"],["href","https://www.npmjs.com/package/@katoid/angular-grid-layout?activeTab=readme"],["href","#"],[3,"value"],[3,"id","dragStartThreshold","draggable","resizable"],[1,"grid-item-content",3,"click","blur"],[1,"header"],[1,"content",3,"innerHTML"],[1,"footer"],["ktdGridItemPlaceholder",""],["class","grid-item-remove-handle",3,"mousedown","click",4,"ngIf"],[1,"grid-item-remove-handle",3,"mousedown","click"]],template:function(r,s){r&1&&(Ye(0,"Filter: "),Et(1,"br"),Ye(2,`
Year: `),He(3,"select",0),Ht("change",function(){return s.changeCalender("month")}),fo("ngModelChange",function(c){return So(s.year,c)||(s.year=c),c}),ui(4,w_e,2,2,"option",1),Oe(),Ye(5,` Month:
`),He(6,"select",2),Ht("change",function(){return s.changeCalender("month")}),fo("ngModelChange",function(c){return So(s.month,c)||(s.month=c),c}),ui(7,b_e,2,2,"option",1),Oe(),Et(8,"hr")(9,"br"),He(10,"input",3),fo("ngModelChange",function(c){return So(s.selectedGridID,c)||(s.selectedGridID=c),c}),Oe(),Et(11,"br"),He(12,"textarea",4),fo("ngModelChange",function(c){return So(s.selectedGridContent,c)||(s.selectedGridContent=c),c}),Ht("keyup",function(){return s.changeContent()}),Ye(13,"content"),Oe(),Et(14,"br"),He(15,"input",5),Ht("click",function(){return s.save()}),Oe(),Et(16,"br"),He(17,"div")(18,"ktd-grid",6),Ht("dragStarted",function(c){return s.onDragStarted(c)})("resizeStarted",function(c){return s.onResizeStarted(c)})("dragEnded",function(c){return s.onDragEnded(c)})("resizeEnded",function(c){return s.onResizeEnded(c)})("layoutUpdated",function(c){return s.onLayoutUpdated(c)}),ui(19,x_e,14,11,"ktd-grid-item",7),Oe()(),He(20,"div")(21,"a",8),Ye(22,"https://www.npmjs.com/package/@katoid/angular-grid-layout?activeTab=readme"),Oe(),Et(23,"br"),He(24,"a",9),Ye(25,"https://stackblitz.com/edit/angular-grid-layout-playground?file=src%2Fapp%2Fplayground%2Fplayground.component.ts"),Oe(),Et(26,"br"),He(27,"a",9),Ye(28,"https://www.pvgr.eu/en/article/border-image-css-and-svg.html"),Oe(),Et(29,"br"),Oe()),r&2&&(tt(3),po("ngModel",s.year),tt(),ht("ngForOf",hr(16,v_e)),tt(2),po("ngModel",s.month),tt(),ht("ngForOf",hr(17,C_e)),tt(3),po("ngModel",s.selectedGridID),tt(2),ht("disabled",!s.isEditable),po("ngModel",s.selectedGridContent),tt(6),ht("gap",s.gap)("cols",s.cols)("rowHeight",s.rowHeight)("layout",s.layout)("compactType",s.compactType)("preventCollision",s.preventCollision)("scrollableParent",s.autoScroll?s.document:null),tt(),ht("ngForOf",s.layout)("ngForTrackBy",s.trackById))},dependencies:[Mk,Og,iS,Ek,In,gr,pr,Oo,cG,uG,Hs,T_,Gs,fs],styles:[".grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;background:#ccc;border:10px solid transparent;box-shadow:0 0 10px #0000001a;border-image-source:url(/assets/images/border-image-css-and-svg.svg);border-image-slice:15;border-image-width:15px;border-image-repeat:round;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;padding:5px;background-color:hsl(var(--base-hue),50%,50%);color:hsl(calc(var(--base-hue) + 180),30%,95%)}.grid-item-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#000;color:#fff;opacity:.5;padding:5px;position:absolute;z-index:1111;top:-2px;right:0;display:none;border-radius:2% 2% 2% 5px}.grid-item-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.grid-item-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.2}.grid-item-content[_ngcontent-%COMP%]:hover   .header[_ngcontent-%COMP%]{display:inline-block}.grid-item-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto;width:100%;height:calc(100% - 25px)}.grid-item-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.grid-item-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:calc(100% - 30px);position:absolute;bottom:15px;display:flex;justify-content:space-between}"]});let e=i;return e})();function D_e(e,i){if(e&1){let n=no();He(0,"div",11),Ht("mousedown",function(r){ri(n);let s=Gt(3);return si(s.stopEventPropagation(r))})("click",function(){ri(n);let r=Gt(2).$implicit,s=Gt();return si(s.removeItem(r.id))}),Oe()}}function E_e(e,i){if(e&1&&ui(0,D_e,1,0,"div",10),e&2){let n=Gt(2);ht("ngIf",!n.disableRemove)}}function M_e(e,i){if(e&1){let n=no();He(0,"ktd-grid-item",7)(1,"div",8),Ht("click",function(){let r=ri(n).$implicit,s=Gt();return si(s.enableEdit(r.id))})("blur",function(){let r=ri(n).$implicit,s=Gt();return si(s.disableEdit(r.id))}),Ye(2),Oe(),ui(3,E_e,1,1,"ng-template",9),Oe()}if(e&2){let n=i.$implicit,o=Gt();ht("id",n.id)("dragStartThreshold",o.dragStartThreshold)("draggable",!o.disableDrag)("resizable",!o.disableResize),tt(),Zx(n.id),Vm("--base-hue",o.layoutMore[n.id].hue),tt(),yo(" ",o.layoutMore[n.id].content," ")}}function k_e(e,i){let n=[...e],o=e.findIndex(r=>i(r));return o>-1&&n.splice(o,1),n}var nQ=(()=>{let i=class i{constructor(o,r,s){this.ngZone=o,this.elementRef=r,this.document=s,this.dragStartThreshold=0,this.autoScroll=!0,this.disableDrag=!1,this.disableResize=!1,this.disableRemove=!1,this.autoResize=!0,this.preventCollision=!1,this.isDragging=!1,this.isResizing=!1,this.gap=20,this.cols=12,this.rowHeight=100,this.compactType="vertical",this.layout=[{id:"0",x:0,y:0,w:2,h:3},{id:"1",x:2,y:0,w:2,h:3},{id:"2",x:4,y:0,w:2,h:3},{id:"3",x:6,y:0,w:2,h:3},{id:"4",x:8,y:0,w:2,h:3},{id:"5",x:10,y:0,w:2,h:3},{id:"6",x:0,y:1,w:2,h:3},{id:"7",x:2,y:1,w:2,h:3},{id:"8",x:4,y:1,w:2,h:3},{id:"9",x:6,y:1,w:2,h:3},{id:"10",x:8,y:1,w:2,h:3},{id:"11",x:10,y:1,w:2,h:3},{id:"12",x:0,y:2,w:2,h:3},{id:"13",x:2,y:2,w:2,h:3},{id:"14",x:4,y:2,w:2,h:3},{id:"15",x:6,y:2,w:2,h:3},{id:"16",x:8,y:2,w:2,h:3},{id:"17",x:10,y:2,w:2,h:3}],this.layoutMore={},this.trackById=_k,this.isEditable=!1}ngOnInit(){this.resizeSubscription=dr(Mn(window,"resize"),Mn(window,"orientationchange")).pipe(Gh(50),bi(()=>this.autoResize)).subscribe(()=>{this.grid.resize()}),this.layout.forEach(o=>{this.layoutMore[o.id]={hue:this.randomHue(),content:""}})}ngOnDestroy(){this.resizeSubscription.unsubscribe()}onDragStarted(o){this.isDragging=!0}onResizeStarted(o){this.isResizing=!0}onDragEnded(o){this.isDragging=!1}onResizeEnded(o){this.isResizing=!1}onLayoutUpdated(o){console.log("on layout updated",o)}onAutoScrollChange(o){this.autoScroll=o}onDisableDragChange(o){this.disableDrag=o}onDisableResizeChange(o){this.disableResize=o}onDisableRemoveChange(o){this.disableRemove=o}onAutoResizeChange(o){this.autoResize=o}onPreventCollisionChange(o){this.preventCollision=o}stopEventPropagation(o){o.preventDefault(),o.stopPropagation()}removeItem(o){this.layout=k_e(this.layout,r=>r.id===o)}enableEdit(o){this.isEditable=!0,this.selectedGridID=o,this.selectedGridContent=this.layoutMore[o].content}disableEdit(o){this.isEditable=!1,this.selectedGridID=o}changeContent(){this.selectedGridID&&(console.log("content",this.selectedGridContent),this.layoutMore[this.selectedGridID].content=this.selectedGridContent)}randomHue(){let o=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),s=Math.floor(Math.random()*256);return Math.floor(Math.random()*256)}};i.\u0275fac=function(r){return new(r||i)(lt(vi),lt(Gn),lt(mo))},i.\u0275cmp=$i({type:i,selectors:[["skp-feedbacks"]],viewQuery:function(r,s){if(r&1&&ql(Og,7),r&2){let l;Dr(l=Er())&&(s.grid=l.first)}},standalone:!0,features:[rn],decls:37,vars:12,consts:[["src","https://i.imgur.com/vZjWi96.png","alt","dummy"],["type","text","disabled","",3,"ngModelChange","ngModel"],[3,"ngModelChange","keyup","disabled","ngModel"],["type","button","value","Save"],["scrollSpeed","4",3,"dragStarted","resizeStarted","dragEnded","resizeEnded","layoutUpdated","gap","cols","rowHeight","layout","compactType","preventCollision","scrollableParent"],[3,"id","dragStartThreshold","draggable","resizable",4,"ngFor","ngForOf","ngForTrackBy"],["href","https://www.npmjs.com/package/@katoid/angular-grid-layout?activeTab=readme"],[3,"id","dragStartThreshold","draggable","resizable"],[1,"grid-item-content",3,"click","blur"],["ktdGridItemPlaceholder",""],["class","grid-item-remove-handle",3,"mousedown","click",4,"ngIf"],[1,"grid-item-remove-handle",3,"mousedown","click"]],template:function(r,s){r&1&&(He(0,"p"),Ye(1,"Candidates feedback"),Oe(),He(2,"p"),Ye(3,"Project feedback"),Oe(),He(4,"p"),Ye(5,"-Google Tag Manager"),Oe(),He(6,"p"),Ye(7,"-Markdown Editor"),Oe(),He(8,"p"),Ye(9,"-JS Tree"),Oe(),He(10,"p"),Ye(11,"-Material UI"),Oe(),He(12,"p"),Ye(13,"-Dynamic Grid Layout"),Oe(),He(14,"p"),Ye(15,"-npm install -D tailwindcss"),Oe(),He(16,"p"),Ye(17,"-npm install tour guide for learning..."),Oe(),Et(18,"img",0),Ye(19,` - new updates in angular 13, 17, 18, 19 in Hindi
- new updates in javascript in Hindi
- new updates in node in Hindi `),He(20,"p"),Ye(21,"All Tasks Date Wise"),Oe(),He(22,"input",1),fo("ngModelChange",function(c){return So(s.selectedGridID,c)||(s.selectedGridID=c),c}),Oe(),Et(23,"br"),He(24,"textarea",2),fo("ngModelChange",function(c){return So(s.selectedGridContent,c)||(s.selectedGridContent=c),c}),Ht("keyup",function(){return s.changeContent()}),Ye(25,"content"),Oe(),Et(26,"br")(27,"input",3)(28,"br"),He(29,"div")(30,"ktd-grid",4),Ht("dragStarted",function(c){return s.onDragStarted(c)})("resizeStarted",function(c){return s.onResizeStarted(c)})("dragEnded",function(c){return s.onDragEnded(c)})("resizeEnded",function(c){return s.onResizeEnded(c)})("layoutUpdated",function(c){return s.onLayoutUpdated(c)}),ui(31,M_e,4,9,"ktd-grid-item",5),Oe()(),He(32,"div")(33,"a",6),Ye(34,"https://www.npmjs.com/package/@katoid/angular-grid-layout?activeTab=readme"),Oe(),Et(35,"br"),Ye(36,` https://stackblitz.com/edit/angular-grid-layout-playground?file=src%2Fapp%2Fplayground%2Fplayground.component.ts
`),Oe()),r&2&&(tt(22),po("ngModel",s.selectedGridID),tt(2),ht("disabled",!s.isEditable),po("ngModel",s.selectedGridContent),tt(6),ht("gap",s.gap)("cols",s.cols)("rowHeight",s.rowHeight)("layout",s.layout)("compactType",s.compactType)("preventCollision",s.preventCollision)("scrollableParent",s.autoScroll?s.document:null),tt(),ht("ngForOf",s.layout)("ngForTrackBy",s.trackById))},dependencies:[Mk,Og,iS,Ek,In,gr,pr,Oo,Hs,Gs,fs],styles:[".grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;background:#ccc;border:1px solid;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;background-color:hsl(var(--base-hue),50%,50%);color:hsl(calc(var(--base-hue) + 180),30%,95%)}"]});let e=i;return e})();var oQ=(()=>{let i=class i{constructor(o){this.http=o}readAirNews(){let r=`https://api.codetabs.com/v1/proxy/?quest=https://www.newsonair.gov.in/feed/?_=${+new Date}`;return this.http.get(r)}readYcombinatorNews(){return this.http.get("https://api.codetabs.com/v1/proxy/?quest=https://news.ycombinator.com/newest")}};i.\u0275fac=function(r){return new(r||i)(Mt(Mr))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var R_e=["iframe"];function A_e(e,i){if(e&1&&(He(0,"li")(1,"b"),Ye(2),Oe(),Et(3,"br")(4,"p",7),He(5,"a",8),Ye(6),Oe()()),e&2){let n,o=i.$implicit;tt(2),dn(o.title),tt(2),ht("innerHTML",o.description,zm),tt(),ht("href",o.link,Fn),tt(),dn((n=o.author)!==null&&n!==void 0?n:o.pubDate)}}function T_e(e,i){if(e&1&&(He(0,"ol"),ui(1,A_e,7,4,"li",6),Oe()),e&2){let n=i.ngIf;tt(),ht("ngForOf",n)}}function F_e(e,i){if(e&1&&(He(0,"div",5)(1,"h5"),Ye(2),Oe(),ui(3,T_e,2,1,"ol",2),Oe()),e&2){let n=i.ngIf;tt(2),dn(n.category),tt(),ht("ngIf",n.item)}}function P_e(e,i){if(e&1&&(Uu(0),ui(1,F_e,4,2,"div",4),$u()),e&2){let n=Gt();tt(),ht("ngIf",n.detailNews==null||n.detailNews.rss==null?null:n.detailNews.rss.channel)}}function L_e(e,i){e&1&&(Uu(0),Et(1,"div",9),$u())}var rQ=(()=>{let i=class i{constructor(o){this.newService=o,this.detailNews="",this.isAirNewsLoaded=!1,this.isSoftNewsLoaded=!1,this.showLoader=!1}readHacker(){this.isAirNewsLoaded=!1,this.showLoader=!0;let o=this.iframeRef.nativeElement;this.newService.readYcombinatorNews().pipe(Hn(r=>Nt(r.error.text))).subscribe(r=>{this.isSoftNewsLoaded=!0,this.showLoader=!1,o.srcdoc=r?.replace(/<head([^>]*)>/i,`<head$1>
          <base href="https://news.ycombinator.com/">
          <style>body center {display: flex;} body center table {width: 100%;} </style>
          <script>
          // X-Frame-Bypass navigation event handlers
          document.addEventListener('click', e => {
            if (frameElement && document.activeElement && document.activeElement.href) {
              e.preventDefault();
              //frameElement.load(document.activeElement.href);
              window.open(document.activeElement.href, '_blank');
            }
          })
          document.addEventListener('submit', e => {
            if (frameElement && document.activeElement && document.activeElement.form && document.activeElement.form.action) {
              e.preventDefault()
              if (document.activeElement.form.method === 'post')
                frameElement.load(document.activeElement.form.action, {method: 'post', body: new FormData(document.activeElement.form)})
              else
                frameElement.load(document.activeElement.form.action + '?' + new URLSearchParams(new FormData(document.activeElement.form)))
            }
          })
          <\/script>`)})}readAir(){this.isSoftNewsLoaded=!1,this.showLoader=!0,this.newService.readAirNews().pipe(Hn(o=>Nt(o.error.text))).subscribe(o=>{this.isAirNewsLoaded=!0,this.showLoader=!1;let s=new DOMParser().parseFromString(o?.trim(),"text/xml");this.detailNews=this.xml2json(s)})}xml2json(o){try{let d={};if(o.children.length>0)for(var r=0;r<o.children.length;r++){var s=o.children.item(r),l=s.nodeName;if(typeof d[l]>"u")d[l]=this.xml2json(s);else{if(typeof d[l].push>"u"){var c=d[l];d[l]=[],d[l].push(c)}d[l].push(this.xml2json(s))}}else d=o.textContent;return d}catch(d){console.log(d.message)}}};i.\u0275fac=function(r){return new(r||i)(lt(oQ))},i.\u0275cmp=$i({type:i,selectors:[["skp-news"]],viewQuery:function(r,s){if(r&1&&ql(R_e,5),r&2){let l;Dr(l=Er())&&(s.iframeRef=l.first)}},standalone:!0,features:[rn],decls:10,vars:3,consts:[["iframe",""],[3,"click"],[4,"ngIf"],["frameborder","0",1,"iframeLoading",3,"hidden"],["class","news-container",4,"ngIf"],[1,"news-container"],[4,"ngFor","ngForOf"],[3,"innerHTML"],["target","_blank",3,"href"],[1,"loader"]],template:function(r,s){if(r&1){let l=no();He(0,"nav")(1,"a",1),Ht("click",function(){return ri(l),si(s.readAir())}),Ye(2,"Air News"),Oe(),Ye(3," | "),He(4,"a",1),Ht("click",function(){return ri(l),si(s.readHacker())}),Ye(5,"Hacker News"),Oe()(),ui(6,P_e,2,1,"ng-container",2),Et(7,"iframe",3,0),ui(9,L_e,2,0,"ng-container",2)}r&2&&(tt(6),ht("ngIf",s.isAirNewsLoaded),tt(),ht("hidden",!s.isSoftNewsLoaded),tt(2),ht("ngIf",s.showLoader))},dependencies:[In,gr,pr],styles:["nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:pink}.news-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid grey;padding:10px;margin-bottom:10px}.loader[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 25px);left:calc(50% - 25px);width:50px;height:50px;background-color:#333;border-radius:50%;animation:_ngcontent-%COMP%_loader 1s infinite ease-in-out}@keyframes _ngcontent-%COMP%_loader{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.iframeLoading[_ngcontent-%COMP%]{width:99vw;height:85vh;margin:0;padding:0}"]});let e=i;return e})();function N_e(e,i){if(e&1&&(He(0,"p"),Ye(1,"Uploaded Image: "),He(2,"a",4),Ye(3),Oe()()),e&2){let n=Gt();tt(2),ht("href",n.imgurLink,Fn),tt(),dn(n.imgurLink)}}function O_e(e,i){if(e&1&&Et(0,"img",5),e&2){let n=Gt();ht("src",n.imgurLink,Fn)}}var sQ=(()=>{let i=class i{constructor(o){this.http=o,this.selectedFile=null,this.imgurLink=null,this.clientId="49925c384146f5c"}onFileSelected(o){let r=o.target;r?.files?.[0]&&(this.selectedFile=r.files[0])}uploadImage(){if(!this.selectedFile){alert("Please select a file first.");return}let o=new FormData;o.append("image",this.selectedFile);let r=new Xi({Authorization:`Client-ID ${this.clientId}`});this.http.post("https://api.imgur.com/3/image",o,{headers:r}).subscribe(s=>{this.imgurLink=s.data.link,console.log("Image uploaded successfully:",s)},s=>{console.error("Error uploading image:",s),alert("Failed to upload image.")})}};i.\u0275fac=function(r){return new(r||i)(lt(Mr))},i.\u0275cmp=$i({type:i,selectors:[["skp-snapshots"]],standalone:!0,features:[rn],decls:8,vars:3,consts:[["type","file",3,"change"],[3,"click","disabled"],[4,"ngIf"],["alt","Uploaded Image","style","max-width: 100%; margin-top: 10px;",3,"src",4,"ngIf"],["target","_blank",3,"href"],["alt","Uploaded Image",2,"max-width","100%","margin-top","10px",3,"src"]],template:function(r,s){r&1&&(He(0,"div")(1,"h2"),Ye(2,"Upload Image to Imgur"),Oe(),He(3,"input",0),Ht("change",function(c){return s.onFileSelected(c)}),Oe(),He(4,"button",1),Ht("click",function(){return s.uploadImage()}),Ye(5,"Upload"),Oe(),ui(6,N_e,4,2,"p",2)(7,O_e,1,1,"img",3),Oe()),r&2&&(tt(4),ht("disabled",!s.selectedFile),tt(2),ht("ngIf",s.imgurLink),tt(),ht("ngIf",s.imgurLink))},dependencies:[In,pr]});let e=i;return e})();var aQ=[{path:"markdown",redirectTo:"editor",pathMatch:"full"},{path:"editor",component:eq},{path:"github",component:OY},{path:"g-drive",component:PY},{path:"drop-box",component:NY},{path:"auth/callback",component:AY},{path:"datatable",component:RY},{path:"tasks",component:iQ},{path:"feedbacks",component:nQ},{path:"news",component:rQ},{path:"md",component:NM},{path:"snap",component:sQ}];var oS="Service workers are disabled or not supported by this browser";function z_e(e){return Pu(()=>bo(new Error(e)))}var b0=class{constructor(i){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=z_e(oS);else{let o=Mn(i,"controllerchange").pipe(It(()=>i.controller)),r=Pu(()=>Nt(i.controller)),s=zl(r,o);this.worker=s.pipe(bi(h=>!!h)),this.registration=this.worker.pipe(cn(()=>i.getRegistration()));let u=Mn(i,"message").pipe(It(h=>h.data)).pipe(bi(h=>h&&h.type)).pipe(J2());u.connect(),this.events=u}}postMessage(i,n){return this.worker.pipe(to(1),kn(o=>{o.postMessage(We({action:i},n))})).toPromise().then(()=>{})}postMessageWithOperation(i,n,o){let r=this.waitForOperationCompleted(o),s=this.postMessage(i,n);return Promise.all([s,r]).then(([,l])=>l)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let n;return typeof i=="string"?n=o=>o.type===i:n=o=>i.includes(o.type),this.events.pipe(bi(n))}nextEventOfType(i){return this.eventsOfType(i).pipe(to(1))}waitForOperationCompleted(i){return this.eventsOfType("OPERATION_COMPLETED").pipe(bi(n=>n.nonce===i),to(1),It(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},B_e=(()=>{let i=class i{get isEnabled(){return this.sw.isEnabled}constructor(o){if(this.sw=o,this.pushManager=null,this.subscriptionChanges=new Wi,!o.isEnabled){this.messages=Ts,this.notificationClicks=Ts,this.subscription=Ts;return}this.messages=this.sw.eventsOfType("PUSH").pipe(It(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(It(s=>s.data)),this.pushManager=this.sw.registration.pipe(It(s=>s.pushManager));let r=this.pushManager.pipe(cn(s=>s.getSubscription()));this.subscription=dr(r,this.subscriptionChanges)}requestSubscription(o){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(oS));let r={userVisibleOnly:!0},s=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(s.length));for(let c=0;c<s.length;c++)l[c]=s.charCodeAt(c);return r.applicationServerKey=l,this.pushManager.pipe(cn(c=>c.subscribe(r)),to(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(oS));let o=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(to(1),cn(o)).toPromise()}decodeBase64(o){return atob(o)}};i.\u0275fac=function(r){return new(r||i)(Mt(b0))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),V_e=(()=>{let i=class i{get isEnabled(){return this.sw.isEnabled}constructor(o){if(this.sw=o,!o.isEnabled){this.versionUpdates=Ts,this.unrecoverable=Ts;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oS));let o=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oS));let o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}};i.\u0275fac=function(r){return new(r||i)(Mt(b0))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})();var lQ=new Lt("");function H_e(e,i,n,o){return()=>{if(!(CR(o)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let r=e.get(vi),s=e.get(Kl);r.runOutsideAngular(()=>{let c=navigator.serviceWorker,d=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",d),s.onDestroy(()=>{c.removeEventListener("controllerchange",d)})});let l;if(typeof n.registrationStrategy=="function")l=n.registrationStrategy();else{let[c,...d]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":l=Nt(null);break;case"registerWithDelay":l=cQ(+d[0]||0);break;case"registerWhenStable":let u=fn(e.get(Kl).whenStable());l=d[0]?dr(u,cQ(+d[0])):u;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}r.runOutsideAngular(()=>l.pipe(to(1)).subscribe(()=>navigator.serviceWorker.register(i,{scope:n.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function cQ(e){return Nt(null).pipe(op(e))}function G_e(e,i){return new b0(CR(i)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var nS=class{};function dQ(e,i={}){return Hu([B_e,V_e,{provide:lQ,useValue:e},{provide:nS,useValue:i},{provide:b0,useFactory:G_e,deps:[nS,dl]},{provide:Jx,useFactory:H_e,deps:[Wl,lQ,nS,dl],multi:!0}])}var x4=class{};var _4=class{},D4=class{};var rS=class{constructor(i){this.type=i}},Or=class extends rS{constructor(i,n=null){super(i),this.info=n}},Sl=class extends rS{constructor(i,n=null){super(i),this.info=n}},Zn=class extends rS{constructor(i,n,o=null){super(i),this.reason=n,this.params=o}};function uQ(e){let i=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(i).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function hQ(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var y0=class{constructor(i){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=n=>{location.href=n},i&&Object.assign(this,i)}},Rf=class{encodeKey(i){return encodeURIComponent(i)}encodeValue(i){return encodeURIComponent(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}},E4=class{};var j_e=(()=>{let i=class i{getHashFragmentParams(o){let r=o||window.location.hash;if(r=decodeURIComponent(r),r.indexOf("#")!==0)return{};let s=r.indexOf("?");return s>-1?r=r.substr(s+1):r=r.substr(1),this.parseQueryString(r)}parseQueryString(o){let r={},s,l,c,d,u,h;if(o===null)return r;let g=o.split("&");for(let p=0;p<g.length;p++)s=g[p],l=s.indexOf("="),l===-1?(c=s,d=null):(c=s.substr(0,l),d=s.substr(l+1)),u=decodeURIComponent(c),h=decodeURIComponent(d),u.substr(0,1)==="/"&&(u=u.substr(1)),r[u]=h;return r}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})(),W_e=32;var Xmt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);var Jmt=new Uint8Array(W_e);var M4=class{};var gQ=(()=>{let i=class i extends y0{constructor(o,r,s,l,c,d,u,h,g,p){super(),this.ngZone=o,this.http=r,this.config=c,this.urlHelper=d,this.logger=u,this.crypto=h,this.dateTimeService=p,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new Wi,this.discoveryDocumentLoadedSubject=new Wi,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=g,c||(c={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),l&&(this.tokenValidationHandler=l),c&&this.configure(c);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(f){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",f)}if(this.checkLocalStorageAccessable()){let f=window?.navigator?.userAgent;(f?.includes("MSIE ")||f?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let o="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(o,o),localStorage.removeItem(o),!0)}catch{return!1}}configure(o){Object.assign(this,new y0,o),this.config=Object.assign({},new y0,o),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(bi(o=>o.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(o={},r,s=!0){let l=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(kn(c=>{c.type==="token_received"?l=!0:c.type==="logout"&&(l=!1)}),bi(c=>c.type==="token_expires"&&(r==null||r==="any"||c.info===r)),Gh(1e3)).subscribe(()=>{l&&this.refreshInternal(o,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(o,r){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(o,r)}loadDiscoveryDocumentAndTryLogin(o=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(o))}loadDiscoveryDocumentAndLogin(o=null){return o=o||{},this.loadDiscoveryDocumentAndTryLogin(o).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let r=typeof o.state=="string"?o.state:"";return this.initLoginFlow(r),!1}else return!0})}debug(...o){this.showDebugInformation&&this.logger.debug(...o)}validateUrlFromDiscoveryDocument(o){let r=[],s=this.validateUrlForHttps(o),l=this.validateUrlAgainstIssuer(o);return s||r.push("https for all urls required. Also for urls received by discovery."),l||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(o){if(!o)return!0;let r=o.toLowerCase();return this.requireHttps===!1||(r.match(/^http:\/\/localhost($|[:/])/)||r.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(o,r){if(!o)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(o))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(o){return!this.strictDiscoveryDocumentValidation||!o?!0:o.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(bi(o=>o.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let o=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),s=this.calcTimeout(r,o);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=Nt(new Sl("token_expires","access_token")).pipe(op(s)).subscribe(l=>{this.ngZone.run(()=>{this.eventsSubject.next(l)})})})}setupIdTokenTimer(){let o=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),s=this.calcTimeout(r,o);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=Nt(new Sl("token_expires","id_token")).pipe(op(s)).subscribe(l=>{this.ngZone.run(()=>{this.eventsSubject.next(l)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(o,r){let s=this.dateTimeService.now(),l=(r-o)*this.timeoutFactor-(s-o),c=Math.max(0,l),d=2147483647;return c>d?d:c}setStorage(o){this._storage=o,this.configChanged()}loadDiscoveryDocument(o=null){return new Promise((r,s)=>{if(o||(o=this.issuer||"",o.endsWith("/")||(o+="/"),o+=".well-known/openid-configuration"),!this.validateUrlForHttps(o)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(o).subscribe(l=>{if(!this.validateDiscoveryDocument(l)){this.eventsSubject.next(new Zn("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=l.authorization_endpoint,this.logoutUrl=l.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=l.grant_types_supported,this.issuer=l.issuer,this.tokenEndpoint=l.token_endpoint,this.userinfoEndpoint=l.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=l.jwks_uri,this.sessionCheckIFrameUrl=l.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(l),this.revocationEndpoint=l.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(c=>{let d={discoveryDocument:l,jwks:c},u=new Or("discovery_document_loaded",d);this.eventsSubject.next(u),r(u)}).catch(c=>{this.eventsSubject.next(new Zn("discovery_document_load_error",c)),s(c)})},l=>{this.logger.error("error loading discovery document",l),this.eventsSubject.next(new Zn("discovery_document_load_error",l)),s(l)})})}loadJwks(){return new Promise((o,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,o(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new Zn("jwks_load_error",s)),r(s)}):o(null)})}validateDiscoveryDocument(o){let r;return!this.skipIssuerCheck&&o.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+o.issuer),!1):(r=this.validateUrlFromDiscoveryDocument(o.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(o.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(o.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(o.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(o.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(o.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!o.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(o,r,s=new Xi){return this.fetchTokenUsingPasswordFlow(o,r,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((o,r)=>{let s=new Xi().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(l=>{if(this.debug("userinfo received",JSON.stringify(l)),l.headers.get("content-type").startsWith("application/json")){let c=JSON.parse(l.body),d=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!d.sub||c.sub!==d.sub)){r(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}c=Object.assign({},d,c),this._storage.setItem("id_token_claims_obj",JSON.stringify(c)),this.eventsSubject.next(new Or("user_profile_loaded")),o({info:c})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Or("user_profile_loaded")),o(JSON.parse(l.body))},l=>{this.logger.error("error loading user info",l),this.eventsSubject.next(new Zn("user_profile_load_error",l)),r(l)})})}fetchTokenUsingPasswordFlow(o,r,s=new Xi){let l={username:o,password:r};return this.fetchTokenUsingGrant("password",l,s)}fetchTokenUsingGrant(o,r,s=new Xi){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let l=new Jr({encoder:new Rf}).set("grant_type",o).set("scope",this.scope);if(this.useHttpBasicAuth){let c=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+c)}if(this.useHttpBasicAuth||(l=l.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(l=l.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))l=l.set(c,this.customQueryParams[c]);for(let c of Object.keys(r))l=l.set(c,r[c]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((c,d)=>{this.http.post(this.tokenEndpoint,l,{headers:s}).subscribe(u=>{this.debug("tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token&&this.processIdToken(u.id_token,u.access_token).then(h=>{this.storeIdToken(h),c(u)}),this.eventsSubject.next(new Or("token_received")),c(u)},u=>{this.logger.error("Error performing ${grantType} flow",u),this.eventsSubject.next(new Zn("token_error",u)),d(u)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((o,r)=>{let s=new Jr({encoder:new Rf}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),l=new Xi().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let c=btoa(`${this.clientId}:${this.dummyClientSecret}`);l=l.set("Authorization","Basic "+c)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(c,this.customQueryParams[c]);this.http.post(this.tokenEndpoint,s,{headers:l}).pipe(cn(c=>this.oidc&&c.id_token?fn(this.processIdToken(c.id_token,c.access_token,!0)).pipe(kn(d=>this.storeIdToken(d)),It(()=>c)):Nt(c))).subscribe(c=>{this.debug("refresh tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.eventsSubject.next(new Or("token_received")),this.eventsSubject.next(new Or("token_refreshed")),o(c)},c=>{this.logger.error("Error refreshing token",c),this.eventsSubject.next(new Zn("token_refresh_error",c)),r(c)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=o=>{let r=this.processMessageEventMessage(o);this.checkOrigin&&o.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(o={},r=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(o.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let l=this.document.getElementById(this.silentRefreshIFrameName);l&&this.document.body.removeChild(l),this.silentRefreshSubject=s.sub;let c=this.document.createElement("iframe");c.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let d=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,d,r,o).then(p=>{c.setAttribute("src",p),this.silentRefreshShowIFrame||(c.style.display="none"),this.document.body.appendChild(c)});let u=this.events.pipe(bi(p=>p instanceof Zn),$r()),h=this.events.pipe(bi(p=>p.type==="token_received"),$r()),g=Nt(new Zn("silent_refresh_timeout",null)).pipe(op(this.silentRefreshTimeout));return Y2([u,h,g]).pipe(It(p=>{if(p instanceof Zn)throw p.type==="silent_refresh_timeout"?this.eventsSubject.next(p):(p=new Zn("silent_refresh_error",p),this.eventsSubject.next(p)),p;return p.type==="token_received"&&(p=new Or("silently_refreshed"),this.eventsSubject.next(p)),p})).toPromise()}initImplicitFlowInPopup(o){return this.initLoginFlowInPopup(o)}initLoginFlowInPopup(o){return o=o||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((s,l)=>{let d=null;o.windowRef?o.windowRef&&!o.windowRef.closed&&(d=o.windowRef,d.location.href=r):d=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(o));let u,h=M=>{this.tryLogin({customHashFragment:M,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{p(),s(!0)},k=>{p(),l(k)})},g=()=>{(!d||d.closed)&&(p(),l(new Zn("popup_closed",{})))};d?u=window.setInterval(g,500):l(new Zn("popup_blocked",{}));let p=()=>{window.clearInterval(u),window.removeEventListener("storage",y),window.removeEventListener("message",f),d!==null&&d.close(),d=null},f=M=>{let k=this.processMessageEventMessage(M);k&&k!==null?(window.removeEventListener("storage",y),h(k)):console.log("false event firing")},y=M=>{M.key==="auth_hash"&&(window.removeEventListener("message",f),h(M.newValue))};window.addEventListener("message",f),window.addEventListener("storage",y)}))}calculatePopupFeatures(o){let r=o.height||470,s=o.width||500,l=window.screenLeft+(window.outerWidth-s)/2,c=window.screenTop+(window.outerHeight-r)/2;return`location=no,toolbar=no,width=${s},height=${r},top=${c},left=${l}`}processMessageEventMessage(o){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!o||!o.data||typeof o.data!="string")return;let s=o.data;if(s.startsWith(r))return"#"+s.substr(r.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=o=>{let r=o.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(r)){this.debug("sessionCheckEventListener","wrong origin",r,"expected",s,"event",o);return}switch(o.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",o)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Sl("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Sl("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Sl("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Sl("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(bi(o=>o.type==="silently_refreshed"||o.type==="silent_refresh_timeout"||o.type==="silent_refresh_error"),$r()).subscribe(o=>{o.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Sl("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Sl("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let o=this.document.getElementById(this.sessionCheckIFrameName);o&&this.document.body.removeChild(o);let r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;r.setAttribute("src",s),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let o=this.document.getElementById(this.sessionCheckIFrameName);o||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let r=this.getSessionState();r||this.stopSessionCheckTimer();let s=this.clientId+" "+r;o.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return Nn(this,arguments,function*(o="",r="",s="",l=!1,c={}){let d=this,u;s?u=s:u=this.redirectUri;let h=yield this.createAndSaveNonce();if(o?o=h+this.config.nonceStateSeparator+encodeURIComponent(o):o=h,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let g=d.loginUrl.indexOf("?")>-1?"&":"?",p=d.scope;this.oidc&&!p.match(/(^|\s)openid($|\s)/)&&(p="openid "+p);let f=d.loginUrl+g+"response_type="+encodeURIComponent(d.responseType)+"&client_id="+encodeURIComponent(d.clientId)+"&state="+encodeURIComponent(o)+"&redirect_uri="+encodeURIComponent(u)+"&scope="+encodeURIComponent(p);if(this.responseType.includes("code")&&!this.disablePKCE){let[y,M]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",M):this._storage.setItem("PKCE_verifier",M),f+="&code_challenge="+y,f+="&code_challenge_method=S256"}r&&(f+="&login_hint="+encodeURIComponent(r)),d.resource&&(f+="&resource="+encodeURIComponent(d.resource)),d.oidc&&(f+="&nonce="+encodeURIComponent(h)),l&&(f+="&prompt=none");for(let y of Object.keys(c))f+="&"+encodeURIComponent(y)+"="+encodeURIComponent(c[y]);if(this.customQueryParams)for(let y of Object.getOwnPropertyNames(this.customQueryParams))f+="&"+y+"="+encodeURIComponent(this.customQueryParams[y]);return f})}initImplicitFlowInternal(o="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},l=null;typeof r=="string"?l=r:typeof r=="object"&&(s=r),this.createLoginUrl(o,l,null,!1,s).then(this.config.openUri).catch(c=>{console.error("Error in initImplicitFlow",c),this.inImplicitFlow=!1})}initImplicitFlow(o="",r=""){this.loginUrl!==""?this.initImplicitFlowInternal(o,r):this.events.pipe(bi(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(o,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(o){let r=this;if(o.onTokenReceived){let s={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};o.onTokenReceived(s)}}storeAccessTokenResponse(o,r,s,l,c){if(this._storage.setItem("access_token",o),l&&!Array.isArray(l)?this._storage.setItem("granted_scopes",JSON.stringify(l.split(" "))):l&&Array.isArray(l)&&this._storage.setItem("granted_scopes",JSON.stringify(l)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let d=s*1e3,h=this.dateTimeService.new().getTime()+d;this._storage.setItem("expires_at",""+h)}r&&this._storage.setItem("refresh_token",r),c&&c.forEach((d,u)=>{this._storage.setItem(u,d)})}tryLogin(o=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(o).then(()=>!0):this.tryLoginImplicitFlow(o)}parseQueryString(o){return!o||o.length===0?{}:(o.charAt(0)==="?"&&(o=o.substr(1)),this.urlHelper.parseQueryString(o))}tryLoginCodeFlow(o=null){return Nn(this,null,function*(){o=o||{};let r=o.customHashFragment?o.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(r),l=s.code,c=s.state,d=s.session_state;if(!o.preventClearHashAfterLogin){let g=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,g)}let[u,h]=this.parseState(c);if(this.state=h,s.error){this.debug("error trying to login"),this.handleLoginError(o,s);let g=new Zn("code_error",{},s);return this.eventsSubject.next(g),Promise.reject(g)}if(!o.disableNonceCheck){if(!u)return this.saveRequestedRoute(),Promise.resolve();if(!o.disableOAuth2StateCheck&&!this.validateNonce(u)){let p=new Zn("invalid_nonce_in_state",null);return this.eventsSubject.next(p),Promise.reject(p)}}return this.storeSessionState(d),l&&(yield this.getTokenFromCode(l,o),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let o=this._storage.getItem("requested_route");o&&history.replaceState(null,"",window.location.origin+o)}getCodePartsFromUrl(o){return!o||o.length===0?this.urlHelper.getHashFragmentParams():(o.charAt(0)==="?"&&(o=o.substr(1)),this.urlHelper.parseQueryString(o))}getTokenFromCode(o,r){let s=new Jr({encoder:new Rf}).set("grant_type","authorization_code").set("code",o).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let l;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?l=localStorage.getItem("PKCE_verifier"):l=this._storage.getItem("PKCE_verifier"),l?s=s.set("code_verifier",l):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,r)}fetchAndProcessToken(o,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new Xi().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let l=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+l)}return this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),new Promise((l,c)=>{if(this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(d,this.customQueryParams[d]);this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(d=>{this.debug("refresh tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.oidc&&d.id_token?this.processIdToken(d.id_token,d.access_token,r.disableNonceCheck).then(u=>{this.storeIdToken(u),this.eventsSubject.next(new Or("token_received")),this.eventsSubject.next(new Or("token_refreshed")),l(d)}).catch(u=>{this.eventsSubject.next(new Zn("token_validation_error",u)),console.error("Error validating tokens"),console.error(u),c(u)}):(this.eventsSubject.next(new Or("token_received")),this.eventsSubject.next(new Or("token_refreshed")),l(d))},d=>{console.error("Error getting token",d),this.eventsSubject.next(new Zn("token_refresh_error",d)),c(d)})})}tryLoginImplicitFlow(o=null){o=o||{};let r;o.customHashFragment?r=this.urlHelper.getHashFragmentParams(o.customHashFragment):r=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);let s=r.state,[l,c]=this.parseState(s);if(this.state=c,r.error){this.debug("error trying to login"),this.handleLoginError(o,r);let p=new Zn("token_error",{},r);return this.eventsSubject.next(p),Promise.reject(p)}let d=r.access_token,u=r.id_token,h=r.session_state,g=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!d||this.requestAccessToken&&!o.disableOAuth2StateCheck&&!s||this.oidc&&!u)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!h&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!o.disableNonceCheck&&!this.validateNonce(l)){let f=new Zn("invalid_nonce_in_state",null);return this.eventsSubject.next(f),Promise.reject(f)}return this.requestAccessToken&&this.storeAccessTokenResponse(d,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,g),this.oidc?this.processIdToken(u,d,o.disableNonceCheck).then(p=>o.validationHandler?o.validationHandler({accessToken:d,idClaims:p.idTokenClaims,idToken:p.idToken,state:s}).then(()=>p):p).then(p=>(this.storeIdToken(p),this.storeSessionState(h),this.clearHashAfterLogin&&!o.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Or("token_received")),this.callOnTokenReceivedIfExists(o),this.inImplicitFlow=!1,!0)).catch(p=>(this.eventsSubject.next(new Zn("token_validation_error",p)),this.logger.error("Error validating tokens"),this.logger.error(p),Promise.reject(p))):(this.eventsSubject.next(new Or("token_received")),this.clearHashAfterLogin&&!o.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(o),Promise.resolve(!0))}parseState(o){let r=o,s="";if(o){let l=o.indexOf(this.config.nonceStateSeparator);l>-1&&(r=o.substr(0,l),s=o.substr(l+this.config.nonceStateSeparator.length))}return[r,s]}validateNonce(o){let r;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("nonce"):r=this._storage.getItem("nonce"),r!==o?(console.error("Validating access_token failed, wrong state/nonce.",r,o),!1):!0}storeIdToken(o){this._storage.setItem("id_token",o.idToken),this._storage.setItem("id_token_claims_obj",o.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+o.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(o){this._storage.setItem("session_state",o)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(o,r){o.onLoginError&&o.onLoginError(r),this.clearHashAfterLogin&&!o.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(o=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?o:this.clockSkewInSec*1e3}processIdToken(o,r,s=!1){let l=o.split("."),c=this.padBase64(l[0]),d=uQ(c),u=JSON.parse(d),h=this.padBase64(l[1]),g=uQ(h),p=JSON.parse(g),f;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?f=localStorage.getItem("nonce"):f=this._storage.getItem("nonce"),Array.isArray(p.aud)){if(p.aud.every($=>$!==this.clientId)){let $="Wrong audience: "+p.aud.join(",");return this.logger.warn($),Promise.reject($)}}else if(p.aud!==this.clientId){let $="Wrong audience: "+p.aud;return this.logger.warn($),Promise.reject($)}if(!p.sub){let $="No sub claim in id_token";return this.logger.warn($),Promise.reject($)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==p.sub){let $=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${p.sub}`;return this.logger.warn($),Promise.reject($)}if(!p.iat){let $="No iat claim in id_token";return this.logger.warn($),Promise.reject($)}if(!this.skipIssuerCheck&&p.iss!==this.issuer){let $="Wrong issuer: "+p.iss;return this.logger.warn($),Promise.reject($)}if(!s&&p.nonce!==f){let $="Wrong nonce: "+p.nonce;return this.logger.warn($),Promise.reject($)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!p.at_hash){let $="An at_hash is needed!";return this.logger.warn($),Promise.reject($)}let y=this.dateTimeService.now(),M=p.iat*1e3,k=p.exp*1e3,G=this.getClockSkewInMsec();if(M-G>=y||k+G-this.decreaseExpirationBySec<=y){let $="Token has expired";return console.error($),console.error({now:y,issuedAtMSec:M,expiresAtMSec:k}),Promise.reject($)}let J={accessToken:r,idToken:o,jwks:this.jwks,idTokenClaims:p,idTokenHeader:u,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(J).then(()=>({idToken:o,idTokenClaims:p,idTokenClaimsJson:g,idTokenHeader:u,idTokenHeaderJson:d,idTokenExpiresAt:k})):this.checkAtHash(J).then($=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!$){let _e="Wrong at_hash";return this.logger.warn(_e),Promise.reject(_e)}return this.checkSignature(J).then(()=>{let _e=!this.disableAtHashCheck,Te={idToken:o,idTokenClaims:p,idTokenClaimsJson:g,idTokenHeader:u,idTokenHeaderJson:d,idTokenExpiresAt:k};return _e?this.checkAtHash(J).then(Pe=>{if(this.requestAccessToken&&!Pe){let $e="Wrong at_hash";return this.logger.warn($e),Promise.reject($e)}else return Te}):Te})})}getIdentityClaims(){let o=this._storage.getItem("id_token_claims_obj");return o?JSON.parse(o):null}getGrantedScopes(){let o=this._storage.getItem("granted_scopes");return o?JSON.parse(o):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(o){for(;o.length%4!==0;)o+="=";return o}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let o=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(o&&parseInt(o,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let o=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(o&&parseInt(o,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(o){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(o)>=0&&this._storage.getItem(o)!==null?JSON.parse(this._storage.getItem(o)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(o={},r=""){let s=!1;typeof o=="boolean"&&(s=o,o={});let l=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(d=>this._storage.removeItem(d)),this.silentRefreshSubject=null,this.eventsSubject.next(new Sl("logout")),!this.logoutUrl||s)return;let c;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)c=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(l)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let d=new Jr({encoder:new Rf});l&&(d=d.set("id_token_hint",l));let u=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";u&&(d=d.set("post_logout_redirect_uri",u),r&&(d=d.set("state",r)));for(let h in o)d=d.set(h,o[h]);c=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+d.toString()}this.config.openUri(c)}createAndSaveNonce(){let o=this;return this.createNonce().then(function(r){return o.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):o._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let o=this.document.getElementById(this.silentRefreshIFrameName);o&&o.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(o=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,l="",c=typeof self>"u"?null:self.crypto||self.msCrypto;if(c){let d=new Uint8Array(s);c.getRandomValues(d),d.map||(d.map=Array.prototype.map),d=d.map(u=>r.charCodeAt(u%r.length)),l=String.fromCharCode.apply(null,d)}else for(;0<s--;)l+=r[Math.random()*r.length|0];o(hQ(l))})}checkAtHash(o){return Nn(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(o):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(o){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(o):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(o="",r={}){return this.responseType==="code"?this.initCodeFlow(o,r):this.initImplicitFlow(o,r)}initCodeFlow(o="",r={}){this.loginUrl!==""?this.initCodeFlowInternal(o,r):this.events.pipe(bi(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(o,r))}initCodeFlowInternal(o="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},l=null;typeof r=="string"?l=r:typeof r=="object"&&(s=r),this.createLoginUrl(o,l,null,!1,s).then(this.config.openUri).catch(c=>{console.error("Error in initAuthorizationCodeFlow"),console.error(c)})}createChallangeVerifierPairForPKCE(){return Nn(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let o=yield this.createNonce(),r=yield this.crypto.calcHash(o,"sha-256");return[hQ(r),o]})}extractRecognizedCustomParameters(o){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{o[s]&&r.set(s,JSON.stringify(o[s]))}),r}revokeTokenAndLogout(o={},r=!1){let s=this.revocationEndpoint,l=this.getAccessToken(),c=this.getRefreshToken();if(!l)return Promise.resolve();let d=new Jr({encoder:new Rf}),u=new Xi().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let h=btoa(`${this.clientId}:${this.dummyClientSecret}`);u=u.set("Authorization","Basic "+h)}if(this.useHttpBasicAuth||(d=d.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(d=d.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let h of Object.getOwnPropertyNames(this.customQueryParams))d=d.set(h,this.customQueryParams[h]);return new Promise((h,g)=>{let p,f;if(l){let y=d.set("token",l).set("token_type_hint","access_token");p=this.http.post(s,y,{headers:u})}else p=Nt(null);if(c){let y=d.set("token",c).set("token_type_hint","refresh_token");f=this.http.post(s,y,{headers:u})}else f=Nt(null);r&&(p=p.pipe(Hn(y=>y.status===0?Nt(null):bo(y))),f=f.pipe(Hn(y=>y.status===0?Nt(null):bo(y)))),Vh([p,f]).subscribe(y=>{this.logOut(o),h(y),this.logger.info("Token successfully revoked")},y=>{this.logger.error("Error revoking token",y),this.eventsSubject.next(new Zn("token_revoke_error",y)),g(y)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};i.\u0275fac=function(r){return new(r||i)(Mt(vi),Mt(Mr),Mt(D4,8),Mt(E4,8),Mt(y0,8),Mt(j_e),Mt(_4),Mt(M4,8),Mt(mo),Mt(x4))},i.\u0275prov=xt({token:i,factory:i.\u0275fac});let e=i;return e})();var evt=new Lt("AUTH_CONFIG");var pQ={providers:[DH({eventCoalescing:!0}),j9(aQ),dQ("ngsw-worker.js",{enabled:!kH(),registrationStrategy:"registerWithDelay:30000"}),XH(),gQ]};var U_e=()=>["/editor"],$_e=()=>["/github"],q_e=()=>["/g-drive"],K_e=()=>["/drop-box"],Y_e=()=>["/datatable"],Q_e=()=>["/tasks"],Z_e=()=>["/feedbacks"],X_e=()=>["/news"],J_e=()=>["/md"],eDe=()=>["/snap"],fQ=(()=>{let i=class i{constructor(o,r,s,l){this.route=o,this.router=r,this.githubService=s,this.dropboxService=l,this.title="skpedit"}ngOnInit(){this.route.queryParams.subscribe(o=>{let r=o.token,s=o.auth;s=="github"&&r?(this.githubService.login(o),this.router.navigate(["/github"])):s=="dropbox"&&r&&(this.dropboxService.saveToken(o),this.router.navigate(["/drop-box"])),s=="dropbox"&&o.code&&this.dropboxService.getToken(o.code)})}};i.\u0275fac=function(r){return new(r||i)(lt(hl),lt(JC),lt(v0),lt(vk))},i.\u0275cmp=$i({type:i,selectors:[["skp-root"]],standalone:!0,features:[rn],decls:34,vars:20,consts:[["routerLink","/"],[3,"routerLink"],[3,"href"]],template:function(r,s){r&1&&(He(0,"a",0),Ye(1,"Home"),Oe(),Ye(2," | "),He(3,"a",1),Ye(4,"Editor"),Oe(),Ye(5," | "),He(6,"a",1),Ye(7,"Github"),Oe(),Ye(8,` |
`),He(9,"a",1),Ye(10,"G-Drive"),Oe(),Ye(11," | "),He(12,"a",1),Ye(13,"DropBox"),Oe(),Ye(14,` |
`),He(15,"a",1),Ye(16,"All Files"),Oe(),Ye(17," | "),He(18,"a",2),Ye(19,"Calender Task"),Oe(),Ye(20," | "),He(21,"a",2),Ye(22,"Feedbacks"),Oe(),Ye(23," | "),He(24,"a",2),Ye(25,"Latest News"),Oe(),Ye(26," | "),He(27,"a",2),Ye(28,"Markdown"),Oe(),Ye(29," | "),He(30,"a",2),Ye(31,"Snapshot"),Oe(),Et(32,"br")(33,"router-outlet")),r&2&&(tt(3),ht("routerLink",hr(10,U_e)),tt(3),ht("routerLink",hr(11,$_e)),tt(3),ht("routerLink",hr(12,q_e)),tt(3),ht("routerLink",hr(13,K_e)),tt(3),ht("routerLink",hr(14,Y_e)),tt(3),ht("href",hr(15,Q_e),Fn),tt(3),ht("href",hr(16,Z_e),Fn),tt(3),ht("href",hr(17,X_e),Fn),tt(3),ht("href",hr(18,J_e),Fn),tt(3),ht("href",hr(19,eDe),Fn))},dependencies:[In,cA,G9,Oo],styles:[`[_nghost-%COMP%] {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(180deg,
        var(--orange-red) 0%,
        var(--vivid-pink) 50%,
        var(--electric-violet) 100%);

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(90deg,
        var(--orange-red) 0%,
        var(--vivid-pink) 50%,
        var(--electric-violet) 100%);

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1[_ngcontent-%COMP%] {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
  }

  p[_ngcontent-%COMP%] {
    margin: 0;
    color: var(--gray-700);
  }

  main[_ngcontent-%COMP%] {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo[_ngcontent-%COMP%] {
    max-width: 9.2rem;
  }

  .content[_ngcontent-%COMP%] {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {
    margin-top: 1.75rem;
  }

  .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {
    margin-top: 1.5rem;
  }

  .divider[_ngcontent-%COMP%] {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group[_ngcontent-%COMP%] {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
  }

  .pill[_ngcontent-%COMP%]:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 2) {
    --pill-accent: var(--french-violet);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 3), 
   .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 4), 
   .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 5) {
    --pill-accent: var(--hot-red);
  }

  .pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {
    margin-inline-start: 0.25rem;
  }

  .social-links[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: max-content;
    }

    .divider[_ngcontent-%COMP%] {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }`]});let e=i;return e})();s9(fQ,pQ).catch(e=>console.error(e));
