import"./chunk-TTEICWRL.js";import"./chunk-US7LQEOR.js";import"./chunk-AOVBE3SO.js";import"./chunk-RHIQNHGH.js";import"./chunk-ZMXXLGTO.js";import{$ as kl,$a as ut,$b as To,$c as LS,$d as WS,$e as wI,$f as tm,$g as Fu,$h as pB,A as bt,Aa as ln,Ab as Bn,Ac as Uf,Ad as cI,Ae as Jn,Af as Jf,Ag as c1,Ah as Zp,Ai as DB,B as CS,Ba as po,Bb as m8,Bc as R8,Bd as Rs,Be as cr,Bf as Nh,Bg as u1,Bh as b1,Bi as Ts,C as V4,Ca as Y4,Cb as v8,Cc as nI,Cd as W8,Ce as An,Cf as e1,Cg as SI,Ch as X5,Ci as Nl,D as xh,Da as Ov,Db as Dh,Dc as Ta,Dd as fo,De as oi,Df as t1,Dg as B5,Dh as In,Di as EB,E as B3,Ea as Is,Eb as Bv,Ec as kS,Ed as $p,Ee as Bi,Ef as i1,Eg as V5,Eh as hs,Ei as QZ,F as So,Fa as Z4,Fb as C8,Fc as k8,Fd as BS,Fe as jt,Ff as Xv,Fg as H5,Fh as J5,Fi as IB,G as vt,Ga as go,Gb as w8,Gc as A8,Gd as kn,Ge as Xf,Gf as Jv,Gg as _I,Gh as UZ,Gi as RI,H as tn,Ha as cs,Hb as b8,Hc as AS,Hd as Ah,He as il,Hf as eC,Hg as d1,Hh as eB,Hi as MB,I as ti,Ia as Q4,Ib as PZ,Ic as F8,Id as VS,Ie as qS,If as n1,Ig as Cn,Ih as $Z,Ii as RB,J as vr,Ja as W3,Jb as y8,Jc as T8,Jd as $v,Je as Kv,Jf as o1,Jg as z5,Jh as tB,Ji as XZ,K as Un,Ka as j3,Kb as Q3,Kc as Du,Kd as uI,Ke as Cr,Kf as r1,Kg as G5,Kh as qZ,Ki as Lu,L as an,La as X4,Lb as DS,Lc as $f,Ld as j8,Le as Ph,Lf as s5,Lg as h1,Lh as iB,Li as kB,M as V3,Ma as J4,Mb as ES,Mc as FS,Md as HS,Me as KS,Mf as a5,Mg as W5,Mh as KZ,N as Rl,Na as _S,Nb as Br,Nc as el,Nd as dI,Ne as YS,Nf as l5,Ng as p1,Nh as nB,O as H4,Oa as En,Ob as zf,Oc as Wv,Od as zS,Oe as Fn,Of as c5,Og as Au,Oh as oB,P as Of,Pa as e8,Pb as S8,Pc as TS,Pd as GS,Pe as it,Pf as u5,Pg as j5,Ph as YZ,Pi as AB,Q as wS,Qa as t8,Qb as X3,Qc as PS,Qd as ks,Qe as mI,Qf as d5,Qg as g1,Qh as rB,Qi as Yn,R as z4,Ra as Go,Rb as Vv,Rc as P8,Rd as Yf,Re as Wr,Rf as h5,Rg as f1,Rh as sB,S as ui,Sa as Al,Sb as Ms,Sc as L8,Sd as U8,Se as e5,Sf as p5,Sg as rm,Sh as aB,T as Fo,Ta as i8,Tb as _8,Tc as O8,Td as HZ,Te as gt,Tf as g5,Tg as tC,Th as lB,U as It,Ua as n8,Ub as IS,Uc as Ih,Ud as hI,Ue,Uf as f5,Ug as xI,Uh as cB,V as Xn,Va as o8,Vb as MS,Vc as qf,Vd as zZ,Ve as vI,Vf as m5,Vg as Bh,Vh as Qp,W as Me,Wa as r8,Wb as J3,Wc as Fl,Wd as on,We as ZS,Wf as v5,Wg as m1,Wh as Xp,X as zt,Xa as U3,Xb as Hv,Xc as oI,Xd as Fh,Xe as Mt,Xf as C5,Xg as Ie,Xh as y1,Y as Ct,Ya as us,Yb as nn,Yc as rI,Yd as As,Ye as Kt,Yf as s1,Yg as Zi,Yh as uB,Z as ho,Za as zp,Zb as zv,Zc as jv,Zd as Zf,Ze as CI,Zf as Fs,Zg as U5,Zh as dB,_ as hi,_a as $3,_b as Vr,_c as jp,_d as lr,_e as GZ,_f as em,_g as Do,_h as hB,a as _,aa as H3,ab as Gp,ac as jo,ad as sI,ae as $8,af as QS,ag as w5,ah as $5,ai as gB,b as Ot,ba as yn,bb as ht,bc as _i,bd as N8,be as Sn,bf as t5,bg as yI,bh as sm,bi as fB,c as yu,ca as Ri,cb as Wo,cc as xo,cd as Mh,ce as q8,cf as Yv,cg as b5,ch as v1,ci as mB,d as rr,da as zo,db as _o,dc as sr,dd as zi,de as Vn,df as Zv,dg as y5,dh as DI,di as ZZ,e as Tv,ea as G4,eb as Nv,ec as x8,ed as B8,ee as K8,ef as Lh,eg as S5,eh as q5,ei as Vh,f as _h,fa as W4,fb as s8,fc as xu,fd as V8,fe as pI,ff as WZ,fg as _5,fh as iC,fi as vB,g as fS,ga as j4,gb as Yi,gc as D8,gd as H8,ge as Y8,gf as i5,gg as x5,gh as K5,gi as aC,h as B4,ha as U4,hb as a8,hc as E8,hd as NZ,he as gI,hf as jZ,hg as D5,hh as EI,hi as II,i as ba,ia as bS,ib as ds,ic as Gf,id as Kf,ie as jS,if as Mu,ig as E5,ih as Tu,ii as CB,j as Pv,ja as Su,jb as l8,jc as RS,jd as aI,je as Z8,jf as Qv,jg as I5,jh as Ll,ji as S1,k as kZ,ka as z3,kb as _u,kc as Wf,kd as ar,ke as Th,kf as fi,kg as M5,kh as nC,ki as MI,l as qt,la as G3,lb as c8,lc as LZ,ld as Rh,le as Kn,lf as Tl,lg as ku,lh as C1,li as wB,m as gn,ma as $4,mb as u8,mc as Hr,md as Gr,me as Q8,mf as nl,mg as im,mh as oC,mi as Io,n as Ml,na as FZ,nb as xS,nc as eI,nd as Up,ne as tl,nf as ri,ng as nm,nh as Y5,ni as lC,o as mS,oa as q4,ob as q3,oc as Gv,od as Uv,oe as X8,of as Lo,og as R5,oh as am,oi as cC,p as ls,pa as TZ,pb as qn,pc as jf,pd as BZ,pe as US,pf as n5,pg as om,ph as Kp,pi as wr,q as Mi,qa as Ui,qb as Vf,qc as tI,qd as Xi,qe as J8,qf as bI,qg as k5,qh as Z5,qi as _1,r as N3,ra as yS,rb as K3,rc as I8,rd as Eu,re as qp,rf as o5,rg as A5,rh as rC,ri as x1,s as AZ,sa as _a,sb as d8,sc as OZ,sd as Iu,se as $S,sf as xt,sg as F5,sh as sC,si as bB,t as vS,ta as Nf,tb as Y3,tc as Po,td as lI,te as qv,tf as Rt,tg as T5,th as Eo,ti as D1,u as jn,ua as Hp,ub as Z3,uc as Eh,ud as z8,ue as st,uf as r5,ug as a1,uh as Q5,ui as yB,v as Lv,va as SS,vb as Hf,vc as Wp,vd as VZ,ve as ii,vf as XS,vg as l1,vh as w1,vi as E1,w as uo,wa as Nr,wb as h8,wc as iI,wd as kh,we as $t,wf as JS,wg as P5,wh as lm,wi as SB,x as Je,xa as $n,xb as p8,xc as pt,xd as OS,xe as Pi,xf as Oh,xg as L5,xh as Yp,xi as _B,y as yt,ya as K4,yb as g8,yc as M8,yd as NS,ye as Qf,yf as Ru,yg as O5,yh as Ol,yi as xB,z as Ao,za as Bf,zb as f8,zc as zr,zd as G8,ze as fI,zf as Pl,zg as N5,zh as Pu,zi as I1}from"./chunk-FXFJW6CT.js";import{a as We,b as Ft,c as Fv,d as O3,e as pS,f as yh,g as gS,h as Sh,i as Nn}from"./chunk-TVXFYX5A.js";var kW=yh((OF,NF)=>{"use strict";(function(e,i){typeof OF=="object"&&typeof NF<"u"?NF.exports=i():typeof define=="function"&&define.amd?define(i):(e=typeof globalThis<"u"?globalThis:e||self,e.marked=i())})(OF,function(){"use strict";function e(Ge,Oe){for(var Ve=0;Ve<Oe.length;Ve++){var j=Oe[Ve];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(Ge,j.key,j)}}function i(Ge,Oe,Ve){return Oe&&e(Ge.prototype,Oe),Ve&&e(Ge,Ve),Ge}function n(Ge,Oe){if(Ge){if(typeof Ge=="string")return o(Ge,Oe);var Ve=Object.prototype.toString.call(Ge).slice(8,-1);if(Ve==="Object"&&Ge.constructor&&(Ve=Ge.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(Ge);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return o(Ge,Oe)}}function o(Ge,Oe){(Oe==null||Oe>Ge.length)&&(Oe=Ge.length);for(var Ve=0,j=new Array(Oe);Ve<Oe;Ve++)j[Ve]=Ge[Ve];return j}function r(Ge,Oe){var Ve;if(typeof Symbol>"u"||Ge[Symbol.iterator]==null){if(Array.isArray(Ge)||(Ve=n(Ge))||Oe&&Ge&&typeof Ge.length=="number"){Ve&&(Ge=Ve);var j=0;return function(){return j>=Ge.length?{done:!0}:{done:!1,value:Ge[j++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return Ve=Ge[Symbol.iterator](),Ve.next.bind(Ve)}function s(Ge){var Oe={exports:{}};return Ge(Oe,Oe.exports),Oe.exports}var l=s(function(Ge){function Oe(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function Ve(j){Ge.exports.defaults=j}Ge.exports={defaults:Oe(),getDefaults:Oe,changeDefaults:Ve}}),c=/[&<>"']/,u=/[&<>"']/g,d=/[<>"']|&(?!#?\w+;)/,h=/[<>"']|&(?!#?\w+;)/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(Oe){return p[Oe]};function f(Ge,Oe){if(Oe){if(c.test(Ge))return Ge.replace(u,g)}else if(d.test(Ge))return Ge.replace(h,g);return Ge}var y=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function M(Ge){return Ge.replace(y,function(Oe,Ve){return Ve=Ve.toLowerCase(),Ve==="colon"?":":Ve.charAt(0)==="#"?Ve.charAt(1)==="x"?String.fromCharCode(parseInt(Ve.substring(2),16)):String.fromCharCode(+Ve.substring(1)):""})}var k=/(^|[^\[])\^/g;function G(Ge,Oe){Ge=Ge.source||Ge,Oe=Oe||"";var Ve={replace:function(Se,Re){return Re=Re.source||Re,Re=Re.replace(k,"$1"),Ge=Ge.replace(Se,Re),Ve},getRegex:function(){return new RegExp(Ge,Oe)}};return Ve}var J=/[^\w:]/g,$=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _e(Ge,Oe,Ve){if(Ge){var j;try{j=decodeURIComponent(M(Ve)).replace(J,"").toLowerCase()}catch{return null}if(j.indexOf("javascript:")===0||j.indexOf("vbscript:")===0||j.indexOf("data:")===0)return null}Oe&&!$.test(Ve)&&(Ve=lt(Oe,Ve));try{Ve=encodeURI(Ve).replace(/%25/g,"%")}catch{return null}return Ve}var Fe={},Pe=/^[^:]+:\/*[^/]*$/,$e=/^([^:]+:)[\s\S]*$/,nt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function lt(Ge,Oe){Fe[" "+Ge]||(Pe.test(Ge)?Fe[" "+Ge]=Ge+"/":Fe[" "+Ge]=Ei(Ge,"/",!0)),Ge=Fe[" "+Ge];var Ve=Ge.indexOf(":")===-1;return Oe.substring(0,2)==="//"?Ve?Oe:Ge.replace($e,"$1")+Oe:Oe.charAt(0)==="/"?Ve?Oe:Ge.replace(nt,"$1")+Oe:Ge+Oe}var Lt={exec:function(){}};function Jt(Ge){for(var Oe=1,Ve,j;Oe<arguments.length;Oe++){Ve=arguments[Oe];for(j in Ve)Object.prototype.hasOwnProperty.call(Ve,j)&&(Ge[j]=Ve[j])}return Ge}function xn(Ge,Oe){var Ve=Ge.replace(/\|/g,function(Re,Te,Le){for(var Tt=!1,dt=Te;--dt>=0&&Le[dt]==="\\";)Tt=!Tt;return Tt?"|":" |"}),j=Ve.split(/ \|/),Se=0;if(j.length>Oe)j.splice(Oe);else for(;j.length<Oe;)j.push("");for(;Se<j.length;Se++)j[Se]=j[Se].trim().replace(/\\\|/g,"|");return j}function Ei(Ge,Oe,Ve){var j=Ge.length;if(j===0)return"";for(var Se=0;Se<j;){var Re=Ge.charAt(j-Se-1);if(Re===Oe&&!Ve)Se++;else if(Re!==Oe&&Ve)Se++;else break}return Ge.substr(0,j-Se)}function hn(Ge,Oe){if(Ge.indexOf(Oe[1])===-1)return-1;for(var Ve=Ge.length,j=0,Se=0;Se<Ve;Se++)if(Ge[Se]==="\\")Se++;else if(Ge[Se]===Oe[0])j++;else if(Ge[Se]===Oe[1]&&(j--,j<0))return Se;return-1}function bn(Ge){Ge&&Ge.sanitize&&!Ge.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function as(Ge,Oe){if(Oe<1)return"";for(var Ve="";Oe>1;)Oe&1&&(Ve+=Ge),Oe>>=1,Ge+=Ge;return Ve+Ge}var ot={escape:f,unescape:M,edit:G,cleanUrl:_e,resolveUrl:lt,noopTest:Lt,merge:Jt,splitCells:xn,rtrim:Ei,findClosingBracket:hn,checkSanitizeDeprecation:bn,repeatString:as},Ut=l.defaults,Ci=ot.rtrim,ji=ot.splitCells,Hi=ot.escape,nr=ot.findClosingBracket;function ca(Ge,Oe,Ve){var j=Oe.href,Se=Oe.title?Hi(Oe.title):null,Re=Ge[1].replace(/\\([\[\]])/g,"$1");return Ge[0].charAt(0)!=="!"?{type:"link",raw:Ve,href:j,title:Se,text:Re}:{type:"image",raw:Ve,href:j,title:Se,text:Hi(Re)}}function Tf(Ge,Oe){var Ve=Ge.match(/^(\s+)(?:```)/);if(Ve===null)return Oe;var j=Ve[1];return Oe.split(`
`).map(function(Se){var Re=Se.match(/^\s+/);if(Re===null)return Se;var Te=Re[0];return Te.length>=j.length?Se.slice(j.length):Se}).join(`
`)}var Ho=function(){function Ge(Ve){this.options=Ve||Ut}var Oe=Ge.prototype;return Oe.space=function(j){var Se=this.rules.block.newline.exec(j);if(Se)return Se[0].length>1?{type:"space",raw:Se[0]}:{raw:`
`}},Oe.code=function(j){var Se=this.rules.block.code.exec(j);if(Se){var Re=Se[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Se[0],codeBlockStyle:"indented",text:this.options.pedantic?Re:Ci(Re,`
`)}}},Oe.fences=function(j){var Se=this.rules.block.fences.exec(j);if(Se){var Re=Se[0],Te=Tf(Re,Se[3]||"");return{type:"code",raw:Re,lang:Se[2]?Se[2].trim():Se[2],text:Te}}},Oe.heading=function(j){var Se=this.rules.block.heading.exec(j);if(Se){var Re=Se[2].trim();if(/#$/.test(Re)){var Te=Ci(Re,"#");(this.options.pedantic||!Te||/ $/.test(Te))&&(Re=Te.trim())}return{type:"heading",raw:Se[0],depth:Se[1].length,text:Re}}},Oe.nptable=function(j){var Se=this.rules.block.nptable.exec(j);if(Se){var Re={type:"table",header:ji(Se[1].replace(/^ *| *\| *$/g,"")),align:Se[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Se[3]?Se[3].replace(/\n$/,"").split(`
`):[],raw:Se[0]};if(Re.header.length===Re.align.length){var Te=Re.align.length,Le;for(Le=0;Le<Te;Le++)/^ *-+: *$/.test(Re.align[Le])?Re.align[Le]="right":/^ *:-+: *$/.test(Re.align[Le])?Re.align[Le]="center":/^ *:-+ *$/.test(Re.align[Le])?Re.align[Le]="left":Re.align[Le]=null;for(Te=Re.cells.length,Le=0;Le<Te;Le++)Re.cells[Le]=ji(Re.cells[Le],Re.header.length);return Re}}},Oe.hr=function(j){var Se=this.rules.block.hr.exec(j);if(Se)return{type:"hr",raw:Se[0]}},Oe.blockquote=function(j){var Se=this.rules.block.blockquote.exec(j);if(Se){var Re=Se[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Se[0],text:Re}}},Oe.list=function(j){var Se=this.rules.block.list.exec(j);if(Se){var Re=Se[0],Te=Se[2],Le=Te.length>1,Tt={type:"list",raw:Re,ordered:Le,start:Le?+Te.slice(0,-1):"",loose:!1,items:[]},dt=Se[0].match(this.rules.block.item),At=!1,ei,Ki,ko,Dn,Ii,wa,Lf,Vp,Il=dt.length;ko=this.rules.block.listItemStart.exec(dt[0]);for(var vn=0;vn<Il;vn++){if(ei=dt[vn],Re=ei,vn!==Il-1){if(Dn=this.rules.block.listItemStart.exec(dt[vn+1]),this.options.pedantic?Dn[1].length>ko[1].length:Dn[1].length>ko[0].length||Dn[1].length>3){dt.splice(vn,2,dt[vn]+`
`+dt[vn+1]),vn--,Il--;continue}else(!this.options.pedantic||this.options.smartLists?Dn[2][Dn[2].length-1]!==Te[Te.length-1]:Le===(Dn[2].length===1))&&(Ii=dt.slice(vn+1).join(`
`),Tt.raw=Tt.raw.substring(0,Tt.raw.length-Ii.length),vn=Il-1);ko=Dn}Ki=ei.length,ei=ei.replace(/^ *([*+-]|\d+[.)]) ?/,""),~ei.indexOf(`
 `)&&(Ki-=ei.length,ei=this.options.pedantic?ei.replace(/^ {1,4}/gm,""):ei.replace(new RegExp("^ {1,"+Ki+"}","gm"),"")),wa=At||/\n\n(?!\s*$)/.test(ei),vn!==Il-1&&(At=ei.charAt(ei.length-1)===`
`,wa||(wa=At)),wa&&(Tt.loose=!0),this.options.gfm&&(Lf=/^\[[ xX]\] /.test(ei),Vp=void 0,Lf&&(Vp=ei[1]!==" ",ei=ei.replace(/^\[[ xX]\] +/,""))),Tt.items.push({type:"list_item",raw:Re,task:Lf,checked:Vp,loose:wa,text:ei})}return Tt}},Oe.html=function(j){var Se=this.rules.block.html.exec(j);if(Se)return{type:this.options.sanitize?"paragraph":"html",raw:Se[0],pre:!this.options.sanitizer&&(Se[1]==="pre"||Se[1]==="script"||Se[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Se[0]):Hi(Se[0]):Se[0]}},Oe.def=function(j){var Se=this.rules.block.def.exec(j);if(Se){Se[3]&&(Se[3]=Se[3].substring(1,Se[3].length-1));var Re=Se[1].toLowerCase().replace(/\s+/g," ");return{tag:Re,raw:Se[0],href:Se[2],title:Se[3]}}},Oe.table=function(j){var Se=this.rules.block.table.exec(j);if(Se){var Re={type:"table",header:ji(Se[1].replace(/^ *| *\| *$/g,"")),align:Se[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Se[3]?Se[3].replace(/\n$/,"").split(`
`):[]};if(Re.header.length===Re.align.length){Re.raw=Se[0];var Te=Re.align.length,Le;for(Le=0;Le<Te;Le++)/^ *-+: *$/.test(Re.align[Le])?Re.align[Le]="right":/^ *:-+: *$/.test(Re.align[Le])?Re.align[Le]="center":/^ *:-+ *$/.test(Re.align[Le])?Re.align[Le]="left":Re.align[Le]=null;for(Te=Re.cells.length,Le=0;Le<Te;Le++)Re.cells[Le]=ji(Re.cells[Le].replace(/^ *\| *| *\| *$/g,""),Re.header.length);return Re}}},Oe.lheading=function(j){var Se=this.rules.block.lheading.exec(j);if(Se)return{type:"heading",raw:Se[0],depth:Se[2].charAt(0)==="="?1:2,text:Se[1]}},Oe.paragraph=function(j){var Se=this.rules.block.paragraph.exec(j);if(Se)return{type:"paragraph",raw:Se[0],text:Se[1].charAt(Se[1].length-1)===`
`?Se[1].slice(0,-1):Se[1]}},Oe.text=function(j){var Se=this.rules.block.text.exec(j);if(Se)return{type:"text",raw:Se[0],text:Se[0]}},Oe.escape=function(j){var Se=this.rules.inline.escape.exec(j);if(Se)return{type:"escape",raw:Se[0],text:Hi(Se[1])}},Oe.tag=function(j,Se,Re){var Te=this.rules.inline.tag.exec(j);if(Te)return!Se&&/^<a /i.test(Te[0])?Se=!0:Se&&/^<\/a>/i.test(Te[0])&&(Se=!1),!Re&&/^<(pre|code|kbd|script)(\s|>)/i.test(Te[0])?Re=!0:Re&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Te[0])&&(Re=!1),{type:this.options.sanitize?"text":"html",raw:Te[0],inLink:Se,inRawBlock:Re,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Te[0]):Hi(Te[0]):Te[0]}},Oe.link=function(j){var Se=this.rules.inline.link.exec(j);if(Se){var Re=Se[2].trim();if(!this.options.pedantic&&/^</.test(Re)){if(!/>$/.test(Re))return;var Te=Ci(Re.slice(0,-1),"\\");if((Re.length-Te.length)%2===0)return}else{var Le=nr(Se[2],"()");if(Le>-1){var Tt=Se[0].indexOf("!")===0?5:4,dt=Tt+Se[1].length+Le;Se[2]=Se[2].substring(0,Le),Se[0]=Se[0].substring(0,dt).trim(),Se[3]=""}}var At=Se[2],ei="";if(this.options.pedantic){var Ki=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(At);Ki&&(At=Ki[1],ei=Ki[3])}else ei=Se[3]?Se[3].slice(1,-1):"";return At=At.trim(),/^</.test(At)&&(this.options.pedantic&&!/>$/.test(Re)?At=At.slice(1):At=At.slice(1,-1)),ca(Se,{href:At&&At.replace(this.rules.inline._escapes,"$1"),title:ei&&ei.replace(this.rules.inline._escapes,"$1")},Se[0])}},Oe.reflink=function(j,Se){var Re;if((Re=this.rules.inline.reflink.exec(j))||(Re=this.rules.inline.nolink.exec(j))){var Te=(Re[2]||Re[1]).replace(/\s+/g," ");if(Te=Se[Te.toLowerCase()],!Te||!Te.href){var Le=Re[0].charAt(0);return{type:"text",raw:Le,text:Le}}return ca(Re,Te,Re[0])}},Oe.emStrong=function(j,Se,Re){Re===void 0&&(Re="");var Te=this.rules.inline.emStrong.lDelim.exec(j);if(Te&&!(Te[3]&&Re.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Le=Te[1]||Te[2]||"";if(!Le||Le&&(Re===""||this.rules.inline.punctuation.exec(Re))){var Tt=Te[0].length-1,dt,At,ei=Tt,Ki=0,ko=Te[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ko.lastIndex=0,Se=Se.slice(-1*j.length+Tt);(Te=ko.exec(Se))!=null;)if(dt=Te[1]||Te[2]||Te[3]||Te[4]||Te[5]||Te[6],!!dt){if(At=dt.length,Te[3]||Te[4]){ei+=At;continue}else if((Te[5]||Te[6])&&Tt%3&&!((Tt+At)%3)){Ki+=At;continue}if(ei-=At,!(ei>0)){if(ei+Ki-At<=0&&!Se.slice(ko.lastIndex).match(ko)&&(At=Math.min(At,At+ei+Ki)),Math.min(Tt,At)%2)return{type:"em",raw:j.slice(0,Tt+Te.index+At+1),text:j.slice(1,Tt+Te.index+At)};if(Math.min(Tt,At)%2===0)return{type:"strong",raw:j.slice(0,Tt+Te.index+At+1),text:j.slice(2,Tt+Te.index+At-1)}}}}}},Oe.codespan=function(j){var Se=this.rules.inline.code.exec(j);if(Se){var Re=Se[2].replace(/\n/g," "),Te=/[^ ]/.test(Re),Le=/^ /.test(Re)&&/ $/.test(Re);return Te&&Le&&(Re=Re.substring(1,Re.length-1)),Re=Hi(Re,!0),{type:"codespan",raw:Se[0],text:Re}}},Oe.br=function(j){var Se=this.rules.inline.br.exec(j);if(Se)return{type:"br",raw:Se[0]}},Oe.del=function(j){var Se=this.rules.inline.del.exec(j);if(Se)return{type:"del",raw:Se[0],text:Se[2]}},Oe.autolink=function(j,Se){var Re=this.rules.inline.autolink.exec(j);if(Re){var Te,Le;return Re[2]==="@"?(Te=Hi(this.options.mangle?Se(Re[1]):Re[1]),Le="mailto:"+Te):(Te=Hi(Re[1]),Le=Te),{type:"link",raw:Re[0],text:Te,href:Le,tokens:[{type:"text",raw:Te,text:Te}]}}},Oe.url=function(j,Se){var Re;if(Re=this.rules.inline.url.exec(j)){var Te,Le;if(Re[2]==="@")Te=Hi(this.options.mangle?Se(Re[0]):Re[0]),Le="mailto:"+Te;else{var Tt;do Tt=Re[0],Re[0]=this.rules.inline._backpedal.exec(Re[0])[0];while(Tt!==Re[0]);Te=Hi(Re[0]),Re[1]==="www."?Le="http://"+Te:Le=Te}return{type:"link",raw:Re[0],text:Te,href:Le,tokens:[{type:"text",raw:Te,text:Te}]}}},Oe.inlineText=function(j,Se,Re){var Te=this.rules.inline.text.exec(j);if(Te){var Le;return Se?Le=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Te[0]):Hi(Te[0]):Te[0]:Le=Hi(this.options.smartypants?Re(Te[0]):Te[0]),{type:"text",raw:Te[0],text:Le}}},Ge}(),or=ot.noopTest,sn=ot.edit,xl=ot.merge,Qt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:or,table:or,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};Qt._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,Qt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Qt.def=sn(Qt.def).replace("label",Qt._label).replace("title",Qt._title).getRegex(),Qt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Qt.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,Qt.item=sn(Qt.item,"gm").replace(/bull/g,Qt.bullet).getRegex(),Qt.listItemStart=sn(/^( *)(bull)/).replace("bull",Qt.bullet).getRegex(),Qt.list=sn(Qt.list).replace(/bull/g,Qt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Qt.def.source+")").getRegex(),Qt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Qt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Qt.html=sn(Qt.html,"i").replace("comment",Qt._comment).replace("tag",Qt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Qt.paragraph=sn(Qt._paragraph).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Qt._tag).getRegex(),Qt.blockquote=sn(Qt.blockquote).replace("paragraph",Qt.paragraph).getRegex(),Qt.normal=xl({},Qt),Qt.gfm=xl({},Qt.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Qt.gfm.nptable=sn(Qt.gfm.nptable).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Qt._tag).getRegex(),Qt.gfm.table=sn(Qt.gfm.table).replace("hr",Qt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Qt._tag).getRegex(),Qt.pedantic=xl({},Qt.normal,{html:sn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Qt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:or,paragraph:sn(Qt.normal._paragraph).replace("hr",Qt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Qt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Vt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:or,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:or,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Vt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Vt.punctuation=sn(Vt.punctuation).replace(/punctuation/g,Vt._punctuation).getRegex(),Vt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Vt.escapedEmSt=/\\\*|\\_/g,Vt._comment=sn(Qt._comment).replace("(?:-->|$)","-->").getRegex(),Vt.emStrong.lDelim=sn(Vt.emStrong.lDelim).replace(/punct/g,Vt._punctuation).getRegex(),Vt.emStrong.rDelimAst=sn(Vt.emStrong.rDelimAst,"g").replace(/punct/g,Vt._punctuation).getRegex(),Vt.emStrong.rDelimUnd=sn(Vt.emStrong.rDelimUnd,"g").replace(/punct/g,Vt._punctuation).getRegex(),Vt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Vt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Vt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Vt.autolink=sn(Vt.autolink).replace("scheme",Vt._scheme).replace("email",Vt._email).getRegex(),Vt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Vt.tag=sn(Vt.tag).replace("comment",Vt._comment).replace("attribute",Vt._attribute).getRegex(),Vt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Vt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Vt.link=sn(Vt.link).replace("label",Vt._label).replace("href",Vt._href).replace("title",Vt._title).getRegex(),Vt.reflink=sn(Vt.reflink).replace("label",Vt._label).getRegex(),Vt.reflinkSearch=sn(Vt.reflinkSearch,"g").replace("reflink",Vt.reflink).replace("nolink",Vt.nolink).getRegex(),Vt.normal=xl({},Vt),Vt.pedantic=xl({},Vt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:sn(/^!?\[(label)\]\((.*?)\)/).replace("label",Vt._label).getRegex(),reflink:sn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vt._label).getRegex()}),Vt.gfm=xl({},Vt.normal,{escape:sn(Vt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),Vt.gfm.url=sn(Vt.gfm.url,"i").replace("email",Vt.gfm._extended_email).getRegex(),Vt.breaks=xl({},Vt.gfm,{br:sn(Vt.br).replace("{2,}","*").getRegex(),text:sn(Vt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var dS={block:Qt,inline:Vt},T3=l.defaults,Pf=dS.block,Dl=dS.inline,Iv=ot.repeatString;function Es(Ge){return Ge.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function hS(Ge){var Oe="",Ve,j,Se=Ge.length;for(Ve=0;Ve<Se;Ve++)j=Ge.charCodeAt(Ve),Math.random()>.5&&(j="x"+j.toString(16)),Oe+="&#"+j+";";return Oe}var bu=function(){function Ge(Ve){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ve||T3,this.options.tokenizer=this.options.tokenizer||new Ho,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var j={block:Pf.normal,inline:Dl.normal};this.options.pedantic?(j.block=Pf.pedantic,j.inline=Dl.pedantic):this.options.gfm&&(j.block=Pf.gfm,this.options.breaks?j.inline=Dl.breaks:j.inline=Dl.gfm),this.tokenizer.rules=j}Ge.lex=function(j,Se){var Re=new Ge(Se);return Re.lex(j)},Ge.lexInline=function(j,Se){var Re=new Ge(Se);return Re.inlineTokens(j)};var Oe=Ge.prototype;return Oe.lex=function(j){return j=j.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(j,this.tokens,!0),this.inline(this.tokens),this.tokens},Oe.blockTokens=function(j,Se,Re){Se===void 0&&(Se=[]),Re===void 0&&(Re=!0),this.options.pedantic&&(j=j.replace(/^ +$/gm,""));for(var Te,Le,Tt,dt;j;){if(Te=this.tokenizer.space(j)){j=j.substring(Te.raw.length),Te.type&&Se.push(Te);continue}if(Te=this.tokenizer.code(j)){j=j.substring(Te.raw.length),dt=Se[Se.length-1],dt&&dt.type==="paragraph"?(dt.raw+=`
`+Te.raw,dt.text+=`
`+Te.text):Se.push(Te);continue}if(Te=this.tokenizer.fences(j)){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Te=this.tokenizer.heading(j)){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Te=this.tokenizer.nptable(j)){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Te=this.tokenizer.hr(j)){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Te=this.tokenizer.blockquote(j)){j=j.substring(Te.raw.length),Te.tokens=this.blockTokens(Te.text,[],Re),Se.push(Te);continue}if(Te=this.tokenizer.list(j)){for(j=j.substring(Te.raw.length),Tt=Te.items.length,Le=0;Le<Tt;Le++)Te.items[Le].tokens=this.blockTokens(Te.items[Le].text,[],!1);Se.push(Te);continue}if(Te=this.tokenizer.html(j)){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Re&&(Te=this.tokenizer.def(j))){j=j.substring(Te.raw.length),this.tokens.links[Te.tag]||(this.tokens.links[Te.tag]={href:Te.href,title:Te.title});continue}if(Te=this.tokenizer.table(j)){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Te=this.tokenizer.lheading(j)){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Re&&(Te=this.tokenizer.paragraph(j))){j=j.substring(Te.raw.length),Se.push(Te);continue}if(Te=this.tokenizer.text(j)){j=j.substring(Te.raw.length),dt=Se[Se.length-1],dt&&dt.type==="text"?(dt.raw+=`
`+Te.raw,dt.text+=`
`+Te.text):Se.push(Te);continue}if(j){var At="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(At);break}else throw new Error(At)}}return Se},Oe.inline=function(j){var Se,Re,Te,Le,Tt,dt,At=j.length;for(Se=0;Se<At;Se++)switch(dt=j[Se],dt.type){case"paragraph":case"text":case"heading":{dt.tokens=[],this.inlineTokens(dt.text,dt.tokens);break}case"table":{for(dt.tokens={header:[],cells:[]},Le=dt.header.length,Re=0;Re<Le;Re++)dt.tokens.header[Re]=[],this.inlineTokens(dt.header[Re],dt.tokens.header[Re]);for(Le=dt.cells.length,Re=0;Re<Le;Re++)for(Tt=dt.cells[Re],dt.tokens.cells[Re]=[],Te=0;Te<Tt.length;Te++)dt.tokens.cells[Re][Te]=[],this.inlineTokens(Tt[Te],dt.tokens.cells[Re][Te]);break}case"blockquote":{this.inline(dt.tokens);break}case"list":{for(Le=dt.items.length,Re=0;Re<Le;Re++)this.inline(dt.items[Re].tokens);break}}return j},Oe.inlineTokens=function(j,Se,Re,Te){Se===void 0&&(Se=[]),Re===void 0&&(Re=!1),Te===void 0&&(Te=!1);var Le,Tt,dt=j,At,ei,Ki;if(this.tokens.links){var ko=Object.keys(this.tokens.links);if(ko.length>0)for(;(At=this.tokenizer.rules.inline.reflinkSearch.exec(dt))!=null;)ko.includes(At[0].slice(At[0].lastIndexOf("[")+1,-1))&&(dt=dt.slice(0,At.index)+"["+Iv("a",At[0].length-2)+"]"+dt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(At=this.tokenizer.rules.inline.blockSkip.exec(dt))!=null;)dt=dt.slice(0,At.index)+"["+Iv("a",At[0].length-2)+"]"+dt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(At=this.tokenizer.rules.inline.escapedEmSt.exec(dt))!=null;)dt=dt.slice(0,At.index)+"++"+dt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;j;){if(ei||(Ki=""),ei=!1,Le=this.tokenizer.escape(j)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.tag(j,Re,Te)){j=j.substring(Le.raw.length),Re=Le.inLink,Te=Le.inRawBlock;var Dn=Se[Se.length-1];Dn&&Le.type==="text"&&Dn.type==="text"?(Dn.raw+=Le.raw,Dn.text+=Le.text):Se.push(Le);continue}if(Le=this.tokenizer.link(j)){j=j.substring(Le.raw.length),Le.type==="link"&&(Le.tokens=this.inlineTokens(Le.text,[],!0,Te)),Se.push(Le);continue}if(Le=this.tokenizer.reflink(j,this.tokens.links)){j=j.substring(Le.raw.length);var Ii=Se[Se.length-1];Le.type==="link"?(Le.tokens=this.inlineTokens(Le.text,[],!0,Te),Se.push(Le)):Ii&&Le.type==="text"&&Ii.type==="text"?(Ii.raw+=Le.raw,Ii.text+=Le.text):Se.push(Le);continue}if(Le=this.tokenizer.emStrong(j,dt,Ki)){j=j.substring(Le.raw.length),Le.tokens=this.inlineTokens(Le.text,[],Re,Te),Se.push(Le);continue}if(Le=this.tokenizer.codespan(j)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.br(j)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.del(j)){j=j.substring(Le.raw.length),Le.tokens=this.inlineTokens(Le.text,[],Re,Te),Se.push(Le);continue}if(Le=this.tokenizer.autolink(j,hS)){j=j.substring(Le.raw.length),Se.push(Le);continue}if(!Re&&(Le=this.tokenizer.url(j,hS))){j=j.substring(Le.raw.length),Se.push(Le);continue}if(Le=this.tokenizer.inlineText(j,Te,Es)){j=j.substring(Le.raw.length),Le.raw.slice(-1)!=="_"&&(Ki=Le.raw.slice(-1)),ei=!0,Tt=Se[Se.length-1],Tt&&Tt.type==="text"?(Tt.raw+=Le.raw,Tt.text+=Le.text):Se.push(Le);continue}if(j){var wa="Infinite loop on byte: "+j.charCodeAt(0);if(this.options.silent){console.error(wa);break}else throw new Error(wa)}}return Se},i(Ge,null,[{key:"rules",get:function(){return{block:Pf,inline:Dl}}}]),Ge}(),gi=l.defaults,Mv=ot.cleanUrl,Qn=ot.escape,pn=function(){function Ge(Ve){this.options=Ve||gi}var Oe=Ge.prototype;return Oe.code=function(j,Se,Re){var Te=(Se||"").match(/\S*/)[0];if(this.options.highlight){var Le=this.options.highlight(j,Te);Le!=null&&Le!==j&&(Re=!0,j=Le)}return j=j.replace(/\n$/,"")+`
`,Te?'<pre><code class="'+this.options.langPrefix+Qn(Te,!0)+'">'+(Re?j:Qn(j,!0))+`</code></pre>
`:"<pre><code>"+(Re?j:Qn(j,!0))+`</code></pre>
`},Oe.blockquote=function(j){return`<blockquote>
`+j+`</blockquote>
`},Oe.html=function(j){return j},Oe.heading=function(j,Se,Re,Te){return this.options.headerIds?"<h"+Se+' id="'+this.options.headerPrefix+Te.slug(Re)+'">'+j+"</h"+Se+`>
`:"<h"+Se+">"+j+"</h"+Se+`>
`},Oe.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Oe.list=function(j,Se,Re){var Te=Se?"ol":"ul",Le=Se&&Re!==1?' start="'+Re+'"':"";return"<"+Te+Le+`>
`+j+"</"+Te+`>
`},Oe.listitem=function(j){return"<li>"+j+`</li>
`},Oe.checkbox=function(j){return"<input "+(j?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Oe.paragraph=function(j){return"<p>"+j+`</p>
`},Oe.table=function(j,Se){return Se&&(Se="<tbody>"+Se+"</tbody>"),`<table>
<thead>
`+j+`</thead>
`+Se+`</table>
`},Oe.tablerow=function(j){return`<tr>
`+j+`</tr>
`},Oe.tablecell=function(j,Se){var Re=Se.header?"th":"td",Te=Se.align?"<"+Re+' align="'+Se.align+'">':"<"+Re+">";return Te+j+"</"+Re+`>
`},Oe.strong=function(j){return"<strong>"+j+"</strong>"},Oe.em=function(j){return"<em>"+j+"</em>"},Oe.codespan=function(j){return"<code>"+j+"</code>"},Oe.br=function(){return this.options.xhtml?"<br/>":"<br>"},Oe.del=function(j){return"<del>"+j+"</del>"},Oe.link=function(j,Se,Re){if(j=Mv(this.options.sanitize,this.options.baseUrl,j),j===null)return Re;var Te='<a href="'+Qn(j)+'"';return Se&&(Te+=' title="'+Se+'"'),Te+=">"+Re+"</a>",Te},Oe.image=function(j,Se,Re){if(j=Mv(this.options.sanitize,this.options.baseUrl,j),j===null)return Re;var Te='<img src="'+j+'" alt="'+Re+'"';return Se&&(Te+=' title="'+Se+'"'),Te+=this.options.xhtml?"/>":">",Te},Oe.text=function(j){return j},Ge}(),Bp=function(){function Ge(){}var Oe=Ge.prototype;return Oe.strong=function(j){return j},Oe.em=function(j){return j},Oe.codespan=function(j){return j},Oe.del=function(j){return j},Oe.html=function(j){return j},Oe.text=function(j){return j},Oe.link=function(j,Se,Re){return""+Re},Oe.image=function(j,Se,Re){return""+Re},Oe.br=function(){return""},Ge}(),El=function(){function Ge(){this.seen={}}var Oe=Ge.prototype;return Oe.serialize=function(j){return j.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Oe.getNextSafeSlug=function(j,Se){var Re=j,Te=0;if(this.seen.hasOwnProperty(Re)){Te=this.seen[j];do Te++,Re=j+"-"+Te;while(this.seen.hasOwnProperty(Re))}return Se||(this.seen[j]=Te,this.seen[Re]=0),Re},Oe.slug=function(j,Se){Se===void 0&&(Se={});var Re=this.serialize(j);return this.getNextSafeSlug(Re,Se.dryrun)},Ge}(),Rv=l.defaults,kv=ot.unescape,mt=function(){function Ge(Ve){this.options=Ve||Rv,this.options.renderer=this.options.renderer||new pn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Bp,this.slugger=new El}Ge.parse=function(j,Se){var Re=new Ge(Se);return Re.parse(j)},Ge.parseInline=function(j,Se){var Re=new Ge(Se);return Re.parseInline(j)};var Oe=Ge.prototype;return Oe.parse=function(j,Se){Se===void 0&&(Se=!0);var Re="",Te,Le,Tt,dt,At,ei,Ki,ko,Dn,Ii,wa,Lf,Vp,Il,vn,L3,L4,Av,O4=j.length;for(Te=0;Te<O4;Te++)switch(Ii=j[Te],Ii.type){case"space":continue;case"hr":{Re+=this.renderer.hr();continue}case"heading":{Re+=this.renderer.heading(this.parseInline(Ii.tokens),Ii.depth,kv(this.parseInline(Ii.tokens,this.textRenderer)),this.slugger);continue}case"code":{Re+=this.renderer.code(Ii.text,Ii.lang,Ii.escaped);continue}case"table":{for(ko="",Ki="",dt=Ii.header.length,Le=0;Le<dt;Le++)Ki+=this.renderer.tablecell(this.parseInline(Ii.tokens.header[Le]),{header:!0,align:Ii.align[Le]});for(ko+=this.renderer.tablerow(Ki),Dn="",dt=Ii.cells.length,Le=0;Le<dt;Le++){for(ei=Ii.tokens.cells[Le],Ki="",At=ei.length,Tt=0;Tt<At;Tt++)Ki+=this.renderer.tablecell(this.parseInline(ei[Tt]),{header:!1,align:Ii.align[Tt]});Dn+=this.renderer.tablerow(Ki)}Re+=this.renderer.table(ko,Dn);continue}case"blockquote":{Dn=this.parse(Ii.tokens),Re+=this.renderer.blockquote(Dn);continue}case"list":{for(wa=Ii.ordered,Lf=Ii.start,Vp=Ii.loose,dt=Ii.items.length,Dn="",Le=0;Le<dt;Le++)vn=Ii.items[Le],L3=vn.checked,L4=vn.task,Il="",vn.task&&(Av=this.renderer.checkbox(L3),Vp?vn.tokens.length>0&&vn.tokens[0].type==="text"?(vn.tokens[0].text=Av+" "+vn.tokens[0].text,vn.tokens[0].tokens&&vn.tokens[0].tokens.length>0&&vn.tokens[0].tokens[0].type==="text"&&(vn.tokens[0].tokens[0].text=Av+" "+vn.tokens[0].tokens[0].text)):vn.tokens.unshift({type:"text",text:Av}):Il+=Av),Il+=this.parse(vn.tokens,Vp),Dn+=this.renderer.listitem(Il,L4,L3);Re+=this.renderer.list(Dn,wa,Lf);continue}case"html":{Re+=this.renderer.html(Ii.text);continue}case"paragraph":{Re+=this.renderer.paragraph(this.parseInline(Ii.tokens));continue}case"text":{for(Dn=Ii.tokens?this.parseInline(Ii.tokens):Ii.text;Te+1<O4&&j[Te+1].type==="text";)Ii=j[++Te],Dn+=`
`+(Ii.tokens?this.parseInline(Ii.tokens):Ii.text);Re+=Se?this.renderer.paragraph(Dn):Dn;continue}default:{var N4='Token with "'+Ii.type+'" type was not found.';if(this.options.silent){console.error(N4);return}else throw new Error(N4)}}return Re},Oe.parseInline=function(j,Se){Se=Se||this.renderer;var Re="",Te,Le,Tt=j.length;for(Te=0;Te<Tt;Te++)switch(Le=j[Te],Le.type){case"escape":{Re+=Se.text(Le.text);break}case"html":{Re+=Se.html(Le.text);break}case"link":{Re+=Se.link(Le.href,Le.title,this.parseInline(Le.tokens,Se));break}case"image":{Re+=Se.image(Le.href,Le.title,Le.text);break}case"strong":{Re+=Se.strong(this.parseInline(Le.tokens,Se));break}case"em":{Re+=Se.em(this.parseInline(Le.tokens,Se));break}case"codespan":{Re+=Se.codespan(Le.text);break}case"br":{Re+=Se.br();break}case"del":{Re+=Se.del(this.parseInline(Le.tokens,Se));break}case"text":{Re+=Se.text(Le.text);break}default:{var dt='Token with "'+Le.type+'" type was not found.';if(this.options.silent){console.error(dt);return}else throw new Error(dt)}}return Re},Ge}(),Ht=ot.merge,wi=ot.checkSanitizeDeprecation,Qi=ot.escape,Ro=l.getDefaults,ga=l.changeDefaults,P3=l.defaults;function Ni(Ge,Oe,Ve){if(typeof Ge>"u"||Ge===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ge!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ge)+", string expected");if(typeof Oe=="function"&&(Ve=Oe,Oe=null),Oe=Ht({},Ni.defaults,Oe||{}),wi(Oe),Ve){var j=Oe.highlight,Se;try{Se=bu.lex(Ge,Oe)}catch(Tt){return Ve(Tt)}var Re=function(dt){var At;if(!dt)try{At=mt.parse(Se,Oe)}catch(ei){dt=ei}return Oe.highlight=j,dt?Ve(dt):Ve(null,At)};if(!j||j.length<3||(delete Oe.highlight,!Se.length))return Re();var Te=0;Ni.walkTokens(Se,function(Tt){Tt.type==="code"&&(Te++,setTimeout(function(){j(Tt.text,Tt.lang,function(dt,At){if(dt)return Re(dt);At!=null&&At!==Tt.text&&(Tt.text=At,Tt.escaped=!0),Te--,Te===0&&Re()})},0))}),Te===0&&Re();return}try{var Le=bu.lex(Ge,Oe);return Oe.walkTokens&&Ni.walkTokens(Le,Oe.walkTokens),mt.parse(Le,Oe)}catch(Tt){if(Tt.message+=`
Please report this to https://github.com/markedjs/marked.`,Oe.silent)return"<p>An error occurred:</p><pre>"+Qi(Tt.message+"",!0)+"</pre>";throw Tt}}Ni.options=Ni.setOptions=function(Ge){return Ht(Ni.defaults,Ge),ga(Ni.defaults),Ni},Ni.getDefaults=Ro,Ni.defaults=P3,Ni.use=function(Ge){var Oe=Ht({},Ge);if(Ge.renderer&&function(){var j=Ni.defaults.renderer||new pn,Se=function(Le){var Tt=j[Le];j[Le]=function(){for(var dt=arguments.length,At=new Array(dt),ei=0;ei<dt;ei++)At[ei]=arguments[ei];var Ki=Ge.renderer[Le].apply(j,At);return Ki===!1&&(Ki=Tt.apply(j,At)),Ki}};for(var Re in Ge.renderer)Se(Re);Oe.renderer=j}(),Ge.tokenizer&&function(){var j=Ni.defaults.tokenizer||new Ho,Se=function(Le){var Tt=j[Le];j[Le]=function(){for(var dt=arguments.length,At=new Array(dt),ei=0;ei<dt;ei++)At[ei]=arguments[ei];var Ki=Ge.tokenizer[Le].apply(j,At);return Ki===!1&&(Ki=Tt.apply(j,At)),Ki}};for(var Re in Ge.tokenizer)Se(Re);Oe.tokenizer=j}(),Ge.walkTokens){var Ve=Ni.defaults.walkTokens;Oe.walkTokens=function(j){Ge.walkTokens(j),Ve&&Ve(j)}}Ni.setOptions(Oe)},Ni.walkTokens=function(Ge,Oe){for(var Ve=r(Ge),j;!(j=Ve()).done;){var Se=j.value;switch(Oe(Se),Se.type){case"table":{for(var Re=r(Se.tokens.header),Te;!(Te=Re()).done;){var Le=Te.value;Ni.walkTokens(Le,Oe)}for(var Tt=r(Se.tokens.cells),dt;!(dt=Tt()).done;)for(var At=dt.value,ei=r(At),Ki;!(Ki=ei()).done;){var ko=Ki.value;Ni.walkTokens(ko,Oe)}break}case"list":{Ni.walkTokens(Se.items,Oe);break}default:Se.tokens&&Ni.walkTokens(Se.tokens,Oe)}}},Ni.parseInline=function(Ge,Oe){if(typeof Ge>"u"||Ge===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ge!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ge)+", string expected");Oe=Ht({},Ni.defaults,Oe||{}),wi(Oe);try{var Ve=bu.lexInline(Ge,Oe);return Oe.walkTokens&&Ni.walkTokens(Ve,Oe.walkTokens),mt.parseInline(Ve,Oe)}catch(j){if(j.message+=`
Please report this to https://github.com/markedjs/marked.`,Oe.silent)return"<p>An error occurred:</p><pre>"+Qi(j.message+"",!0)+"</pre>";throw j}},Ni.Parser=mt,Ni.parser=mt.parse,Ni.Renderer=pn,Ni.TextRenderer=Bp,Ni.Lexer=bu,Ni.lexer=bu.lex,Ni.Tokenizer=Ho,Ni.Slugger=El,Ni.parse=Ni;var RZ=Ni;return RZ})});var Ij=yh(jg=>{"use strict";kn();Un();Rl();bt();Kt();zo();lI();zt();Zi();zi();aI();XZ();QZ();Ot();xo();Pi();yn();Mi();Zp();var Dj=jg&&jg.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Ej=jg&&jg.__param||function(e,i){return function(n,o){i(n,o,e)}},uP=jg&&jg.__awaiter||function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Qw=class{constructor(i,n){this._workerService=n,this._callOnDispose=new Je,this._callOnModel=new Je,this._editor=i,this._callOnDispose.add(i.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(i.onDidChangeModel(()=>this._update())),this._callOnDispose.add(i.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(rI.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(45)||!this._editor.hasModel())return;let i=this._editor.getModel(),[n]=rI.ordered(i);if(!n||!n.autoFormatTriggerCharacters)return;let o=new Iu;for(let r of n.autoFormatTriggerCharacters)o.add(r.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(r=>{let s=r.charCodeAt(r.length-1);o.has(s)&&this._trigger(String.fromCharCode(s))}))}_trigger(i){if(!this._editor.hasModel()||this._editor.getSelections().length>1)return;let n=this._editor.getModel(),o=this._editor.getPosition(),r=!1,s=this._editor.onDidChangeModelContent(l=>{if(l.isFlush){r=!0,s.dispose();return}for(let c=0,u=l.changes.length;c<u;c++)if(l.changes[c].range.endLineNumber<=o.lineNumber){r=!0,s.dispose();return}});RB(this._workerService,n,o,i,n.getFormattingOptions()).then(l=>{s.dispose(),!r&&fo(l)&&(EB.execute(this._editor,l,!0),IB(l))},l=>{throw s.dispose(),l})}};Qw.ID="editor.contrib.autoFormat";Qw=Dj([Ej(1,Kf)],Qw);var Xw=class{constructor(i,n){this.editor=i,this._instantiationService=n,this._callOnDispose=new Je,this._callOnModel=new Je,this._callOnDispose.add(i.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(i.onDidChangeModel(()=>this._update())),this._callOnDispose.add(i.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(oI.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(44)&&this.editor.hasModel()&&oI.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:i})=>this._trigger(i)))}_trigger(i){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(RI,this.editor,i,2,Ol.None,ti.None).catch(qt))}};Xw.ID="editor.contrib.formatOnPaste";Xw=Dj([Ej(1,hi)],Xw);var lP=class extends it{constructor(){super({id:"editor.action.formatDocument",label:_("formatDocument.label","Format Document"),alias:"Format Document",precondition:st.and(Ie.notInCompositeEditor,Ie.writable,Ie.hasDocumentFormattingProvider),kbOpts:{kbExpr:Ie.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(i,n){return uP(this,void 0,void 0,function*(){if(n.hasModel()){let o=i.get(hi);yield i.get(Pu).showWhile(o.invokeFunction(MB,n,1,Ol.None,ti.None),250)}})}},cP=class extends it{constructor(){super({id:"editor.action.formatSelection",label:_("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:st.and(Ie.writable,Ie.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2084),weight:100},contextMenuOpts:{when:Ie.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(i,n){return uP(this,void 0,void 0,function*(){if(!n.hasModel())return;let o=i.get(hi),r=n.getModel(),s=n.getSelections().map(c=>c.isEmpty()?new Me(c.startLineNumber,1,c.startLineNumber,r.getLineMaxColumn(c.startLineNumber)):c);yield i.get(Pu).showWhile(o.invokeFunction(RI,n,s,1,Ol.None,ti.None),250)})}};Mt(Qw.ID,Qw);Mt(Xw.ID,Xw);Ue(lP);Ue(cP);_i.registerCommand("editor.action.format",e=>uP(void 0,void 0,void 0,function*(){let i=e.get(Ri).getFocusedCodeEditor();if(!i||!i.hasModel())return;let n=e.get(jo);i.getSelection().isEmpty()?yield n.executeCommand("editor.action.formatDocument"):yield n.executeCommand("editor.action.formatSelection")}))});var pE,Oj=pS(()=>{"use strict";ho();pE=class{constructor(i,n,o){this._editRange=i,this._originalSelection=n,this._text=o}getEditOperations(i,n){n.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(i,n){let r=n.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Ct(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):new Ct(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)}}});var Nj=yh(_b=>{"use strict";Ot();zt();ho();Zi();Kt();aI();Oj();Kp();Bi();p1();Lo();ln();Mi();var nce=_b&&_b.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},oce=_b&&_b.__param||function(e,i){return function(n,o){i(n,o,e)}},gp=class CP{constructor(i,n){this.decorationIds=[],this.editor=i,this.editorWorkerService=n}static get(i){return i.getContribution(CP.ID)}dispose(){}run(i,n){this.currentRequest&&this.currentRequest.cancel();let o=this.editor.getSelection(),r=this.editor.getModel();if(!r||!o)return;let s=o;if(s.startLineNumber!==s.endLineNumber)return;let l=new C1(this.editor,5),c=r.uri;return this.editorWorkerService.canNavigateValueSet(c)?(this.currentRequest=Ui(u=>this.editorWorkerService.navigateValueSet(c,s,n)),this.currentRequest.then(u=>{if(!u||!u.range||!u.value||!l.validate(this.editor))return;let d=Me.lift(u.range),h=u.range,p=u.value.length-(s.endColumn-s.startColumn);h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+u.value.length},p>1&&(s=new Ct(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+p-1));let g=new pE(d,s,u.value);this.editor.pushUndoStop(),this.editor.executeCommand(i,g),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:h,options:CP.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Nf(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(qt)}).catch(qt)):Promise.resolve(void 0)}};gp.ID="editor.contrib.inPlaceReplaceController";gp.DECORATION=ri.register({className:"valueSetReplacement"});gp=nce([oce(1,Kf)],gp);var wP=class extends it{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:3154,weight:100}})}run(i,n){let o=gp.get(n);return o?o.run(this.id,!0):Promise.resolve(void 0)}},bP=class extends it{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:3156,weight:100}})}run(i,n){let o=gp.get(n);return o?o.run(this.id,!1):Promise.resolve(void 0)}};Mt(gp.ID,gp);Ue(wP);Ue(bP);oi((e,i)=>{let n=e.getColor(h1);n&&i.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${n}; }`)})});var o2,zL=pS(()=>{"use strict";Ot();tl();Kt();zZ();o2=(()=>{class e extends it{constructor(){super({id:e.ID,label:_({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(n,o){let s=!hI.getTabFocusMode();hI.setTabFocusMode(s),s?Kn(_("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Kn(_("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return e.ID="editor.action.toggleTabFocusMode",e})();Ue(o2)});var fU=yh(Jg=>{"use strict";Ot();bt();Kt();zo();ZZ();var Tue=Jg&&Jg.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},pU=Jg&&Jg.__param||function(e,i){return function(n,o){i(n,o,e)}},Pue=Jg&&Jg.__awaiter||function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},gU="ignoreUnusualLineTerminators";function Lue(e,i,n){e.setModelProperty(i.uri,gU,n)}function Oue(e,i){return e.getModelProperty(i.uri,gU)}var py=class extends yt{constructor(i,n,o){super(),this._editor=i,this._dialogService=n,this._codeEditorService=o,this._config=this._editor.getOption(110),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(110)&&(this._config=this._editor.getOption(110),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Pue(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;let i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||Oue(this._codeEditorService,i)===!0||this._editor.getOption(77))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:_("unusualLineTerminators.title","Unusual Line Terminators"),message:_("unusualLineTerminators.message","Detected unusual line terminators"),detail:_("unusualLineTerminators.detail","This file contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`."),primaryButton:_("unusualLineTerminators.fix","Fix this file"),secondaryButton:_("unusualLineTerminators.ignore","Ignore problem for this file")})).confirmed){Lue(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())})}};py.ID="editor.contrib.unusualLineTerminatorsDetector";py=Tue([pU(1,mB),pU(2,Ri)],py);Mt(py.ID,py)});var mU=yh(fy=>{"use strict";ln();bt();Kt();zi();Eh();qZ();Bi();Zf();YZ();KZ();var Nue=fy&&fy.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},GL=fy&&fy.__param||function(e,i){return function(n,o){i(n,o,e)}},gy=class extends yt{constructor(i,n,o,r){super(),this._modelService=n,this._themeService=o,this._configurationService=r,this._editor=i,this._tokenizeViewport=new $n(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(s=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(N8.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration(nB)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(let i of this._outstandingRequests)i.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(i){for(let n=0,o=this._outstandingRequests.length;n<o;n++)if(this._outstandingRequests[n]===i){this._outstandingRequests.splice(n,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;let i=this._editor.getModel();if(i.hasCompleteSemanticTokens())return;if(!oB(i,this._themeService,this._configurationService)){i.hasSomeSemanticTokens()&&i.setSemanticTokens(null,!1);return}let n=iB(i);if(!n){i.hasSomeSemanticTokens()&&i.setSemanticTokens(null,!1);return}let o=this._modelService.getSemanticTokensProviderStyling(n),r=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(r.map(s=>this._requestRange(i,s,n,o)))}_requestRange(i,n,o,r){let s=i.getVersionId(),l=Ui(c=>Promise.resolve(o.provideDocumentRangeSemanticTokens(i,n,c)));return l.then(c=>{!c||i.isDisposed()||i.getVersionId()!==s||i.setPartialSemanticTokens(n,tB(c,r,i.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(l),()=>this._removeOutstandingRequest(l)),l}};gy.ID="editor.contrib.viewportSemanticTokens";gy=Nue([GL(1,Po),GL(2,Jn),GL(3,As)],gy);Mt(gy.ID,gy)});var wU=pS(()=>{});var _U=yh(Cy=>{"use strict";wU();Yi();GZ();xB();tl();Fu();bt();ba();Bn();Fo();Kt();Zi();zL();Pi();yn();hs();xu();Cn();Bi();Th();var bU=Cy&&Cy.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},u2=Cy&&Cy.__param||function(e,i){return function(n,o){i(n,o,e)}},yU=new ii("accessibilityHelpWidgetVisible",!1),of=class SU extends yt{constructor(i,n){super(),this._editor=i,this._widget=this._register(n.createInstance(j0,this._editor))}static get(i){return i.getContribution(SU.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};of.ID="editor.contrib.accessibilityHelpController";of=bU([u2(1,hi)],of);function que(e,i){return!e||e.length===0?Vn.noSelection:e.length===1?i?ds(Vn.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,i):ds(Vn.singleSelection,e[0].positionLineNumber,e[0].positionColumn):i?ds(Vn.multiSelectionRange,e.length,i):e.length>0?ds(Vn.multiSelection,e.length):""}var j0=class d2 extends Do{constructor(i,n,o,r){super(),this._contextKeyService=n,this._keybindingService=o,this._openerService=r,this._editor=i,this._isVisibleKey=yU.bindTo(this._contextKeyService),this._domNode=CI(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=CI(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(cs(this._contentDomNode.domNode,"keydown",s=>{if(this._isVisible&&(s.equals(2083)&&(Kn(Vn.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),Is(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),s.preventDefault(),s.stopPropagation()),s.equals(2086))){Kn(Vn.openingDocs);let l=this._editor.getRawOptions().accessibilityHelpUrl;typeof l>"u"&&(l="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(ui.parse(l)),s.preventDefault(),s.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return d2.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(i,n,o){let r=this._keybindingService.lookupKeybinding(i);return r?ds(n,r.getAriaLabel()):ds(o,i)}_buildContent(){let i=this._editor.getOptions(),n=this._editor.getSelections(),o=0;if(n){let c=this._editor.getModel();c&&n.forEach(u=>{o+=c.getValueLengthInRange(u)})}let r=que(n,o);i.get(51)?i.get(77)?r+=Vn.readonlyDiffEditor:r+=Vn.editableDiffEditor:i.get(77)?r+=Vn.readonlyEditor:r+=Vn.editableEditor;let s=rr?Vn.changeConfigToOnMac:Vn.changeConfigToOnWinLinux;switch(i.get(2)){case 0:r+=`

 - `+s;break;case 2:r+=`

 - `+Vn.auto_on;break;case 1:r+=`

 - `+Vn.auto_off,r+=" "+s;break}i.get(126)?r+=`

 - `+this._descriptionForCommand(o2.ID,Vn.tabFocusModeOnMsg,Vn.tabFocusModeOnMsgNoKb):r+=`

 - `+this._descriptionForCommand(o2.ID,Vn.tabFocusModeOffMsg,Vn.tabFocusModeOffMsgNoKb);let l=rr?Vn.openDocMac:Vn.openDocWinLinux;r+=`

 - `+l,r+=`

`+Vn.outroMsg,this._contentDomNode.domNode.appendChild(SB(r)),this._contentDomNode.domNode.setAttribute("aria-label",r)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,Is(this._contentDomNode.domNode),this._editor.focus())}_layout(){let i=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(d2.WIDTH,i.width-40)),o=Math.max(5,Math.min(d2.HEIGHT,i.height-40));this._domNode.setWidth(n),this._domNode.setHeight(o);let r=Math.round((i.height-o)/2);this._domNode.setTop(r);let s=Math.round((i.width-n)/2);this._domNode.setLeft(s)}};j0.ID="editor.contrib.accessibilityHelpWidget";j0.WIDTH=500;j0.HEIGHT=300;j0=bU([u2(1,$t),u2(2,In),u2(3,sr)],j0);var _O=class extends it{constructor(){super({id:"editor.action.showAccessibilityHelp",label:Vn.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(i,n){let o=of.get(n);o&&o.show()}};Mt(of.ID,of);Ue(_O);var Kue=Fn.bindToContribution(of.get);gt(new Kue({id:"closeAccessibilityHelp",precondition:yU,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:Ie.focus,primary:9,secondary:[1033]}}));oi((e,i)=>{let n=e.getColor(Fs);n&&i.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${n}; }`);let o=e.getColor(em);o&&i.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${o}; }`);let r=e.getColor(Nh);r&&i.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${r}; }`);let s=e.getColor(Oh);s&&i.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)})});var DU=pS(()=>{});var MU=yh(wy=>{"use strict";DU();Yi();Tl();bt();Kt();zi();NZ();Rh();X5();Cn();Bi();Th();fI();var Zue=wy&&wy.__decorate||function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},EU=wy&&wy.__param||function(e,i){return function(n,o){i(n,o,e)}},U0=class IU extends yt{constructor(i,n,o){super(),this._editor=i,this._modeService=o,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(Mh.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}static get(i){return i.getContribution(IU.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Jue(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};U0.ID="editor.contrib.inspectTokens";U0=Zue([EU(1,b1),EU(2,ar)],U0);var xO=class extends it{constructor(){super({id:"editor.action.inspectTokens",label:K8.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(i,n){let o=U0.get(n);o&&o.launch()}};function Que(e){let i="";for(let n=0,o=e.length;n<o;n++){let r=e.charCodeAt(n);switch(r){case 9:i+="\u2192";break;case 32:i+="\xB7";break;default:i+=String.fromCharCode(r)}}return i}function Xue(e){let i=Mh.get(e.language);return i||{getInitialState:()=>B8,tokenize:(n,o,r,s)=>V8(e.language,n,r,s),tokenize2:(n,o,r,s)=>H8(e.id,n,r,s)}}var Jue=(()=>{class e extends yt{constructor(n,o){super(),this.allowEditorOverflow=!0,this._editor=n,this._modeService=o,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=Xue(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(r=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return e._ID}_compute(n){let o=this._getTokensAtLine(n.lineNumber),r=0;for(let d=o.tokens1.length-1;d>=0;d--){let h=o.tokens1[d];if(n.column-1>=h.offset){r=d;break}}let s=0;for(let d=o.tokens2.length>>>1;d>=0;d--)if(n.column-1>=o.tokens2[d<<1]){s=d;break}let l=this._model.getLineContent(n.lineNumber),c="";if(r<o.tokens1.length){let d=o.tokens1[r].offset,h=r+1<o.tokens1.length?o.tokens1[r+1].offset:l.length;c=l.substring(d,h)}Gp(this._domNode,ht("h2.tm-token",void 0,Que(c),ht("span.tm-token-length",void 0,`${c.length} ${c.length===1?"char":"chars"}`))),ut(this._domNode,ht("hr.tokens-inspect-separator",{style:"clear:both"}));let u=(s<<1)+1<o.tokens2.length?this._decodeMetadata(o.tokens2[(s<<1)+1]):null;ut(this._domNode,ht("table.tm-metadata-table",void 0,ht("tbody",void 0,ht("tr",void 0,ht("td.tm-metadata-key",void 0,"language"),ht("td.tm-metadata-value",void 0,`${u?u.languageIdentifier.language:"-?-"}`)),ht("tr",void 0,ht("td.tm-metadata-key",void 0,"token type"),ht("td.tm-metadata-value",void 0,`${u?this._tokenTypeToString(u.tokenType):"-?-"}`)),ht("tr",void 0,ht("td.tm-metadata-key",void 0,"font style"),ht("td.tm-metadata-value",void 0,`${u?this._fontStyleToString(u.fontStyle):"-?-"}`)),ht("tr",void 0,ht("td.tm-metadata-key",void 0,"foreground"),ht("td.tm-metadata-value",void 0,`${u?fi.Format.CSS.formatHex(u.foreground):"-?-"}`)),ht("tr",void 0,ht("td.tm-metadata-key",void 0,"background"),ht("td.tm-metadata-value",void 0,`${u?fi.Format.CSS.formatHex(u.background):"-?-"}`))))),ut(this._domNode,ht("hr.tokens-inspect-separator")),r<o.tokens1.length&&ut(this._domNode,ht("span.tm-token-type",void 0,o.tokens1[r].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(n){let o=Mh.getColorMap(),r=Uf.getLanguageId(n),s=Uf.getTokenType(n),l=Uf.getFontStyle(n),c=Uf.getForeground(n),u=Uf.getBackground(n);return{languageIdentifier:this._modeService.getLanguageIdentifier(r),tokenType:s,fontStyle:l,foreground:o[c],background:o[u]}}_tokenTypeToString(n){switch(n){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(n){let o="";return n&1&&(o+="italic "),n&2&&(o+="bold "),n&4&&(o+="underline "),o.length===0&&(o="---"),o}_getTokensAtLine(n){let o=this._getStateBeforeLine(n),r=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,o,0),s=this._tokenizationSupport.tokenize2(this._model.getLineContent(n),!0,o,0);return{startState:o,tokens1:r.tokens,tokens2:s.tokens,endState:r.endState}}_getStateBeforeLine(n){let o=this._tokenizationSupport.getInitialState();for(let r=1;r<n;r++)o=this._tokenizationSupport.tokenize(this._model.getLineContent(r),!0,o,0).endState;return o}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return e._ID="editor.contrib.inspectTokensWidget",e})();Mt(U0.ID,U0);Ue(xO);oi((e,i)=>{let n=e.getColor(nm);if(n){let s=e.type===Qf.HIGH_CONTRAST?2:1;i.addRule(`.monaco-editor .tokens-inspect-widget { border: ${s}px solid ${n}; }`),i.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${n}; }`)}let o=e.getColor(ku);o&&i.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${o}; }`);let r=e.getColor(im);r&&i.addRule(`.monaco-editor .tokens-inspect-widget { color: ${r}; }`)})});var cq=yh((sut,lq)=>{"use strict";function Z$(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(i=>{let n=e[i],o=typeof n;(o==="object"||o==="function")&&!Object.isFrozen(n)&&Z$(n)}),e}var N2=class{constructor(i){i.data===void 0&&(i.data={}),this.data=i.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function Q$(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Dp(e,...i){let n=Object.create(null);for(let o in e)n[o]=e[o];return i.forEach(function(o){for(let r in o)n[r]=o[r]}),n}var dpe="</span>",j$=e=>!!e.scope,hpe=(e,{prefix:i})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let n=e.split(".");return[`${i}${n.shift()}`,...n.map((o,r)=>`${o}${"_".repeat(r+1)}`)].join(" ")}return`${i}${e}`},HN=class{constructor(i,n){this.buffer="",this.classPrefix=n.classPrefix,i.walk(this)}addText(i){this.buffer+=Q$(i)}openNode(i){if(!j$(i))return;let n=hpe(i.scope,{prefix:this.classPrefix});this.span(n)}closeNode(i){j$(i)&&(this.buffer+=dpe)}value(){return this.buffer}span(i){this.buffer+=`<span class="${i}">`}},U$=(e={})=>{let i={children:[]};return Object.assign(i,e),i},zN=class e{constructor(){this.rootNode=U$(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(i){this.top.children.push(i)}openNode(i){let n=U$({scope:i});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(i){return this.constructor._walk(i,this.rootNode)}static _walk(i,n){return typeof n=="string"?i.addText(n):n.children&&(i.openNode(n),n.children.forEach(o=>this._walk(i,o)),i.closeNode(n)),i}static _collapse(i){typeof i!="string"&&i.children&&(i.children.every(n=>typeof n=="string")?i.children=[i.children.join("")]:i.children.forEach(n=>{e._collapse(n)}))}},GN=class extends zN{constructor(i){super(),this.options=i}addText(i){i!==""&&this.add(i)}startScope(i){this.openNode(i)}endScope(){this.closeNode()}__addSublanguage(i,n){let o=i.root;n&&(o.scope=`language:${n}`),this.add(o)}toHTML(){return new HN(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function Fy(e){return e?typeof e=="string"?e:e.source:null}function X$(e){return gf("(?=",e,")")}function ppe(e){return gf("(?:",e,")*")}function gpe(e){return gf("(?:",e,")?")}function gf(...e){return e.map(n=>Fy(n)).join("")}function fpe(e){let i=e[e.length-1];return typeof i=="object"&&i.constructor===Object?(e.splice(e.length-1,1),i):{}}function jN(...e){return"("+(fpe(e).capture?"":"?:")+e.map(o=>Fy(o)).join("|")+")"}function J$(e){return new RegExp(e.toString()+"|").exec("").length-1}function mpe(e,i){let n=e&&e.exec(i);return n&&n.index===0}var vpe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function UN(e,{joinWith:i}){let n=0;return e.map(o=>{n+=1;let r=n,s=Fy(o),l="";for(;s.length>0;){let c=vpe.exec(s);if(!c){l+=s;break}l+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),c[0][0]==="\\"&&c[1]?l+="\\"+String(Number(c[1])+r):(l+=c[0],c[0]==="("&&n++)}return l}).map(o=>`(${o})`).join(i)}var Cpe=/\b\B/,eq="[a-zA-Z]\\w*",$N="[a-zA-Z_]\\w*",tq="\\b\\d+(\\.\\d+)?",iq="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",nq="\\b(0b[01]+)",wpe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",bpe=(e={})=>{let i=/^#![ ]*\//;return e.binary&&(e.begin=gf(i,/.*\b/,e.binary,/\b.*/)),Dp({scope:"meta",begin:i,end:/$/,relevance:0,"on:begin":(n,o)=>{n.index!==0&&o.ignoreMatch()}},e)},Ty={begin:"\\\\[\\s\\S]",relevance:0},ype={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ty]},Spe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ty]},_pe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},V2=function(e,i,n={}){let o=Dp({scope:"comment",begin:e,end:i,contains:[]},n);o.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let r=jN("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return o.contains.push({begin:gf(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),o},xpe=V2("//","$"),Dpe=V2("/\\*","\\*/"),Epe=V2("#","$"),Ipe={scope:"number",begin:tq,relevance:0},Mpe={scope:"number",begin:iq,relevance:0},Rpe={scope:"number",begin:nq,relevance:0},kpe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ty,{begin:/\[/,end:/\]/,relevance:0,contains:[Ty]}]},Ape={scope:"title",begin:eq,relevance:0},Fpe={scope:"title",begin:$N,relevance:0},Tpe={begin:"\\.\\s*"+$N,relevance:0},Ppe=function(e){return Object.assign(e,{"on:begin":(i,n)=>{n.data._beginMatch=i[1]},"on:end":(i,n)=>{n.data._beginMatch!==i[1]&&n.ignoreMatch()}})},O2=Object.freeze({__proto__:null,APOS_STRING_MODE:ype,BACKSLASH_ESCAPE:Ty,BINARY_NUMBER_MODE:Rpe,BINARY_NUMBER_RE:nq,COMMENT:V2,C_BLOCK_COMMENT_MODE:Dpe,C_LINE_COMMENT_MODE:xpe,C_NUMBER_MODE:Mpe,C_NUMBER_RE:iq,END_SAME_AS_BEGIN:Ppe,HASH_COMMENT_MODE:Epe,IDENT_RE:eq,MATCH_NOTHING_RE:Cpe,METHOD_GUARD:Tpe,NUMBER_MODE:Ipe,NUMBER_RE:tq,PHRASAL_WORDS_MODE:_pe,QUOTE_STRING_MODE:Spe,REGEXP_MODE:kpe,RE_STARTERS_RE:wpe,SHEBANG:bpe,TITLE_MODE:Ape,UNDERSCORE_IDENT_RE:$N,UNDERSCORE_TITLE_MODE:Fpe});function Lpe(e,i){e.input[e.index-1]==="."&&i.ignoreMatch()}function Ope(e,i){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Npe(e,i){i&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Lpe,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Bpe(e,i){Array.isArray(e.illegal)&&(e.illegal=jN(...e.illegal))}function Vpe(e,i){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Hpe(e,i){e.relevance===void 0&&(e.relevance=1)}var zpe=(e,i)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");let n=Object.assign({},e);Object.keys(e).forEach(o=>{delete e[o]}),e.keywords=n.keywords,e.begin=gf(n.beforeMatch,X$(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Gpe=["of","and","for","in","not","or","if","then","parent","list","value"],Wpe="keyword";function oq(e,i,n=Wpe){let o=Object.create(null);return typeof e=="string"?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach(function(s){Object.assign(o,oq(e[s],i,s))}),o;function r(s,l){i&&(l=l.map(c=>c.toLowerCase())),l.forEach(function(c){let u=c.split("|");o[u[0]]=[s,jpe(u[0],u[1])]})}}function jpe(e,i){return i?Number(i):Upe(e)?0:1}function Upe(e){return Gpe.includes(e.toLowerCase())}var $$={},pf=e=>{console.error(e)},q$=(e,...i)=>{console.log(`WARN: ${e}`,...i)},iv=(e,i)=>{$$[`${e}/${i}`]||(console.log(`Deprecated as of ${e}. ${i}`),$$[`${e}/${i}`]=!0)},B2=new Error;function rq(e,i,{key:n}){let o=0,r=e[n],s={},l={};for(let c=1;c<=i.length;c++)l[c+o]=r[c],s[c+o]=!0,o+=J$(i[c-1]);e[n]=l,e[n]._emit=s,e[n]._multi=!0}function $pe(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw pf("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),B2;if(typeof e.beginScope!="object"||e.beginScope===null)throw pf("beginScope must be object"),B2;rq(e,e.begin,{key:"beginScope"}),e.begin=UN(e.begin,{joinWith:""})}}function qpe(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw pf("skip, excludeEnd, returnEnd not compatible with endScope: {}"),B2;if(typeof e.endScope!="object"||e.endScope===null)throw pf("endScope must be object"),B2;rq(e,e.end,{key:"endScope"}),e.end=UN(e.end,{joinWith:""})}}function Kpe(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Ype(e){Kpe(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),$pe(e),qpe(e)}function Zpe(e){function i(l,c){return new RegExp(Fy(l),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(c?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,u){u.position=this.position++,this.matchIndexes[this.matchAt]=u,this.regexes.push([u,c]),this.matchAt+=J$(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let c=this.regexes.map(u=>u[1]);this.matcherRe=i(UN(c,{joinWith:"|"}),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;let u=this.matcherRe.exec(c);if(!u)return null;let d=u.findIndex((p,g)=>g>0&&p!==void 0),h=this.matchIndexes[d];return u.splice(0,d),Object.assign(u,h)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];let u=new n;return this.rules.slice(c).forEach(([d,h])=>u.addRule(d,h)),u.compile(),this.multiRegexes[c]=u,u}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,u){this.rules.push([c,u]),u.type==="begin"&&this.count++}exec(c){let u=this.getMatcher(this.regexIndex);u.lastIndex=this.lastIndex;let d=u.exec(c);if(this.resumingScanAtSamePosition()&&!(d&&d.index===this.lastIndex)){let h=this.getMatcher(0);h.lastIndex=this.lastIndex+1,d=h.exec(c)}return d&&(this.regexIndex+=d.position+1,this.regexIndex===this.count&&this.considerAll()),d}}function r(l){let c=new o;return l.contains.forEach(u=>c.addRule(u.begin,{rule:u,type:"begin"})),l.terminatorEnd&&c.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&c.addRule(l.illegal,{type:"illegal"}),c}function s(l,c){let u=l;if(l.isCompiled)return u;[Ope,Vpe,Ype,zpe].forEach(h=>h(l,c)),e.compilerExtensions.forEach(h=>h(l,c)),l.__beforeBegin=null,[Npe,Bpe,Hpe].forEach(h=>h(l,c)),l.isCompiled=!0;let d=null;return typeof l.keywords=="object"&&l.keywords.$pattern&&(l.keywords=Object.assign({},l.keywords),d=l.keywords.$pattern,delete l.keywords.$pattern),d=d||/\w+/,l.keywords&&(l.keywords=oq(l.keywords,e.case_insensitive)),u.keywordPatternRe=i(d,!0),c&&(l.begin||(l.begin=/\B|\b/),u.beginRe=i(u.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(u.endRe=i(u.end)),u.terminatorEnd=Fy(u.end)||"",l.endsWithParent&&c.terminatorEnd&&(u.terminatorEnd+=(l.end?"|":"")+c.terminatorEnd)),l.illegal&&(u.illegalRe=i(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function(h){return Qpe(h==="self"?l:h)})),l.contains.forEach(function(h){s(h,u)}),l.starts&&s(l.starts,c),u.matcher=r(u),u}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Dp(e.classNameAliases||{}),s(e)}function sq(e){return e?e.endsWithParent||sq(e.starts):!1}function Qpe(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(i){return Dp(e,{variants:null},i)})),e.cachedVariants?e.cachedVariants:sq(e)?Dp(e,{starts:e.starts?Dp(e.starts):null}):Object.isFrozen(e)?Dp(e):e}var Xpe="11.10.0",WN=class extends Error{constructor(i,n){super(i),this.name="HTMLInjectionError",this.html=n}},VN=Q$,K$=Dp,Y$=Symbol("nomatch"),Jpe=7,aq=function(e){let i=Object.create(null),n=Object.create(null),o=[],r=!0,s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]},c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:GN};function u(ot){return c.noHighlightRe.test(ot)}function d(ot){let Ut=ot.className+" ";Ut+=ot.parentNode?ot.parentNode.className:"";let Ci=c.languageDetectRe.exec(Ut);if(Ci){let ji=lt(Ci[1]);return ji||(q$(s.replace("{}",Ci[1])),q$("Falling back to no-highlight mode for this block.",ot)),ji?Ci[1]:"no-highlight"}return Ut.split(/\s+/).find(ji=>u(ji)||lt(ji))}function h(ot,Ut,Ci){let ji="",Hi="";typeof Ut=="object"?(ji=ot,Ci=Ut.ignoreIllegals,Hi=Ut.language):(iv("10.7.0","highlight(lang, code, ...args) has been deprecated."),iv("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Hi=ot,ji=Ut),Ci===void 0&&(Ci=!0);let nr={code:ji,language:Hi};bn("before:highlight",nr);let ca=nr.result?nr.result:p(nr.language,nr.code,Ci);return ca.code=nr.code,bn("after:highlight",ca),ca}function p(ot,Ut,Ci,ji){let Hi=Object.create(null);function nr(mt,Ht){return mt.keywords[Ht]}function ca(){if(!gi.keywords){Qn.addText(pn);return}let mt=0;gi.keywordPatternRe.lastIndex=0;let Ht=gi.keywordPatternRe.exec(pn),wi="";for(;Ht;){wi+=pn.substring(mt,Ht.index);let Qi=Es.case_insensitive?Ht[0].toLowerCase():Ht[0],Ro=nr(gi,Qi);if(Ro){let[ga,P3]=Ro;if(Qn.addText(wi),wi="",Hi[Qi]=(Hi[Qi]||0)+1,Hi[Qi]<=Jpe&&(Bp+=P3),ga.startsWith("_"))wi+=Ht[0];else{let Ni=Es.classNameAliases[ga]||ga;or(Ht[0],Ni)}}else wi+=Ht[0];mt=gi.keywordPatternRe.lastIndex,Ht=gi.keywordPatternRe.exec(pn)}wi+=pn.substring(mt),Qn.addText(wi)}function Tf(){if(pn==="")return;let mt=null;if(typeof gi.subLanguage=="string"){if(!i[gi.subLanguage]){Qn.addText(pn);return}mt=p(gi.subLanguage,pn,!0,Mv[gi.subLanguage]),Mv[gi.subLanguage]=mt._top}else mt=f(pn,gi.subLanguage.length?gi.subLanguage:null);gi.relevance>0&&(Bp+=mt.relevance),Qn.__addSublanguage(mt._emitter,mt.language)}function Ho(){gi.subLanguage!=null?Tf():ca(),pn=""}function or(mt,Ht){mt!==""&&(Qn.startScope(Ht),Qn.addText(mt),Qn.endScope())}function sn(mt,Ht){let wi=1,Qi=Ht.length-1;for(;wi<=Qi;){if(!mt._emit[wi]){wi++;continue}let Ro=Es.classNameAliases[mt[wi]]||mt[wi],ga=Ht[wi];Ro?or(ga,Ro):(pn=ga,ca(),pn=""),wi++}}function xl(mt,Ht){return mt.scope&&typeof mt.scope=="string"&&Qn.openNode(Es.classNameAliases[mt.scope]||mt.scope),mt.beginScope&&(mt.beginScope._wrap?(or(pn,Es.classNameAliases[mt.beginScope._wrap]||mt.beginScope._wrap),pn=""):mt.beginScope._multi&&(sn(mt.beginScope,Ht),pn="")),gi=Object.create(mt,{parent:{value:gi}}),gi}function Qt(mt,Ht,wi){let Qi=mpe(mt.endRe,wi);if(Qi){if(mt["on:end"]){let Ro=new N2(mt);mt["on:end"](Ht,Ro),Ro.isMatchIgnored&&(Qi=!1)}if(Qi){for(;mt.endsParent&&mt.parent;)mt=mt.parent;return mt}}if(mt.endsWithParent)return Qt(mt.parent,Ht,wi)}function Vt(mt){return gi.matcher.regexIndex===0?(pn+=mt[0],1):(kv=!0,0)}function dS(mt){let Ht=mt[0],wi=mt.rule,Qi=new N2(wi),Ro=[wi.__beforeBegin,wi["on:begin"]];for(let ga of Ro)if(ga&&(ga(mt,Qi),Qi.isMatchIgnored))return Vt(Ht);return wi.skip?pn+=Ht:(wi.excludeBegin&&(pn+=Ht),Ho(),!wi.returnBegin&&!wi.excludeBegin&&(pn=Ht)),xl(wi,mt),wi.returnBegin?0:Ht.length}function T3(mt){let Ht=mt[0],wi=Ut.substring(mt.index),Qi=Qt(gi,mt,wi);if(!Qi)return Y$;let Ro=gi;gi.endScope&&gi.endScope._wrap?(Ho(),or(Ht,gi.endScope._wrap)):gi.endScope&&gi.endScope._multi?(Ho(),sn(gi.endScope,mt)):Ro.skip?pn+=Ht:(Ro.returnEnd||Ro.excludeEnd||(pn+=Ht),Ho(),Ro.excludeEnd&&(pn=Ht));do gi.scope&&Qn.closeNode(),!gi.skip&&!gi.subLanguage&&(Bp+=gi.relevance),gi=gi.parent;while(gi!==Qi.parent);return Qi.starts&&xl(Qi.starts,mt),Ro.returnEnd?0:Ht.length}function Pf(){let mt=[];for(let Ht=gi;Ht!==Es;Ht=Ht.parent)Ht.scope&&mt.unshift(Ht.scope);mt.forEach(Ht=>Qn.openNode(Ht))}let Dl={};function Iv(mt,Ht){let wi=Ht&&Ht[0];if(pn+=mt,wi==null)return Ho(),0;if(Dl.type==="begin"&&Ht.type==="end"&&Dl.index===Ht.index&&wi===""){if(pn+=Ut.slice(Ht.index,Ht.index+1),!r){let Qi=new Error(`0 width match regex (${ot})`);throw Qi.languageName=ot,Qi.badRule=Dl.rule,Qi}return 1}if(Dl=Ht,Ht.type==="begin")return dS(Ht);if(Ht.type==="illegal"&&!Ci){let Qi=new Error('Illegal lexeme "'+wi+'" for mode "'+(gi.scope||"<unnamed>")+'"');throw Qi.mode=gi,Qi}else if(Ht.type==="end"){let Qi=T3(Ht);if(Qi!==Y$)return Qi}if(Ht.type==="illegal"&&wi==="")return 1;if(Rv>1e5&&Rv>Ht.index*3)throw new Error("potential infinite loop, way more iterations than matches");return pn+=wi,wi.length}let Es=lt(ot);if(!Es)throw pf(s.replace("{}",ot)),new Error('Unknown language: "'+ot+'"');let hS=Zpe(Es),bu="",gi=ji||hS,Mv={},Qn=new c.__emitter(c);Pf();let pn="",Bp=0,El=0,Rv=0,kv=!1;try{if(Es.__emitTokens)Es.__emitTokens(Ut,Qn);else{for(gi.matcher.considerAll();;){Rv++,kv?kv=!1:gi.matcher.considerAll(),gi.matcher.lastIndex=El;let mt=gi.matcher.exec(Ut);if(!mt)break;let Ht=Ut.substring(El,mt.index),wi=Iv(Ht,mt);El=mt.index+wi}Iv(Ut.substring(El))}return Qn.finalize(),bu=Qn.toHTML(),{language:ot,value:bu,relevance:Bp,illegal:!1,_emitter:Qn,_top:gi}}catch(mt){if(mt.message&&mt.message.includes("Illegal"))return{language:ot,value:VN(Ut),illegal:!0,relevance:0,_illegalBy:{message:mt.message,index:El,context:Ut.slice(El-100,El+100),mode:mt.mode,resultSoFar:bu},_emitter:Qn};if(r)return{language:ot,value:VN(Ut),illegal:!1,relevance:0,errorRaised:mt,_emitter:Qn,_top:gi};throw mt}}function g(ot){let Ut={value:VN(ot),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return Ut._emitter.addText(ot),Ut}function f(ot,Ut){Ut=Ut||c.languages||Object.keys(i);let Ci=g(ot),ji=Ut.filter(lt).filter(Jt).map(Ho=>p(Ho,ot,!1));ji.unshift(Ci);let Hi=ji.sort((Ho,or)=>{if(Ho.relevance!==or.relevance)return or.relevance-Ho.relevance;if(Ho.language&&or.language){if(lt(Ho.language).supersetOf===or.language)return 1;if(lt(or.language).supersetOf===Ho.language)return-1}return 0}),[nr,ca]=Hi,Tf=nr;return Tf.secondBest=ca,Tf}function y(ot,Ut,Ci){let ji=Ut&&n[Ut]||Ci;ot.classList.add("hljs"),ot.classList.add(`language-${ji}`)}function M(ot){let Ut=null,Ci=d(ot);if(u(Ci))return;if(bn("before:highlightElement",{el:ot,language:Ci}),ot.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ot);return}if(ot.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ot)),c.throwUnescapedHTML))throw new WN("One of your code blocks includes unescaped HTML.",ot.innerHTML);Ut=ot;let ji=Ut.textContent,Hi=Ci?h(ji,{language:Ci,ignoreIllegals:!0}):f(ji);ot.innerHTML=Hi.value,ot.dataset.highlighted="yes",y(ot,Ci,Hi.language),ot.result={language:Hi.language,re:Hi.relevance,relevance:Hi.relevance},Hi.secondBest&&(ot.secondBest={language:Hi.secondBest.language,relevance:Hi.secondBest.relevance}),bn("after:highlightElement",{el:ot,result:Hi,text:ji})}function k(ot){c=K$(c,ot)}let G=()=>{_e(),iv("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function J(){_e(),iv("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let $=!1;function _e(){if(document.readyState==="loading"){$=!0;return}document.querySelectorAll(c.cssSelector).forEach(M)}function Fe(){$&&_e()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Fe,!1);function Pe(ot,Ut){let Ci=null;try{Ci=Ut(e)}catch(ji){if(pf("Language definition for '{}' could not be registered.".replace("{}",ot)),r)pf(ji);else throw ji;Ci=l}Ci.name||(Ci.name=ot),i[ot]=Ci,Ci.rawDefinition=Ut.bind(null,e),Ci.aliases&&Lt(Ci.aliases,{languageName:ot})}function $e(ot){delete i[ot];for(let Ut of Object.keys(n))n[Ut]===ot&&delete n[Ut]}function nt(){return Object.keys(i)}function lt(ot){return ot=(ot||"").toLowerCase(),i[ot]||i[n[ot]]}function Lt(ot,{languageName:Ut}){typeof ot=="string"&&(ot=[ot]),ot.forEach(Ci=>{n[Ci.toLowerCase()]=Ut})}function Jt(ot){let Ut=lt(ot);return Ut&&!Ut.disableAutodetect}function xn(ot){ot["before:highlightBlock"]&&!ot["before:highlightElement"]&&(ot["before:highlightElement"]=Ut=>{ot["before:highlightBlock"](Object.assign({block:Ut.el},Ut))}),ot["after:highlightBlock"]&&!ot["after:highlightElement"]&&(ot["after:highlightElement"]=Ut=>{ot["after:highlightBlock"](Object.assign({block:Ut.el},Ut))})}function Ei(ot){xn(ot),o.push(ot)}function hn(ot){let Ut=o.indexOf(ot);Ut!==-1&&o.splice(Ut,1)}function bn(ot,Ut){let Ci=ot;o.forEach(function(ji){ji[Ci]&&ji[Ci](Ut)})}function as(ot){return iv("10.7.0","highlightBlock will be removed entirely in v12.0"),iv("10.7.0","Please use highlightElement now."),M(ot)}Object.assign(e,{highlight:h,highlightAuto:f,highlightAll:_e,highlightElement:M,highlightBlock:as,configure:k,initHighlighting:G,initHighlightingOnLoad:J,registerLanguage:Pe,unregisterLanguage:$e,listLanguages:nt,getLanguage:lt,registerAliases:Lt,autoDetection:Jt,inherit:K$,addPlugin:Ei,removePlugin:hn}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString=Xpe,e.regex={concat:gf,lookahead:X$,either:jN,optional:gpe,anyNumberOfTimes:ppe};for(let ot in O2)typeof O2[ot]=="object"&&Z$(O2[ot]);return Object.assign(e,O2),e},nv=aq({});nv.newInstance=()=>aq({});lq.exports=nv;nv.HighlightJS=nv;nv.default=nv});var AI=null;var kI=1,FI=Symbol("SIGNAL");function rn(e){let i=AI;return AI=e,i}function FB(){return AI}var TI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function JZ(e){if(!(BI(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===kI)){if(!e.producerMustRecompute(e)&&!LI(e)){e.dirty=!1,e.lastCleanEpoch=kI;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=kI}}function PI(e){return e&&(e.nextProducerIndex=0),rn(e)}function TB(e,i){if(rn(i),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(BI(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)NI(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function LI(e){VI(e);for(let i=0;i<e.producerNode.length;i++){let n=e.producerNode[i],o=e.producerLastReadVersion[i];if(o!==n.version||(JZ(n),o!==n.version))return!0}return!1}function OI(e){if(VI(e),BI(e))for(let i=0;i<e.producerNode.length;i++)NI(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function NI(e,i){if(eQ(e),e.liveConsumerNode.length===1&&tQ(e))for(let o=0;o<e.producerNode.length;o++)NI(e.producerNode[o],e.producerIndexOfThis[o]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){let o=e.liveConsumerIndexOfThis[i],r=e.liveConsumerNode[i];VI(r),r.producerIndexOfThis[o]=i}}function BI(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function VI(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function eQ(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function tQ(e){return e.producerNode!==void 0}function iQ(){throw new Error}var nQ=iQ;function PB(e){nQ=e}function Yt(e){return typeof e=="function"}function cm(e){let n=e(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var M1=cm(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jp(e,i){if(e){let n=e.indexOf(i);0<=n&&e.splice(n,1)}}var Hn=class e{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(Yt(o))try{o()}catch(s){i=s instanceof M1?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{LB(s)}catch(l){i=i??[],l instanceof M1?i=[...i,...l.errors]:i.push(l)}}if(i)throw new M1(i)}}add(i){var n;if(i&&i!==this)if(this.closed)LB(i);else{if(i instanceof e){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(i)}}_hasParent(i){let{_parentage:n}=this;return n===i||Array.isArray(n)&&n.includes(i)}_addParent(i){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(i),n):n?[n,i]:i}_removeParent(i){let{_parentage:n}=this;n===i?this._parentage=null:Array.isArray(n)&&Jp(n,i)}remove(i){let{_finalizers:n}=this;n&&Jp(n,i),i instanceof e&&i._removeParent(this)}};Hn.EMPTY=(()=>{let e=new Hn;return e.closed=!0,e})();var HI=Hn.EMPTY;function R1(e){return e instanceof Hn||e&&"closed"in e&&Yt(e.remove)&&Yt(e.add)&&Yt(e.unsubscribe)}function LB(e){Yt(e)?e():e.unsubscribe()}var ol={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var um={setTimeout(e,i,...n){let{delegate:o}=um;return o?.setTimeout?o.setTimeout(e,i,...n):setTimeout(e,i,...n)},clearTimeout(e){let{delegate:i}=um;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function k1(e){um.setTimeout(()=>{let{onUnhandledError:i}=ol;if(i)i(e);else throw e})}function Ou(){}var OB=zI("C",void 0,void 0);function NB(e){return zI("E",void 0,e)}function BB(e){return zI("N",e,void 0)}function zI(e,i,n){return{kind:e,value:i,error:n}}var eg=null;function dm(e){if(ol.useDeprecatedSynchronousErrorHandling){let i=!eg;if(i&&(eg={errorThrown:!1,error:null}),e(),i){let{errorThrown:n,error:o}=eg;if(eg=null,n)throw o}}else e()}function VB(e){ol.useDeprecatedSynchronousErrorHandling&&eg&&(eg.errorThrown=!0,eg.error=e)}var tg=class extends Hn{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,R1(i)&&i.add(this)):this.destination=sQ}static create(i,n,o){return new hm(i,n,o)}next(i){this.isStopped?WI(BB(i),this):this._next(i)}error(i){this.isStopped?WI(NB(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?WI(OB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oQ=Function.prototype.bind;function GI(e,i){return oQ.call(e,i)}var jI=class{constructor(i){this.partialObserver=i}next(i){let{partialObserver:n}=this;if(n.next)try{n.next(i)}catch(o){A1(o)}}error(i){let{partialObserver:n}=this;if(n.error)try{n.error(i)}catch(o){A1(o)}else A1(i)}complete(){let{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(n){A1(n)}}},hm=class extends tg{constructor(i,n,o){super();let r;if(Yt(i)||!i)r={next:i??void 0,error:n??void 0,complete:o??void 0};else{let s;this&&ol.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&GI(i.next,s),error:i.error&&GI(i.error,s),complete:i.complete&&GI(i.complete,s)}):r=i}this.destination=new jI(r)}};function A1(e){ol.useDeprecatedSynchronousErrorHandling?VB(e):k1(e)}function rQ(e){throw e}function WI(e,i){let{onStoppedNotification:n}=ol;n&&um.setTimeout(()=>n(e,i))}var sQ={closed:!0,next:Ou,error:rQ,complete:Ou};var pm=typeof Symbol=="function"&&Symbol.observable||"@@observable";function br(e){return e}function UI(...e){return $I(e)}function $I(e){return e.length===0?br:e.length===1?e[0]:function(n){return e.reduce((o,r)=>r(o),n)}}var si=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,r){let s=lQ(n)?n:new hm(n,o,r);return dm(()=>{let{operator:l,source:c}=this;s.add(l?l.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=HB(o),new o((r,s)=>{let l=new hm({next:c=>{try{n(c)}catch(u){s(u),l.unsubscribe()}},error:s,complete:r});this.subscribe(l)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[pm](){return this}pipe(...n){return $I(n)(this)}toPromise(n){return n=HB(n),new n((o,r)=>{let s;this.subscribe(l=>s=l,l=>r(l),()=>o(s))})}}return e.create=i=>new e(i),e})();function HB(e){var i;return(i=e??ol.Promise)!==null&&i!==void 0?i:Promise}function aQ(e){return e&&Yt(e.next)&&Yt(e.error)&&Yt(e.complete)}function lQ(e){return e&&e instanceof tg||aQ(e)&&R1(e)}function qI(e){return Yt(e?.lift)}function mi(e){return i=>{if(qI(i))return i.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function di(e,i,n,o,r){return new KI(e,i,n,o,r)}var KI=class extends tg{constructor(i,n,o,r,s,l){super(i),this.onFinalize=s,this.shouldUnsubscribe=l,this._next=n?function(c){try{n(c)}catch(u){i.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){i.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(c){i.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((i=this.onFinalize)===null||i===void 0||i.call(this))}}};function gm(){return mi((e,i)=>{let n=null;e._refCount++;let o=di(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),i.unsubscribe()});e.subscribe(o),o.closed||(n=e.connect())})}var Hh=class extends si{constructor(i,n){super(),this.source=i,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qI(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){let i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Hn;let n=this.getSubject();i.add(this.source.subscribe(di(n,void 0,()=>{this._teardown(),n.complete()},o=>{this._teardown(),n.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Hn.EMPTY)}return i}refCount(){return gm()(this)}};var fm={schedule(e){let i=requestAnimationFrame,n=cancelAnimationFrame,{delegate:o}=fm;o&&(i=o.requestAnimationFrame,n=o.cancelAnimationFrame);let r=i(s=>{n=void 0,e(s)});return new Hn(()=>n?.(r))},requestAnimationFrame(...e){let{delegate:i}=fm;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:i}=fm;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var zB=cm(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $i=(()=>{class e extends si{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new F1(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new zB}next(n){dm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){dm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){dm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:s}=this;return o||r?HI:(this.currentObservers=null,s.push(n),new Hn(()=>{this.currentObservers=null,Jp(s,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:s}=this;o?n.error(r):s&&n.complete()}asObservable(){let n=new si;return n.source=this,n}}return e.create=(i,n)=>new F1(i,n),e})(),F1=class extends $i{constructor(i,n){super(),this.destination=i,this.source=n}next(i){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,i)}error(i){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,i)}complete(){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||n===void 0||n.call(i)}_subscribe(i){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(i))!==null&&o!==void 0?o:HI}};var bo=class extends $i{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){let n=super._subscribe(i);return!n.closed&&i.next(this._value),n}getValue(){let{hasError:i,thrownError:n,_value:o}=this;if(i)throw n;return this._throwIfClosed(),o}next(i){super.next(this._value=i)}};var YI={now(){return(YI.delegate||Date).now()},delegate:void 0};var T1=class extends Hn{constructor(i,n){super()}schedule(i,n=0){return this}};var uC={setInterval(e,i,...n){let{delegate:o}=uC;return o?.setInterval?o.setInterval(e,i,...n):setInterval(e,i,...n)},clearInterval(e){let{delegate:i}=uC;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};var mm=class extends T1{constructor(i,n){super(i,n),this.scheduler=i,this.work=n,this.pending=!1}schedule(i,n=0){var o;if(this.closed)return this;this.state=i;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,n),this}requestAsyncId(i,n,o=0){return uC.setInterval(i.flush.bind(i,this),o)}recycleAsyncId(i,n,o=0){if(o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&uC.clearInterval(n)}execute(i,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let o=this._execute(i,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,n){let o=!1,r;try{this.work(i)}catch(s){o=!0,r=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:i,scheduler:n}=this,{actions:o}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jp(o,this),i!=null&&(this.id=this.recycleAsyncId(n,i,null)),this.delay=null,super.unsubscribe()}}};var vm=class e{constructor(i,n=e.now){this.schedulerActionCtor=i,this.now=n}schedule(i,n=0,o){return new this.schedulerActionCtor(this,i).schedule(o,n)}};vm.now=YI.now;var Cm=class extends vm{constructor(i,n=vm.now){super(i,n),this.actions=[],this._active=!1}flush(i){let{actions:n}=this;if(this._active){n.push(i);return}let o;this._active=!0;do if(o=i.execute(i.state,i.delay))break;while(i=n.shift());if(this._active=!1,o){for(;i=n.shift();)i.unsubscribe();throw o}}};var ig=new Cm(mm),GB=ig;var P1=class extends mm{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,o=0){return o!==null&&o>0?super.requestAsyncId(i,n,o):(i.actions.push(this),i._scheduled||(i._scheduled=fm.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,n,o=0){var r;if(o!=null?o>0:this.delay>0)return super.recycleAsyncId(i,n,o);let{actions:s}=i;n!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==n&&(fm.cancelAnimationFrame(n),i._scheduled=void 0)}};var L1=class extends Cm{flush(i){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:o}=this,r;i=i||o.shift();do if(r=i.execute(i.state,i.delay))break;while((i=o[0])&&i.id===n&&o.shift());if(this._active=!1,r){for(;(i=o[0])&&i.id===n&&o.shift();)i.unsubscribe();throw r}}};var ZI=new L1(P1);var yr=new si(e=>e.complete());function O1(e){return e&&Yt(e.schedule)}function QI(e){return e[e.length-1]}function N1(e){return Yt(QI(e))?e.pop():void 0}function Bl(e){return O1(QI(e))?e.pop():void 0}function WB(e,i){return typeof QI(e)=="number"?e.pop():i}function UB(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})}function jB(e){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&e[i],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function ng(e){return this instanceof ng?(this.v=e,this):new ng(e)}function $B(e,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,i||[]),r,s=[];return r={},c("next"),c("throw"),c("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(f){return function(y){return Promise.resolve(y).then(f,p)}}function c(f,y){o[f]&&(r[f]=function(M){return new Promise(function(k,G){s.push([f,M,k,G])>1||u(f,M)})},y&&(r[f]=y(r[f])))}function u(f,y){try{d(o[f](y))}catch(M){g(s[0][3],M)}}function d(f){f.value instanceof ng?Promise.resolve(f.value.v).then(h,p):g(s[0][2],f)}function h(f){u("next",f)}function p(f){u("throw",f)}function g(f,y){f(y),s.shift(),s.length&&u(s[0][0],s[0][1])}}function qB(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e[Symbol.asyncIterator],n;return i?i.call(e):(e=typeof jB=="function"?jB(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(s){n[s]=e[s]&&function(l){return new Promise(function(c,u){l=e[s](l),r(c,u,l.done,l.value)})}}function r(s,l,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},l)}}var wm=e=>e&&typeof e.length=="number"&&typeof e!="function";function B1(e){return Yt(e?.then)}function V1(e){return Yt(e[pm])}function H1(e){return Symbol.asyncIterator&&Yt(e?.[Symbol.asyncIterator])}function z1(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cQ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var G1=cQ();function W1(e){return Yt(e?.[G1])}function j1(e){return $B(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:o,done:r}=yield ng(n.read());if(r)return yield ng(void 0);yield yield ng(o)}}finally{n.releaseLock()}})}function U1(e){return Yt(e?.getReader)}function qi(e){if(e instanceof si)return e;if(e!=null){if(V1(e))return uQ(e);if(wm(e))return dQ(e);if(B1(e))return hQ(e);if(H1(e))return KB(e);if(W1(e))return pQ(e);if(U1(e))return gQ(e)}throw z1(e)}function uQ(e){return new si(i=>{let n=e[pm]();if(Yt(n.subscribe))return n.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dQ(e){return new si(i=>{for(let n=0;n<e.length&&!i.closed;n++)i.next(e[n]);i.complete()})}function hQ(e){return new si(i=>{e.then(n=>{i.closed||(i.next(n),i.complete())},n=>i.error(n)).then(null,k1)})}function pQ(e){return new si(i=>{for(let n of e)if(i.next(n),i.closed)return;i.complete()})}function KB(e){return new si(i=>{fQ(e,i).catch(n=>i.error(n))})}function gQ(e){return KB(j1(e))}function fQ(e,i){var n,o,r,s;return UB(this,void 0,void 0,function*(){try{for(n=qB(e);o=yield n.next(),!o.done;){let l=o.value;if(i.next(l),i.closed)return}}catch(l){r={error:l}}finally{try{o&&!o.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}i.complete()})}function jr(e,i,n,o=0,r=!1){let s=i.schedule(function(){n(),r?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(s),!r)return s}function $1(e,i=0){return mi((n,o)=>{n.subscribe(di(o,r=>jr(o,e,()=>o.next(r),i),()=>jr(o,e,()=>o.complete(),i),r=>jr(o,e,()=>o.error(r),i)))})}function q1(e,i=0){return mi((n,o)=>{o.add(e.schedule(()=>n.subscribe(o),i))})}function YB(e,i){return qi(e).pipe(q1(i),$1(i))}function ZB(e,i){return qi(e).pipe(q1(i),$1(i))}function QB(e,i){return new si(n=>{let o=0;return i.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}function XB(e,i){return new si(n=>{let o;return jr(n,i,()=>{o=e[G1](),jr(n,i,()=>{let r,s;try{({value:r,done:s}=o.next())}catch(l){n.error(l);return}s?n.complete():n.next(r)},0,!0)}),()=>Yt(o?.return)&&o.return()})}function K1(e,i){if(!e)throw new Error("Iterable cannot be null");return new si(n=>{jr(n,i,()=>{let o=e[Symbol.asyncIterator]();jr(n,i,()=>{o.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function JB(e,i){return K1(j1(e),i)}function eV(e,i){if(e!=null){if(V1(e))return YB(e,i);if(wm(e))return QB(e,i);if(B1(e))return ZB(e,i);if(H1(e))return K1(e,i);if(W1(e))return XB(e,i);if(U1(e))return JB(e,i)}throw z1(e)}function fn(e,i){return i?eV(e,i):qi(e)}function Bt(...e){let i=Bl(e);return fn(e,i)}function Oo(e,i){let n=Yt(e)?e:()=>e,o=r=>r.error(n());return new si(i?r=>i.schedule(o,0,r):o)}function XI(e){return!!e&&(e instanceof si||Yt(e.lift)&&Yt(e.subscribe))}var Nu=cm(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function tV(e){return e instanceof Date&&!isNaN(e)}function kt(e,i){return mi((n,o)=>{let r=0;n.subscribe(di(o,s=>{o.next(e.call(i,s,r++))}))})}var{isArray:mQ}=Array;function vQ(e,i){return mQ(i)?e(...i):e(i)}function bm(e){return kt(i=>vQ(e,i))}var{isArray:CQ}=Array,{getPrototypeOf:wQ,prototype:bQ,keys:yQ}=Object;function Y1(e){if(e.length===1){let i=e[0];if(CQ(i))return{args:i,keys:null};if(SQ(i)){let n=yQ(i);return{args:n.map(o=>i[o]),keys:n}}}return{args:e,keys:null}}function SQ(e){return e&&typeof e=="object"&&wQ(e)===bQ}function Z1(e,i){return e.reduce((n,o,r)=>(n[o]=i[r],n),{})}function zh(...e){let i=Bl(e),n=N1(e),{args:o,keys:r}=Y1(e);if(o.length===0)return fn([],i);let s=new si(_Q(o,i,r?l=>Z1(r,l):br));return n?s.pipe(bm(n)):s}function _Q(e,i,n=br){return o=>{iV(i,()=>{let{length:r}=e,s=new Array(r),l=r,c=r;for(let u=0;u<r;u++)iV(i,()=>{let d=fn(e[u],i),h=!1;d.subscribe(di(o,p=>{s[u]=p,h||(h=!0,c--),c||o.next(n(s.slice()))},()=>{--l||o.complete()}))},o)},o)}}function iV(e,i,n){e?jr(n,e,i):i()}function nV(e,i,n,o,r,s,l,c){let u=[],d=0,h=0,p=!1,g=()=>{p&&!u.length&&!d&&i.complete()},f=M=>d<o?y(M):u.push(M),y=M=>{s&&i.next(M),d++;let k=!1;qi(n(M,h++)).subscribe(di(i,G=>{r?.(G),s?f(G):i.next(G)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<o;){let G=u.shift();l?jr(i,l,()=>y(G)):y(G)}g()}catch(G){i.error(G)}}))};return e.subscribe(di(i,f,()=>{p=!0,g()})),()=>{c?.()}}function zn(e,i,n=1/0){return Yt(i)?zn((o,r)=>kt((s,l)=>i(o,s,r,l))(qi(e(o,r))),n):(typeof i=="number"&&(n=i),mi((o,r)=>nV(o,r,e,n)))}function dC(e=1/0){return zn(br,e)}function oV(){return dC(1)}function Vl(...e){return oV()(fn(e,Bl(e)))}function Bu(e){return new si(i=>{qi(e()).subscribe(i)})}function hC(...e){let i=N1(e),{args:n,keys:o}=Y1(e),r=new si(s=>{let{length:l}=n;if(!l){s.complete();return}let c=new Array(l),u=l,d=l;for(let h=0;h<l;h++){let p=!1;qi(n[h]).subscribe(di(s,g=>{p||(p=!0,d--),c[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(d||s.next(o?Z1(o,c):c),s.complete())}))}});return i?r.pipe(bm(i)):r}var xQ=["addListener","removeListener"],DQ=["addEventListener","removeEventListener"],EQ=["on","off"];function Mn(e,i,n,o){if(Yt(n)&&(o=n,n=void 0),o)return Mn(e,i,n).pipe(bm(o));let[r,s]=RQ(e)?DQ.map(l=>c=>e[l](i,c,n)):IQ(e)?xQ.map(rV(e,i)):MQ(e)?EQ.map(rV(e,i)):[];if(!r&&wm(e))return zn(l=>Mn(l,i,n))(qi(e));if(!r)throw new TypeError("Invalid event target");return new si(l=>{let c=(...u)=>l.next(1<u.length?u:u[0]);return r(c),()=>s(c)})}function rV(e,i){return n=>o=>e[n](i,o)}function IQ(e){return Yt(e.addListener)&&Yt(e.removeListener)}function MQ(e){return Yt(e.on)&&Yt(e.off)}function RQ(e){return Yt(e.addEventListener)&&Yt(e.removeEventListener)}function ym(e,i,n){return Bu(()=>e()?i:n)}function Q1(e=0,i,n=GB){let o=-1;return i!=null&&(O1(i)?n=i:o=i),new si(r=>{let s=tV(e)?+e-n.now():e;s<0&&(s=0);let l=0;return n.schedule(function(){r.closed||(r.next(l++),0<=o?this.schedule(void 0,o):r.complete())},s)})}function JI(e=0,i=ig){return e<0&&(e=0),Q1(e,e,i)}function ur(...e){let i=Bl(e),n=WB(e,1/0),o=e;return o.length?o.length===1?qi(o[0]):dC(n)(fn(o,i)):yr}var Ps=new si(Ou);var{isArray:kQ}=Array;function sV(e){return e.length===1&&kQ(e[0])?e[0]:e}function bi(e,i){return mi((n,o)=>{let r=0;n.subscribe(di(o,s=>e.call(i,s,r++)&&o.next(s)))})}function eM(...e){return e=sV(e),e.length===1?qi(e[0]):new si(AQ(e))}function AQ(e){return i=>{let n=[];for(let o=0;n&&!i.closed&&o<e.length;o++)n.push(qi(e[o]).subscribe(di(i,r=>{if(n){for(let s=0;s<n.length;s++)s!==o&&n[s].unsubscribe();n=null}i.next(r)})))}}function eo(e){return mi((i,n)=>{let o=null,r=!1,s;o=i.subscribe(di(n,void 0,void 0,l=>{s=qi(e(l,eo(e)(i))),o?(o.unsubscribe(),o=null,s.subscribe(n)):r=!0})),r&&(o.unsubscribe(),o=null,s.subscribe(n))})}function aV(e,i,n,o,r){return(s,l)=>{let c=n,u=i,d=0;s.subscribe(di(l,h=>{let p=d++;u=c?e(u,h,p):(c=!0,h),o&&l.next(u)},r&&(()=>{c&&l.next(u),l.complete()})))}}function Gh(e,i){return Yt(i)?zn(e,i,1):zn(e,1)}function lV(e){return new si(i=>e.subscribe(i))}var FQ={connector:()=>new $i};function X1(e,i=FQ){let{connector:n}=i;return mi((o,r)=>{let s=n();qi(e(lV(s))).subscribe(r),r.add(o.subscribe(s))})}function Wh(e,i=ig){return mi((n,o)=>{let r=null,s=null,l=null,c=()=>{if(r){r.unsubscribe(),r=null;let d=s;s=null,o.next(d)}};function u(){let d=l+e,h=i.now();if(h<d){r=this.schedule(void 0,d-h),o.add(r);return}c()}n.subscribe(di(o,d=>{s=d,l=i.now(),r||(r=i.schedule(u,e),o.add(r))},()=>{c(),o.complete()},void 0,()=>{s=r=null}))})}function jh(e){return mi((i,n)=>{let o=!1;i.subscribe(di(n,r=>{o=!0,n.next(r)},()=>{o||n.next(e),n.complete()}))})}function to(e){return e<=0?()=>yr:mi((i,n)=>{let o=0;i.subscribe(di(n,r=>{++o<=e&&(n.next(r),e<=o&&n.complete())}))})}function cV(){return mi((e,i)=>{e.subscribe(di(i,Ou))})}function pC(e){return kt(()=>e)}function tM(e,i){return i?n=>Vl(i.pipe(to(1),cV()),n.pipe(tM(e))):zn((n,o)=>qi(e(n,o)).pipe(to(1),pC(n)))}function og(e,i=ig){let n=Q1(e,i);return tM(()=>n)}function iM(e,i=br){return e=e??TQ,mi((n,o)=>{let r,s=!0;n.subscribe(di(o,l=>{let c=i(l);(s||!e(r,c))&&(s=!1,r=c,o.next(l))}))})}function TQ(e,i){return e===i}function J1(e=PQ){return mi((i,n)=>{let o=!1;i.subscribe(di(n,r=>{o=!0,n.next(r)},()=>o?n.complete():n.error(e())))})}function PQ(){return new Nu}function gC(e,i){return i?n=>n.pipe(gC((o,r)=>qi(e(o,r)).pipe(kt((s,l)=>i(o,s,r,l))))):mi((n,o)=>{let r=0,s=null,l=!1;n.subscribe(di(o,c=>{s||(s=di(o,void 0,()=>{s=null,l&&o.complete()}),qi(e(c,r++)).subscribe(s))},()=>{l=!0,!s&&o.complete()}))})}function rg(e){return mi((i,n)=>{try{i.subscribe(n)}finally{n.add(e)}})}function Ur(e,i){let n=arguments.length>=2;return o=>o.pipe(e?bi((r,s)=>e(r,s,o)):br,to(1),n?jh(i):J1(()=>new Nu))}function Sm(e){return e<=0?()=>yr:mi((i,n)=>{let o=[];i.subscribe(di(n,r=>{o.push(r),e<o.length&&o.shift()},()=>{for(let r of o)n.next(r);n.complete()},void 0,()=>{o=null}))})}function nM(e,i){let n=arguments.length>=2;return o=>o.pipe(e?bi((r,s)=>e(r,s,o)):br,Sm(1),n?jh(i):J1(()=>new Nu))}function uV(e,i){let n=Yt(e)?e:()=>e;return Yt(i)?X1(i,{connector:n}):o=>new Hh(o,n)}function oM(e){return e?i=>X1(e)(i):i=>uV(new $i)(i)}function rM(e,i){return mi(aV(e,i,arguments.length>=2,!0))}function Uh(...e){let i=Bl(e);return mi((n,o)=>{(i?Vl(e,n,i):Vl(e,n)).subscribe(o)})}function cn(e,i){return mi((n,o)=>{let r=null,s=0,l=!1,c=()=>l&&!r&&o.complete();n.subscribe(di(o,u=>{r?.unsubscribe();let d=0,h=s++;qi(e(u,h)).subscribe(r=di(o,p=>o.next(i?i(u,p,h,d++):p),()=>{r=null,c()}))},()=>{l=!0,c()}))})}function sg(e){return mi((i,n)=>{qi(e).subscribe(di(n,()=>n.complete(),Ou)),!n.closed&&i.subscribe(n)})}function Rn(e,i,n){let o=Yt(e)||i||n?{next:e,error:i,complete:n}:e;return o?mi((r,s)=>{var l;(l=o.subscribe)===null||l===void 0||l.call(o);let c=!0;r.subscribe(di(s,u=>{var d;(d=o.next)===null||d===void 0||d.call(o,u),s.next(u)},()=>{var u;c=!1,(u=o.complete)===null||u===void 0||u.call(o),s.complete()},u=>{var d;c=!1,(d=o.error)===null||d===void 0||d.call(o,u),s.error(u)},()=>{var u,d;c&&((u=o.unsubscribe)===null||u===void 0||u.call(o)),(d=o.finalize)===null||d===void 0||d.call(o)}))}):br}var XV="https://g.co/ng/security#xss",Zt=class extends Error{constructor(i,n){super(P_(i,n)),this.code=i}};function P_(e,i){return`${`NG0${Math.abs(e)}`}${i?": "+i:""}`}function EC(e){return{toString:e}.toString()}var e_="__parameters__";function LQ(e){return function(...n){if(e){let o=e(...n);for(let r in o)this[r]=o[r]}}}function JV(e,i,n){return EC(()=>{let o=LQ(i);function r(...s){if(this instanceof r)return o.apply(this,s),this;let l=new r(...s);return c.annotation=l,c;function c(u,d,h){let p=u.hasOwnProperty(e_)?u[e_]:Object.defineProperty(u,e_,{value:[]})[e_];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(l),u}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var cg=globalThis;function _n(e){for(let i in e)if(e[i]===_n)return i;throw Error("Could not find renamed property on target object.")}function OQ(e,i){for(let n in i)i.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=i[n])}function _r(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(_r).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let i=e.toString();if(i==null)return""+i;let n=i.indexOf(`
`);return n===-1?i:i.substring(0,n)}function bM(e,i){return e==null||e===""?i===null?"":i:i==null||i===""?e:e+" "+i}var NQ=_n({__forward_ref__:_n});function ju(e){return e.__forward_ref__=ju,e.toString=function(){return _r(this())},e}function Sr(e){return e7(e)?e():e}function e7(e){return typeof e=="function"&&e.hasOwnProperty(NQ)&&e.__forward_ref__===ju}function St(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Uo(e){return{providers:e.providers||[],imports:e.imports||[]}}function L_(e){return dV(e,i7)||dV(e,n7)}function t7(e){return L_(e)!==null}function dV(e,i){return e.hasOwnProperty(i)?e[i]:null}function BQ(e){let i=e&&(e[i7]||e[n7]);return i||null}function hV(e){return e&&(e.hasOwnProperty(pV)||e.hasOwnProperty(VQ))?e[pV]:null}var i7=_n({\u0275prov:_n}),pV=_n({\u0275inj:_n}),n7=_n({ngInjectableDef:_n}),VQ=_n({ngInjectorDef:_n}),Nt=class{constructor(i,n){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=St({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function o7(e){return e&&!!e.\u0275providers}var HQ=_n({\u0275cmp:_n}),zQ=_n({\u0275dir:_n}),GQ=_n({\u0275pipe:_n}),WQ=_n({\u0275mod:_n}),h_=_n({\u0275fac:_n}),fC=_n({__NG_ELEMENT_ID__:_n}),gV=_n({__NG_ENV_ID__:_n});function ug(e){return typeof e=="string"?e:e==null?"":String(e)}function jQ(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ug(e)}function UQ(e,i){let n=i?`. Dependency path: ${i.join(" > ")} > ${e}`:"";throw new Zt(-200,e)}function yR(e,i){throw new Zt(-201,!1)}var Di=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Di||{}),yM;function r7(){return yM}function $r(e){let i=yM;return yM=e,i}function s7(e,i,n){let o=L_(e);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&Di.Optional)return null;if(i!==void 0)return i;yR(e,"Injector")}var $Q={},mC=$Q,SM="__NG_DI_FLAG__",p_="ngTempTokenPath",qQ="ngTokenPath",KQ=/\n/gm,YQ="\u0275",fV="__source",Em;function ZQ(){return Em}function $h(e){let i=Em;return Em=e,i}function QQ(e,i=Di.Default){if(Em===void 0)throw new Zt(-203,!1);return Em===null?s7(e,void 0,i):Em.get(e,i&Di.Optional?null:void 0,i)}function Et(e,i=Di.Default){return(r7()||QQ)(Sr(e),i)}function wt(e,i=Di.Default){return Et(e,O_(i))}function O_(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _M(e){let i=[];for(let n=0;n<e.length;n++){let o=Sr(e[n]);if(Array.isArray(o)){if(o.length===0)throw new Zt(900,!1);let r,s=Di.Default;for(let l=0;l<o.length;l++){let c=o[l],u=XQ(c);typeof u=="number"?u===-1?r=c.token:s|=u:r=c}i.push(Et(r,s))}else i.push(Et(o))}return i}function a7(e,i){return e[SM]=i,e.prototype[SM]=i,e}function XQ(e){return e[SM]}function JQ(e,i,n,o){let r=e[p_];throw i[fV]&&r.unshift(i[fV]),e.message=eX(`
`+e.message,r,n,o),e[qQ]=r,e[p_]=null,e}function eX(e,i,n,o=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==YQ?e.slice(2):e;let r=_r(i);if(Array.isArray(i))r=i.map(_r).join(" -> ");else if(typeof i=="object"){let s=[];for(let l in i)if(i.hasOwnProperty(l)){let c=i[l];s.push(l+":"+(typeof c=="string"?JSON.stringify(c):_r(c)))}r=`{${s.join(", ")}}`}return`${n}${o?"("+o+")":""}[${r}]: ${e.replace(KQ,`
  `)}`}var N_=a7(JV("Optional"),8);var SR=a7(JV("SkipSelf"),4);function dg(e,i){let n=e.hasOwnProperty(h_);return n?e[h_]:null}function tX(e,i,n){if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++){let r=e[o],s=i[o];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function iX(e){return e.flat(Number.POSITIVE_INFINITY)}function _R(e,i){e.forEach(n=>Array.isArray(n)?_R(n,i):i(n))}function l7(e,i,n){i>=e.length?e.push(n):e.splice(i,0,n)}function g_(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function nX(e,i){let n=[];for(let o=0;o<e;o++)n.push(i);return n}function oX(e,i,n,o){let r=e.length;if(r==i)e.push(n,o);else if(r===1)e.push(o,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>i;){let s=r-2;e[r]=e[s],r--}e[i]=n,e[i+1]=o}}function xR(e,i,n){let o=IC(e,i);return o>=0?e[o|1]=n:(o=~o,oX(e,o,i,n)),o}function sM(e,i){let n=IC(e,i);if(n>=0)return e[n|1]}function IC(e,i){return rX(e,i,1)}function rX(e,i,n){let o=0,r=e.length>>n;for(;r!==o;){let s=o+(r-o>>1),l=e[s<<n];if(i===l)return s<<n;l>i?r=s:o=s+1}return~(r<<n)}var Mm={},qr=[],Rm=new Nt(""),c7=new Nt("",-1),u7=new Nt(""),f_=class{get(i,n=mC){if(n===mC){let o=new Error(`NullInjectorError: No provider for ${_r(i)}!`);throw o.name="NullInjectorError",o}return n}},d7=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(d7||{}),Gl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gl||{}),km=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(km||{});function sX(e,i,n){let o=e.length;for(;;){let r=e.indexOf(i,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=i.length;if(r+s===o||e.charCodeAt(r+s)<=32)return r}n=r+1}}function xM(e,i,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let s=n[o++],l=n[o++],c=n[o++];e.setAttribute(i,l,c,s)}else{let s=r,l=n[++o];aX(s)?e.setProperty(i,s,l):e.setAttribute(i,s,l),o++}}return o}function h7(e){return e===3||e===4||e===6}function aX(e){return e.charCodeAt(0)===64}function vC(e,i){if(!(i===null||i.length===0))if(e===null||e.length===0)e=i.slice();else{let n=-1;for(let o=0;o<i.length;o++){let r=i[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?mV(e,n,r,null,i[++o]):mV(e,n,r,null,null))}}return e}function mV(e,i,n,o,r){let s=0,l=e.length;if(i===-1)l=-1;else for(;s<e.length;){let c=e[s++];if(typeof c=="number"){if(c===i){l=-1;break}else if(c>i){l=s-1;break}}}for(;s<e.length;){let c=e[s];if(typeof c=="number")break;if(c===n){if(o===null){r!==null&&(e[s+1]=r);return}else if(o===e[s+1]){e[s+2]=r;return}}s++,o!==null&&s++,r!==null&&s++}l!==-1&&(e.splice(l,0,i),s=l+1),e.splice(s++,0,n),o!==null&&e.splice(s++,0,o),r!==null&&e.splice(s++,0,r)}var p7="ng-template";function lX(e,i,n,o){let r=0;if(o){for(;r<i.length&&typeof i[r]=="string";r+=2)if(i[r]==="class"&&sX(i[r+1].toLowerCase(),n,0)!==-1)return!0}else if(DR(e))return!1;if(r=i.indexOf(1,r),r>-1){let s;for(;++r<i.length&&typeof(s=i[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function DR(e){return e.type===4&&e.value!==p7}function cX(e,i,n){let o=e.type===4&&!n?p7:e.value;return i===o}function uX(e,i,n){let o=4,r=e.attrs,s=r!==null?pX(r):0,l=!1;for(let c=0;c<i.length;c++){let u=i[c];if(typeof u=="number"){if(!l&&!rl(o)&&!rl(u))return!1;if(l&&rl(u))continue;l=!1,o=u|o&1;continue}if(!l)if(o&4){if(o=2|o&1,u!==""&&!cX(e,u,n)||u===""&&i.length===1){if(rl(o))return!1;l=!0}}else if(o&8){if(r===null||!lX(e,r,u,n)){if(rl(o))return!1;l=!0}}else{let d=i[++c],h=dX(u,r,DR(e),n);if(h===-1){if(rl(o))return!1;l=!0;continue}if(d!==""){let p;if(h>s?p="":p=r[h+1].toLowerCase(),o&2&&d!==p){if(rl(o))return!1;l=!0}}}}return rl(o)||l}function rl(e){return(e&1)===0}function dX(e,i,n,o){if(i===null)return-1;let r=0;if(o||!n){let s=!1;for(;r<i.length;){let l=i[r];if(l===e)return r;if(l===3||l===6)s=!0;else if(l===1||l===2){let c=i[++r];for(;typeof c=="string";)c=i[++r];continue}else{if(l===4)break;if(l===0){r+=4;continue}}r+=s?1:2}return-1}else return gX(i,e)}function g7(e,i,n=!1){for(let o=0;o<i.length;o++)if(uX(e,i[o],n))return!0;return!1}function hX(e){let i=e.attrs;if(i!=null){let n=i.indexOf(5);if(!(n&1))return i[n+1]}return null}function pX(e){for(let i=0;i<e.length;i++){let n=e[i];if(h7(n))return i}return e.length}function gX(e,i){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let o=e[n];if(typeof o=="number")return-1;if(o===i)return n;n++}return-1}function fX(e,i){e:for(let n=0;n<i.length;n++){let o=i[n];if(e.length===o.length){for(let r=0;r<e.length;r++)if(e[r]!==o[r])continue e;return!0}}return!1}function vV(e,i){return e?":not("+i.trim()+")":i}function mX(e){let i=e[0],n=1,o=2,r="",s=!1;for(;n<e.length;){let l=e[n];if(typeof l=="string")if(o&2){let c=e[++n];r+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else o&8?r+="."+l:o&4&&(r+=" "+l);else r!==""&&!rl(l)&&(i+=vV(s,r),r=""),o=l,s=s||!rl(o);n++}return r!==""&&(i+=vV(s,r)),i}function vX(e){return e.map(mX).join(",")}function CX(e){let i=[],n=[],o=1,r=2;for(;o<e.length;){let s=e[o];if(typeof s=="string")r===2?s!==""&&i.push(s,e[++o]):r===8&&n.push(s);else{if(!rl(r))break;r=s}o++}return{attrs:i,classes:n}}function Ai(e){return EC(()=>{let i=w7(e),n=Ft(We({},i),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===d7.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gl.Emulated,styles:e.styles||qr,_:null,schemas:e.schemas||null,tView:null,id:""});b7(n);let o=e.dependencies;return n.directiveDefs=wV(o,!1),n.pipeDefs=wV(o,!0),n.id=yX(n),n})}function wX(e){return hg(e)||f7(e)}function bX(e){return e!==null}function $o(e){return EC(()=>({type:e.type,bootstrap:e.bootstrap||qr,declarations:e.declarations||qr,imports:e.imports||qr,exports:e.exports||qr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function CV(e,i){if(e==null)return Mm;let n={};for(let o in e)if(e.hasOwnProperty(o)){let r=e[o],s,l,c=km.None;Array.isArray(r)?(c=r[0],s=r[1],l=r[2]??s):(s=r,l=r),i?(n[s]=c!==km.None?[o,c]:o,i[s]=l):n[s]=o}return n}function Mo(e){return EC(()=>{let i=w7(e);return b7(i),i})}function ER(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function hg(e){return e[HQ]||null}function f7(e){return e[zQ]||null}function m7(e){return e[GQ]||null}function v7(e){let i=hg(e)||f7(e)||m7(e);return i!==null?i.standalone:!1}function C7(e,i){let n=e[WQ]||null;if(!n&&i===!0)throw new Error(`Type ${_r(e)} does not have '\u0275mod' property.`);return n}function w7(e){let i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||Mm,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||qr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CV(e.inputs,i),outputs:CV(e.outputs),debugInfo:null}}function b7(e){e.features?.forEach(i=>i(e))}function wV(e,i){if(!e)return null;let n=i?m7:wX;return()=>(typeof e=="function"?e():e).map(o=>n(o)).filter(bX)}function yX(e){let i=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)i=Math.imul(31,i)+r.charCodeAt(0)<<0;return i+=2147483648,"c"+i}function Uu(e){return{\u0275providers:e}}function SX(...e){return{\u0275providers:y7(!0,e),\u0275fromNgModule:!0}}function y7(e,...i){let n=[],o=new Set,r,s=l=>{n.push(l)};return _R(i,l=>{let c=l;DM(c,s,[],o)&&(r||=[],r.push(c))}),r!==void 0&&S7(r,s),n}function S7(e,i){for(let n=0;n<e.length;n++){let{ngModule:o,providers:r}=e[n];IR(r,s=>{i(s,o)})}}function DM(e,i,n,o){if(e=Sr(e),!e)return!1;let r=null,s=hV(e),l=!s&&hg(e);if(!s&&!l){let u=e.ngModule;if(s=hV(u),s)r=u;else return!1}else{if(l&&!l.standalone)return!1;r=e}let c=o.has(r);if(l){if(c)return!1;if(o.add(r),l.dependencies){let u=typeof l.dependencies=="function"?l.dependencies():l.dependencies;for(let d of u)DM(d,i,n,o)}}else if(s){if(s.imports!=null&&!c){o.add(r);let d;try{_R(s.imports,h=>{DM(h,i,n,o)&&(d||=[],d.push(h))})}finally{}d!==void 0&&S7(d,i)}if(!c){let d=dg(r)||(()=>new r);i({provide:r,useFactory:d,deps:qr},r),i({provide:u7,useValue:r,multi:!0},r),i({provide:Rm,useValue:()=>Et(r),multi:!0},r)}let u=s.providers;if(u!=null&&!c){let d=e;IR(u,h=>{i(h,d)})}}else return!1;return r!==e&&e.providers!==void 0}function IR(e,i){for(let n of e)o7(n)&&(n=n.\u0275providers),Array.isArray(n)?IR(n,i):i(n)}var _X=_n({provide:String,useValue:_n});function _7(e){return e!==null&&typeof e=="object"&&_X in e}function xX(e){return!!(e&&e.useExisting)}function DX(e){return!!(e&&e.useFactory)}function Am(e){return typeof e=="function"}function EX(e){return!!e.useClass}var B_=new Nt(""),s_={},IX={},aM;function MR(){return aM===void 0&&(aM=new f_),aM}var Kr=class{},CC=class extends Kr{get destroyed(){return this._destroyed}constructor(i,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,IM(i,l=>this.processProvider(l)),this.records.set(c7,_m(void 0,this)),r.has("environment")&&this.records.set(Kr,_m(void 0,this));let s=this.records.get(B_);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(u7,qr,Di.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let i=rn(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rn(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();let n=$h(this),o=$r(void 0),r;try{return i()}finally{$h(n),$r(o)}}get(i,n=mC,o=Di.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(gV))return i[gV](this);o=O_(o);let r,s=$h(this),l=$r(void 0);try{if(!(o&Di.SkipSelf)){let u=this.records.get(i);if(u===void 0){let d=FX(i)&&L_(i);d&&this.injectableDefInScope(d)?u=_m(EM(i),s_):u=null,this.records.set(i,u)}if(u!=null)return this.hydrate(i,u)}let c=o&Di.Self?MR():this.parent;return n=o&Di.Optional&&n===mC?null:n,c.get(i,n)}catch(c){if(c.name==="NullInjectorError"){if((c[p_]=c[p_]||[]).unshift(_r(i)),s)throw c;return JQ(c,i,"R3InjectorError",this.source)}else throw c}finally{$r(l),$h(s)}}resolveInjectorInitializers(){let i=rn(null),n=$h(this),o=$r(void 0),r;try{let s=this.get(Rm,qr,Di.Self);for(let l of s)l()}finally{$h(n),$r(o),rn(i)}}toString(){let i=[],n=this.records;for(let o of n.keys())i.push(_r(o));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Zt(205,!1)}processProvider(i){i=Sr(i);let n=Am(i)?i:Sr(i&&i.provide),o=RX(i);if(!Am(i)&&i.multi===!0){let r=this.records.get(n);r||(r=_m(void 0,s_,!0),r.factory=()=>_M(r.multi),this.records.set(n,r)),n=i,r.multi.push(i)}this.records.set(n,o)}hydrate(i,n){let o=rn(null);try{return n.value===s_&&(n.value=IX,n.value=n.factory()),typeof n.value=="object"&&n.value&&AX(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{rn(o)}}injectableDefInScope(i){if(!i.providedIn)return!1;let n=Sr(i.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(i){let n=this._onDestroyHooks.indexOf(i);n!==-1&&this._onDestroyHooks.splice(n,1)}};function EM(e){let i=L_(e),n=i!==null?i.factory:dg(e);if(n!==null)return n;if(e instanceof Nt)throw new Zt(204,!1);if(e instanceof Function)return MX(e);throw new Zt(204,!1)}function MX(e){if(e.length>0)throw new Zt(204,!1);let n=BQ(e);return n!==null?()=>n.factory(e):()=>new e}function RX(e){if(_7(e))return _m(void 0,e.useValue);{let i=x7(e);return _m(i,s_)}}function x7(e,i,n){let o;if(Am(e)){let r=Sr(e);return dg(r)||EM(r)}else if(_7(e))o=()=>Sr(e.useValue);else if(DX(e))o=()=>e.useFactory(..._M(e.deps||[]));else if(xX(e))o=()=>Et(Sr(e.useExisting));else{let r=Sr(e&&(e.useClass||e.provide));if(kX(e))o=()=>new r(..._M(e.deps));else return dg(r)||EM(r)}return o}function _m(e,i,n=!1){return{factory:e,value:i,multi:n?[]:void 0}}function kX(e){return!!e.deps}function AX(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function FX(e){return typeof e=="function"||typeof e=="object"&&e instanceof Nt}function IM(e,i){for(let n of e)Array.isArray(n)?IM(n,i):n&&o7(n)?IM(n.\u0275providers,i):i(n)}function cl(e,i){e instanceof CC&&e.assertNotDestroyed();let n,o=$h(e),r=$r(void 0);try{return i()}finally{$h(o),$r(r)}}function TX(){return r7()!==void 0||ZQ()!=null}function PX(e){return typeof e=="function"}var $u=0,yi=1,pi=2,dr=3,al=4,Zr=5,wC=6,m_=7,ll=8,Fm=9,Wl=10,io=11,bC=12,bV=13,Bm=14,Os=15,pg=16,xm=17,Vu=18,V_=19,D7=20,qh=21,lM=22,Ls=23,Yr=25,E7=1;var gg=7,v_=8,Tm=9,ps=10,C_=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(C_||{});function Kh(e){return Array.isArray(e)&&typeof e[E7]=="object"}function qu(e){return Array.isArray(e)&&e[E7]===!0}function RR(e){return(e.flags&4)!==0}function H_(e){return e.componentOffset>-1}function z_(e){return(e.flags&1)===1}function Yh(e){return!!e.template}function MM(e){return(e[pi]&512)!==0}var RM=class{constructor(i,n,o){this.previousValue=i,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function I7(e,i,n,o){i!==null?i.applyValueToInputSignal(i,o):e[n]=o}function ul(){return M7}function M7(e){return e.type.prototype.ngOnChanges&&(e.setInput=OX),LX}ul.ngInherit=!0;function LX(){let e=k7(this),i=e?.current;if(i){let n=e.previous;if(n===Mm)e.previous=i;else for(let o in i)n[o]=i[o];e.current=null,this.ngOnChanges(i)}}function OX(e,i,n,o,r){let s=this.declaredInputs[o],l=k7(e)||NX(e,{previous:Mm,current:null}),c=l.current||(l.current={}),u=l.previous,d=u[s];c[s]=new RM(d&&d.currentValue,n,u===Mm),I7(e,i,r,n)}var R7="__ngSimpleChanges__";function k7(e){return e[R7]||null}function NX(e,i){return e[R7]=i}var yV=null;var Hl=function(e,i,n){yV?.(e,i,n)},BX="svg",VX="math";function jl(e){for(;Array.isArray(e);)e=e[$u];return e}function A7(e,i){return jl(i[e])}function Ns(e,i){return jl(i[e.index])}function F7(e,i){return e.data[i]}function T7(e,i){return e[i]}function Xh(e,i){let n=i[e];return Kh(n)?n:n[$u]}function HX(e){return(e[pi]&4)===4}function kR(e){return(e[pi]&128)===128}function zX(e){return qu(e[dr])}function Pm(e,i){return i==null?null:e[i]}function P7(e){e[xm]=0}function L7(e){e[pi]&1024||(e[pi]|=1024,kR(e)&&G_(e))}function GX(e,i){for(;e>0;)i=i[Bm],e--;return i}function yC(e){return!!(e[pi]&9216||e[Ls]?.dirty)}function kM(e){e[Wl].changeDetectionScheduler?.notify(7),e[pi]&64&&(e[pi]|=1024),yC(e)&&G_(e)}function G_(e){e[Wl].changeDetectionScheduler?.notify(0);let i=fg(e);for(;i!==null&&!(i[pi]&8192||(i[pi]|=8192,!kR(i)));)i=fg(i)}function O7(e,i){if((e[pi]&256)===256)throw new Zt(911,!1);e[qh]===null&&(e[qh]=[]),e[qh].push(i)}function WX(e,i){if(e[qh]===null)return;let n=e[qh].indexOf(i);n!==-1&&e[qh].splice(n,1)}function fg(e){let i=e[dr];return qu(i)?i[dr]:i}var xi={lFrame:U7(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var N7=!1;function jX(){return xi.lFrame.elementDepthCount}function UX(){xi.lFrame.elementDepthCount++}function $X(){xi.lFrame.elementDepthCount--}function B7(){return xi.bindingsEnabled}function V7(){return xi.skipHydrationRootTNode!==null}function qX(e){return xi.skipHydrationRootTNode===e}function KX(){xi.skipHydrationRootTNode=null}function ki(){return xi.lFrame.lView}function mo(){return xi.lFrame.tView}function Gt(e){return xi.lFrame.contextLView=e,e[ll]}function Wt(e){return xi.lFrame.contextLView=null,e}function qo(){let e=H7();for(;e!==null&&e.type===64;)e=e.parent;return e}function H7(){return xi.lFrame.currentTNode}function YX(){let e=xi.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}function yg(e,i){let n=xi.lFrame;n.currentTNode=e,n.isParent=i}function AR(){return xi.lFrame.isParent}function FR(){xi.lFrame.isParent=!1}function ZX(){return xi.lFrame.contextLView}function z7(){return N7}function SV(e){N7=e}function TR(){let e=xi.lFrame,i=e.bindingRootIndex;return i===-1&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function QX(){return xi.lFrame.bindingIndex}function XX(e){return xi.lFrame.bindingIndex=e}function W_(){return xi.lFrame.bindingIndex++}function PR(e){let i=xi.lFrame,n=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,n}function JX(){return xi.lFrame.inI18n}function eJ(e,i){let n=xi.lFrame;n.bindingIndex=n.bindingRootIndex=e,AM(i)}function tJ(){return xi.lFrame.currentDirectiveIndex}function AM(e){xi.lFrame.currentDirectiveIndex=e}function iJ(e){let i=xi.lFrame.currentDirectiveIndex;return i===-1?null:e[i]}function G7(){return xi.lFrame.currentQueryIndex}function LR(e){xi.lFrame.currentQueryIndex=e}function nJ(e){let i=e[yi];return i.type===2?i.declTNode:i.type===1?e[Zr]:null}function W7(e,i,n){if(n&Di.SkipSelf){let r=i,s=e;for(;r=r.parent,r===null&&!(n&Di.Host);)if(r=nJ(s),r===null||(s=s[Bm],r.type&10))break;if(r===null)return!1;i=r,e=s}let o=xi.lFrame=j7();return o.currentTNode=i,o.lView=e,!0}function OR(e){let i=j7(),n=e[yi];xi.lFrame=i,i.currentTNode=n.firstChild,i.lView=e,i.tView=n,i.contextLView=e,i.bindingIndex=n.bindingStartIndex,i.inI18n=!1}function j7(){let e=xi.lFrame,i=e===null?null:e.child;return i===null?U7(e):i}function U7(e){let i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=i),i}function $7(){let e=xi.lFrame;return xi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var q7=$7;function NR(){let e=$7();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oJ(e){return(xi.lFrame.contextLView=GX(e,xi.lFrame.contextLView))[ll]}function Jh(){return xi.lFrame.selectedIndex}function mg(e){xi.lFrame.selectedIndex=e}function BR(){let e=xi.lFrame;return F7(e.tView,e.selectedIndex)}function rJ(){return xi.lFrame.currentNamespace}var K7=!0;function j_(){return K7}function U_(e){K7=e}function sJ(e,i,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:s}=i.type.prototype;if(o){let l=M7(i);(n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l)}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function $_(e,i){for(let n=i.directiveStart,o=i.directiveEnd;n<o;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:h}=s;l&&(e.contentHooks??=[]).push(-n,l),c&&((e.contentHooks??=[]).push(n,c),(e.contentCheckHooks??=[]).push(n,c)),u&&(e.viewHooks??=[]).push(-n,u),d&&((e.viewHooks??=[]).push(n,d),(e.viewCheckHooks??=[]).push(n,d)),h!=null&&(e.destroyHooks??=[]).push(n,h)}}function a_(e,i,n){Y7(e,i,3,n)}function l_(e,i,n,o){(e[pi]&3)===n&&Y7(e,i,n,o)}function cM(e,i){let n=e[pi];(n&3)===i&&(n&=16383,n+=1,e[pi]=n)}function Y7(e,i,n,o){let r=o!==void 0?e[xm]&65535:0,s=o??-1,l=i.length-1,c=0;for(let u=r;u<l;u++)if(typeof i[u+1]=="number"){if(c=i[u],o!=null&&c>=o)break}else i[u]<0&&(e[xm]+=65536),(c<s||s==-1)&&(aJ(e,n,i,u),e[xm]=(e[xm]&4294901760)+u+2),u++}function _V(e,i){Hl(4,e,i);let n=rn(null);try{i.call(e)}finally{rn(n),Hl(5,e,i)}}function aJ(e,i,n,o){let r=n[o]<0,s=n[o+1],l=r?-n[o]:n[o],c=e[l];r?e[pi]>>14<e[xm]>>16&&(e[pi]&3)===i&&(e[pi]+=16384,_V(c,s)):_V(c,s)}var Im=-1,vg=class{constructor(i,n,o){this.factory=i,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}};function lJ(e){return e instanceof vg}function cJ(e){return(e.flags&8)!==0}function uJ(e){return(e.flags&16)!==0}var uM={},FM=class{constructor(i,n){this.injector=i,this.parentInjector=n}get(i,n,o){o=O_(o);let r=this.injector.get(i,uM,o);return r!==uM||n===uM?r:this.parentInjector.get(i,n,o)}};function Z7(e){return e!==Im}function w_(e){return e&32767}function dJ(e){return e>>16}function b_(e,i){let n=dJ(e),o=i;for(;n>0;)o=o[Bm],n--;return o}var TM=!0;function y_(e){let i=TM;return TM=e,i}var hJ=256,Q7=hJ-1,X7=5,pJ=0,zl={};function gJ(e,i,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(fC)&&(o=n[fC]),o==null&&(o=n[fC]=pJ++);let r=o&Q7,s=1<<r;i.data[e+(r>>X7)]|=s}function S_(e,i){let n=J7(e,i);if(n!==-1)return n;let o=i[yi];o.firstCreatePass&&(e.injectorIndex=i.length,dM(o.data,e),dM(i,null),dM(o.blueprint,null));let r=VR(e,i),s=e.injectorIndex;if(Z7(r)){let l=w_(r),c=b_(r,i),u=c[yi].data;for(let d=0;d<8;d++)i[s+d]=c[l+d]|u[l+d]}return i[s+8]=r,s}function dM(e,i){e.push(0,0,0,0,0,0,0,0,i)}function J7(e,i){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||i[e.injectorIndex+8]===null?-1:e.injectorIndex}function VR(e,i){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,o=null,r=i;for(;r!==null;){if(o=oH(r),o===null)return Im;if(n++,r=r[Bm],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return Im}function PM(e,i,n){gJ(e,i,n)}function fJ(e,i){if(i==="class")return e.classes;if(i==="style")return e.styles;let n=e.attrs;if(n){let o=n.length,r=0;for(;r<o;){let s=n[r];if(h7(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<o&&typeof n[r]=="string";)r++;else{if(s===i)return n[r+1];r=r+2}}}return null}function eH(e,i,n){if(n&Di.Optional||e!==void 0)return e;yR(i,"NodeInjector")}function tH(e,i,n,o){if(n&Di.Optional&&o===void 0&&(o=null),!(n&(Di.Self|Di.Host))){let r=e[Fm],s=$r(void 0);try{return r?r.get(i,o,n&Di.Optional):s7(i,o,n&Di.Optional)}finally{$r(s)}}return eH(o,i,n)}function iH(e,i,n,o=Di.Default,r){if(e!==null){if(i[pi]&2048&&!(o&Di.Self)){let l=wJ(e,i,n,o,zl);if(l!==zl)return l}let s=nH(e,i,n,o,zl);if(s!==zl)return s}return tH(i,n,o,r)}function nH(e,i,n,o,r){let s=vJ(n);if(typeof s=="function"){if(!W7(i,e,o))return o&Di.Host?eH(r,n,o):tH(i,n,o,r);try{let l;if(l=s(o),l==null&&!(o&Di.Optional))yR(n);else return l}finally{q7()}}else if(typeof s=="number"){let l=null,c=J7(e,i),u=Im,d=o&Di.Host?i[Os][Zr]:null;for((c===-1||o&Di.SkipSelf)&&(u=c===-1?VR(e,i):i[c+8],u===Im||!DV(o,!1)?c=-1:(l=i[yi],c=w_(u),i=b_(u,i)));c!==-1;){let h=i[yi];if(xV(s,c,h.data)){let p=mJ(c,i,n,l,o,d);if(p!==zl)return p}u=i[c+8],u!==Im&&DV(o,i[yi].data[c+8]===d)&&xV(s,c,i)?(l=h,c=w_(u),i=b_(u,i)):c=-1}}return r}function mJ(e,i,n,o,r,s){let l=i[yi],c=l.data[e+8],u=o==null?H_(c)&&TM:o!=l&&(c.type&3)!==0,d=r&Di.Host&&s===c,h=c_(c,l,n,u,d);return h!==null?Cg(i,l,h,c):zl}function c_(e,i,n,o,r){let s=e.providerIndexes,l=i.data,c=s&1048575,u=e.directiveStart,d=e.directiveEnd,h=s>>20,p=o?c:c+h,g=r?c+h:d;for(let f=p;f<g;f++){let y=l[f];if(f<u&&n===y||f>=u&&y.type===n)return f}if(r){let f=l[u];if(f&&Yh(f)&&f.type===n)return u}return null}function Cg(e,i,n,o){let r=e[n],s=i.data;if(lJ(r)){let l=r;l.resolving&&UQ(jQ(s[n]));let c=y_(l.canSeeViewProviders);l.resolving=!0;let u,d=l.injectImpl?$r(l.injectImpl):null,h=W7(e,o,Di.Default);try{r=e[n]=l.factory(void 0,s,e,o),i.firstCreatePass&&n>=o.directiveStart&&sJ(n,s[n],i)}finally{d!==null&&$r(d),y_(c),l.resolving=!1,q7()}}return r}function vJ(e){if(typeof e=="string")return e.charCodeAt(0)||0;let i=e.hasOwnProperty(fC)?e[fC]:void 0;return typeof i=="number"?i>=0?i&Q7:CJ:i}function xV(e,i,n){let o=1<<e;return!!(n[i+(e>>X7)]&o)}function DV(e,i){return!(e&Di.Self)&&!(e&Di.Host&&i)}var lg=class{constructor(i,n){this._tNode=i,this._lView=n}get(i,n,o){return iH(this._tNode,this._lView,i,O_(o),n)}};function CJ(){return new lg(qo(),ki())}function $l(e){return EC(()=>{let i=e.prototype.constructor,n=i[h_]||LM(i),o=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==o;){let s=r[h_]||LM(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function LM(e){return e7(e)?()=>{let i=LM(Sr(e));return i&&i()}:dg(e)}function wJ(e,i,n,o,r){let s=e,l=i;for(;s!==null&&l!==null&&l[pi]&2048&&!(l[pi]&512);){let c=nH(s,l,n,o|Di.Self,zl);if(c!==zl)return c;let u=s.parent;if(!u){let d=l[D7];if(d){let h=d.get(n,zl,o);if(h!==zl)return h}u=oH(l),l=l[Bm]}s=u}return r}function oH(e){let i=e[yi],n=i.type;return n===2?i.declTNode:n===1?e[Zr]:null}function HR(e){return fJ(qo(),e)}function EV(e,i=null,n=null,o){let r=rH(e,i,n,o);return r.resolveInjectorInitializers(),r}function rH(e,i=null,n=null,o,r=new Set){let s=[n||qr,SX(e)];return o=o||(typeof e=="object"?void 0:_r(e)),new CC(s,i||MR(),o||null,r)}var ag=class ag{static create(i,n){if(Array.isArray(i))return EV({name:""},n,i,"");{let o=i.name??"";return EV({name:o},i.parent,i.providers,o)}}};ag.THROW_IF_NOT_FOUND=mC,ag.NULL=new f_,ag.\u0275prov=St({token:ag,providedIn:"any",factory:()=>Et(c7)}),ag.__NG_ELEMENT_ID__=-1;var Ul=ag;var bJ=new Nt("");bJ.__NG_ELEMENT_ID__=e=>{let i=qo();if(i===null)throw new Zt(204,!1);if(i.type&2)return i.value;if(e&Di.Optional)return null;throw new Zt(204,!1)};var yJ="ngOriginalError";function hM(e){return e[yJ]}var Hu=class{constructor(){this._console=console}handleError(i){let n=this._findOriginalError(i);this._console.error("ERROR",i),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(i){let n=i&&hM(i);for(;n&&hM(n);)n=hM(n);return n||null}},sH=new Nt("",{providedIn:"root",factory:()=>wt(Hu).handleError.bind(void 0)}),aH=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=SJ,i.__NG_ENV_ID__=o=>o;let e=i;return e})(),OM=class extends aH{constructor(i){super(),this._lView=i}onDestroy(i){return O7(this._lView,i),()=>WX(this._lView,i)}};function SJ(){return new OM(ki())}function _J(){return Vm(qo(),ki())}function Vm(e,i){return new Tn(Ns(e,i))}var Tn=(()=>{let i=class i{constructor(o){this.nativeElement=o}};i.__NG_ELEMENT_ID__=_J;let e=i;return e})();function xJ(e){return e instanceof Tn?e.nativeElement:e}var ep=(()=>{let i=class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new bo(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};i.\u0275prov=St({token:i,providedIn:"root",factory:()=>new i});let e=i;return e})();var NM=class extends $i{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,TX()&&(this.destroyRef=wt(aH,{optional:!0})??void 0,this.pendingTasks=wt(ep,{optional:!0})??void 0)}emit(i){let n=rn(null);try{super.next(i)}finally{rn(n)}}subscribe(i,n,o){let r=i,s=n||(()=>null),l=o;if(i&&typeof i=="object"){let u=i;r=u.next?.bind(u),s=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),l&&(l=this.wrapInTimeout(l)));let c=super.subscribe({next:r,error:s,complete:l});return i instanceof Hn&&i.add(c),c}wrapInTimeout(i){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{i(n),o!==void 0&&this.pendingTasks?.remove(o)})}}},Xe=NM;function DJ(){return this._results[Symbol.iterator]()}var BM=class e{get changes(){return this._changes??=new Xe}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=DJ)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,n){return this._results.reduce(i,n)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,n){this.dirty=!1;let o=iX(i);(this._changesDetected=!tX(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function lH(e){return(e.flags&128)===128}var cH=new Map,EJ=0;function IJ(){return EJ++}function MJ(e){cH.set(e[V_],e)}function RJ(e){cH.delete(e[V_])}var IV="__ngContext__";function Zh(e,i){Kh(i)?(e[IV]=i[V_],MJ(i)):e[IV]=i}function uH(e){return hH(e[bC])}function dH(e){return hH(e[al])}function hH(e){for(;e!==null&&!qu(e);)e=e[al];return e}var VM;function pH(e){VM=e}function gH(){if(VM!==void 0)return VM;if(typeof document<"u")return document;throw new Zt(210,!1)}var zR=new Nt("",{providedIn:"root",factory:()=>kJ}),kJ="ng",GR=new Nt(""),dl=new Nt("",{providedIn:"platform",factory:()=>"unknown"});var WR=new Nt("",{providedIn:"root",factory:()=>gH().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AJ="h",FJ="b";var TJ=()=>null;function jR(e,i,n=!1){return TJ(e,i,n)}var fH=!1,PJ=new Nt("",{providedIn:"root",factory:()=>fH});var t_;function LJ(){if(t_===void 0&&(t_=null,cg.trustedTypes))try{t_=cg.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return t_}function q_(e){return LJ()?.createHTML(e)||e}var i_;function mH(){if(i_===void 0&&(i_=null,cg.trustedTypes))try{i_=cg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return i_}function MV(e){return mH()?.createHTML(e)||e}function RV(e){return mH()?.createScriptURL(e)||e}var __=class{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XV})`}};function Sg(e){return e instanceof __?e.changingThisBreaksApplicationSecurity:e}function K_(e,i){let n=OJ(e);if(n!=null&&n!==i){if(n==="ResourceURL"&&i==="URL")return!0;throw new Error(`Required a safe ${i}, got a ${n} (see ${XV})`)}return n===i}function OJ(e){return e instanceof __&&e.getTypeName()||null}function NJ(e){let i=new zM(e);return BJ()?new HM(i):i}var HM=class{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{let n=new window.DOMParser().parseFromString(q_(i),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(i):(n.removeChild(n.firstChild),n)}catch{return null}}},zM=class{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){let n=this.inertDocument.createElement("template");return n.innerHTML=q_(i),n}};function BJ(){try{return!!new window.DOMParser().parseFromString(q_(""),"text/html")}catch{return!1}}var VJ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function UR(e){return e=String(e),e.match(VJ)?e:"unsafe:"+e}function Ku(e){let i={};for(let n of e.split(","))i[n]=!0;return i}function MC(...e){let i={};for(let n of e)for(let o in n)n.hasOwnProperty(o)&&(i[o]=!0);return i}var vH=Ku("area,br,col,hr,img,wbr"),CH=Ku("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wH=Ku("rp,rt"),HJ=MC(wH,CH),zJ=MC(CH,Ku("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),GJ=MC(wH,Ku("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kV=MC(vH,zJ,GJ,HJ),bH=Ku("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WJ=Ku("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jJ=Ku("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),UJ=MC(bH,WJ,jJ),$J=Ku("script,style,template"),GM=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let n=i.firstChild,o=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild){r.push(n),n=YJ(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=KJ(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(i){let n=AV(i).toLowerCase();if(!kV.hasOwnProperty(n))return this.sanitizedSomething=!0,!$J.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let o=i.attributes;for(let r=0;r<o.length;r++){let s=o.item(r),l=s.name,c=l.toLowerCase();if(!UJ.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;bH[c]&&(u=UR(u)),this.buf.push(" ",l,'="',FV(u),'"')}return this.buf.push(">"),!0}endElement(i){let n=AV(i).toLowerCase();kV.hasOwnProperty(n)&&!vH.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(i){this.buf.push(FV(i))}};function qJ(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function KJ(e){let i=e.nextSibling;if(i&&e!==i.previousSibling)throw yH(i);return i}function YJ(e){let i=e.firstChild;if(i&&qJ(e,i))throw yH(i);return i}function AV(e){let i=e.nodeName;return typeof i=="string"?i:"FORM"}function yH(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var ZJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QJ=/([^\#-~ |!])/g;function FV(e){return e.replace(/&/g,"&amp;").replace(ZJ,function(i){let n=i.charCodeAt(0),o=i.charCodeAt(1);return"&#"+((n-55296)*1024+(o-56320)+65536)+";"}).replace(QJ,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var n_;function SH(e,i){let n=null;try{n_=n_||NJ(e);let o=i?String(i):"";n=n_.getInertBodyElement(o);let r=5,s=o;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,o=s,s=n.innerHTML,n=n_.getInertBodyElement(o)}while(o!==s);let c=new GM().sanitizeChildren(TV(n)||n);return q_(c)}finally{if(n){let o=TV(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function TV(e){return"content"in e&&XJ(e)?e.content:null}function XJ(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var RC=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(RC||{});function Hm(e){let i=$R();return i?MV(i.sanitize(RC.HTML,e)||""):K_(e,"HTML")?MV(Sg(e)):SH(gH(),ug(e))}function hr(e){let i=$R();return i?i.sanitize(RC.URL,e)||"":K_(e,"URL")?Sg(e):UR(ug(e))}function JJ(e){let i=$R();if(i)return RV(i.sanitize(RC.RESOURCE_URL,e)||"");if(K_(e,"ResourceURL"))return RV(Sg(e));throw new Zt(904,!1)}function eee(e,i){return i==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||i==="href"&&(e==="base"||e==="link")?JJ:hr}function _H(e,i,n){return eee(i,n)(e)}function $R(){let e=ki();return e&&e[Wl].sanitizer}var tee=/^>|^->|<!--|-->|--!>|<!-$/g,iee=/(<|>)/g,nee="\u200B$1\u200B";function oee(e){return e.replace(tee,i=>i.replace(iee,nee))}function zm(e){return e.ownerDocument.defaultView}function xH(e){return e instanceof Function?e():e}var zu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(zu||{}),ree;function qR(e,i){return ree(e,i)}function Dm(e,i,n,o,r){if(o!=null){let s,l=!1;qu(o)?s=o:Kh(o)&&(l=!0,o=o[$u]);let c=jl(o);e===0&&n!==null?r==null?kH(i,n,c):x_(i,n,c,r||null,!0):e===1&&n!==null?x_(i,n,c,r||null,!0):e===2?bee(i,c,l):e===3&&i.destroyNode(c),s!=null&&See(i,e,s,n,r)}}function see(e,i){return e.createText(i)}function aee(e,i,n){e.setValue(i,n)}function lee(e,i){return e.createComment(oee(i))}function DH(e,i,n){return e.createElement(i,n)}function cee(e,i){EH(e,i),i[$u]=null,i[Zr]=null}function uee(e,i,n,o,r,s){o[$u]=r,o[Zr]=i,Z_(e,o,n,1,r,s)}function EH(e,i){i[Wl].changeDetectionScheduler?.notify(8),Z_(e,i,i[io],2,null,null)}function dee(e){let i=e[bC];if(!i)return pM(e[yi],e);for(;i;){let n=null;if(Kh(i))n=i[bC];else{let o=i[ps];o&&(n=o)}if(!n){for(;i&&!i[al]&&i!==e;)Kh(i)&&pM(i[yi],i),i=i[dr];i===null&&(i=e),Kh(i)&&pM(i[yi],i),n=i&&i[al]}i=n}}function hee(e,i,n,o){let r=ps+o,s=n.length;o>0&&(n[r-1][al]=i),o<s-ps?(i[al]=n[r],l7(n,ps+o,i)):(n.push(i),i[al]=null),i[dr]=n;let l=i[pg];l!==null&&n!==l&&IH(l,i);let c=i[Vu];c!==null&&c.insertView(e),kM(i),i[pi]|=128}function IH(e,i){let n=e[Tm],o=i[dr];if(Kh(o))e[pi]|=C_.HasTransplantedViews;else{let r=o[dr][Os];i[Os]!==r&&(e[pi]|=C_.HasTransplantedViews)}n===null?e[Tm]=[i]:n.push(i)}function KR(e,i){let n=e[Tm],o=n.indexOf(i);n.splice(o,1)}function WM(e,i){if(e.length<=ps)return;let n=ps+i,o=e[n];if(o){let r=o[pg];r!==null&&r!==e&&KR(r,o),i>0&&(e[n-1][al]=o[al]);let s=g_(e,ps+i);cee(o[yi],o);let l=s[Vu];l!==null&&l.detachView(s[yi]),o[dr]=null,o[al]=null,o[pi]&=-129}return o}function MH(e,i){if(!(i[pi]&256)){let n=i[io];n.destroyNode&&Z_(e,i,n,3,null,null),dee(i)}}function pM(e,i){if(i[pi]&256)return;let n=rn(null);try{i[pi]&=-129,i[pi]|=256,i[Ls]&&OI(i[Ls]),gee(e,i),pee(e,i),i[yi].type===1&&i[io].destroy();let o=i[pg];if(o!==null&&qu(i[dr])){o!==i[dr]&&KR(o,i);let r=i[Vu];r!==null&&r.detachView(e)}RJ(i)}finally{rn(n)}}function pee(e,i){let n=e.cleanup,o=i[m_];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let l=n[s+3];l>=0?o[l]():o[-l].unsubscribe(),s+=2}else{let l=o[n[s+1]];n[s].call(l)}o!==null&&(i[m_]=null);let r=i[qh];if(r!==null){i[qh]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}}function gee(e,i){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=i[n[o]];if(!(r instanceof vg)){let s=n[o+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){let c=r[s[l]],u=s[l+1];Hl(4,c,u);try{u.call(c)}finally{Hl(5,c,u)}}else{Hl(4,r,s);try{s.call(r)}finally{Hl(5,r,s)}}}}}function RH(e,i,n){return fee(e,i.parent,n)}function fee(e,i,n){let o=i;for(;o!==null&&o.type&168;)i=o,o=i.parent;if(o===null)return n[$u];{let{componentOffset:r}=o;if(r>-1){let{encapsulation:s}=e.data[o.directiveStart+r];if(s===Gl.None||s===Gl.Emulated)return null}return Ns(o,n)}}function x_(e,i,n,o,r){e.insertBefore(i,n,o,r)}function kH(e,i,n){e.appendChild(i,n)}function PV(e,i,n,o,r){o!==null?x_(e,i,n,o,r):kH(e,i,n)}function mee(e,i,n,o){e.removeChild(i,n,o)}function YR(e,i){return e.parentNode(i)}function vee(e,i){return e.nextSibling(i)}function AH(e,i,n){return wee(e,i,n)}function Cee(e,i,n){return e.type&40?Ns(e,n):null}var wee=Cee,LV;function Y_(e,i,n,o){let r=RH(e,o,i),s=i[io],l=o.parent||i[Zr],c=AH(l,o,i);if(r!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)PV(s,r,n[u],c,!1);else PV(s,r,n,c,!1);LV!==void 0&&LV(s,o,i,n,r)}function u_(e,i){if(i!==null){let n=i.type;if(n&3)return Ns(i,e);if(n&4)return jM(-1,e[i.index]);if(n&8){let o=i.child;if(o!==null)return u_(e,o);{let r=e[i.index];return qu(r)?jM(-1,r):jl(r)}}else{if(n&32)return qR(i,e)()||jl(e[i.index]);{let o=FH(e,i);if(o!==null){if(Array.isArray(o))return o[0];let r=fg(e[Os]);return u_(r,o)}else return u_(e,i.next)}}}return null}function FH(e,i){if(i!==null){let o=e[Os][Zr],r=i.projection;return o.projection[r]}return null}function jM(e,i){let n=ps+e+1;if(n<i.length){let o=i[n],r=o[yi].firstChild;if(r!==null)return u_(o,r)}return i[gg]}function bee(e,i,n){let o=YR(e,i);o&&mee(e,o,i,n)}function ZR(e,i,n,o,r,s,l){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=o[n.index],u=n.type;if(l&&i===0&&(c&&Zh(jl(c),o),n.flags|=2),(n.flags&32)!==32)if(u&8)ZR(e,i,n.child,o,r,s,!1),Dm(i,e,r,c,s);else if(u&32){let d=qR(n,o),h;for(;h=d();)Dm(i,e,r,h,s);Dm(i,e,r,c,s)}else u&16?TH(e,i,o,n,r,s):Dm(i,e,r,c,s);n=l?n.projectionNext:n.next}}function Z_(e,i,n,o,r,s){ZR(n,o,e.firstChild,i,r,s,!1)}function yee(e,i,n){let o=i[io],r=RH(e,n,i),s=n.parent||i[Zr],l=AH(s,n,i);TH(o,0,i,n,r,l)}function TH(e,i,n,o,r,s){let l=n[Os],u=l[Zr].projection[o.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let h=u[d];Dm(i,e,r,h,s)}else{let d=u,h=l[dr];lH(o)&&(d.flags|=128),ZR(e,i,d,h,r,s,!0)}}function See(e,i,n,o,r){let s=n[gg],l=jl(n);s!==l&&Dm(i,e,o,s,r);for(let c=ps;c<n.length;c++){let u=n[c];Z_(u[yi],u,e,i,o,s)}}function _ee(e,i,n,o,r){if(i)r?e.addClass(n,o):e.removeClass(n,o);else{let s=o.indexOf("-")===-1?void 0:zu.DashCase;r==null?e.removeStyle(n,o,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=zu.Important),e.setStyle(n,o,r,s))}}function xee(e,i,n){e.setAttribute(i,"style",n)}function PH(e,i,n){n===""?e.removeAttribute(i,"class"):e.setAttribute(i,"class",n)}function LH(e,i,n){let{mergedAttrs:o,classes:r,styles:s}=n;o!==null&&xM(e,i,o),r!==null&&PH(e,i,r),s!==null&&xee(e,i,s)}var Bs={};function et(e=1){OH(mo(),ki(),Jh()+e,!1)}function OH(e,i,n,o){if(!o)if((i[pi]&3)===3){let s=e.preOrderCheckHooks;s!==null&&a_(i,s,n)}else{let s=e.preOrderHooks;s!==null&&l_(i,s,0,n)}mg(n)}function at(e,i=Di.Default){let n=ki();if(n===null)return Et(e,i);let o=qo();return iH(o,n,Sr(e),i)}function NH(e,i,n,o,r,s){let l=rn(null);try{let c=null;r&km.SignalBased&&(c=i[o][FI]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),r&km.HasDecoratorInputTransform&&(s=e.inputTransforms[o].call(i,s)),e.setInput!==null?e.setInput(i,c,s,n,o):I7(i,c,o,s)}finally{rn(l)}}function Dee(e,i){let n=e.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)mg(~r);else{let s=r,l=n[++o],c=n[++o];eJ(l,s);let u=i[s];c(2,u)}}}finally{mg(-1)}}function Q_(e,i,n,o,r,s,l,c,u,d,h){let p=i.blueprint.slice();return p[$u]=r,p[pi]=o|4|128|8|64,(d!==null||e&&e[pi]&2048)&&(p[pi]|=2048),P7(p),p[dr]=p[Bm]=e,p[ll]=n,p[Wl]=l||e&&e[Wl],p[io]=c||e&&e[io],p[Fm]=u||e&&e[Fm]||null,p[Zr]=s,p[V_]=IJ(),p[wC]=h,p[D7]=d,p[Os]=i.type==2?e[Os]:p,p}function Gm(e,i,n,o,r){let s=e.data[i];if(s===null)s=Eee(e,i,n,o,r),JX()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=o,s.attrs=r;let l=YX();s.injectorIndex=l===null?-1:l.injectorIndex}return yg(s,!0),s}function Eee(e,i,n,o,r){let s=H7(),l=AR(),c=l?s:s&&s.parent,u=e.data[i]=Fee(e,c,n,i,o,r);return e.firstChild===null&&(e.firstChild=u),s!==null&&(l?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function BH(e,i,n,o){if(n===0)return-1;let r=i.length;for(let s=0;s<n;s++)i.push(o),e.blueprint.push(o),e.data.push(null);return r}function VH(e,i,n,o,r){let s=Jh(),l=o&2;try{mg(-1),l&&i.length>Yr&&OH(e,i,Yr,!1),Hl(l?2:0,r),n(o,r)}finally{mg(s),Hl(l?3:1,r)}}function QR(e,i,n){if(RR(i)){let o=rn(null);try{let r=i.directiveStart,s=i.directiveEnd;for(let l=r;l<s;l++){let c=e.data[l];if(c.contentQueries){let u=n[l];c.contentQueries(1,u,l)}}}finally{rn(o)}}}function XR(e,i,n){B7()&&(Bee(e,i,n,Ns(n,i)),(n.flags&64)===64&&WH(e,i,n))}function JR(e,i,n=Ns){let o=i.localNames;if(o!==null){let r=i.index+1;for(let s=0;s<o.length;s+=2){let l=o[s+1],c=l===-1?n(i,e):e[l];e[r++]=c}}}function HH(e){let i=e.tView;return i===null||i.incompleteFirstPass?e.tView=ek(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function ek(e,i,n,o,r,s,l,c,u,d,h){let p=Yr+o,g=p+r,f=Iee(p,g),y=typeof d=="function"?d():d;return f[yi]={type:e,blueprint:f,template:n,queries:null,viewQuery:c,declTNode:i,data:f.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof l=="function"?l():l,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1,ssrId:h}}function Iee(e,i){let n=[];for(let o=0;o<i;o++)n.push(o<e?null:Bs);return n}function Mee(e,i,n,o){let s=o.get(PJ,fH)||n===Gl.ShadowDom,l=e.selectRootElement(i,s);return Ree(l),l}function Ree(e){kee(e)}var kee=()=>null;function Aee(e,i,n,o){let r=$H(i);r.push(n),e.firstCreatePass&&qH(e).push(o,r.length-1)}function Fee(e,i,n,o,r,s){let l=i?i.injectorIndex:-1,c=0;return V7()&&(c|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function OV(e,i,n,o,r){for(let s in i){if(!i.hasOwnProperty(s))continue;let l=i[s];if(l===void 0)continue;o??={};let c,u=km.None;Array.isArray(l)?(c=l[0],u=l[1]):c=l;let d=s;if(r!==null){if(!r.hasOwnProperty(s))continue;d=r[s]}e===0?NV(o,n,d,c,u):NV(o,n,d,c)}return o}function NV(e,i,n,o,r){let s;e.hasOwnProperty(n)?(s=e[n]).push(i,o):s=e[n]=[i,o],r!==void 0&&s.push(r)}function Tee(e,i,n){let o=i.directiveStart,r=i.directiveEnd,s=e.data,l=i.attrs,c=[],u=null,d=null;for(let h=o;h<r;h++){let p=s[h],g=n?n.get(p):null,f=g?g.inputs:null,y=g?g.outputs:null;u=OV(0,p.inputs,h,u,f),d=OV(1,p.outputs,h,d,y);let M=u!==null&&l!==null&&!DR(i)?Yee(u,h,l):null;c.push(M)}u!==null&&(u.hasOwnProperty("class")&&(i.flags|=8),u.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=c,i.inputs=u,i.outputs=d}function Pee(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function zH(e,i,n,o,r,s,l,c){let u=Ns(i,n),d=i.inputs,h;!c&&d!=null&&(h=d[o])?(ik(e,n,h,o,r),H_(i)&&Lee(n,i.index)):i.type&3?(o=Pee(o),r=l!=null?l(r,i.value||"",o):r,s.setProperty(u,o,r)):i.type&12}function Lee(e,i){let n=Xh(i,e);n[pi]&16||(n[pi]|=64)}function tk(e,i,n,o){if(B7()){let r=o===null?null:{"":-1},s=Hee(e,n),l,c;s===null?l=c=null:[l,c]=s,l!==null&&GH(e,i,n,l,r,c),r&&zee(n,o,r)}n.mergedAttrs=vC(n.mergedAttrs,n.attrs)}function GH(e,i,n,o,r,s){for(let d=0;d<o.length;d++)PM(S_(n,i),e,o[d].type);Wee(n,e.data.length,o.length);for(let d=0;d<o.length;d++){let h=o[d];h.providersResolver&&h.providersResolver(h)}let l=!1,c=!1,u=BH(e,i,o.length,null);for(let d=0;d<o.length;d++){let h=o[d];n.mergedAttrs=vC(n.mergedAttrs,h.hostAttrs),jee(e,n,i,u,h),Gee(u,h,r),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}Tee(e,n,s)}function Oee(e,i,n,o,r){let s=r.hostBindings;if(s){let l=e.hostBindingOpCodes;l===null&&(l=e.hostBindingOpCodes=[]);let c=~i.index;Nee(l)!=c&&l.push(c),l.push(n,o,s)}}function Nee(e){let i=e.length;for(;i>0;){let n=e[--i];if(typeof n=="number"&&n<0)return n}return 0}function Bee(e,i,n,o){let r=n.directiveStart,s=n.directiveEnd;H_(n)&&Uee(i,n,e.data[r+n.componentOffset]),e.firstCreatePass||S_(n,i),Zh(o,i);let l=n.initialInputs;for(let c=r;c<s;c++){let u=e.data[c],d=Cg(i,e,c,n);if(Zh(d,i),l!==null&&Kee(i,c-r,d,u,n,l),Yh(u)){let h=Xh(n.index,i);h[ll]=Cg(i,e,c,n)}}}function WH(e,i,n){let o=n.directiveStart,r=n.directiveEnd,s=n.index,l=tJ();try{mg(s);for(let c=o;c<r;c++){let u=e.data[c],d=i[c];AM(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Vee(u,d)}}finally{mg(-1),AM(l)}}function Vee(e,i){e.hostBindings!==null&&e.hostBindings(1,i)}function Hee(e,i){let n=e.directiveRegistry,o=null,r=null;if(n)for(let s=0;s<n.length;s++){let l=n[s];if(g7(i,l.selectors,!1))if(o||(o=[]),Yh(l))if(l.findHostDirectiveDefs!==null){let c=[];r=r||new Map,l.findHostDirectiveDefs(l,c,r),o.unshift(...c,l);let u=c.length;UM(e,i,u)}else o.unshift(l),UM(e,i,0);else r=r||new Map,l.findHostDirectiveDefs?.(l,o,r),o.push(l)}return o===null?null:[o,r]}function UM(e,i,n){i.componentOffset=n,(e.components??=[]).push(i.index)}function zee(e,i,n){if(i){let o=e.localNames=[];for(let r=0;r<i.length;r+=2){let s=n[i[r+1]];if(s==null)throw new Zt(-301,!1);o.push(i[r],s)}}}function Gee(e,i,n){if(n){if(i.exportAs)for(let o=0;o<i.exportAs.length;o++)n[i.exportAs[o]]=e;Yh(i)&&(n[""]=e)}}function Wee(e,i,n){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+n,e.providerIndexes=i}function jee(e,i,n,o,r){e.data[o]=r;let s=r.factory||(r.factory=dg(r.type,!0)),l=new vg(s,Yh(r),at);e.blueprint[o]=l,n[o]=l,Oee(e,i,o,BH(e,n,r.hostVars,Bs),r)}function Uee(e,i,n){let o=Ns(i,e),r=HH(n),s=e[Wl].rendererFactory,l=16;n.signals?l=4096:n.onPush&&(l=64);let c=X_(e,Q_(e,r,null,l,o,i,null,s.createRenderer(o,n),null,null,null));e[i.index]=c}function $ee(e,i,n,o,r,s){let l=Ns(e,i);qee(i[io],l,s,e.value,n,o,r)}function qee(e,i,n,o,r,s,l){if(s==null)e.removeAttribute(i,r,n);else{let c=l==null?ug(s):l(s,o||"",r);e.setAttribute(i,r,c,n)}}function Kee(e,i,n,o,r,s){let l=s[i];if(l!==null)for(let c=0;c<l.length;){let u=l[c++],d=l[c++],h=l[c++],p=l[c++];NH(o,n,u,d,h,p)}}function Yee(e,i,n){let o=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){o===null&&(o=[]);let l=e[s];for(let c=0;c<l.length;c+=3)if(l[c]===i){o.push(s,l[c+1],l[c+2],n[r+1]);break}}r+=2}return o}function jH(e,i,n,o){return[e,!0,0,i,null,o,null,n,null,null]}function UH(e,i){let n=e.contentQueries;if(n!==null){let o=rn(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],l=n[r+1];if(l!==-1){let c=e.data[l];LR(s),c.contentQueries(2,i[l],l)}}}finally{rn(o)}}}function X_(e,i){return e[bC]?e[bV][al]=i:e[bC]=i,e[bV]=i,i}function $M(e,i,n){LR(0);let o=rn(null);try{i(e,n)}finally{rn(o)}}function $H(e){return e[m_]??=[]}function qH(e){return e.cleanup??=[]}function KH(e,i){let n=e[Fm],o=n?n.get(Hu,null):null;o&&o.handleError(i)}function ik(e,i,n,o,r){for(let s=0;s<n.length;){let l=n[s++],c=n[s++],u=n[s++],d=i[l],h=e.data[l];NH(h,d,o,c,u,r)}}function YH(e,i,n){let o=A7(i,e);aee(e[io],o,n)}function Zee(e,i){let n=Xh(i,e),o=n[yi];Qee(o,n);let r=n[$u];r!==null&&n[wC]===null&&(n[wC]=jR(r,n[Fm])),nk(o,n,n[ll])}function Qee(e,i){for(let n=i.length;n<e.blueprint.length;n++)i.push(e.blueprint[n])}function nk(e,i,n){OR(i);try{let o=e.viewQuery;o!==null&&$M(1,o,n);let r=e.template;r!==null&&VH(e,i,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),i[Vu]?.finishViewCreation(e),e.staticContentQueries&&UH(e,i),e.staticViewQueries&&$M(2,e.viewQuery,n);let s=e.components;s!==null&&Xee(i,s)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{i[pi]&=-5,NR()}}function Xee(e,i){for(let n=0;n<i.length;n++)Zee(e,i[n])}function ZH(e,i,n,o){let r=rn(null);try{let s=i.tView,c=e[pi]&4096?4096:16,u=Q_(e,s,n,c,null,i,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=e[i.index];u[pg]=d;let h=e[Vu];return h!==null&&(u[Vu]=h.createEmbeddedView(s)),nk(s,u,n),u}finally{rn(r)}}function qM(e,i){return!i||i.firstChild===null||lH(e)}function QH(e,i,n,o=!0){let r=i[yi];if(hee(r,i,e,n),o){let l=jM(n,e),c=i[io],u=YR(c,e[gg]);u!==null&&uee(r,e[Zr],c,i,u,l)}let s=i[wC];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function D_(e,i,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let s=i[n.index];s!==null&&o.push(jl(s)),qu(s)&&Jee(s,o);let l=n.type;if(l&8)D_(e,i,n.child,o);else if(l&32){let c=qR(n,i),u;for(;u=c();)o.push(u)}else if(l&16){let c=FH(i,n);if(Array.isArray(c))o.push(...c);else{let u=fg(i[Os]);D_(u[yi],u,c,o,!0)}}n=r?n.projectionNext:n.next}return o}function Jee(e,i){for(let n=ps;n<e.length;n++){let o=e[n],r=o[yi].firstChild;r!==null&&D_(o[yi],o,r,i)}e[gg]!==e[$u]&&i.push(e[gg])}var XH=[];function ete(e){return e[Ls]??tte(e)}function tte(e){let i=XH.pop()??Object.create(nte);return i.lView=e,i}function ite(e){e.lView[Ls]!==e&&(e.lView=null,XH.push(e))}var nte=Ft(We({},TI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{G_(e.lView)},consumerOnSignalRead(){this.lView[Ls]=this}});function ote(e){let i=e[Ls]??Object.create(rte);return i.lView=e,i}var rte=Ft(We({},TI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let i=fg(e.lView);for(;i&&!JH(i[yi]);)i=fg(i);i&&L7(i)},consumerOnSignalRead(){this.lView[Ls]=this}});function JH(e){return e.type!==2}var ste=100;function ez(e,i=!0,n=0){let o=e[Wl],r=o.rendererFactory,s=!1;s||r.begin?.();try{ate(e,n)}catch(l){throw i&&KH(e,l),l}finally{s||(r.end?.(),o.inlineEffectRunner?.flush())}}function ate(e,i){let n=z7();try{SV(!0),KM(e,i);let o=0;for(;yC(e);){if(o===ste)throw new Zt(103,!1);o++,KM(e,1)}}finally{SV(n)}}function lte(e,i,n,o){let r=i[pi];if((r&256)===256)return;let s=!1,l=!1;!s&&i[Wl].inlineEffectRunner?.flush(),OR(i);let c=!0,u=null,d=null;s||(JH(e)?(d=ete(i),u=PI(d)):FB()===null?(c=!1,d=ote(i),u=PI(d)):i[Ls]&&(OI(i[Ls]),i[Ls]=null));try{P7(i),XX(e.bindingStartIndex),n!==null&&VH(e,i,n,2,o);let h=(r&3)===3;if(!s)if(h){let f=e.preOrderCheckHooks;f!==null&&a_(i,f,null)}else{let f=e.preOrderHooks;f!==null&&l_(i,f,0,null),cM(i,0)}if(l||cte(i),tz(i,0),e.contentQueries!==null&&UH(e,i),!s)if(h){let f=e.contentCheckHooks;f!==null&&a_(i,f)}else{let f=e.contentHooks;f!==null&&l_(i,f,1),cM(i,1)}Dee(e,i);let p=e.components;p!==null&&nz(i,p,0);let g=e.viewQuery;if(g!==null&&$M(2,g,o),!s)if(h){let f=e.viewCheckHooks;f!==null&&a_(i,f)}else{let f=e.viewHooks;f!==null&&l_(i,f,2),cM(i,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),i[lM]){for(let f of i[lM])f();i[lM]=null}s||(i[pi]&=-73)}catch(h){throw s||G_(i),h}finally{d!==null&&(TB(d,u),c&&ite(d)),NR()}}function tz(e,i){for(let n=uH(e);n!==null;n=dH(n))for(let o=ps;o<n.length;o++){let r=n[o];iz(r,i)}}function cte(e){for(let i=uH(e);i!==null;i=dH(i)){if(!(i[pi]&C_.HasTransplantedViews))continue;let n=i[Tm];for(let o=0;o<n.length;o++){let r=n[o];L7(r)}}}function ute(e,i,n){let o=Xh(i,e);iz(o,n)}function iz(e,i){kR(e)&&KM(e,i)}function KM(e,i){let o=e[yi],r=e[pi],s=e[Ls],l=!!(i===0&&r&16);if(l||=!!(r&64&&i===0),l||=!!(r&1024),l||=!!(s?.dirty&&LI(s)),l||=!1,s&&(s.dirty=!1),e[pi]&=-9217,l)lte(o,e,o.template,e[ll]);else if(r&8192){tz(e,1);let c=o.components;c!==null&&nz(e,c,1)}}function nz(e,i,n){for(let o=0;o<i.length;o++)ute(e,i[o],n)}function ok(e,i){let n=z7()?64:1088;for(e[Wl].changeDetectionScheduler?.notify(i);e;){e[pi]|=n;let o=fg(e);if(MM(e)&&!o)return e;e=o}return null}var wg=class{get rootNodes(){let i=this._lView,n=i[yi];return D_(n,i,n.firstChild,[])}constructor(i,n,o=!0){this._lView=i,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ll]}set context(i){this._lView[ll]=i}get destroyed(){return(this._lView[pi]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let i=this._lView[dr];if(qu(i)){let n=i[v_],o=n?n.indexOf(this):-1;o>-1&&(WM(i,o),g_(n,o))}this._attachedToViewContainer=!1}MH(this._lView[yi],this._lView)}onDestroy(i){O7(this._lView,i)}markForCheck(){ok(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pi]&=-129}reattach(){kM(this._lView),this._lView[pi]|=128}detectChanges(){this._lView[pi]|=1024,ez(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Zt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let i=MM(this._lView),n=this._lView[pg];n!==null&&!i&&KR(n,this._lView),EH(this._lView[yi],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Zt(902,!1);this._appRef=i;let n=MM(this._lView),o=this._lView[pg];o!==null&&!n&&IH(o,this._lView),kM(this._lView)}},Gu=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=pte;let e=i;return e})(),dte=Gu,hte=class extends dte{constructor(i,n,o){super(),this._declarationLView=i,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,n){return this.createEmbeddedViewImpl(i,n)}createEmbeddedViewImpl(i,n,o){let r=ZH(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:n,dehydratedView:o});return new wg(r)}};function pte(){return J_(qo(),ki())}function J_(e,i){return e.type&4?new hte(i,e,Vm(e,i)):null}var SAe=new RegExp(`^(\\d+)*(${FJ}|${AJ})*(.*)`);var gte=()=>null;function YM(e,i){return gte(e,i)}var SC=class{},rk=new Nt("",{providedIn:"root",factory:()=>!1});var oz=new Nt(""),ZM=class{},E_=class{};function fte(e){let i=Error(`No component factory found for ${_r(e)}.`);return i[mte]=e,i}var mte="ngComponent";var QM=class{resolveComponentFactory(i){throw fte(i)}},Ck=class Ck{};Ck.NULL=new QM;var Lm=Ck,Om=class{},gs=(()=>{let i=class i{constructor(){this.destroyNode=null}};i.__NG_ELEMENT_ID__=()=>vte();let e=i;return e})();function vte(){let e=ki(),i=qo(),n=Xh(i.index,e);return(Kh(n)?n:e)[io]}var Cte=(()=>{let i=class i{};i.\u0275prov=St({token:i,providedIn:"root",factory:()=>null});let e=i;return e})();var BV=new Set;function ex(e){BV.has(e)||(BV.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function rz(e){let i=!0;return setTimeout(()=>{i&&(i=!1,e())}),typeof cg.requestAnimationFrame=="function"&&cg.requestAnimationFrame(()=>{i&&(i=!1,e())}),()=>{i=!1}}function VV(e){let i=!0;return queueMicrotask(()=>{i&&e()}),()=>{i=!1}}function HV(...e){}var vi=class e{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new Zt(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!o&&n,r.shouldCoalesceRunChangeDetection=o,r.callbackScheduled=!1,yte(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Zt(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Zt(909,!1)}run(i,n,o){return this._inner.run(i,n,o)}runTask(i,n,o,r){let s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+r,i,wte,HV,HV);try{return s.runTask(l,n,o)}finally{s.cancelTask(l)}}runGuarded(i,n,o){return this._inner.runGuarded(i,n,o)}runOutsideAngular(i){return this._outer.run(i)}},wte={};function sk(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bte(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{rz(()=>{e.callbackScheduled=!1,XM(e),e.isCheckStableRunning=!0,sk(e),e.isCheckStableRunning=!1})}),XM(e))}function yte(e){let i=()=>{bte(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,r,s,l,c)=>{if(Ste(c))return n.invokeTask(r,s,l,c);try{return zV(e),n.invokeTask(r,s,l,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&i(),GV(e)}},onInvoke:(n,o,r,s,l,c,u)=>{try{return zV(e),n.invoke(r,s,l,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!_te(c)&&i(),GV(e)}},onHasTask:(n,o,r,s)=>{n.hasTask(r,s),o===r&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,XM(e),sk(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,o,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function XM(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zV(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function GV(e){e._nesting--,sk(e)}var JM=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(i,n,o){return i.apply(n,o)}runGuarded(i,n,o){return i.apply(n,o)}runOutsideAngular(i){return i()}runTask(i,n,o,r){return i.apply(n,o)}};function Ste(e){return sz(e,"__ignore_ng_zone__")}function _te(e){return sz(e,"__scheduler_tick__")}function sz(e,i){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[i]===!0}var az=(()=>{let i=class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of o)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};i.\u0275prov=St({token:i,providedIn:"root",factory:()=>new i});let e=i;return e})();function I_(e,i,n){let o=n?e.styles:null,r=n?e.classes:null,s=0;if(i!==null)for(let l=0;l<i.length;l++){let c=i[l];if(typeof c=="number")s=c;else if(s==1)r=bM(r,c);else if(s==2){let u=c,d=i[++l];o=bM(o,u+": "+d+";")}}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=r:e.classesWithoutHost=r}var M_=class extends Lm{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){let n=hg(i);return new _C(n,this.ngModule)}};function WV(e){let i=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let o=e[n];o!==void 0&&i.push({propName:Array.isArray(o)?o[0]:o,templateName:n})}return i}function xte(e){let i=e.toLowerCase();return i==="svg"?BX:i==="math"?VX:null}var _C=class extends E_{get inputs(){let i=this.componentDef,n=i.inputTransforms,o=WV(i.inputs);if(n!==null)for(let r of o)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return o}get outputs(){return WV(this.componentDef.outputs)}constructor(i,n){super(),this.componentDef=i,this.ngModule=n,this.componentType=i.type,this.selector=vX(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!n}create(i,n,o,r){let s=rn(null);try{r=r||this.ngModule;let l=r instanceof Kr?r:r?.injector;l&&this.componentDef.getStandaloneInjector!==null&&(l=this.componentDef.getStandaloneInjector(l)||l);let c=l?new FM(i,l):i,u=c.get(Om,null);if(u===null)throw new Zt(407,!1);let d=c.get(Cte,null),h=c.get(az,null),p=c.get(SC,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},f=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",M=o?Mee(f,o,this.componentDef.encapsulation,c):DH(f,y,xte(y)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let G=null;M!==null&&(G=jR(M,c,!0));let J=ek(0,null,null,1,0,null,null,null,null,null,null),$=Q_(null,J,null,k,null,null,g,f,c,null,G);OR($);let _e,Fe;try{let Pe=this.componentDef,$e,nt=null;Pe.findHostDirectiveDefs?($e=[],nt=new Map,Pe.findHostDirectiveDefs(Pe,$e,nt),$e.push(Pe)):$e=[Pe];let lt=Dte($,M),Lt=Ete(lt,M,Pe,$e,$,g,f);Fe=F7(J,Yr),M&&Rte(f,Pe,M,o),n!==void 0&&kte(Fe,this.ngContentSelectors,n),_e=Mte(Lt,Pe,$e,nt,$,[Ate]),nk(J,$,null)}finally{NR()}return new eR(this.componentType,_e,Vm(Fe,$),$,Fe)}finally{rn(s)}}},eR=class extends ZM{constructor(i,n,o,r,s){super(),this.location=o,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wg(r,void 0,!1),this.componentType=i}setInput(i,n){let o=this._tNode.inputs,r;if(o!==null&&(r=o[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),n))return;let s=this._rootLView;ik(s[yi],s,r,i,n),this.previousInputValues.set(i,n);let l=Xh(this._tNode.index,s);ok(l,1)}}get injector(){return new lg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}};function Dte(e,i){let n=e[yi],o=Yr;return e[o]=i,Gm(n,o,2,"#host",null)}function Ete(e,i,n,o,r,s,l){let c=r[yi];Ite(o,e,i,l);let u=null;i!==null&&(u=jR(i,r[Fm]));let d=s.rendererFactory.createRenderer(i,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Q_(r,HH(n),null,h,r[e.index],e,s,d,null,null,u);return c.firstCreatePass&&UM(c,e,o.length-1),X_(r,p),r[e.index]=p}function Ite(e,i,n,o){for(let r of e)i.mergedAttrs=vC(i.mergedAttrs,r.hostAttrs);i.mergedAttrs!==null&&(I_(i,i.mergedAttrs,!0),n!==null&&LH(o,n,i))}function Mte(e,i,n,o,r,s){let l=qo(),c=r[yi],u=Ns(l,r);GH(c,r,l,n,null,o);for(let h=0;h<n.length;h++){let p=l.directiveStart+h,g=Cg(r,c,p,l);Zh(g,r)}WH(c,r,l),u&&Zh(u,r);let d=Cg(r,c,l.directiveStart+l.componentOffset,l);if(e[ll]=r[ll]=d,s!==null)for(let h of s)h(d,i);return QR(c,l,r),d}function Rte(e,i,n,o){if(o)xM(e,n,["ng-version","18.0.6"]);else{let{attrs:r,classes:s}=CX(i.selectors[0]);r&&xM(e,n,r),s&&s.length>0&&PH(e,n,s.join(" "))}}function kte(e,i,n){let o=e.projection=[];for(let r=0;r<i.length;r++){let s=n[r];o.push(s!=null?Array.from(s):null)}}function Ate(){let e=qo();$_(ki()[yi],e)}var Vs=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=Fte;let e=i;return e})();function Fte(){let e=qo();return cz(e,ki())}var Tte=Vs,lz=class extends Tte{constructor(i,n,o){super(),this._lContainer=i,this._hostTNode=n,this._hostLView=o}get element(){return Vm(this._hostTNode,this._hostLView)}get injector(){return new lg(this._hostTNode,this._hostLView)}get parentInjector(){let i=VR(this._hostTNode,this._hostLView);if(Z7(i)){let n=b_(i,this._hostLView),o=w_(i),r=n[yi].data[o+8];return new lg(r,n)}else return new lg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){let n=jV(this._lContainer);return n!==null&&n[i]||null}get length(){return this._lContainer.length-ps}createEmbeddedView(i,n,o){let r,s;typeof o=="number"?r=o:o!=null&&(r=o.index,s=o.injector);let l=YM(this._lContainer,i.ssrId),c=i.createEmbeddedViewImpl(n||{},s,l);return this.insertImpl(c,r,qM(this._hostTNode,l)),c}createComponent(i,n,o,r,s){let l=i&&!PX(i),c;if(l)c=n;else{let y=n||{};c=y.index,o=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let u=l?i:new _C(hg(i)),d=o||this.parentInjector;if(!s&&u.ngModule==null){let M=(l?d:this.parentInjector).get(Kr,null);M&&(s=M)}let h=hg(u.componentType??{}),p=YM(this._lContainer,h?.id??null),g=p?.firstChild??null,f=u.create(d,r,g,s);return this.insertImpl(f.hostView,c,qM(this._hostTNode,p)),f}insert(i,n){return this.insertImpl(i,n,!0)}insertImpl(i,n,o){let r=i._lView;if(zX(r)){let c=this.indexOf(i);if(c!==-1)this.detach(c);else{let u=r[dr],d=new lz(u,u[Zr],u[dr]);d.detach(d.indexOf(i))}}let s=this._adjustIndex(n),l=this._lContainer;return QH(l,r,s,o),i.attachToViewContainerRef(),l7(gM(l),s,i),i}move(i,n){return this.insert(i,n)}indexOf(i){let n=jV(this._lContainer);return n!==null?n.indexOf(i):-1}remove(i){let n=this._adjustIndex(i,-1),o=WM(this._lContainer,n);o&&(g_(gM(this._lContainer),n),MH(o[yi],o))}detach(i){let n=this._adjustIndex(i,-1),o=WM(this._lContainer,n);return o&&g_(gM(this._lContainer),n)!=null?new wg(o):null}_adjustIndex(i,n=0){return i??this.length+n}};function jV(e){return e[v_]}function gM(e){return e[v_]||(e[v_]=[])}function cz(e,i){let n,o=i[e.index];return qu(o)?n=o:(n=jH(o,i,null,e),i[e.index]=n,X_(i,n)),Lte(n,i,e,o),new lz(n,e,i)}function Pte(e,i){let n=e[io],o=n.createComment(""),r=Ns(i,e),s=YR(n,r);return x_(n,s,o,vee(n,r),!1),o}var Lte=Bte,Ote=()=>!1;function Nte(e,i,n){return Ote(e,i,n)}function Bte(e,i,n,o){if(e[gg])return;let r;n.type&8?r=jl(o):r=Pte(i,n),e[gg]=r}var tR=class e{constructor(i){this.queryList=i,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},iR=class e{constructor(i=[]){this.queries=i}createEmbeddedView(i){let n=i.queries;if(n!==null){let o=i.contentQueries!==null?i.contentQueries[0]:n.length,r=[];for(let s=0;s<o;s++){let l=n.getByIndex(s),c=this.queries[l.indexInDeclarationView];r.push(c.clone())}return new e(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let n=0;n<this.queries.length;n++)ak(i,n).matches!==null&&this.queries[n].setDirty()}},R_=class{constructor(i,n,o=null){this.flags=n,this.read=o,typeof i=="string"?this.predicate=$te(i):this.predicate=i}},nR=class e{constructor(i=[]){this.queries=i}elementStart(i,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(i,n)}elementEnd(i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(i)}embeddedTView(i){let n=null;for(let o=0;o<this.length;o++){let r=n!==null?n.length:0,s=this.getByIndex(o).embeddedTView(i,r);s&&(s.indexInDeclarationView=o,n!==null?n.push(s):n=[s])}return n!==null?new e(n):null}template(i,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(i,n)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}},oR=class e{constructor(i,n=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(i,n){this.isApplyingToNode(n)&&this.matchTNode(i,n)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,n){this.elementStart(i,n)}embeddedTView(i,n){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,n),new e(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=i.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(i,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){let s=o[r];this.matchTNodeWithReadOption(i,n,Vte(n,s)),this.matchTNodeWithReadOption(i,n,c_(n,i,s,!1,!1))}else o===Gu?n.type&4&&this.matchTNodeWithReadOption(i,n,-1):this.matchTNodeWithReadOption(i,n,c_(n,i,o,!1,!1))}matchTNodeWithReadOption(i,n,o){if(o!==null){let r=this.metadata.read;if(r!==null)if(r===Tn||r===Vs||r===Gu&&n.type&4)this.addMatch(n.index,-2);else{let s=c_(n,i,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,o)}}addMatch(i,n){this.matches===null?this.matches=[i,n]:this.matches.push(i,n)}};function Vte(e,i){let n=e.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===i)return n[o+1]}return null}function Hte(e,i){return e.type&11?Vm(e,i):e.type&4?J_(e,i):null}function zte(e,i,n,o){return n===-1?Hte(i,e):n===-2?Gte(e,i,o):Cg(e,e[yi],n,i)}function Gte(e,i,n){if(n===Tn)return Vm(i,e);if(n===Gu)return J_(i,e);if(n===Vs)return cz(i,e)}function uz(e,i,n,o){let r=i[Vu].queries[o];if(r.matches===null){let s=e.data,l=n.matches,c=[];for(let u=0;l!==null&&u<l.length;u+=2){let d=l[u];if(d<0)c.push(null);else{let h=s[d];c.push(zte(i,h,l[u+1],n.metadata.read))}}r.matches=c}return r.matches}function rR(e,i,n,o){let r=e.queries.getByIndex(n),s=r.matches;if(s!==null){let l=uz(e,i,r,n);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)o.push(l[c/2]);else{let d=s[c+1],h=i[-u];for(let p=ps;p<h.length;p++){let g=h[p];g[pg]===g[dr]&&rR(g[yi],g,d,o)}if(h[Tm]!==null){let p=h[Tm];for(let g=0;g<p.length;g++){let f=p[g];rR(f[yi],f,d,o)}}}}}return o}function Wte(e,i){return e[Vu].queries[i].queryList}function dz(e,i,n){let o=new BM((n&4)===4);return Aee(e,i,o,o.destroy),(i[Vu]??=new iR).queries.push(new tR(o))-1}function jte(e,i,n){let o=mo();return o.firstCreatePass&&(hz(o,new R_(e,i,n),-1),(i&2)===2&&(o.staticViewQueries=!0)),dz(o,ki(),i)}function Ute(e,i,n,o){let r=mo();if(r.firstCreatePass){let s=qo();hz(r,new R_(i,n,o),s.index),qte(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return dz(r,ki(),n)}function $te(e){return e.split(",").map(i=>i.trim())}function hz(e,i,n){e.queries===null&&(e.queries=new nR),e.queries.track(new oR(i,n))}function qte(e,i){let n=e.contentQueries||(e.contentQueries=[]),o=n.length?n[n.length-1]:-1;i!==o&&n.push(e.queries.length-1,i)}function ak(e,i){return e.queries.getByIndex(i)}function Kte(e,i){let n=e[yi],o=ak(n,i);return o.crossesNgTemplate?rR(n,e,i,[]):uz(n,e,o,i)}function Yte(e){return typeof e=="function"&&e[FI]!==void 0}function pz(e){return Yte(e)&&typeof e.set=="function"}function Zte(e){return Object.getPrototypeOf(e.prototype).constructor}function ql(e){let i=Zte(e.type),n=!0,o=[e];for(;i;){let r;if(Yh(e))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Zt(903,!1);r=i.\u0275dir}if(r){if(n){o.push(r);let l=e;l.inputs=o_(e.inputs),l.inputTransforms=o_(e.inputTransforms),l.declaredInputs=o_(e.declaredInputs),l.outputs=o_(e.outputs);let c=r.hostBindings;c&&tie(e,c);let u=r.viewQuery,d=r.contentQueries;if(u&&Jte(e,u),d&&eie(e,d),Qte(e,r),OQ(e.outputs,r.outputs),Yh(r)&&r.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let l=0;l<s.length;l++){let c=s[l];c&&c.ngInherit&&c(e),c===ql&&(n=!1)}}i=Object.getPrototypeOf(i)}Xte(o)}function Qte(e,i){for(let n in i.inputs){if(!i.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let o=i.inputs[n];if(o!==void 0&&(e.inputs[n]=o,e.declaredInputs[n]=i.declaredInputs[n],i.inputTransforms!==null)){let r=Array.isArray(o)?o[0]:o;if(!i.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=i.inputTransforms[r]}}}function Xte(e){let i=0,n=null;for(let o=e.length-1;o>=0;o--){let r=e[o];r.hostVars=i+=r.hostVars,r.hostAttrs=vC(r.hostAttrs,n=vC(n,r.hostAttrs))}}function o_(e){return e===Mm?{}:e===qr?[]:e}function Jte(e,i){let n=e.viewQuery;n?e.viewQuery=(o,r)=>{i(o,r),n(o,r)}:e.viewQuery=i}function eie(e,i){let n=e.contentQueries;n?e.contentQueries=(o,r,s)=>{i(o,r,s),n(o,r,s)}:e.contentQueries=i}function tie(e,i){let n=e.hostBindings;n?e.hostBindings=(o,r)=>{i(o,r),n(o,r)}:e.hostBindings=i}function lk(e){let i=e.inputConfig,n={};for(let o in i)if(i.hasOwnProperty(o)){let r=i[o];Array.isArray(r)&&r[3]&&(n[o]=r[3])}e.inputTransforms=n}var Qh=class{},xC=class{};var sR=class extends Qh{constructor(i,n,o){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new M_(this);let r=C7(i);this._bootstrapComponents=xH(r.bootstrap),this._r3Injector=rH(i,n,[{provide:Qh,useValue:this},{provide:Lm,useValue:this.componentFactoryResolver},...o],_r(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){let i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}},aR=class extends xC{constructor(i){super(),this.moduleType=i}create(i){return new sR(this.moduleType,i,[])}};var k_=class extends Qh{constructor(i){super(),this.componentFactoryResolver=new M_(this),this.instance=null;let n=new CC([...i.providers,{provide:Qh,useValue:this},{provide:Lm,useValue:this.componentFactoryResolver}],i.parent||MR(),i.debugName,new Set(["environment"]));this.injector=n,i.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}};function ck(e,i,n=null){return new k_({providers:e,parent:i,debugName:n,runEnvironmentInitializers:!0}).injector}function gz(e){return uk(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function iie(e,i){if(Array.isArray(e))for(let n=0;n<e.length;n++)i(e[n]);else{let n=e[Symbol.iterator](),o;for(;!(o=n.next()).done;)i(o.value)}}function uk(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function fz(e,i,n){return e[i]=n}function nie(e,i){return e[i]}function Wu(e,i,n){let o=e[i];return Object.is(o,n)?!1:(e[i]=n,!0)}function oie(e,i,n,o){let r=Wu(e,i,n);return Wu(e,i+1,o)||r}function rie(e){return(e.flags&32)===32}function sie(e,i,n,o,r,s,l,c,u){let d=i.consts,h=Gm(i,e,4,l||null,c||null);tk(i,n,h,Pm(d,u)),$_(i,h);let p=h.tView=ek(2,h,o,r,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,d,null);return i.queries!==null&&(i.queries.template(i,h),p.queries=i.queries.embeddedTView(h)),h}function mz(e,i,n,o,r,s,l,c,u,d){let h=n+Yr,p=i.firstCreatePass?sie(h,i,e,o,r,s,l,c,u):i.data[h];yg(p,!1);let g=aie(i,e,p,n);j_()&&Y_(i,e,g,p),Zh(g,e);let f=jH(g,e,g,p);return e[h]=f,X_(e,f),Nte(f,p,e),z_(p)&&XR(i,e,p),u!=null&&JR(e,p,d),p}function ai(e,i,n,o,r,s,l,c){let u=ki(),d=mo(),h=Pm(d.consts,s);return mz(u,d,e,i,n,o,r,h,l,c),ai}var aie=lie;function lie(e,i,n,o){return U_(!0),i[io].createComment("")}function tx(e,i,n,o){let r=ki(),s=W_();if(Wu(r,s,i)){let l=mo(),c=BR();$ee(c,r,e,i,n,o)}return tx}function cie(e,i,n,o){return Wu(e,W_(),n)?i+ug(n)+o:Bs}function uie(e,i,n,o,r,s){let l=QX(),c=oie(e,l,n,r);return PR(2),c?i+ug(n)+o+ug(r)+s:Bs}function r_(e,i){return e<<17|i<<2}function bg(e){return e>>17&32767}function die(e){return(e&2)==2}function hie(e,i){return e&131071|i<<17}function lR(e){return e|2}function Nm(e){return(e&131068)>>2}function fM(e,i){return e&-131069|i<<2}function pie(e){return(e&1)===1}function cR(e){return e|1}function gie(e,i,n,o,r,s){let l=s?i.classBindings:i.styleBindings,c=bg(l),u=Nm(l);e[o]=n;let d=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||IC(p,h)>0)&&(d=!0)}else h=n;if(r)if(u!==0){let g=bg(e[c+1]);e[o+1]=r_(g,c),g!==0&&(e[g+1]=fM(e[g+1],o)),e[c+1]=hie(e[c+1],o)}else e[o+1]=r_(c,0),c!==0&&(e[c+1]=fM(e[c+1],o)),c=o;else e[o+1]=r_(u,0),c===0?c=o:e[u+1]=fM(e[u+1],o),u=o;d&&(e[o+1]=lR(e[o+1])),UV(e,h,o,!0),UV(e,h,o,!1),fie(i,h,e,o,s),l=r_(c,u),s?i.classBindings=l:i.styleBindings=l}function fie(e,i,n,o,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof i=="string"&&IC(s,i)>=0&&(n[o+1]=cR(n[o+1]))}function UV(e,i,n,o){let r=e[n+1],s=i===null,l=o?bg(r):Nm(r),c=!1;for(;l!==0&&(c===!1||s);){let u=e[l],d=e[l+1];mie(u,i)&&(c=!0,e[l+1]=o?cR(d):lR(d)),l=o?bg(d):Nm(d)}c&&(e[n+1]=o?lR(r):cR(r))}function mie(e,i){return e===null||i==null||(Array.isArray(e)?e[1]:e)===i?!0:Array.isArray(e)&&typeof i=="string"?IC(e,i)>=0:!1}var sl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vie(e){return e.substring(sl.key,sl.keyEnd)}function Cie(e){return wie(e),vz(e,Cz(e,0,sl.textEnd))}function vz(e,i){let n=sl.textEnd;return n===i?-1:(i=sl.keyEnd=bie(e,sl.key=i,n),Cz(e,i,n))}function wie(e){sl.key=0,sl.keyEnd=0,sl.value=0,sl.valueEnd=0,sl.textEnd=e.length}function Cz(e,i,n){for(;i<n&&e.charCodeAt(i)<=32;)i++;return i}function bie(e,i,n){for(;i<n&&e.charCodeAt(i)>32;)i++;return i}function ct(e,i,n){let o=ki(),r=W_();if(Wu(o,r,i)){let s=mo(),l=BR();zH(s,l,o,e,i,o[io],n,!1)}return ct}function uR(e,i,n,o,r){let s=i.inputs,l=r?"class":"style";ik(e,n,s[l],l,o)}function Wm(e,i,n){return wz(e,i,n,!1),Wm}function _g(e,i){return wz(e,i,null,!0),_g}function ix(e){Sie(Mie,yie,e,!0)}function yie(e,i){for(let n=Cie(i);n>=0;n=vz(i,n))xR(e,vie(i),!0)}function wz(e,i,n,o){let r=ki(),s=mo(),l=PR(2);if(s.firstUpdatePass&&yz(s,e,l,o),i!==Bs&&Wu(r,l,i)){let c=s.data[Jh()];Sz(s,c,r,r[io],e,r[l+1]=kie(i,n),o,l)}}function Sie(e,i,n,o){let r=mo(),s=PR(2);r.firstUpdatePass&&yz(r,null,s,o);let l=ki();if(n!==Bs&&Wu(l,s,n)){let c=r.data[Jh()];if(_z(c,o)&&!bz(r,s)){let u=o?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=bM(u,n||"")),uR(r,c,l,n,o)}else Rie(r,c,l,l[io],l[s+1],l[s+1]=Iie(e,i,n),o,s)}}function bz(e,i){return i>=e.expandoStartIndex}function yz(e,i,n,o){let r=e.data;if(r[n+1]===null){let s=r[Jh()],l=bz(e,n);_z(s,o)&&i===null&&!l&&(i=!1),i=_ie(r,s,i,o),gie(r,s,i,n,l,o)}}function _ie(e,i,n,o){let r=iJ(e),s=o?i.residualClasses:i.residualStyles;if(r===null)(o?i.classBindings:i.styleBindings)===0&&(n=mM(null,e,i,n,o),n=DC(n,i.attrs,o),s=null);else{let l=i.directiveStylingLast;if(l===-1||e[l]!==r)if(n=mM(r,e,i,n,o),s===null){let u=xie(e,i,o);u!==void 0&&Array.isArray(u)&&(u=mM(null,e,i,u[1],o),u=DC(u,i.attrs,o),Die(e,i,o,u))}else s=Eie(e,i,o)}return s!==void 0&&(o?i.residualClasses=s:i.residualStyles=s),n}function xie(e,i,n){let o=n?i.classBindings:i.styleBindings;if(Nm(o)!==0)return e[bg(o)]}function Die(e,i,n,o){let r=n?i.classBindings:i.styleBindings;e[bg(r)]=o}function Eie(e,i,n){let o,r=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<r;s++){let l=e[s].hostAttrs;o=DC(o,l,n)}return DC(o,i.attrs,n)}function mM(e,i,n,o,r){let s=null,l=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<l&&(s=i[c],o=DC(o,s.hostAttrs,r),s!==e);)c++;return e!==null&&(n.directiveStylingLast=c),o}function DC(e,i,n){let o=n?1:2,r=-1;if(i!==null)for(let s=0;s<i.length;s++){let l=i[s];typeof l=="number"?r=l:r===o&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),xR(e,l,n?!0:i[++s]))}return e===void 0?null:e}function Iie(e,i,n){if(n==null||n==="")return qr;let o=[],r=Sg(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(o,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(o,s,r[s]);else typeof r=="string"&&i(o,r);return o}function Mie(e,i,n){let o=String(i);o!==""&&!o.includes(" ")&&xR(e,o,n)}function Rie(e,i,n,o,r,s,l,c){r===Bs&&(r=qr);let u=0,d=0,h=0<r.length?r[0]:null,p=0<s.length?s[0]:null;for(;h!==null||p!==null;){let g=u<r.length?r[u+1]:void 0,f=d<s.length?s[d+1]:void 0,y=null,M;h===p?(u+=2,d+=2,g!==f&&(y=p,M=f)):p===null||h!==null&&h<p?(u+=2,y=h):(d+=2,y=p,M=f),y!==null&&Sz(e,i,n,o,y,M,l,c),h=u<r.length?r[u]:null,p=d<s.length?s[d]:null}}function Sz(e,i,n,o,r,s,l,c){if(!(i.type&3))return;let u=e.data,d=u[c+1],h=pie(d)?$V(u,i,n,r,Nm(d),l):void 0;if(!A_(h)){A_(s)||die(d)&&(s=$V(u,null,n,r,c,l));let p=A7(Jh(),n);_ee(o,l,p,r,s)}}function $V(e,i,n,o,r,s){let l=i===null,c;for(;r>0;){let u=e[r],d=Array.isArray(u),h=d?u[1]:u,p=h===null,g=n[r+1];g===Bs&&(g=p?qr:void 0);let f=p?sM(g,o):h===o?g:void 0;if(d&&!A_(f)&&(f=sM(u,o)),A_(f)&&(c=f,l))return c;let y=e[r+1];r=l?bg(y):Nm(y)}if(i!==null){let u=s?i.residualClasses:i.residualStyles;u!=null&&(c=sM(u,o))}return c}function A_(e){return e!==void 0}function kie(e,i){return e==null||e===""||(typeof i=="string"?e=e+i:typeof e=="object"&&(e=_r(Sg(e)))),e}function _z(e,i){return(e.flags&(i?8:16))!==0}function Aie(e,i,n,o,r,s){let l=i.consts,c=Pm(l,r),u=Gm(i,e,2,o,c);return tk(i,n,u,Pm(l,s)),u.attrs!==null&&I_(u,u.attrs,!1),u.mergedAttrs!==null&&I_(u,u.mergedAttrs,!0),i.queries!==null&&i.queries.elementStart(i,u),u}function He(e,i,n,o){let r=ki(),s=mo(),l=Yr+e,c=r[io],u=s.firstCreatePass?Aie(l,s,r,i,n,o):s.data[l],d=Fie(s,r,u,c,i,e);r[l]=d;let h=z_(u);return yg(u,!0),LH(c,d,u),!rie(u)&&j_()&&Y_(s,r,d,u),jX()===0&&Zh(d,r),UX(),h&&(XR(s,r,u),QR(s,u,r)),o!==null&&JR(r,u),He}function Ne(){let e=qo();AR()?FR():(e=e.parent,yg(e,!1));let i=e;qX(i)&&KX(),$X();let n=mo();return n.firstCreatePass&&($_(n,e),RR(e)&&n.queries.elementEnd(e)),i.classesWithoutHost!=null&&cJ(i)&&uR(n,i,ki(),i.classesWithoutHost,!0),i.stylesWithoutHost!=null&&uJ(i)&&uR(n,i,ki(),i.stylesWithoutHost,!1),Ne}function Pt(e,i,n,o){return He(e,i,n,o),Ne(),Pt}var Fie=(e,i,n,o,r,s)=>(U_(!0),DH(o,r,rJ()));function Tie(e,i,n,o,r){let s=i.consts,l=Pm(s,o),c=Gm(i,e,8,"ng-container",l);l!==null&&I_(c,l,!0);let u=Pm(s,r);return tk(i,n,c,u),i.queries!==null&&i.queries.elementStart(i,c),c}function Hs(e,i,n){let o=ki(),r=mo(),s=e+Yr,l=r.firstCreatePass?Tie(s,r,o,i,n):r.data[s];yg(l,!0);let c=Pie(r,o,l,e);return o[s]=c,j_()&&Y_(r,o,c,l),Zh(c,o),z_(l)&&(XR(r,o,l),QR(r,l,o)),n!=null&&JR(o,l),Hs}function zs(){let e=qo(),i=mo();return AR()?FR():(e=e.parent,yg(e,!1)),i.firstCreatePass&&($_(i,e),RR(e)&&i.queries.elementEnd(e)),zs}var Pie=(e,i,n,o)=>(U_(!0),lee(i[io],""));function mn(){return ki()}var F_="en-US";var Lie=F_;function Oie(e){typeof e=="string"&&(Lie=e.toLowerCase().replace(/_/g,"-"))}var Nie=(e,i,n)=>{};function _t(e,i,n,o){let r=ki(),s=mo(),l=qo();return xz(s,r,r[io],l,e,i,o),_t}function Bie(e,i,n,o){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let l=r[s];if(l===n&&r[s+1]===o){let c=i[m_],u=r[s+2];return c.length>u?c[u]:null}typeof l=="string"&&(s+=2)}return null}function xz(e,i,n,o,r,s,l){let c=z_(o),d=e.firstCreatePass&&qH(e),h=i[ll],p=$H(i),g=!0;if(o.type&3||l){let M=Ns(o,i),k=l?l(M):M,G=p.length,J=l?_e=>l(jl(_e[o.index])):o.index,$=null;if(!l&&c&&($=Bie(e,i,r,o.index)),$!==null){let _e=$.__ngLastListenerFn__||$;_e.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,g=!1}else{s=KV(o,i,h,s),Nie(M,r,s);let _e=n.listen(k,r,s);p.push(s,_e),d&&d.push(r,J,G,G+1)}}else s=KV(o,i,h,s);let f=o.outputs,y;if(g&&f!==null&&(y=f[r])){let M=y.length;if(M)for(let k=0;k<M;k+=2){let G=y[k],J=y[k+1],Fe=i[G][J].subscribe(s),Pe=p.length;p.push(s,Fe),d&&d.push(r,o.index,Pe,-(Pe+1))}}}function qV(e,i,n,o){let r=rn(null);try{return Hl(6,i,n),n(o)!==!1}catch(s){return KH(e,s),!1}finally{Hl(7,i,n),rn(r)}}function KV(e,i,n,o){return function r(s){if(s===Function)return o;let l=e.componentOffset>-1?Xh(e.index,i):i;ok(l,5);let c=qV(i,n,o,s),u=r.__ngNextListenerFn__;for(;u;)c=qV(i,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Dt(e=1){return oJ(e)}function Vie(e,i){let n=null,o=hX(e);for(let r=0;r<i.length;r++){let s=i[r];if(s==="*"){n=r;continue}if(o===null?g7(e,s,!0):fX(o,s))return r}return n}function dk(e){let i=ki()[Os][Zr];if(!i.projection){let n=e?e.length:1,o=i.projection=nX(n,null),r=o.slice(),s=i.child;for(;s!==null;){if(s.type!==128){let l=e?Vie(s,e):0;l!==null&&(r[l]?r[l].projectionNext=s:o[l]=s,r[l]=s)}s=s.next}}}function hk(e,i=0,n,o,r,s){let l=ki(),c=mo(),u=o?e+1:null;u!==null&&mz(l,c,u,o,r,s,null,n);let d=Gm(c,Yr+e,16,null,n||null);d.projection===null&&(d.projection=i),FR();let p=!l[wC]||V7();l[Os][Zr].projection[d.projection]===null&&u!==null?Hie(l,c,u):p&&(d.flags&32)!==32&&yee(c,l,d)}function Hie(e,i,n){let o=Yr+n,r=i.data[o],s=e[o],l=YM(s,r.tView.ssrId),c=ZH(e,r,void 0,{dehydratedView:l});QH(s,c,0,qM(r,l))}function jm(e,i,n,o){Ute(e,i,n,o)}function Kl(e,i,n){jte(e,i,n)}function xr(e){let i=ki(),n=mo(),o=G7();LR(o+1);let r=ak(n,o);if(e.dirty&&HX(i)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=Kte(i,o);e.reset(s,xJ),e.notifyOnChanges()}return!0}return!1}function Dr(){return Wte(ki(),G7())}function zie(e,i,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),i[n]=o}function Dz(e){let i=ZX();return T7(i,Yr+e)}function Ze(e,i=""){let n=ki(),o=mo(),r=e+Yr,s=o.firstCreatePass?Gm(o,r,1,i,null):o.data[r],l=Gie(o,n,s,i,e);n[r]=l,j_()&&Y_(o,n,l,s),yg(s,!1)}var Gie=(e,i,n,o,r)=>(U_(!0),see(i[io],o));function Pn(e){return no("",e,""),Pn}function no(e,i,n){let o=ki(),r=cie(o,e,i,n);return r!==Bs&&YH(o,Jh(),r),no}function pk(e,i,n,o,r){let s=ki(),l=uie(s,e,i,n,o,r);return l!==Bs&&YH(s,Jh(),l),pk}function oo(e,i,n){pz(i)&&(i=i());let o=ki(),r=W_();if(Wu(o,r,i)){let s=mo(),l=BR();zH(s,l,o,e,i,o[io],n,!1)}return oo}function ro(e,i){let n=pz(e);return n&&e.set(i),n}function so(e,i){let n=ki(),o=mo(),r=qo();return xz(o,n,n[io],r,e,i),so}function Wie(e,i,n){let o=mo();if(o.firstCreatePass){let r=Yh(e);dR(n,o.data,o.blueprint,r,!0),dR(i,o.data,o.blueprint,r,!1)}}function dR(e,i,n,o,r){if(e=Sr(e),Array.isArray(e))for(let s=0;s<e.length;s++)dR(e[s],i,n,o,r);else{let s=mo(),l=ki(),c=qo(),u=Am(e)?e:Sr(e.provide),d=x7(e),h=c.providerIndexes&1048575,p=c.directiveStart,g=c.providerIndexes>>20;if(Am(e)||!e.multi){let f=new vg(d,r,at),y=CM(u,i,r?h:h+g,p);y===-1?(PM(S_(c,l),s,u),vM(s,e,i.length),i.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(f),l.push(f)):(n[y]=f,l[y]=f)}else{let f=CM(u,i,h+g,p),y=CM(u,i,h,h+g),M=f>=0&&n[f],k=y>=0&&n[y];if(r&&!k||!r&&!M){PM(S_(c,l),s,u);let G=$ie(r?Uie:jie,n.length,r,o,d);!r&&k&&(n[y].providerFactory=G),vM(s,e,i.length,0),i.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(G),l.push(G)}else{let G=Ez(n[r?y:f],d,!r&&o);vM(s,e,f>-1?f:y,G)}!r&&o&&k&&n[y].componentProviders++}}}function vM(e,i,n,o){let r=Am(i),s=EX(i);if(r||s){let u=(s?Sr(i.useClass):i).prototype.ngOnDestroy;if(u){let d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&i.multi){let h=d.indexOf(n);h===-1?d.push(n,[o,u]):d[h+1].push(o,u)}else d.push(n,u)}}}function Ez(e,i,n){return n&&e.componentProviders++,e.multi.push(i)-1}function CM(e,i,n,o){for(let r=n;r<o;r++)if(i[r]===e)return r;return-1}function jie(e,i,n,o){return hR(this.multi,[])}function Uie(e,i,n,o){let r=this.multi,s;if(this.providerFactory){let l=this.providerFactory.componentProviders,c=Cg(n,n[yi],this.providerFactory.index,o);s=c.slice(0,l),hR(r,s);for(let u=l;u<c.length;u++)s.push(c[u])}else s=[],hR(r,s);return s}function hR(e,i){for(let n=0;n<e.length;n++){let o=e[n];i.push(o())}return i}function $ie(e,i,n,o,r){let s=new vg(e,n,at);return s.multi=[],s.index=i,s.componentProviders=0,Ez(s,r,o&&!n),s}function Qr(e,i=[]){return n=>{n.providersResolver=(o,r)=>Wie(o,r?r(e):e,i)}}var qie=(()=>{let i=class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){let r=y7(!1,o.type),s=r.length>0?ck([r],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,s)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(let o of this.cachedInjectors.values())o!==null&&o.destroy()}finally{this.cachedInjectors.clear()}}};i.\u0275prov=St({token:i,providedIn:"environment",factory:()=>new i(Et(Kr))});let e=i;return e})();function Gi(e){ex("NgStandalone"),e.getStandaloneInjector=i=>i.get(qie).getOrCreateStandaloneInjector(e)}function No(e,i,n){let o=TR()+e,r=ki();return r[o]===Bs?fz(r,o,n?i.call(n):i()):nie(r,o)}function Iz(e,i,n,o){return Mz(ki(),TR(),e,i,n,o)}function Kie(e,i){let n=e[i];return n===Bs?void 0:n}function Mz(e,i,n,o,r,s){let l=i+n;return Wu(e,l,r)?fz(e,l+1,s?o.call(s,r):o(r)):Kie(e,l+1)}function Yu(e,i){let n=mo(),o,r=e+Yr;n.firstCreatePass?(o=Yie(i,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks??=[]).push(r,o.onDestroy)):o=n.data[r];let s=o.factory||(o.factory=dg(o.type,!0)),l,c=$r(at);try{let u=y_(!1),d=s();return y_(u),zie(n,ki(),r,d),d}finally{$r(c)}}function Yie(e,i){if(i)for(let n=i.length-1;n>=0;n--){let o=i[n];if(e===o.name)return o}}function Zu(e,i,n){let o=e+Yr,r=ki(),s=T7(r,o);return Zie(r,o)?Mz(r,TR(),i,s.transform,n,s):s.transform(n)}function Zie(e,i){return e[yi].data[i].pure}function Rz(e,i){return J_(e,i)}var nx=(()=>{let i=class i{log(o){console.log(o)}warn(o){console.warn(o)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"platform"});let e=i;return e})();var kz=new Nt("");function xg(e){return!!e&&typeof e.then=="function"}function Az(e){return!!e&&typeof e.subscribe=="function"}var ox=new Nt(""),Fz=(()=>{let i=class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,r)=>{this.resolve=o,this.reject=r}),this.appInits=wt(ox,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let o=[];for(let s of this.appInits){let l=s();if(xg(l))o.push(l);else if(Az(l)){let c=new Promise((u,d)=>{l.subscribe({complete:u,error:d})});o.push(c)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{r()}).catch(s=>{this.reject(s)}),o.length===0&&r(),this.initialized=!0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),rx=new Nt("");function Qie(){PB(()=>{throw new Zt(600,!1)})}function Xie(e){return e.isBoundToModule}var Jie=10;function ene(e,i,n){try{let o=n();return xg(o)?o.catch(r=>{throw i.runOutsideAngular(()=>e.handleError(r)),r}):o}catch(o){throw i.runOutsideAngular(()=>e.handleError(o)),o}}var Yl=(()=>{let i=class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(sH),this.afterRenderEffectManager=wt(az),this.zonelessEnabled=wt(rk),this.externalTestViews=new Set,this.beforeRender=new $i,this.afterTick=new $i,this.componentTypes=[],this.components=[],this.isStable=wt(ep).hasPendingTasks.pipe(kt(o=>!o)),this._injector=wt(Kr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,r){let s=o instanceof E_;if(!this._injector.get(Fz).done){let f=!s&&v7(o),y=!1;throw new Zt(405,y)}let c;s?c=o:c=this._injector.get(Lm).resolveComponentFactory(o),this.componentTypes.push(c.componentType);let u=Xie(c)?void 0:this._injector.get(Qh),d=r||c.selector,h=c.create(Ul.NULL,[],d,u),p=h.location.nativeElement,g=h.injector.get(kz,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),wM(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new Zt(101,!1);let r=rn(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,rn(r),this.afterTick.next()}}detectChangesInAttachedViews(o){let r=null;this._injector.destroyed||(r=this._injector.get(Om,null,{optional:!0}));let s=0,l=this.afterRenderEffectManager;for(;s<Jie;){let c=s===0;if(o||!c){this.beforeRender.next(c);for(let{_lView:u,notifyErrorHandler:d}of this._views)tne(u,d,c,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(s++,l.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>yC(u))&&(l.execute(),!this.allViews.some(({_lView:u})=>yC(u))))break}}attachView(o){let r=o;this._views.push(r),r.attachToAppRef(this)}detachView(o){let r=o;wM(this._views,r),r.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);let r=this._injector.get(rx,[]);[...this._bootstrapListeners,...r].forEach(s=>s(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>wM(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Zt(406,!1);let o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function wM(e,i){let n=e.indexOf(i);n>-1&&e.splice(n,1)}function tne(e,i,n,o){if(!n&&!yC(e))return;ez(e,i,n&&!o?0:1)}var pR=class{constructor(i,n){this.ngModuleFactory=i,this.componentFactories=n}},gk=(()=>{let i=class i{compileModuleSync(o){return new aR(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){let r=this.compileModuleSync(o),s=C7(o),l=xH(s.declarations).reduce((c,u)=>{let d=hg(u);return d&&c.push(new _C(d)),c},[]);return new pR(r,l)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var ine=(()=>{let i=class i{constructor(){this.zone=wt(vi),this.changeDetectionScheduler=wt(SC),this.applicationRef=wt(Yl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),nne=new Nt("",{factory:()=>!1});function Tz({ngZoneFactory:e,ignoreChangesOutsideZone:i}){return e??=()=>new vi(Lz()),[{provide:vi,useFactory:e},{provide:Rm,multi:!0,useFactory:()=>{let n=wt(ine,{optional:!0});return()=>n.initialize()}},{provide:Rm,multi:!0,useFactory:()=>{let n=wt(rne);return()=>{n.initialize()}}},{provide:sH,useFactory:one},i===!0?{provide:oz,useValue:!0}:[]]}function one(){let e=wt(vi),i=wt(Hu);return n=>e.runOutsideAngular(()=>i.handleError(n))}function Pz(e){let i=e?.ignoreChangesOutsideZone,n=Tz({ngZoneFactory:()=>{let o=Lz(e);return o.shouldCoalesceEventChangeDetection&&ex("NgZone_CoalesceEvent"),new vi(o)},ignoreChangesOutsideZone:i});return Uu([{provide:nne,useValue:!0},{provide:rk,useValue:!1},n])}function Lz(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var rne=(()=>{let i=class i{constructor(){this.subscription=new Hn,this.initialized=!1,this.zone=wt(vi),this.pendingTasks=wt(ep)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vi.assertNotInAngularZone(),queueMicrotask(()=>{o!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{vi.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var sne=(()=>{let i=class i{constructor(){this.appRef=wt(Yl),this.taskService=wt(ep),this.ngZone=wt(vi),this.zonelessEnabled=wt(rk),this.disableScheduling=wt(oz,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Hn,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof JM||!this.zoneIsDefined)}notify(o){if(!this.zonelessEnabled&&o===5)return;switch(o){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?VV:rz;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&vi.isInAngularZone())}tick(o){if(this.runningTick||this.appRef.destroyed)return;let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(o)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,VV(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let o=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(o)}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function ane(){return typeof $localize<"u"&&$localize.locale||F_}var fk=new Nt("",{providedIn:"root",factory:()=>wt(fk,Di.Optional|Di.SkipSelf)||ane()});var Oz=new Nt("");var d_=null;function lne(e=[],i){return Ul.create({name:i,providers:[{provide:B_,useValue:"platform"},{provide:Oz,useValue:new Set([()=>d_=null])},...e]})}function cne(e=[]){if(d_)return d_;let i=lne(e);return d_=i,Qie(),une(i),i}function une(e){e.get(GR,null)?.forEach(n=>n())}function Nz(){return!1}var Dg=(()=>{let i=class i{};i.__NG_ELEMENT_ID__=dne;let e=i;return e})();function dne(e){return hne(qo(),ki(),(e&16)===16)}function hne(e,i,n){if(H_(e)&&!n){let o=Xh(e.index,i);return new wg(o,o)}else if(e.type&175){let o=i[Os];return new wg(o,i)}return null}var gR=class{constructor(){}supports(i){return gz(i)}create(i){return new fR(i)}},pne=(e,i)=>i,fR=class{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||pne}forEachItem(i){let n;for(n=this._itHead;n!==null;n=n._next)i(n)}forEachOperation(i){let n=this._itHead,o=this._removalsHead,r=0,s=null;for(;n||o;){let l=!o||n&&n.currentIndex<YV(o,r,s)?n:o,c=YV(l,r,s),u=l.currentIndex;if(l===o)r--,o=o._nextRemoved;else if(n=n._next,l.previousIndex==null)r++;else{s||(s=[]);let d=c-r,h=u-r;if(d!=h){for(let g=0;g<d;g++){let f=g<s.length?s[g]:s[g]=0,y=f+g;h<=y&&y<d&&(s[g]=f+1)}let p=l.previousIndex;s[p]=h-d}}c!==u&&i(l,c,u)}}forEachPreviousItem(i){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)i(n)}forEachAddedItem(i){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)i(n)}forEachMovedItem(i){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)i(n)}forEachRemovedItem(i){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)i(n)}forEachIdentityChange(i){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)i(n)}diff(i){if(i==null&&(i=[]),!gz(i))throw new Zt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let n=this._itHead,o=!1,r,s,l;if(Array.isArray(i)){this.length=i.length;for(let c=0;c<this.length;c++)s=i[c],l=this._trackByFn(c,s),n===null||!Object.is(n.trackById,l)?(n=this._mismatch(n,s,l,c),o=!0):(o&&(n=this._verifyReinsertion(n,s,l,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,iie(i,c=>{l=this._trackByFn(r,c),n===null||!Object.is(n.trackById,l)?(n=this._mismatch(n,c,l,r),o=!0):(o&&(n=this._verifyReinsertion(n,c,l,r)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=i,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;i!==null;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;i!==null;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,n,o,r){let s;return i===null?s=this._itTail:(s=i._prev,this._remove(i)),i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null),i!==null?(Object.is(i.item,n)||this._addIdentityChange(i,n),this._reinsertAfter(i,s,r)):(i=this._linkedRecords===null?null:this._linkedRecords.get(o,r),i!==null?(Object.is(i.item,n)||this._addIdentityChange(i,n),this._moveAfter(i,s,r)):i=this._addAfter(new mR(n,o),s,r)),i}_verifyReinsertion(i,n,o,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null);return s!==null?i=this._reinsertAfter(s,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;i!==null;){let n=i._next;this._addToRemovals(this._unlink(i)),i=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,n,o){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(i);let r=i._prevRemoved,s=i._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(i,n,o),this._addToMoves(i,o),i}_moveAfter(i,n,o){return this._unlink(i),this._insertAfter(i,n,o),this._addToMoves(i,o),i}_addAfter(i,n,o){return this._insertAfter(i,n,o),this._additionsTail===null?this._additionsTail=this._additionsHead=i:this._additionsTail=this._additionsTail._nextAdded=i,i}_insertAfter(i,n,o){let r=n===null?this._itHead:n._next;return i._next=r,i._prev=n,r===null?this._itTail=i:r._prev=i,n===null?this._itHead=i:n._next=i,this._linkedRecords===null&&(this._linkedRecords=new T_),this._linkedRecords.put(i),i.currentIndex=o,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){this._linkedRecords!==null&&this._linkedRecords.remove(i);let n=i._prev,o=i._next;return n===null?this._itHead=o:n._next=o,o===null?this._itTail=n:o._prev=n,i}_addToMoves(i,n){return i.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=i:this._movesTail=this._movesTail._nextMoved=i),i}_addToRemovals(i){return this._unlinkedRecords===null&&(this._unlinkedRecords=new T_),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,n){return i.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=i:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=i,i}},mR=class{constructor(i,n){this.item=i,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},vR=class{constructor(){this._head=null,this._tail=null}add(i){this._head===null?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,n){let o;for(o=this._head;o!==null;o=o._nextDup)if((n===null||n<=o.currentIndex)&&Object.is(o.trackById,i))return o;return null}remove(i){let n=i._prevDup,o=i._nextDup;return n===null?this._head=o:n._nextDup=o,o===null?this._tail=n:o._prevDup=n,this._head===null}},T_=class{constructor(){this.map=new Map}put(i){let n=i.trackById,o=this.map.get(n);o||(o=new vR,this.map.set(n,o)),o.add(i)}get(i,n){let o=i,r=this.map.get(o);return r?r.get(i,n):null}remove(i){let n=i.trackById;return this.map.get(n).remove(i)&&this.map.delete(n),i}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YV(e,i,n){let o=e.previousIndex;if(o===null)return o;let r=0;return n&&o<n.length&&(r=n[o]),o+i+r}var CR=class{constructor(){}supports(i){return i instanceof Map||uk(i)}create(){return new wR}},wR=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(i){let n;for(n=this._mapHead;n!==null;n=n._next)i(n)}forEachPreviousItem(i){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)i(n)}forEachChangedItem(i){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)i(n)}forEachAddedItem(i){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)i(n)}forEachRemovedItem(i){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)i(n)}diff(i){if(!i)i=new Map;else if(!(i instanceof Map||uk(i)))throw new Zt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(i,(o,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(r,o);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;o!==null;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,n){if(i){let o=i._prev;return n._next=i,n._prev=o,i._prev=n,o&&(o._next=n),i===this._mapHead&&(this._mapHead=n),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(i,n){if(this._records.has(i)){let r=this._records.get(i);this._maybeAddToChanges(r,n);let s=r._prev,l=r._next;return s&&(s._next=l),l&&(l._prev=s),r._next=null,r._prev=null,r}let o=new bR(i);return this._records.set(i,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;i!==null;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;i!=null;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,n){Object.is(n,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=n,this._addToChanges(i))}_addToAdditions(i){this._additionsHead===null?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){this._changesHead===null?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,n){i instanceof Map?i.forEach(n):Object.keys(i).forEach(o=>n(i[o],o))}},bR=class{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ZV(){return new mk([new gR])}var mk=(()=>{let i=class i{constructor(o){this.factories=o}static create(o,r){if(r!=null){let s=r.factories.slice();o=o.concat(s)}return new i(o)}static extend(o){return{provide:i,useFactory:r=>i.create(o,r||ZV()),deps:[[i,new SR,new N_]]}}find(o){let r=this.factories.find(s=>s.supports(o));if(r!=null)return r;throw new Zt(901,!1)}};i.\u0275prov=St({token:i,providedIn:"root",factory:ZV});let e=i;return e})();function QV(){return new vk([new CR])}var vk=(()=>{let i=class i{constructor(o){this.factories=o}static create(o,r){if(r){let s=r.factories.slice();o=o.concat(s)}return new i(o)}static extend(o){return{provide:i,useFactory:r=>i.create(o,r||QV()),deps:[[i,new SR,new N_]]}}find(o){let r=this.factories.find(s=>s.supports(o));if(r)return r;throw new Zt(901,!1)}};i.\u0275prov=St({token:i,providedIn:"root",factory:QV});let e=i;return e})();function Bz(e){try{let{rootComponent:i,appProviders:n,platformProviders:o}=e,r=cne(o),s=[Tz({}),{provide:SC,useExisting:sne},...n||[]],c=new k_({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(vi);return u.run(()=>{c.resolveInjectorInitializers();let d=c.get(Hu,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:f=>{d.handleError(f)}})});let p=()=>c.destroy(),g=r.get(Oz);return g.add(p),c.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),ene(d,u,()=>{let f=c.get(Fz);return f.runInitializers(),f.donePromise.then(()=>{let y=c.get(fk,F_);Oie(y||F_);let M=c.get(Yl);return i!==void 0&&M.bootstrap(i),M})})})}catch(i){return Promise.reject(i)}}var Vz=new Nt("");function Eg(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var $z=null;function Qu(){return $z}function qz(e){$z??=e}var sx=class{};var vo=new Nt(""),Kz=(()=>{let i=class i{historyGo(o){throw new Error("")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>wt(gne),providedIn:"platform"});let e=i;return e})();var gne=(()=>{let i=class i extends Kz{constructor(){super(),this._doc=wt(vo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qu().getBaseHref(this._doc)}onPopState(o){let r=Qu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",o,!1),()=>r.removeEventListener("popstate",o)}onHashChange(o){let r=Qu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",o,!1),()=>r.removeEventListener("hashchange",o)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(o){this._location.pathname=o}pushState(o,r,s){this._history.pushState(o,r,s)}replaceState(o,r,s){this._history.replaceState(o,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>new i,providedIn:"platform"});let e=i;return e})();function Yz(e,i){if(e.length==0)return i;if(i.length==0)return e;let n=0;return e.endsWith("/")&&n++,i.startsWith("/")&&n++,n==2?e+i.substring(1):n==1?e+i:e+"/"+i}function Hz(e){let i=e.match(/#|\?|$/),n=i&&i.index||e.length,o=n-(e[n-1]==="/"?1:0);return e.slice(0,o)+e.slice(n)}function Ig(e){return e&&e[0]!=="?"?"?"+e:e}var $m=(()=>{let i=class i{historyGo(o){throw new Error("")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>wt(Zz),providedIn:"root"});let e=i;return e})(),fne=new Nt(""),Zz=(()=>{let i=class i extends $m{constructor(o,r){super(),this._platformLocation=o,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??wt(vo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return Yz(this._baseHref,o)}path(o=!1){let r=this._platformLocation.pathname+Ig(this._platformLocation.search),s=this._platformLocation.hash;return s&&o?`${r}${s}`:r}pushState(o,r,s,l){let c=this.prepareExternalUrl(s+Ig(l));this._platformLocation.pushState(o,r,c)}replaceState(o,r,s,l){let c=this.prepareExternalUrl(s+Ig(l));this._platformLocation.replaceState(o,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}};i.\u0275fac=function(r){return new(r||i)(Et(Kz),Et(fne,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var kC=(()=>{let i=class i{constructor(o){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=o;let r=this._locationStrategy.getBaseHref();this._basePath=Cne(Hz(zz(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(o=!1){return this.normalize(this._locationStrategy.path(o))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(o,r=""){return this.path()==this.normalize(o+Ig(r))}normalize(o){return i.stripTrailingSlash(vne(this._basePath,zz(o)))}prepareExternalUrl(o){return o&&o[0]!=="/"&&(o="/"+o),this._locationStrategy.prepareExternalUrl(o)}go(o,r="",s=null){this._locationStrategy.pushState(s,"",o,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+Ig(r)),s)}replaceState(o,r="",s=null){this._locationStrategy.replaceState(s,"",o,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+Ig(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(o=0){this._locationStrategy.historyGo?.(o)}onUrlChange(o){return this._urlChangeListeners.push(o),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(o);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(o="",r){this._urlChangeListeners.forEach(s=>s(o,r))}subscribe(o,r,s){return this._subject.subscribe({next:o,error:r,complete:s})}};i.normalizeQueryParams=Ig,i.joinWithSlash=Yz,i.stripTrailingSlash=Hz,i.\u0275fac=function(r){return new(r||i)(Et($m))},i.\u0275prov=St({token:i,factory:()=>mne(),providedIn:"root"});let e=i;return e})();function mne(){return new kC(Et($m))}function vne(e,i){if(!e||!i.startsWith(e))return i;let n=i.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:i}function zz(e){return e.replace(/\/index.html$/,"")}function Cne(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function ax(e,i){i=encodeURIComponent(i);for(let n of e.split(";")){let o=n.indexOf("="),[r,s]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===i)return decodeURIComponent(s)}return null}var wk=/\s+/,Gz=[],Qz=(()=>{let i=class i{constructor(o,r){this._ngEl=o,this._renderer=r,this.initialClasses=Gz,this.stateMap=new Map}set klass(o){this.initialClasses=o!=null?o.trim().split(wk):Gz}set ngClass(o){this.rawClass=typeof o=="string"?o.trim().split(wk):o}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let o=this.rawClass;if(Array.isArray(o)||o instanceof Set)for(let r of o)this._updateState(r,!0);else if(o!=null)for(let r of Object.keys(o))this._updateState(r,!!o[r]);this._applyStateDiff()}_updateState(o,r){let s=this.stateMap.get(o);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(o,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let o of this.stateMap){let r=o[0],s=o[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(o,r){o=o.trim(),o.length>0&&o.split(wk).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};i.\u0275fac=function(r){return new(r||i)(at(Tn),at(gs))},i.\u0275dir=Mo({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let e=i;return e})();var bk=class{constructor(i,n,o,r){this.$implicit=i,this.ngForOf=n,this.index=o,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xr=(()=>{let i=class i{set ngForOf(o){this._ngForOf=o,this._ngForOfDirty=!0}set ngForTrackBy(o){this._trackByFn=o}get ngForTrackBy(){return this._trackByFn}constructor(o,r,s){this._viewContainer=o,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(o){o&&(this._template=o)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let o=this._ngForOf;if(!this._differ&&o)if(0)try{}catch{}else this._differ=this._differs.find(o).create(this.ngForTrackBy)}if(this._differ){let o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}_applyChanges(o){let r=this._viewContainer;o.forEachOperation((s,l,c)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new bk(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)r.remove(l===null?void 0:l);else if(l!==null){let u=r.get(l);r.move(u,c),Wz(u,s)}});for(let s=0,l=r.length;s<l;s++){let u=r.get(s).context;u.index=s,u.count=l,u.ngForOf=this._ngForOf}o.forEachIdentityChange(s=>{let l=r.get(s.currentIndex);Wz(l,s)})}static ngTemplateContextGuard(o,r){return!0}};i.\u0275fac=function(r){return new(r||i)(at(Vs),at(Gu),at(mk))},i.\u0275dir=Mo({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=i;return e})();function Wz(e,i){e.context.$implicit=i.item}var pr=(()=>{let i=class i{constructor(o,r){this._viewContainer=o,this._context=new yk,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(o){this._context.$implicit=this._context.ngIf=o,this._updateView()}set ngIfThen(o){jz("ngIfThen",o),this._thenTemplateRef=o,this._thenViewRef=null,this._updateView()}set ngIfElse(o){jz("ngIfElse",o),this._elseTemplateRef=o,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(o,r){return!0}};i.\u0275fac=function(r){return new(r||i)(at(Vs),at(Gu))},i.\u0275dir=Mo({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=i;return e})(),yk=class{constructor(){this.$implicit=null,this.ngIf=null}};function jz(e,i){if(!!!(!i||i.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${_r(i)}'.`)}var Xz=(()=>{let i=class i{transform(o){return JSON.stringify(o,null,2)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275pipe=ER({name:"json",type:i,pure:!1,standalone:!0});let e=i;return e})();function wne(e,i){return{key:e,value:i}}var qm=(()=>{let i=class i{constructor(o){this.differs=o,this.keyValues=[],this.compareFn=Uz}transform(o,r=Uz){if(!o||!(o instanceof Map)&&typeof o!="object")return null;this.differ??=this.differs.find(o).create();let s=this.differ.diff(o),l=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(c=>{this.keyValues.push(wne(c.key,c.currentValue))})),(s||l)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}};i.\u0275fac=function(r){return new(r||i)(at(vk,16))},i.\u0275pipe=ER({name:"keyvalue",type:i,pure:!1,standalone:!0});let e=i;return e})();function Uz(e,i){let n=e.key,o=i.key;if(n===o)return 0;if(n===void 0)return 1;if(o===void 0)return-1;if(n===null)return 1;if(o===null)return-1;if(typeof n=="string"&&typeof o=="string")return n<o?-1:1;if(typeof n=="number"&&typeof o=="number")return n-o;if(typeof n=="boolean"&&typeof o=="boolean")return n<o?-1:1;let r=String(n),s=String(o);return r==s?0:r<s?-1:1}var wn=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({});let e=i;return e})(),_k="browser",bne="server";function xk(e){return e===_k}function lx(e){return e===bne}var Um=class{};var FC=class{},ux=class{},Ji=class e{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(n=>{let o=n.indexOf(":");if(o>0){let r=n.slice(0,o),s=r.toLowerCase(),l=n.slice(o+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((n,o)=>{this.setHeaderEntries(o,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([n,o])=>{this.setHeaderEntries(n,o)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){let n=i.name.toLowerCase();switch(i.op){case"a":case"s":let o=i.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(i.name,n);let r=(i.op==="a"?this.headers.get(n):void 0)||[];r.push(...o),this.headers.set(n,r);break;case"d":let s=i.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let l=this.headers.get(n);if(!l)return;l=l.filter(c=>s.indexOf(c)===-1),l.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,l)}break}}setHeaderEntries(i,n){let o=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=i.toLowerCase();this.headers.set(r,o),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}};var Ek=class{encodeKey(i){return Jz(i)}encodeValue(i){return Jz(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function yne(e,i){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[l,c]=s==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,s)),i.decodeValue(r.slice(s+1))],u=n.get(l)||[];u.push(c),n.set(l,u)}),n}var Sne=/%(\d[a-f0-9])/gi,_ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jz(e){return encodeURIComponent(e).replace(Sne,(i,n)=>_ne[n]??i)}function cx(e){return`${e}`}var Jr=class e{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Ek,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=yne(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{let o=i.fromObject[n],r=Array.isArray(o)?o.map(cx):[cx(o)];this.map.set(n,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){let n=[];return Object.keys(i).forEach(o=>{let r=i[o];Array.isArray(r)?r.forEach(s=>{n.push({param:o,value:s,op:"a"})}):n.push({param:o,value:r,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let n=this.encoder.encodeKey(i);return this.map.get(i).map(o=>n+"="+this.encoder.encodeValue(o)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let n=(i.op==="a"?this.map.get(i.param):void 0)||[];n.push(cx(i.value)),this.map.set(i.param,n);break;case"d":if(i.value!==void 0){let o=this.map.get(i.param)||[],r=o.indexOf(cx(i.value));r!==-1&&o.splice(r,1),o.length>0?this.map.set(i.param,o):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var Ik=class{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function xne(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function e9(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function t9(e){return typeof Blob<"u"&&e instanceof Blob}function i9(e){return typeof FormData<"u"&&e instanceof FormData}function Dne(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var AC=class e{constructor(i,n,o,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase();let s;if(xne(this.method)||r?(this.body=o!==void 0?o:null,s=r):s=o,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ji,this.context??=new Ik,!this.params)this.params=new Jr,this.urlWithParams=n;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+l}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||e9(this.body)||t9(this.body)||i9(this.body)||Dne(this.body)?this.body:this.body instanceof Jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||i9(this.body)?null:t9(this.body)?this.body.type||null:e9(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(i={}){let n=i.method||this.method,o=i.url||this.url,r=i.responseType||this.responseType,s=i.transferCache??this.transferCache,l=i.body!==void 0?i.body:this.body,c=i.withCredentials??this.withCredentials,u=i.reportProgress??this.reportProgress,d=i.headers||this.headers,h=i.params||this.params,p=i.context??this.context;return i.setHeaders!==void 0&&(d=Object.keys(i.setHeaders).reduce((g,f)=>g.set(f,i.setHeaders[f]),d)),i.setParams&&(h=Object.keys(i.setParams).reduce((g,f)=>g.set(f,i.setParams[f]),h)),new e(n,o,l,{params:h,headers:d,context:p,reportProgress:u,responseType:r,withCredentials:c,transferCache:s})}},Ko=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ko||{}),TC=class{constructor(i,n=200,o="OK"){this.headers=i.headers||new Ji,this.status=i.status!==void 0?i.status:n,this.statusText=i.statusText||o,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},dx=class e extends TC{constructor(i={}){super(i),this.type=Ko.ResponseHeader}clone(i={}){return new e({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},PC=class e extends TC{constructor(i={}){super(i),this.type=Ko.Response,this.body=i.body!==void 0?i.body:null}clone(i={}){return new e({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},tp=class extends TC{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},s9=200,Ene=204;function Dk(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Er=(()=>{let i=class i{constructor(o){this.handler=o}request(o,r,s={}){let l;if(o instanceof AC)l=o;else{let d;s.headers instanceof Ji?d=s.headers:d=new Ji(s.headers);let h;s.params&&(s.params instanceof Jr?h=s.params:h=new Jr({fromObject:s.params})),l=new AC(o,r,s.body!==void 0?s.body:null,{headers:d,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let c=Bt(l).pipe(Gh(d=>this.handler.handle(d)));if(o instanceof AC||s.observe==="events")return c;let u=c.pipe(bi(d=>d instanceof PC));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(kt(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(kt(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(kt(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return u.pipe(kt(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(o,r={}){return this.request("DELETE",o,r)}get(o,r={}){return this.request("GET",o,r)}head(o,r={}){return this.request("HEAD",o,r)}jsonp(o,r){return this.request("JSONP",o,{params:new Jr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,r={}){return this.request("OPTIONS",o,r)}patch(o,r,s={}){return this.request("PATCH",o,Dk(s,r))}post(o,r,s={}){return this.request("POST",o,Dk(s,r))}put(o,r,s={}){return this.request("PUT",o,Dk(s,r))}};i.\u0275fac=function(r){return new(r||i)(Et(FC))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),Ine=/^\)\]\}',?\n/,Mne="X-Request-URL";function n9(e){if(e.url)return e.url;let i=Mne.toLocaleLowerCase();return e.headers.get(i)}var Rne=(()=>{let i=class i{constructor(){this.fetchImpl=wt(Mk,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=wt(vi)}handle(o){return new si(r=>{let s=new AbortController;return this.doRequest(o,s.signal,r).then(Rk,l=>r.error(new tp({error:l}))),()=>s.abort()})}doRequest(o,r,s){return Nn(this,null,function*(){let l=this.createRequestInit(o),c;try{let y=this.fetchImpl(o.urlWithParams,We({signal:r},l));kne(y),s.next({type:Ko.Sent}),c=yield y}catch(y){s.error(new tp({error:y,status:y.status??0,statusText:y.statusText,url:o.urlWithParams,headers:y.headers}));return}let u=new Ji(c.headers),d=c.statusText,h=n9(c)??o.urlWithParams,p=c.status,g=null;if(o.reportProgress&&s.next(new dx({headers:u,status:p,statusText:d,url:h})),c.body){let y=c.headers.get("content-length"),M=[],k=c.body.getReader(),G=0,J,$,_e=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Nn(this,null,function*(){for(;;){let{done:Pe,value:$e}=yield k.read();if(Pe)break;if(M.push($e),G+=$e.length,o.reportProgress){$=o.responseType==="text"?($??"")+(J??=new TextDecoder).decode($e,{stream:!0}):void 0;let nt=()=>s.next({type:Ko.DownloadProgress,total:y?+y:void 0,loaded:G,partialText:$});_e?_e.run(nt):nt()}}}));let Fe=this.concatChunks(M,G);try{let Pe=c.headers.get("Content-Type")??"";g=this.parseBody(o,Fe,Pe)}catch(Pe){s.error(new tp({error:Pe,headers:new Ji(c.headers),status:c.status,statusText:c.statusText,url:n9(c)??o.urlWithParams}));return}}p===0&&(p=g?s9:0),p>=200&&p<300?(s.next(new PC({body:g,headers:u,status:p,statusText:d,url:h})),s.complete()):s.error(new tp({error:g,headers:u,status:p,statusText:d,url:h}))})}parseBody(o,r,s){switch(o.responseType){case"json":let l=new TextDecoder().decode(r).replace(Ine,"");return l===""?null:JSON.parse(l);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(o){let r={},s=o.withCredentials?"include":void 0;if(o.headers.forEach((l,c)=>r[l]=c.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let l=o.detectContentTypeHeader();l!==null&&(r["Content-Type"]=l)}return{body:o.serializeBody(),method:o.method,headers:r,credentials:s}}concatChunks(o,r){let s=new Uint8Array(r),l=0;for(let c of o)s.set(c,l),l+=c.length;return s}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),Mk=class{};function Rk(){}function kne(e){e.then(Rk,Rk)}function Ane(e,i){return i(e)}function Fne(e,i,n){return(o,r)=>cl(n,()=>i(o,s=>e(s,r)))}var a9=new Nt(""),Tne=new Nt(""),Pne=new Nt("",{providedIn:"root",factory:()=>!0});var o9=(()=>{let i=class i extends FC{constructor(o,r){super(),this.backend=o,this.injector=r,this.chain=null,this.pendingTasks=wt(ep),this.contributeToStability=wt(Pne)}handle(o){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(a9),...this.injector.get(Tne,[])]));this.chain=r.reduceRight((s,l)=>Fne(s,l,this.injector),Ane)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(o,s=>this.backend.handle(s)).pipe(rg(()=>this.pendingTasks.remove(r)))}else return this.chain(o,r=>this.backend.handle(r))}};i.\u0275fac=function(r){return new(r||i)(Et(ux),Et(Kr))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})();var Lne=/^\)\]\}',?\n/;function One(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var r9=(()=>{let i=class i{constructor(o){this.xhrFactory=o}handle(o){if(o.method==="JSONP")throw new Zt(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?fn(r.\u0275loadImpl()):Bt(null)).pipe(cn(()=>new si(l=>{let c=r.build();if(c.open(o.method,o.urlWithParams),o.withCredentials&&(c.withCredentials=!0),o.headers.forEach((k,G)=>c.setRequestHeader(k,G.join(","))),o.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){let k=o.detectContentTypeHeader();k!==null&&c.setRequestHeader("Content-Type",k)}if(o.responseType){let k=o.responseType.toLowerCase();c.responseType=k!=="json"?k:"text"}let u=o.serializeBody(),d=null,h=()=>{if(d!==null)return d;let k=c.statusText||"OK",G=new Ji(c.getAllResponseHeaders()),J=One(c)||o.url;return d=new dx({headers:G,status:c.status,statusText:k,url:J}),d},p=()=>{let{headers:k,status:G,statusText:J,url:$}=h(),_e=null;G!==Ene&&(_e=typeof c.response>"u"?c.responseText:c.response),G===0&&(G=_e?s9:0);let Fe=G>=200&&G<300;if(o.responseType==="json"&&typeof _e=="string"){let Pe=_e;_e=_e.replace(Lne,"");try{_e=_e!==""?JSON.parse(_e):null}catch($e){_e=Pe,Fe&&(Fe=!1,_e={error:$e,text:_e})}}Fe?(l.next(new PC({body:_e,headers:k,status:G,statusText:J,url:$||void 0})),l.complete()):l.error(new tp({error:_e,headers:k,status:G,statusText:J,url:$||void 0}))},g=k=>{let{url:G}=h(),J=new tp({error:k,status:c.status||0,statusText:c.statusText||"Unknown Error",url:G||void 0});l.error(J)},f=!1,y=k=>{f||(l.next(h()),f=!0);let G={type:Ko.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(G.total=k.total),o.responseType==="text"&&c.responseText&&(G.partialText=c.responseText),l.next(G)},M=k=>{let G={type:Ko.UploadProgress,loaded:k.loaded};k.lengthComputable&&(G.total=k.total),l.next(G)};return c.addEventListener("load",p),c.addEventListener("error",g),c.addEventListener("timeout",g),c.addEventListener("abort",g),o.reportProgress&&(c.addEventListener("progress",y),u!==null&&c.upload&&c.upload.addEventListener("progress",M)),c.send(u),l.next({type:Ko.Sent}),()=>{c.removeEventListener("error",g),c.removeEventListener("abort",g),c.removeEventListener("load",p),c.removeEventListener("timeout",g),o.reportProgress&&(c.removeEventListener("progress",y),u!==null&&c.upload&&c.upload.removeEventListener("progress",M)),c.readyState!==c.DONE&&c.abort()}})))}};i.\u0275fac=function(r){return new(r||i)(Et(Um))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),l9=new Nt(""),Nne="XSRF-TOKEN",Bne=new Nt("",{providedIn:"root",factory:()=>Nne}),Vne="X-XSRF-TOKEN",Hne=new Nt("",{providedIn:"root",factory:()=>Vne}),hx=class{},zne=(()=>{let i=class i{constructor(o,r,s){this.doc=o,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=ax(o,this.cookieName),this.lastCookieString=o),this.lastToken}};i.\u0275fac=function(r){return new(r||i)(Et(vo),Et(dl),Et(Bne))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})();function Gne(e,i){let n=e.url.toLowerCase();if(!wt(l9)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return i(e);let o=wt(hx).getToken(),r=wt(Hne);return o!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,o)})),i(e)}function c9(...e){let i=[Er,r9,o9,{provide:FC,useExisting:o9},{provide:ux,useFactory:()=>wt(Rne,{optional:!0})??wt(r9)},{provide:a9,useValue:Gne,multi:!0},{provide:l9,useValue:!0},{provide:hx,useClass:zne}];for(let n of e)i.push(...n.\u0275providers);return Uu(i)}var Fk=class extends sx{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tk=class e extends Fk{static makeCurrent(){qz(new e)}onAndCancel(i,n,o){return i.addEventListener(n,o),()=>{i.removeEventListener(n,o)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return n=n||this.getDefaultDocument(),n.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return n==="window"?window:n==="document"?i:n==="body"?i.body:null}getBaseHref(i){let n=Wne();return n==null?null:jne(n)}resetBaseElement(){LC=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return ax(document.cookie,i)}},LC=null;function Wne(){return LC=LC||document.querySelector("base"),LC?LC.getAttribute("href"):null}function jne(e){return new URL(e,document.baseURI).pathname}var Une=(()=>{let i=class i{build(){return new XMLHttpRequest}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),px=new Nt(""),p9=(()=>{let i=class i{constructor(o,r){this._zone=r,this._eventNameToPlugin=new Map,o.forEach(s=>{s.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,r,s){return this._findPluginFor(r).addEventListener(o,r,s)}getZone(){return this._zone}_findPluginFor(o){let r=this._eventNameToPlugin.get(o);if(r)return r;if(r=this._plugins.find(l=>l.supports(o)),!r)throw new Zt(5101,!1);return this._eventNameToPlugin.set(o,r),r}};i.\u0275fac=function(r){return new(r||i)(Et(px),Et(vi))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),OC=class{constructor(i){this._doc=i}},kk="ng-app-id",g9=(()=>{let i=class i{constructor(o,r,s,l={}){this.doc=o,this.appId=r,this.nonce=s,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lx(l),this.resetHostNodes()}addStyles(o){for(let r of o)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(o){for(let r of o)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let o=this.styleNodesInDOM;o&&(o.forEach(r=>r.remove()),o.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(o){this.hostNodes.add(o);for(let r of this.getAllStyles())this.addStyleToHost(o,r)}removeHost(o){this.hostNodes.delete(o)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(o){for(let r of this.hostNodes)this.addStyleToHost(r,o)}onStyleRemoved(o){let r=this.styleRef;r.get(o)?.elements?.forEach(s=>s.remove()),r.delete(o)}collectServerRenderedStyles(){let o=this.doc.head?.querySelectorAll(`style[${kk}="${this.appId}"]`);if(o?.length){let r=new Map;return o.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(o,r){let s=this.styleRef;if(s.has(o)){let l=s.get(o);return l.usage+=r,l.usage}return s.set(o,{usage:r,elements:[]}),r}getStyleElement(o,r){let s=this.styleNodesInDOM,l=s?.get(r);if(l?.parentNode===o)return s.delete(r),l.removeAttribute(kk),l;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(kk,this.appId),o.appendChild(c),c}}addStyleToHost(o,r){let s=this.getStyleElement(o,r),l=this.styleRef,c=l.get(r)?.elements;c?c.push(s):l.set(r,{elements:[s],usage:1})}resetHostNodes(){let o=this.hostNodes;o.clear(),o.add(this.doc.head)}};i.\u0275fac=function(r){return new(r||i)(Et(vo),Et(zR),Et(WR,8),Et(dl))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),Ak={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lk=/%COMP%/g,f9="%COMP%",$ne=`_nghost-${f9}`,qne=`_ngcontent-${f9}`,Kne=!0,Yne=new Nt("",{providedIn:"root",factory:()=>Kne});function Zne(e){return qne.replace(Lk,e)}function Qne(e){return $ne.replace(Lk,e)}function m9(e,i){return i.map(n=>n.replace(Lk,e))}var u9=(()=>{let i=class i{constructor(o,r,s,l,c,u,d,h=null){this.eventManager=o,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=u,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=lx(u),this.defaultRenderer=new NC(o,c,d,this.platformIsServer)}createRenderer(o,r){if(!o||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gl.ShadowDom&&(r=Ft(We({},r),{encapsulation:Gl.Emulated}));let s=this.getOrCreateRenderer(o,r);return s instanceof gx?s.applyToHost(o):s instanceof BC&&s.applyStyles(),s}getOrCreateRenderer(o,r){let s=this.rendererByCompId,l=s.get(r.id);if(!l){let c=this.doc,u=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Gl.Emulated:l=new gx(d,h,r,this.appId,p,c,u,g);break;case Gl.ShadowDom:return new Pk(d,h,o,r,c,u,this.nonce,g);default:l=new BC(d,h,r,p,c,u,g);break}s.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}};i.\u0275fac=function(r){return new(r||i)(Et(p9),Et(g9),Et(zR),Et(Yne),Et(vo),Et(dl),Et(vi),Et(WR))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),NC=class{constructor(i,n,o,r){this.eventManager=i,this.doc=n,this.ngZone=o,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,n){return n?this.doc.createElementNS(Ak[n]||n,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,n){(d9(i)?i.content:i).appendChild(n)}insertBefore(i,n,o){i&&(d9(i)?i.content:i).insertBefore(n,o)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let o=typeof i=="string"?this.doc.querySelector(i):i;if(!o)throw new Zt(-5104,!1);return n||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,o,r){if(r){n=r+":"+n;let s=Ak[r];s?i.setAttributeNS(s,n,o):i.setAttribute(n,o)}else i.setAttribute(n,o)}removeAttribute(i,n,o){if(o){let r=Ak[o];r?i.removeAttributeNS(r,n):i.removeAttribute(`${o}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,o,r){r&(zu.DashCase|zu.Important)?i.style.setProperty(n,o,r&zu.Important?"important":""):i.style[n]=o}removeStyle(i,n,o){o&zu.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,o){i!=null&&(i[n]=o)}setValue(i,n){i.nodeValue=n}listen(i,n,o){if(typeof i=="string"&&(i=Qu().getGlobalEventTarget(this.doc,i),!i))throw new Error(`Unsupported event target ${i} for event ${n}`);return this.eventManager.addEventListener(i,n,this.decoratePreventDefault(o))}decoratePreventDefault(i){return n=>{if(n==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(n)):i(n))===!1&&n.preventDefault()}}};function d9(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Pk=class extends NC{constructor(i,n,o,r,s,l,c,u){super(i,s,l,u),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=m9(r.id,r.styles);for(let h of d){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,o){return super.insertBefore(this.nodeOrShadowRoot(i),n,o)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},BC=class extends NC{constructor(i,n,o,r,s,l,c,u){super(i,s,l,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=u?m9(u,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gx=class extends BC{constructor(i,n,o,r,s,l,c,u){let d=r+"-"+o.id;super(i,n,o,s,l,c,u,d),this.contentAttr=Zne(d),this.hostAttr=Qne(d)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,n){let o=super.createElement(i,n);return super.setAttribute(o,this.contentAttr,""),o}},Xne=(()=>{let i=class i extends OC{constructor(o){super(o)}supports(o){return!0}addEventListener(o,r,s){return o.addEventListener(r,s,!1),()=>this.removeEventListener(o,r,s)}removeEventListener(o,r,s){return o.removeEventListener(r,s)}};i.\u0275fac=function(r){return new(r||i)(Et(vo))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),Jne=(()=>{let i=class i extends OC{constructor(o){super(o),this.delegate=wt(Vz,{optional:!0})}supports(o){return this.delegate?this.delegate.supports(o):!1}addEventListener(o,r,s){return this.delegate.addEventListener(o,r,s)}removeEventListener(o,r,s){return this.delegate.removeEventListener(o,r,s)}};i.\u0275fac=function(r){return new(r||i)(Et(vo))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),h9=["alt","control","meta","shift"],eoe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},toe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ioe=(()=>{let i=class i extends OC{constructor(o){super(o)}supports(o){return i.parseEventName(o)!=null}addEventListener(o,r,s){let l=i.parseEventName(r),c=i.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qu().onAndCancel(o,l.domEventName,c))}static parseEventName(o){let r=o.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let l=i._normalizeKey(r.pop()),c="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),c="code."),h9.forEach(h=>{let p=r.indexOf(h);p>-1&&(r.splice(p,1),c+=h+".")}),c+=l,r.length!=0||l.length===0)return null;let d={};return d.domEventName=s,d.fullKey=c,d}static matchEventFullKeyCode(o,r){let s=eoe[o.key]||o.key,l="";return r.indexOf("code.")>-1&&(s=o.code,l="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),h9.forEach(c=>{if(c!==s){let u=toe[c];u(o)&&(l+=c+".")}}),l+=s,l===r)}static eventCallback(o,r,s){return l=>{i.matchEventFullKeyCode(l,o)&&s.runGuarded(()=>r(l))}}static _normalizeKey(o){return o==="esc"?"escape":o}};i.\u0275fac=function(r){return new(r||i)(Et(vo))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})();function v9(e,i){return Bz(We({rootComponent:e},noe(i)))}function noe(e){return{appProviders:[...loe,...e?.providers??[]],platformProviders:aoe}}function ooe(){Tk.makeCurrent()}function roe(){return new Hu}function soe(){return pH(document),document}var aoe=[{provide:dl,useValue:_k},{provide:GR,useValue:ooe,multi:!0},{provide:vo,useFactory:soe,deps:[]}];var loe=[{provide:B_,useValue:"root"},{provide:Hu,useFactory:roe,deps:[]},{provide:px,useClass:Xne,multi:!0,deps:[vo,vi,dl]},{provide:px,useClass:ioe,multi:!0,deps:[vo]},{provide:px,useClass:Jne,multi:!0},u9,g9,p9,{provide:Om,useExisting:u9},{provide:Um,useClass:Une,deps:[]},[]];var C9=(()=>{let i=class i{constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}};i.\u0275fac=function(r){return new(r||i)(Et(vo))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Si="primary",tw=Symbol("RouteTitle"),Hk=class{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){let n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Jm(e){return new Hk(e)}function uoe(e,i,n){let o=n.path.split("/");if(o.length>e.length||n.pathMatch==="full"&&(i.hasChildren()||o.length<e.length))return null;let r={};for(let s=0;s<o.length;s++){let l=o[s],c=e[s];if(l[0]===":")r[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:e.slice(0,o.length),posParams:r}}function doe(e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;++n)if(!Zl(e[n],i[n]))return!1;return!0}function Zl(e,i){let n=e?zk(e):void 0,o=i?zk(i):void 0;if(!n||!o||n.length!=o.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!E9(e[r],i[r]))return!1;return!0}function zk(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function E9(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;let n=[...e].sort(),o=[...i].sort();return n.every((r,s)=>o[s]===r)}else return e===i}function I9(e){return e.length>0?e[e.length-1]:null}function op(e){return XI(e)?e:xg(e)?fn(Promise.resolve(e)):Bt(e)}var hoe={exact:R9,subset:k9},M9={exact:poe,subset:goe,ignored:()=>!0};function w9(e,i,n){return hoe[n.paths](e.root,i.root,n.matrixParams)&&M9[n.queryParams](e.queryParams,i.queryParams)&&!(n.fragment==="exact"&&e.fragment!==i.fragment)}function poe(e,i){return Zl(e,i)}function R9(e,i,n){if(!kg(e.segments,i.segments)||!vx(e.segments,i.segments,n)||e.numberOfChildren!==i.numberOfChildren)return!1;for(let o in i.children)if(!e.children[o]||!R9(e.children[o],i.children[o],n))return!1;return!0}function goe(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(n=>E9(e[n],i[n]))}function k9(e,i,n){return A9(e,i,i.segments,n)}function A9(e,i,n,o){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!kg(r,n)||i.hasChildren()||!vx(r,n,o))}else if(e.segments.length===n.length){if(!kg(e.segments,n)||!vx(e.segments,n,o))return!1;for(let r in i.children)if(!e.children[r]||!k9(e.children[r],i.children[r],o))return!1;return!0}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!kg(e.segments,r)||!vx(e.segments,r,o)||!e.children[Si]?!1:A9(e.children[Si],i,s,o)}}function vx(e,i,n){return i.every((o,r)=>M9[n](e[r].parameters,o.parameters))}var ip=class{constructor(i=new dn([],{}),n={},o=null){this.root=i,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=Jm(this.queryParams),this._queryParamMap}toString(){return voe.serialize(this)}},dn=class{constructor(i,n){this.segments=i,this.children=n,this.parent=null,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cx(this)}},Rg=class{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap??=Jm(this.parameters),this._parameterMap}toString(){return T9(this)}};function foe(e,i){return kg(e,i)&&e.every((n,o)=>Zl(n.parameters,i[o].parameters))}function kg(e,i){return e.length!==i.length?!1:e.every((n,o)=>n.path===i[o].path)}function moe(e,i){let n=[];return Object.entries(e.children).forEach(([o,r])=>{o===Si&&(n=n.concat(i(r,o)))}),Object.entries(e.children).forEach(([o,r])=>{o!==Si&&(n=n.concat(i(r,o)))}),n}var pA=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>new UC,providedIn:"root"});let e=i;return e})(),UC=class{parse(i){let n=new Wk(i);return new ip(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){let n=`/${VC(i.root,!0)}`,o=boe(i.queryParams),r=typeof i.fragment=="string"?`#${Coe(i.fragment)}`:"";return`${n}${o}${r}`}},voe=new UC;function Cx(e){return e.segments.map(i=>T9(i)).join("/")}function VC(e,i){if(!e.hasChildren())return Cx(e);if(i){let n=e.children[Si]?VC(e.children[Si],!1):"",o=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Si&&o.push(`${r}:${VC(s,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}else{let n=moe(e,(o,r)=>r===Si?[VC(e.children[Si],!1)]:[`${r}:${VC(o,!1)}`]);return Object.keys(e.children).length===1&&e.children[Si]!=null?`${Cx(e)}/${n[0]}`:`${Cx(e)}/(${n.join("//")})`}}function F9(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fx(e){return F9(e).replace(/%3B/gi,";")}function Coe(e){return encodeURI(e)}function Gk(e){return F9(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wx(e){return decodeURIComponent(e)}function b9(e){return wx(e.replace(/\+/g,"%20"))}function T9(e){return`${Gk(e.path)}${woe(e.parameters)}`}function woe(e){return Object.entries(e).map(([i,n])=>`;${Gk(i)}=${Gk(n)}`).join("")}function boe(e){let i=Object.entries(e).map(([n,o])=>Array.isArray(o)?o.map(r=>`${fx(n)}=${fx(r)}`).join("&"):`${fx(n)}=${fx(o)}`).filter(n=>n);return i.length?`?${i.join("&")}`:""}var yoe=/^[^\/()?;#]+/;function Ok(e){let i=e.match(yoe);return i?i[0]:""}var Soe=/^[^\/()?;=#]+/;function _oe(e){let i=e.match(Soe);return i?i[0]:""}var xoe=/^[^=?&#]+/;function Doe(e){let i=e.match(xoe);return i?i[0]:""}var Eoe=/^[^&#]+/;function Ioe(e){let i=e.match(Eoe);return i?i[0]:""}var Wk=class{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(o[Si]=new dn(i,n)),o}parseSegment(){let i=Ok(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new Zt(4009,!1);return this.capture(i),new Rg(wx(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let n=_oe(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let r=Ok(this.remaining);r&&(o=r,this.capture(o))}i[wx(n)]=wx(o)}parseQueryParam(i){let n=Doe(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let l=Ioe(this.remaining);l&&(o=l,this.capture(o))}let r=b9(n),s=b9(o);if(i.hasOwnProperty(r)){let l=i[r];Array.isArray(l)||(l=[l],i[r]=l),l.push(s)}else i[r]=s}parseParens(i){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=Ok(this.remaining),r=this.remaining[o.length];if(r!=="/"&&r!==")"&&r!==";")throw new Zt(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=Si);let l=this.parseChildren();n[s]=Object.keys(l).length===1?l[Si]:new dn([],l),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new Zt(4011,!1)}};function P9(e){return e.segments.length>0?new dn([],{[Si]:e}):e}function L9(e){let i={};for(let[o,r]of Object.entries(e.children)){let s=L9(r);if(o===Si&&s.segments.length===0&&s.hasChildren())for(let[l,c]of Object.entries(s.children))i[l]=c;else(s.segments.length>0||s.hasChildren())&&(i[o]=s)}let n=new dn(e.segments,i);return Moe(n)}function Moe(e){if(e.numberOfChildren===1&&e.children[Si]){let i=e.children[Si];return new dn(e.segments.concat(i.segments),i.children)}return e}function $C(e){return e instanceof ip}function Roe(e,i,n=null,o=null){let r=O9(e);return N9(r,i,n,o)}function O9(e){let i;function n(s){let l={};for(let u of s.children){let d=n(u);l[u.outlet]=d}let c=new dn(s.url,l);return s===e&&(i=c),c}let o=n(e.root),r=P9(o);return i??r}function N9(e,i,n,o){let r=e;for(;r.parent;)r=r.parent;if(i.length===0)return Nk(r,r,r,n,o);let s=koe(i);if(s.toRoot())return Nk(r,r,new dn([],{}),n,o);let l=Aoe(s,r,e),c=l.processChildren?GC(l.segmentGroup,l.index,s.commands):V9(l.segmentGroup,l.index,s.commands);return Nk(r,l.segmentGroup,c,n,o)}function bx(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function qC(e){return typeof e=="object"&&e!=null&&e.outlets}function Nk(e,i,n,o,r){let s={};o&&Object.entries(o).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let l;e===i?l=n:l=B9(e,i,n);let c=P9(L9(l));return new ip(c,s,r)}function B9(e,i,n){let o={};return Object.entries(e.children).forEach(([r,s])=>{s===i?o[r]=n:o[r]=B9(s,i,n)}),new dn(e.segments,o)}var yx=class{constructor(i,n,o){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=o,i&&o.length>0&&bx(o[0]))throw new Zt(4003,!1);let r=o.find(qC);if(r&&r!==I9(o))throw new Zt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function koe(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new yx(!0,0,e);let i=0,n=!1,o=e.reduce((r,s,l)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:l===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?i++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new yx(n,i,o)}var Zm=class{constructor(i,n,o){this.segmentGroup=i,this.processChildren=n,this.index=o}};function Aoe(e,i,n){if(e.isAbsolute)return new Zm(i,!0,0);if(!n)return new Zm(i,!1,NaN);if(n.parent===null)return new Zm(n,!0,0);let o=bx(e.commands[0])?0:1,r=n.segments.length-1+o;return Foe(n,r,e.numberOfDoubleDots)}function Foe(e,i,n){let o=e,r=i,s=n;for(;s>r;){if(s-=r,o=o.parent,!o)throw new Zt(4005,!1);r=o.segments.length}return new Zm(o,!1,r-s)}function Toe(e){return qC(e[0])?e[0].outlets:{[Si]:e}}function V9(e,i,n){if(e??=new dn([],{}),e.segments.length===0&&e.hasChildren())return GC(e,i,n);let o=Poe(e,i,n),r=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){let s=new dn(e.segments.slice(0,o.pathIndex),{});return s.children[Si]=new dn(e.segments.slice(o.pathIndex),e.children),GC(s,0,r)}else return o.match&&r.length===0?new dn(e.segments,{}):o.match&&!e.hasChildren()?jk(e,i,n):o.match?GC(e,0,r):jk(e,i,n)}function GC(e,i,n){if(n.length===0)return new dn(e.segments,{});{let o=Toe(n),r={};if(Object.keys(o).some(s=>s!==Si)&&e.children[Si]&&e.numberOfChildren===1&&e.children[Si].segments.length===0){let s=GC(e.children[Si],i,n);return new dn(e.segments,s.children)}return Object.entries(o).forEach(([s,l])=>{typeof l=="string"&&(l=[l]),l!==null&&(r[s]=V9(e.children[s],i,l))}),Object.entries(e.children).forEach(([s,l])=>{o[s]===void 0&&(r[s]=l)}),new dn(e.segments,r)}}function Poe(e,i,n){let o=0,r=i,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(o>=n.length)return s;let l=e.segments[r],c=n[o];if(qC(c))break;let u=`${c}`,d=o<n.length-1?n[o+1]:null;if(r>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!S9(u,d,l))return s;o+=2}else{if(!S9(u,{},l))return s;o++}r++}return{match:!0,pathIndex:r,commandIndex:o}}function jk(e,i,n){let o=e.segments.slice(0,i),r=0;for(;r<n.length;){let s=n[r];if(qC(s)){let u=Loe(s.outlets);return new dn(o,u)}if(r===0&&bx(n[0])){let u=e.segments[i];o.push(new Rg(u.path,y9(n[0]))),r++;continue}let l=qC(s)?s.outlets[Si]:`${s}`,c=r<n.length-1?n[r+1]:null;l&&c&&bx(c)?(o.push(new Rg(l,y9(c))),r+=2):(o.push(new Rg(l,{})),r++)}return new dn(o,{})}function Loe(e){let i={};return Object.entries(e).forEach(([n,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[n]=jk(new dn([],{}),0,o))}),i}function y9(e){let i={};return Object.entries(e).forEach(([n,o])=>i[n]=`${o}`),i}function S9(e,i,n){return e==n.path&&Zl(i,n.parameters)}var WC="imperative",Yo=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Yo||{}),Ws=class{constructor(i,n){this.id=i,this.url=n}},KC=class extends Ws{constructor(i,n,o="imperative",r=null){super(i,n),this.type=Yo.NavigationStart,this.navigationTrigger=o,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},np=class extends Ws{constructor(i,n,o){super(i,n),this.urlAfterRedirects=o,this.type=Yo.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ms=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ms||{}),Uk=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Uk||{}),Xu=class extends Ws{constructor(i,n,o,r){super(i,n),this.reason=o,this.code=r,this.type=Yo.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ag=class extends Ws{constructor(i,n,o,r){super(i,n),this.reason=o,this.code=r,this.type=Yo.NavigationSkipped}},YC=class extends Ws{constructor(i,n,o,r){super(i,n),this.error=o,this.target=r,this.type=Yo.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sx=class extends Ws{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$k=class extends Ws{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qk=class extends Ws{constructor(i,n,o,r,s){super(i,n),this.urlAfterRedirects=o,this.state=r,this.shouldActivate=s,this.type=Yo.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kk=class extends Ws{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yk=class extends Ws{constructor(i,n,o,r){super(i,n),this.urlAfterRedirects=o,this.state=r,this.type=Yo.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zk=class{constructor(i){this.route=i,this.type=Yo.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qk=class{constructor(i){this.route=i,this.type=Yo.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xk=class{constructor(i){this.snapshot=i,this.type=Yo.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jk=class{constructor(i){this.snapshot=i,this.type=Yo.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eA=class{constructor(i){this.snapshot=i,this.type=Yo.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tA=class{constructor(i){this.snapshot=i,this.type=Yo.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ZC=class{},e0=class{constructor(i,n){this.url=i,this.navigationBehaviorOptions=n}};function Ooe(e,i){return e.providers&&!e._injector&&(e._injector=ck(e.providers,i,`Route: ${e.path}`)),e._injector??i}function hl(e){return e.outlet||Si}function Noe(e,i){let n=e.filter(o=>hl(o)===i);return n.push(...e.filter(o=>hl(o)!==i)),n}function iw(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){let n=i.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var iA=class{get injector(){return iw(this.route?.snapshot)??this.rootInjector}set injector(i){}constructor(i){this.rootInjector=i,this.outlet=null,this.route=null,this.children=new Rx(this.rootInjector),this.attachRef=null}},Rx=(()=>{let i=class i{constructor(o){this.rootInjector=o,this.contexts=new Map}onChildOutletCreated(o,r){let s=this.getOrCreateContext(o);s.outlet=r,this.contexts.set(o,s)}onChildOutletDestroyed(o){let r=this.getContext(o);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let r=this.getContext(o);return r||(r=new iA(this.rootInjector),this.contexts.set(o,r)),r}getContext(o){return this.contexts.get(o)||null}};i.\u0275fac=function(r){return new(r||i)(Et(Kr))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),_x=class{constructor(i){this._root=i}get root(){return this._root.value}parent(i){let n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){let n=nA(i,this._root);return n?n.children.map(o=>o.value):[]}firstChild(i){let n=nA(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){let n=oA(i,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return oA(i,this._root).map(n=>n.value)}};function nA(e,i){if(e===i.value)return i;for(let n of i.children){let o=nA(e,n);if(o)return o}return null}function oA(e,i){if(e===i.value)return[i];for(let n of i.children){let o=oA(e,n);if(o.length)return o.unshift(i),o}return[]}var fs=class{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ym(e){let i={};return e&&e.children.forEach(n=>i[n.value.outlet]=n),i}var xx=class extends _x{constructor(i,n){super(i),this.snapshot=n,gA(this,i)}toString(){return this.snapshot.toString()}};function H9(e){let i=Boe(e),n=new bo([new Rg("",{})]),o=new bo({}),r=new bo({}),s=new bo({}),l=new bo(""),c=new pl(n,o,s,l,r,Si,e,i.root);return c.snapshot=i.root,new xx(new fs(c,[]),i)}function Boe(e){let i={},n={},o={},r="",s=new Qm([],i,o,r,n,Si,e,null,{});return new Ex("",new fs(s,[]))}var pl=class{constructor(i,n,o,r,s,l,c,u){this.urlSubject=i,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(kt(d=>d[tw]))??Bt(void 0),this.url=i,this.params=n,this.queryParams=o,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(kt(i=>Jm(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(kt(i=>Jm(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Dx(e,i,n="emptyOnly"){let o,{routeConfig:r}=e;return i!==null&&(n==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?o={params:We(We({},i.params),e.params),data:We(We({},i.data),e.data),resolve:We(We(We(We({},e.data),i.data),r?.data),e._resolvedData)}:o={params:We({},e.params),data:We({},e.data),resolve:We(We({},e.data),e._resolvedData??{})},r&&G9(r)&&(o.resolve[tw]=r.title),o}var Qm=class{get title(){return this.data?.[tw]}constructor(i,n,o,r,s,l,c,u,d){this.url=i,this.params=n,this.queryParams=o,this.fragment=r,this.data=s,this.outlet=l,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jm(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(o=>o.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${n}')`}},Ex=class extends _x{constructor(i,n){super(n),this.url=i,gA(this,n)}toString(){return z9(this._root)}};function gA(e,i){i.value._routerState=e,i.children.forEach(n=>gA(e,n))}function z9(e){let i=e.children.length>0?` { ${e.children.map(z9).join(", ")} } `:"";return`${e.value}${i}`}function Bk(e){if(e.snapshot){let i=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Zl(i.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),i.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Zl(i.params,n.params)||e.paramsSubject.next(n.params),doe(i.url,n.url)||e.urlSubject.next(n.url),Zl(i.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function rA(e,i){let n=Zl(e.params,i.params)&&foe(e.url,i.url),o=!e.parent!=!i.parent;return n&&!o&&(!e.parent||rA(e.parent,i.parent))}function G9(e){return typeof e.title=="string"||e.title===null}var fA=(()=>{let i=class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Si,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=wt(Rx),this.location=wt(Vs),this.changeDetector=wt(Dg),this.inputBinder=wt(mA,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(o){if(o.name){let{firstChange:r,previousValue:s}=o.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Zt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Zt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Zt(4012,!1);this.location.detach();let o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,r){this.activated=o,this._activatedRoute=r,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){let o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,r){if(this.isActivated)throw new Zt(4013,!1);this._activatedRoute=o;let s=this.location,c=o.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new sA(o,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Mo({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ul]});let e=i;return e})(),sA=class e{__ngOutletInjector(i){return new e(this.route,this.childContexts,i)}constructor(i,n,o){this.route=i,this.childContexts=n,this.parent=o}get(i,n){return i===pl?this.route:i===Rx?this.childContexts:this.parent.get(i,n)}},mA=new Nt("");function Voe(e,i,n){let o=QC(e,i._root,n?n._root:void 0);return new xx(o,i)}function QC(e,i,n){if(n&&e.shouldReuseRoute(i.value,n.value.snapshot)){let o=n.value;o._futureSnapshot=i.value;let r=Hoe(e,i,n);return new fs(o,r)}else{if(e.shouldAttach(i.value)){let s=e.retrieve(i.value);if(s!==null){let l=s.route;return l.value._futureSnapshot=i.value,l.children=i.children.map(c=>QC(e,c)),l}}let o=zoe(i.value),r=i.children.map(s=>QC(e,s));return new fs(o,r)}}function Hoe(e,i,n){return i.children.map(o=>{for(let r of n.children)if(e.shouldReuseRoute(o.value,r.value.snapshot))return QC(e,o,r);return QC(e,o)})}function zoe(e){return new pl(new bo(e.url),new bo(e.params),new bo(e.queryParams),new bo(e.fragment),new bo(e.data),e.outlet,e.component,e)}var XC=class{constructor(i,n){this.redirectTo=i,this.navigationBehaviorOptions=n}},W9="ngNavigationCancelingError";function Ix(e,i){let{redirectTo:n,navigationBehaviorOptions:o}=$C(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=j9(!1,ms.Redirect);return r.url=n,r.navigationBehaviorOptions=o,r}function j9(e,i){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[W9]=!0,n.cancellationCode=i,n}function Goe(e){return U9(e)&&$C(e.url)}function U9(e){return!!e&&e[W9]}var Woe=(e,i,n,o)=>kt(r=>(new aA(i,r.targetRouterState,r.currentRouterState,n,o).activate(e),r)),aA=class{constructor(i,n,o,r,s){this.routeReuseStrategy=i,this.futureState=n,this.currState=o,this.forwardEvent=r,this.inputBindingEnabled=s}activate(i){let n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,i),Bk(this.futureState.root),this.activateChildRoutes(n,o,i)}deactivateChildRoutes(i,n,o){let r=Ym(n);i.children.forEach(s=>{let l=s.value.outlet;this.deactivateRoutes(s,r[l],o),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,o)})}deactivateRoutes(i,n,o){let r=i.value,s=n?n.value:null;if(r===s)if(r.component){let l=o.getContext(r.outlet);l&&this.deactivateChildRoutes(i,n,l.children)}else this.deactivateChildRoutes(i,n,o);else s&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(i,n){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){let o=n.getContext(i.value.outlet),r=o&&i.value.component?o.children:n,s=Ym(i);for(let l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);if(o&&o.outlet){let l=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:l,route:i,contexts:c})}}deactivateRouteAndOutlet(i,n){let o=n.getContext(i.value.outlet),r=o&&i.value.component?o.children:n,s=Ym(i);for(let l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,n,o){let r=Ym(n);i.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],o),this.forwardEvent(new tA(s.value.snapshot))}),i.children.length&&this.forwardEvent(new Jk(i.value.snapshot))}activateRoutes(i,n,o){let r=i.value,s=n?n.value:null;if(Bk(r),r===s)if(r.component){let l=o.getOrCreateContext(r.outlet);this.activateChildRoutes(i,n,l.children)}else this.activateChildRoutes(i,n,o);else if(r.component){let l=o.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),Bk(c.route.value),this.activateChildRoutes(i,null,l.children)}else l.attachRef=null,l.route=r,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(i,null,l.children)}else this.activateChildRoutes(i,null,o)}},Mx=class{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},Xm=class{constructor(i,n){this.component=i,this.route=n}};function joe(e,i,n){let o=e._root,r=i?i._root:null;return HC(o,r,n,[o.value])}function Uoe(e){let i=e.routeConfig?e.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:e,guards:i}}function i0(e,i){let n=Symbol(),o=i.get(e,n);return o===n?typeof e=="function"&&!t7(e)?e:i.get(e):o}function HC(e,i,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ym(i);return e.children.forEach(l=>{$oe(l,s[l.value.outlet],n,o.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,c])=>jC(c,n.getContext(l),r)),r}function $oe(e,i,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,l=i?i.value:null,c=n?n.getContext(e.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){let u=qoe(l,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Mx(o)):(s.data=l.data,s._resolvedData=l._resolvedData),s.component?HC(e,i,c?c.children:null,o,r):HC(e,i,n,o,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Xm(c.outlet.component,l))}else l&&jC(i,c,r),r.canActivateChecks.push(new Mx(o)),s.component?HC(e,null,c?c.children:null,o,r):HC(e,null,n,o,r);return r}function qoe(e,i,n){if(typeof n=="function")return n(e,i);switch(n){case"pathParamsChange":return!kg(e.url,i.url);case"pathParamsOrQueryParamsChange":return!kg(e.url,i.url)||!Zl(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rA(e,i)||!Zl(e.queryParams,i.queryParams);case"paramsChange":default:return!rA(e,i)}}function jC(e,i,n){let o=Ym(e),r=e.value;Object.entries(o).forEach(([s,l])=>{r.component?i?jC(l,i.children.getContext(s),n):jC(l,null,n):jC(l,i,n)}),r.component?i&&i.outlet&&i.outlet.isActivated?n.canDeactivateChecks.push(new Xm(i.outlet.component,r)):n.canDeactivateChecks.push(new Xm(null,r)):n.canDeactivateChecks.push(new Xm(null,r))}function nw(e){return typeof e=="function"}function Koe(e){return typeof e=="boolean"}function Yoe(e){return e&&nw(e.canLoad)}function Zoe(e){return e&&nw(e.canActivate)}function Qoe(e){return e&&nw(e.canActivateChild)}function Xoe(e){return e&&nw(e.canDeactivate)}function Joe(e){return e&&nw(e.canMatch)}function $9(e){return e instanceof Nu||e?.name==="EmptyError"}var mx=Symbol("INITIAL_VALUE");function t0(){return cn(e=>zh(e.map(i=>i.pipe(to(1),Uh(mx)))).pipe(kt(i=>{for(let n of i)if(n!==!0){if(n===mx)return mx;if(n===!1||ere(n))return n}return!0}),bi(i=>i!==mx),to(1)))}function ere(e){return $C(e)||e instanceof XC}function tre(e,i){return zn(n=>{let{targetSnapshot:o,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=n;return l.length===0&&s.length===0?Bt(Ft(We({},n),{guardsResult:!0})):ire(l,o,r,e).pipe(zn(c=>c&&Koe(c)?nre(o,s,e,i):Bt(c)),kt(c=>Ft(We({},n),{guardsResult:c})))})}function ire(e,i,n,o){return fn(e).pipe(zn(r=>lre(r.component,r.route,n,i,o)),Ur(r=>r!==!0,!0))}function nre(e,i,n,o){return fn(i).pipe(Gh(r=>Vl(rre(r.route.parent,o),ore(r.route,o),are(e,r.path,n),sre(e,r.route,n))),Ur(r=>r!==!0,!0))}function ore(e,i){return e!==null&&i&&i(new eA(e)),Bt(!0)}function rre(e,i){return e!==null&&i&&i(new Xk(e)),Bt(!0)}function sre(e,i,n){let o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||o.length===0)return Bt(!0);let r=o.map(s=>Bu(()=>{let l=iw(i)??n,c=i0(s,l),u=Zoe(c)?c.canActivate(i,e):cl(l,()=>c(i,e));return op(u).pipe(Ur())}));return Bt(r).pipe(t0())}function are(e,i,n){let o=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(l=>Uoe(l)).filter(l=>l!==null).map(l=>Bu(()=>{let c=l.guards.map(u=>{let d=iw(l.node)??n,h=i0(u,d),p=Qoe(h)?h.canActivateChild(o,e):cl(d,()=>h(o,e));return op(p).pipe(Ur())});return Bt(c).pipe(t0())}));return Bt(s).pipe(t0())}function lre(e,i,n,o,r){let s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!s||s.length===0)return Bt(!0);let l=s.map(c=>{let u=iw(i)??r,d=i0(c,u),h=Xoe(d)?d.canDeactivate(e,i,n,o):cl(u,()=>d(e,i,n,o));return op(h).pipe(Ur())});return Bt(l).pipe(t0())}function cre(e,i,n,o){let r=i.canLoad;if(r===void 0||r.length===0)return Bt(!0);let s=r.map(l=>{let c=i0(l,e),u=Yoe(c)?c.canLoad(i,n):cl(e,()=>c(i,n));return op(u)});return Bt(s).pipe(t0(),q9(o))}function q9(e){return UI(Rn(i=>{if(typeof i!="boolean")throw Ix(e,i)}),kt(i=>i===!0))}function ure(e,i,n,o){let r=i.canMatch;if(!r||r.length===0)return Bt(!0);let s=r.map(l=>{let c=i0(l,e),u=Joe(c)?c.canMatch(i,n):cl(e,()=>c(i,n));return op(u)});return Bt(s).pipe(t0(),q9(o))}var JC=class{constructor(i){this.segmentGroup=i||null}},ew=class extends Error{constructor(i){super(),this.urlTree=i}};function Km(e){return Oo(new JC(e))}function dre(e){return Oo(new Zt(4e3,!1))}function hre(e){return Oo(j9(!1,ms.GuardRejected))}var lA=class{constructor(i,n){this.urlSerializer=i,this.urlTree=n}lineralizeSegments(i,n){let o=[],r=n.root;for(;;){if(o=o.concat(r.segments),r.numberOfChildren===0)return Bt(o);if(r.numberOfChildren>1||!r.children[Si])return dre(`${i.redirectTo}`);r=r.children[Si]}}applyRedirectCommands(i,n,o,r,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:h,url:p,outlet:g,params:f,data:y,title:M}=r,k=cl(s,()=>c({params:f,data:y,queryParams:u,fragment:d,routeConfig:h,url:p,outlet:g,title:M}));if(k instanceof ip)throw new ew(k);n=k}let l=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),i,o);if(n[0]==="/")throw new ew(l);return l}applyRedirectCreateUrlTree(i,n,o,r){let s=this.createSegmentGroup(i,n.root,o,r);return new ip(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){let o={};return Object.entries(i).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);o[r]=n[c]}else o[r]=s}),o}createSegmentGroup(i,n,o,r){let s=this.createSegments(i,n.segments,o,r),l={};return Object.entries(n.children).forEach(([c,u])=>{l[c]=this.createSegmentGroup(i,u,o,r)}),new dn(s,l)}createSegments(i,n,o,r){return n.map(s=>s.path[0]===":"?this.findPosParam(i,s,r):this.findOrReturn(s,o))}findPosParam(i,n,o){let r=o[n.path.substring(1)];if(!r)throw new Zt(4001,!1);return r}findOrReturn(i,n){let o=0;for(let r of n){if(r.path===i.path)return n.splice(o),r;o++}return i}},cA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pre(e,i,n,o,r){let s=vA(e,i,n);return s.matched?(o=Ooe(i,o),ure(o,i,n,r).pipe(kt(l=>l===!0?s:We({},cA)))):Bt(s)}function vA(e,i,n){if(i.path==="**")return gre(n);if(i.path==="")return i.pathMatch==="full"&&(e.hasChildren()||n.length>0)?We({},cA):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(i.matcher||uoe)(n,e,i);if(!r)return We({},cA);let s={};Object.entries(r.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let l=r.consumed.length>0?We(We({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function gre(e){return{matched:!0,parameters:e.length>0?I9(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function _9(e,i,n,o){return n.length>0&&vre(e,n,o)?{segmentGroup:new dn(i,mre(o,new dn(n,e.children))),slicedSegments:[]}:n.length===0&&Cre(e,n,o)?{segmentGroup:new dn(e.segments,fre(e,n,o,e.children)),slicedSegments:n}:{segmentGroup:new dn(e.segments,e.children),slicedSegments:n}}function fre(e,i,n,o){let r={};for(let s of n)if(kx(e,i,s)&&!o[hl(s)]){let l=new dn([],{});r[hl(s)]=l}return We(We({},o),r)}function mre(e,i){let n={};n[Si]=i;for(let o of e)if(o.path===""&&hl(o)!==Si){let r=new dn([],{});n[hl(o)]=r}return n}function vre(e,i,n){return n.some(o=>kx(e,i,o)&&hl(o)!==Si)}function Cre(e,i,n){return n.some(o=>kx(e,i,o))}function kx(e,i,n){return(e.hasChildren()||i.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wre(e,i,n,o){return hl(e)!==o&&(o===Si||!kx(i,n,e))?!1:vA(i,e,n).matched}function bre(e,i,n){return i.length===0&&!e.children[n]}var uA=class{};function yre(e,i,n,o,r,s,l="emptyOnly"){return new dA(e,i,n,o,r,l,s).recognize()}var Sre=31,dA=class{constructor(i,n,o,r,s,l,c){this.injector=i,this.configLoader=n,this.rootComponentType=o,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.applyRedirects=new lA(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new Zt(4002,`'${i.segmentGroup}'`)}recognize(){let i=_9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(kt(({children:n,rootSnapshot:o})=>{let r=new fs(o,n),s=new Ex("",r),l=Roe(o,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),{state:s,tree:l}}))}match(i){let n=new Qm([],Object.freeze({}),Object.freeze(We({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Si,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Si,n).pipe(kt(o=>({children:o,rootSnapshot:n})),eo(o=>{if(o instanceof ew)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof JC?this.noMatchError(o):o}))}processSegmentGroup(i,n,o,r,s){return o.segments.length===0&&o.hasChildren()?this.processChildren(i,n,o,s):this.processSegment(i,n,o,o.segments,r,!0,s).pipe(kt(l=>l instanceof fs?[l]:[]))}processChildren(i,n,o,r){let s=[];for(let l of Object.keys(o.children))l==="primary"?s.unshift(l):s.push(l);return fn(s).pipe(Gh(l=>{let c=o.children[l],u=Noe(n,l);return this.processSegmentGroup(i,u,c,l,r)}),rM((l,c)=>(l.push(...c),l)),jh(null),nM(),zn(l=>{if(l===null)return Km(o);let c=K9(l);return _re(c),Bt(c)}))}processSegment(i,n,o,r,s,l,c){return fn(n).pipe(Gh(u=>this.processSegmentAgainstRoute(u._injector??i,n,u,o,r,s,l,c).pipe(eo(d=>{if(d instanceof JC)return Bt(null);throw d}))),Ur(u=>!!u),eo(u=>{if($9(u))return bre(o,r,s)?Bt(new uA):Km(o);throw u}))}processSegmentAgainstRoute(i,n,o,r,s,l,c,u){return wre(o,r,s,l)?o.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,o,s,l,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(i,r,n,o,s,l,u):Km(r):Km(r)}expandSegmentAgainstRouteUsingRedirect(i,n,o,r,s,l,c){let{matched:u,parameters:d,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=vA(n,r,s);if(!u)return Km(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Sre&&(this.allowRedirects=!1));let f=new Qm(s,d,Object.freeze(We({},this.urlTree.queryParams)),this.urlTree.fragment,x9(r),hl(r),r.component??r._loadedComponent??null,r,D9(r)),y=Dx(f,c,this.paramsInheritanceStrategy);f.params=Object.freeze(y.params),f.data=Object.freeze(y.data);let M=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,f,i);return this.applyRedirects.lineralizeSegments(r,M).pipe(zn(k=>this.processSegment(i,o,n,k.concat(g),l,!1,c)))}matchSegmentAgainstRoute(i,n,o,r,s,l){let c=pre(n,o,r,i,this.urlSerializer);return o.path==="**"&&(n.children={}),c.pipe(cn(u=>u.matched?(i=o._injector??i,this.getChildConfig(i,o,r).pipe(cn(({routes:d})=>{let h=o._loadedInjector??i,{parameters:p,consumedSegments:g,remainingSegments:f}=u,y=new Qm(g,p,Object.freeze(We({},this.urlTree.queryParams)),this.urlTree.fragment,x9(o),hl(o),o.component??o._loadedComponent??null,o,D9(o)),M=Dx(y,l,this.paramsInheritanceStrategy);y.params=Object.freeze(M.params),y.data=Object.freeze(M.data);let{segmentGroup:k,slicedSegments:G}=_9(n,g,f,d);if(G.length===0&&k.hasChildren())return this.processChildren(h,d,k,y).pipe(kt($=>new fs(y,$)));if(d.length===0&&G.length===0)return Bt(new fs(y,[]));let J=hl(o)===s;return this.processSegment(h,d,k,G,J?Si:s,!0,y).pipe(kt($=>new fs(y,$ instanceof fs?[$]:[])))}))):Km(n)))}getChildConfig(i,n,o){return n.children?Bt({routes:n.children,injector:i}):n.loadChildren?n._loadedRoutes!==void 0?Bt({routes:n._loadedRoutes,injector:n._loadedInjector}):cre(i,n,o,this.urlSerializer).pipe(zn(r=>r?this.configLoader.loadChildren(i,n).pipe(Rn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):hre(n))):Bt({routes:[],injector:i})}};function _re(e){e.sort((i,n)=>i.value.outlet===Si?-1:n.value.outlet===Si?1:i.value.outlet.localeCompare(n.value.outlet))}function xre(e){let i=e.value.routeConfig;return i&&i.path===""}function K9(e){let i=[],n=new Set;for(let o of e){if(!xre(o)){i.push(o);continue}let r=i.find(s=>o.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...o.children),n.add(r)):i.push(o)}for(let o of n){let r=K9(o.children);i.push(new fs(o.value,r))}return i.filter(o=>!n.has(o))}function x9(e){return e.data||{}}function D9(e){return e.resolve||{}}function Dre(e,i,n,o,r,s){return zn(l=>yre(e,i,n,o,l.extractedUrl,r,s).pipe(kt(({state:c,tree:u})=>Ft(We({},l),{targetSnapshot:c,urlAfterRedirects:u}))))}function Ere(e,i){return zn(n=>{let{targetSnapshot:o,guards:{canActivateChecks:r}}=n;if(!r.length)return Bt(n);let s=new Set(r.map(u=>u.route)),l=new Set;for(let u of s)if(!l.has(u))for(let d of Y9(u))l.add(d);let c=0;return fn(l).pipe(Gh(u=>s.has(u)?Ire(u,o,e,i):(u.data=Dx(u,u.parent,e).resolve,Bt(void 0))),Rn(()=>c++),Sm(1),zn(u=>c===l.size?Bt(n):yr))})}function Y9(e){let i=e.children.map(n=>Y9(n)).flat();return[e,...i]}function Ire(e,i,n,o){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!G9(r)&&(s[tw]=r.title),Mre(s,e,i,o).pipe(kt(l=>(e._resolvedData=l,e.data=Dx(e,e.parent,n).resolve,null)))}function Mre(e,i,n,o){let r=zk(e);if(r.length===0)return Bt({});let s={};return fn(r).pipe(zn(l=>Rre(e[l],i,n,o).pipe(Ur(),Rn(c=>{if(c instanceof XC)throw Ix(new UC,c);s[l]=c}))),Sm(1),pC(s),eo(l=>$9(l)?yr:Oo(l)))}function Rre(e,i,n,o){let r=iw(i)??o,s=i0(e,r),l=s.resolve?s.resolve(i,n):cl(r,()=>s(i,n));return op(l)}function Vk(e){return cn(i=>{let n=e(i);return n?fn(n).pipe(kt(()=>i)):Bt(i)})}var Z9=(()=>{let i=class i{buildTitle(o){let r,s=o.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(l=>l.outlet===Si);return r}getResolvedTitleForRoute(o){return o.data[tw]}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>wt(kre),providedIn:"root"});let e=i;return e})(),kre=(()=>{let i=class i extends Z9{constructor(o){super(),this.title=o}updateTitle(o){let r=this.buildTitle(o);r!==void 0&&this.title.setTitle(r)}};i.\u0275fac=function(r){return new(r||i)(Et(C9))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),CA=new Nt("",{providedIn:"root",factory:()=>({})}),Are=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=Ai({type:i,selectors:[["ng-component"]],standalone:!0,features:[Gi],decls:1,vars:0,template:function(r,s){r&1&&Pt(0,"router-outlet")},dependencies:[fA],encapsulation:2});let e=i;return e})();function wA(e){let i=e.children&&e.children.map(wA),n=i?Ft(We({},e),{children:i}):We({},e);return!n.component&&!n.loadComponent&&(i||n.loadChildren)&&n.outlet&&n.outlet!==Si&&(n.component=Are),n}var bA=new Nt(""),Fre=(()=>{let i=class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=wt(gk)}loadComponent(o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return Bt(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let r=op(o.loadComponent()).pipe(kt(Q9),Rn(l=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=l}),rg(()=>{this.componentLoaders.delete(o)})),s=new Hh(r,()=>new $i).pipe(gm());return this.componentLoaders.set(o,s),s}loadChildren(o,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Bt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let l=Tre(r,this.compiler,o,this.onLoadEndListener).pipe(rg(()=>{this.childrenLoaders.delete(r)})),c=new Hh(l,()=>new $i).pipe(gm());return this.childrenLoaders.set(r,c),c}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Tre(e,i,n,o){return op(e.loadChildren()).pipe(kt(Q9),zn(r=>r instanceof xC||Array.isArray(r)?Bt(r):fn(i.compileModuleAsync(r))),kt(r=>{o&&o(e);let s,l,c=!1;return Array.isArray(r)?(l=r,c=!0):(s=r.create(n).injector,l=s.get(bA,[],{optional:!0,self:!0}).flat()),{routes:l.map(wA),injector:s}}))}function Pre(e){return e&&typeof e=="object"&&"default"in e}function Q9(e){return Pre(e)?e.default:e}var yA=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>wt(Lre),providedIn:"root"});let e=i;return e})(),Lre=(()=>{let i=class i{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,r){return o}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),Ore=new Nt("");var Nre=new Nt(""),Bre=(()=>{let i=class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $i,this.transitionAbortSubject=new $i,this.configLoader=wt(Fre),this.environmentInjector=wt(Kr),this.urlSerializer=wt(pA),this.rootContexts=wt(Rx),this.location=wt(kC),this.inputBindingEnabled=wt(mA,{optional:!0})!==null,this.titleStrategy=wt(Z9),this.options=wt(CA,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=wt(yA),this.createViewTransition=wt(Ore,{optional:!0}),this.navigationErrorHandler=wt(Nre,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bt(void 0),this.rootComponentType=null;let o=s=>this.events.next(new Zk(s)),r=s=>this.events.next(new Qk(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=o}complete(){this.transitions?.complete()}handleNavigationRequest(o){let r=++this.navigationId;this.transitions?.next(Ft(We(We({},this.transitions.value),o),{id:r}))}setupNavigations(o,r,s){return this.transitions=new bo({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:WC,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bi(l=>l.id!==0),kt(l=>Ft(We({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),cn(l=>{let c=!1,u=!1;return Bt(l).pipe(cn(d=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",ms.SupersededByNewNavigation),yr;this.currentTransition=l,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Ft(We({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??o.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new Ag(d.id,this.urlSerializer.serialize(d.rawUrl),g,Uk.IgnoredSameUrlNavigation)),d.resolve(!1),yr}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Bt(d).pipe(cn(g=>{let f=this.transitions?.getValue();return this.events.next(new KC(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),f!==this.transitions?.getValue()?yr:Promise.resolve(g)}),Dre(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),Rn(g=>{l.targetSnapshot=g.targetSnapshot,l.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Ft(We({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let f=new Sx(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(f)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:g,extractedUrl:f,source:y,restoredState:M,extras:k}=d,G=new KC(g,this.urlSerializer.serialize(f),y,M);this.events.next(G);let J=H9(this.rootComponentType).snapshot;return this.currentTransition=l=Ft(We({},d),{targetSnapshot:J,urlAfterRedirects:f,extras:Ft(We({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Bt(l)}else{let g="";return this.events.next(new Ag(d.id,this.urlSerializer.serialize(d.extractedUrl),g,Uk.IgnoredByUrlHandlingStrategy)),d.resolve(!1),yr}}),Rn(d=>{let h=new $k(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),kt(d=>(this.currentTransition=l=Ft(We({},d),{guards:joe(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),l)),tre(this.environmentInjector,d=>this.events.next(d)),Rn(d=>{if(l.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Ix(this.urlSerializer,d.guardsResult);let h=new qk(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),bi(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",ms.GuardRejected),!1)),Vk(d=>{if(d.guards.canActivateChecks.length)return Bt(d).pipe(Rn(h=>{let p=new Kk(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),cn(h=>{let p=!1;return Bt(h).pipe(Ere(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",ms.NoDataFromResolver)}}))}),Rn(h=>{let p=new Yk(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Vk(d=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Rn(f=>{p.component=f}),kt(()=>{})));for(let f of p.children)g.push(...h(f));return g};return zh(h(d.targetSnapshot.root)).pipe(jh(null),to(1))}),Vk(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:d,targetSnapshot:h}=l,p=this.createViewTransition?.(this.environmentInjector,d.root,h.root);return p?fn(p).pipe(kt(()=>l)):Bt(l)}),kt(d=>{let h=Voe(o.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=l=Ft(We({},d),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,l}),Rn(()=>{this.events.next(new ZC)}),Woe(this.rootContexts,o.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),to(1),Rn({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new np(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),sg(this.transitionAbortSubject.pipe(Rn(d=>{throw d}))),rg(()=>{!c&&!u&&this.cancelNavigationTransition(l,"",ms.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),eo(d=>{if(u=!0,U9(d))this.events.next(new Xu(l.id,this.urlSerializer.serialize(l.extractedUrl),d.message,d.cancellationCode)),Goe(d)?this.events.next(new e0(d.url,d.navigationBehaviorOptions)):l.resolve(!1);else{let h=new YC(l.id,this.urlSerializer.serialize(l.extractedUrl),d,l.targetSnapshot??void 0);try{let p=cl(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof XC){let{message:g,cancellationCode:f}=Ix(this.urlSerializer,p);this.events.next(new Xu(l.id,this.urlSerializer.serialize(l.extractedUrl),g,f)),this.events.next(new e0(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let g=o.errorHandler(d);l.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(p)}}return yr}))}))}cancelNavigationTransition(o,r,s){let l=new Xu(o.id,this.urlSerializer.serialize(o.extractedUrl),r,s);this.events.next(l),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function Vre(e){return e!==WC}var Hre=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>wt(zre),providedIn:"root"});let e=i;return e})(),hA=class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}},zre=(()=>{let i=class i extends hA{};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=$l(i)))(s||i)}})(),i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),X9=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:()=>wt(Gre),providedIn:"root"});let e=i;return e})(),Gre=(()=>{let i=class i extends X9{constructor(){super(...arguments),this.location=wt(kC),this.urlSerializer=wt(pA),this.options=wt(CA,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=wt(yA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ip,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=H9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(r=>{r.type==="popstate"&&o(r.url,r.state)})}handleRouterEvent(o,r){if(o instanceof KC)this.stateMemento=this.createStateMemento();else if(o instanceof Ag)this.rawUrlTree=r.initialUrl;else if(o instanceof Sx){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else o instanceof ZC?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):o instanceof Xu&&(o.code===ms.GuardRejected||o.code===ms.NoDataFromResolver)?this.restoreHistory(r):o instanceof YC?this.restoreHistory(r,!0):o instanceof np&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,r){let s=this.urlSerializer.serialize(o);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let l=this.browserPageId,c=We(We({},r.extras.state),this.generateNgRouterState(r.id,l));this.location.replaceState(s,"",c)}else{let l=We(We({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",l)}}restoreHistory(o,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,l=this.currentPageId-s;l!==0?this.location.historyGo(l):this.currentUrlTree===o.finalUrl&&l===0&&(this.resetState(o),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,r){return this.canceledNavigationResolution==="computed"?{navigationId:o,\u0275routerPageId:r}:{navigationId:o}}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=$l(i)))(s||i)}})(),i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),zC=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(zC||{});function Wre(e,i){e.events.pipe(bi(n=>n instanceof np||n instanceof Xu||n instanceof YC||n instanceof Ag),kt(n=>n instanceof np||n instanceof Ag?zC.COMPLETE:(n instanceof Xu?n.code===ms.Redirect||n.code===ms.SupersededByNewNavigation:!1)?zC.REDIRECTING:zC.FAILED),bi(n=>n!==zC.REDIRECTING),to(1)).subscribe(()=>{i()})}function jre(e){throw e}var Ure={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$re={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ow=(()=>{let i=class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=wt(nx),this.stateManager=wt(X9),this.options=wt(CA,{optional:!0})||{},this.pendingTasks=wt(ep),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=wt(Bre),this.urlSerializer=wt(pA),this.location=wt(kC),this.urlHandlingStrategy=wt(yA),this._events=new $i,this.errorHandler=this.options.errorHandler||jre,this.navigated=!1,this.routeReuseStrategy=wt(Hre),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=wt(bA,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!wt(mA,{optional:!0}),this.eventsSubscription=new Hn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let o=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(s!==null&&l!==null){if(this.stateManager.handleRouterEvent(r,l),r instanceof Xu&&r.code!==ms.Redirect&&r.code!==ms.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof np)this.navigated=!0;else if(r instanceof e0){let c=r.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),d=We({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Vre(s.source)},c);this.scheduleNavigation(u,WC,null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Kre(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),WC,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(o,"popstate",r)},0)})}navigateToSyncWithBrowser(o,r,s){let l={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let d=We({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(l.state=d)}let u=this.parseUrl(o);this.scheduleNavigation(u,r,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(wA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,r={}){let{relativeTo:s,queryParams:l,fragment:c,queryParamsHandling:u,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=We(We({},this.currentUrlTree.queryParams),l);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=l||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let f=s?s.snapshot:this.routerState.snapshot.root;g=O9(f)}catch{(typeof o[0]!="string"||o[0][0]!=="/")&&(o=[]),g=this.currentUrlTree.root}return N9(g,o,p,h??null)}navigateByUrl(o,r={skipLocationChange:!1}){let s=$C(o)?o:this.parseUrl(o),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,WC,null,r)}navigate(o,r={skipLocationChange:!1}){return qre(o),this.navigateByUrl(this.createUrlTree(o,r),r)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,r){let s;if(r===!0?s=We({},Ure):r===!1?s=We({},$re):s=r,$C(o))return w9(this.currentUrlTree,o,s);let l=this.parseUrl(o);return w9(this.currentUrlTree,l,s)}removeEmptyProps(o){return Object.entries(o).reduce((r,[s,l])=>(l!=null&&(r[s]=l),r),{})}scheduleNavigation(o,r,s,l,c){if(this.disposed)return Promise.resolve(!1);let u,d,h;c?(u=c.resolve,d=c.reject,h=c.promise):h=new Promise((g,f)=>{u=g,d=f});let p=this.pendingTasks.add();return Wre(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:l,resolve:u,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function qre(e){for(let i=0;i<e.length;i++)if(e[i]==null)throw new Zt(4008,!1)}function Kre(e){return!(e instanceof ZC)&&!(e instanceof e0)}var J9=(()=>{let i=class i{constructor(o,r,s,l,c,u){this.router=o,this.route=r,this.tabIndexAttribute=s,this.renderer=l,this.el=c,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new $i,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let d=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=o.events.subscribe(h=>{h instanceof np&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(o){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(o){o!=null?(this.commands=Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(o,r,s,l,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(o!==0||r||s||l||c||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let o=this.urlTree;this.href=o!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o)):null;let r=this.href===null?null:_H(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(o,r){let s=this.renderer,l=this.el.nativeElement;r!==null?s.setAttribute(l,o,r):s.removeAttribute(l,o)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};i.\u0275fac=function(r){return new(r||i)(at(ow),at(pl),HR("tabindex"),at(gs),at(Tn),at($m))},i.\u0275dir=Mo({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&_t("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),r&2&&tx("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Eg],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Eg],replaceUrl:[2,"replaceUrl","replaceUrl",Eg],routerLink:"routerLink"},standalone:!0,features:[lk,ul]});let e=i;return e})();var Yre=new Nt("");function eG(e,...i){return Uu([{provide:bA,multi:!0,useValue:e},[],{provide:pl,useFactory:Zre,deps:[ow]},{provide:rx,multi:!0,useFactory:Qre},i.map(n=>n.\u0275providers)])}function Zre(e){return e.routerState.root}function Qre(){let e=wt(Ul);return i=>{let n=e.get(Yl);if(i!==n.components[0])return;let o=e.get(ow),r=e.get(Xre);e.get(Jre)===1&&o.initialNavigation(),e.get(ese,null,Di.Optional)?.setUpPreloading(),e.get(Yre,null,Di.Optional)?.init(),o.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Xre=new Nt("",{factory:()=>new $i}),Jre=new Nt("",{providedIn:"root",factory:()=>1});var ese=new Nt("");var uG=(()=>{let i=class i{constructor(o,r){this._renderer=o,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(o,r){this._renderer.setProperty(this._elementRef.nativeElement,o,r)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}};i.\u0275fac=function(r){return new(r||i)(at(gs),at(Tn))},i.\u0275dir=Mo({type:i});let e=i;return e})(),EA=(()=>{let i=class i extends uG{};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=$l(i)))(s||i)}})(),i.\u0275dir=Mo({type:i,features:[ql]});let e=i;return e})(),s0=new Nt("");var tse={provide:s0,useExisting:ju(()=>Ql),multi:!0};function ise(){let e=Qu()?Qu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var nse=new Nt(""),Ql=(()=>{let i=class i extends uG{constructor(o,r,s){super(o,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ise())}writeValue(o){let r=o??"";this.setProperty("value",r)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}};i.\u0275fac=function(r){return new(r||i)(at(gs),at(Tn),at(nse,8))},i.\u0275dir=Mo({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&_t("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Qr([tse]),ql]});let e=i;return e})();var ose=new Nt(""),rse=new Nt("");function dG(e){return e!=null}function hG(e){return xg(e)?fn(e):e}function pG(e){let i={};return e.forEach(n=>{i=n!=null?We(We({},i),n):i}),Object.keys(i).length===0?null:i}function gG(e,i){return i.map(n=>n(e))}function sse(e){return!e.validate}function fG(e){return e.map(i=>sse(i)?i:n=>i.validate(n))}function ase(e){if(!e)return null;let i=e.filter(dG);return i.length==0?null:function(n){return pG(gG(n,i))}}function mG(e){return e!=null?ase(fG(e)):null}function lse(e){if(!e)return null;let i=e.filter(dG);return i.length==0?null:function(n){let o=gG(n,i).map(hG);return hC(o).pipe(kt(pG))}}function vG(e){return e!=null?lse(fG(e)):null}function iG(e,i){return e===null?[i]:Array.isArray(e)?[...e,i]:[e,i]}function cse(e){return e._rawValidators}function use(e){return e._rawAsyncValidators}function SA(e){return e?Array.isArray(e)?e:[e]:[]}function Fx(e,i){return Array.isArray(e)?e.includes(i):e===i}function nG(e,i){let n=SA(i);return SA(e).forEach(r=>{Fx(n,r)||n.push(r)}),n}function oG(e,i){return SA(i).filter(n=>!Fx(e,n))}var Tx=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=mG(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=vG(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,n){return this.control?this.control.hasError(i,n):!1}getError(i,n){return this.control?this.control.getError(i,n):null}},_A=class extends Tx{get formDirective(){return null}get path(){return null}},cw=class extends Tx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xA=class{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},dse={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},gTe=Ft(We({},dse),{"[class.ng-submitted]":"isSubmitted"}),js=(()=>{let i=class i extends xA{constructor(o){super(o)}};i.\u0275fac=function(r){return new(r||i)(at(cw,2))},i.\u0275dir=Mo({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&_g("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[ql]});let e=i;return e})();var rw="VALID",Ax="INVALID",n0="PENDING",sw="DISABLED",r0=class{},Px=class extends r0{constructor(i,n){super(),this.value=i,this.source=n}},aw=class extends r0{constructor(i,n){super(),this.pristine=i,this.source=n}},lw=class extends r0{constructor(i,n){super(),this.touched=i,this.source=n}},o0=class extends r0{constructor(i,n){super(),this.status=i,this.source=n}};function hse(e){return(Lx(e)?e.validators:e)||null}function pse(e){return Array.isArray(e)?mG(e):e||null}function gse(e,i){return(Lx(i)?i.asyncValidators:e)||null}function fse(e){return Array.isArray(e)?vG(e):e||null}function Lx(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var DA=class{constructor(i,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new $i,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===rw}get invalid(){return this.status===Ax}get pending(){return this.status==n0}get disabled(){return this.status===sw}get enabled(){return this.status!==sw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(nG(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(nG(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(oG(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(oG(i,this._rawAsyncValidators))}hasValidator(i){return Fx(this._rawValidators,i)}hasAsyncValidator(i){return Fx(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let n=this.touched===!1;this.touched=!0;let o=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(Ft(We({},i),{sourceControl:o})),n&&i.emitEvent!==!1&&this._events.next(new lw(!0,o))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(i))}markAsUntouched(i={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let o=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:o})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,o),n&&i.emitEvent!==!1&&this._events.next(new lw(!1,o))}markAsDirty(i={}){let n=this.pristine===!0;this.pristine=!1;let o=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(Ft(We({},i),{sourceControl:o})),n&&i.emitEvent!==!1&&this._events.next(new aw(!1,o))}markAsPristine(i={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let o=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,o),n&&i.emitEvent!==!1&&this._events.next(new aw(!0,o))}markAsPending(i={}){this.status=n0;let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new o0(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(Ft(We({},i),{sourceControl:n}))}disable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=sw,this.errors=null,this._forEachChild(r=>{r.disable(Ft(We({},i),{onlySelf:!0}))}),this._updateValue();let o=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Px(this.value,o)),this._events.next(new o0(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ft(We({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let n=this._parentMarkedDirty(i.onlySelf);this.status=rw,this._forEachChild(o=>{o.enable(Ft(We({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Ft(We({},i),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i,n){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rw||this.status===n0)&&this._runAsyncValidator(o,i.emitEvent)}let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Px(this.value,n)),this._events.next(new o0(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(Ft(We({},i),{sourceControl:n}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sw:rw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,n){if(this.asyncValidator){this.status=n0,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let o=hG(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(i){let n=i;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((o,r)=>o&&o._find(r),this)}getError(i,n){let o=n?this.get(n):this;return o&&o.errors?o.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,n,o){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||o)&&this._events.next(new o0(this.status,n)),this._parent&&this._parent._updateControlsErrors(i,n,o)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?sw:this.errors?Ax:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(n0)?n0:this._anyControlsHaveStatus(Ax)?Ax:rw}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,n){let o=!this._anyControlsDirty(),r=this.pristine!==o;this.pristine=o,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),r&&this._events.next(new aw(this.pristine,n))}_updateTouched(i={},n){this.touched=this._anyControlsTouched(),this._events.next(new lw(this.touched,n)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Lx(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let n=this._parent&&this._parent.dirty;return!i&&!!n&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=pse(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=fse(this._rawAsyncValidators)}};var IA=new Nt("CallSetDisabledState",{providedIn:"root",factory:()=>Ox}),Ox="always";function mse(e,i){return[...i.path,e]}function vse(e,i,n=Ox){wse(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&i.valueAccessor.setDisabledState?.(e.disabled),bse(e,i),Sse(e,i),yse(e,i),Cse(e,i)}function rG(e,i){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function Cse(e,i){if(i.valueAccessor.setDisabledState){let n=o=>{i.valueAccessor.setDisabledState(o)};e.registerOnDisabledChange(n),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function wse(e,i){let n=cse(e);i.validator!==null?e.setValidators(iG(n,i.validator)):typeof n=="function"&&e.setValidators([n]);let o=use(e);i.asyncValidator!==null?e.setAsyncValidators(iG(o,i.asyncValidator)):typeof o=="function"&&e.setAsyncValidators([o]);let r=()=>e.updateValueAndValidity();rG(i._rawValidators,r),rG(i._rawAsyncValidators,r)}function bse(e,i){i.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&CG(e,i)})}function yse(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&CG(e,i),e.updateOn!=="submit"&&e.markAsTouched()})}function CG(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Sse(e,i){let n=(o,r)=>{i.valueAccessor.writeValue(o),r&&i.viewToModelUpdate(o)};e.registerOnChange(n),i._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function _se(e,i){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(i,n.currentValue)}function xse(e){return Object.getPrototypeOf(e.constructor)===EA}function Dse(e,i){if(!i)return null;Array.isArray(i);let n,o,r;return i.forEach(s=>{s.constructor===Ql?n=s:xse(s)?o=s:r=s}),r||o||n||null}function sG(e,i){let n=e.indexOf(i);n>-1&&e.splice(n,1)}function aG(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ese=class extends DA{constructor(i=null,n,o){super(hse(n),gse(o,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lx(n)&&(n.nonNullable||n.initialValueIsDefault)&&(aG(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=this.defaultValue,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){sG(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){sG(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){aG(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var Ise={provide:cw,useExisting:ju(()=>vs)},lG=Promise.resolve(),vs=(()=>{let i=class i extends cw{constructor(o,r,s,l,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new Ese,this._registered=!1,this.name="",this.update=new Xe,this._parent=o,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Dse(this,l)}ngOnChanges(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){let r=o.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),_se(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vse(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(o){lG.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(o){let r=o.isDisabled.currentValue,s=r!==0&&Eg(r);lG.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(o){return this._parent?mse(o,this._parent):[o]}};i.\u0275fac=function(r){return new(r||i)(at(_A,9),at(ose,10),at(rse,10),at(s0,10),at(Dg,8),at(IA,8))},i.\u0275dir=Mo({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qr([Ise]),ql,ul]});let e=i;return e})();var Mse=new Nt("");var Rse={provide:s0,useExisting:ju(()=>Nx),multi:!0};function wG(e,i){return e==null?`${i}`:(i&&typeof i=="object"&&(i="Object"),`${e}: ${i}`.slice(0,50))}function kse(e){return e.split(":")[0]}var Nx=(()=>{let i=class i extends EA{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let r=this._getOptionId(o),s=wG(r,o);this.setProperty("value",s)}registerOnChange(o){this.onChange=r=>{this.value=this._getOptionValue(r),o(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(o){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),o))return r;return null}_getOptionValue(o){let r=kse(o);return this._optionMap.has(r)?this._optionMap.get(r):o}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=$l(i)))(s||i)}})(),i.\u0275dir=Mo({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&_t("change",function(c){return s.onChange(c.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qr([Rse]),ql]});let e=i;return e})(),bG=(()=>{let i=class i{constructor(o,r,s){this._element=o,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(o){this._select!=null&&(this._select._optionMap.set(this.id,o),this._setElementValue(wG(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._setElementValue(o),this._select&&this._select.writeValue(this._select.value)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};i.\u0275fac=function(r){return new(r||i)(at(Tn),at(gs),at(Nx,9))},i.\u0275dir=Mo({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=i;return e})(),Ase={provide:s0,useExisting:ju(()=>yG),multi:!0};function cG(e,i){return e==null?`${i}`:(typeof i=="string"&&(i=`'${i}'`),i&&typeof i=="object"&&(i="Object"),`${e}: ${i}`.slice(0,50))}function Fse(e){return e.split(":")[0]}var yG=(()=>{let i=class i extends EA{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let r;if(Array.isArray(o)){let s=o.map(l=>this._getOptionId(l));r=(l,c)=>{l._setSelected(s.indexOf(c.toString())>-1)}}else r=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(o){this.onChange=r=>{let s=[],l=r.selectedOptions;if(l!==void 0){let c=l;for(let u=0;u<c.length;u++){let d=c[u],h=this._getOptionValue(d.value);s.push(h)}}else{let c=r.options;for(let u=0;u<c.length;u++){let d=c[u];if(d.selected){let h=this._getOptionValue(d.value);s.push(h)}}}this.value=s,o(s)}}_registerOption(o){let r=(this._idCounter++).toString();return this._optionMap.set(r,o),r}_getOptionId(o){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,o))return r;return null}_getOptionValue(o){let r=Fse(o);return this._optionMap.has(r)?this._optionMap.get(r)._value:o}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=$l(i)))(s||i)}})(),i.\u0275dir=Mo({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&_t("change",function(c){return s.onChange(c.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qr([Ase]),ql]});let e=i;return e})(),SG=(()=>{let i=class i{constructor(o,r,s){this._element=o,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(o){this._select!=null&&(this._value=o,this._setElementValue(cG(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._select?(this._value=o,this._setElementValue(cG(this.id,o)),this._select.writeValue(this._select.value)):this._setElementValue(o)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}_setSelected(o){this._renderer.setProperty(this._element.nativeElement,"selected",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};i.\u0275fac=function(r){return new(r||i)(at(Tn),at(gs),at(yG,9))},i.\u0275dir=Mo({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=i;return e})();var _G=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({});let e=i;return e})();var yo=(()=>{let i=class i{static withConfig(o){return{ngModule:i,providers:[{provide:IA,useValue:o.callSetDisabledState??Ox}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({imports:[_G]});let e=i;return e})(),Xl=(()=>{let i=class i{static withConfig(o){return{ngModule:i,providers:[{provide:Mse,useValue:o.warnOnNgModelWithFormControl??"always"},{provide:IA,useValue:o.callSetDisabledState??Ox}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({imports:[_G]});let e=i;return e})();var xG="4.2.4";var DG=function(e){return e[e.None=0]="None",e[e.CommonJS=1]="CommonJS",e[e.AMD=2]="AMD",e[e.UMD=3]="UMD",e[e.System=4]="System",e[e.ES2015=5]="ES2015",e[e.ESNext=99]="ESNext",e}(DG||{}),EG=function(e){return e[e.None=0]="None",e[e.Preserve=1]="Preserve",e[e.React=2]="React",e[e.ReactNative=3]="ReactNative",e[e.ReactJSX=4]="ReactJSX",e[e.ReactJSXDev=5]="ReactJSXDev",e}(EG||{}),IG=function(e){return e[e.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",e[e.LineFeed=1]="LineFeed",e}(IG||{}),Bx=function(e){return e[e.ES3=0]="ES3",e[e.ES5=1]="ES5",e[e.ES2015=2]="ES2015",e[e.ES2016=3]="ES2016",e[e.ES2017=4]="ES2017",e[e.ES2018=5]="ES2018",e[e.ES2019=6]="ES2019",e[e.ES2020=7]="ES2020",e[e.ESNext=99]="ESNext",e[e.JSON=100]="JSON",e[e.Latest=99]="Latest",e}(Bx||{}),MG=function(e){return e[e.Classic=1]="Classic",e[e.NodeJs=2]="NodeJs",e}(MG||{}),RG=function(){function e(i,n,o){this._onDidChange=new Lu,this._onDidExtraLibsChange=new Lu,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(i),this.setDiagnosticsOptions(n),this.setWorkerOptions(o),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(i,n){var o=this,r;if(typeof n>"u"?r="ts:extralib-"+Math.random().toString(36).substring(2,15):r=n,this._extraLibs[r]&&this._extraLibs[r].content===i)return{dispose:function(){}};var s=1;return this._removedExtraLibs[r]&&(s=this._removedExtraLibs[r]+1),this._extraLibs[r]&&(s=this._extraLibs[r].version+1),this._extraLibs[r]={content:i,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var l=o._extraLibs[r];l&&l.version===s&&(delete o._extraLibs[r],o._removedExtraLibs[r]=s,o._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(i){for(var n in this._extraLibs)this._removedExtraLibs[n]=this._extraLibs[n].version;if(this._extraLibs=Object.create(null),i&&i.length>0)for(var o=0,r=i;o<r.length;o++){var s=r[o],n=s.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),l=s.content,c=1;this._removedExtraLibs[n]&&(c=this._removedExtraLibs[n]+1),this._extraLibs[n]={content:l,version:c}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var i=this;this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=setTimeout(function(){i._onDidExtraLibsChangeTimeout=-1,i._onDidExtraLibsChange.fire(void 0)},0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(i){this._compilerOptions=i||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setWorkerOptions=function(i){this._workerOptions=i||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(i){},e.prototype.setEagerModelSync=function(i){this._eagerModelSync=i},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}(),Tse=xG,kG=new RG({allowNonTsExtensions:!0,target:Bx.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),AG=new RG({allowNonTsExtensions:!0,allowJs:!0,target:Bx.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{}),Pse=function(){return Vx().then(function(e){return e.getTypeScriptWorker()})},Lse=function(){return Vx().then(function(e){return e.getJavaScriptWorker()})};Yn.typescript={ModuleKind:DG,JsxEmit:EG,NewLineKind:IG,ScriptTarget:Bx,ModuleResolutionKind:MG,typescriptVersion:Tse,typescriptDefaults:kG,javascriptDefaults:AG,getTypeScriptWorker:Pse,getJavaScriptWorker:Lse};function Vx(){return import("./chunk-6UHUNPKI.js")}Yn.onLanguage("typescript",function(){return Vx().then(function(e){return e.setupTypeScript(kG)})});Yn.onLanguage("javascript",function(){return Vx().then(function(e){return e.setupJavaScript(AG)})});var MA=function(){function e(i,n,o){this._onDidChange=new Lu,this._languageId=i,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)},e}(),RA={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},kA={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},FG=new MA("css",RA,kA),TG=new MA("scss",RA,kA),PG=new MA("less",RA,kA);Yn.css={cssDefaults:FG,lessDefaults:PG,scssDefaults:TG};function AA(){return import("./chunk-VRVJFWGZ.js")}Yn.onLanguage("less",function(){AA().then(function(e){return e.setupMode(PG)})});Yn.onLanguage("scss",function(){AA().then(function(e){return e.setupMode(TG)})});Yn.onLanguage("css",function(){AA().then(function(e){return e.setupMode(FG)})});var Ose=function(){function e(i,n,o){this._onDidChange=new Lu,this._languageId=i,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)},e}(),Nse={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Bse={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},LG=new Ose("json",Nse,Bse);Yn.json={jsonDefaults:LG};function Vse(){return import("./chunk-RIPBLIIN.js")}Yn.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});Yn.onLanguage("json",function(){Vse().then(function(e){return e.setupMode(LG)})});var PA=function(){function e(i,n,o){this._onDidChange=new Lu,this._languageId=i,this.setOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(i){this._options=i||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)},e}(),LA={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},Hse={format:LA,suggest:{html5:!0,angular1:!0,ionic:!0}},zse={format:LA,suggest:{html5:!0}},Gse={format:LA,suggest:{html5:!0,razor:!0}};function OA(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===l0,documentFormattingEdits:e===l0,documentRangeFormattingEdits:e===l0}}var l0="html",FA="handlebars",TA="razor",OG=new PA(l0,Hse,OA(l0)),NG=new PA(FA,zse,OA(FA)),BG=new PA(TA,Gse,OA(TA));Yn.html={htmlDefaults:OG,razorDefaults:BG,handlebarDefaults:NG};function NA(){return import("./chunk-UY7PWBKJ.js")}Yn.onLanguage(l0,function(){NA().then(function(e){return e.setupMode(OG)})});Yn.onLanguage(FA,function(){NA().then(function(e){return e.setupMode(NG)})});Yn.onLanguage(TA,function(){NA().then(function(e){return e.setupMode(BG)})});var VG={},BA={},Wse=function(){function e(i){var n=this;this._languageId=i,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(o,r){n._lazyLoadPromiseResolve=o,n._lazyLoadPromiseReject=r})}return e.getOrCreate=function(i){return BA[i]||(BA[i]=new e(i)),BA[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var i=this;return this._loadingTriggered||(this._loadingTriggered=!0,VG[this._languageId].loader().then(function(n){return i._lazyLoadPromiseResolve(n)},function(n){return i._lazyLoadPromiseReject(n)})),this._lazyLoadPromise},e}();function Ke(e){var i=e.id;VG[i]=e,Yn.register(e);var n=Wse.getOrCreate(i);Yn.setMonarchTokensProvider(i,n.whenLoaded().then(function(o){return o.language})),Yn.onLanguage(i,function(){n.load().then(function(o){Yn.setLanguageConfiguration(i,o.conf)})})}Ke({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return import("./chunk-IR6JRKSS.js")}});Ke({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return import("./chunk-X63RTNKF.js")}});Ke({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return import("./chunk-4FYKEHPD.js")}});Ke({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return import("./chunk-VNKVN3SL.js")}});Ke({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return import("./chunk-CZG7EMBY.js")}});Ke({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return import("./chunk-ROSWZZCI.js")}});Ke({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return import("./chunk-EU24I4FJ.js")}});Ke({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return import("./chunk-RACOA2YV.js")}});Ke({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return import("./chunk-YUUOIXOE.js")}});Ke({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return import("./chunk-YUUOIXOE.js")}});Ke({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return import("./chunk-2JAMJ32K.js")}});Ke({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return import("./chunk-CV5SLACE.js")}});Ke({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return import("./chunk-ELHLAOB5.js")}});Ke({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return import("./chunk-QWIIKPL7.js")}});Ke({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return import("./chunk-5MI65JUY.js")}});Ke({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return import("./chunk-2RFJGK75.js")}});Ke({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return import("./chunk-WFNSLK3W.js")}});Ke({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return import("./chunk-KR3WTVWK.js")}});Ke({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return import("./chunk-FH6FWXG2.js")}});Ke({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return import("./chunk-MTNU76OD.js")}});Ke({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return import("./chunk-O6J324UR.js")}});Ke({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return import("./chunk-ZX4CZF5T.js")}});Ke({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return import("./chunk-QG2NMR2A.js")}});Ke({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return import("./chunk-7II37EKX.js")}});Ke({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return import("./chunk-GRLNBTJX.js")}});Ke({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return import("./chunk-ZWOB7JVV.js")}});Ke({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return import("./chunk-55WQ2HDR.js")}});Ke({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return import("./chunk-XACUOTDU.js")}});Ke({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return import("./chunk-GHYU72XX.js")}});Ke({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return import("./chunk-ZLBZOTIP.js")}});Ke({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return import("./chunk-UR4EZ7FA.js")}});Ke({id:"liquid",extensions:[".liquid",".liquid.html",".liquid.css"],loader:function(){return import("./chunk-HTARYAGP.js")}});Ke({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return import("./chunk-HI76J7VM.js")}});Ke({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return import("./chunk-JDTFWC32.js")}});Ke({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return import("./chunk-6E5IEJ3S.js")}});Ke({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return import("./chunk-6DSFTSPN.js")}});Ke({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return import("./chunk-BXGROMLQ.js")}});Ke({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return import("./chunk-B7RLMETC.js")}});Ke({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return import("./chunk-EYO4B7UH.js")}});Ke({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return import("./chunk-SXC3XXMK.js")}});Ke({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return import("./chunk-SYXBNQTL.js")}});Ke({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return import("./chunk-RARRQYZJ.js")}});Ke({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return import("./chunk-FXWZXN63.js")}});Ke({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return import("./chunk-ALT2A7FK.js")}});Ke({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return import("./chunk-OEQ4KVAS.js")}});Ke({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return import("./chunk-ECDXIU5F.js")}});Ke({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return import("./chunk-O3OQ4GJ3.js")}});Ke({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return import("./chunk-OGKMY7FU.js")}});Ke({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return import("./chunk-J6XZ7UU7.js")}});Ke({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return import("./chunk-NUFN5FJN.js")}});Ke({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return import("./chunk-TURXTJWY.js")}});Ke({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return import("./chunk-XYHS7OWH.js")}});Ke({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return import("./chunk-742XOM3N.js")}});Ke({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return import("./chunk-3OBEHUAV.js")}});Ke({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return import("./chunk-2BYCQBH5.js")}});Ke({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return import("./chunk-BXLSYUYE.js")}});Ke({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return import("./chunk-P72G6FA3.js")}});Ke({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return import("./chunk-XYUPT3RE.js")}});Ke({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return import("./chunk-AN2IQYZY.js")}});Ke({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return import("./chunk-ZJOXCAKW.js")}});Ke({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return import("./chunk-BZKYY4ZS.js")}});Ke({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return import("./chunk-NVJCOED7.js")}});Ke({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return import("./chunk-SWQKUOKP.js")}});Ke({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return import("./chunk-YK526ZJ6.js")}});Ke({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return import("./chunk-WWVBKJ2G.js")}});Ke({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return import("./chunk-HP4MYM22.js")}});Ke({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return import("./chunk-HP4MYM22.js")}});Ke({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return import("./chunk-4YKHMVST.js")}});Ke({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return import("./chunk-SZVQQRNJ.js")}});Ke({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return import("./chunk-PHC4CKSL.js")}});Ke({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return import("./chunk-W6X7DI47.js")}});Ke({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return import("./chunk-4GKD7FTO.js")}});Ke({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return import("./chunk-IKXCIT7W.js")}});Kt();Ot();Zi();ho();Rl();Pi();kn();Mi();var Zo=class{constructor(i="",n=!1){var o,r;if(this.value=i,typeof this.value!="string")throw ls("value");typeof n=="boolean"?(this.isTrusted=n,this.supportThemeIcons=!1):(this.isTrusted=(o=n.isTrusted)!==null&&o!==void 0?o:void 0,this.supportThemeIcons=(r=n.supportThemeIcons)!==null&&r!==void 0?r:!1)}appendText(i,n=0){return this.value+=jse(this.supportThemeIcons?dB(i):i).replace(/([ \t]+)/g,(o,r)=>"&nbsp;".repeat(r.length)).replace(/^>/gm,"\\>").replace(/\n/g,n===1?`\\
`:`

`),this}appendMarkdown(i){return this.value+=i,this}appendCodeblock(i,n){return this.value+="\n```",this.value+=i,this.value+=`
`,this.value+=n,this.value+="\n```\n",this}};function Fg(e){return VA(e)?!e.value:Array.isArray(e)?e.every(Fg):!0}function VA(e){return e instanceof Zo?!0:e&&typeof e=="object"?typeof e.value=="string"&&(typeof e.isTrusted=="boolean"||e.isTrusted===void 0)&&(typeof e.supportThemeIcons=="boolean"||e.supportThemeIcons===void 0):!1}function zG(e,i){return!e&&!i?!0:!e||!i?!1:Array.isArray(e)&&Array.isArray(i)?kh(e,i,HG):VA(e)&&VA(i)?HG(e,i):!1}function HG(e,i){return e===i?!0:!e||!i?!1:e.value===i.value&&e.isTrusted===i.isTrusted&&e.supportThemeIcons===i.supportThemeIcons}function jse(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function Hx(e){return e&&e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function GG(e){let i=[],n=e.split("|").map(r=>r.trim());e=n[0];let o=n[1];if(o){let r=/height=(\d+)/.exec(o),s=/width=(\d+)/.exec(o),l=r?r[1]:"",c=s?s[1]:"",u=isFinite(parseInt(c)),d=isFinite(parseInt(l));u&&i.push(`width="${c}"`),d&&i.push(`height="${l}"`)}return{href:e,dimensions:i}}tl();var Use=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},$se=function(e,i){return function(n,o){i(n,o,e)}},zx=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Gx=new ii("selectionAnchorSet",!1),Ju=class WG{constructor(i,n){this.editor=i,this.selectionAnchorSetContextKey=Gx.bindTo(n),this.modelChangeListener=i.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(i){return i.getContribution(WG.ID)}setSelectionAnchor(){if(this.editor.hasModel()){let i=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],o=this.editor.deltaDecorations(n,[{range:Ct.fromPositions(i,i),options:{stickiness:1,hoverMessage:new Zo().appendText(_("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=o[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Kn(_("anchorSet","Anchor set at {0}:{1}",i.lineNumber,i.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){let i=this.editor.getModel().getDecorationRange(this.decorationId);i&&this.editor.setPosition(i.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){let i=this.editor.getModel().getDecorationRange(this.decorationId);if(i){let n=this.editor.getPosition();this.editor.setSelection(Ct.fromPositions(i.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Ju.ID="editor.contrib.selectionAnchorController";Ju=Use([$se(1,$t)],Ju);var HA=class extends it{constructor(){super({id:"editor.action.setSelectionAnchor",label:_("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2080),weight:100}})}run(i,n){return zx(this,void 0,void 0,function*(){Ju.get(n).setSelectionAnchor()})}},zA=class extends it{constructor(){super({id:"editor.action.goToSelectionAnchor",label:_("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:Gx})}run(i,n){return zx(this,void 0,void 0,function*(){Ju.get(n).goToSelectionAnchor()})}},GA=class extends it{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:_("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:Gx,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2089),weight:100}})}run(i,n){return zx(this,void 0,void 0,function*(){Ju.get(n).selectFromAnchorToCursor()})}},WA=class extends it{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:_("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:Gx,kbOpts:{kbExpr:Ie.editorTextFocus,primary:9,weight:100}})}run(i,n){return zx(this,void 0,void 0,function*(){Ju.get(n).cancelSelectionAnchor()})}};Mt(Ju.ID,Ju);Ue(HA);Ue(zA);Ue(GA);Ue(WA);Ot();ln();bt();Kt();Xn();zt();ho();Zi();Gv();Lo();p1();Cn();Bi();Cr();var qse=xt("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},_("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),jA=class extends it{constructor(){super({id:"editor.action.jumpToBracket",label:_("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:3160,weight:100}})}run(i,n){let o=_d.get(n);o&&o.jumpToBracket()}},UA=class extends it{constructor(){super({id:"editor.action.selectToBracket",label:_("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(i,n,o){let r=_d.get(n);if(!r)return;let s=!0;o&&o.selectBrackets===!1&&(s=!1),r.selectToBracket(s)}},$A=class{constructor(i,n,o){this.position=i,this.brackets=n,this.options=o}},_d=class e extends yt{constructor(i){super(),this._editor=i,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new $n(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(60),this._updateBracketsSoon.schedule(),this._register(i.onDidChangeCursorPosition(n=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeModelContent(n=>{this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeModel(n=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeModelLanguageConfiguration(n=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(i.onDidChangeConfiguration(n=>{n.hasChanged(60)&&(this._matchBrackets=this._editor.getOption(60),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(i){return i.getContribution(e.ID)}jumpToBracket(){if(!this._editor.hasModel())return;let i=this._editor.getModel(),n=this._editor.getSelections().map(o=>{let r=o.getStartPosition(),s=i.matchBracket(r),l=null;if(s)s[0].containsPosition(r)?l=s[1].getStartPosition():s[1].containsPosition(r)&&(l=s[0].getStartPosition());else{let c=i.findEnclosingBrackets(r);if(c)l=c[0].getStartPosition();else{let u=i.findNextBracket(r);u&&u.range&&(l=u.range.getStartPosition())}}return l?new Ct(l.lineNumber,l.column,l.lineNumber,l.column):new Ct(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(n),this._editor.revealRange(n[0])}selectToBracket(i){if(!this._editor.hasModel())return;let n=this._editor.getModel(),o=[];this._editor.getSelections().forEach(r=>{let s=r.getStartPosition(),l=n.matchBracket(s);if(!l&&(l=n.findEnclosingBrackets(s),!l)){let d=n.findNextBracket(s);d&&d.range&&(l=n.matchBracket(d.range.getStartPosition()))}let c=null,u=null;if(l){l.sort(Me.compareRangesUsingStarts);let[d,h]=l;c=i?d.getStartPosition():d.getEndPosition(),u=i?h.getEndPosition():h.getStartPosition()}c&&u&&o.push(new Ct(c.lineNumber,c.column,u.lineNumber,u.column))}),o.length>0&&(this._editor.setSelections(o),this._editor.revealRange(o[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let i=[],n=0;for(let o of this._lastBracketsData){let r=o.brackets;r&&(i[n++]={range:r[0],options:o.options},i[n++]={range:r[1],options:o.options})}this._decorations=this._editor.deltaDecorations(this._decorations,i)}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}let i=this._editor.getSelections();if(i.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}let n=this._editor.getModel(),o=n.getVersionId(),r=[];this._lastVersionId===o&&(r=this._lastBracketsData);let s=[],l=0;for(let p=0,g=i.length;p<g;p++){let f=i[p];f.isEmpty()&&(s[l++]=f.getStartPosition())}s.length>1&&s.sort(It.compare);let c=[],u=0,d=0,h=r.length;for(let p=0,g=s.length;p<g;p++){let f=s[p];for(;d<h&&r[d].position.isBefore(f);)d++;if(d<h&&r[d].position.equals(f))c[u++]=r[d];else{let y=n.matchBracket(f),M=e._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!y&&this._matchBrackets==="always"&&(y=n.findEnclosingBrackets(f,20),M=e._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),c[u++]=new $A(f,y,M)}}this._lastBracketsData=c,this._lastVersionId=o}};_d.ID="editor.contrib.bracketMatchingController";_d._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=ri.register({stickiness:1,className:"bracket-match",overviewRuler:{color:cr(qse),position:Hr.Center}});_d._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=ri.register({stickiness:1,className:"bracket-match"});Mt(_d.ID,_d);Ue(UA);Ue(jA);oi((e,i)=>{let n=e.getColor(G5);n&&i.addRule(`.monaco-editor .bracket-match { background-color: ${n}; }`);let o=e.getColor(h1);o&&i.addRule(`.monaco-editor .bracket-match { border: 1px solid ${o}; }`)});il.appendMenuItem(jt.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});Ot();Kt();Zi();zt();ho();var Wx=class{constructor(i,n){this._selection=i,this._isMovingLeft=n}getEditOperations(i,n){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;let o=this._selection.startLineNumber,r=this._selection.startColumn,s=this._selection.endColumn;if(!(this._isMovingLeft&&r===1)&&!(!this._isMovingLeft&&s===i.getLineMaxColumn(o)))if(this._isMovingLeft){let l=new Me(o,r-1,o,r),c=i.getValueInRange(l);n.addEditOperation(l,null),n.addEditOperation(new Me(o,s,o,s),c)}else{let l=new Me(o,s,o,s+1),c=i.getValueInRange(l);n.addEditOperation(l,null),n.addEditOperation(new Me(o,r,o,r),c)}}computeCursorState(i,n){return this._isMovingLeft?new Ct(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Ct(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}};var jx=class extends it{constructor(i,n){super(n),this.left=i}run(i,n){if(!n.hasModel())return;let o=[],r=n.getSelections();for(let s of r)o.push(new Wx(s,this.left));n.pushUndoStop(),n.executeCommands(this.id,o),n.pushUndoStop()}},qA=class extends jx{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:Ie.writable})}},KA=class extends jx{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:Ie.writable})}};Ue(qA);Ue(KA);Ot();Kt();zt();Zi();var YA=class extends it{constructor(){super({id:"editor.action.transposeLetters",label:_("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(i,n){if(!n.hasModel())return;let o=n.getModel(),r=[],s=n.getSelections();for(let l of s){if(!l.isEmpty())continue;let c=l.startLineNumber,u=l.startColumn,d=o.getLineMaxColumn(c);if(c===1&&(u===1||u===2&&d===2))continue;let h=u===d?l.getPosition():f1.rightPosition(o,l.getPosition().lineNumber,l.getPosition().column),p=f1.leftPosition(o,h.lineNumber,h.column),g=f1.leftPosition(o,p.lineNumber,p.column),f=o.getValueInRange(Me.fromPositions(g,p)),y=o.getValueInRange(Me.fromPositions(p,h)),M=Me.fromPositions(g,h);r.push(new Au(M,y+f))}r.length>0&&(n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop())}};Ue(YA);Ot();bS();ba();Kt();zo();Zi();Cr();var Yse=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Ux="9_cutcopypaste",Zse=_h||document.queryCommandSupported("cut"),jG=_h||document.queryCommandSupported("copy"),Qse=typeof navigator.clipboard>"u"||W4?document.queryCommandSupported("paste"):!0;function XA(e){return e.register(),e}var Xse=Zse?XA(new YS({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:_h?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:jt.MenubarEditMenu,group:"2_ccp",title:_({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:jt.EditorContext,group:Ux,title:_("actions.clipboard.cutLabel","Cut"),when:Ie.writable,order:1},{menuId:jt.CommandPalette,group:"",title:_("actions.clipboard.cutLabel","Cut"),order:1}]})):void 0,Jse=jG?XA(new YS({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:_h?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:jt.MenubarEditMenu,group:"2_ccp",title:_({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:jt.EditorContext,group:Ux,title:_("actions.clipboard.copyLabel","Copy"),order:2},{menuId:jt.CommandPalette,group:"",title:_("actions.clipboard.copyLabel","Copy"),order:1}]})):void 0;il.appendMenuItem(jt.MenubarEditMenu,{submenu:jt.MenubarCopy,title:{value:_("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});il.appendMenuItem(jt.EditorContext,{submenu:jt.EditorContextCopy,title:{value:_("copy as","Copy As"),original:"Copy As"},group:Ux,order:3});var ZA=Qse?XA(new YS({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:_h?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:jt.MenubarEditMenu,group:"2_ccp",title:_({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:jt.EditorContext,group:Ux,title:_("actions.clipboard.pasteLabel","Paste"),when:Ie.writable,order:4},{menuId:jt.CommandPalette,group:"",title:_("actions.clipboard.pasteLabel","Paste"),order:1}]})):void 0,QA=class extends it{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,weight:100}})}run(i,n){!n.hasModel()||!n.getOption(30)&&n.getSelection().isEmpty()||(bI.forceCopyWithSyntaxHighlighting=!0,n.focus(),document.execCommand("copy"),bI.forceCopyWithSyntaxHighlighting=!1)}};function UG(e,i){e&&(e.addImplementation(1e4,"code-editor",(n,o)=>{let r=n.get(Ri).getFocusedCodeEditor();if(r&&r.hasTextFocus()){let s=r.getOption(30),l=r.getSelection();return l&&l.isEmpty()&&!s||document.execCommand(i),!0}return!1}),e.addImplementation(0,"generic-dom",(n,o)=>(document.execCommand(i),!0)))}UG(Xse,"cut");UG(Jse,"copy");ZA&&(ZA.addImplementation(1e4,"code-editor",(e,i)=>{let n=e.get(Ri),o=e.get(Yp),r=n.getFocusedCodeEditor();return r&&r.hasTextFocus()?(!document.execCommand("paste")&&fS&&Yse(void 0,void 0,void 0,function*(){let l=yield o.readText();if(l!==""){let c=o5.INSTANCE.get(l),u=!1,d=null,h=null;c&&(u=r.getOption(30)&&!!c.isFromEmptySelection,d=typeof c.multicursorText<"u"?c.multicursorText:null,h=c.mode),r.trigger("keyboard","paste",{text:l,pasteOnNewLine:u,multicursorText:d,mode:h})}}),!0):!1}),ZA.addImplementation(0,"generic-dom",(e,i)=>(document.execCommand("paste"),!0)));jG&&Ue(QA);Kt();Un();var eh=class{constructor(i){this.executor=i,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(i){this._error=i}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};bt();Bn();Kt();Zi();kn();Un();Mi();bt();Fo();Kp();zt();ho();zi();Eh();var ni=class e{constructor(i){this.value=i}equals(i){return this.value===i.value}contains(i){return this.equals(i)||this.value===""||i.value.startsWith(this.value+e.sep)}intersects(i){return this.contains(i)||i.contains(this)}append(i){return new e(this.value+e.sep+i)}};ni.sep=".";ni.None=new ni("@@none@@");ni.Empty=new ni("");ni.QuickFix=new ni("quickfix");ni.Refactor=new ni("refactor");ni.Source=new ni("source");ni.SourceOrganizeImports=ni.Source.append("organizeImports");ni.SourceFixAll=ni.Source.append("fixAll");function $G(e,i){return!(e.include&&!e.include.intersects(i)||e.excludes&&e.excludes.some(n=>KG(i,n,e.include))||!e.includeSourceActions&&ni.Source.contains(i))}function qG(e,i){let n=i.kind?new ni(i.kind):void 0;return!(e.include&&(!n||!e.include.contains(n))||e.excludes&&n&&e.excludes.some(o=>KG(n,o,e.include))||!e.includeSourceActions&&n&&ni.Source.contains(n)||e.onlyIncludePreferredActions&&!i.isPreferred)}function KG(e,i,n){return!(!i.contains(e)||n&&i.contains(n))}var rp=class e{constructor(i,n,o){this.kind=i,this.apply=n,this.preferred=o}static fromUser(i,n){return!i||typeof i!="object"?new e(n.kind,n.apply,!1):new e(e.getKindFromUser(i,n.kind),e.getApplyFromUser(i,n.apply),e.getPreferredUser(i))}static getApplyFromUser(i,n){switch(typeof i.apply=="string"?i.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return n}}static getKindFromUser(i,n){return typeof i.kind=="string"?new ni(i.kind):n}static getPreferredUser(i){return typeof i.preferred=="boolean"?i.preferred:!1}};Zp();xo();var eF=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},$x="editor.action.codeAction",qx="editor.action.refactor",Kx="editor.action.sourceAction",pw="editor.action.organizeImports",gw="editor.action.fixAll",dw=class{constructor(i,n){this.action=i,this.provider=n}resolve(i){var n;return eF(this,void 0,void 0,function*(){if(!((n=this.provider)===null||n===void 0)&&n.resolveCodeAction&&!this.action.edit){let o;try{o=yield this.provider.resolveCodeAction(this.action,i)}catch(r){gn(r)}o&&(this.action.edit=o.edit)}return this})}},JA=class e extends yt{constructor(i,n,o){super(),this.documentation=n,this._register(o),this.allActions=[...i].sort(e.codeActionsComparator),this.validActions=this.allActions.filter(({action:r})=>!r.disabled)}static codeActionsComparator({action:i},{action:n}){return i.isPreferred&&!n.isPreferred?-1:!i.isPreferred&&n.isPreferred?1:fo(i.diagnostics)?fo(n.diagnostics)?i.diagnostics[0].message.localeCompare(n.diagnostics[0].message):-1:fo(n.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:i})=>!!i.kind&&ni.QuickFix.contains(new ni(i.kind))&&!!i.isPreferred)}},YG={actions:[],documentation:void 0};function fw(e,i,n,o,r){var s;let l=n.filter||{},c={only:(s=l.include)===null||s===void 0?void 0:s.value,trigger:n.type},u=new Y5(e,r),d=eae(e,l),h=new Je,p=d.map(f=>eF(this,void 0,void 0,function*(){try{o.report(f);let y=yield f.provideCodeActions(e,i,c,u.token);if(y&&h.add(y),u.token.isCancellationRequested)return YG;let M=(y?.actions||[]).filter(G=>G&&qG(l,G)),k=tae(f,M,l.include);return{actions:M.map(G=>new dw(G,f)),documentation:k}}catch(y){if(Ml(y))throw y;return gn(y),YG}})),g=Fl.onDidChange(()=>{let f=Fl.all(e);kh(f,d)||u.cancel()});return Promise.all(p).then(f=>{let y=$p(f.map(k=>k.actions)),M=Rs(f.map(k=>k.documentation));return new JA(y,M,h)}).finally(()=>{g.dispose(),u.dispose()})}function eae(e,i){return Fl.all(e).filter(n=>n.providedCodeActionKinds?n.providedCodeActionKinds.some(o=>$G(i,new ni(o))):!0)}function tae(e,i,n){if(!e.documentation)return;let o=e.documentation.map(r=>({kind:new ni(r.kind),command:r.command}));if(n){let r;for(let s of o)s.kind.contains(n)&&(r?r.kind.contains(s.kind)&&(r=s):r=s);if(r)return r?.command}for(let r of i)if(r.kind){for(let s of o)if(s.kind.contains(new ni(r.kind)))return s.command}}_i.registerCommand("_executeCodeActionProvider",function(e,i,n,o,r){return eF(this,void 0,void 0,function*(){if(!(i instanceof ui))throw ls();let s=e.get(Po).getModel(i);if(!s)throw ls();let l=Ct.isISelection(n)?Ct.liftSelection(n):Me.isIRange(n)?s.validateRange(n):void 0;if(!l)throw ls();let c=typeof o=="string"?new ni(o):void 0,u=yield fw(s,l,{type:1,filter:{includeSourceActions:!0,include:c}},Ol.None,ti.None),d=[],h=Math.min(u.validActions.length,typeof r=="number"?r:0);for(let p=0;p<h;p++)d.push(u.validActions[p].resolve(ti.None));try{return yield Promise.all(d),u.validActions.map(p=>p.action)}finally{setTimeout(()=>u.dispose(),100)}})});Mi();bt();Ot();ln();bt();tl();zt();Kt();Pi();Bi();Cn();fI();var iae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},nae=function(e,i){return function(n,o){i(n,o,e)}},Bo=class tF{constructor(i,n){this._messageWidget=new Ao,this._messageListeners=new Je,this._editor=i,this._visible=tF.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(i){return i.getContribution(tF.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(i,n){Kn(i),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Yx(this._editor,n,i),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Nr(()=>this.closeMessage(),3e3));let o;this._messageListeners.add(this._editor.onMouseMove(r=>{r.target.position&&(o?o.containsPosition(r.target.position)||this.closeMessage():o=new Me(n.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Yx.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(_("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};Bo.ID="editor.contrib.messageController";Bo.MESSAGE_VISIBLE=new ii("messageVisible",!1,_("messageVisible","Whether the editor is currently showing an inline message"));Bo=iae([nae(1,$t)],Bo);var oae=Fn.bindToContribution(Bo.get);gt(new oae({id:"leaveEditorMessage",precondition:Bo.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));var Yx=class{constructor(i,{lineNumber:n,column:o},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=i,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");let s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);let l=document.createElement("div");l.classList.add("message"),l.textContent=r,this._domNode.appendChild(l);let c=document.createElement("div");c.classList.add("anchor","below"),this._domNode.appendChild(c),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(i){let n,o=()=>{i.dispose(),clearTimeout(n),i.getDomNode().removeEventListener("animationend",o)};return n=setTimeout(o,110),i.getDomNode().addEventListener("animationend",o),i.getDomNode().classList.add("fadeOut"),{dispose:o}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(i){this._domNode.classList.toggle("below",i===2)}};Mt(Bo.ID,Bo);oi((e,i)=>{let n=e.getColor(r1);if(n){let s=e.type===Qf.HIGH_CONTRAST?2:1;i.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),i.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),i.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${s}px solid ${n}; }`)}let o=e.getColor(n1);o&&i.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${o}; }`);let r=e.getColor(o1);r&&i.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${r}; }`)});yn();Yi();qv();Mi();bt();Xn();zi();hs();var rae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},ZG=function(e,i){return function(n,o){i(n,o,e)}},sae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Zx=class extends US{constructor(i,n){super(i.command?i.command.id:i.title,aae(i.title),void 0,!i.disabled,n),this.action=i}};function aae(e){return e.replace(/\r\n|\r|\n/g," ")}var Qx=class extends yt{constructor(i,n,o,r){super(),this._editor=i,this._delegate=n,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new Ao),this._keybindingResolver=new lae({getKeybindings:()=>r.getKeybindings()})}get isVisible(){return this._visible}show(i,n,o,r){return sae(this,void 0,void 0,function*(){let s=r.includeDisabledActions?n.allActions:n.validActions;if(!s.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,mS();this._visible=!0,this._showingActions.value=n;let l=this.getMenuActions(i,s,n.documentation),c=It.isIPosition(o)?this._toCoords(o):o||{x:0,y:0},u=this._keybindingResolver.getResolver(),d=this._editor.getOption(111);this._contextMenuService.showContextMenu({domForShadowRoot:d?this._editor.getDomNode():void 0,getAnchor:()=>c,getActions:()=>l,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:h=>h instanceof Zx?u(h.action):void 0})})}getMenuActions(i,n,o){var r,s;let l=h=>new Zx(h.action,()=>this._delegate.onSelectCodeAction(h)),c=n.map(l),u=[...o],d=this._editor.getModel();if(d&&c.length)for(let h of Fl.all(d))h._getAdditionalMenuItems&&u.push(...h._getAdditionalMenuItems({trigger:i.type,only:(s=(r=i.filter)===null||r===void 0?void 0:r.include)===null||s===void 0?void 0:s.value},n.map(p=>p.action)));return u.length&&c.push(new qp,...u.map(h=>l(new dw({title:h.title,command:h},void 0)))),c}_toCoords(i){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(i,1),this._editor.render();let n=this._editor.getScrolledVisiblePosition(i),o=Go(this._editor.getDomNode()),r=o.left+n.left,s=o.top+n.top+n.height;return{x:r,y:s}}};Qx=rae([ZG(2,lm),ZG(3,In)],Qx);var lae=(()=>{class e{constructor(n){this._keybindingProvider=n}getResolver(){let n=new eh(()=>this._keybindingProvider.getKeybindings().filter(o=>e.codeActionCommands.indexOf(o.command)>=0).filter(o=>o.resolvedKeybinding).map(o=>{let r=o.commandArgs;return o.command===pw?r={kind:ni.SourceOrganizeImports.value}:o.command===gw&&(r={kind:ni.SourceFixAll.value}),Object.assign({resolvedKeybinding:o.resolvedKeybinding},rp.fromUser(r,{kind:ni.None,apply:"never"}))}));return o=>{if(o.kind){let r=this.bestKeybindingForCodeAction(o,n.getValue());return r?.resolvedKeybinding}}}bestKeybindingForCodeAction(n,o){if(!n.kind)return;let r=new ni(n.kind);return o.filter(s=>s.kind.contains(r)).filter(s=>s.preferred?n.isPreferred:!0).reduceRight((s,l)=>s?s.kind.contains(l.kind)?l:s:l,void 0)}}return e.codeActionCommands=[qx,$x,Kx,pw,gw],e})();Yi();tn();bt();Lo();Ot();hs();Bi();Cn();t5();zr();var cae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},uae=function(e,i){return function(n,o){i(n,o,e)}},mw;(function(e){e.Hidden={type:0};class i{constructor(o,r,s,l){this.actions=o,this.trigger=r,this.editorPosition=s,this.widgetPosition=l,this.type=1}}e.Showing=i})(mw||(mw={}));var vw=class QG extends yt{constructor(i,n,o,r){super(),this._editor=i,this._quickFixActionId=n,this._preferredFixActionId=o,this._keybindingService=r,this._onClick=this._register(new vt),this.onClick=this._onClick.event,this._state=mw.Hidden,this._domNode=document.createElement("div"),this._domNode.className=pt.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{let l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),QS.ignoreTarget(this._domNode),this._register(Q4(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();let{top:l,height:c}=Go(this._domNode),u=this._editor.getOption(55),d=Math.floor(u/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(d+=u),this._onClick.fire({x:s.posx,y:l+c+d,actions:this.state.actions,trigger:this.state.trigger})})),this._register(go(this._domNode,"mouseenter",s=>{if((s.buttons&1)!==1)return;this.hide();let l=new Zv;l.startMonitoring(s.target,s.buttons,Yv,()=>{},()=>{l.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(53)&&!this._editor.getOption(53).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(i,n,o){if(i.validActions.length<=0)return this.hide();let r=this._editor.getOptions();if(!r.get(53).enabled)return this.hide();let s=this._editor.getModel();if(!s)return this.hide();let{lineNumber:l,column:c}=s.validatePosition(o),u=s.getOptions().tabSize,d=r.get(40),h=s.getLineContent(l),p=nl.computeIndentLevel(h,u),g=d.spaceWidth*p>22,f=M=>M>2&&this._editor.getTopForLineNumber(M)===this._editor.getTopForLineNumber(M-1),y=l;if(!g){if(l>1&&!f(l-1))y-=1;else if(!f(l+1))y+=1;else if(c*d.spaceWidth<22)return this.hide()}this.state=new mw.Showing(i,n,o,{position:{lineNumber:y,column:1},preference:QG._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=mw.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(i){this._state=i,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...pt.lightBulb.classNamesArray),this._domNode.classList.add(...pt.lightbulbAutofix.classNamesArray);let n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=_("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",n.getLabel());return}}this._domNode.classList.remove(...pt.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...pt.lightBulb.classNamesArray);let i=this._keybindingService.lookupKeybinding(this._quickFixActionId);i?this.title=_("quickFixWithKb","Show Fixes ({0})",i.getLabel()):this.title=_("quickFix","Show Fixes")}set title(i){this._domNode.title=i}};vw._posPref=[0];vw=cae([uae(3,In)],vw);oi((e,i)=>{var n;let o=(n=e.getColor(C5))===null||n===void 0?void 0:n.transparent(.7),r=e.getColor(F5);r&&i.addRule(`
		.monaco-editor .contentWidgets ${pt.lightBulb.cssSelector} {
			color: ${r};
			background-color: ${o};
		}`);let s=e.getColor(T5);s&&i.addRule(`
		.monaco-editor .contentWidgets ${pt.lightbulbAutofix.cssSelector} {
			color: ${s};
			background-color: ${o};
		}`)});var dae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},hae=function(e,i){return function(n,o){i(n,o,e)}},iF=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},pae=function(e,i,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?e!==i||!r:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(e,n):r?r.value=n:i.set(e,n),n},gae=function(e,i,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?e!==i||!o:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:i.get(e)},Xx,Jx=class extends yt{constructor(i,n,o,r,s){super(),this._editor=i,this.delegate=r,this._activeCodeActions=this._register(new Ao),Xx.set(this,!1),this._codeActionWidget=new eh(()=>this._register(s.createInstance(Qx,this._editor,{onSelectCodeAction:l=>iF(this,void 0,void 0,function*(){this.delegate.applyCodeAction(l,!0)})}))),this._lightBulbWidget=new eh(()=>{let l=this._register(s.createInstance(vw,this._editor,n,o));return this._register(l.onClick(c=>this.showCodeActionList(c.trigger,c.actions,c,{includeDisabledActions:!1}))),l})}dispose(){pae(this,Xx,!0,"f"),super.dispose()}update(i){var n,o,r;return iF(this,void 0,void 0,function*(){if(i.type!==1){(n=this._lightBulbWidget.rawValue)===null||n===void 0||n.hide();return}let s;try{s=yield i.actions}catch(l){qt(l);return}if(!gae(this,Xx,"f"))if(this._lightBulbWidget.getValue().update(s,i.trigger,i.position),i.trigger.type===1){if(!((o=i.trigger.filter)===null||o===void 0)&&o.include){let c=this.tryGetValidActionToApply(i.trigger,s);if(c){try{yield this.delegate.applyCodeAction(c,!1)}finally{s.dispose()}return}if(i.trigger.context){let u=this.getInvalidActionThatWouldHaveBeenApplied(i.trigger,s);if(u&&u.action.disabled){Bo.get(this._editor).showMessage(u.action.disabled,i.trigger.context.position),s.dispose();return}}}let l=!!(!((r=i.trigger.filter)===null||r===void 0)&&r.include);if(i.trigger.context&&(!s.allActions.length||!l&&!s.validActions.length)){Bo.get(this._editor).showMessage(i.trigger.context.notAvailableMessage,i.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(i.trigger,s,i.position,{includeDisabledActions:l})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(i,n){if(n.allActions.length&&(i.autoApply==="first"&&n.validActions.length===0||i.autoApply==="ifSingle"&&n.allActions.length===1))return n.allActions.find(({action:o})=>o.disabled)}tryGetValidActionToApply(i,n){if(n.validActions.length&&(i.autoApply==="first"&&n.validActions.length>0||i.autoApply==="ifSingle"&&n.validActions.length===1))return n.validActions[0]}showCodeActionList(i,n,o,r){return iF(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(i,n,o,r)})}};Xx=new WeakMap;Jx=dae([hae(4,hi)],Jx);Ot();xo();Pi();yn();Zp();KS();ln();Mi();tn();bt();Ms();zt();zi();Pi();Zp();var nF=function(e,i,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?e!==i||!o:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:i.get(e)},fae=function(e,i,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?e!==i||!r:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(e,n):r?r.value=n:i.set(e,n),n},c0,rF=new ii("supportedCodeAction",""),oF=class extends yt{constructor(i,n,o,r=250){super(),this._editor=i,this._markerService=n,this._signalChange=o,this._delay=r,this._autoTriggerTimer=this._register(new Nr),this._register(this._markerService.onMarkerChanged(s=>this._onMarkerChanges(s))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(i){let n=this._getRangeOfSelectionUnlessWhitespaceEnclosed(i);return this._createEventAndSignalChange(i,n)}_onMarkerChanges(i){let n=this._editor.getModel();n&&i.some(o=>DS(o,n.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(i){let n=this._editor.getModel();if(n)for(let o of this._markerService.read({resource:n.uri})){let r=n.validateRange(o);if(Me.intersectRanges(r,i))return Me.lift(r)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(i){if(!this._editor.hasModel())return;let n=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&i.type===2){let{lineNumber:r,column:s}=o.getPosition(),l=n.getLineContent(r);if(l.length===0)return;if(s===1){if(/\s/.test(l[0]))return}else if(s===n.getLineMaxColumn(r)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[s-2])&&/\s/.test(l[s-1]))return}return o}_createEventAndSignalChange(i,n){let o=this._editor.getModel();if(!n||!o){this._signalChange(void 0);return}let r=this._getRangeOfMarker(n),s=r?r.getStartPosition():n.getStartPosition(),l={trigger:i,selection:n,position:s};return this._signalChange(l),l}},Tg;(function(e){e.Empty={type:0};class i{constructor(o,r,s,l){this.trigger=o,this.rangeOrSelection=r,this.position=s,this._cancellablePromise=l,this.type=1,this.actions=l.catch(c=>{if(Ml(c))return mae;throw c})}cancel(){this._cancellablePromise.cancel()}}e.Triggered=i})(Tg||(Tg={}));var mae={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1},eD=class extends yt{constructor(i,n,o,r){super(),this._editor=i,this._markerService=n,this._progressService=r,this._codeActionOracle=this._register(new Ao),this._state=Tg.Empty,this._onDidChangeState=this._register(new vt),this.onDidChangeState=this._onDidChangeState.event,c0.set(this,!1),this._supportedCodeActions=rF.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(Fl.onDidChange(()=>this._update())),this._update()}dispose(){nF(this,c0,"f")||(fae(this,c0,!0,"f"),super.dispose(),this.setState(Tg.Empty,!0))}_update(){if(nF(this,c0,"f"))return;this._codeActionOracle.value=void 0,this.setState(Tg.Empty);let i=this._editor.getModel();if(i&&Fl.has(i)&&!this._editor.getOption(77)){let n=[];for(let o of Fl.all(i))Array.isArray(o.providedCodeActionKinds)&&n.push(...o.providedCodeActionKinds);this._supportedCodeActions.set(n.join(" ")),this._codeActionOracle.value=new oF(this._editor,this._markerService,o=>{var r;if(!o){this.setState(Tg.Empty);return}let s=Ui(l=>fw(i,o.selection,o.trigger,Ol.None,l));o.trigger.type===1&&((r=this._progressService)===null||r===void 0||r.showWhile(s,250)),this.setState(new Tg.Triggered(o.trigger,o.selection,o.position,s))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(i){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(i)}setState(i,n){i!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=i,!n&&!nF(this,c0,"f")&&this._onDidChangeState.fire(i))}};c0=new WeakMap;var vae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},tD=function(e,i){return function(n,o){i(n,o,e)}},XG=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})};function Cw(e){return st.regex(rF.keys()[0],new RegExp("(\\s|^)"+_u(e.value)+"\\b"))}var sF={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_("args.schema.apply.first","Always apply the first returned code action."),_("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},th=class JG extends yt{constructor(i,n,o,r,s){super(),this._instantiationService=s,this._editor=i,this._model=this._register(new eD(this._editor,n,o,r)),this._register(this._model.onDidChangeState(l=>this.update(l))),this._ui=new eh(()=>this._register(new Jx(i,ww.Id,aF.Id,{applyCodeAction:(l,c)=>XG(this,void 0,void 0,function*(){try{yield this._applyCodeAction(l)}finally{c&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(i){return i.getContribution(JG.ID)}update(i){this._ui.getValue().update(i)}showCodeActions(i,n,o){return this._ui.getValue().showCodeActionList(i,n,o,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(i,n,o){if(!this._editor.hasModel())return;Bo.get(this._editor).closeMessage();let r=this._editor.getPosition();this._trigger({type:1,filter:n,autoApply:o,context:{notAvailableMessage:i,position:r}})}_trigger(i){return this._model.trigger(i)}_applyCodeAction(i){return this._instantiationService.invokeFunction(Cae,i,this._editor)}};th.ID="editor.contrib.quickFixController";th=vae([tD(1,cC),tD(2,$t),tD(3,Pu),tD(4,hi)],th);function Cae(e,i,n){return XG(this,void 0,void 0,function*(){let o=e.get(zS),r=e.get(jo),s=e.get(Ph),l=e.get(Sn);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:i.action.title,codeActionKind:i.action.kind,codeActionIsPreferred:!!i.action.isPreferred}),yield i.resolve(ti.None),i.action.edit&&(yield o.apply(GS.convert(i.action.edit),{editor:n,label:i.action.title})),i.action.command)try{yield r.executeCommand(i.action.command.id,...i.action.command.arguments||[])}catch(c){let u=wae(c);l.error(typeof u=="string"?u:_("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function wae(e){return typeof e=="string"?e:e instanceof Error&&typeof e.message=="string"?e.message:void 0}function Pg(e,i,n,o){if(e.hasModel()){let r=th.get(e);r&&r.manualTriggerAtCurrentPosition(i,n,o)}}var ww=(()=>{class e extends it{constructor(){super({id:e.Id,label:_("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:st.and(Ie.writable,Ie.hasCodeActionsProvider),kbOpts:{kbExpr:Ie.editorTextFocus,primary:2132,weight:100}})}run(n,o){return Pg(o,_("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}return e.Id="editor.action.quickFix",e})(),iD=class extends Fn{constructor(){super({id:$x,precondition:st.and(Ie.writable,Ie.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:sF}]}})}runEditorCommand(i,n,o){let r=rp.fromUser(o,{kind:ni.Empty,apply:"ifSingle"});return Pg(n,typeof o?.kind=="string"?r.preferred?_("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",o.kind):_("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",o.kind):r.preferred?_("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}},nD=class extends it{constructor(){super({id:qx,label:_("refactor.label","Refactor..."),alias:"Refactor...",precondition:st.and(Ie.writable,Ie.hasCodeActionsProvider),kbOpts:{kbExpr:Ie.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:st.and(Ie.writable,Cw(ni.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:sF}]}})}run(i,n,o){let r=rp.fromUser(o,{kind:ni.Refactor,apply:"never"});return Pg(n,typeof o?.kind=="string"?r.preferred?_("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",o.kind):_("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",o.kind):r.preferred?_("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_("editor.action.refactor.noneMessage","No refactorings available"),{include:ni.Refactor.contains(r.kind)?r.kind:ni.None,onlyIncludePreferredActions:r.preferred},r.apply)}},oD=class extends it{constructor(){super({id:Kx,label:_("source.label","Source Action..."),alias:"Source Action...",precondition:st.and(Ie.writable,Ie.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:st.and(Ie.writable,Cw(ni.Source))},description:{description:"Source Action...",args:[{name:"args",schema:sF}]}})}run(i,n,o){let r=rp.fromUser(o,{kind:ni.Source,apply:"never"});return Pg(n,typeof o?.kind=="string"?r.preferred?_("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",o.kind):_("editor.action.source.noneMessage.kind","No source actions for '{0}' available",o.kind):r.preferred?_("editor.action.source.noneMessage.preferred","No preferred source actions available"):_("editor.action.source.noneMessage","No source actions available"),{include:ni.Source.contains(r.kind)?r.kind:ni.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}},rD=class extends it{constructor(){super({id:pw,label:_("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:st.and(Ie.writable,Cw(ni.SourceOrganizeImports)),kbOpts:{kbExpr:Ie.editorTextFocus,primary:1581,weight:100}})}run(i,n){return Pg(n,_("editor.action.organize.noneMessage","No organize imports action available"),{include:ni.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}},sD=class extends it{constructor(){super({id:gw,label:_("fixAll.label","Fix All"),alias:"Fix All",precondition:st.and(Ie.writable,Cw(ni.SourceFixAll))})}run(i,n){return Pg(n,_("fixAll.noneMessage","No fix all action available"),{include:ni.SourceFixAll,includeSourceActions:!0},"ifSingle")}},aF=(()=>{class e extends it{constructor(){super({id:e.Id,label:_("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:st.and(Ie.writable,Cw(ni.QuickFix)),kbOpts:{kbExpr:Ie.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(n,o){return Pg(o,_("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ni.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}return e.Id="editor.action.autoFix",e})();Mt(th.ID,th);Ue(ww);Ue(nD);Ue(oD);Ue(rD);Ue(aF);Ue(sD);gt(new iD);ln();Mi();bt();Kp();Kt();zi();Un();Mi();Fo();zi();Eh();bt();xo();To();var eW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},u0=class{constructor(){this.lenses=[],this._disposables=new Je}dispose(){this._disposables.dispose()}add(i,n){this._disposables.add(i);for(let o of i.lenses)this.lenses.push({symbol:o,provider:n})}};function lF(e,i){return eW(this,void 0,void 0,function*(){let n=Ih.ordered(e),o=new Map,r=new u0,s=n.map((l,c)=>eW(this,void 0,void 0,function*(){o.set(l,c);try{let u=yield Promise.resolve(l.provideCodeLenses(e,i));u&&r.add(u,l)}catch(u){gn(u)}}));return yield Promise.all(s),r.lenses=r.lenses.sort((l,c)=>l.symbol.range.startLineNumber<c.symbol.range.startLineNumber?-1:l.symbol.range.startLineNumber>c.symbol.range.startLineNumber?1:o.get(l.provider)<o.get(c.provider)?-1:o.get(l.provider)>o.get(c.provider)?1:l.symbol.range.startColumn<c.symbol.range.startColumn?-1:l.symbol.range.startColumn>c.symbol.range.startColumn?1:0),r})}_i.registerCommand("_executeCodeLensProvider",function(e,...i){let[n,o]=i;nn(ui.isUri(n)),nn(typeof o=="number"||!o);let r=e.get(Po).getModel(n);if(!r)throw ls();let s=[],l=new Je;return lF(r,ti.None).then(c=>{l.add(c);let u=[];for(let d of c.lenses)o==null||d.symbol.command?s.push(d.symbol):o-- >0&&d.provider.resolveCodeLens&&u.push(Promise.resolve(d.provider.resolveCodeLens(r,d.symbol,ti.None)).then(h=>s.push(h||d.symbol)));return Promise.all(u)}).then(()=>s).finally(()=>{setTimeout(()=>l.dispose(),100)})});Yi();zt();Lo();p1();Cn();Bi();var cF=class{constructor(i,n,o){this.afterLineNumber=i,this.heightInPx=n,this._onHeight=o,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}},bae=(()=>{class e{constructor(n,o,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${e._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${o}`}withCommands(n,o){this._commands.clear();let r=[],s=!1;for(let l=0;l<n.length;l++){let c=n[l];if(c&&(s=!0,c.command)){let u=x1(c.command.title.trim());c.command.id?(r.push(ht("a",{id:String(l),title:c.command.tooltip},...u)),this._commands.set(String(l),c.command)):r.push(ht("span",{title:c.command.tooltip},...u)),l+1<n.length&&r.push(ht("span",void 0,"\xA0|\xA0"))}}s?(Gp(this._domNode,...r),this._isEmpty&&o&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Gp(this._domNode,ht("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){let o=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:o},preference:[1]}}getPosition(){return this._widgetPosition||null}}return e._idPool=0,e})(),d0=class{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,n){this._addDecorations.push(i),this._addDecorationsCallbacks.push(n)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){let n=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let o=0,r=n.length;o<r;o++)this._addDecorationsCallbacks[o](n[o])}},bw=class{constructor(i,n,o,r,s,l,c){this._isDisposed=!1,this._editor=n,this._className=o,this._data=i,this._decorationIds=[];let u,d=[];this._data.forEach((h,p)=>{h.symbol.command&&d.push(h.symbol),r.addDecoration({range:h.symbol.range,options:ri.EMPTY},g=>this._decorationIds[p]=g),u?u=Me.plusRange(u,h.symbol.range):u=Me.lift(h.symbol.range)}),this._viewZone=new cF(u.startLineNumber-1,l,c),this._viewZoneId=s.addZone(this._viewZone),d.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(d,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new bae(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,n){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],n&&n.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,n)=>{let o=this._editor.getModel().getDecorationRange(i),r=this._data[n].symbol;return!!(o&&Me.isEmpty(r.range)===o.isEmpty())})}updateCodeLensSymbols(i,n){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],this._data=i,this._data.forEach((o,r)=>{n.addDecoration({range:o.symbol.range,options:ri.EMPTY},s=>this._decorationIds[r]=s)})}updateHeight(i,n){this._viewZone.heightInPx=i,n.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let n=0;n<this._decorationIds.length;n++){let o=i.getDecorationRange(this._decorationIds[n]);o&&(this._data[n].symbol.range=o)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let n=0;n<this._data.length;n++){let o=i[n];if(o){let{symbol:r}=this._data[n];r.command=o.command||r.command}}}getCommand(i){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.getCommand(i)}getLineNumber(){let i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){let n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);n&&(this._viewZone.afterLineNumber=n.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(n.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}};oi((e,i)=>{let n=e.getColor(z5);n&&(i.addRule(`.monaco-editor .codelens-decoration { color: ${n}; }`),i.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${n}; }`));let o=e.getColor(om);o&&(i.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${o} !important; }`),i.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${o} !important; }`))});xo();yn();nC();Bv();zt();ln();var yae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Sae=function(e,i){return function(n,o){i(n,o,e)}},dF=kl("ICodeLensCache"),aD=class{constructor(i,n){this.lineCount=i,this.data=n}},uF=class{constructor(i){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Dh(20,.75);let n="codelens/cache";K4(()=>i.remove(n,1));let o="codelens/cache2",r=i.get(o,1,"{}");this._deserialize(r),v1(i.onWillSaveState)(s=>{s.reason===_1.SHUTDOWN&&i.store(o,this._serialize(),1,1)})}put(i,n){let o=n.lenses.map(l=>{var c;return{range:l.symbol.range,command:l.symbol.command&&{id:"",title:(c=l.symbol.command)===null||c===void 0?void 0:c.title}}}),r=new u0;r.add({lenses:o,dispose:()=>{}},this._fakeProvider);let s=new aD(i.getLineCount(),r);this._cache.set(i.uri.toString(),s)}get(i){let n=this._cache.get(i.uri.toString());return n&&n.lineCount===i.getLineCount()?n.data:void 0}delete(i){this._cache.delete(i.uri.toString())}_serialize(){let i=Object.create(null);for(let[n,o]of this._cache){let r=new Set;for(let s of o.data.lenses)r.add(s.symbol.range.startLineNumber);i[n]={lineCount:o.lineCount,lines:[...r.values()]}}return JSON.stringify(i)}_deserialize(i){try{let n=JSON.parse(i);for(let o in n){let r=n[o],s=[];for(let c of r.lines)s.push({range:new Me(c,1,c,11)});let l=new u0;l.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(o,new aD(r.lineCount,l))}}catch{}}};uF=yae([Sae(0,wr)],uF);Ll(dF,uF);Yi();tI();Ot();Zi();iI();var _ae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},hF=function(e,i){return function(n,o){i(n,o,e)}},xae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},h0=class{constructor(i,n,o,r){this._editor=i,this._commandService=n,this._notificationService=o,this._codeLensCache=r,this._disposables=new Je,this._localToDispose=new Je,this._lenses=[],this._getCodeLensModelDelays=new Wp(Ih,250,2500),this._oldCodeLensModels=new Je,this._resolveCodeLensesDelays=new Wp(Ih,250,2500),this._resolveCodeLensesScheduler=new $n(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(40)||s.hasChanged(14)||s.hasChanged(13))&&this._updateLensStyle(),s.hasChanged(12)&&this._onModelChange()})),this._disposables.add(Ih.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+jf(this._editor.getId()).toString(16),this._styleElement=o8(i8(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var i;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose(),this._styleElement.remove()}_getLayoutInfo(){let i=this._editor.getOption(14),n;return!i||i<5?(i=this._editor.getOption(42)*.9|0,n=this._editor.getOption(55)):n=i*Math.max(1.3,this._editor.getOption(55)/this._editor.getOption(42))|0,{codeLensHeight:n,fontSize:i}}_updateLensStyle(){let{codeLensHeight:i,fontSize:n}=this._getLayoutInfo(),o=this._editor.getOption(13),r=this._editor.getOption(40),s=`--codelens-font-family${this._styleClassName}`,l=`--codelens-font-features${this._styleClassName}`,c=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${i}px; font-size: ${n}px; padding-right: ${Math.round(n*.5)}px; font-feature-settings: var(${l}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${i}px; font-size: ${n}px; }
		`;o&&(c+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s})}`),this._styleElement.textContent=c,this._editor.getContainerDomNode().style.setProperty(s,o??"inherit"),this._editor.getContainerDomNode().style.setProperty(l,r.fontFeatureSettings),this._editor.changeViewZones(u=>{for(let d of this._lenses)d.updateHeight(i,u)})}_localDispose(){var i,n,o;(i=this._getCodeLensModelPromise)===null||i===void 0||i.cancel(),this._getCodeLensModelPromise=void 0,(n=this._resolveCodeLensesPromise)===null||n===void 0||n.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(o=this._currentCodeLensModel)===null||o===void 0||o.dispose()}_onModelChange(){this._localDispose();let i=this._editor.getModel();if(!i||!this._editor.getOption(12))return;let n=this._codeLensCache.get(i);if(n&&this._renderCodeLensSymbols(n),!Ih.has(i)){n&&this._localToDispose.add(Hp(()=>{let r=this._codeLensCache.get(i);n===r&&(this._codeLensCache.delete(i),this._onModelChange())},30*1e3));return}for(let r of Ih.all(i))if(typeof r.onDidChange=="function"){let s=r.onDidChange(()=>o.schedule());this._localToDispose.add(s)}let o=new $n(()=>{var r;let s=Date.now();(r=this._getCodeLensModelPromise)===null||r===void 0||r.cancel(),this._getCodeLensModelPromise=Ui(l=>lF(i,l)),this._getCodeLensModelPromise.then(l=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=l,this._codeLensCache.put(i,l);let c=this._getCodeLensModelDelays.update(i,Date.now()-s);o.delay=c,this._renderCodeLensSymbols(l),this._resolveCodeLensesInViewport()},qt)},this._getCodeLensModelDelays.get(i));this._localToDispose.add(o),this._localToDispose.add(uo(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(r=>{this._editor.changeViewZones(s=>{let l=[],c=-1;this._lenses.forEach(d=>{!d.isValid()||c===d.getLineNumber()?l.push(d):(d.update(s),c=d.getLineNumber())});let u=new d0;l.forEach(d=>{d.dispose(u,s),this._lenses.splice(this._lenses.indexOf(d),1)}),u.commit(r)})}),o.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{o.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(r=>{r.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(uo(()=>{if(this._editor.getModel()){let r=am.capture(this._editor);this._editor.changeDecorations(s=>{this._editor.changeViewZones(l=>{this._disposeAllLenses(s,l)})}),r.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(r=>{if(r.target.type!==9)return;let s=r.target.element;if(s?.tagName==="SPAN"&&(s=s.parentElement),s?.tagName==="A")for(let l of this._lenses){let c=l.getCommand(s);if(c){this._commandService.executeCommand(c.id,...c.arguments||[]).catch(u=>this._notificationService.error(u));break}}})),o.schedule()}_disposeAllLenses(i,n){let o=new d0;for(let r of this._lenses)r.dispose(o,n);i&&o.commit(i),this._lenses.length=0}_renderCodeLensSymbols(i){if(!this._editor.hasModel())return;let n=this._editor.getModel().getLineCount(),o=[],r;for(let c of i.lenses){let u=c.symbol.range.startLineNumber;u<1||u>n||(r&&r[r.length-1].symbol.range.startLineNumber===u?r.push(c):(r=[c],o.push(r)))}let s=am.capture(this._editor),l=this._getLayoutInfo();this._editor.changeDecorations(c=>{this._editor.changeViewZones(u=>{let d=new d0,h=0,p=0;for(;p<o.length&&h<this._lenses.length;){let g=o[p][0].symbol.range.startLineNumber,f=this._lenses[h].getLineNumber();f<g?(this._lenses[h].dispose(d,u),this._lenses.splice(h,1)):f===g?(this._lenses[h].updateCodeLensSymbols(o[p],d),p++,h++):(this._lenses.splice(h,0,new bw(o[p],this._editor,this._styleClassName,d,u,l.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),h++,p++)}for(;h<this._lenses.length;)this._lenses[h].dispose(d,u),this._lenses.splice(h,1);for(;p<o.length;)this._lenses.push(new bw(o[p],this._editor,this._styleClassName,d,u,l.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),p++;d.commit(c)})}),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var i;(i=this._resolveCodeLensesPromise)===null||i===void 0||i.cancel(),this._resolveCodeLensesPromise=void 0;let n=this._editor.getModel();if(!n)return;let o=[],r=[];if(this._lenses.forEach(c=>{let u=c.computeIfNecessary(n);u&&(o.push(u),r.push(c))}),o.length===0)return;let s=Date.now(),l=Ui(c=>{let u=o.map((d,h)=>{let p=new Array(d.length),g=d.map((f,y)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(n,f.symbol,c)).then(M=>{p[y]=M},gn):(p[y]=f.symbol,Promise.resolve(void 0)));return Promise.all(g).then(()=>{!c.isCancellationRequested&&!r[h].isDisposed()&&r[h].updateCommands(p)})});return Promise.all(u)});this._resolveCodeLensesPromise=l,this._resolveCodeLensesPromise.then(()=>{let c=this._resolveCodeLensesDelays.update(n,Date.now()-s);this._resolveCodeLensesScheduler.delay=c,this._currentCodeLensModel&&this._codeLensCache.put(n,this._currentCodeLensModel),this._oldCodeLensModels.clear(),l===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},c=>{qt(c),l===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};h0.ID="css.editor.codeLens";h0=_ae([hF(1,jo),hF(2,Sn),hF(3,dF)],h0);Mt(h0.ID,h0);Ue(class extends it{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:Ie.hasCodeLensProvider,label:_("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(i,n){return xae(this,void 0,void 0,function*(){if(!n.hasModel())return;let o=i.get(Ts),r=i.get(jo),s=i.get(Sn),l=n.getSelection().positionLineNumber,c=n.getContribution(h0.ID),u=[];for(let h of c.getLenses())if(h.getLineNumber()===l)for(let p of h.getItems()){let{command:g}=p.symbol;g&&u.push({label:g.title,command:g})}if(u.length===0)return;let d=yield o.pick(u,{canPickMany:!1});if(d)try{yield r.executeCommand(d.command.id,...d.command.arguments||[])}catch(h){s.error(h)}})}});ln();Tl();Mi();tI();bt();Kt();zo();zt();Lo();zi();Un();Mi();Fo();zt();zi();Eh();xo();function tW(e,i){let n=[],r=jp.ordered(e).reverse().map(s=>Promise.resolve(s.provideDocumentColors(e,i)).then(l=>{if(Array.isArray(l))for(let c of l)n.push({colorInfo:c,provider:s})}));return Promise.all(r).then(()=>n)}function pF(e,i,n,o){return Promise.resolve(n.provideColorPresentations(e,i,o))}_i.registerCommand("_executeDocumentColorProvider",function(e,...i){let[n]=i;if(!(n instanceof ui))throw ls();let o=e.get(Po).getModel(n);if(!o)throw ls();let r=[],l=jp.ordered(o).reverse().map(c=>Promise.resolve(c.provideDocumentColors(o,ti.None)).then(u=>{if(Array.isArray(u))for(let d of u)r.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]})}));return Promise.all(l).then(()=>r)});_i.registerCommand("_executeColorPresentationProvider",function(e,...i){let[n,o]=i,{uri:r,range:s}=o;if(!(r instanceof ui)||!Array.isArray(n)||n.length!==4||!Me.isIRange(s))throw ls();let[l,c,u,d]=n,h=e.get(Po).getModel(r);if(!h)throw ls();let p={range:s,color:{red:l,green:c,blue:u,alpha:d}},g=[],y=jp.ordered(h).reverse().map(M=>Promise.resolve(M.provideColorPresentations(h,p,ti.None)).then(k=>{Array.isArray(k)&&g.push(...k)}));return Promise.all(y).then(()=>g)});Zf();var Dae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},iW=function(e,i){return function(n,o){i(n,o,e)}},Eae=500,sp=class nW extends yt{constructor(i,n,o){super(),this._editor=i,this._codeEditorService=n,this._configurationService=o,this._localToDispose=this._register(new Je),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(i.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(i.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(jp.onDidChange(()=>this.onModelChanged())),this._register(i.onDidChangeConfiguration(()=>{let r=this._isEnabled;this._isEnabled=this.isEnabled(),r!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){let i=this._editor.getModel();if(!i)return!1;let n=i.getLanguageIdentifier(),o=this._configurationService.getValue(n.language);if(o){let r=o.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(15)}static get(i){return i.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;let i=this._editor.getModel();!i||!jp.has(i)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Nr,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},nW.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=Ui(i=>{let n=this._editor.getModel();return n?tW(n,i):Promise.resolve([])}),this._computePromise.then(i=>{this.updateDecorations(i),this.updateColorDecorators(i),this._computePromise=null},qt)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(i){let n=i.map(o=>({range:{startLineNumber:o.colorInfo.range.startLineNumber,startColumn:o.colorInfo.range.startColumn,endLineNumber:o.colorInfo.range.endLineNumber,endColumn:o.colorInfo.range.endColumn},options:ri.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach((o,r)=>this._colorDatas.set(o,i[r]))}updateColorDecorators(i){let n=[],o={};for(let r=0;r<i.length&&n.length<Eae;r++){let{red:s,green:l,blue:c,alpha:u}=i[r].colorInfo.color,d=new Mu(Math.round(s*255),Math.round(l*255),Math.round(c*255),u),h=jf(`rgba(${d.r},${d.g},${d.b},${d.a})`).toString(16),p=`rgba(${d.r}, ${d.g}, ${d.b}, ${d.a})`,g="colorBox-"+h;!this._decorationsTypes.has(g)&&!o[g]&&this._codeEditorService.registerDecorationType(g,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:p},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),o[g]=!0,n.push({range:{startLineNumber:i[r].colorInfo.range.startLineNumber,startColumn:i[r].colorInfo.range.startColumn,endLineNumber:i[r].colorInfo.range.endLineNumber,endColumn:i[r].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(g,!0)})}this._decorationsTypes.forEach(r=>{o[r]||this._codeEditorService.removeDecorationType(r)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,n)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(i=>{this._codeEditorService.removeDecorationType(i)})}getColorData(i){let n=this._editor.getModel();if(!n)return null;let o=n.getDecorationsInRange(Me.fromPositions(i,i)).filter(r=>this._colorDatas.has(r.id));return o.length===0?null:this._colorDatas.get(o[0].id)}};sp.ID="editor.contrib.colorDetector";sp.RECOMPUTE_TIME=1e3;sp=Dae([iW(1,Ri),iW(2,As)],sp);Mt(sp.ID,sp);bt();Kt();Ot();Rl();bt();Kt();zt();Zi();Rh();Yi();Un();Tl();bt();Xn();zt();Lo();zi();tn();var lD=class{constructor(i,n,o){this.presentationIndex=o,this._onColorFlushed=new vt,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new vt,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new vt,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=i,this._color=i,this._colorPresentations=n}get color(){return this._color}set color(i){this._color.equals(i)||(this._color=i,this._onDidChangeColor.fire(i))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(i){this._colorPresentations=i,this.presentationIndex>i.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(i,n){for(let o=0;o<this.colorPresentations.length;o++)if(n.toLowerCase()===this.colorPresentations[o].label){this.presentationIndex=o,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}};bS();Yi();Fu();Tl();tn();bt();Cn();Bi();var Jl=ht,gF=class extends yt{constructor(i,n,o){super(),this.model=n,this.domNode=Jl(".colorpicker-header"),ut(i,this.domNode),this.pickedColorNode=ut(this.domNode,Jl(".picked-color"));let r=ut(this.domNode,Jl(".original-color"));r.style.backgroundColor=fi.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=o.getColorTheme().getColor(ku)||fi.white,this._register(oi((s,l)=>{this.backgroundColor=s.getColor(ku)||fi.white})),this._register(go(this.pickedColorNode,us.CLICK,()=>this.model.selectNextColorPresentation())),this._register(go(r,us.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(n.onDidChangeColor(this.onDidChangeColor,this)),this._register(n.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=fi.Format.CSS.format(n.color)||"",this.pickedColorNode.classList.toggle("light",n.color.rgba.a<.5?this.backgroundColor.isLighter():n.color.isLighter())}onDidChangeColor(i){this.pickedColorNode.style.backgroundColor=fi.Format.CSS.format(i)||"",this.pickedColorNode.classList.toggle("light",i.rgba.a<.5?this.backgroundColor.isLighter():i.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}},fF=class extends yt{constructor(i,n,o){super(),this.model=n,this.pixelRatio=o,this.domNode=Jl(".colorpicker-body"),ut(i,this.domNode),this.saturationBox=new mF(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new vF(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new CF(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:i,v:n}){let o=this.model.color.hsva;this.model.color=new fi(new Qv(o.h,i,n,o.a))}onDidOpacityChange(i){let n=this.model.color.hsva;this.model.color=new fi(new Qv(n.h,n.s,n.v,i))}onDidHueChange(i){let n=this.model.color.hsva,o=(1-i)*360;this.model.color=new fi(new Qv(o===360?0:o,n.s,n.v,n.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}},mF=class extends yt{constructor(i,n,o){super(),this.model=n,this.pixelRatio=o,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new vt,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Jl(".saturation-wrap"),ut(i,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",ut(this.domNode,this.canvas),this.selection=Jl(".saturation-selection"),ut(this.domNode,this.selection),this.layout(),this._register(W3(this.domNode,r=>this.onMouseDown(r))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(i){this.monitor=this._register(new Zv);let n=Go(this.domNode);i.target!==this.selection&&this.onDidChangePosition(i.offsetX,i.offsetY),this.monitor.startMonitoring(i.target,i.buttons,Yv,r=>this.onDidChangePosition(r.posx-n.left,r.posy-n.top),()=>null);let o=j3(document,()=>{this._onColorFlushed.fire(),o.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(i,n){let o=Math.max(0,Math.min(1,i/this.width)),r=Math.max(0,Math.min(1,1-n/this.height));this.paintSelection(o,r),this._onDidChange.fire({s:o,v:r})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();let i=this.model.color.hsva;this.paintSelection(i.s,i.v)}paint(){let i=this.model.color.hsva,n=new fi(new Qv(i.h,1,1,1)),o=this.canvas.getContext("2d"),r=o.createLinearGradient(0,0,this.canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");let s=o.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),o.rect(0,0,this.canvas.width,this.canvas.height),o.fillStyle=fi.Format.CSS.format(n),o.fill(),o.fillStyle=r,o.fill(),o.fillStyle=s,o.fill()}paintSelection(i,n){this.selection.style.left=`${i*this.width}px`,this.selection.style.top=`${this.height-n*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}},cD=class extends yt{constructor(i,n){super(),this.model=n,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new vt,this.onColorFlushed=this._onColorFlushed.event,this.domNode=ut(i,Jl(".strip")),this.overlay=ut(this.domNode,Jl(".overlay")),this.slider=ut(this.domNode,Jl(".slider")),this.slider.style.top="0px",this._register(W3(this.domNode,o=>this.onMouseDown(o))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;let i=this.getValue(this.model.color);this.updateSliderPosition(i)}onMouseDown(i){let n=this._register(new Zv),o=Go(this.domNode);this.domNode.classList.add("grabbing"),i.target!==this.slider&&this.onDidChangeTop(i.offsetY),n.startMonitoring(i.target,i.buttons,Yv,s=>this.onDidChangeTop(s.posy-o.top),()=>null);let r=j3(document,()=>{this._onColorFlushed.fire(),r.dispose(),n.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(i){let n=Math.max(0,Math.min(1,1-i/this.height));this.updateSliderPosition(n),this._onDidChange.fire(n)}updateSliderPosition(i){this.slider.style.top=`${(1-i)*this.height}px`}},vF=class extends cD{constructor(i,n){super(i,n),this.domNode.classList.add("opacity-strip"),this._register(n.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(i){let{r:n,g:o,b:r}=i.rgba,s=new fi(new Mu(n,o,r,1)),l=new fi(new Mu(n,o,r,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${l} 100%)`}getValue(i){return i.hsva.a}},CF=class extends cD{constructor(i,n){super(i,n),this.domNode.classList.add("hue-strip")}getValue(i){return 1-i.hsva.h/360}},uD=class extends Do{constructor(i,n,o,r){super(),this.model=n,this.pixelRatio=o,this._register(G4(()=>this.layout()));let s=Jl(".colorpicker-widget");i.appendChild(s);let l=new gF(s,this.model,r);this.body=new fF(s,this.model,this.pixelRatio),this._register(l),this._register(this.body)}layout(){this.body.layout()}};ln();Mi();var p0=class{constructor(i,n,o,r,s){this._computer=i,this._state=0,this._hoverTime=s,this._firstWaitScheduler=new $n(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new $n(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new $n(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=n,this._errorCallback=o,this._progressCallback=r}setHoverTime(i){this._hoverTime=i}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Ui(i=>this._computer.computeAsync(i)),this._asyncComputationPromise.then(i=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(i)},i=>this._onError(i))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(i){i&&this._computer.onResult(i,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(i){this._completeCallback(i)}_onError(i){this._errorCallback?this._errorCallback(i):qt(i)}_onProgress(i){this._progressCallback(i)}start(i){if(i===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}};Bi();kn();Cn();Fu();Yi();bt();var dD=ht,hD=class extends yt{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new sm(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}};function oW(e,i,n){let o=ut(e,dD("div.action-container")),r=ut(o,dD("a.action"));r.setAttribute("href","#"),r.setAttribute("role","button"),i.iconClass&&ut(r,dD(`span.icon.${i.iconClass}`));let s=ut(r,dD("span"));return s.textContent=n?`${i.label} (${n})`:i.label,go(o,us.CLICK,l=>{l.stopPropagation(),l.preventDefault(),i.run(o)})}Ot();Yi();bt();zt();kn();Ms();Mi();xu();Ot();bt();Pi();Xn();zt();Kt();Zi();Ot();Yi();bt();zt();Cn();Bi();Tl();Fo();Ov();ba();Ms();PZ();function pD(e){if(!e)return;typeof e=="string"&&(e=ui.file(e));let i=Br(e)||(e.scheme===po.file?e.fsPath:e.path);return yu&&w8(i)?gD(i):i}function gD(e){return b8(e)?e.charAt(0).toUpperCase()+e.slice(1):e}kn();tn();Yi();qv();Tl();tn();RS();zo();RS();zo();xo();Pi();yn();Bi();var Iae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Lg=function(e,i){return function(n,o){i(n,o,e)}},gl=class extends K5{constructor(i,n,o,r,s,l,c,u,d,h){super(i,Object.assign(Object.assign({},o.getRawOptions()),{overflowWidgetsDomNode:o.getOverflowWidgetsDomNode()}),{},r,s,l,c,u,d,h),this._parentEditor=o,this._overwriteOptions=n,super.updateOptions(this._overwriteOptions),this._register(o.onDidChangeConfiguration(p=>this._onParentConfigurationChanged(p)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(i){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(i){Gf(this._overwriteOptions,i,!0),super.updateOptions(this._overwriteOptions)}};gl=Iae([Lg(3,hi),Lg(4,Ri),Lg(5,jo),Lg(6,$t),Lg(7,Jn),Lg(8,Sn),Lg(9,q5)],gl);Yi();Tl();bt();RS();zt();Lo();var sW=new fi(new Mu(0,122,204)),Mae={showArrow:!0,showFrame:!0,className:"",frameColor:sW,arrowColor:sW,keepEditorSelection:!1},Rae="vs.editor.contrib.zoneWidget",wF=class{constructor(i,n,o,r,s,l){this.id="",this.domNode=i,this.afterLineNumber=n,this.afterColumn=o,this.heightInLines=r,this._onDomNodeTop=s,this._onComputedHeight=l}onDomNodeTop(i){this._onDomNodeTop(i)}onComputedHeight(i){this._onComputedHeight(i)}},bF=class{constructor(i,n){this._id=i,this._domNode=n}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}},fD=class e{constructor(i){this._editor=i,this._ruleName=e._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),U3(this._ruleName)}set color(i){this._color!==i&&(this._color=i,this._updateStyle())}set height(i){this._height!==i&&(this._height=i,this._updateStyle())}_updateStyle(){U3(this._ruleName),r8(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(i){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Me.fromPositions(i),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}};fD._IdGenerator=new yB(".arrow-decoration-");var mD=class{constructor(i,n={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Je,this.container=null,this._isShowing=!1,this.editor=i,this.options=D8(n),Gf(this.options,Mae,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{let r=this._getWidth(o);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(r)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(i=>{this._viewZone&&i.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new fD(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(i){i.frameColor&&(this.options.frameColor=i.frameColor),i.arrowColor&&(this.options.arrowColor=i.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let i=this.options.frameColor.toString();this.container.style.borderTopColor=i,this.container.style.borderBottomColor=i}if(this._arrow&&this.options.arrowColor){let i=this.options.arrowColor.toString();this._arrow.color=i}}_getWidth(i){return i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}_getLeft(i){return i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?i.minimap.minimapWidth:0}_onViewZoneTop(i){this.domNode.style.top=i+"px"}_onViewZoneHeight(i){if(this.domNode.style.height=`${i}px`,this.container){let n=i-this._decoratingElementsHeight();this.container.style.height=`${n}px`;let o=this.editor.getLayoutInfo();this._doLayout(n,this._getWidth(o))}this._resizeSash&&this._resizeSash.layout()}get position(){let[i]=this._positionMarkerId;if(!i)return;let n=this.editor.getModel();if(!n)return;let o=n.getDecorationRange(i);if(o)return o.getStartPosition()}show(i,n){let o=Me.isIRange(i)?Me.lift(i):Me.fromPositions(i);this._isShowing=!0,this._showImpl(o,n),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:o,options:ri.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(i=>{this._viewZone&&i.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let i=this.editor.getOption(55),n=0;if(this.options.showArrow){let o=Math.round(i/3);n+=2*o}if(this.options.showFrame){let o=Math.round(i/9);n+=2*o}return n}_showImpl(i,n){let o=i.getStartPosition(),r=this.editor.getLayoutInfo(),s=this._getWidth(r);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(r)+"px";let l=document.createElement("div");l.style.overflow="hidden";let c=this.editor.getOption(55),u=Math.max(12,this.editor.getLayoutInfo().height/c*.8);n=Math.min(n,u);let d=0,h=0;if(this._arrow&&this.options.showArrow&&(d=Math.round(c/3),this._arrow.height=d,this._arrow.show(o)),this.options.showFrame&&(h=Math.round(c/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new wF(l,o.lineNumber,o.column,n,y=>this._onViewZoneTop(y),y=>this._onViewZoneHeight(y)),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new bF(Rae+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){let f=this.options.frameWidth?this.options.frameWidth:h;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}let p=n*c-this._decoratingElementsHeight();this.container&&(this.container.style.top=d+"px",this.container.style.height=p+"px",this.container.style.overflow="hidden"),this._doLayout(p,s),this.options.keepEditorSelection||this.editor.setSelection(i);let g=this.editor.getModel();if(g){let f=i.endLineNumber+1;f<=g.getLineCount()?this.revealLine(f,!1):this.revealLine(g.getLineCount(),!0)}}revealLine(i,n){n?this.editor.revealLineInCenter(i,0):this.editor.revealLine(i,0)}setCssClass(i,n){this.container&&(n&&this.container.classList.remove(n),this.container.classList.add(i))}_onWidth(i){}_doLayout(i,n){}_relayout(i){this._viewZone&&this._viewZone.heightInLines!==i&&this.editor.changeViewZones(n=>{this._viewZone&&(this._viewZone.heightInLines=i,n.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Tu(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let i;this._disposables.add(this._resizeSash.onDidStart(n=>{this._viewZone&&(i={startY:n.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{i=void 0})),this._disposables.add(this._resizeSash.onDidChange(n=>{if(i){let o=(n.currentY-i.startY)/this.editor.getOption(55),r=o<0?Math.ceil(o):Math.floor(o),s=i.heightInLines+r;s>5&&s<35&&this._relayout(s)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){let i=this.editor.getLayoutInfo();return i.width-i.minimap.minimapWidth}};Ot();Pi();yn();nC();Kt();Cn();zr();Yi();G3();qv();bt();Ot();Cr();hs();Bi();Yi();tn();t5();qv();Yi();FZ();tn();var yF=class extends J8{constructor(i,n){super(),this._onDidChangeVisibility=new vt,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=ut(i,ht(".monaco-dropdown")),this._label=ut(this._element,ht(".dropdown-label"));let o=n.labelRenderer;o||(o=s=>(s.textContent=n.label||"",null));for(let s of[us.CLICK,us.MOUSE_DOWN,wI.Tap])this._register(go(this.element,s,l=>zp.stop(l,!0)));for(let s of[us.MOUSE_DOWN,wI.Tap])this._register(go(this._label,s,l=>{l instanceof MouseEvent&&l.detail>1||(this.visible?this.hide():this.show())}));this._register(go(this._label,us.KEY_UP,s=>{let l=new $4(s);(l.equals(3)||l.equals(10))&&(zp.stop(s,!0),this.visible?this.hide():this.show())}));let r=o(this._label);r&&this._register(r),this._register(QS.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}},vD=class extends yF{constructor(i,n){super(i,n),this._actions=[],this._contextMenuProvider=n.contextMenuProvider,this.actions=n.actions||[],this.actionProvider=n.actionProvider,this.menuClassName=n.menuClassName||"",this.menuAsChild=!!n.menuAsChild}set menuOptions(i){this._menuOptions=i}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(i){this._actions=i}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:i=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(i):void 0,getKeyBinding:i=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(i):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}};var CD=class extends Z5{constructor(i,n,o,r=Object.create(null)){super(null,i,r),this.actionItem=null,this._onDidChangeVisibility=this._register(new vt),this.menuActionsOrProvider=n,this.contextMenuProvider=o,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(i){this.actionItem=i;let n=s=>{this.element=ut(s,ht("a.action-label"));let l=[];return typeof this.options.classNames=="string"?l=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(l=this.options.classNames),l.find(c=>c==="icon")||l.push("codicon"),this.element.classList.add(...l),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},o=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:n,menuAsChild:this.options.menuAsChild,actions:o?this.menuActionsOrProvider:void 0,actionProvider:o?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new vD(i,r)),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var l;(l=this.element)===null||l===void 0||l.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){let s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(i){super.setActionContext(i),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=i:this.dropdownMenu.menuOptions={context:i})}updateEnabled(){var i,n;let o=!this.getAction().enabled;(i=this.actionItem)===null||i===void 0||i.classList.toggle("disabled",o),(n=this.element)===null||n===void 0||n.classList.toggle("disabled",o)}};ba();var aW=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},SF=function(e,i){return function(n,o){i(n,o,e)}};function lW(e,i,n,o,r,s){let l=e.getActions(i);return Aae(l,n,!1,o,r,s),kae(l)}function kae(e){let i=new Je;for(let[,n]of e)for(let o of n)i.add(o);return i}function Aae(e,i,n,o="navigation",r=Number.MAX_SAFE_INTEGER,s=()=>!1){let l,c;Array.isArray(i)?(l=i,c=i):(l=i.primary,c=i.secondary);let u=new Set;for(let[d,h]of e){let p;d===o?p=l:(p=c,p.length>0&&p.push(new qp));for(let g of h){n&&(g=g instanceof Kv&&g.alt?g.alt:g);let f=p.push(g);g instanceof $S&&u.add({group:d,action:g,index:f-1})}}for(let{group:d,action:h,index:p}of u){let g=d===o?l:c,f=h.actions;(f.length<=1||g.length+f.length-2<=r)&&s(h,d,g.length)&&g.splice(p,1,...f)}if(l!==c&&l.length>r){let d=l.splice(r,l.length-r);c.unshift(...d,new qp)}}var yw=class extends rC{constructor(i,n,o){super(void 0,i,{icon:!!(i.class||i.item.icon),label:!i.class&&!i.item.icon}),this._keybindingService=n,this._notificationService=o,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Ao),this._altKey=s8.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(i){i.preventDefault(),i.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).catch(n=>this._notificationService.error(n))}render(i){super.render(i),i.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let n=!1,o=this._altKey.keyStatus.altKey||(yu||Tv)&&this._altKey.keyStatus.shiftKey,r=()=>{let s=n&&o;s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(s=>{o=s.altKey||(yu||Tv)&&s.shiftKey,r()})),this._register(Su(i,"mouseleave")(s=>{n=!1,r()})),this._register(Su(i,"mouseenter")(s=>{n=!0,r()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){let i=this._keybindingService.lookupKeybinding(this._commandAction.id),n=i&&i.getLabel(),o=this._commandAction.tooltip||this._commandAction.label,r=n?_("titleAndKb","{0} ({1})",o,n):o;if(!this._wantsAltCommand&&this._menuItemAction.alt){let s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,l=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id),c=l&&l.getLabel(),u=c?_("titleAndKb","{0} ({1})",s,c):s;r+=`
[${$8.modifierLabels[B4].altKey}] ${u}`}this.label.title=r}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(i){var n;this._itemClassDispose.value=void 0;let{element:o,label:r}=this;if(!o||!r)return;let s=this._commandAction.checked&&(!((n=i.toggled)===null||n===void 0)&&n.icon)?i.toggled.icon:i.icon;if(s)if(An.isThemeIcon(s)){let l=An.asClassNameArray(s);r.classList.add(...l),this._itemClassDispose.value=uo(()=>{r.classList.remove(...l)})}else s.light&&r.style.setProperty("--menu-entry-icon-light",Nv(s.light)),s.dark&&r.style.setProperty("--menu-entry-icon-dark",Nv(s.dark)),r.classList.add("icon"),this._itemClassDispose.value=uo(()=>{r.classList.remove("icon"),r.style.removeProperty("--menu-entry-icon-light"),r.style.removeProperty("--menu-entry-icon-dark")})}};yw=aW([SF(1,In),SF(2,Sn)],yw);var _F=class extends CD{constructor(i,n){super(i,{getActions:()=>i.actions},n,{menuAsChild:!0,classNames:An.isThemeIcon(i.item.icon)?An.asClassName(i.item.icon):void 0})}render(i){if(super.render(i),this.element){i.classList.add("menu-entry");let{icon:n}=this._action.item;n&&!An.isThemeIcon(n)&&(this.element.classList.add("icon"),n.light&&this.element.style.setProperty("--menu-entry-icon-light",Nv(n.light)),n.dark&&this.element.style.setProperty("--menu-entry-icon-dark",Nv(n.dark)))}}};_F=aW([SF(1,lm)],_F);function cW(e,i){return i instanceof Kv?e.createInstance(yw,i):i instanceof qS?e.createInstance(_F,i):void 0}var uW=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},dW=function(e,i){return function(n,o){i(n,o,e)}},xF=kl("IPeekViewService");Ll(xF,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,i){let n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose());let o=()=>{let r=this._widgets.get(e);r&&r.widget===i&&(r.listener.dispose(),this._widgets.delete(e))};this._widgets.set(e,{widget:i,listener:i.onDidClose(o)})}});var Vo;(function(e){e.inPeekEditor=new ii("inReferenceSearchEditor",!0,_("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()})(Vo||(Vo={}));var _w=class{constructor(i,n){i instanceof gl&&Vo.inPeekEditor.bindTo(n)}dispose(){}};_w.ID="editor.contrib.referenceController";_w=uW([dW(1,$t)],_w);Mt(_w.ID,_w);function hW(e){let i=e.get(Ri).getFocusedCodeEditor();return i instanceof gl?i.getParentEditor():i}var Fae={headerBackgroundColor:fi.white,primaryHeadingColor:fi.fromHex("#333333"),secondaryHeadingColor:fi.fromHex("#6c6c6cb3")},g0=class extends mD{constructor(i,n,o){super(i,n),this.instantiationService=o,this._onDidClose=new vt,this.onDidClose=this._onDidClose.event,Gf(this.options,Fae,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(i){let n=this.options;i.headerBackgroundColor&&(n.headerBackgroundColor=i.headerBackgroundColor),i.primaryHeadingColor&&(n.primaryHeadingColor=i.primaryHeadingColor),i.secondaryHeadingColor&&(n.secondaryHeadingColor=i.secondaryHeadingColor),super.style(i)}_applyStyles(){super._applyStyles();let i=this.options;this._headElement&&i.headerBackgroundColor&&(this._headElement.style.backgroundColor=i.headerBackgroundColor.toString()),this._primaryHeading&&i.primaryHeadingColor&&(this._primaryHeading.style.color=i.primaryHeadingColor.toString()),this._secondaryHeading&&i.secondaryHeadingColor&&(this._secondaryHeading.style.color=i.secondaryHeadingColor.toString()),this._bodyElement&&i.frameColor&&(this._bodyElement.style.borderColor=i.frameColor.toString())}_fillContainer(i){this.setCssClass("peekview-widget"),this._headElement=ht(".head"),this._bodyElement=ht(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),i.appendChild(this._headElement),i.appendChild(this._bodyElement)}_fillHead(i,n){let o=ht(".peekview-title");ut(this._headElement,o),cs(o,"click",l=>this._onTitleClick(l)),this._fillTitleIcon(o),this._primaryHeading=ht("span.filename"),this._secondaryHeading=ht("span.dirname"),this._metaHeading=ht("span.meta"),ut(o,this._primaryHeading,this._secondaryHeading,this._metaHeading);let r=ht(".peekview-actions");ut(this._headElement,r);let s=this._getActionBarOptions();this._actionbarWidget=new sC(r,s),this._disposables.add(this._actionbarWidget),n||this._actionbarWidget.push(new US("peekview.close",_("label.close","Close"),pt.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(i){}_getActionBarOptions(){return{actionViewItemProvider:cW.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(i){}setTitle(i,n){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=i,this._primaryHeading.setAttribute("aria-label",i),n?this._secondaryHeading.innerText=n:Is(this._secondaryHeading))}setMetaTitle(i){this._metaHeading&&(i?(this._metaHeading.innerText=i,Wo(this._metaHeading)):_o(this._metaHeading))}_doLayout(i,n){if(!this._isShowing&&i<0){this.dispose();return}let o=Math.ceil(this.editor.getOption(55)*1.2),r=Math.round(i-(o+2));this._doLayoutHead(o,n),this._doLayoutBody(r,n)}_doLayoutHead(i,n){this._headElement&&(this._headElement.style.height=`${i}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(i,n){this._bodyElement&&(this._bodyElement.style.height=`${i}px`)}};g0=uW([dW(2,hi)],g0);var pW=xt("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},_("peekViewTitleBackground","Background color of the peek view title area.")),wD=xt("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},_("peekViewTitleForeground","Color of the peek view title.")),bD=xt("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},_("peekViewTitleInfoForeground","Color of the peek view title info.")),gW=xt("peekView.border",{dark:"#007acc",light:"#007acc",hc:Oh},_("peekViewBorder","Color of the peek view borders and arrow.")),DF=xt("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:fi.black},_("peekViewResultsBackground","Background color of the peek view result list.")),fW=xt("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:fi.white},_("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),mW=xt("peekViewResult.fileForeground",{dark:fi.white,light:"#1E1E1E",hc:fi.white},_("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),vW=xt("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},_("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),CW=xt("peekViewResult.selectionForeground",{dark:fi.white,light:"#6C6C6C",hc:fi.white},_("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),Sw=xt("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:fi.black},_("peekViewEditorBackground","Background color of the peek view editor.")),wW=xt("peekViewEditorGutter.background",{dark:Sw,light:Sw,hc:Sw},_("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),bW=xt("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},_("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),yW=xt("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},_("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),SW=xt("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Ru},_("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));Ms();Bi();Cn();zr();var yD;(function(e){function i(n){switch(n){case $v.Ignore:return"severity-ignore "+pt.info.classNames;case $v.Info:return pt.info.classNames;case $v.Warning:return pt.warning.classNames;case $v.Error:return pt.error.classNames;default:return""}}e.className=i})(yD||(yD={}));oi((e,i)=>{let n=e.getColor(B5);if(n){let s=pt.error.cssSelector;i.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s} {
				color: ${n};
			}
		`)}let o=e.getColor(V5);if(o){let s=pt.warning.cssSelector;i.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.extension-editor ${s} {
				color: ${o};
			}
		`)}let r=e.getColor(H5);if(r){let s=pt.info.cssSelector;i.addRule(`
			.monaco-editor .zone-widget ${s},
			.markers-panel .marker-icon${s},
			.extensions-viewlet > .extensions ${s},
			.extension-editor ${s} {
				color: ${r};
			}
		`)}});xu();Cr();Pi();yn();Bn();var Pae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},f0=function(e,i){return function(n,o){i(n,o,e)}},RF=class{constructor(i,n,o,r,s){this._openerService=r,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Je,this._editor=n;let l=document.createElement("div");l.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),l.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),l.appendChild(this._relatedBlock),this._disposables.add(cs(this._relatedBlock,"click",c=>{c.preventDefault();let u=this._relatedDiagnostics.get(c.target);u&&o(u)})),this._scrollable=new $5(l,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),i.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(c=>{l.style.left=`-${c.scrollLeft}px`,l.style.top=`-${c.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){jn(this._disposables)}update(i){let{source:n,message:o,relatedInformation:r,code:s}=i,l=(n?.length||0)+2;s&&(typeof s=="string"?l+=s.length:l+=s.value.length);let c=xS(o);this._lines=c.length,this._longestLineLength=0;for(let g of c)this._longestLineLength=Math.max(g.length+l,this._longestLineLength);Is(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(i)),this._editor.applyFontInfo(this._messageBlock);let u=this._messageBlock;for(let g of c)u=document.createElement("div"),u.innerText=g,g===""&&(u.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(u);if(n||s){let g=document.createElement("span");if(g.classList.add("details"),u.appendChild(g),n){let f=document.createElement("span");f.innerText=n,f.classList.add("source"),g.appendChild(f)}if(s)if(typeof s=="string"){let f=document.createElement("span");f.innerText=`(${s})`,f.classList.add("code"),g.appendChild(f)}else{this._codeLink=ht("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=y=>{this._openerService.open(s.target,{allowCommands:!0}),y.preventDefault(),y.stopPropagation()};let f=ut(this._codeLink,ht("span"));f.innerText=s.value,g.appendChild(this._codeLink)}}if(Is(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),fo(r)){let g=this._relatedBlock.appendChild(document.createElement("div"));g.style.paddingTop=`${Math.floor(this._editor.getOption(55)*.66)}px`,this._lines+=1;for(let f of r){let y=document.createElement("div"),M=document.createElement("a");M.classList.add("filename"),M.innerText=`${pD(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,M.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(M,f);let k=document.createElement("span");k.innerText=f.message,y.appendChild(M),y.appendChild(k),this._lines+=1,g.appendChild(y)}}let d=this._editor.getOption(40),h=Math.ceil(d.typicalFullwidthCharacterWidth*this._longestLineLength*.75),p=d.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:h,scrollHeight:p})}layout(i,n){this._scrollable.getDomNode().style.height=`${i}px`,this._scrollable.getDomNode().style.width=`${n}px`,this._scrollable.setScrollDimensions({width:n,height:i})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(i){let n="";switch(i.severity){case Io.Error:n=_("Error","Error");break;case Io.Warning:n=_("Warning","Warning");break;case Io.Info:n=_("Info","Info");break;case Io.Hint:n=_("Hint","Hint");break}let o=_("marker aria","{0} at {1}. ",n,i.startLineNumber+":"+i.startColumn),r=this._editor.getModel();return r&&i.startLineNumber<=r.getLineCount()&&i.startLineNumber>=1&&(o=`${r.getLineContent(i.startLineNumber)}, ${o}`),o}},Og=class _W extends g0{constructor(i,n,o,r,s,l,c){super(i,{showArrow:!0,showFrame:!0,isAccessible:!0},s),this._themeService=n,this._openerService=o,this._menuService=r,this._contextKeyService=l,this._labelService=c,this._callOnDispose=new Je,this._onDidSelectRelatedInformation=new vt,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Io.Warning,this._backgroundColor=fi.white,this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(i){this._backgroundColor=i.getColor(Bae);let n=Lae;this._severity===Io.Warning?n=Oae:this._severity===Io.Info&&(n=Nae);let o=i.getColor(n);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:i.getColor(wD),secondaryHeadingColor:i.getColor(bD)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(i){super._fillHead(i),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(r=>this.editor.focus()));let n=[],o=this._menuService.createMenu(_W.TitleMenu,this._contextKeyService);lW(o,void 0,n),this._actionbarWidget.push(n,{label:!1,icon:!0,index:0}),o.dispose()}_fillTitleIcon(i){this._icon=ut(i,ht(""))}_fillBody(i){this._parentContainer=i,i.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),i.appendChild(this._container),this._message=new RF(this._container,this.editor,n=>this._onDidSelectRelatedInformation.fire(n),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(i,n,o){this._container.classList.remove("stale"),this._message.update(i),this._severity=i.severity,this._applyTheme(this._themeService.getColorTheme());let r=Me.lift(i),s=this.editor.getPosition(),l=s&&r.containsPosition(s)?s:r.getStartPosition();super.show(l,this.computeRequiredHeight());let c=this.editor.getModel();if(c){let u=o>1?_("problems","{0} of {1} problems",n,o):_("change","{0} of {1} problem",n,o);this.setTitle(Br(c.uri),u)}this._icon.className=`codicon ${yD.className(Io.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(l,0),this.editor.focus()}updateMarker(i){this._container.classList.remove("stale"),this._message.update(i)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(i,n){super._doLayoutBody(i,n),this._heightInPixel=i,this._message.layout(i,n),this._container.style.height=`${i}px`}_onWidth(i){this._message.layout(this._heightInPixel,i)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Og.TitleMenu=new jt("gotoErrorTitleMenu");Og=Pae([f0(1,Jn),f0(2,sr),f0(3,Xf),f0(4,hi),f0(5,$t),f0(6,Vh)],Og);var EF=d1(h5,p5),IF=d1(g5,f5),MF=d1(m5,v5),Lae=xt("editorMarkerNavigationError.background",{dark:EF,light:EF,hc:EF},_("editorMarkerNavigationError","Editor marker navigation widget error color.")),Oae=xt("editorMarkerNavigationWarning.background",{dark:IF,light:IF,hc:IF},_("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Nae=xt("editorMarkerNavigationInfo.background",{dark:MF,light:MF,hc:MF},_("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Bae=xt("editorMarkerNavigation.background",{dark:"#2D2D30",light:fi.white,hc:"#0C141F"},_("editorMarkerNavigationBackground","Editor marker navigation widget background."));oi((e,i)=>{let n=e.getColor(Pl);n&&(i.addRule(`.monaco-editor .marker-widget a { color: ${n}; }`),i.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${n}; }`))});zo();Cr();zr();yn();Fo();tn();bt();zt();Bn();kn();yn();nC();V4();var xW=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},DW=function(e,i){return function(n,o){i(n,o,e)}},SD=class{constructor(i,n,o){this.marker=i,this.index=n,this.total=o}},kF=class EW{constructor(i,n){this._markerService=n,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._dispoables=new Je,this._markers=[],this._nextIdx=-1,ui.isUri(i)?this._resourceFilter=r=>r.toString()===i.toString():i&&(this._resourceFilter=i);let o=()=>{this._markers=this._markerService.read({resource:ui.isUri(i)?i:void 0,severities:Io.Error|Io.Warning|Io.Info}),typeof i=="function"&&(this._markers=this._markers.filter(r=>this._resourceFilter(r.resource))),this._markers.sort(EW._compareMarker)};o(),this._dispoables.add(n.onMarkerChanged(r=>{(!this._resourceFilter||r.some(s=>this._resourceFilter(s)))&&(o(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(i){return!this._resourceFilter&&!i?!0:!this._resourceFilter||!i?!1:this._resourceFilter(i)}get selected(){let i=this._markers[this._nextIdx];return i&&new SD(i,this._nextIdx+1,this._markers.length)}_initIdx(i,n,o){let r=!1,s=this._markers.findIndex(l=>l.resource.toString()===i.uri.toString());s<0&&(s=OS(this._markers,{resource:i.uri},(l,c)=>K3(l.resource.toString(),c.resource.toString())),s<0&&(s=~s));for(let l=s;l<this._markers.length;l++){let c=Me.lift(this._markers[l]);if(c.isEmpty()){let u=i.getWordAtPosition(c.getStartPosition());u&&(c=new Me(c.startLineNumber,u.startColumn,c.startLineNumber,u.endColumn))}if(n&&(c.containsPosition(n)||n.isBeforeOrEqual(c.getStartPosition()))){this._nextIdx=l,r=!0;break}if(this._markers[l].resource.toString()!==i.uri.toString())break}r||(this._nextIdx=o?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(i,n,o){if(this._markers.length===0)return!1;let r=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,o,i):i?this._nextIdx=(this._nextIdx+1)%this._markers.length:i||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(i,n){let o=this._markers.findIndex(r=>r.resource.toString()===i.toString());if(!(o<0)){for(;o<this._markers.length;o++)if(Me.containsPosition(this._markers[o],n))return new SD(this._markers[o],o+1,this._markers.length)}}static _compareMarker(i,n){let o=K3(i.resource.toString(),n.resource.toString());return o===0&&(o=Io.compare(i.severity,n.severity)),o===0&&(o=Me.compareRangesUsingStarts(i,n)),o}};kF=xW([DW(1,cC)],kF);var FF=kl("IMarkerNavigationService"),AF=class{constructor(i){this._markerService=i,this._provider=new CS}getMarkerList(i){for(let n of this._provider){let o=n.getMarkerList(i);if(o)return o}return new kF(i,this._markerService)}};AF=xW([DW(0,cC)],AF);Ll(FF,AF,!0);var Vae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},_D=function(e,i){return function(n,o){i(n,o,e)}},IW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},ih=class xD{constructor(i,n,o,r,s){this._markerNavigationService=n,this._contextKeyService=o,this._editorService=r,this._instantiationService=s,this._sessionDispoables=new Je,this._editor=i,this._widgetVisible=MW.bindTo(this._contextKeyService)}static get(i){return i.getContribution(xD.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(i){if(this._model&&this._model.matches(i))return this._model;let n=!1;return this._model&&(n=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(i),n&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Og,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(o=>{var r,s,l;(!(!((r=this._model)===null||r===void 0)&&r.selected)||!Me.containsPosition((s=this._model)===null||s===void 0?void 0:s.selected.marker,o.position))&&((l=this._model)===null||l===void 0||l.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;let o=this._model.find(this._editor.getModel().uri,this._widget.position);o?this._widget.updateMarker(o.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(o=>{this._editorService.openCodeEditor({resource:o.resource,options:{pinned:!0,revealIfOpened:!0,selection:Me.lift(o).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(i=!0){this._cleanUp(),i&&this._editor.focus()}showAtMarker(i){if(this._editor.hasModel()){let n=this._getOrCreateModel(this._editor.getModel().uri);n.resetIndex(),n.move(!0,this._editor.getModel(),new It(i.startLineNumber,i.startColumn)),n.selected&&this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}}nagivate(i,n){return IW(this,void 0,void 0,function*(){if(this._editor.hasModel()){let o=this._getOrCreateModel(n?void 0:this._editor.getModel().uri);if(o.move(i,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();let r=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);r&&(xD.get(r).close(),xD.get(r).nagivate(i,n))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};ih.ID="editor.contrib.markerController";ih=Vae([_D(1,FF),_D(2,$t),_D(3,Ri),_D(4,hi)],ih);var m0=class extends it{constructor(i,n,o){super(o),this._next=i,this._multiFile=n}run(i,n){return IW(this,void 0,void 0,function*(){n.hasModel()&&ih.get(n).nagivate(this._next,this._multiFile)})}},ap=class e extends m0{constructor(){super(!0,!1,{id:e.ID,label:e.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:578,weight:100},menuOpts:{menuId:Og.TitleMenu,title:e.LABEL,icon:Eo("marker-navigation-next",pt.chevronDown,_("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}};ap.ID="editor.action.marker.next";ap.LABEL=_("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");var xw=class e extends m0{constructor(){super(!1,!1,{id:e.ID,label:e.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:1602,weight:100},menuOpts:{menuId:Og.TitleMenu,title:ap.LABEL,icon:Eo("marker-navigation-previous",pt.chevronUp,_("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}};xw.ID="editor.action.marker.prev";xw.LABEL=_("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");var TF=class extends m0{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:66,weight:100},menuOpts:{menuId:jt.MenubarGoMenu,title:_({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}},PF=class extends m0{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:1090,weight:100},menuOpts:{menuId:jt.MenubarGoMenu,title:_({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}};Mt(ih.ID,ih);Ue(ap);Ue(xw);Ue(TF);Ue(PF);var MW=new ii("markersNavigationVisible",!1),Hae=Fn.bindToContribution(ih.get);gt(new Hae({id:"closeMarkersNavigation",precondition:MW,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:Ie.focus,primary:9,secondary:[1033]}}));hs();ln();Zp();var zae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},LF=function(e,i){return function(n,o){i(n,o,e)}},es=ht,Dw=class e{constructor(i,n){this.range=i,this.marker=n}equals(i){return i instanceof e?lC.makeKey(this.marker)===lC.makeKey(i.marker):!1}},RW={type:1,filter:{include:ni.QuickFix}},DD=class{constructor(i,n,o,r,s){this._editor=i,this._hover=n,this._markerDecorationsService=o,this._keybindingService=r,this._openerService=s,this.recentMarkerCodeActionsInfo=void 0}computeSync(i,n){if(!this._editor.hasModel())return[];let o=this._editor.getModel(),r=i.startLineNumber,s=o.getLineMaxColumn(r),l=[];for(let c of n){let u=c.range.startLineNumber===r?c.range.startColumn:1,d=c.range.endLineNumber===r?c.range.endColumn:s,h=this._markerDecorationsService.getMarker(o.uri,c);if(!h)continue;let p=new Me(i.startLineNumber,u,i.startLineNumber,d);l.push(new Dw(p,h))}return l}renderHoverParts(i,n){if(!i.length)return yt.None;let o=new Je;i.forEach(s=>n.appendChild(this.renderMarkerHover(s,o)));let r=i.length===1?i[0]:i.sort((s,l)=>Io.compare(s.marker.severity,l.marker.severity))[0];return n.appendChild(this.renderMarkerStatusbar(r,o)),o}renderMarkerHover(i,n){let o=es("div.hover-row"),r=ut(o,es("div.marker.hover-contents")),{source:s,message:l,code:c,relatedInformation:u}=i.marker;this._editor.applyFontInfo(r);let d=ut(r,es("span"));if(d.style.whiteSpace="pre-wrap",d.innerText=l,s||c)if(c&&typeof c!="string"){let h=es("span");if(s){let y=ut(h,es("span"));y.innerText=s}let p=ut(h,es("a.code-link"));p.setAttribute("href",c.target.toString()),n.add(go(p,"click",y=>{this._openerService.open(c.target,{allowCommands:!0}),y.preventDefault(),y.stopPropagation()}));let g=ut(p,es("span"));g.innerText=c.value;let f=ut(r,h);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{let h=ut(r,es("span"));h.style.opacity="0.6",h.style.paddingLeft="6px",h.innerText=s&&c?`${s}(${c})`:s||`(${c})`}if(fo(u))for(let{message:h,resource:p,startLineNumber:g,startColumn:f}of u){let y=ut(r,es("div"));y.style.marginTop="8px";let M=ut(y,es("a"));M.innerText=`${Br(p)}(${g}, ${f}): `,M.style.cursor="pointer",n.add(go(M,"click",G=>{G.stopPropagation(),G.preventDefault(),this._openerService&&this._openerService.open(p,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:g,startColumn:f}}}).catch(qt)}));let k=ut(y,es("span"));k.innerText=h,this._editor.applyFontInfo(k)}return o}renderMarkerStatusbar(i,n){let o=es("div.hover-row.status-bar"),r=ut(o,es("div.actions"));if((i.marker.severity===Io.Error||i.marker.severity===Io.Warning||i.marker.severity===Io.Info)&&n.add(this.renderAction(r,{label:_("view problem","View Problem"),commandId:ap.ID,run:()=>{this._hover.hide(),ih.get(this._editor).showAtMarker(i.marker),this._editor.focus()}})),!this._editor.getOption(77)){let s=ut(r,es("div"));this.recentMarkerCodeActionsInfo&&(lC.makeKey(this.recentMarkerCodeActionsInfo.marker)===lC.makeKey(i.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=_("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);let l=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?yt.None:n.add(Hp(()=>s.textContent=_("checkingForQuickFixes","Checking for quick fixes..."),200));s.textContent||(s.textContent="\xA0");let c=this.getCodeActions(i.marker);n.add(uo(()=>c.cancel())),c.then(u=>{if(l.dispose(),this.recentMarkerCodeActionsInfo={marker:i.marker,hasCodeActions:u.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){u.dispose(),s.textContent=_("noQuickFixes","No quick fixes available");return}s.style.display="none";let d=!1;n.add(uo(()=>{d||u.dispose()})),n.add(this.renderAction(r,{label:_("quick fixes","Quick Fix..."),commandId:ww.Id,run:h=>{d=!0;let p=th.get(this._editor),g=Go(h);this._hover.hide(),p.showCodeActions(RW,u,{x:g.left+6,y:g.top+g.height+6})}}))})}return o}renderAction(i,n){let o=this._keybindingService.lookupKeybinding(n.commandId),r=o?o.getLabel():null;return oW(i,n,r)}getCodeActions(i){return Ui(n=>fw(this._editor.getModel(),new Me(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),RW,Ol.None,n))}};DD=zae([LF(2,X8),LF(3,In),LF(4,sr)],DD);Ot();Yi();bt();zt();Yi();xB();Mi();var ED=Sh(kW());var AW;(function(){function e(i,n,o){function r(c,u){if(!n[c]){if(!i[c]){var d=typeof Fv=="function"&&Fv;if(!u&&d)return d(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[c]={exports:{}};i[c][0].call(p.exports,function(g){var f=i[c][1][g];return r(f||g)},p,p.exports,e,i,n,o)}return n[c].exports}for(var s=typeof Fv=="function"&&Fv,l=0;l<o.length;l++)r(o[l]);return r}return e})()({1:[function(e,i,n){"use strict";var o=e("./toMap"),r=["background","base","cite","href","longdesc","src","usemap"];i.exports={uris:o(r)}},{"./toMap":10}],2:[function(e,i,n){"use strict";var o={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};i.exports=o},{}],3:[function(e,i,n){"use strict";var o=e("./toMap"),r=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];i.exports={voids:o(r)}},{"./toMap":10}],4:[function(e,i,n){"use strict";var o=e("he"),r=e("assignment"),s=e("./parser"),l=e("./sanitizer"),c=e("./defaults");function u(d,h,p){var g=[],f=p===!0?h:r({},c,h),y=l(g,f);return s(d,y),g.join("")}u.defaults=c,i.exports=u,AW=u},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,i,n){"use strict";i.exports=function(r){return typeof r=="string"?r.toLowerCase():r}},{}],6:[function(e,i,n){"use strict";function o(r){for(var s=Array.prototype.slice.call(arguments,1),l,c;s.length;){l=s.shift();for(c in l)l.hasOwnProperty(c)&&(Object.prototype.toString.call(r[c])==="[object Object]"?r[c]=o(r[c],l[c]):r[c]=l[c])}return r}i.exports=o},{}],7:[function(e,i,n){"use strict";var o=e("he"),r=e("./lowercase"),s=e("./attributes"),l=e("./elements"),c=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,u=/^<\s*\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,h=/^</,p=/^<\s*\//;function g(){var y=[];return y.lastItem=function(){return y[y.length-1]},y}function f(y,M){for(var k=g(),G=y,J;y;)$();lt();function $(){J=!0,_e();var Lt=y===G;G=y,Lt&&(y="")}function _e(){y.substr(0,4)==="<!--"?Pe():p.test(y)?Fe(u,lt):h.test(y)&&Fe(c,nt),$e()}function Fe(Lt,Jt){var xn=y.match(Lt);xn&&(y=y.substring(xn[0].length),xn[0].replace(Lt,Jt),J=!1)}function Pe(){var Lt=y.indexOf("-->");Lt>=0&&(M.comment&&M.comment(y.substring(4,Lt)),y=y.substring(Lt+3),J=!1)}function $e(){if(J){var Lt,Jt=y.indexOf("<");Jt>=0?(Lt=y.substring(0,Jt),y=y.substring(Jt)):(Lt=y,y=""),M.chars&&M.chars(Lt)}}function nt(Lt,Jt,xn,Ei){var hn={},bn=r(Jt),as=l.voids[bn]||!!Ei;xn.replace(d,ot),as||k.push(bn),M.start&&M.start(bn,hn,as);function ot(Ut,Ci,ji,Hi,nr){ji===void 0&&Hi===void 0&&nr===void 0?hn[Ci]=void 0:hn[Ci]=o.decode(ji||Hi||nr||"")}}function lt(Lt,Jt){var xn,Ei=0,hn=r(Jt);if(hn)for(Ei=k.length-1;Ei>=0&&k[Ei]!==hn;Ei--);if(Ei>=0){for(xn=k.length-1;xn>=Ei;xn--)M.end&&M.end(k[xn]);k.length=Ei}}}i.exports=f},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,i,n){"use strict";var o=e("he"),r=e("./lowercase"),s=e("./attributes"),l=e("./elements");function c(u,d){var h,p,g=d||{};return _e(),{start:y,end:M,chars:G};function f(Fe){u.push(Fe)}function y(Fe,Pe,$e){var nt=r(Fe);if(p.ignoring){J(nt);return}if((g.allowedTags||[]).indexOf(nt)===-1){J(nt);return}if(g.filter&&!g.filter({tag:nt,attrs:Pe})){J(nt);return}f("<"),f(nt),Object.keys(Pe).forEach(lt),f($e?"/>":">");function lt(Lt){var Jt=Pe[Lt],xn=(g.allowedClasses||{})[nt]||[],Ei=(g.allowedAttributes||{})[nt]||[];Ei=Ei.concat((g.allowedAttributes||{})["*"]||[]);var hn,bn=r(Lt);bn==="class"&&Ei.indexOf(bn)===-1?(Jt=Jt.split(" ").filter(as).join(" ").trim(),hn=Jt.length):hn=Ei.indexOf(bn)!==-1&&(s.uris[bn]!==!0||k(Jt)),hn&&(f(" "),f(Lt),typeof Jt=="string"&&(f('="'),f(o.encode(Jt)),f('"')));function as(ot){return xn&&xn.indexOf(ot)!==-1}}}function M(Fe){var Pe=r(Fe),$e=(g.allowedTags||[]).indexOf(Pe)!==-1;$e&&p.ignoring===!1?(f("</"),f(Pe),f(">")):$(Pe)}function k(Fe){var Pe=Fe[0];if(Pe==="#"||Pe==="/")return!0;var $e=Fe.indexOf(":");if($e===-1)return!0;var nt=Fe.indexOf("?");if(nt!==-1&&$e>nt)return!0;var lt=Fe.indexOf("#");if(lt!==-1&&$e>lt)return!0;return g.allowedSchemes.some(Lt);function Lt(Jt){return Fe.indexOf(Jt+":")===0}}function G(Fe){p.ignoring===!1&&f(g.transformText?g.transformText(Fe):Fe)}function J(Fe){l.voids[Fe]||(p.ignoring===!1?p={ignoring:Fe,depth:1}:p.ignoring===Fe&&p.depth++)}function $(Fe){p.ignoring===Fe&&--p.depth<=0&&_e()}function _e(){p={ignoring:!1,depth:0}}}i.exports=c},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,i,n){"use strict";var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},s=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,l=/[&<>"']/g;function c(p){return o[p]}function u(p){return r[p]}function d(p){return p==null?"":String(p).replace(l,c)}function h(p){return p==null?"":String(p).replace(s,u)}d.options=h.options={},i.exports={encode:d,escape:d,decode:h,unescape:h,version:"1.0.0-browser"}},{}],10:[function(e,i,n){"use strict";function o(s){return s.reduce(r,{})}function r(s,l){return s[l]=!0,s}i.exports=o},{}]},{},[4]);var BF=AW;RS();Bn();Fo();Ov();Ms();TZ();tn();G3();var VF,HF=(VF=window.trustedTypes)===null||VF===void 0?void 0:VF.createPolicy("insane",{createHTML(e,i){return BF(e,i)}});function FW(e,i={},n={}){var o;let r=_B(i),s=function(g){let f;try{f=C8(decodeURIComponent(g))}catch{}return f?(f=E8(f,y=>{if(e.uris&&e.uris[y])return ui.revive(e.uris[y])}),encodeURIComponent(JSON.stringify(f))):g},l=function(g,f){let y=e.uris&&e.uris[g];if(!y)return g;let M=ui.revive(y);return ui.parse(g).toString()===M.toString()?g:f?Y4.asBrowserUri(M).toString(!0):(M.query&&(M=M.with({query:s(M.query)})),M.toString())},c,u=new Promise(g=>c=g),d=new ED.Renderer;d.image=(g,f,y)=>{let M=[],k=[];if(g){({href:g,dimensions:M}=GG(g)),g=l(g,!0);try{let G=ui.parse(g);i.baseUrl&&G.scheme===po.file&&(g=X3(i.baseUrl,g).toString())}catch{}k.push(`src="${g}"`)}return y&&k.push(`alt="${y}"`),f&&k.push(`title="${f}"`),M.length&&(k=k.concat(M)),"<img "+k.join(" ")+">"},d.link=(g,f,y)=>(g===y&&(y=Hx(y)),g=l(g,!1),i.baseUrl&&(/^\w[\w\d+.-]*:/.test(g)||(g=X3(i.baseUrl,g).toString())),f=Hx(f),g=Hx(g),!g||g.match(/^data:|javascript:/i)||g.match(/^command:/i)&&!e.isTrusted||g.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?y:(g=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${g}" title="${f||g}">${y}</a>`)),d.paragraph=g=>(e.supportThemeIcons&&(g=x1(g).map(y=>typeof y=="string"?y:y.outerHTML).join("")),`<p>${g}</p>`),i.codeBlockRenderer&&(d.code=(g,f)=>{let y=i.codeBlockRenderer(f,g),M=E1.nextId(),k=Promise.all([y,u]).then(G=>{let J=r.querySelector(`div[data-code="${M}"]`);J&&Gp(J,G[0])}).catch(G=>{});return i.asyncRenderCallback&&k.then(i.asyncRenderCallback),`<div class="code" data-code="${M}">${l8(g)}</div>`}),i.actionHandler&&i.actionHandler.disposeables.add(So.any(Su(r,"click"),Su(r,"auxclick"))(g=>{let f=new q4(g);if(!f.leftButton&&!f.middleButton)return;let y=f.target;if(!(y.tagName!=="A"&&(y=y.parentElement,!y||y.tagName!=="A")))try{let M=y.dataset.href;M&&i.actionHandler.callback(M,f)}catch(M){qt(M)}finally{f.preventDefault()}})),n.sanitizer=g=>(e.isTrusted?g.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?g:"",n.sanitize=!0,n.silent=!0,n.renderer=d;let h=(o=e.value)!==null&&o!==void 0?o:"";h.length>1e5&&(h=`${h.substr(0,1e5)}\u2026`),e.supportThemeIcons&&(h=hB(h));let p=ED.parse(h,n);if(r.innerHTML=Gae(e,p),c(),i.asyncRenderCallback)for(let g of r.getElementsByTagName("img")){let f=go(g,"load",()=>{f.dispose(),i.asyncRenderCallback()})}return r}function Gae(e,i){var n;let o=Wae(e);return(n=HF?.createHTML(i,o))!==null&&n!==void 0?n:BF(i,o)}function Wae(e){let i=[po.http,po.https,po.mailto,po.data,po.file,po.vscodeRemote,po.vscodeRemoteResource];return e.isTrusted&&i.push(po.command),{allowedSchemes:i,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(n){return n.tag==="span"&&e.isTrusted?n.attrs.style&&Object.keys(n.attrs).length===1?!!n.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):n.attrs.class?!!n.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}xu();Rh();Mi();tn();bt();zi();var jae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},TW=function(e,i){return function(n,o){i(n,o,e)}},Uae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},zF,fl=class PW{constructor(i,n,o){this._options=i,this._modeService=n,this._openerService=o,this._onDidRenderAsync=new vt,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(i,n,o){let r=new Je,s;return i?s=FW(i,Object.assign(Object.assign({},this._getRenderOptions(i,r)),n),o):s=document.createElement("span"),{element:s,dispose:()=>r.dispose()}}_getRenderOptions(i,n){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(o,r)=>Uae(this,void 0,void 0,function*(){var s,l,c,u;let d;o?d=this._modeService.getModeIdForLanguageName(o):this._options.editor&&(d=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageIdentifier().language),d||(d="plaintext"),this._modeService.triggerMode(d);let h=(l=yield Mh.getPromise(d))!==null&&l!==void 0?l:void 0,p=document.createElement("span");p.innerHTML=(u=(c=PW._ttpTokenizer)===null||c===void 0?void 0:c.createHTML(r,h))!==null&&u!==void 0?u:DI(r,h);let g=this._options.codeBlockFontFamily;return this._options.editor&&(g=this._options.editor.getOption(40).fontFamily),g&&(p.style.fontFamily=g),p}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:o=>this._openerService.open(o,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:i.isTrusted}).catch(qt),disposeables:n}}}};fl._ttpTokenizer=(zF=window.trustedTypes)===null||zF===void 0?void 0:zF.createPolicy("tokenizeToString",{createHTML(e,i){return DI(e,i)}});fl=jae([TW(1,ar),TW(2,sr)],fl);kn();xu();Rh();zi();kn();Un();Mi();Kt();zi();function GF(e,i,n){let r=FS.ordered(e).map(s=>Promise.resolve(s.provideHover(e,i,n)).then(l=>l&&$ae(l)?l:void 0,l=>{gn(l)}));return Promise.all(r).then(Rs)}Wr("_executeHoverProvider",(e,i)=>GF(e,i,ti.None));function $ae(e){let i=typeof e.range<"u",n=typeof e.contents<"u"&&e.contents&&e.contents.length>0;return i&&n}Xn();var qae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},LW=function(e,i){return function(n,o){i(n,o,e)}},Kae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},OW=ht,Ng=class e{constructor(i,n){this.range=i,this.contents=n}equals(i){return i instanceof e?zG(this.contents,i.contents):!1}},ID=class{constructor(i,n,o,r){this._editor=i,this._hover=n,this._modeService=o,this._openerService=r}createLoadingMessage(i){return new Ng(i,[new Zo().appendText(_("modesContentHover.loading","Loading..."))])}computeSync(i,n){if(!this._editor.hasModel())return[];let o=this._editor.getModel(),r=i.startLineNumber,s=o.getLineMaxColumn(r),l=[];for(let c of n){let u=c.range.startLineNumber===r?c.range.startColumn:1,d=c.range.endLineNumber===r?c.range.endColumn:s,h=c.options.hoverMessage;if(!h||Fg(h))continue;let p=new Me(i.startLineNumber,u,i.startLineNumber,d);l.push(new Ng(p,BS(h)))}return l}computeAsync(i,n){return Kae(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!i)return Promise.resolve([]);let o=this._editor.getModel();if(!FS.has(o))return Promise.resolve([]);let r=yield GF(o,new It(i.startLineNumber,i.startColumn),n),s=[];for(let l of r){if(Fg(l.contents))continue;let c=l.range?Me.lift(l.range):i;s.push(new Ng(c,l.contents))}return s})}renderHoverParts(i,n){let o=new Je;for(let r of i)for(let s of r.contents){if(Fg(s))continue;let l=OW("div.hover-row.markdown-hover"),c=ut(l,OW("div.hover-contents")),u=o.add(new fl({editor:this._editor},this._modeService,this._openerService));o.add(u.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));let d=o.add(u.render(s));c.appendChild(d.element),n.appendChild(l)}return o}};ID=qae([LW(2,ar),LW(3,sr)],ID);var Yae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},v0=class{constructor(i,n,o){this.range=i,this.color=n,this.provider=o}equals(i){return!1}},lp=class{constructor(i,n){this.owner=i,this.data=n}},WF=class{constructor(i,n,o){this._markerHoverParticipant=n,this._markdownHoverParticipant=o,this._editor=i,this._result=[],this._range=null}setRange(i){this._range=i,this._result=[]}clearResult(){this._result=[]}computeAsync(i){return Yae(this,void 0,void 0,function*(){return!this._editor.hasModel()||!this._range?Promise.resolve([]):(yield this._markdownHoverParticipant.computeAsync(this._range,i)).map(o=>new lp(this._markdownHoverParticipant,o))})}computeSync(){if(!this._editor.hasModel()||!this._range)return[];let i=this._editor.getModel(),n=this._range,o=n.startLineNumber;if(o>this._editor.getModel().getLineCount())return[];let r=i.getLineMaxColumn(o),s=this._editor.getLineDecorations(o).filter(h=>{if(h.options.isWholeLine)return!0;let p=h.range.startLineNumber===o?h.range.startColumn:1,g=h.range.endLineNumber===o?h.range.endColumn:r;return!(p>n.startColumn||n.endColumn>g)}),l=[],c=sp.get(this._editor);for(let h of s){let p=c.getColorData(h.range.getStartPosition());if(p){let{color:g,range:f}=p.colorInfo;l.push(new lp(null,new v0(Me.lift(f),g,p.provider)));break}}let u=this._markdownHoverParticipant.computeSync(this._range,s);l=l.concat(u.map(h=>new lp(this._markdownHoverParticipant,h)));let d=this._markerHoverParticipant.computeSync(this._range,s);return l=l.concat(d.map(h=>new lp(this._markerHoverParticipant,h))),Rs(l)}onResult(i,n){n?this._result=i.concat(this._result):this._result=this._result.concat(i)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._range){let i=new lp(this._markdownHoverParticipant,this._markdownHoverParticipant.createLoadingMessage(this._range));return this._result.slice(0).concat([i])}return this._result.slice(0)}},_c=class e extends Do{constructor(i,n,o,r){super(),this._hoverVisibleKey=n,this._themeService=r,this.allowEditorOverflow=!0,this._markerHoverParticipant=o.createInstance(DD,i,this),this._markdownHoverParticipant=o.createInstance(ID,i,this),this._hover=this._register(new hD),this._id=e.ID,this._editor=i,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,s=>{s.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(40)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastRange=null,this._computer=new WF(this._editor,this._markerHoverParticipant,this._markdownHoverParticipant),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new p0(this._computer,s=>this._withResult(s,!0),null,s=>this._withResult(s,!1),this._editor.getOption(50).delay),this._register(cs(this.getDomNode(),us.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(cs(this.getDomNode(),us.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(i.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)})),this._register(Mh.onDidChange(()=>{this._isVisible&&this._lastRange&&this._messages.length>0&&(this._messages=this._messages.map(s=>{var l,c;if(s.data instanceof v0&&(!((l=this._lastRange)===null||l===void 0)&&l.intersectRanges(s.data.range))&&(!((c=this._colorPicker)===null||c===void 0)&&c.model.color)){let u=this._colorPicker.model.color,d={red:u.rgba.r/255,green:u.rgba.g/255,blue:u.rgba.b/255,alpha:u.rgba.a};return new lp(s.owner,new v0(s.data.range,d,s.data.provider))}else return s}),this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(i,n,o){this._showAtPosition=i,this._showAtRange=n,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=o,o&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_updateContents(i){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(i),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){let i=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:n,lineHeight:o}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${n}px`,this._hover.contentsDomNode.style.lineHeight=`${o}px`,this._hover.contentsDomNode.style.maxHeight=`${i}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(i,n,o){if(!(this._lastRange&&this._lastRange.equalsRange(i))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==i.startLineNumber)this.hide();else{let r=[];for(let s=0,l=this._messages.length;s<l;s++){let c=this._messages[s],u=c.data.range;u&&u.startColumn<=i.startColumn&&u.endColumn>=i.endColumn&&r.push(c)}if(r.length>0){if(Zae(r,this._messages))return;this._renderMessages(i,r)}else this.hide()}this._lastRange=i,this._computer.setRange(i),this._shouldFocus=o,this._hoverOperation.start(n)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}onContentsChanged(){this._hover.onContentsChanged()}_withResult(i,n){this._messages=i,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):n&&this.hide()}_renderMessages(i,n){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let o=1073741824,r=n[0].data.range?Me.lift(n[0].data.range):null,s=document.createDocumentFragment(),l=!1,c=new Je,u=[],d=[];n.forEach(h=>{let p=h.data;if(p.range)if(o=Math.min(o,p.range.startColumn),r=r?Me.plusRange(r,p.range):Me.lift(p.range),p instanceof v0){l=!0;let{red:g,green:f,blue:y,alpha:M}=p.color,k=new Mu(Math.round(g*255),Math.round(f*255),Math.round(y*255),M),G=new fi(k);if(!this._editor.hasModel())return;let J=this._editor.getModel(),$=new Me(p.range.startLineNumber,p.range.startColumn,p.range.endLineNumber,p.range.endColumn),_e={range:p.range,color:p.color},Fe=new lD(G,[],0),Pe=new uD(s,Fe,this._editor.getOption(125),this._themeService);pF(J,_e,p.provider,ti.None).then($e=>{if(Fe.colorPresentations=$e||[],!this._editor.hasModel())return;let nt=this._editor.getModel().getValueInRange(p.range);Fe.guessColorPresentation(G,nt);let lt=()=>{let Ei,hn;if(Fe.presentation.textEdit){Ei=[Fe.presentation.textEdit],hn=new Me(Fe.presentation.textEdit.range.startLineNumber,Fe.presentation.textEdit.range.startColumn,Fe.presentation.textEdit.range.endLineNumber,Fe.presentation.textEdit.range.endColumn);let bn=this._editor.getModel()._setTrackedRange(null,hn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Ei),hn=this._editor.getModel()._getTrackedRange(bn)||hn}else Ei=[{identifier:null,range:$,text:Fe.presentation.label,forceMoveMarkers:!1}],hn=$.setEndPosition($.endLineNumber,$.startColumn+Fe.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Ei);Fe.presentation.additionalTextEdits&&(Ei=[...Fe.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Ei),this.hide()),this._editor.pushUndoStop(),$=hn},Lt=Ei=>pF(J,{range:$,color:{red:Ei.rgba.r/255,green:Ei.rgba.g/255,blue:Ei.rgba.b/255,alpha:Ei.rgba.a}},p.provider,ti.None).then(hn=>{Fe.colorPresentations=hn||[]}),Jt=Fe.onColorFlushed(Ei=>{Lt(Ei).then(lt)}),xn=Fe.onDidChangeColor(Lt);this._colorPicker=Pe,this.showAt($.getStartPosition(),$,this._shouldFocus),this._updateContents(s),this._colorPicker.layout(),this._renderDisposable=Lv(Jt,xn,Pe,c)})}else p instanceof Dw?u.push(p):p instanceof Ng&&d.push(p)}),d.length>0&&c.add(this._markdownHoverParticipant.renderHoverParts(d,s)),u.length&&c.add(this._markerHoverParticipant.renderHoverParts(u,s)),this._renderDisposable=c,!l&&s.hasChildNodes()&&(this.showAt(new It(i.startLineNumber,o),r,this._shouldFocus),this._updateContents(s)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,r?[{range:r,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};_c.ID="editor.contrib.modesContentHoverWidget";_c._DECORATION_OPTIONS=ri.register({className:"hoverHighlight"});function Zae(e,i){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].data.equals(i[n].data))return!1;return!0}oi((e,i)=>{let n=e.getColor(Pl);n&&i.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});Yi();bt();Fu();var MD=class extends Do{constructor(i,n){super(),this._id=i,this._editor=n,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(40)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(i){this._isVisible=i,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(i){this._showAtLineNumber=i,this.isVisible||(this.isVisible=!0);let n=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(this._showAtLineNumber),r=this._editor.getScrollTop(),s=this._editor.getOption(55),l=this._domNode.clientHeight,c=o-r-(l-s)/2;this._domNode.style.left=`${n.glyphMarginLeft+n.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(c),0)}px`}hide(){this.isVisible&&(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){let i=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...i,...n].forEach(o=>this._editor.applyFontInfo(o))}updateContents(i){this._domNode.textContent="",this._domNode.appendChild(i),this.updateFont()}};xu();kn();var jF=class{constructor(i){this._editor=i,this._lineNumber=-1,this._result=[]}setLineNumber(i){this._lineNumber=i,this._result=[]}clearResult(){this._result=[]}computeSync(){let i=r=>({value:r}),n=this._editor.getLineDecorations(this._lineNumber),o=[];if(!n)return o;for(let r of n){if(!r.options.glyphMarginClassName)continue;let s=r.options.glyphMarginHoverMessage;!s||Fg(s)||o.push(...BS(s).map(i))}return o}onResult(i,n){this._result=this._result.concat(i)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}},Ew=(()=>{class e extends MD{constructor(n,o,r=x8){super(e.ID,n),this._renderDisposeables=this._register(new Je),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new fl({editor:this._editor},o,r)),this._computer=new jF(this._editor),this._hoverOperation=new p0(this._computer,s=>this._withResult(s),void 0,s=>this._withResult(s),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(n){this._lastLineNumber!==n&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=n,this._computer.setLineNumber(n),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(n){this._messages=n,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(n,o){this._renderDisposeables.clear();let r=document.createDocumentFragment();for(let s of o){let l=this._markdownRenderer.render(s.value);this._renderDisposeables.add(l),r.appendChild(ht("div.hover-row",void 0,l.element))}this.updateContents(r),this.showAt(n)}}return e.ID="editor.contrib.modesGlyphHoverWidget",e})();xu();Cn();Bi();Ot();ln();Mi();Rh();zt();zi();Kt();Un();Mi();Kt();zi();Ot();tn();Ms();bt();Bn();zt();Bv();Mi();var Qae=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Cs=class{constructor(i,n,o,r){this.isProviderFirst=i,this.parent=n,this.link=o,this._rangeCallback=r,this.id=E1.nextId()}get uri(){return this.link.uri}get range(){var i,n;return(n=(i=this._range)!==null&&i!==void 0?i:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(i){this._range=i,this._rangeCallback(this)}get ariaMessage(){var i;let n=(i=this.parent.getPreview(this))===null||i===void 0?void 0:i.preview(this.range);return n?_({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Br(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):_("aria.oneReference","symbol in {0} on line {1} at column {2}",Br(this.uri),this.range.startLineNumber,this.range.startColumn)}},UF=class{constructor(i){this._modelReference=i}dispose(){this._modelReference.dispose()}preview(i,n=8){let o=this._modelReference.object.textEditorModel;if(!o)return;let{startLineNumber:r,startColumn:s,endLineNumber:l,endColumn:c}=i,u=o.getWordUntilPosition({lineNumber:r,column:s-n}),d=new Me(r,u.startColumn,r,s),h=new Me(l,c,l,1073741824),p=o.getValueInRange(d).replace(/^\s+/,""),g=o.getValueInRange(i),f=o.getValueInRange(h).replace(/\s+$/,"");return{value:p+g+f,highlight:{start:p.length,end:p.length+g.length}}}},nh=class{constructor(i,n){this.parent=i,this.uri=n,this.children=[],this._previews=new v8}dispose(){jn(this._previews.values()),this._previews.clear()}getPreview(i){return this._previews.get(i.uri)}get ariaMessage(){let i=this.children.length;return i===1?_("aria.fileReferences.1","1 symbol in {0}, full path {1}",Br(this.uri),this.uri.fsPath):_("aria.fileReferences.N","{0} symbols in {1}, full path {2}",i,Br(this.uri),this.uri.fsPath)}resolve(i){return Qae(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{let o=yield i.createModelReference(n.uri);this._previews.set(n.uri,new UF(o))}catch(o){qt(o)}return this})}},gr=class e{constructor(i,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new vt,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=i,this._title=n;let[o]=i;i.sort(e._compareReferences);let r;for(let s of i)if((!r||!Q3.isEqual(r.uri,s.uri,!0))&&(r=new nh(this,s.uri),this.groups.push(r)),r.children.length===0||e._compareReferences(s,r.children[r.children.length-1])!==0){let l=new Cs(o===s,r,s,c=>this._onDidChangeReferenceRange.fire(c));this.references.push(l),r.children.push(l)}}dispose(){jn(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new e(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?_("aria.result.0","No results found"):this.references.length===1?_("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?_("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):_("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(i,n){let{parent:o}=i,r=o.children.indexOf(i),s=o.children.length,l=o.parent.groups.length;return l===1||n&&r+1<s||!n&&r>0?(n?r=(r+1)%s:r=(r+s-1)%s,o.children[r]):(r=o.parent.groups.indexOf(o),n?(r=(r+1)%l,o.parent.groups[r].children[0]):(r=(r+l-1)%l,o.parent.groups[r].children[o.parent.groups[r].children.length-1]))}nearestReference(i,n){let o=this.references.map((r,s)=>({idx:s,prefixLen:Hf(r.uri.toString(),i.toString()),offsetDist:Math.abs(r.range.startLineNumber-n.lineNumber)*100+Math.abs(r.range.startColumn-n.column)})).sort((r,s)=>r.prefixLen>s.prefixLen?-1:r.prefixLen<s.prefixLen?1:r.offsetDist<s.offsetDist?-1:r.offsetDist>s.offsetDist?1:0)[0];if(o)return this.references[o.idx]}referenceAt(i,n){for(let o of this.references)if(o.uri.toString()===i.toString()&&Me.containsPosition(o.range,n))return o}firstReference(){for(let i of this.references)if(i.isProviderFirst)return i;return this.references[0]}static _compareReferences(i,n){return Q3.compare(i.uri,n.uri)||Me.compareRangesUsingStarts(i.range,n.range)}};var NW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})};function Iw(e,i,n,o){let s=n.ordered(e).map(l=>Promise.resolve(o(l,e,i)).then(void 0,c=>{gn(c)}));return Promise.all(s).then(l=>{let c=[];for(let u of l)Array.isArray(u)?c.push(...u):u&&c.push(u);return c})}function Mw(e,i,n){return Iw(e,i,PS,(o,r,s)=>o.provideDefinition(r,s,n))}function $F(e,i,n){return Iw(e,i,P8,(o,r,s)=>o.provideDeclaration(r,s,n))}function qF(e,i,n){return Iw(e,i,L8,(o,r,s)=>o.provideImplementation(r,s,n))}function KF(e,i,n){return Iw(e,i,O8,(o,r,s)=>o.provideTypeDefinition(r,s,n))}function Rw(e,i,n,o){return Iw(e,i,F8,(r,s,l)=>NW(this,void 0,void 0,function*(){let c=yield r.provideReferences(s,l,{includeDeclaration:!0},o);if(!n||!c||c.length!==2)return c;let u=yield r.provideReferences(s,l,{includeDeclaration:!1},o);return u&&u.length===1?u:c}))}function kw(e){return NW(this,void 0,void 0,function*(){let i=yield e(),n=new gr(i,""),o=n.references.map(r=>r.link);return n.dispose(),o})}Wr("_executeDefinitionProvider",(e,i)=>kw(()=>Mw(e,i,ti.None)));Wr("_executeDeclarationProvider",(e,i)=>kw(()=>$F(e,i,ti.None)));Wr("_executeImplementationProvider",(e,i)=>kw(()=>qF(e,i,ti.None)));Wr("_executeTypeDefinitionProvider",(e,i)=>kw(()=>KF(e,i,ti.None)));Wr("_executeReferenceProvider",(e,i)=>kw(()=>Rw(e,i,!1,ti.None)));bt();Up();Bi();Cn();Kp();tl();ln();Rl();ba();dI();Kt();zo();Xn();zt();Zi();zi();Ot();Mi();bt();zo();yn();Pi();Zf();Yi();Tl();tn();bt();Ov();Ms();zt();Lo();Up();Up();Bi();Yi();Ot();Ms();bt();yn();hs();var PD=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Aw=function(e,i){return function(n,o){i(n,o,e)}},RD=class{constructor(i){this._resolverService=i}hasChildren(i){return i instanceof gr||i instanceof nh}getChildren(i){if(i instanceof gr)return i.groups;if(i instanceof nh)return i.resolve(this._resolverService).then(n=>n.children);throw new Error("bad tree")}};RD=PD([Aw(0,Gr)],RD);var kD=class{getHeight(){return 23}getTemplateId(i){return i instanceof nh?C0.id:QF.id}},AD=class{constructor(i){this._keybindingService=i}getKeyboardNavigationLabel(i){var n;if(i instanceof Cs){let o=(n=i.parent.getPreview(i))===null||n===void 0?void 0:n.preview(i.range);if(o)return o.value}return Br(i.uri)}};AD=PD([Aw(0,In)],AD);var FD=class{getId(i){return i instanceof Cs?i.id:i.uri}},YF=class extends yt{constructor(i,n,o){super(),this._uriLabel=n;let r=document.createElement("div");r.classList.add("reference-file"),this.file=this._register(new D1(r,{supportHighlights:!0})),this.badge=new DB(ut(r,ht(".count"))),this._register(gB(this.badge,o)),i.appendChild(r)}set(i,n){let o=zf(i.uri);this.file.setLabel(pD(i.uri),this._uriLabel.getUriLabel(o,{relative:!0}),{title:this._uriLabel.getUriLabel(i.uri),matches:n});let r=i.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(_("referencesCount","{0} references",r)):this.badge.setTitleFormat(_("referenceCount","{0} reference",r))}};YF=PD([Aw(1,Vh),Aw(2,Jn)],YF);var C0=class BW{constructor(i){this._instantiationService=i,this.templateId=BW.id}renderTemplate(i){return this._instantiationService.createInstance(YF,i)}renderElement(i,n,o){o.set(i.element,Qp(i.filterData))}disposeTemplate(i){i.dispose()}};C0.id="FileReferencesRenderer";C0=PD([Aw(0,hi)],C0);var ZF=class{constructor(i){this.label=new bB(i,!1)}set(i,n){var o;let r=(o=i.parent.getPreview(i))===null||o===void 0?void 0:o.preview(i.range);if(!r||!r.value)this.label.set(`${Br(i.uri)}:${i.range.startLineNumber+1}:${i.range.startColumn+1}`);else{let{value:s,highlight:l}=r;n&&!Xp.isDefault(n)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(s,Qp(n))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(s,[l]))}}},QF=(()=>{class e{constructor(){this.templateId=e.id}renderTemplate(n){return new ZF(n)}renderElement(n,o,r){r.set(n.element,n.filterData)}disposeTemplate(){}}return e.id="OneReferenceRenderer",e})(),TD=class{getWidgetAriaLabel(){return _("treeAriaLabel","References")}getAriaLabel(i){return i.ariaMessage}};Ot();yn();Cn();Bi();$Z();hs();var Xae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Bg=function(e,i){return function(n,o){i(n,o,e)}},VW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},LD=class e{constructor(i,n){this._editor=i,this._model=n,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Je,this._callOnModelChange=new Je,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();let i=this._editor.getModel();if(i){for(let n of this._model.references)if(n.uri.toString()===i.uri.toString()){this._addDecorations(n.parent);return}}}_addDecorations(i){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));let n=[],o=[];for(let s=0,l=i.children.length;s<l;s++){let c=i.children[s];this._decorationIgnoreSet.has(c.id)||c.uri.toString()===this._editor.getModel().uri.toString()&&(n.push({range:c.range,options:e.DecorationOptions}),o.push(s))}let r=this._editor.deltaDecorations([],n);for(let s=0;s<r.length;s++)this._decorations.set(r[s],i.children[o[s]])}_onDecorationChanged(){let i=[],n=this._editor.getModel();if(n){for(let[o,r]of this._decorations){let s=n.getDecorationRange(o);if(!s)continue;let l=!1;if(!Me.equalsRange(s,r.range)){if(Me.spansMultipleLines(s))l=!0;else{let c=r.range.endColumn-r.range.startColumn,u=s.endColumn-s.startColumn;c!==u&&(l=!0)}l?(this._decorationIgnoreSet.add(r.id),i.push(o)):r.range=s}}for(let o=0,r=i.length;o<r;o++)this._decorations.delete(i[o]);this._editor.deltaDecorations(i,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}};LD.DecorationOptions=ri.register({stickiness:1,className:"reference-decoration"});var OD=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(i){let n,o;try{let r=JSON.parse(i);n=r.ratio,o=r.heightInLines}catch{}return{ratio:n||.7,heightInLines:o||18}}},XF=class extends wB{},ND=class extends g0{constructor(i,n,o,r,s,l,c,u,d,h){super(i,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},l),this._defaultTreeKeyboardSupport=n,this.layoutData=o,this._textModelResolverService=s,this._instantiationService=l,this._peekViewService=c,this._uriLabel=u,this._undoRedoService=d,this._keybindingService=h,this._disposeOnNewModel=new Je,this._callOnDispose=new Je,this._onDidSelectReference=new vt,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new En(0,0),this._applyTheme(r.getColorTheme()),this._callOnDispose.add(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(i,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),jn(this._preview),jn(this._previewNotAvailableMessage),jn(this._tree),jn(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(i){let n=i.getColor(gW)||fi.transparent;this.style({arrowColor:n,frameColor:n,headerBackgroundColor:i.getColor(pW)||fi.transparent,primaryHeadingColor:i.getColor(wD),secondaryHeadingColor:i.getColor(bD)})}show(i){this.editor.revealRangeInCenterIfOutsideViewport(i,0),super.show(i,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(i){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:i.ctrlKey||i.metaKey||i.altKey?"side":"open",source:"title"})}_fillBody(i){this.setCssClass("reference-zone-widget"),this._messageContainer=ut(i,ht("div.messages")),_o(this._messageContainer),this._splitView=new CB(i,{orientation:1}),this._previewContainer=ut(i,ht("div.preview.inline"));let n={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(gl,this._previewContainer,n,this.editor),_o(this._previewContainer),this._previewNotAvailableMessage=new nl(_("missingPreviewMessage","no preview available"),nl.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=ut(i,ht("div.ref-tree.inline"));let o={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new TD,keyboardNavigationLabelProvider:this._instantiationService.createInstance(AD),identityProvider:new FD,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:DF}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(cs(this._treeContainer,"keydown",s=>{s.equals(9)&&(this._keybindingService.dispatchEvent(s,s.target),s.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(XF,"ReferencesWidget",this._treeContainer,new kD,[this._instantiationService.createInstance(C0),this._instantiationService.createInstance(QF)],this._instantiationService.createInstance(RD),o),this._splitView.addView({onDidChange:So.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:s=>{this._preview.layout({height:this._dim.height,width:s})}},II.Distribute),this._splitView.addView({onDidChange:So.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:s=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${s}px`,this._tree.layout(this._dim.height,s)}},II.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let r=(s,l)=>{s instanceof Cs&&(l==="show"&&this._revealReference(s,!1),this._onDidSelectReference.fire({element:s,kind:l,source:"tree"}))};this._tree.onDidOpen(s=>{s.sideBySide?r(s.element,"side"):s.editorOptions.pinned?r(s.element,"goto"):r(s.element,"show")}),_o(this._treeContainer)}_onWidth(i){this._dim&&this._doLayoutBody(this._dim.height,i)}_doLayoutBody(i,n){super._doLayoutBody(i,n),this._dim=new En(n,i),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)}setSelection(i){return this._revealReference(i,!0).then(()=>{this._model&&(this._tree.setSelection([i]),this._tree.setFocus([i]))})}setModel(i){return this._disposeOnNewModel.clear(),this._model=i,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=_("noResults","No results"),Wo(this._messageContainer),Promise.resolve(void 0)):(_o(this._messageContainer),this._decorationsManager=new LD(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(i=>this._tree.rerender(i))),this._disposeOnNewModel.add(this._preview.onMouseDown(i=>{let{event:n,target:o}=i;if(n.detail!==2)return;let r=this._getFocusedReference();r&&this._onDidSelectReference.fire({element:{uri:r.uri,range:o.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Wo(this._treeContainer),Wo(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){let[i]=this._tree.getFocus();if(i instanceof Cs)return i;if(i instanceof nh&&i.children.length>0)return i.children[0]}revealReference(i){return VW(this,void 0,void 0,function*(){yield this._revealReference(i,!1),this._onDidSelectReference.fire({element:i,kind:"goto",source:"tree"})})}_revealReference(i,n){return VW(this,void 0,void 0,function*(){if(this._revealedReference===i)return;this._revealedReference=i,i.uri.scheme!==po.inMemory?this.setTitle(ES(i.uri),this._uriLabel.getUriLabel(zf(i.uri))):this.setTitle(_("peekView.alternateTitle","References"));let o=this._textModelResolverService.createModelReference(i.uri);this._tree.getInput()===i.parent?this._tree.reveal(i):(n&&this._tree.reveal(i.parent),yield this._tree.expand(i.parent),this._tree.reveal(i));let r=yield o;if(!this._model){r.dispose();return}jn(this._previewModelReference);let s=r.object;if(s){let l=this._preview.getModel()===s.textEditorModel?0:1,c=Me.lift(i.range).collapseToStart();this._previewModelReference=r,this._preview.setModel(s.textEditorModel),this._preview.setSelection(c),this._preview.revealRangeInCenter(c,l)}else this._preview.setModel(this._previewNotAvailableMessage),r.dispose()})}};ND=Xae([Bg(3,Jn),Bg(4,Gr),Bg(5,hi),Bg(6,xF),Bg(7,Vh),Bg(8,eB),Bg(9,In)],ND);oi((e,i)=>{let n=e.getColor(bW);n&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${n}; }`);let o=e.getColor(yW);o&&i.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${o}; }`);let r=e.getColor(SW);r&&i.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${r}; box-sizing: border-box; }`);let s=e.getColor(Ru);s&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${s}; box-sizing: border-box; }`);let l=e.getColor(DF);l&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${l}; }`);let c=e.getColor(fW);c&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${c}; }`);let u=e.getColor(mW);u&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${u}; }`);let d=e.getColor(vW);d&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${d}; }`);let h=e.getColor(CW);h&&i.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${h} !important; }`);let p=e.getColor(Sw);p&&i.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${p};}`);let g=e.getColor(wW);g&&i.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${g};}`)});zt();Xn();ln();WS();Rl();xo();var Jae=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},w0=function(e,i){return function(n,o){i(n,o,e)}},HW=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Vg=new ii("referenceSearchVisible",!1,_("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'")),tu=class JF{constructor(i,n,o,r,s,l,c,u){this._defaultTreeKeyboardSupport=i,this._editor=n,this._editorService=r,this._notificationService=s,this._instantiationService=l,this._storageService=c,this._configurationService=u,this._disposables=new Je,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Vg.bindTo(o)}static get(i){return i.getContribution(JF.ID)}dispose(){var i,n;this._referenceSearchVisible.reset(),this._disposables.dispose(),(i=this._widget)===null||i===void 0||i.dispose(),(n=this._model)===null||n===void 0||n.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(i,n,o){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&i.containsPosition(r))return;this._peekMode=o,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));let s="peekViewLayout",l=OD.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(ND,this._editor,this._defaultTreeKeyboardSupport,l),this._widget.setTitle(_("labelLoading","Loading...")),this._widget.show(i),this._disposables.add(this._widget.onDidClose(()=>{n.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(u=>{let{element:d,kind:h}=u;if(d)switch(h){case"open":(u.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(d,!1,!1);break;case"side":this.openReference(d,!0,!1);break;case"goto":o?this._gotoReference(d):this.openReference(d,!1,!0);break}}));let c=++this._requestIdPool;n.then(u=>{var d;if(c!==this._requestIdPool||!this._widget){u.dispose();return}return(d=this._model)===null||d===void 0||d.dispose(),this._model=u,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let h=this._editor.getModel().uri,p=new It(i.startLineNumber,i.startColumn),g=this._model.nearestReference(h,p);if(g)return this._widget.setSelection(g).then(()=>{this._widget&&this._editor.getOption(73)==="editor"&&this._widget.focusOnPreviewEditor()})}})},u=>{this._notificationService.error(u)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(i){return HW(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;let n=this._widget.position;if(!n)return;let o=this._model.nearestReference(this._editor.getModel().uri,n);if(!o)return;let r=this._model.nextOrPreviousReference(o,i),s=this._editor.hasTextFocus(),l=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(r),yield this._gotoReference(r),s?this._editor.focus():this._widget&&l&&this._widget.focusOnPreviewEditor()})}revealReference(i){return HW(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(i))})}closeWidget(i=!0){var n,o;(n=this._widget)===null||n===void 0||n.dispose(),(o=this._model)===null||o===void 0||o.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,i&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(i){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;let n=Me.lift(i.range).collapseToStart();return this._editorService.openCodeEditor({resource:i.uri,options:{selection:n}},this._editor).then(o=>{var r;if(this._ignoreModelChangeEvent=!1,!o||!this._widget){this.closeWidget();return}if(this._editor===o)this._widget.show(n),this._widget.focusOnReferenceTree();else{let s=JF.get(o),l=this._model.clone();this.closeWidget(),o.focus(),s.toggleWidget(n,Ui(c=>Promise.resolve(l)),(r=this._peekMode)!==null&&r!==void 0?r:!1)}},o=>{this._ignoreModelChangeEvent=!1,qt(o)})}openReference(i,n,o){n||this.closeWidget();let{uri:r,range:s}=i;this._editorService.openCodeEditor({resource:r,options:{selection:s,pinned:o}},this._editor,n)}};tu.ID="editor.contrib.referencesController";tu=Jae([w0(2,$t),w0(3,Ri),w0(4,Sn),w0(5,hi),w0(6,wr),w0(7,As)],tu);function Hg(e,i){let n=hW(e);if(!n)return;let o=tu.get(n);o&&i(o)}lr.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:an(2089,60),when:st.or(Vg,Vo.inPeekEditor),handler(e){Hg(e,i=>{i.changeFocusBetweenPreviewAndReferences()})}});lr.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:st.or(Vg,Vo.inPeekEditor),handler(e){Hg(e,i=>{i.goToNextOrPreviousReference(!0)})}});lr.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:st.or(Vg,Vo.inPeekEditor),handler(e){Hg(e,i=>{i.goToNextOrPreviousReference(!1)})}});_i.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");_i.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");_i.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");_i.registerCommand("closeReferenceSearch",e=>Hg(e,i=>i.closeWidget()));lr.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:st.and(Vo.inPeekEditor,st.not("config.editor.stablePeek"))});lr.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:st.and(Vg,st.not("config.editor.stablePeek"))});lr.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:st.and(Vg,MI),handler(e){var i;let o=(i=e.get(S1).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(o)&&o[0]instanceof Cs&&Hg(e,r=>r.revealReference(o[0]))}});lr.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:st.and(Vg,MI),handler(e){var i;let o=(i=e.get(S1).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(o)&&o[0]instanceof Cs&&Hg(e,r=>r.openReference(o[0],!0,!0))}});_i.registerCommand("openReference",e=>{var i;let o=(i=e.get(S1).lastFocusedList)===null||i===void 0?void 0:i.getFocus();Array.isArray(o)&&o[0]instanceof Cs&&Hg(e,r=>r.openReference(o[0],!1,!0))});Ot();Cr();Pi();Zp();xo();Kp();Pi();yn();nC();WS();Kt();zo();zt();bt();tn();Ot();hs();Ms();var zW=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Fw=function(e,i){return function(n,o){i(n,o,e)}},iT=new ii("hasSymbols",!1,_("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Tw=kl("ISymbolNavigationService"),eT=class{constructor(i,n,o,r){this._editorService=n,this._notificationService=o,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=iT.bindTo(i)}reset(){var i,n;this._ctxHasSymbols.reset(),(i=this._currentState)===null||i===void 0||i.dispose(),(n=this._currentMessage)===null||n===void 0||n.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(i){let n=i.parent.parent;if(n.references.length<=1){this.reset();return}this._currentModel=n,this._currentIdx=n.references.indexOf(i),this._ctxHasSymbols.set(!0),this._showMessage();let o=new tT(this._editorService),r=o.onDidChange(s=>{if(this._ignoreEditorChange)return;let l=this._editorService.getActiveCodeEditor();if(!l)return;let c=l.getModel(),u=l.getPosition();if(!c||!u)return;let d=!1,h=!1;for(let p of n.references)if(DS(p.uri,c.uri))d=!0,h=h||Me.containsPosition(p.range,u);else if(d)break;(!d||!h)&&this.reset()});this._currentState=Lv(o,r)}revealNext(i){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;let n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:Me.collapseToStart(n.range),selectionRevealType:3}},i).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var i;(i=this._currentMessage)===null||i===void 0||i.dispose();let n=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=n?_("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,n.getLabel()):_("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};eT=zW([Fw(0,$t),Fw(1,Ri),Fw(2,Sn),Fw(3,In)],eT);Ll(Tw,eT,!0);gt(new class extends Fn{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:iT,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,i){return e.get(Tw).revealNext(i)}});lr.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:iT,primary:9,handler(e){e.get(Tw).reset()}});var tT=class{constructor(i){this._listener=new Map,this._disposables=new Je,this._onDidChange=new vt,this.onDidChange=this._onDidChange.event,this._disposables.add(i.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(i.onCodeEditorAdd(this._onDidAddEditor,this)),i.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),jn(this._listener.values())}_onDidAddEditor(i){this._listener.set(i,Lv(i.onDidChangeCursorPosition(n=>this._onDidChange.fire({editor:i})),i.onDidChangeModelContent(n=>this._onDidChange.fire({editor:i}))))}_onDidRemoveEditor(i){var n;(n=this._listener.get(i))===null||n===void 0||n.dispose(),this._listener.delete(i)}};tT=zW([Fw(0,Ri)],tT);bS();Fo();yn();To();var Us=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},nT,oT,rT,sT,aT,lT,cT,uT;il.appendMenuItem(jt.EditorContext,{submenu:jt.EditorContextPeek,title:_("peek.submenu","Peek"),group:"navigation",order:100});var GW=new Set;function ml(e){let i=new e;return ZS(i),GW.add(i.id),i}var cp=class extends it{constructor(i,n){super(n),this._configuration=i}run(i,n){if(!n.hasModel())return Promise.resolve(void 0);let o=i.get(Sn),r=i.get(Ri),s=i.get(Pu),l=i.get(Tw),c=n.getModel(),u=n.getPosition(),d=new oC(n,5),h=yS(this._getLocationModel(c,u,d.token),d.token).then(p=>Us(this,void 0,void 0,function*(){if(!p||d.token.isCancellationRequested)return;Kn(p.ariaMessage);let g;if(p.referenceAt(c.uri,u)){let y=this._getAlternativeCommand(n);y!==this.id&&GW.has(y)&&(g=n.getAction(y))}let f=p.references.length;if(f===0){if(!this._configuration.muteMessage){let y=c.getWordAtPosition(u);Bo.get(n).showMessage(this._getNoResultFoundMessage(y),u)}}else if(f===1&&g)g.run();else return this._onResult(r,l,n,p)}),p=>{o.error(p)}).finally(()=>{d.dispose()});return s.showWhile(h,250),h}_onResult(i,n,o,r){return Us(this,void 0,void 0,function*(){let s=this._getGoToPreference(o);if(!(o instanceof gl)&&(this._configuration.openInPeek||s==="peek"&&r.references.length>1))this._openInPeek(o,r);else{let l=r.firstReference(),c=r.references.length>1&&s==="gotoAndPeek",u=yield this._openReference(o,i,l,this._configuration.openToSide,!c);c&&u?this._openInPeek(u,r):r.dispose(),s==="goto"&&n.put(l)}})}_openReference(i,n,o,r,s){return Us(this,void 0,void 0,function*(){let l;if(k8(o)&&(l=o.targetSelectionRange),l||(l=o.range),!l)return;let c=yield n.openCodeEditor({resource:o.uri,options:{selection:Me.collapseToStart(l),selectionRevealType:3}},i,r);if(c){if(s){let u=c.getModel(),d=c.deltaDecorations([],[{range:l,options:{className:"symbolHighlight"}}]);setTimeout(()=>{c.getModel()===u&&c.deltaDecorations(d,[])},350)}return c}})}_openInPeek(i,n){let o=tu.get(i);o&&i.hasModel()?o.toggleWidget(i.getSelection(),Ui(r=>Promise.resolve(n)),this._configuration.openInPeek):n.dispose()}},zg=class extends cp{_getLocationModel(i,n,o){return Us(this,void 0,void 0,function*(){return new gr(yield Mw(i,n,o),_("def.title","Definitions"))})}_getNoResultFoundMessage(i){return i&&i.word?_("noResultWord","No definition found for '{0}'",i.word):_("generic.noResults","No definition found")}_getAlternativeCommand(i){return i.getOption(47).alternativeDefinitionCommand}_getGoToPreference(i){return i.getOption(47).multipleDefinitions}},WW=fS&&!U4?2118:70;ml((nT=class dT extends zg{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:dT.id,label:_("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:st.and(Ie.hasDefinitionProvider,Ie.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ie.editorTextFocus,primary:WW,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:jt.MenubarGoMenu,group:"4_symbol_nav",order:2,title:_({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}}),_i.registerCommandAlias("editor.action.goToDeclaration",dT.id)}},nT.id="editor.action.revealDefinition",nT));ml((oT=class hT extends zg{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:hT.id,label:_("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:st.and(Ie.hasDefinitionProvider,Ie.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,WW),weight:100}}),_i.registerCommandAlias("editor.action.openDeclarationToTheSide",hT.id)}},oT.id="editor.action.revealDefinitionAside",oT));ml((rT=class pT extends zg{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:pT.id,label:_("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:st.and(Ie.hasDefinitionProvider,Vo.notInPeekEditor,Ie.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ie.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:jt.EditorContextPeek,group:"peek",order:2}}),_i.registerCommandAlias("editor.action.previewDeclaration",pT.id)}},rT.id="editor.action.peekDefinition",rT));var BD=class extends cp{_getLocationModel(i,n,o){return Us(this,void 0,void 0,function*(){return new gr(yield $F(i,n,o),_("decl.title","Declarations"))})}_getNoResultFoundMessage(i){return i&&i.word?_("decl.noResultWord","No declaration found for '{0}'",i.word):_("decl.generic.noResults","No declaration found")}_getAlternativeCommand(i){return i.getOption(47).alternativeDeclarationCommand}_getGoToPreference(i){return i.getOption(47).multipleDeclarations}};ml((sT=class jW extends BD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:jW.id,label:_("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:st.and(Ie.hasDeclarationProvider,Ie.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:jt.MenubarGoMenu,group:"4_symbol_nav",order:3,title:_({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}_getNoResultFoundMessage(i){return i&&i.word?_("decl.noResultWord","No declaration found for '{0}'",i.word):_("decl.generic.noResults","No declaration found")}},sT.id="editor.action.revealDeclaration",sT));ml(class extends BD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:st.and(Ie.hasDeclarationProvider,Vo.notInPeekEditor,Ie.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:jt.EditorContextPeek,group:"peek",order:3}})}});var VD=class extends cp{_getLocationModel(i,n,o){return Us(this,void 0,void 0,function*(){return new gr(yield KF(i,n,o),_("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(i){return i&&i.word?_("goToTypeDefinition.noResultWord","No type definition found for '{0}'",i.word):_("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(i){return i.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(i){return i.getOption(47).multipleTypeDefinitions}};ml((aT=class UW extends VD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:UW.ID,label:_("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:st.and(Ie.hasTypeDefinitionProvider,Ie.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ie.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:jt.MenubarGoMenu,group:"4_symbol_nav",order:3,title:_({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}},aT.ID="editor.action.goToTypeDefinition",aT));ml((lT=class $W extends VD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:$W.ID,label:_("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:st.and(Ie.hasTypeDefinitionProvider,Vo.notInPeekEditor,Ie.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:jt.EditorContextPeek,group:"peek",order:4}})}},lT.ID="editor.action.peekTypeDefinition",lT));var HD=class extends cp{_getLocationModel(i,n,o){return Us(this,void 0,void 0,function*(){return new gr(yield qF(i,n,o),_("impl.title","Implementations"))})}_getNoResultFoundMessage(i){return i&&i.word?_("goToImplementation.noResultWord","No implementation found for '{0}'",i.word):_("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(i){return i.getOption(47).alternativeImplementationCommand}_getGoToPreference(i){return i.getOption(47).multipleImplementations}};ml((cT=class qW extends HD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:qW.ID,label:_("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:st.and(Ie.hasImplementationProvider,Ie.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ie.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:jt.MenubarGoMenu,group:"4_symbol_nav",order:4,title:_({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}},cT.ID="editor.action.goToImplementation",cT));ml((uT=class KW extends HD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:KW.ID,label:_("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:st.and(Ie.hasImplementationProvider,Vo.notInPeekEditor,Ie.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ie.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:jt.EditorContextPeek,group:"peek",order:5}})}},uT.ID="editor.action.peekImplementation",uT));var zD=class extends cp{_getNoResultFoundMessage(i){return i?_("references.no","No references found for '{0}'",i.word):_("references.noGeneric","No references found")}_getAlternativeCommand(i){return i.getOption(47).alternativeReferenceCommand}_getGoToPreference(i){return i.getOption(47).multipleReferences}};ml(class extends zD{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_("goToReferences.label","Go to References"),alias:"Go to References",precondition:st.and(Ie.hasReferenceProvider,Vo.notInPeekEditor,Ie.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:Ie.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:jt.MenubarGoMenu,group:"4_symbol_nav",order:5,title:_({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}_getLocationModel(i,n,o){return Us(this,void 0,void 0,function*(){return new gr(yield Rw(i,n,!0,o),_("ref.title","References"))})}});ml(class extends zD{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_("references.action.label","Peek References"),alias:"Peek References",precondition:st.and(Ie.hasReferenceProvider,Vo.notInPeekEditor,Ie.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:jt.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(i,n,o){return Us(this,void 0,void 0,function*(){return new gr(yield Rw(i,n,!1,o),_("ref.title","References"))})}});var gT=class extends cp{constructor(i,n,o){super(i,{id:"editor.action.goToLocation",label:_("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:st.and(Vo.notInPeekEditor,Ie.isInWalkThroughSnippet.toNegated())}),this._references=n,this._gotoMultipleBehaviour=o}_getLocationModel(i,n,o){return Us(this,void 0,void 0,function*(){return new gr(this._references,_("generic.title","Locations"))})}_getNoResultFoundMessage(i){return i&&_("generic.noResult","No results for '{0}'",i.word)||""}_getGoToPreference(i){var n;return(n=this._gotoMultipleBehaviour)!==null&&n!==void 0?n:i.getOption(47).multipleReferences}_getAlternativeCommand(){return""}};_i.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ui},{name:"position",description:"The position at which to start",constraint:It.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,i,n,o,r,s,l)=>Us(void 0,void 0,void 0,function*(){nn(ui.isUri(i)),nn(It.isIPosition(n)),nn(Array.isArray(o)),nn(typeof r>"u"||typeof r=="string"),nn(typeof l>"u"||typeof l=="boolean");let c=e.get(Ri),u=yield c.openCodeEditor({resource:i},c.getFocusedCodeEditor());if(uI(u))return u.setPosition(n),u.revealPositionInCenterIfOutsideViewport(n,0),u.invokeWithinContext(d=>{let h=new class extends gT{_getNoResultFoundMessage(p){return s||super._getNoResultFoundMessage(p)}}({muteMessage:!s,openInPeek:!!l,openToSide:!1},o,r);d.get(hi).invokeFunction(h.run.bind(h),u)})})});_i.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ui},{name:"position",description:"The position at which to start",constraint:It.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,i,n,o,r)=>Us(void 0,void 0,void 0,function*(){e.get(jo).executeCommand("editor.action.goToLocations",i,n,o,r,void 0,!0)})});_i.registerCommand({id:"editor.action.findReferences",handler:(e,i,n)=>{nn(ui.isUri(i)),nn(It.isIPosition(n));let o=e.get(Ri);return o.openCodeEditor({resource:i},o.getFocusedCodeEditor()).then(r=>{if(!uI(r)||!r.hasModel())return;let s=tu.get(r);if(!s)return;let l=Ui(u=>Rw(r.getModel(),It.lift(n),!1,u).then(d=>new gr(d,_("ref.title","References")))),c=new Me(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(s.toggleWidget(c,l,!1))})}});_i.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");bt();tn();ba();function fT(e,i){return!!e[i]}var Pw=class{constructor(i,n){this.target=i.target,this.hasTriggerModifier=fT(i.event,n.triggerModifier),this.hasSideBySideModifier=fT(i.event,n.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i.event.detail<=1}},GD=class{constructor(i,n){this.keyCodeIsTriggerKey=i.keyCode===n.triggerKey,this.keyCodeIsSideBySideKey=i.keyCode===n.triggerSideBySideKey,this.hasTriggerModifier=fT(i,n.triggerModifier)}},b0=class{constructor(i,n,o,r){this.triggerKey=i,this.triggerModifier=n,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=r}equals(i){return this.triggerKey===i.triggerKey&&this.triggerModifier===i.triggerModifier&&this.triggerSideBySideKey===i.triggerSideBySideKey&&this.triggerSideBySideModifier===i.triggerSideBySideModifier}};function YW(e){return e==="altKey"?rr?new b0(57,"metaKey",6,"altKey"):new b0(5,"ctrlKey",6,"altKey"):rr?new b0(6,"altKey",57,"metaKey"):new b0(6,"altKey",5,"ctrlKey")}var y0=class extends yt{constructor(i){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new vt),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new vt),this.onExecute=this._onExecute.event,this._onCancel=this._register(new vt),this.onCancel=this._onCancel.event,this._editor=i,this._opts=YW(this._editor.getOption(66)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(66)){let o=YW(this._editor.getOption(66));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new Pw(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new Pw(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new Pw(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new GD(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new GD(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(i){i.selection&&i.selection.startColumn!==i.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(i){this._lastMouseMoveEvent=i,this._onMouseMoveOrRelevantKeyDown.fire([i,null])}_onEditorMouseDown(i){this._hasTriggerKeyOnMouseDown=i.hasTriggerModifier,this._lineNumberOnMouseDown=i.target.position?i.target.position.lineNumber:0}_onEditorMouseUp(i){let n=i.target.position?i.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===n&&this._onExecute.fire(i)}_onEditorKeyDown(i){this._lastMouseMoveEvent&&(i.keyCodeIsTriggerKey||i.keyCodeIsSideBySideKey&&i.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,i]):i.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(i){i.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}};Xn();To();Pi();var ele=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},ZW=function(e,i){return function(n,o){i(n,o,e)}},up=class Lw{constructor(i,n,o){this.textModelResolverService=n,this.modeService=o,this.toUnhook=new Je,this.toUnhookForKeyboard=new Je,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=i;let r=new y0(i);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown(([s,l])=>{this.startFindDefinitionFromMouse(s,Vr(l))})),this.toUnhook.add(r.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},l=>{this.removeLinkDecorations(),qt(l)})})),this.toUnhook.add(r.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(i){return i.getContribution(Lw.ID)}startFindDefinitionFromCursor(i){return this.startFindDefinition(i).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(n=>{n&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(i,n){if(i.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(i,n)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}let o=i.target.position;this.startFindDefinition(o)}startFindDefinition(i){var n;this.toUnhookForKeyboard.clear();let o=i?(n=this.editor.getModel())===null||n===void 0?void 0:n.getWordAtPosition(i):null;if(!o)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===o.startColumn&&this.currentWordAtPosition.endColumn===o.endColumn&&this.currentWordAtPosition.word===o.word)return Promise.resolve(0);this.currentWordAtPosition=o;let r=new C1(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Ui(s=>this.findDefinition(i,s)),this.previousPromise.then(s=>{if(!s||!s.length||!r.validate(this.editor)){this.removeLinkDecorations();return}if(s.length>1)this.addDecoration(new Me(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn),new Zo().appendText(_("multipleResults","Click to show {0} definitions.",s.length)));else{let l=s[0];if(!l.uri)return;this.textModelResolverService.createModelReference(l.uri).then(c=>{if(!c.object||!c.object.textEditorModel){c.dispose();return}let{object:{textEditorModel:u}}=c,{startLineNumber:d}=l.range;if(d<1||d>u.getLineCount()){c.dispose();return}let h=this.getPreviewValue(u,d,l),p;l.originSelectionRange?p=Me.lift(l.originSelectionRange):p=new Me(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn);let g=this.modeService.getModeIdByFilepathOrFirstLine(u.uri);this.addDecoration(p,new Zo().appendCodeblock(g||"",h)),c.dispose()})}}).then(void 0,qt)}getPreviewValue(i,n,o){let r=o.targetSelectionRange?o.range:this.getPreviewRangeBasedOnBrackets(i,n);return r.endLineNumber-r.startLineNumber>=Lw.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(i,n)),this.stripIndentationFromPreviewRange(i,n,r)}stripIndentationFromPreviewRange(i,n,o){let s=i.getLineFirstNonWhitespaceColumn(n);for(let c=n+1;c<o.endLineNumber;c++){let u=i.getLineFirstNonWhitespaceColumn(c);s=Math.min(s,u)}return i.getValueInRange(o).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(i,n){let o=i.getLineFirstNonWhitespaceColumn(n),r=Math.min(i.getLineCount(),n+Lw.MAX_SOURCE_PREVIEW_LINES),s=n+1;for(;s<r;s++){let l=i.getLineFirstNonWhitespaceColumn(s);if(o===l)break}return new Me(n,1,s+1,1)}getPreviewRangeBasedOnBrackets(i,n){let o=Math.min(i.getLineCount(),n+Lw.MAX_SOURCE_PREVIEW_LINES),r=[],s=!0,l=i.findNextBracket(new It(n,1));for(;l!==null;){if(r.length===0)r.push(l);else{let h=r[r.length-1];if(h.open[0]===l.open[0]&&h.isOpen&&!l.isOpen?r.pop():r.push(l),r.length===0)if(s)s=!1;else return new Me(n,1,l.range.endLineNumber+1,1)}let c=i.getLineMaxColumn(n),u=l.range.endLineNumber,d=l.range.endColumn;if(c===l.range.endColumn&&(u++,d=1),u>o)return new Me(n,1,o+1,1);l=i.findNextBracket(new It(u,d))}return new Me(n,1,o+1,1)}addDecoration(i,n){let o={range:i,options:{inlineClassName:"goto-definition-link",hoverMessage:n}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[o])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(i,n){return this.editor.hasModel()&&i.isNoneOrSingleMouseDown&&i.target.type===6&&(i.hasTriggerModifier||(n?n.keyCodeIsTriggerKey:!1))&&PS.has(this.editor.getModel())}findDefinition(i,n){let o=this.editor.getModel();return o?Mw(o,i,n):Promise.resolve(null)}gotoDefinition(i,n){return this.editor.setPosition(i),this.editor.invokeWithinContext(o=>{let r=!n&&this.editor.getOption(74)&&!this.isInPeekEditor(o);return new zg({openToSide:n,openInPeek:r,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(o,this.editor)})}isInPeekEditor(i){let n=i.get($t);return Vo.inPeekEditor.getValue(n)}dispose(){this.toUnhook.dispose()}};up.ID="editor.contrib.gotodefinitionatposition";up.MAX_SOURCE_PREVIEW_LINES=8;up=ele([ZW(1,Gr),ZW(2,ar)],up);Mt(up.ID,up);oi((e,i)=>{let n=e.getColor(om);n&&i.addRule(`.monaco-editor .goto-definition-link { color: ${n} !important; }`)});Pi();yn();var tle=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Ow=function(e,i){return function(n,o){i(n,o,e)}},oh=class QW{constructor(i,n,o,r,s,l){this._editor=i,this._instantiationService=n,this._openerService=o,this._modeService=r,this._themeService=s,this._toUnhook=new Je,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(c=>{c.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=Ie.hoverVisible.bindTo(l)}static get(i){return i.getContribution(QW.ID)}_hookEvents(){let i=()=>this._hideWidgets(),n=this._editor.getOption(50);this._isHoverEnabled=n.enabled,this._isHoverSticky=n.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(o=>this._onEditorMouseDown(o))),this._toUnhook.add(this._editor.onMouseUp(o=>this._onEditorMouseUp(o))),this._toUnhook.add(this._editor.onMouseMove(o=>this._onEditorMouseMove(o))),this._toUnhook.add(this._editor.onKeyDown(o=>this._onKeyDown(o))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(o=>this._onEditorMouseMove(o))),this._toUnhook.add(this._editor.onKeyDown(o=>this._onKeyDown(o)))),this._toUnhook.add(this._editor.onMouseLeave(i)),this._toUnhook.add(this._editor.onDidChangeModel(i)),this._toUnhook.add(this._editor.onDidScrollChange(o=>this._onEditorScrollChanged(o)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var i,n;(i=this._contentWidget)===null||i===void 0||i.onModelDecorationsChanged(),(n=this._glyphWidget)===null||n===void 0||n.onModelDecorationsChanged()}_onEditorScrollChanged(i){(i.scrollTopChanged||i.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(i){this._isMouseDown=!0;let n=i.target.type;if(n===9&&i.target.detail===_c.ID){this._hoverClicked=!0;return}n===12&&i.target.detail===Ew.ID||(n!==12&&i.target.detail!==Ew.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(i){this._isMouseDown=!1}_onEditorMouseMove(i){var n,o,r,s,l,c;let u=i.target.type;if(!(this._isMouseDown&&this._hoverClicked)&&!(this._isHoverSticky&&u===9&&i.target.detail===_c.ID)&&!(this._isHoverSticky&&!(!((o=(n=i.event.browserEvent.view)===null||n===void 0?void 0:n.getSelection())===null||o===void 0)&&o.isCollapsed))&&!(!this._isHoverSticky&&u===9&&i.target.detail===_c.ID&&(!((r=this._contentWidget)===null||r===void 0)&&r.isColorPickerVisible()))&&!(this._isHoverSticky&&u===12&&i.target.detail===Ew.ID)){if(u===7){let d=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,h=i.target.detail;h&&!h.isAfterLines&&typeof h.horizontalDistanceToText=="number"&&h.horizontalDistanceToText<d&&(u=6)}if(u===6){if((s=this._glyphWidget)===null||s===void 0||s.hide(),this._isHoverEnabled&&i.target.range){let h=[...((l=i.target.element)===null||l===void 0?void 0:l.classList.values())||[]].find(p=>p.startsWith("ced-colorBox"))&&i.target.range.endColumn-i.target.range.startColumn===1?new Me(i.target.range.startLineNumber,i.target.range.startColumn+1,i.target.range.endLineNumber,i.target.range.endColumn+1):i.target.range;this._contentWidget||(this._contentWidget=new _c(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(h,0,!1)}}else u===2?((c=this._contentWidget)===null||c===void 0||c.hide(),this._isHoverEnabled&&i.target.position&&(this._glyphWidget||(this._glyphWidget=new Ew(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(i.target.position.lineNumber))):this._hideWidgets()}}_onKeyDown(i){i.keyCode!==5&&i.keyCode!==6&&i.keyCode!==57&&i.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var i,n,o;this._isMouseDown&&this._hoverClicked&&(!((i=this._contentWidget)===null||i===void 0)&&i.isColorPickerVisible())||(this._hoverClicked=!1,(n=this._glyphWidget)===null||n===void 0||n.hide(),(o=this._contentWidget)===null||o===void 0||o.hide())}isColorPickerVisible(){var i;return((i=this._contentWidget)===null||i===void 0?void 0:i.isColorPickerVisible())||!1}showContentHover(i,n,o){this._contentWidget||(this._contentWidget=new _c(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(i,n,o)}dispose(){var i,n;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(i=this._glyphWidget)===null||i===void 0||i.dispose(),(n=this._contentWidget)===null||n===void 0||n.dispose()}};oh.ID="editor.contrib.hover";oh=tle([Ow(1,hi),Ow(2,sr),Ow(3,ar),Ow(4,Jn),Ow(5,$t)],oh);var mT=class extends it{constructor(){super({id:"editor.action.showHover",label:_({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2087),weight:100}})}run(i,n){if(!n.hasModel())return;let o=oh.get(n);if(!o)return;let r=n.getPosition(),s=new Me(r.lineNumber,r.column,r.lineNumber,r.column),l=n.getOption(2)===2;o.showContentHover(s,1,l)}},vT=class extends it{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:_({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(i,n){let o=oh.get(n);if(!o)return;let r=n.getPosition();if(!r)return;let s=new Me(r.lineNumber,r.column,r.lineNumber,r.column);up.get(n).startFindDefinitionFromCursor(r).then(()=>{o.showContentHover(s,1,!0)})}};Mt(oh.ID,oh);Ue(mT);Ue(vT);oi((e,i)=>{let n=e.getColor(M5);n&&i.addRule(`.monaco-editor .hoverHighlight { background-color: ${n}; }`);let o=e.getColor(ku);o&&i.addRule(`.monaco-editor .monaco-hover { background-color: ${o}; }`);let r=e.getColor(nm);r&&(i.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${r}; }`),i.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${r.transparent(.5)}; }`),i.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${r.transparent(.5)}; }`),i.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${r.transparent(.5)}; }`));let s=e.getColor(Pl);s&&i.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);let l=e.getColor(im);l&&i.addRule(`.monaco-editor .monaco-hover { color: ${l}; }`);let c=e.getColor(R5);c&&i.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${c}; }`);let u=e.getColor(Jf);u&&i.addRule(`.monaco-editor .monaco-hover code { background-color: ${u}; }`)});zt();var XW=(()=>{class e extends yt{constructor(n){super(),this._editor=n,this._register(n.onMouseDown(o=>this.onMouseDown(o)))}dispose(){super.dispose()}onMouseDown(n){var o;if(n.target.type!==6||![...((o=n.target.element)===null||o===void 0?void 0:o.classList.values())||[]].find(c=>c.startsWith("ced-colorBox"))||!n.target.range)return;let l=this._editor.getContribution(oh.ID);if(!l.isColorPickerVisible()){let c=new Me(n.target.range.startLineNumber,n.target.range.startColumn+1,n.target.range.endLineNumber,n.target.range.endColumn+1);l.showContentHover(c,0,!1)}}}return e.ID="editor.contrib.colorContribution",e})();Mt(XW.ID,XW);Ot();Rl();Kt();zt();Zi();Fh();Xn();zt();ho();Eu();var rh=class e{constructor(i,n){this._selection=i,this._insertSpace=n,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,n,o){if(o<0)return!1;let r=n.length,s=i.length;if(o+r>s)return!1;for(let l=0;l<r;l++){let c=i.charCodeAt(o+l),u=n.charCodeAt(l);if(c!==u&&!(c>=65&&c<=90&&c+32===u)&&!(u>=65&&u<=90&&u+32===c))return!1}return!0}_createOperationsForBlockComment(i,n,o,r,s,l){let c=i.startLineNumber,u=i.startColumn,d=i.endLineNumber,h=i.endColumn,p=s.getLineContent(c),g=s.getLineContent(d),f=p.lastIndexOf(n,u-1+n.length),y=g.indexOf(o,h-1-o.length);if(f!==-1&&y!==-1)if(c===d)p.substring(f+n.length,y).indexOf(o)>=0&&(f=-1,y=-1);else{let k=p.substring(f+n.length),G=g.substring(0,y);(k.indexOf(o)>=0||G.indexOf(o)>=0)&&(f=-1,y=-1)}let M;f!==-1&&y!==-1?(r&&f+n.length<p.length&&p.charCodeAt(f+n.length)===32&&(n=n+" "),r&&y>0&&g.charCodeAt(y-1)===32&&(o=" "+o,y-=1),M=e._createRemoveBlockCommentOperations(new Me(c,f+n.length+1,d,y+1),n,o)):(M=e._createAddBlockCommentOperations(i,n,o,this._insertSpace),this._usedEndToken=M.length===1?o:null);for(let k of M)l.addTrackedEditOperation(k.range,k.text)}static _createRemoveBlockCommentOperations(i,n,o){let r=[];return Me.isEmpty(i)?r.push(on.delete(new Me(i.startLineNumber,i.startColumn-n.length,i.endLineNumber,i.endColumn+o.length))):(r.push(on.delete(new Me(i.startLineNumber,i.startColumn-n.length,i.startLineNumber,i.startColumn))),r.push(on.delete(new Me(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+o.length)))),r}static _createAddBlockCommentOperations(i,n,o,r){let s=[];return Me.isEmpty(i)?s.push(on.replace(new Me(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),n+"  "+o)):(s.push(on.insert(new It(i.startLineNumber,i.startColumn),n+(r?" ":""))),s.push(on.insert(new It(i.endLineNumber,i.endColumn),(r?" ":"")+o))),s}getEditOperations(i,n){let o=this._selection.startLineNumber,r=this._selection.startColumn;i.tokenizeIfCheap(o);let s=i.getLanguageIdAtPosition(o,r),l=Xi.getComments(s);!l||!l.blockCommentStartToken||!l.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,l.blockCommentStartToken,l.blockCommentEndToken,this._insertSpace,i,n)}computeCursorState(i,n){let o=n.getInverseEditOperations();if(o.length===2){let r=o[0],s=o[1];return new Ct(r.range.endLineNumber,r.range.endColumn,s.range.startLineNumber,s.range.startColumn)}else{let r=o[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new Ct(r.endLineNumber,r.endColumn+s,r.endLineNumber,r.endColumn+s)}}};Bn();Fh();Xn();zt();ho();Eu();var WD=class e{constructor(i,n,o,r,s,l){this._selection=i,this._tabSize=n,this._type=o,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=l||!1}static _gatherPreflightCommentStrings(i,n,o){i.tokenizeIfCheap(n);let r=i.getLanguageIdAtPosition(n,1),s=Xi.getComments(r),l=s?s.lineCommentToken:null;if(!l)return null;let c=[];for(let u=0,d=o-n+1;u<d;u++)c[u]={ignore:!1,commentStr:l,commentStrOffset:0,commentStrLength:l.length};return c}static _analyzeLines(i,n,o,r,s,l,c){let u=!0,d;i===0?d=!0:i===1?d=!1:d=!0;for(let h=0,p=r.length;h<p;h++){let g=r[h],f=s+h;if(f===s&&c){g.ignore=!0;continue}let y=o.getLineContent(f),M=q3(y);if(M===-1){g.ignore=l,g.commentStrOffset=y.length;continue}if(u=!1,g.ignore=!1,g.commentStrOffset=M,d&&!rh._haystackHasNeedleAtOffset(y,g.commentStr,M)&&(i===0?d=!1:i===1||(g.ignore=!0)),d&&n){let k=M+g.commentStrLength;k<y.length&&y.charCodeAt(k)===32&&(g.commentStrLength+=1)}}if(i===0&&u){d=!1;for(let h=0,p=r.length;h<p;h++)r[h].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:r}}static _gatherPreflightData(i,n,o,r,s,l,c){let u=e._gatherPreflightCommentStrings(o,r,s);return u===null?{supported:!1}:e._analyzeLines(i,n,o,u,r,l,c)}_executeLineComments(i,n,o,r){let s;o.shouldRemoveComments?s=e._createRemoveLineCommentsOperations(o.lines,r.startLineNumber):(e._normalizeInsertionPoint(i,o.lines,r.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(o.lines,r.startLineNumber));let l=new It(r.positionLineNumber,r.positionColumn);for(let c=0,u=s.length;c<u;c++)n.addEditOperation(s[c].range,s[c].text),Me.isEmpty(s[c].range)&&Me.getStartPosition(s[c].range).equals(l)&&i.getLineContent(l.lineNumber).length+1===l.column&&(this._deltaColumn=(s[c].text||"").length);this._selectionId=n.trackSelection(r)}_attemptRemoveBlockComment(i,n,o,r){let s=n.startLineNumber,l=n.endLineNumber,c=r.length+Math.max(i.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.startColumn),u=i.getLineContent(s).lastIndexOf(o,c-1),d=i.getLineContent(l).indexOf(r,n.endColumn-1-o.length);return u!==-1&&d===-1&&(d=i.getLineContent(s).indexOf(r,u+o.length),l=s),u===-1&&d!==-1&&(u=i.getLineContent(l).lastIndexOf(o,d),s=l),n.isEmpty()&&(u===-1||d===-1)&&(u=i.getLineContent(s).indexOf(o),u!==-1&&(d=i.getLineContent(s).indexOf(r,u+o.length))),u!==-1&&i.getLineContent(s).charCodeAt(u+o.length)===32&&(o+=" "),d!==-1&&i.getLineContent(l).charCodeAt(d-1)===32&&(r=" "+r,d-=1),u!==-1&&d!==-1?rh._createRemoveBlockCommentOperations(new Me(s,u+o.length+1,l,d+1),o,r):null}_executeBlockComment(i,n,o){i.tokenizeIfCheap(o.startLineNumber);let r=i.getLanguageIdAtPosition(o.startLineNumber,1),s=Xi.getComments(r);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;let l=s.blockCommentStartToken,c=s.blockCommentEndToken,u=this._attemptRemoveBlockComment(i,o,l,c);if(!u){if(o.isEmpty()){let d=i.getLineContent(o.startLineNumber),h=q3(d);h===-1&&(h=d.length),u=rh._createAddBlockCommentOperations(new Me(o.startLineNumber,h+1,o.startLineNumber,d.length+1),l,c,this._insertSpace)}else u=rh._createAddBlockCommentOperations(new Me(o.startLineNumber,i.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.endLineNumber,i.getLineMaxColumn(o.endLineNumber)),l,c,this._insertSpace);u.length===1&&(this._deltaColumn=l.length+1)}this._selectionId=n.trackSelection(o);for(let d of u)n.addEditOperation(d.range,d.text)}getEditOperations(i,n){let o=this._selection;if(this._moveEndPositionDown=!1,o.startLineNumber===o.endLineNumber&&this._ignoreFirstLine){n.addEditOperation(new Me(o.startLineNumber,i.getLineMaxColumn(o.startLineNumber),o.startLineNumber+1,1),o.startLineNumber===i.getLineCount()?"":`
`),this._selectionId=n.trackSelection(o);return}o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,i.getLineMaxColumn(o.endLineNumber-1)));let r=e._gatherPreflightData(this._type,this._insertSpace,i,o.startLineNumber,o.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return r.supported?this._executeLineComments(i,n,r,o):this._executeBlockComment(i,n,o)}computeCursorState(i,n){let o=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(o=o.setEndPosition(o.endLineNumber+1,1)),new Ct(o.selectionStartLineNumber,o.selectionStartColumn+this._deltaColumn,o.positionLineNumber,o.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(i,n){let o=[];for(let r=0,s=i.length;r<s;r++){let l=i[r];l.ignore||o.push(on.delete(new Me(n+r,l.commentStrOffset+1,n+r,l.commentStrOffset+l.commentStrLength+1)))}return o}_createAddLineCommentsOperations(i,n){let o=[],r=this._insertSpace?" ":"";for(let s=0,l=i.length;s<l;s++){let c=i[s];c.ignore||o.push(on.insert(new It(n+s,c.commentStrOffset+1),c.commentStr+r))}return o}static nextVisibleColumn(i,n,o,r){return o?i+(n-i%n):i+r}static _normalizeInsertionPoint(i,n,o,r){let s=1073741824,l,c;for(let u=0,d=n.length;u<d;u++){if(n[u].ignore)continue;let h=i.getLineContent(o+u),p=0;for(let g=0,f=n[u].commentStrOffset;p<s&&g<f;g++)p=e.nextVisibleColumn(p,r,h.charCodeAt(g)===9,1);p<s&&(s=p)}s=Math.floor(s/r)*r;for(let u=0,d=n.length;u<d;u++){if(n[u].ignore)continue;let h=i.getLineContent(o+u),p=0;for(l=0,c=n[u].commentStrOffset;p<s&&l<c;l++)p=e.nextVisibleColumn(p,r,h.charCodeAt(l)===9,1);p>s?n[u].commentStrOffset=l-1:n[u].commentStrOffset=l}}};Cr();var Nw=class extends it{constructor(i,n){super(n),this._type=i}run(i,n){if(!n.hasModel())return;let o=n.getModel(),r=[],s=o.getOptions(),l=n.getOption(17),c=n.getSelections().map((d,h)=>({selection:d,index:h,ignoreFirstLine:!1}));c.sort((d,h)=>Me.compareRangesUsingStarts(d.selection,h.selection));let u=c[0];for(let d=1;d<c.length;d++){let h=c[d];u.selection.endLineNumber===h.selection.startLineNumber&&(u.index<h.index?h.ignoreFirstLine=!0:(u.ignoreFirstLine=!0,u=h))}for(let d of c)r.push(new WD(d.selection,s.tabSize,this._type,l.insertSpace,l.ignoreEmptyLines,d.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}},CT=class extends Nw{constructor(){super(0,{id:"editor.action.commentLine",label:_("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:jt.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}},wT=class extends Nw{constructor(){super(1,{id:"editor.action.addCommentLine",label:_("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2081),weight:100}})}},bT=class extends Nw{constructor(){super(2,{id:"editor.action.removeCommentLine",label:_("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2099),weight:100}})}},yT=class extends it{constructor(){super({id:"editor.action.blockComment",label:_("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:jt.MenubarEditMenu,group:"5_insert",title:_({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(i,n){if(!n.hasModel())return;let o=n.getOption(17),r=[],s=n.getSelections();for(let l of s)r.push(new rh(l,o.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}};Ue(CT);Ue(wT);Ue(bT);Ue(yT);Ot();Yi();qv();bt();Kt();Zi();Cr();Pi();hs();var ile=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Bw=function(e,i){return function(n,o){i(n,o,e)}},S0=class JW{constructor(i,n,o,r,s,l){this._contextMenuService=n,this._contextViewService=o,this._contextKeyService=r,this._keybindingService=s,this._menuService=l,this._toDispose=new Je,this._contextMenuIsBeingShownCount=0,this._editor=i,this._toDispose.add(this._editor.onContextMenu(c=>this._onContextMenu(c))),this._toDispose.add(this._editor.onMouseWheel(c=>{if(this._contextMenuIsBeingShownCount>0){let u=this._contextViewService.getContextViewElement(),d=c.srcElement;d.shadowRoot&&n8(u)===d.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(c=>{c.keyCode===58&&(c.preventDefault(),c.stopPropagation(),this.showContextMenu())}))}static get(i){return i.getContribution(JW.ID)}_onContextMenu(i){if(!this._editor.hasModel())return;if(!this._editor.getOption(18)){this._editor.focus(),i.target.position&&!this._editor.getSelection().containsPosition(i.target.position)&&this._editor.setPosition(i.target.position);return}if(i.target.type===12||(i.event.preventDefault(),i.target.type!==6&&i.target.type!==7&&i.target.type!==1))return;if(this._editor.focus(),i.target.position){let o=!1;for(let r of this._editor.getSelections())if(r.containsPosition(i.target.position)){o=!0;break}o||this._editor.setPosition(i.target.position)}let n=null;i.target.type!==1&&(n={x:i.event.posx-1,width:2,y:i.event.posy-1,height:2}),this.showContextMenu(n)}showContextMenu(i){if(!this._editor.getOption(18)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}let n=this._getMenuActions(this._editor.getModel(),jt.EditorContext);n.length>0&&this._doShowContextMenu(n,i)}_getMenuActions(i,n){let o=[],r=this._menuService.createMenu(n,this._contextKeyService),s=r.getActions({arg:i.uri});r.dispose();for(let l of s){let[,c]=l,u=0;for(let d of c)if(d instanceof qS){let h=this._getMenuActions(i,d.item.submenu);h.length>0&&(o.push(new $S(d.id,d.label,h)),u++)}else o.push(d),u++;u&&o.push(new qp)}return o.length&&o.pop(),o}_doShowContextMenu(i,n=null){if(!this._editor.hasModel())return;let o=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();let s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),l=Go(this._editor.getDomNode()),c=l.left+s.left,u=l.top+s.top+s.height;n={x:c,y:u}}let r=this._editor.getOption(111);this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:r?this._editor.getDomNode():void 0,getAnchor:()=>n,getActions:()=>i,getActionViewItem:s=>{let l=this._keybindingFor(s);if(l)return new rC(s,s,{label:!0,keybinding:l.getLabel(),isMenu:!0});let c=s;return typeof c.getActionViewItem=="function"?c.getActionViewItem():new rC(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:o})}})}_keybindingFor(i){return this._keybindingService.lookupKeybinding(i.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};S0.ID="editor.contrib.contextmenu";S0=ile([Bw(1,lm),Bw(2,w1),Bw(3,$t),Bw(4,In),Bw(5,Xf)],S0);var ST=class extends it{constructor(){super({id:"editor.action.showContextMenu",label:_("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:Ie.textInputFocus,primary:1092,weight:100}})}run(i,n){S0.get(n).showContextMenu()}};Mt(S0.ID,S0);Ue(ST);Ot();bt();Kt();Zi();var Vw=class{constructor(i){this.selections=i}equals(i){let n=this.selections.length,o=i.selections.length;if(n!==o)return!1;for(let r=0;r<n;r++)if(!this.selections[r].equalsSelection(i.selections[r]))return!1;return!0}},Hw=class{constructor(i,n,o){this.cursorState=i,this.scrollTop=n,this.scrollLeft=o}},jD=(()=>{class e extends yt{constructor(n){super(),this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(o=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(o=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(o=>{if(this._isCursorUndoRedo||!o.oldSelections||o.oldModelVersionId!==o.modelVersionId)return;let r=new Vw(o.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(r)||(this._undoStack.push(new Hw(r,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(n){return n.getContribution(e.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new Hw(new Vw(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new Hw(new Vw(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}return e.ID="editor.contrib.cursorUndoRedoController",e})(),_T=class extends it{constructor(){super({id:"cursorUndo",label:_("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:Ie.textInputFocus,primary:2099,weight:100}})}run(i,n,o){jD.get(n).cursorUndo()}},xT=class extends it{constructor(){super({id:"cursorRedo",label:_("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(i,n,o){jD.get(n).cursorRedo()}};Mt(jD.ID,jD);Ue(_T);Ue(xT);bt();ba();Kt();Xn();zt();ho();ho();zt();var UD=class{constructor(i,n,o){this.selection=i,this.targetPosition=n,this.copy=o,this.targetSelection=null}getEditOperations(i,n){let o=i.getValueInRange(this.selection);if(this.copy||n.addEditOperation(this.selection,null),n.addEditOperation(new Me(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),o),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Ct(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Ct(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Ct(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Ct(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Ct(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(i,n){return this.targetSelection}};Lo();function _0(e){return rr?e.altKey:e.ctrlKey}var Gg=class e extends yt{constructor(i){super(),this._editor=i,this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._register(this._editor.onMouseDrag(n=>this._onEditorMouseDrag(n))),this._register(this._editor.onMouseDrop(n=>this._onEditorMouseDrop(n))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(n=>this.onEditorKeyDown(n))),this._register(this._editor.onKeyUp(n=>this.onEditorKeyUp(n))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(29)||this._editor.getOption(16)||(_0(i)&&(this._modifierPressed=!0),this._mouseDown&&_0(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(29)||this._editor.getOption(16)||(_0(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===e.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){let n=i.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(s=>n.position&&s.containsPosition(n.position));if(r.length===1)this._dragSelection=r[0];else return}_0(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),n.position&&(this._dragSelection.containsPosition(n.position)?this._removeDecoration():this.showAt(n.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){let n=new It(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let o=null;if(i.event.shiftKey){let r=this._editor.getSelection();if(r){let{selectionStartLineNumber:s,selectionStartColumn:l}=r;o=[new Ct(s,l,n.lineNumber,n.column)]}}else o=(this._editor.getSelections()||[]).map(r=>r.containsPosition(n)?new Ct(n.lineNumber,n.column,n.lineNumber,n.column):r);this._editor.setSelections(o||[],"mouse",3)}else(!this._dragSelection.containsPosition(n)||(_0(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(e.ID,new UD(this._dragSelection,n,_0(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){let n=[{range:new Me(i.lineNumber,i.column,i.lineNumber,i.column),options:e._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,n),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};Gg.ID="editor.contrib.dragAndDrop";Gg.TRIGGER_KEY_VALUE=rr?6:5;Gg._DECORATION_OPTIONS=ri.register({className:"dnd-target"});Mt(Gg.ID,Gg);Ot();ln();bt();Bn();Kt();Zi();ln();bt();Xn();zt();ho();jZ();zt();Gv();Lo();Cn();Bi();var iu=class e{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){let i=this._findScopeDecorationIds.map(n=>this._editor.getModel().getDecorationRange(n)).filter(n=>!!n);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){let n=this._decorations.indexOf(i);return n>=0?n+1:1}getCurrentMatchesPosition(i){let n=this._editor.getModel().getDecorationsInRange(i);for(let o of n){let r=o.options;if(r===e._FIND_MATCH_DECORATION||r===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 0}setCurrentFindMatch(i){let n=null,o=0;if(i)for(let r=0,s=this._decorations.length;r<s;r++){let l=this._editor.getModel().getDecorationRange(this._decorations[r]);if(i.equalsRange(l)){n=this._decorations[r],o=r+1;break}}return(this._highlightedDecorationId!==null||n!==null)&&this._editor.changeDecorations(r=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,e._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),n!==null&&(this._highlightedDecorationId=n,r.changeDecorationOptions(this._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),n!==null){let s=this._editor.getModel().getDecorationRange(n);if(s.startLineNumber!==s.endLineNumber&&s.endColumn===1){let l=s.endLineNumber-1,c=this._editor.getModel().getLineMaxColumn(l);s=new Me(s.startLineNumber,s.startColumn,l,c)}this._rangeHighlightDecorationId=r.addDecoration(s,e._RANGE_HIGHLIGHT_DECORATION)}}),o}set(i,n){this._editor.changeDecorations(o=>{let r=e._FIND_MATCH_DECORATION,s=[];if(i.length>1e3){r=e._FIND_MATCH_NO_OVERVIEW_DECORATION;let c=this._editor.getModel().getLineCount(),d=this._editor.getLayoutInfo().height/c,h=Math.max(2,Math.ceil(3/d)),p=i[0].range.startLineNumber,g=i[0].range.endLineNumber;for(let f=1,y=i.length;f<y;f++){let M=i[f].range;g+h>=M.startLineNumber?M.endLineNumber>g&&(g=M.endLineNumber):(s.push({range:new Me(p,1,g,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),p=M.startLineNumber,g=M.endLineNumber)}s.push({range:new Me(p,1,g,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let l=new Array(i.length);for(let c=0,u=i.length;c<u;c++)l[c]={range:i[c].range,options:r};this._decorations=o.deltaDecorations(this._decorations,l),this._overviewRulerApproximateDecorations=o.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(c=>o.removeDecoration(c)),this._findScopeDecorationIds=[]),n?.length&&(this._findScopeDecorationIds=n.map(c=>o.addDecoration(c,e._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let n=this._decorations.length-1;n>=0;n--){let o=this._decorations[n],r=this._editor.getModel().getDecorationRange(o);if(!(!r||r.endLineNumber>i.lineNumber)){if(r.endLineNumber<i.lineNumber)return r;if(!(r.endColumn>i.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let n=0,o=this._decorations.length;n<o;n++){let r=this._decorations[n],s=this._editor.getModel().getDecorationRange(r);if(!(!s||s.startLineNumber<i.lineNumber)){if(s.startLineNumber>i.lineNumber)return s;if(!(s.startColumn<i.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}};iu._CURRENT_FIND_MATCH_DECORATION=ri.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:cr(c1),position:Hr.Center},minimap:{color:cr(SI),position:eI.Inline}});iu._FIND_MATCH_DECORATION=ri.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:cr(c1),position:Hr.Center},minimap:{color:cr(SI),position:eI.Inline}});iu._FIND_MATCH_NO_OVERVIEW_DECORATION=ri.register({stickiness:1,className:"findMatch",showIfCollapsed:!0});iu._FIND_MATCH_ONLY_OVERVIEW_DECORATION=ri.register({stickiness:1,overviewRuler:{color:cr(c1),position:Hr.Center}});iu._RANGE_HIGHLIGHT_DECORATION=ri.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0});iu._FIND_SCOPE_DECORATION=ri.register({className:"findScope",isWholeLine:!0});zt();var $D=class{constructor(i,n,o){this._editorSelection=i,this._ranges=n,this._replaceStrings=o,this._trackedEditorSelectionId=null}getEditOperations(i,n){if(this._ranges.length>0){let o=[];for(let l=0;l<this._ranges.length;l++)o.push({range:this._ranges[l],text:this._replaceStrings[l]});o.sort((l,c)=>Me.compareRangesUsingStarts(l.range,c.range));let r=[],s=o[0];for(let l=1;l<o.length;l++)s.range.endLineNumber===o[l].range.startLineNumber&&s.range.endColumn===o[l].range.startColumn?(s.range=s.range.plusRange(o[l].range),s.text=s.text+o[l].text):(r.push(s),s=o[l]);r.push(s);for(let l of r)n.addEditOperation(l.range,l.text)}this._trackedEditorSelectionId=n.trackSelection(this._editorSelection)}computeCursorState(i,n){return n.getTrackedSelection(this._trackedEditorSelectionId)}};Bn();function DT(e,i){if(e&&e[0]!==""){let n=ej(e,i,"-"),o=ej(e,i,"_");return n&&!o?tj(e,i,"-"):!n&&o?tj(e,i,"_"):e[0].toUpperCase()===e[0]?i.toUpperCase():e[0].toLowerCase()===e[0]?i.toLowerCase():f8(e[0][0])&&i.length>0?i[0].toUpperCase()+i.substr(1):e[0][0].toUpperCase()!==e[0][0]&&i.length>0?i[0].toLowerCase()+i.substr(1):i}else return i}function ej(e,i,n){return e[0].indexOf(n)!==-1&&i.indexOf(n)!==-1&&e[0].split(n).length===i.split(n).length}function tj(e,i,n){let o=i.split(n),r=e[0].split(n),s="";return o.forEach((l,c)=>{s+=DT([r[c]],l)+n}),s.slice(0,-1)}var qD=class{constructor(i){this.staticValue=i,this.kind=0}},ET=class{constructor(i){this.pieces=i,this.kind=1}},D0=class e{constructor(i){!i||i.length===0?this._state=new qD(""):i.length===1&&i[0].staticValue!==null?this._state=new qD(i[0].staticValue):this._state=new ET(i)}static fromStaticValue(i){return new e([x0.staticValue(i)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(i,n){if(this._state.kind===0)return n?DT(i,this._state.staticValue):this._state.staticValue;let o="";for(let r=0,s=this._state.pieces.length;r<s;r++){let l=this._state.pieces[r];if(l.staticValue!==null){o+=l.staticValue;continue}let c=e._substitute(l.matchIndex,i);if(l.caseOps!==null&&l.caseOps.length>0){let u=[],d=l.caseOps.length,h=0;for(let p=0,g=c.length;p<g;p++){if(h>=d){u.push(c.slice(p));break}switch(l.caseOps[h]){case"U":u.push(c[p].toUpperCase());break;case"u":u.push(c[p].toUpperCase()),h++;break;case"L":u.push(c[p].toLowerCase());break;case"l":u.push(c[p].toLowerCase()),h++;break;default:u.push(c[p])}}c=u.join("")}o+=c}return o}static _substitute(i,n){if(n===null)return"";if(i===0)return n[0];let o="";for(;i>0;){if(i<n.length)return(n[i]||"")+o;o=String(i%10)+o,i=Math.floor(i/10)}return"$"+o}},x0=class e{constructor(i,n,o){this.staticValue=i,this.matchIndex=n,!o||o.length===0?this.caseOps=null:this.caseOps=o.slice(0)}static staticValue(i){return new e(i,-1,null)}static caseOps(i,n){return new e(null,i,n)}},IT=class{constructor(i){this._source=i,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(i){this._emitStatic(this._source.substring(this._lastCharIndex,i)),this._lastCharIndex=i}emitStatic(i,n){this._emitStatic(i),this._lastCharIndex=n}_emitStatic(i){i.length!==0&&(this._currentStaticPiece+=i)}emitMatchIndex(i,n,o){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=x0.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=x0.caseOps(i,o),this._lastCharIndex=n}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=x0.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D0(this._result)}};function ij(e){if(!e||e.length===0)return new D0(null);let i=[],n=new IT(e);for(let o=0,r=e.length;o<r;o++){let s=e.charCodeAt(o);if(s===92){if(o++,o>=r)break;let l=e.charCodeAt(o);switch(l){case 92:n.emitUnchanged(o-1),n.emitStatic("\\",o+1);break;case 110:n.emitUnchanged(o-1),n.emitStatic(`
`,o+1);break;case 116:n.emitUnchanged(o-1),n.emitStatic("	",o+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(o-1),n.emitStatic("",o+1),i.push(String.fromCharCode(l));break}continue}if(s===36){if(o++,o>=r)break;let l=e.charCodeAt(o);if(l===36){n.emitUnchanged(o-1),n.emitStatic("$",o+1);continue}if(l===48||l===38){n.emitUnchanged(o-1),n.emitMatchIndex(0,o+1,i),i.length=0;continue}if(49<=l&&l<=57){let c=l-48;if(o+1<r){let u=e.charCodeAt(o+1);if(48<=u&&u<=57){o++,c=c*10+(u-48),n.emitUnchanged(o-2),n.emitMatchIndex(c,o+1,i),i.length=0;continue}}n.emitUnchanged(o-1),n.emitMatchIndex(c,o+1,i),i.length=0;continue}}}return n.finalize()}Pi();kn();var dp=new ii("findWidgetVisible",!1),E0=new ii("findInputFocussed",!1),zw=new ii("replaceInputFocussed",!1),Gw={primary:545,mac:{primary:2593}},Ww={primary:565,mac:{primary:2613}},jw={primary:560,mac:{primary:2608}},Uw={primary:554,mac:{primary:2602}},$w={primary:558,mac:{primary:2606}},Fi={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},nu=19999,nle=240,KD=class e{constructor(i,n){this._toDispose=new Je,this._editor=i,this._state=n,this._isDisposed=!1,this._startSearchingTimer=new Nr,this._decorations=new iu(i),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new $n(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(o=>{(o.reason===3||o.reason===5||o.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(o=>{this._ignoreModelContentChanged||(o.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,jn(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(i){this._isDisposed||this._editor.hasModel()&&(i.searchString||i.isReplaceRevealed||i.isRegex||i.wholeWord||i.matchCase||i.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{i.searchScope?this.research(i.moveCursor,this._state.searchScope):this.research(i.moveCursor)},nle)):i.searchScope?this.research(i.moveCursor,this._state.searchScope):this.research(i.moveCursor))}static _getSearchRange(i,n){return n||i.getFullModelRange()}research(i,n){let o=null;typeof n<"u"?n!==null&&(Array.isArray(n)?o=n:o=[n]):o=this._decorations.getFindScopes(),o!==null&&(o=o.map(c=>{if(c.startLineNumber!==c.endLineNumber){let u=c.endLineNumber;return c.endColumn===1&&(u=u-1),new Me(c.startLineNumber,1,u,this._editor.getModel().getLineMaxColumn(u))}return c}));let r=this._findMatches(o,!1,nu);this._decorations.set(r,o);let s=this._editor.getSelection(),l=this._decorations.getCurrentMatchesPosition(s);if(l===0&&r.length>0){let c=NS(r.map(u=>u.range),u=>Me.compareRangesUsingStarts(u,s)>=0);l=c>0?c-1+1:l}this._state.changeMatchInfo(l,this._decorations.getCount(),void 0),i&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let i=this._decorations.getFindScope();return i&&this._editor.revealRangeInCenterIfOutsideViewport(i,0),!0}return!1}_setCurrentFindMatch(i){let n=this._decorations.setCurrentFindMatch(i);this._state.changeMatchInfo(n,this._decorations.getCount(),i),this._editor.setSelection(i),this._editor.revealRangeInCenterIfOutsideViewport(i,0)}_prevSearchPosition(i){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:o,column:r}=i,s=this._editor.getModel();return n||r===1?(o===1?o=s.getLineCount():o--,r=s.getLineMaxColumn(o)):r--,new It(o,r)}_moveToPrevMatch(i,n=!1){if(!this._state.canNavigateBack()){let h=this._decorations.matchAfterPosition(i);h&&this._setCurrentFindMatch(h);return}if(this._decorations.getCount()<nu){let h=this._decorations.matchBeforePosition(i);h&&h.isEmpty()&&h.getStartPosition().equals(i)&&(i=this._prevSearchPosition(i),h=this._decorations.matchBeforePosition(i)),h&&this._setCurrentFindMatch(h);return}if(this._cannotFind())return;let o=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(i)&&(i=r.getEndPosition()),i.isBefore(r.getStartPosition())&&(i=r.getEndPosition());let{lineNumber:s,column:l}=i,c=this._editor.getModel(),u=new It(s,l),d=c.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1);if(d&&d.range.isEmpty()&&d.range.getStartPosition().equals(u)&&(u=this._prevSearchPosition(u),d=c.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1)),!!d){if(!n&&!r.containsRange(d.range))return this._moveToPrevMatch(d.range.getStartPosition(),!0);this._setCurrentFindMatch(d.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(i){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:o,column:r}=i,s=this._editor.getModel();return n||r===s.getLineMaxColumn(o)?(o===s.getLineCount()?o=1:o++,r=1):r++,new It(o,r)}_moveToNextMatch(i){if(!this._state.canNavigateForward()){let o=this._decorations.matchBeforePosition(i);o&&this._setCurrentFindMatch(o);return}if(this._decorations.getCount()<nu){let o=this._decorations.matchAfterPosition(i);o&&o.isEmpty()&&o.getStartPosition().equals(i)&&(i=this._nextSearchPosition(i),o=this._decorations.matchAfterPosition(i)),o&&this._setCurrentFindMatch(o);return}let n=this._getNextMatch(i,!1,!0);n&&this._setCurrentFindMatch(n.range)}_getNextMatch(i,n,o,r=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),l=e._getSearchRange(this._editor.getModel(),s);l.getEndPosition().isBefore(i)&&(i=l.getStartPosition()),i.isBefore(l.getStartPosition())&&(i=l.getStartPosition());let{lineNumber:c,column:u}=i,d=this._editor.getModel(),h=new It(c,u),p=d.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,n);return o&&p&&p.range.isEmpty()&&p.range.getStartPosition().equals(h)&&(h=this._nextSearchPosition(h),p=d.findNextMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,n)),p?!r&&!l.containsRange(p.range)?this._getNextMatch(p.range.getEndPosition(),n,o,!0):p:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?ij(this._state.replaceString):D0.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let i=this._getReplacePattern(),n=this._editor.getSelection(),o=this._getNextMatch(n.getStartPosition(),!0,!1);if(o)if(n.equalsRange(o.range)){let r=i.buildReplaceString(o.matches,this._state.preserveCase),s=new Au(n,r);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new It(n.startLineNumber,n.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(o.range)}_findMatches(i,n,o){let r=(i||[null]).map(s=>e._getSearchRange(this._editor.getModel(),s));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,n,o)}replaceAll(){if(!this._hasMatches())return;let i=this._decorations.getFindScopes();i===null&&this._state.matchesCount>=nu?this._largeReplaceAll():this._regularReplaceAll(i),this.research(!1)}_largeReplaceAll(){let n=new i5(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null).parseSearchRequest();if(!n)return;let o=n.regex;if(!o.multiline){let p="mu";o.ignoreCase&&(p+="i"),o.global&&(p+="g"),o=new RegExp(o.source,p)}let r=this._editor.getModel(),s=r.getValue(1),l=r.getFullModelRange(),c=this._getReplacePattern(),u,d=this._state.preserveCase;c.hasReplacementPatterns||d?u=s.replace(o,function(){return c.buildReplaceString(arguments,d)}):u=s.replace(o,c.buildReplaceString(null,d));let h=new g1(l,u,this._editor.getSelection());this._executeEditorCommand("replaceAll",h)}_regularReplaceAll(i){let n=this._getReplacePattern(),o=this._findMatches(i,n.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let l=0,c=o.length;l<c;l++)r[l]=n.buildReplaceString(o[l].matches,this._state.preserveCase);let s=new $D(this._editor.getSelection(),o.map(l=>l.range),r);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let i=this._decorations.getFindScopes(),o=this._findMatches(i,!1,1073741824).map(s=>new Ct(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)),r=this._editor.getSelection();for(let s=0,l=o.length;s<l;s++)if(o[s].equalsRange(r)){o=[r].concat(o.slice(0,s)).concat(o.slice(s+1));break}this._editor.setSelections(o)}_executeEditorCommand(i,n){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(i,n),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}};Yi();Fu();Tl();tn();zr();var ole={inputActiveOptionBorder:fi.fromHex("#007ACC00"),inputActiveOptionForeground:fi.fromHex("#FFFFFF"),inputActiveOptionBackground:fi.fromHex("#0E639C50")},ou=class extends Do{constructor(i){super(),this._onChange=this._register(new vt),this.onChange=this._onChange.event,this._onKeyDown=this._register(new vt),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},ole),i),this._checked=this._opts.isChecked;let n=["monaco-custom-checkbox"];this._opts.icon&&n.push(...M8.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&n.push(...this._opts.actionClassName.split(" ")),this._checked&&n.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...n),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,o=>{this.checked=!this._checked,this._onChange.fire(!1),o.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,o=>{if(o.keyCode===10||o.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),o.preventDefault();return}this._onKeyDown.fire(o)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}};Ot();zr();var rle=_("caseDescription","Match Case"),sle=_("wordsDescription","Match Whole Word"),ale=_("regexDescription","Use Regular Expression"),I0=class extends ou{constructor(i){super({icon:pt.caseSensitive,title:rle+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}},M0=class extends ou{constructor(i){super({icon:pt.wholeWord,title:sle+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}},R0=class extends ou{constructor(i){super({icon:pt.regex,title:ale+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}};Fu();ln();Cn();Bi();var nj=(()=>{class e extends Do{constructor(n,o,r,s){super(),this._hideSoon=this._register(new $n(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=n,this._state=o,this._keybindingService=r,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");let l=s.getColorTheme().getColor(Xv),c=s.getColorTheme().getColor(eC),u=s.getColorTheme().getColor(Jv);this.caseSensitive=this._register(new I0({appendTitle:this._keybindingLabelFor(Fi.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:u})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new M0({appendTitle:this._keybindingLabelFor(Fi.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:u})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new R0({appendTitle:this._keybindingLabelFor(Fi.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:l,inputActiveOptionForeground:c,inputActiveOptionBackground:u})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(d=>{let h=!1;d.isRegex&&(this.regex.checked=this._state.isRegex,h=!0),d.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,h=!0),d.matchCase&&(this.caseSensitive.checked=this._state.matchCase,h=!0),!this._state.isRevealed&&h&&this._revealTemporarily()})),this._register(X4(this._domNode,d=>this._onMouseOut())),this._register(go(this._domNode,"mouseover",d=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(n){let o=this._keybindingService.lookupKeybinding(n);return o?` (${o.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(n){let o={inputActiveOptionBorder:n.getColor(Xv),inputActiveOptionForeground:n.getColor(eC),inputActiveOptionBackground:n.getColor(Jv)};this.caseSensitive.style(o),this.wholeWords.style(o),this.regex.style(o)}}return e.ID="editor.contrib.findOptionsWidget",e})();oi((e,i)=>{let n=e.getColor(Fs);n&&i.addRule(`.monaco-editor .findOptionsWidget { background-color: ${n}; }`);let o=e.getColor(em);o&&i.addRule(`.monaco-editor .findOptionsWidget { color: ${o}; }`);let r=e.getColor(Nh);r&&i.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);let s=e.getColor(Oh);s&&i.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)});tn();bt();zt();function YD(e,i){return e===1?!0:e===2?!1:i}var ZD=class extends yt{constructor(){super(),this._onFindReplaceStateChange=this._register(new vt),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return YD(this._isRegexOverride,this._isRegex)}get wholeWord(){return YD(this._wholeWordOverride,this._wholeWord)}get matchCase(){return YD(this._matchCaseOverride,this._matchCase)}get preserveCase(){return YD(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,n,o){let r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;n===0&&(i=0),i>n&&(i=n),this._matchesPosition!==i&&(this._matchesPosition=i,r.matchesPosition=!0,s=!0),this._matchesCount!==n&&(this._matchesCount=n,r.matchesCount=!0,s=!0),typeof o<"u"&&(Me.equalsRange(this._currentMatch,o)||(this._currentMatch=o,r.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(r)}change(i,n,o=!0){var r;let s={moveCursor:n,updateHistory:o,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},l=!1,c=this.isRegex,u=this.wholeWord,d=this.matchCase,h=this.preserveCase;typeof i.searchString<"u"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,s.searchString=!0,l=!0),typeof i.replaceString<"u"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,s.replaceString=!0,l=!0),typeof i.isRevealed<"u"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,s.isRevealed=!0,l=!0),typeof i.isReplaceRevealed<"u"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,s.isReplaceRevealed=!0,l=!0),typeof i.isRegex<"u"&&(this._isRegex=i.isRegex),typeof i.wholeWord<"u"&&(this._wholeWord=i.wholeWord),typeof i.matchCase<"u"&&(this._matchCase=i.matchCase),typeof i.preserveCase<"u"&&(this._preserveCase=i.preserveCase),typeof i.searchScope<"u"&&(!((r=i.searchScope)===null||r===void 0)&&r.every(p=>{var g;return(g=this._searchScope)===null||g===void 0?void 0:g.some(f=>!Me.equalsRange(f,p))})||(this._searchScope=i.searchScope,s.searchScope=!0,l=!0)),typeof i.loop<"u"&&this._loop!==i.loop&&(this._loop=i.loop,s.loop=!0,l=!0),this._isRegexOverride=typeof i.isRegexOverride<"u"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride<"u"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride<"u"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride<"u"?i.preserveCaseOverride:0,c!==this.isRegex&&(l=!0,s.isRegex=!0),u!==this.wholeWord&&(l=!0,s.wholeWord=!0),d!==this.matchCase&&(l=!0,s.matchCase=!0),h!==this.preserveCase&&(l=!0,s.preserveCase=!0),l&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=nu}};Ot();Yi();tl();Fu();ln();Mi();bt();ba();Bn();zt();Cn();Bi();Pi();Ot();Yi();Fu();tn();var lle=_("defaultLabel","input"),QD=class extends Do{constructor(i,n,o,r){super(),this._showOptionButtons=o,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new vt),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new vt),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new vt),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new vt),this._onKeyUp=this._register(new vt),this._onCaseSensitiveKeyDown=this._register(new vt),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new vt),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=n,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||lle,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;let s=r.appendCaseSensitiveLabel||"",l=r.appendWholeWordsLabel||"",c=r.appendRegexLabel||"",u=r.history||[],d=!!r.flexibleHeight,h=!!r.flexibleWidth,p=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new I1(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:u,flexibleHeight:d,flexibleWidth:h,flexibleMaxHeight:p})),this.regex=this._register(new R0({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(y=>{this._onRegexKeyDown.fire(y)})),this.wholeWords=this._register(new M0({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new I0({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(y=>{this._onDidOptionChange.fire(y),!y&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(y=>{this._onCaseSensitiveKeyDown.fire(y)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let g=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,y=>{if(y.equals(15)||y.equals(17)||y.equals(9)){let M=g.indexOf(document.activeElement);if(M>=0){let k=-1;y.equals(17)?k=(M+1)%g.length:y.equals(15)&&(M===0?k=g.length-1:k=M-1),y.equals(9)?(g[M].blur(),this.inputBox.focus()):k>=0&&g[k].focus(),zp.stop(y,!0)}}});let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.caseSensitive.domNode),f.appendChild(this.wholeWords.domNode),f.appendChild(this.regex.domNode),this.domNode.appendChild(f),i&&i.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,y=>this._onKeyDown.fire(y)),this.onkeyup(this.inputBox.inputElement,y=>this._onKeyUp.fire(y)),this.oninput(this.inputBox.inputElement,y=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,y=>this._onMouseDown.fire(y))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);let n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}};WS();Ot();Yi();Fu();tn();zr();var cle=_("defaultLabel","input"),ule=_("label.preserveCaseCheckbox","Preserve Case"),MT=class extends ou{constructor(i){super({icon:pt.preserveCase,title:ule+i.appendTitle,isChecked:i.isChecked,inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}},XD=class extends Do{constructor(i,n,o,r){super(),this._showOptionButtons=o,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new vt),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new vt),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new vt),this._onInput=this._register(new vt),this._onKeyUp=this._register(new vt),this._onPreserveCaseKeyDown=this._register(new vt),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=n,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||cle,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;let s=r.appendPreserveCaseLabel||"",l=r.history||[],c=!!r.flexibleHeight,u=!!r.flexibleWidth,d=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new I1(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,flexibleHeight:c,flexibleWidth:u,flexibleMaxHeight:d})),this.preserveCase=this._register(new MT({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(g=>{this._onPreserveCaseKeyDown.fire(g)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let h=[this.preserveCase.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let f=h.indexOf(document.activeElement);if(f>=0){let y=-1;g.equals(17)?y=(f+1)%h.length:g.equals(15)&&(f===0?y=h.length-1:y=f-1),g.equals(9)?(h[f].blur(),this.inputBox.focus()):y>=0&&h[y].focus(),zp.stop(g,!0)}}});let p=document.createElement("div");p.className="controls",p.style.display=this._showOptionButtons?"block":"none",p.appendChild(this.preserveCase.domNode),this.domNode.appendChild(p),i&&i.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(i){i?this.enable():this.disable()}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){let i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(i);let n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(i){this.preserveCase.checked=i}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(i){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=i,this.domNode.style.width=i+"px"}dispose(){super.dispose()}};var oj=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},rj=function(e,i){return function(n,o){i(n,o,e)}},qw="historyNavigationWidget",RT="historyNavigationEnabled";function dle(e,i,n){new ii(n,i).bindTo(e)}function hle(e,i){return e.createScoped(i.target)}function sj(e,i){return e.getContext(document.activeElement).getValue(i)}function aj(e,i){let n=hle(e,i);dle(n,i,qw);let o=new ii(RT,!0).bindTo(n);return{scopedContextKeyService:n,historyNavigationEnablement:o}}var JD=class extends QD{constructor(i,n,o,r,s=!1){super(i,n,s,o),this._register(aj(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};JD=oj([rj(3,$t)],JD);var eE=class extends XD{constructor(i,n,o,r,s=!1){super(i,n,s,o),this._register(aj(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};eE=oj([rj(3,$t)],eE);lr.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:st.and(st.has(qw),st.equals(RT,!0)),primary:16,secondary:[528],handler:(e,i)=>{let n=sj(e.get($t),qw);n&&n.historyNavigator.showPreviousValue()}});lr.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:st.and(st.has(qw),st.equals(RT,!0)),primary:18,secondary:[530],handler:(e,i)=>{let n=sj(e.get($t),qw);n&&n.historyNavigator.showNextValue()}});zr();var ple=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},gle=Eo("find-selection",pt.selection,_("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),lj=Eo("find-collapsed",pt.chevronRight,_("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),cj=Eo("find-expanded",pt.chevronDown,_("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),fle=Eo("find-replace",pt.replace,_("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),mle=Eo("find-replace-all",pt.replaceAll,_("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),vle=Eo("find-previous-match",pt.arrowUp,_("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Cle=Eo("find-next-match",pt.arrowDown,_("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),wle=_("label.find","Find"),ble=_("placeholder.find","Find"),yle=_("label.previousMatchButton","Previous match"),Sle=_("label.nextMatchButton","Next match"),_le=_("label.toggleSelectionFind","Find in selection"),xle=_("label.closeButton","Close"),Dle=_("label.replace","Replace"),Ele=_("placeholder.replace","Replace"),Ile=_("label.replaceButton","Replace"),Mle=_("label.replaceAllButton","Replace All"),Rle=_("label.toggleReplaceButton","Toggle Replace mode"),kle=_("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",nu),Ale=_("label.matchesLocation","{0} of {1}"),uj=_("label.noResults","No results"),ru=419,Fle=275,Tle=Fle-54,Kw=69,Ple=33,dj="ctrlEnterReplaceAll.windows.donotask",hj=rr?256:2048,Yw=class{constructor(i){this.afterLineNumber=i,this.heightInPx=Ple,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}};function pj(e,i,n){let o=!!i.match(/\n/);if(n&&o&&n.selectionStart>0){e.stopPropagation();return}}function gj(e,i,n){let o=!!i.match(/\n/);if(n&&o&&n.selectionEnd<n.value.length){e.stopPropagation();return}}var fj=(()=>{class e extends Do{constructor(n,o,r,s,l,c,u,d,h){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=n,this._controller=o,this._state=r,this._contextViewProvider=s,this._keybindingService=l,this._contextKeyService=c,this._storageService=d,this._notificationService=h,this._ctrlEnterReplaceAllWarningPrompted=!!d.getBoolean(dj,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new _a(500),this._register(uo(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(p=>this._onStateChanged(p))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(p=>{if(p.hasChanged(77)&&(this._codeEditor.getOption(77)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),p.hasChanged(127)&&this._tryUpdateWidgetWidth(),p.hasChanged(2)&&this.updateAccessibilitySupport(),p.hasChanged(33)){let g=this._codeEditor.getOption(33).addExtraSpaceOnTop;g&&!this._viewZone&&(this._viewZone=new Yw(0),this._showViewZone()),!g&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>ple(this,void 0,void 0,function*(){if(this._isVisible){let p=yield this._controller.getGlobalBufferTerm();p&&p!==this._state.searchString&&(this._state.change({searchString:p},!1),this._findInput.select())}}))),this._findInputFocused=E0.bindTo(c),this._findFocusTracker=this._register($3(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=zw.bindTo(c),this._replaceFocusTracker=this._register($3(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new Yw(0)),this._applyTheme(u.getColorTheme()),this._register(u.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(p=>{if(p.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return e.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(n){if(n.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(n.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),n.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),n.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(77)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Al(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(n.isRevealed||n.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),n.isRegex&&this._findInput.setRegex(this._state.isRegex),n.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),n.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),n.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),n.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),n.searchString||n.matchesCount||n.matchesPosition){let o=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",o),this._updateMatchesCount(),this._updateButtons()}(n.searchString||n.currentMatch)&&this._layoutViewZone(),n.updateHistory&&this._delayedUpdateHistory(),n.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,qt)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Kw+"px",this._state.matchesCount>=nu?this._matchesCount.title=kle:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let n;if(this._state.matchesCount>0){let o=String(this._state.matchesCount);this._state.matchesCount>=nu&&(o+="+");let r=String(this._state.matchesPosition);r==="0"&&(r="?"),n=ds(Ale,r,o)}else n=uj;this._matchesCount.appendChild(document.createTextNode(n)),Kn(this._getAriaLabel(n,this._state.currentMatch,this._state.searchString)),Kw=Math.max(Kw,this._matchesCount.clientWidth)}_getAriaLabel(n,o,r){if(n===uj)return r===""?_("ariaSearchNoResultEmpty","{0} found",n):_("ariaSearchNoResult","{0} found for '{1}'",n,r);if(o){let s=_("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",n,r,o.startLineNumber+":"+o.startColumn),l=this._codeEditor.getModel();return l&&o.startLineNumber<=l.getLineCount()&&o.startLineNumber>=1?`${l.getLineContent(o.startLineNumber)}, ${s}`:s}return _("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",n,r)}_updateToggleSelectionFindButton(){let n=this._codeEditor.getSelection(),o=n?n.startLineNumber!==n.endLineNumber||n.startColumn!==n.endColumn:!1,r=this._toggleSelectionFind.checked;this._isVisible&&(r||o)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let n=this._state.searchString.length>0,o=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&n&&o&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&n&&o&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&n),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&n),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let r=!this._codeEditor.getOption(77);this._toggleReplaceBtn.setEnabled(this._isVisible&&r)}_reveal(){if(this._revealTimeouts.forEach(n=>{clearTimeout(n)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;let n=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":let r=!!n&&n.startLineNumber!==n.endLineNumber;this._toggleSelectionFind.checked=r;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let o=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&n){let r=this._codeEditor.getDomNode();if(r){let s=Go(r),l=this._codeEditor.getScrolledVisiblePosition(n.getStartPosition()),c=s.left+(l?l.left:0),u=l?l.top:0;if(this._viewZone&&u<this._viewZone.heightInPx){n.endLineNumber>n.startLineNumber&&(o=!1);let d=e8(this._domNode).left;c>d&&(o=!1);let h=this._codeEditor.getScrolledVisiblePosition(n.getEndPosition());s.left+(h?h.left:0)>d&&(o=!1)}}}this._showViewZone(o)}}_hide(n){this._revealTimeouts.forEach(o=>{clearTimeout(o)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),n&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(n){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;let r=this._viewZone;this._viewZoneId!==void 0||!r||this._codeEditor.changeViewZones(s=>{r.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(r),this._codeEditor.setScrollTop(n||this._codeEditor.getScrollTop()+r.heightInPx)})}_showViewZone(n=!0){if(!this._isVisible||!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Yw(0));let r=this._viewZone;this._codeEditor.changeViewZones(s=>{if(this._viewZoneId!==void 0){let l=this._getHeight();if(l===r.heightInPx)return;let c=l-r.heightInPx;r.heightInPx=l,s.layoutZone(this._viewZoneId),n&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+c);return}else{let l=this._getHeight();if(l-=this._codeEditor.getOption(71).top,l<=0)return;r.heightInPx=l,this._viewZoneId=s.addZone(r),n&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+l)}})}_removeViewZone(){this._codeEditor.changeViewZones(n=>{this._viewZoneId!==void 0&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(n){let o={inputActiveOptionBorder:n.getColor(Xv),inputActiveOptionBackground:n.getColor(Jv),inputActiveOptionForeground:n.getColor(eC),inputBackground:n.getColor(e1),inputForeground:n.getColor(t1),inputBorder:n.getColor(i1),inputValidationInfoBackground:n.getColor(n1),inputValidationInfoForeground:n.getColor(o1),inputValidationInfoBorder:n.getColor(r1),inputValidationWarningBackground:n.getColor(s5),inputValidationWarningForeground:n.getColor(a5),inputValidationWarningBorder:n.getColor(l5),inputValidationErrorBackground:n.getColor(c5),inputValidationErrorForeground:n.getColor(u5),inputValidationErrorBorder:n.getColor(d5)};this._findInput.style(o),this._replaceInput.style(o),this._toggleSelectionFind.style(o)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Z4(this._domNode))return;let n=this._codeEditor.getLayoutInfo();if(n.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");let r=n.width,s=n.minimap.minimapWidth,l=!1,c=!1,u=!1;if(this._resized&&Al(this._domNode)>ru){this._domNode.style.maxWidth=`${r-28-s-15}px`,this._replaceInput.width=Al(this._findInput.domNode);return}if(ru+28+s>=r&&(c=!0),ru+28+s-Kw>=r&&(u=!0),ru+28+s-Kw>=r+50&&(l=!0),this._domNode.classList.toggle("collapsed-find-widget",l),this._domNode.classList.toggle("narrow-find-widget",u),this._domNode.classList.toggle("reduced-find-widget",c),!u&&!l&&(this._domNode.style.maxWidth=`${r-28-s-15}px`),this._resized){this._findInput.inputBox.layout();let d=this._findInput.inputBox.element.clientWidth;d>0&&(this._replaceInput.width=d)}else this._isReplaceVisible&&(this._replaceInput.width=Al(this._findInput.domNode))}_getHeight(){let n=0;return n+=4,n+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(n+=4,n+=this._replaceInput.inputBox.height+2),n+=4,n}_tryUpdateHeight(){let n=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===n?!1:(this._cachedHeight=n,this._domNode.style.height=`${n}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let n=this._codeEditor.getSelections();n.map(o=>{o.endColumn===1&&o.endLineNumber>o.startLineNumber&&(o=o.setEndPosition(o.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(o.endLineNumber-1)));let r=this._state.currentMatch;return o.startLineNumber!==o.endLineNumber&&!Me.equalsRange(o,r)?o:null}).filter(o=>!!o),n.length&&this._state.change({searchScope:n},!0)}}_onFindInputMouseDown(n){n.middleButton&&n.stopPropagation()}_onFindInputKeyDown(n){if(n.equals(hj|3)){this._findInput.inputBox.insertAtCursor(`
`),n.preventDefault();return}if(n.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),n.preventDefault();return}if(n.equals(2066)){this._codeEditor.focus(),n.preventDefault();return}if(n.equals(16))return pj(n,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(n.equals(18))return gj(n,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(n){if(n.equals(hj|3)){yu&&_h&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(dj,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),n.preventDefault();return}if(n.equals(2)){this._findInput.focusOnCaseSensitive(),n.preventDefault();return}if(n.equals(1026)){this._findInput.focus(),n.preventDefault();return}if(n.equals(2066)){this._codeEditor.focus(),n.preventDefault();return}if(n.equals(16))return pj(n,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(n.equals(18))return gj(n,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(n){return 0}_keybindingLabelFor(n){let o=this._keybindingService.lookupKeybinding(n);return o?` (${o.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new JD(null,this._contextViewProvider,{width:Tle,label:wle,placeholder:ble,appendCaseSensitiveLabel:this._keybindingLabelFor(Fi.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Fi.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Fi.ToggleRegexCommand),validation:d=>{if(d.length===0||!this._findInput.getRegex())return null;try{return new RegExp(d,"gu"),null}catch(h){return{content:h.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(d=>this._onFindInputKeyDown(d))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(d=>{d.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),d.preventDefault())})),this._register(this._findInput.onRegexKeyDown(d=>{d.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),d.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(d=>{this._tryUpdateHeight()&&this._showViewZone()})),Tv&&this._register(this._findInput.onMouseDown(d=>this._onFindInputMouseDown(d))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new hp({label:yle+this._keybindingLabelFor(Fi.PreviousMatchFindAction),icon:vle,onTrigger:()=>{this._codeEditor.getAction(Fi.PreviousMatchFindAction).run().then(void 0,qt)}})),this._nextBtn=this._register(new hp({label:Sle+this._keybindingLabelFor(Fi.NextMatchFindAction),icon:Cle,onTrigger:()=>{this._codeEditor.getAction(Fi.NextMatchFindAction).run().then(void 0,qt)}}));let r=document.createElement("div");r.className="find-part",r.appendChild(this._findInput.domNode);let s=document.createElement("div");s.className="find-actions",r.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new ou({icon:gle,title:_le+this._keybindingLabelFor(Fi.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let d=this._codeEditor.getSelections();d.map(h=>(h.endColumn===1&&h.endLineNumber>h.startLineNumber&&(h=h.setEndPosition(h.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(h.endLineNumber-1))),h.isEmpty()?null:h)).filter(h=>!!h),d.length&&this._state.change({searchScope:d},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new hp({label:xle+this._keybindingLabelFor(Fi.CloseFindWidgetCommand),icon:Q5,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:d=>{d.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),d.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new eE(null,void 0,{label:Dle,placeholder:Ele,appendPreserveCaseLabel:this._keybindingLabelFor(Fi.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(d=>this._onReplaceInputKeyDown(d))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(d=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(d=>{d.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),d.preventDefault())})),this._replaceBtn=this._register(new hp({label:Ile+this._keybindingLabelFor(Fi.ReplaceOneAction),icon:fle,onTrigger:()=>{this._controller.replace()},onKeyDown:d=>{d.equals(1026)&&(this._closeBtn.focus(),d.preventDefault())}})),this._replaceAllBtn=this._register(new hp({label:Mle+this._keybindingLabelFor(Fi.ReplaceAllAction),icon:mle,onTrigger:()=>{this._controller.replaceAll()}}));let l=document.createElement("div");l.className="replace-part",l.appendChild(this._replaceInput.domNode);let c=document.createElement("div");c.className="replace-actions",l.appendChild(c),c.appendChild(this._replaceBtn.domNode),c.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new hp({label:Rle,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Al(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${ru}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(r),this._domNode.appendChild(l),this._resizeSash=new Tu(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let u=ru;this._register(this._resizeSash.onDidStart(()=>{u=Al(this._domNode)})),this._register(this._resizeSash.onDidChange(d=>{this._resized=!0;let h=u+d.startX-d.currentX;if(h<ru)return;let p=parseFloat(J4(this._domNode).maxWidth)||0;h>p||(this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Al(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{let d=Al(this._domNode);if(d<ru)return;let h=ru;if(!this._resized||d===ru){let p=this._codeEditor.getLayoutInfo();h=p.width-28-p.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${h}px`,this._isReplaceVisible&&(this._replaceInput.width=Al(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){let n=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(n!==2)}}return e.ID="editor.contrib.findWidget",e})(),hp=class extends Do{constructor(i){super(),this._opts=i;let n="button";this._opts.className&&(n=n+" "+this._opts.className),this._opts.icon&&(n=n+" "+An.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=n,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,o=>{this._opts.onTrigger(),o.preventDefault()}),this.onkeydown(this._domNode,o=>{if(o.equals(10)||o.equals(3)){this._opts.onTrigger(),o.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(o)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(i){this._domNode.classList.toggle("disabled",!i),this._domNode.setAttribute("aria-disabled",String(!i)),this._domNode.tabIndex=i?0:-1}setExpanded(i){this._domNode.setAttribute("aria-expanded",String(!!i)),i?(this._domNode.classList.remove(...An.asClassNameArray(lj)),this._domNode.classList.add(...An.asClassNameArray(cj))):(this._domNode.classList.remove(...An.asClassNameArray(cj)),this._domNode.classList.add(...An.asClassNameArray(lj)))}};oi((e,i)=>{let n=(f,y)=>{y&&i.addRule(`.monaco-editor ${f} { background-color: ${y}; }`)};n(".findMatch",e.getColor(_5)),n(".currentFindMatch",e.getColor(S5)),n(".findScope",e.getColor(x5));let o=e.getColor(Fs);n(".find-widget",o);let r=e.getColor(Nh);r&&i.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${r}; }`);let s=e.getColor(E5);s&&i.addRule(`.monaco-editor .findMatch { border: 1px ${e.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);let l=e.getColor(D5);l&&i.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${l}; padding: 1px; box-sizing: border-box; }`);let c=e.getColor(I5);c&&i.addRule(`.monaco-editor .findScope { border: 1px ${e.type==="hc"?"dashed":"solid"} ${c}; }`);let u=e.getColor(Oh);u&&i.addRule(`.monaco-editor .find-widget { border: 1px solid ${u}; }`);let d=e.getColor(em);d&&i.addRule(`.monaco-editor .find-widget { color: ${d}; }`);let h=e.getColor(r5);h&&i.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${h}; }`);let p=e.getColor(w5);if(p)i.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${p}; }`);else{let f=e.getColor(tm);f&&i.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${f}; }`)}let g=e.getColor(JS);g&&i.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${g}; }`)});Cr();Pi();hs();Bi();var mj=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},su=function(e,i){return function(n,o){i(n,o,e)}},k0=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Lle=524288;function kT(e,i="single"){if(!e.hasModel())return null;let n=e.getSelection();if(i==="single"&&n.startLineNumber===n.endLineNumber||i==="multiple"){if(n.isEmpty()){let o=e.getConfiguredWordAtPosition(n.getStartPosition());if(o)return o.word}else if(e.getModel().getValueLengthInRange(n)<Lle)return e.getModel().getValueInRange(n)}return null}var Ir=class vj extends yt{constructor(i,n,o,r){super(),this._editor=i,this._findWidgetVisible=dp.bindTo(n),this._contextKeyService=n,this._storageService=o,this._clipboardService=r,this._updateHistoryDelayer=new _a(500),this._state=this._register(new ZD),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(i){return i.getContribution(vj.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(i){this.saveQueryState(i),i.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),i.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(i){i.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),i.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),i.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),i.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!E0.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let i=this._editor.getSelections();i.map(n=>(n.endColumn===1&&n.endLineNumber>n.startLineNumber&&(n=n.setEndPosition(n.endLineNumber-1,this._editor.getModel().getLineMaxColumn(n.endLineNumber-1))),n.isEmpty()?null:n)).filter(n=>!!n),i.length&&this._state.change({searchScope:i},!0)}}setSearchString(i){this._state.isRegex&&(i=_u(i)),this._state.change({searchString:i},!1)}highlightFindOptions(i=!1){}_start(i){return k0(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n={isRevealed:!0};if(i.seedSearchStringFromSelection==="single"){let o=kT(this._editor,i.seedSearchStringFromSelection);o&&(this._state.isRegex?n.searchString=_u(o):n.searchString=o)}else if(i.seedSearchStringFromSelection==="multiple"&&!i.updateSearchScope){let o=kT(this._editor,i.seedSearchStringFromSelection);o&&(n.searchString=o)}if(!n.searchString&&i.seedSearchStringFromGlobalClipboard){let o=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;o&&(n.searchString=o)}if(i.forceRevealReplace?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),i.updateSearchScope){let o=this._editor.getSelections();o.some(r=>!r.isEmpty())&&(n.searchScope=o)}n.loop=i.loop,this._state.change(n,!1),this._model||(this._model=new KD(this._editor,this._state))})}start(i){return this._start(i)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return k0(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(i){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(i)}};Ir.ID="editor.contrib.findController";Ir=mj([su(1,$t),su(2,wr),su(3,Yp)],Ir);var AT=class extends Ir{constructor(i,n,o,r,s,l,c,u){super(i,o,c,u),this._contextViewService=n,this._keybindingService=r,this._themeService=s,this._notificationService=l,this._widget=null,this._findOptionsWidget=null}_start(i){let n=Object.create(null,{_start:{get:()=>super._start}});return k0(this,void 0,void 0,function*(){this._widget||this._createFindWidget();let o=this._editor.getSelection(),r=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":r=!!o&&o.startLineNumber!==o.endLineNumber;break;default:break}i.updateSearchScope=r,yield n._start.call(this,i),this._widget&&(i.shouldFocus===2?this._widget.focusReplaceInput():i.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(i=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!i?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new fj(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new nj(this._editor,this._state,this._keybindingService,this._themeService))}};AT=mj([su(1,w1),su(2,$t),su(3,In),su(4,Jn),su(5,Sn),su(6,wr),su(7,Yp)],AT);var Ole=vI(new mI({id:Fi.StartFindAction,label:_("startFindAction","Find"),alias:"Find",precondition:st.or(Ie.focus,st.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:jt.MenubarEditMenu,group:"3_find",title:_({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Ole.addImplementation(0,(e,i,n)=>{let o=Ir.get(i);return o?o.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:i.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(33).loop}):!1});var FT=class extends it{constructor(){super({id:Fi.StartFindWithSelection,label:_("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(i,n){return k0(this,void 0,void 0,function*(){let o=Ir.get(n);o&&(yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop}),o.setGlobalBufferTerm(o.getState().searchString))})}},A0=class extends it{run(i,n){return k0(this,void 0,void 0,function*(){let o=Ir.get(n);o&&!this._run(o)&&(yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:o.getState().searchString.length===0&&n.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop}),this._run(o))})}},TT=class extends A0{constructor(){super({id:Fi.NextMatchFindAction,label:_("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})}_run(i){return i.moveToNextMatch()?(i.editor.pushUndoStop(),!0):!1}},PT=class extends A0{constructor(){super({id:Fi.NextMatchFindAction,label:_("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:st.and(Ie.focus,E0),primary:3,weight:100}})}_run(i){return i.moveToNextMatch()?(i.editor.pushUndoStop(),!0):!1}},LT=class extends A0{constructor(){super({id:Fi.PreviousMatchFindAction,label:_("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})}_run(i){return i.moveToPrevMatch()}},OT=class extends A0{constructor(){super({id:Fi.PreviousMatchFindAction,label:_("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:st.and(Ie.focus,E0),primary:1027,weight:100}})}_run(i){return i.moveToPrevMatch()}},tE=class extends it{run(i,n){return k0(this,void 0,void 0,function*(){let o=Ir.get(n);if(!o)return;let r=kT(n);r&&o.setSearchString(r),this._run(o)||(yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:n.getOption(33).loop}),this._run(o))})}},NT=class extends tE{constructor(){super({id:Fi.NextSelectionMatchFindAction,label:_("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:2109,weight:100}})}_run(i){return i.moveToNextMatch()}},BT=class extends tE{constructor(){super({id:Fi.PreviousSelectionMatchFindAction,label:_("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:3133,weight:100}})}_run(i){return i.moveToPrevMatch()}},Nle=vI(new mI({id:Fi.StartFindReplaceAction,label:_("startReplace","Replace"),alias:"Replace",precondition:st.or(Ie.focus,st.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:jt.MenubarEditMenu,group:"3_find",title:_({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Nle.addImplementation(0,(e,i,n)=>{if(!i.hasModel()||i.getOption(77))return!1;let o=Ir.get(i);if(!o)return!1;let r=i.getSelection(),s=o.isFindInputFocused(),l=!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&i.getOption(33).seedSearchStringFromSelection&&!s,c=s||l?2:1;return o.start({forceRevealReplace:!0,seedSearchStringFromSelection:l?"single":"none",seedSearchStringFromGlobalClipboard:i.getOption(33).seedSearchStringFromSelection,shouldFocus:c,shouldAnimate:!0,updateSearchScope:!1,loop:i.getOption(33).loop})});Mt(Ir.ID,AT);Ue(FT);Ue(TT);Ue(PT);Ue(LT);Ue(OT);Ue(NT);Ue(BT);var vl=Fn.bindToContribution(Ir.get);gt(new vl({id:Fi.CloseFindWidgetCommand,precondition:dp,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:st.and(Ie.focus,st.not("isComposing")),primary:9,secondary:[1033]}}));gt(new vl({id:Fi.ToggleCaseSensitiveCommand,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:Gw.primary,mac:Gw.mac,win:Gw.win,linux:Gw.linux}}));gt(new vl({id:Fi.ToggleWholeWordCommand,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:Ww.primary,mac:Ww.mac,win:Ww.win,linux:Ww.linux}}));gt(new vl({id:Fi.ToggleRegexCommand,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:jw.primary,mac:jw.mac,win:jw.win,linux:jw.linux}}));gt(new vl({id:Fi.ToggleSearchScopeCommand,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:Uw.primary,mac:Uw.mac,win:Uw.win,linux:Uw.linux}}));gt(new vl({id:Fi.TogglePreserveCaseCommand,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:$w.primary,mac:$w.mac,win:$w.win,linux:$w.linux}}));gt(new vl({id:Fi.ReplaceOneAction,precondition:dp,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:3094}}));gt(new vl({id:Fi.ReplaceOneAction,precondition:dp,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:st.and(Ie.focus,zw),primary:3}}));gt(new vl({id:Fi.ReplaceAllAction,precondition:dp,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:2563}}));gt(new vl({id:Fi.ReplaceAllAction,precondition:dp,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:st.and(Ie.focus,zw),primary:void 0,mac:{primary:2051}}}));gt(new vl({id:Fi.SelectAllMatchesAction,precondition:dp,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:Ie.focus,primary:515}}));Ot();To();Bn();ln();Rl();bt();Kt();tn();var au=class{constructor(i,n,o){if(i.length!==n.length||i.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=i,this._endIndexes=n,this._collapseStates=new Uint32Array(Math.ceil(i.length/32)),this._types=o,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let i=[],n=(o,r)=>{let s=i[i.length-1];return this.getStartLineNumber(s)<=o&&this.getEndLineNumber(s)>=r};for(let o=0,r=this._startIndexes.length;o<r;o++){let s=this._startIndexes[o],l=this._endIndexes[o];if(s>16777215||l>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;i.length>0&&!n(s,l);)i.pop();let c=i.length>0?i[i.length-1]:-1;i.push(o),this._startIndexes[o]=s+((c&255)<<24),this._endIndexes[o]=l+((c&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(i){return this._startIndexes[i]&16777215}getEndLineNumber(i){return this._endIndexes[i]&16777215}getType(i){return this._types?this._types[i]:void 0}hasTypes(){return!!this._types}isCollapsed(i){let n=i/32|0,o=i%32;return(this._collapseStates[n]&1<<o)!==0}setCollapsed(i,n){let o=i/32|0,r=i%32,s=this._collapseStates[o];n?this._collapseStates[o]=s|1<<r:this._collapseStates[o]=s&~(1<<r)}toRegion(i){return new VT(this,i)}getParentIndex(i){this.ensureParentIndices();let n=((this._startIndexes[i]&4278190080)>>>24)+((this._endIndexes[i]&4278190080)>>>16);return n===65535?-1:n}contains(i,n){return this.getStartLineNumber(i)<=n&&this.getEndLineNumber(i)>=n}findIndex(i){let n=0,o=this._startIndexes.length;if(o===0)return-1;for(;n<o;){let r=Math.floor((n+o)/2);i<this.getStartLineNumber(r)?o=r:n=r+1}return n-1}findRange(i){let n=this.findIndex(i);if(n>=0){if(this.getEndLineNumber(n)>=i)return n;for(n=this.getParentIndex(n);n!==-1;){if(this.contains(n,i))return n;n=this.getParentIndex(n)}}return-1}toString(){let i=[];for(let n=0;n<this.length;n++)i[n]=`[${this.isCollapsed(n)?"+":"-"}] ${this.getStartLineNumber(n)}/${this.getEndLineNumber(n)}`;return i.join(", ")}},VT=class{constructor(i,n){this.ranges=i,this.index=n}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(i){return i.startLineNumber<=this.startLineNumber&&i.endLineNumber>=this.endLineNumber}containsLine(i){return this.startLineNumber<=i&&i<=this.endLineNumber}};var iE=class{constructor(i,n){this._updateEventEmitter=new vt,this.onDidChange=this._updateEventEmitter.event,this._textModel=i,this._decorationProvider=n,this._regions=new au(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(i){if(!i.length)return;i=i.sort((o,r)=>o.regionIndex-r.regionIndex);let n={};this._decorationProvider.changeDecorations(o=>{let r=0,s=-1,l=-1,c=u=>{for(;r<u;){let d=this._regions.getEndLineNumber(r),h=this._regions.isCollapsed(r);d<=s&&o.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(h,d<=l)),h&&d>l&&(l=d),r++}};for(let u of i){let d=u.regionIndex,h=this._editorDecorationIds[d];if(h&&!n[h]){n[h]=!0,c(d);let p=!this._regions.isCollapsed(d);this._regions.setCollapsed(d,p),s=Math.max(s,this._regions.getEndLineNumber(d))}}c(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:i})}update(i,n=[]){let o=[],r=(p,g)=>{for(let f of n)if(p<f&&f<=g)return!0;return!1},s=-1,l=(p,g)=>{let f=i.getStartLineNumber(p),y=i.getEndLineNumber(p);g&&r(f,y)&&(g=!1),i.setCollapsed(p,g);let M=this._textModel.getLineMaxColumn(f),k={startLineNumber:f,startColumn:Math.max(M-1,1),endLineNumber:f,endColumn:M};o.push({range:k,options:this._decorationProvider.getDecorationOption(g,y<=s)}),g&&y>s&&(s=y)},c=0,u=()=>{for(;c<this._regions.length;){let p=this._regions.isCollapsed(c);if(c++,p)return c-1}return-1},d=0,h=u();for(;h!==-1&&d<i.length;){let p=this._textModel.getDecorationRange(this._editorDecorationIds[h]);if(p){let g=p.startLineNumber;if(p.startColumn===Math.max(p.endColumn-1,1)&&this._textModel.getLineMaxColumn(g)===p.endColumn)for(;d<i.length;){let f=i.getStartLineNumber(d);if(g>=f)l(d,g===f),d++;else break}}h=u()}for(;d<i.length;)l(d,!1),d++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,o),this._regions=i,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let i=[];for(let n=0;n<this._regions.length;n++)if(this._regions.isCollapsed(n)){let o=this._textModel.getDecorationRange(this._editorDecorationIds[n]);if(o){let r=o.startLineNumber,s=o.endLineNumber+this._regions.getEndLineNumber(n)-this._regions.getStartLineNumber(n);i.push({startLineNumber:r,endLineNumber:s})}}if(i.length>0)return i}applyMemento(i){if(!Array.isArray(i))return;let n=[];for(let o of i){let r=this.getRegionAtLine(o.startLineNumber);r&&!r.isCollapsed&&n.push(r)}this.toggleCollapseState(n)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(i,n){let o=[];if(this._regions){let r=this._regions.findRange(i),s=1;for(;r>=0;){let l=this._regions.toRegion(r);(!n||n(l,s))&&o.push(l),s++,r=l.parentIndex}}return o}getRegionAtLine(i){if(this._regions){let n=this._regions.findRange(i);if(n>=0)return this._regions.toRegion(n)}return null}getRegionsInside(i,n){let o=[],r=i?i.regionIndex+1:0,s=i?i.endLineNumber:Number.MAX_VALUE;if(n&&n.length===2){let l=[];for(let c=r,u=this._regions.length;c<u;c++){let d=this._regions.toRegion(c);if(this._regions.getStartLineNumber(c)<s){for(;l.length>0&&!d.containedBy(l[l.length-1]);)l.pop();l.push(d),n(d,l.length)&&o.push(d)}else break}}else for(let l=r,c=this._regions.length;l<c;l++){let u=this._regions.toRegion(l);if(this._regions.getStartLineNumber(l)<s)(!n||n(u))&&o.push(u);else break}return o}};function Cj(e,i,n){let o=[];for(let r of n){let s=e.getRegionAtLine(r);if(s){let l=!s.isCollapsed;if(o.push(s),i>1){let c=e.getRegionsInside(s,(u,d)=>u.isCollapsed!==l&&d<i);o.push(...c)}}}e.toggleCollapseState(o)}function Wg(e,i,n=Number.MAX_VALUE,o){let r=[];if(o&&o.length>0)for(let s of o){let l=e.getRegionAtLine(s);if(l&&(l.isCollapsed!==i&&r.push(l),n>1)){let c=e.getRegionsInside(l,(u,d)=>u.isCollapsed!==i&&d<n);r.push(...c)}}else{let s=e.getRegionsInside(null,(l,c)=>l.isCollapsed!==i&&c<n);r.push(...s)}e.toggleCollapseState(r)}function HT(e,i,n,o){let r=[];for(let s of o){let l=e.getAllRegionsAtLine(s,(c,u)=>c.isCollapsed!==i&&u<=n);r.push(...l)}e.toggleCollapseState(r)}function wj(e,i,n){let o=[];for(let r of n){let s=e.getAllRegionsAtLine(r,l=>l.isCollapsed!==i);s.length>0&&o.push(s[0])}e.toggleCollapseState(o)}function bj(e,i,n,o){let r=(l,c)=>c===i&&l.isCollapsed!==n&&!o.some(u=>l.containsLine(u)),s=e.getRegionsInside(null,r);e.toggleCollapseState(s)}function zT(e,i,n){let o=[];for(let l of n)o.push(e.getAllRegionsAtLine(l,void 0)[0]);let r=l=>o.every(c=>!c.containedBy(l)&&!l.containedBy(c))&&l.isCollapsed!==i,s=e.getRegionsInside(null,r);e.toggleCollapseState(s)}function nE(e,i,n){let o=e.textModel,r=e.regions,s=[];for(let l=r.length-1;l>=0;l--)if(n!==r.isCollapsed(l)){let c=r.getStartLineNumber(l);i.test(o.getLineContent(c))&&s.push(r.toRegion(l))}e.toggleCollapseState(s)}function oE(e,i,n){let o=e.regions,r=[];for(let s=o.length-1;s>=0;s--)n!==o.isCollapsed(s)&&i===o.getType(s)&&r.push(o.toRegion(s));e.toggleCollapseState(r)}Lo();zr();Ot();Bi();var rE=Eo("folding-expanded",pt.chevronDown,_("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),sE=Eo("folding-collapsed",pt.chevronRight,_("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),sh=class e{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,n){return n?e.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?e.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:e.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:e.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,n){return this.editor.deltaDecorations(i,n)}changeDecorations(i){return this.editor.changeDecorations(i)}};sh.COLLAPSED_VISUAL_DECORATION=ri.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:An.asClassName(sE)});sh.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=ri.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:An.asClassName(sE)});sh.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=ri.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:An.asClassName(rE)});sh.EXPANDED_VISUAL_DECORATION=ri.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+An.asClassName(rE)});sh.HIDDEN_RANGE_DECORATION=ri.register({stickiness:1});Zi();tn();zt();kn();var aE=class{constructor(i){this._updateEventEmitter=new vt,this._foldingModel=i,this._foldingModelListener=i.onDidChange(n=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,n=[],o=0,r=0,s=Number.MAX_VALUE,l=-1,c=this._foldingModel.regions;for(;o<c.length;o++){if(!c.isCollapsed(o))continue;let u=c.getStartLineNumber(o)+1,d=c.getEndLineNumber(o);s<=u&&d<=l||(!i&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===u&&this._hiddenRanges[r].endLineNumber===d?(n.push(this._hiddenRanges[r]),r++):(i=!0,n.push(new Me(u,1,d,1))),s=u,l=d)}(i||r<this._hiddenRanges.length)&&this.applyHiddenRanges(n)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let n=[];for(let o of i){if(!o.startLineNumber||!o.endLineNumber)return!1;n.push(new Me(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(n),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return yj(this._hiddenRanges,i)!==null}adjustSelections(i){let n=!1,o=this._foldingModel.textModel,r=null,s=l=>((!r||!Ble(l,r))&&(r=yj(this._hiddenRanges,l)),r?r.startLineNumber-1:null);for(let l=0,c=i.length;l<c;l++){let u=i[l],d=s(u.startLineNumber);d&&(u=u.setStartPosition(d,o.getLineMaxColumn(d)),n=!0);let h=s(u.endLineNumber);h&&(u=u.setEndPosition(h,o.getLineMaxColumn(h)),n=!0),i[l]=u}return n}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}};function Ble(e,i){return e>=i.startLineNumber&&e<=i.endLineNumber}function yj(e,i){let n=NS(e,o=>i<o.startLineNumber)-1;return n>=0&&e[n].endLineNumber>=i?e[n]:null}Eu();Lo();Eu();var Vle=5e3,Hle="indent",lE=class{constructor(i){this.editorModel=i,this.id=Hle}dispose(){}compute(i){let n=Xi.getFoldingRules(this.editorModel.getLanguageIdentifier().id),o=n&&!!n.offSide,r=n&&n.markers;return Promise.resolve(zle(this.editorModel,o,r))}},GT=class{constructor(i){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=i}insertFirst(i,n,o){if(i>16777215||n>16777215)return;let r=this._length;this._startIndexes[r]=i,this._endIndexes[r]=n,this._length++,o<1e3&&(this._indentOccurrences[o]=(this._indentOccurrences[o]||0)+1)}toIndentRanges(i){if(this._length<=this._foldingRangesLimit){let n=new Uint32Array(this._length),o=new Uint32Array(this._length);for(let r=this._length-1,s=0;r>=0;r--,s++)n[s]=this._startIndexes[r],o[s]=this._endIndexes[r];return new au(n,o)}else{let n=0,o=this._indentOccurrences.length;for(let c=0;c<this._indentOccurrences.length;c++){let u=this._indentOccurrences[c];if(u){if(u+n>this._foldingRangesLimit){o=c;break}n+=u}}let r=i.getOptions().tabSize,s=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit);for(let c=this._length-1,u=0;c>=0;c--){let d=this._startIndexes[c],h=i.getLineContent(d),p=nl.computeIndentLevel(h,r);(p<o||p===o&&n++<this._foldingRangesLimit)&&(s[u]=d,l[u]=this._endIndexes[c],u++)}return new au(s,l)}}};function zle(e,i,n,o=Vle){let r=e.getOptions().tabSize,s=new GT(o),l;n&&(l=new RegExp(`(${n.start.source})|(?:${n.end.source})`));let c=[],u=e.getLineCount()+1;c.push({indent:-1,endAbove:u,line:u});for(let d=e.getLineCount();d>0;d--){let h=e.getLineContent(d),p=nl.computeIndentLevel(h,r),g=c[c.length-1];if(p===-1){i&&(g.endAbove=d);continue}let f;if(l&&(f=h.match(l)))if(f[1]){let y=c.length-1;for(;y>0&&c[y].indent!==-2;)y--;if(y>0){c.length=y+1,g=c[y],s.insertFirst(d,g.line,p),g.line=d,g.indent=p,g.endAbove=d;continue}}else{c.push({indent:-2,endAbove:d,line:d});continue}if(g.indent>p){do c.pop(),g=c[c.length-1];while(g.indent>p);let y=g.endAbove-1;y-d>=1&&s.insertFirst(d,y,p)}g.indent===p?g.endAbove=d:c.push({indent:p,endAbove:d,line:d})}return s.toIndentRanges(e)}zi();Mi();bt();var Gle=5e3,Wle={},jT="syntax",cE=class{constructor(i,n,o,r=Gle){this.editorModel=i,this.providers=n,this.limit=r,this.id=jT;for(let s of n)typeof s.onDidChange=="function"&&(this.disposables||(this.disposables=new Je),this.disposables.add(s.onDidChange(o)))}compute(i){return jle(this.providers,this.editorModel,i).then(n=>n?UT(n,this.limit):null)}dispose(){var i;(i=this.disposables)===null||i===void 0||i.dispose()}};function jle(e,i,n){let o=null,r=e.map((s,l)=>Promise.resolve(s.provideFoldingRanges(i,Wle,n)).then(c=>{if(!n.isCancellationRequested&&Array.isArray(c)){Array.isArray(o)||(o=[]);let u=i.getLineCount();for(let d of c)d.start>0&&d.end>d.start&&d.end<=u&&o.push({start:d.start,end:d.end,rank:l,kind:d.kind})}},gn));return Promise.all(r).then(s=>o)}var WT=class{constructor(i){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,o,r){if(i>16777215||n>16777215)return;let s=this._length;this._startIndexes[s]=i,this._endIndexes[s]=n,this._nestingLevels[s]=r,this._types[s]=o,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=0;o<this._length;o++)i[o]=this._startIndexes[o],n[o]=this._endIndexes[o];return new au(i,n,this._types)}else{let i=0,n=this._nestingLevelCounts.length;for(let l=0;l<this._nestingLevelCounts.length;l++){let c=this._nestingLevelCounts[l];if(c){if(c+i>this._foldingRangesLimit){n=l;break}i+=c}}let o=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit),s=[];for(let l=0,c=0;l<this._length;l++){let u=this._nestingLevels[l];(u<n||u===n&&i++<this._foldingRangesLimit)&&(o[c]=this._startIndexes[l],r[c]=this._endIndexes[l],s[c]=this._types[l],c++)}return new au(o,r,s)}}};function UT(e,i){let n=e.sort((l,c)=>{let u=l.start-c.start;return u===0&&(u=l.rank-c.rank),u}),o=new WT(i),r,s=[];for(let l of n)if(!r)r=l,o.add(l.start,l.end,l.kind&&l.kind.value,s.length);else if(l.start>r.start)if(l.end<=r.end)s.push(r),r=l,o.add(l.start,l.end,l.kind&&l.kind.value,s.length);else{if(l.start>r.end){do r=s.pop();while(r&&l.start>r.end);r&&s.push(r),r=l}o.add(l.start,l.end,l.kind&&l.kind.value,s.length)}return o.toIndentRanges()}var $T="init",uE=class{constructor(i,n,o,r){if(this.editorModel=i,this.id=$T,n.length){let s=l=>({range:{startLineNumber:l.startLineNumber,startColumn:0,endLineNumber:l.endLineNumber,endColumn:i.getLineLength(l.endLineNumber)},options:{stickiness:1}});this.decorationIds=i.deltaDecorations([],n.map(s)),this.timeout=setTimeout(o,r)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(i){let n=[];if(this.decorationIds)for(let o of this.decorationIds){let r=this.editorModel.getDecorationRange(o);r&&n.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(UT(n,Number.MAX_VALUE))}};Mi();Pi();Bi();Cn();var $le=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},qle=function(e,i){return function(n,o){i(n,o,e)}},ts=new ii("foldingEnabled",!1),F0=class _j extends yt{constructor(i,n){super(),this.contextKeyService=n,this.localToDispose=this._register(new Je),this.editor=i;let o=this.editor.getOptions();this._isEnabled=o.get(35),this._useFoldingProviders=o.get(36)!=="indentation",this._unfoldOnClickAfterEndOfLine=o.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new sh(i),this.foldingDecorationProvider.autoHideFoldingControls=o.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=o.get(37),this.foldingEnabled=ts.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(r=>{if(r.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),r.hasChanged(96)||r.hasChanged(37)){let s=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=s.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=s.get(37),this.onModelContentChanged()}r.hasChanged(36)&&(this._useFoldingProviders=this.editor.getOptions().get(36)!=="indentation",this.onFoldingStrategyChanged()),r.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(i){return i.getContribution(_j.ID)}saveViewState(){let i=this.editor.getModel();if(!i||!this._isEnabled||i.isTooLargeForTokenization())return{};if(this.foldingModel){let n=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),o=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:n,lineCount:i.getLineCount(),provider:o}}}restoreViewState(i){let n=this.editor.getModel();if(!n||!this._isEnabled||n.isTooLargeForTokenization()||!this.hiddenRangeModel||!i||!i.collapsedRegions||i.lineCount!==n.getLineCount())return;(i.provider===jT||i.provider===$T)&&(this.foldingStateMemento=i);let o=i.collapsedRegions;if(this.hiddenRangeModel.applyMemento(o)){let r=this.getFoldingModel();r&&r.then(s=>{if(s){this._restoringViewState=!0;try{s.applyMemento(o)}finally{this._restoringViewState=!1}}}).then(void 0,qt)}}onModelChanged(){this.localToDispose.clear();let i=this.editor.getModel();!this._isEnabled||!i||i.isTooLargeForTokenization()||(this.foldingModel=new iE(i,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new aE(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(n=>this.onHiddenRangesChanges(n))),this.updateScheduler=new _a(200),this.cursorChangedScheduler=new $n(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(sI.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(n=>this.onEditorMouseDown(n))),this.localToDispose.add(this.editor.onMouseUp(n=>this.onEditorMouseUp(n))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(i){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new lE(i),this._useFoldingProviders&&this.foldingModel){let n=sI.ordered(this.foldingModel.textModel);if(n.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new uE(i,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);n.length>0&&(this.rangeProvider=new cE(i,n,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{let i=this.foldingModel;if(!i)return null;let n=this.foldingRegionPromise=Ui(o=>this.getRangeProvider(i.textModel).compute(o));return n.then(o=>{if(o&&n===this.foldingRegionPromise){let r=this.editor.getSelections(),s=r?r.map(l=>l.startLineNumber):[];i.update(o,s)}return i})}).then(void 0,i=>(qt(i),null)))}onHiddenRangesChanges(i){if(this.hiddenRangeModel&&i.length&&!this._restoringViewState){let n=this.editor.getSelections();n&&this.hiddenRangeModel.adjustSelections(n)&&this.editor.setSelections(n)}this.editor.setHiddenAreas(i)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){let i=this.getFoldingModel();i&&i.then(n=>{if(n){let o=this.editor.getSelections();if(o&&o.length>0){let r=[];for(let s of o){let l=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(l)&&r.push(...n.getAllRegionsAtLine(l,c=>c.isCollapsed&&l>c.startLineNumber))}r.length&&(n.toggleCollapseState(r),this.reveal(o[0].getPosition()))}}}).then(void 0,qt)}onEditorMouseDown(i){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!i.target||!i.target.range||!i.event.leftButton&&!i.event.middleButton)return;let n=i.target.range,o=!1;switch(i.target.type){case 4:let r=i.target.detail,s=i.target.element.offsetLeft;if(r.offsetX-s<5)return;o=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!i.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let c=this.editor.getModel();if(c&&n.startColumn===c.getLineMaxColumn(n.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:n.startLineNumber,iconClicked:o}}onEditorMouseUp(i){let n=this.getFoldingModel();if(!n||!this.mouseDownInfo||!i.target)return;let o=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,s=i.target.range;if(!(!s||s.startLineNumber!==o)){if(r){if(i.target.type!==4)return}else{let l=this.editor.getModel();if(!l||s.startColumn!==l.getLineMaxColumn(o))return}n.then(l=>{if(l){let c=l.getRegionAtLine(o);if(c&&c.startLineNumber===o){let u=c.isCollapsed;if(r||u){let d=i.event.altKey,h=[];if(d){let p=f=>!f.containedBy(c)&&!c.containedBy(f),g=l.getRegionsInside(null,p);for(let f of g)f.isCollapsed&&h.push(f);h.length===0&&(h=g)}else{let p=i.event.middleButton||i.event.shiftKey;if(p)for(let g of l.getRegionsInside(c))g.isCollapsed===u&&h.push(g);(u||!p||h.length===0)&&h.push(c)}l.toggleCollapseState(h),this.reveal({lineNumber:o,column:1})}}}}).then(void 0,qt)}}reveal(i){this.editor.revealPositionInCenterIfOutsideViewport(i,0)}};F0.ID="editor.contrib.folding";F0=$le([qle(1,$t)],F0);var Mr=class extends it{runEditorCommand(i,n,o){let r=F0.get(n);if(!r)return;let s=r.getFoldingModel();if(s)return this.reportTelemetry(i,n),s.then(l=>{if(l){this.invoke(r,l,n,o);let c=n.getSelection();c&&r.reveal(c.getStartPosition())}})}getSelectedLines(i){let n=i.getSelections();return n?n.map(o=>o.startLineNumber):[]}getLineNumbers(i,n){return i&&i.selectionLines?i.selectionLines.map(o=>o+1):this.getSelectedLines(n)}run(i,n){}};function xj(e){if(!Hv(e)){if(!MS(e))return!1;let i=e;if(!Hv(i.levels)&&!J3(i.levels)||!Hv(i.direction)&&!IS(i.direction)||!Hv(i.selectionLines)&&(!_8(i.selectionLines)||!i.selectionLines.every(J3)))return!1}return!0}var qT=class extends Mr{constructor(){super({id:"editor.unfold",label:_("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:xj,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(i,n,o,r){let s=r&&r.levels||1,l=this.getLineNumbers(r,o);r&&r.direction==="up"?HT(n,!1,s,l):Wg(n,!1,s,l)}},KT=class extends Mr{constructor(){super({id:"editor.unfoldRecursively",label:_("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2137),weight:100}})}invoke(i,n,o,r){Wg(n,!1,Number.MAX_VALUE,this.getSelectedLines(o))}},YT=class extends Mr{constructor(){super({id:"editor.fold",label:_("foldAction.label","Fold"),alias:"Fold",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:xj,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(i,n,o,r){let s=this.getLineNumbers(r,o),l=r&&r.levels,c=r&&r.direction;typeof l!="number"&&typeof c!="string"?wj(n,!0,s):c==="up"?HT(n,!0,l||1,s):Wg(n,!0,l||1,s)}},ZT=class extends Mr{constructor(){super({id:"editor.toggleFold",label:_("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2090),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);Cj(n,1,r)}},QT=class extends Mr{constructor(){super({id:"editor.foldRecursively",label:_("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2135),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);Wg(n,!0,Number.MAX_VALUE,r)}},XT=class extends Mr{constructor(){super({id:"editor.foldAllBlockComments",label:_("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2133),weight:100}})}invoke(i,n,o){if(n.regions.hasTypes())oE(n,AS.Comment.value,!0);else{let r=o.getModel();if(!r)return;let s=Xi.getComments(r.getLanguageIdentifier().id);if(s&&s.blockCommentStartToken){let l=new RegExp("^\\s*"+_u(s.blockCommentStartToken));nE(n,l,!0)}}}},JT=class extends Mr{constructor(){super({id:"editor.foldAllMarkerRegions",label:_("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2077),weight:100}})}invoke(i,n,o){if(n.regions.hasTypes())oE(n,AS.Region.value,!0);else{let r=o.getModel();if(!r)return;let s=Xi.getFoldingRules(r.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){let l=new RegExp(s.markers.start);nE(n,l,!0)}}}},eP=class extends Mr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2078),weight:100}})}invoke(i,n,o){if(n.regions.hasTypes())oE(n,AS.Region.value,!1);else{let r=o.getModel();if(!r)return;let s=Xi.getFoldingRules(r.getLanguageIdentifier().id);if(s&&s.markers&&s.markers.start){let l=new RegExp(s.markers.start);nE(n,l,!1)}}}},tP=class extends Mr{constructor(){super({id:"editor.foldAllExcept",label:_("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2131),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);zT(n,!0,r)}},iP=class extends Mr{constructor(){super({id:"editor.unfoldAllExcept",label:_("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2129),weight:100}})}invoke(i,n,o){let r=this.getSelectedLines(o);zT(n,!1,r)}},nP=class extends Mr{constructor(){super({id:"editor.foldAll",label:_("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2069),weight:100}})}invoke(i,n,o){Wg(n,!0)}},oP=class extends Mr{constructor(){super({id:"editor.unfoldAll",label:_("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2088),weight:100}})}invoke(i,n,o){Wg(n,!1)}},Sj=(()=>{class e extends Mr{getFoldingLevel(){return parseInt(this.id.substr(e.ID_PREFIX.length))}invoke(n,o,r){bj(o,this.getFoldingLevel(),!0,this.getSelectedLines(r))}}return e.ID_PREFIX="editor.foldLevel",e.ID=i=>e.ID_PREFIX+i,e})();Mt(F0.ID,F0);Ue(qT);Ue(KT);Ue(YT);Ue(QT);Ue(nP);Ue(oP);Ue(XT);Ue(JT);Ue(eP);Ue(tP);Ue(iP);Ue(ZT);for(let e=1;e<=7;e++)ZS(new Sj({id:Sj.ID(e),label:_("foldLevelAction.label","Fold Level {0}",e),alias:`Fold Level ${e}`,precondition:ts,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2048|21+e),weight:100}}));var Kle=xt("editor.foldBackground",{light:_I(yI,.3),dark:_I(yI,.3),hc:null},_("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Yle=xt("editorGutter.foldingControlForeground",{dark:XS,light:XS,hc:XS},_("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));oi((e,i)=>{let n=e.getColor(Kle);n&&i.addRule(`.monaco-editor .folded-background { background-color: ${n}; }`);let o=e.getColor(Yle);o&&i.addRule(`
		.monaco-editor .cldr${An.asCSSSelector(rE)},
		.monaco-editor .cldr${An.asCSSSelector(sE)} {
			color: ${o} !important;
		}
		`)});Ot();Kt();LZ();var rP=class extends it{constructor(){super({id:"editor.action.fontZoomIn",label:_("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(i,n){Wf.setZoomLevel(Wf.getZoomLevel()+1)}},sP=class extends it{constructor(){super({id:"editor.action.fontZoomOut",label:_("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,n){Wf.setZoomLevel(Wf.getZoomLevel()-1)}},aP=class extends it{constructor(){super({id:"editor.action.fontZoomReset",label:_("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,n){Wf.setZoomLevel(0)}};Ue(rP);Ue(sP);Ue(aP);var Uit=Sh(Ij());Fo();Eh();Un();Up();kn();Un();Mi();Bv();zt();zi();AZ();iI();var pp=class{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(i,n){let o;typeof i=="string"?o=`${n.id}/${i}`:(o=`${n.id}/${i.name}`,n.children.get(o)!==void 0&&(o=`${n.id}/${i.name}_${i.range.startLineNumber}_${i.range.startColumn}`));let r=o;for(let s=0;n.children.get(r)!==void 0;s++)r=`${o}_${s}`;return r}static empty(i){return i.children.size===0}},dE=class extends pp{constructor(i,n,o){super(),this.id=i,this.parent=n,this.symbol=o,this.children=new Map}},dP=class extends pp{constructor(i,n,o,r){super(),this.id=i,this.parent=n,this.label=o,this.order=r,this.children=new Map}},ah=class e extends pp{constructor(i){super(),this.uri=i,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(i,n){let o=this._keys.for(i,!0),r=e._requests.get(o);if(!r){let s=new vr;r={promiseCnt:0,source:s,promise:e._create(i,s.token),model:void 0},e._requests.set(o,r);let l=Date.now();r.promise.then(()=>{this._requestDurations.update(i,Date.now()-l)})}return r.model?Promise.resolve(r.model):(r.promiseCnt+=1,n.onCancellationRequested(()=>{--r.promiseCnt===0&&(r.source.cancel(),e._requests.delete(o))}),new Promise((s,l)=>{r.promise.then(c=>{r.model=c,s(c)},c=>{e._requests.delete(o),l(c)})}))}static _create(i,n){let o=new vr(n),r=new e(i.uri),s=el.ordered(i),l=s.map((u,d)=>{var h;let p=pp.findId(`provider_${d}`,r),g=new dP(p,r,(h=u.displayName)!==null&&h!==void 0?h:"Unknown Outline Provider",d);return Promise.resolve(u.provideDocumentSymbols(i,o.token)).then(f=>{for(let y of f||[])e._makeOutlineElement(y,g);return g},f=>(gn(f),g)).then(f=>{pp.empty(f)?f.remove():r._groups.set(p,f)})}),c=el.onDidChange(()=>{let u=el.ordered(i);kh(u,s)||o.cancel()});return Promise.all(l).then(()=>o.token.isCancellationRequested&&!n.isCancellationRequested?e._create(i,n):r._compact()).finally(()=>{c.dispose()})}static _makeOutlineElement(i,n){let o=pp.findId(i,n),r=new dE(o,n,i);if(i.children)for(let s of i.children)e._makeOutlineElement(s,r);n.children.set(r.id,r)}_compact(){let i=0;for(let[n,o]of this._groups)o.children.size===0?this._groups.delete(n):i+=1;if(i!==1)this.children=this._groups;else{let n=N3.first(this._groups.values());for(let[,o]of n.children)o.parent=this,this.children.set(o.id,o)}return this}getTopLevelSymbols(){let i=[];for(let n of this.children.values())n instanceof dE?i.push(n.symbol):i.push(...N3.map(n.children.values(),o=>o.symbol));return i.sort((n,o)=>Me.compareRangesUsingStarts(n.range,o.range))}asListOfDocumentSymbols(){let i=this.getTopLevelSymbols(),n=[];return e._flattenDocumentSymbols(n,i,""),n.sort((o,r)=>Me.compareRangesUsingStarts(o.range,r.range))}static _flattenDocumentSymbols(i,n,o){for(let r of n)i.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||o,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&e._flattenDocumentSymbols(i,r.children,r.name)}};ah._requestDurations=new Wp(el,350);ah._requests=new Dh(9,.75);ah._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(e,i){return`${e.id}/${i?e.getVersionId():""}/${this._hash(el.all(e))}`}_hash(e){let i="";for(let n of e){let o=this._data.get(n);typeof o>"u"&&(o=this._counter++,this._data.set(n,o)),i+=o}return i}};xo();To();var Rj=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})};function Mj(e,i,n){return Rj(this,void 0,void 0,function*(){let o=yield ah.create(e,n);return i?o.asListOfDocumentSymbols():o.getTopLevelSymbols()})}_i.registerCommand("_executeDocumentSymbolProvider",function(e,...i){return Rj(this,void 0,void 0,function*(){let[n]=i;nn(ui.isUri(n));let o=e.get(Po).getModel(n);if(o)return Mj(o,!1,ti.None);let r=yield e.get(Gr).createModelReference(n);try{return yield Mj(r.object.textEditorModel,!1,ti.None)}finally{r.dispose()}})});Ot();bt();Bn();Kt();Fh();zt();ho();Zi();Lo();Eu();Eh();function Qo(e,i){let n=0;for(let o=0;o<e.length;o++)e.charAt(o)==="	"?n+=i:n++;return n}function Ug(e,i,n){e=e<0?0:e;let o="";if(!n){let r=Math.floor(e/i);e=e%i;for(let s=0;s<r;s++)o+="	"}for(let r=0;r<e;r++)o+=" ";return o}function Fj(e,i,n,o){if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return[];let r=Xi.getIndentationRules(e.getLanguageIdentifier().id);if(!r)return[];for(n=Math.min(n,e.getLineCount());i<=n&&r.unIndentedLinePattern;){let M=e.getLineContent(i);if(!r.unIndentedLinePattern.test(M))break;i++}if(i>n-1)return[];let{tabSize:s,indentSize:l,insertSpaces:c}=e.getOptions(),u=(M,k)=>(k=k||1,Bh.shiftIndent(M,M.length+k,s,l,c)),d=(M,k)=>(k=k||1,Bh.unshiftIndent(M,M.length+k,s,l,c)),h=[],p,g=e.getLineContent(i),f=g;if(o!=null){p=o;let M=qn(g);f=p+g.substring(M.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(f)&&(p=d(p),f=p+g.substring(M.length)),g!==f&&h.push(on.replaceMove(new Ct(i,1,i,M.length+1),nl.normalizeIndentation(p,l,c)))}else p=qn(g);let y=p;r.increaseIndentPattern&&r.increaseIndentPattern.test(f)?(y=u(y),p=u(p)):r.indentNextLinePattern&&r.indentNextLinePattern.test(f)&&(y=u(y)),i++;for(let M=i;M<=n;M++){let k=e.getLineContent(M),G=qn(k),J=y+k.substring(G.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(J)&&(y=d(y),p=d(p)),G!==y&&h.push(on.replaceMove(new Ct(M,1,M,G.length+1),nl.normalizeIndentation(y,l,c))),!(r.unIndentedLinePattern&&r.unIndentedLinePattern.test(k))&&(r.increaseIndentPattern&&r.increaseIndentPattern.test(J)?(p=u(p),y=p):r.indentNextLinePattern&&r.indentNextLinePattern.test(J)?y=u(y):y=p)}return h}var Zle=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:Ie.writable})}run(n,o){let r=o.getModel();if(!r)return;let s=r.getOptions(),l=o.getSelection();if(!l)return;let c=new fP(l,s.tabSize);o.pushUndoStop(),o.executeCommands(this.id,[c]),o.pushUndoStop(),r.updateOptions({insertSpaces:!0})}}return e.ID="editor.action.indentationToSpaces",e})(),Qle=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:Ie.writable})}run(n,o){let r=o.getModel();if(!r)return;let s=r.getOptions(),l=o.getSelection();if(!l)return;let c=new mP(l,s.tabSize);o.pushUndoStop(),o.executeCommands(this.id,[c]),o.pushUndoStop(),r.updateOptions({insertSpaces:!1})}}return e.ID="editor.action.indentationToTabs",e})(),hE=class extends it{constructor(i,n){super(n),this.insertSpaces=i}run(i,n){let o=i.get(Ts),r=i.get(Po),s=n.getModel();if(!s)return;let l=r.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget),c=[1,2,3,4,5,6,7,8].map(d=>({id:d.toString(),label:d.toString(),description:d===l.tabSize?_("configuredTabSize","Configured Tab Size"):void 0})),u=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{o.pick(c,{placeHolder:_({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:c[u]}).then(d=>{d&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(d.label,10),insertSpaces:this.insertSpaces})})},50)}},Xle=(()=>{class e extends hE{constructor(){super(!1,{id:e.ID,label:_("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return e.ID="editor.action.indentUsingTabs",e})(),Jle=(()=>{class e extends hE{constructor(){super(!0,{id:e.ID,label:_("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return e.ID="editor.action.indentUsingSpaces",e})(),ece=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(n,o){let r=n.get(Po),s=o.getModel();if(!s)return;let l=r.getCreationOptions(s.getLanguageIdentifier().language,s.uri,s.isForSimpleWidget);s.detectIndentation(l.insertSpaces,l.tabSize)}}return e.ID="editor.action.detectIndentation",e})(),hP=class extends it{constructor(){super({id:"editor.action.reindentlines",label:_("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:Ie.writable})}run(i,n){let o=n.getModel();if(!o)return;let r=Fj(o,1,o.getLineCount());r.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,r),n.pushUndoStop())}},pP=class extends it{constructor(){super({id:"editor.action.reindentselectedlines",label:_("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:Ie.writable})}run(i,n){let o=n.getModel();if(!o)return;let r=n.getSelections();if(r===null)return;let s=[];for(let l of r){let c=l.startLineNumber,u=l.endLineNumber;if(c!==u&&l.endColumn===1&&u--,c===1){if(c===u)continue}else c--;let d=Fj(o,c,u);s.push(...d)}s.length>0&&(n.pushUndoStop(),n.executeEdits(this.id,s),n.pushUndoStop())}},gP=class{constructor(i,n){this._initialSelection=n,this._edits=[],this._selectionId=null;for(let o of i)o.range&&typeof o.text=="string"&&this._edits.push(o)}getEditOperations(i,n){for(let r of this._edits)n.addEditOperation(Me.lift(r.range),r.text);let o=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(o=!0,this._selectionId=n.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(o=!0,this._selectionId=n.trackSelection(this._initialSelection,!1))),o||(this._selectionId=n.trackSelection(this._initialSelection))}computeCursorState(i,n){return n.getTrackedSelection(this._selectionId)}},Aj=(()=>{class e{constructor(n){this.callOnDispose=new Je,this.callOnModel=new Je,this.editor=n,this.callOnDispose.add(n.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(n.onDidChangeModel(()=>this.update())),this.callOnDispose.add(n.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(44))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:n})=>{this.trigger(n)}))}trigger(n){let o=this.editor.getSelections();if(o===null||o.length>1)return;let r=this.editor.getModel();if(!r||!r.isCheapToTokenize(n.getStartPosition().lineNumber))return;let s=this.editor.getOption(9),{tabSize:l,indentSize:c,insertSpaces:u}=r.getOptions(),d=[],h={shiftIndent:y=>Bh.shiftIndent(y,y.length+1,l,c,u),unshiftIndent:y=>Bh.unshiftIndent(y,y.length+1,l,c,u)},p=n.startLineNumber;for(;p<=n.endLineNumber;){if(this.shouldIgnoreLine(r,p)){p++;continue}break}if(p>n.endLineNumber)return;let g=r.getLineContent(p);if(!/\S/.test(g.substring(0,n.startColumn-1))){let y=Xi.getGoodIndentForLine(s,r,r.getLanguageIdentifier().id,p,h);if(y!==null){let M=qn(g),k=Qo(y,l),G=Qo(M,l);if(k!==G){let J=Ug(k,l,u);d.push({range:new Me(p,1,p,M.length+1),text:J}),g=J+g.substr(M.length)}else{let J=Xi.getIndentMetadata(r,p);if(J===0||J===8)return}}}let f=p;for(;p<n.endLineNumber;){if(!/\S/.test(r.getLineContent(p+1))){p++;continue}break}if(p!==n.endLineNumber){let y={getLineTokens:k=>r.getLineTokens(k),getLanguageIdentifier:()=>r.getLanguageIdentifier(),getLanguageIdAtPosition:(k,G)=>r.getLanguageIdAtPosition(k,G),getLineContent:k=>k===f?g:r.getLineContent(k)},M=Xi.getGoodIndentForLine(s,y,r.getLanguageIdentifier().id,p+1,h);if(M!==null){let k=Qo(M,l),G=Qo(qn(r.getLineContent(p+1)),l);if(k!==G){let J=k-G;for(let $=p+1;$<=n.endLineNumber;$++){let _e=r.getLineContent($),Fe=qn(_e),$e=Qo(Fe,l)+J,nt=Ug($e,l,u);nt!==Fe&&d.push({range:new Me($,1,$,Fe.length+1),text:nt})}}}}if(d.length>0){this.editor.pushUndoStop();let y=new gP(d,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",y),this.editor.pushUndoStop()}}shouldIgnoreLine(n,o){n.forceTokenization(o);let r=n.getLineFirstNonWhitespaceColumn(o);if(r===0)return!0;let s=n.getLineTokens(o);if(s.getCount()>0){let l=s.findTokenIndexAtOffset(r);if(l>=0&&s.getStandardTokenType(l)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}return e.ID="editor.contrib.autoIndentOnPaste",e})();function Tj(e,i,n,o){if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return;let r="";for(let l=0;l<n;l++)r+=" ";let s=new RegExp(r,"gi");for(let l=1,c=e.getLineCount();l<=c;l++){let u=e.getLineFirstNonWhitespaceColumn(l);if(u===0&&(u=e.getLineMaxColumn(l)),u===1)continue;let d=new Me(l,1,l,u),h=e.getValueInRange(d),p=o?h.replace(/\t/ig,r):h.replace(s,"	");i.addEditOperation(d,p)}}var fP=class{constructor(i,n){this.selection=i,this.tabSize=n,this.selectionId=null}getEditOperations(i,n){this.selectionId=n.trackSelection(this.selection),Tj(i,n,this.tabSize,!0)}computeCursorState(i,n){return n.getTrackedSelection(this.selectionId)}},mP=class{constructor(i,n){this.selection=i,this.tabSize=n,this.selectionId=null}getEditOperations(i,n){this.selectionId=n.trackSelection(this.selection),Tj(i,n,this.tabSize,!1)}computeCursorState(i,n){return n.getTrackedSelection(this.selectionId)}};Mt(Aj.ID,Aj);Ue(Zle);Ue(Qle);Ue(Xle);Ue(Jle);Ue(ece);Ue(hP);Ue(pP);ln();Mi();tI();bt();Kt();zo();zi();kn();Cn();Un();Bi();zt();iI();xo();Fo();To();Up();var tce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Pj=function(e,i){return function(n,o){i(n,o,e)}},vP=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},ice=500;function Lj(e,i,n){return vP(this,void 0,void 0,function*(){let o=[],r=qf.ordered(e).reverse(),s=$p(r.map(l=>i.map(c=>Promise.resolve(l.provideInlineHints(e,c,n)).then(u=>{u&&o.push({list:u,provider:l})},u=>{gn(u)}))));return yield Promise.all(s),o})}var Jw=class{constructor(i,n,o){this._editor=i,this._codeEditorService=n,this._themeService=o,this._disposables=new Je,this._sessionDisposables=new Je,this._getInlineHintsDelays=new Wp(qf,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(qf.onDidChange(()=>this._update())),this._disposables.add(o.onDidColorThemeChange(()=>this._update())),this._disposables.add(i.onDidChangeModel(()=>this._update())),this._disposables.add(i.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(i.onDidChangeConfiguration(r=>{r.hasChanged(123)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(123).enabled){this._removeAllDecorations();return}let i=this._editor.getModel();if(!i||!qf.has(i)){this._removeAllDecorations();return}let n=new $n(()=>vP(this,void 0,void 0,function*(){let r=Date.now(),s=new vr;this._sessionDisposables.add(uo(()=>s.dispose(!0)));let l=this._editor.getVisibleRangesPlusViewportAboveBelow(),c=yield Lj(i,l,s.token),u=this._getInlineHintsDelays.update(i,Date.now()-r);n.delay=u,this._updateHintsDecorators(c)}),this._getInlineHintsDelays.get(i));this._sessionDisposables.add(n),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>n.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>n.schedule())),n.schedule();let o=new Je;this._sessionDisposables.add(o);for(let r of qf.all(i))typeof r.onDidChangeInlineHints=="function"&&o.add(r.onDidChangeInlineHints(()=>n.schedule()))}_updateHintsDecorators(i){let{fontSize:n,fontFamily:o}=this._getLayoutInfo(),r=this._themeService.getColorTheme().getColor(A5),s=this._themeService.getColorTheme().getColor(k5),l=[],c=[],u="--inlineHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(u,o);for(let{list:d}of i)for(let h=0;h<d.length&&c.length<ice;h++){let{text:p,range:g,description:f,whitespaceBefore:y,whitespaceAfter:M}=d[h],k=y?n/3|0:0,G=M?n/3|0:0,J={contentText:p,backgroundColor:`${r}`,color:`${s}`,margin:`0px ${G}px 0px ${k}px`,fontSize:`${n}px`,fontFamily:`var(${u})`,padding:`0px ${n/4|0}px`,borderRadius:`${n/4|0}px`},$="inlineHints-"+jf(J).toString(16);this._codeEditorService.registerDecorationType($,{before:J},void 0,this._editor),l.push($);let _e=this._codeEditorService.resolveDecorationOptions($,!0);typeof f=="string"?_e.hoverMessage=new Zo().appendText(f):f&&(_e.hoverMessage=f),c.push({range:g,options:_e})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=l,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,c)}_getLayoutInfo(){let i=this._editor.getOption(123),n=this._editor.getOption(42),o=i.fontSize;(!o||o<5||o>n)&&(o=n*.9|0);let r=i.fontFamily;return{fontSize:o,fontFamily:r}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};Jw.ID="editor.contrib.InlineHints";Jw=tce([Pj(1,Ri),Pj(2,Jn)],Jw);Mt(Jw.ID,Jw);_i.registerCommand("_executeInlineHintProvider",(e,...i)=>vP(void 0,void 0,void 0,function*(){let[n,o]=i;nn(ui.isUri(n)),nn(Me.isIRange(o));let r=yield e.get(Gr).createModelReference(n);try{let s=yield Lj(r.object.textEditorModel,[Me.lift(o)],ti.None);return $p(s.map(l=>l.list)).sort((l,c)=>Me.compareRangesUsingStarts(l.range,c.range))}finally{r.dispose()}}));var Jit=Sh(Nj());Ot();Rl();Kt();Bn();Fh();zt();var gE=class{constructor(i,n){this._selection=i,this._cursors=n,this._selectionId=null}getEditOperations(i,n){let o=rce(i,this._cursors);for(let r=0,s=o.length;r<s;r++){let l=o[r];n.addEditOperation(l.range,l.text)}this._selectionId=n.trackSelection(this._selection)}computeCursorState(i,n){return n.getTrackedSelection(this._selectionId)}};function rce(e,i){i.sort((l,c)=>l.lineNumber===c.lineNumber?l.column-c.column:l.lineNumber-c.lineNumber);for(let l=i.length-2;l>=0;l--)i[l].lineNumber===i[l+1].lineNumber&&i.splice(l,1);let n=[],o=0,r=0,s=i.length;for(let l=1,c=e.getLineCount();l<=c;l++){let u=e.getLineContent(l),d=u.length+1,h=0;if(r<s&&i[r].lineNumber===l&&(h=i[r].column,r++,h===d)||u.length===0)continue;let p=Vf(u),g=0;if(p===-1)g=1;else if(p!==u.length-1)g=p+2;else continue;g=Math.max(h,g),n[o++]=on.delete(new Me(l,g,l,d))}return n}Fh();Xn();zt();ho();Zi();zt();ho();var ey=class{constructor(i,n,o){this._selection=i,this._isCopyingDown=n,this._noop=o||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(i,n){let o=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(this._endLineNumberDelta=1,o=o.setEndPosition(o.endLineNumber-1,i.getLineMaxColumn(o.endLineNumber-1)));let r=[];for(let l=o.startLineNumber;l<=o.endLineNumber;l++)r.push(i.getLineContent(l));let s=r.join(`
`);s===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?n.addEditOperation(new Me(o.endLineNumber,i.getLineMaxColumn(o.endLineNumber),o.endLineNumber+1,1),o.endLineNumber===i.getLineCount()?"":`
`):this._isCopyingDown?n.addEditOperation(new Me(o.startLineNumber,1,o.startLineNumber,1),s+`
`):n.addEditOperation(new Me(o.endLineNumber,i.getLineMaxColumn(o.endLineNumber),o.endLineNumber,i.getLineMaxColumn(o.endLineNumber)),`
`+s),this._selectionId=n.trackSelection(o),this._selectionDirection=this._selection.getDirection()}computeCursorState(i,n){let o=n.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let r=o.startLineNumber,s=o.startColumn,l=o.endLineNumber,c=o.endColumn;this._startLineNumberDelta!==0&&(r=r+this._startLineNumberDelta,s=1),this._endLineNumberDelta!==0&&(l=l+this._endLineNumberDelta,c=1),o=Ct.createWithDirection(r,s,l,c,this._selectionDirection)}return o}};Bn();zt();ho();BZ();Eu();var fE=class{constructor(i,n,o){this._selection=i,this._isMovingDown=n,this._autoIndent=o,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,n){let o=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===o){this._selectionId=n.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=n.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,i.getLineMaxColumn(r.endLineNumber-1)));let{tabSize:s,indentSize:l,insertSpaces:c}=i.getOptions(),u=this.buildIndentConverter(s,l,c),d={getLineTokens:h=>i.getLineTokens(h),getLanguageIdentifier:()=>i.getLanguageIdentifier(),getLanguageIdAtPosition:(h,p)=>i.getLanguageIdAtPosition(h,p),getLineContent:null};if(r.startLineNumber===r.endLineNumber&&i.getLineMaxColumn(r.startLineNumber)===1){let h=r.startLineNumber,p=this._isMovingDown?h+1:h-1;i.getLineMaxColumn(p)===1?n.addEditOperation(new Me(1,1,1,1),null):(n.addEditOperation(new Me(h,1,h,1),i.getLineContent(p)),n.addEditOperation(new Me(p,1,p,i.getLineMaxColumn(p)),null)),r=new Ct(p,1,p,1)}else{let h,p;if(this._isMovingDown){h=r.endLineNumber+1,p=i.getLineContent(h),n.addEditOperation(new Me(h-1,i.getLineMaxColumn(h-1),h,i.getLineMaxColumn(h)),null);let g=p;if(this.shouldAutoIndent(i,r)){let f=this.matchEnterRule(i,u,s,h,r.startLineNumber-1);if(f!==null){let M=qn(i.getLineContent(h)),k=f+Qo(M,s);g=Ug(k,s,c)+this.trimLeft(p)}else{d.getLineContent=k=>k===r.startLineNumber?i.getLineContent(h):i.getLineContent(k);let M=Xi.getGoodIndentForLine(this._autoIndent,d,i.getLanguageIdAtPosition(h,1),r.startLineNumber,u);if(M!==null){let k=qn(i.getLineContent(h)),G=Qo(M,s),J=Qo(k,s);G!==J&&(g=Ug(G,s,c)+this.trimLeft(p))}}n.addEditOperation(new Me(r.startLineNumber,1,r.startLineNumber,1),g+`
`);let y=this.matchEnterRuleMovingDown(i,u,s,r.startLineNumber,h,g);if(y!==null)y!==0&&this.getIndentEditsOfMovingBlock(i,n,r,s,c,y);else{d.getLineContent=k=>k===r.startLineNumber?g:k>=r.startLineNumber+1&&k<=r.endLineNumber+1?i.getLineContent(k-1):i.getLineContent(k);let M=Xi.getGoodIndentForLine(this._autoIndent,d,i.getLanguageIdAtPosition(h,1),r.startLineNumber+1,u);if(M!==null){let k=qn(i.getLineContent(r.startLineNumber)),G=Qo(M,s),J=Qo(k,s);if(G!==J){let $=G-J;this.getIndentEditsOfMovingBlock(i,n,r,s,c,$)}}}}else n.addEditOperation(new Me(r.startLineNumber,1,r.startLineNumber,1),g+`
`)}else if(h=r.startLineNumber-1,p=i.getLineContent(h),n.addEditOperation(new Me(h,1,h+1,1),null),n.addEditOperation(new Me(r.endLineNumber,i.getLineMaxColumn(r.endLineNumber),r.endLineNumber,i.getLineMaxColumn(r.endLineNumber)),`
`+p),this.shouldAutoIndent(i,r)){d.getLineContent=f=>f===h?i.getLineContent(r.startLineNumber):i.getLineContent(f);let g=this.matchEnterRule(i,u,s,r.startLineNumber,r.startLineNumber-2);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(i,n,r,s,c,g);else{let f=Xi.getGoodIndentForLine(this._autoIndent,d,i.getLanguageIdAtPosition(r.startLineNumber,1),h,u);if(f!==null){let y=qn(i.getLineContent(r.startLineNumber)),M=Qo(f,s),k=Qo(y,s);if(M!==k){let G=M-k;this.getIndentEditsOfMovingBlock(i,n,r,s,c,G)}}}}}this._selectionId=n.trackSelection(r)}buildIndentConverter(i,n,o){return{shiftIndent:r=>Bh.shiftIndent(r,r.length+1,i,n,o),unshiftIndent:r=>Bh.unshiftIndent(r,r.length+1,i,n,o)}}parseEnterResult(i,n,o,r,s){if(s){let l=s.indentation;s.indentAction===Uv.None||s.indentAction===Uv.Indent?l=s.indentation+s.appendText:s.indentAction===Uv.IndentOutdent?l=s.indentation:s.indentAction===Uv.Outdent&&(l=n.unshiftIndent(s.indentation)+s.appendText);let c=i.getLineContent(r);if(this.trimLeft(c).indexOf(this.trimLeft(l))>=0){let u=qn(i.getLineContent(r)),d=qn(l),h=Xi.getIndentMetadata(i,r);h!==null&&h&2&&(d=n.unshiftIndent(d));let p=Qo(d,o),g=Qo(u,o);return p-g}}return null}matchEnterRuleMovingDown(i,n,o,r,s,l){if(Vf(l)>=0){let c=i.getLineMaxColumn(s),u=Xi.getEnterAction(this._autoIndent,i,new Me(s,c,s,c));return this.parseEnterResult(i,n,o,r,u)}else{let c=r-1;for(;c>=1;){let h=i.getLineContent(c);if(Vf(h)>=0)break;c--}if(c<1||r>i.getLineCount())return null;let u=i.getLineMaxColumn(c),d=Xi.getEnterAction(this._autoIndent,i,new Me(c,u,c,u));return this.parseEnterResult(i,n,o,r,d)}}matchEnterRule(i,n,o,r,s,l){let c=s;for(;c>=1;){let h;if(c===s&&l!==void 0?h=l:h=i.getLineContent(c),Vf(h)>=0)break;c--}if(c<1||r>i.getLineCount())return null;let u=i.getLineMaxColumn(c),d=Xi.getEnterAction(this._autoIndent,i,new Me(c,u,c,u));return this.parseEnterResult(i,n,o,r,d)}trimLeft(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,n){if(this._autoIndent<4||!i.isCheapToTokenize(n.startLineNumber))return!1;let o=i.getLanguageIdAtPosition(n.startLineNumber,1),r=i.getLanguageIdAtPosition(n.endLineNumber,1);return!(o!==r||Xi.getIndentRulesSupport(o)===null)}getIndentEditsOfMovingBlock(i,n,o,r,s,l){for(let c=o.startLineNumber;c<=o.endLineNumber;c++){let u=i.getLineContent(c),d=qn(u),p=Qo(d,r)+l,g=Ug(p,r,s);g!==d&&(n.addEditOperation(new Me(c,1,c,d.length+1),g),c===o.endLineNumber&&o.endColumn<=d.length+1&&g===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,n){let o=n.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(o=o.setEndPosition(o.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&o.startLineNumber<o.endLineNumber&&(o=o.setEndPosition(o.endLineNumber,2)),o}};Fh();zt();var mE=(()=>{class e{constructor(n,o){this.selection=n,this.descending=o,this.selectionId=null}static getCollator(){return e._COLLATOR||(e._COLLATOR=new Intl.Collator),e._COLLATOR}getEditOperations(n,o){let r=sce(n,this.selection,this.descending);r&&o.addEditOperation(r.range,r.text),this.selectionId=o.trackSelection(this.selection)}computeCursorState(n,o){return o.getTrackedSelection(this.selectionId)}static canRun(n,o,r){if(n===null)return!1;let s=Bj(n,o,r);if(!s)return!1;for(let l=0,c=s.before.length;l<c;l++)if(s.before[l]!==s.after[l])return!0;return!1}}return e._COLLATOR=null,e})();function Bj(e,i,n){let o=i.startLineNumber,r=i.endLineNumber;if(i.endColumn===1&&r--,o>=r)return null;let s=[];for(let c=o;c<=r;c++)s.push(e.getLineContent(c));let l=s.slice(0);return l.sort(mE.getCollator().compare),n===!0&&(l=l.reverse()),{startLineNumber:o,endLineNumber:r,before:s,after:l}}function sce(e,i,n){let o=Bj(e,i,n);return o?on.replace(new Me(o.startLineNumber,1,o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),o.after.join(`
`)):null}Cr();var vE=class extends it{constructor(i,n){super(n),this.down=i}run(i,n){if(!n.hasModel())return;let o=n.getSelections().map((l,c)=>({selection:l,index:c,ignore:!1}));o.sort((l,c)=>Me.compareRangesUsingStarts(l.selection,c.selection));let r=o[0];for(let l=1;l<o.length;l++){let c=o[l];r.selection.endLineNumber===c.selection.startLineNumber&&(r.index<c.index?c.ignore=!0:(r.ignore=!0,r=c))}let s=[];for(let l of o)s.push(new ey(l.selection,this.down,l.ignore));n.pushUndoStop(),n.executeCommands(this.id,s),n.pushUndoStop()}},yP=class extends vE{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:_("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}},SP=class extends vE{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:_("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"2_line",title:_({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}},_P=class extends it{constructor(){super({id:"editor.action.duplicateSelection",label:_("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:Ie.writable,menuOpts:{menuId:jt.MenubarSelectionMenu,group:"2_line",title:_({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(i,n,o){if(!n.hasModel())return;let r=[],s=n.getSelections(),l=n.getModel();for(let c of s)if(c.isEmpty())r.push(new ey(c,!0));else{let u=new Ct(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn);r.push(new j5(u,l.getValueInRange(c)))}n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}},CE=class extends it{constructor(i,n){super(n),this.down=i}run(i,n){let o=[],r=n.getSelections()||[],s=n.getOption(9);for(let l of r)o.push(new fE(l,this.down,s));n.pushUndoStop(),n.executeCommands(this.id,o),n.pushUndoStop()}},xP=class extends CE{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:_("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}},DP=class extends CE{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:_("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"2_line",title:_({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}},wE=class extends it{constructor(i,n){super(n),this.descending=i}run(i,n){let o=n.getSelections()||[];for(let s of o)if(!mE.canRun(n.getModel(),s,this.descending))return;let r=[];for(let s=0,l=o.length;s<l;s++)r[s]=new mE(o[s],this.descending);n.pushUndoStop(),n.executeCommands(this.id,r),n.pushUndoStop()}},EP=class extends wE{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:_("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:Ie.writable})}},IP=class extends wE{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:_("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:Ie.writable})}},ace=(()=>{class e extends it{constructor(){super({id:e.ID,label:_("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:an(2089,2102),weight:100}})}run(n,o,r){let s=[];r.reason==="auto-save"&&(s=(o.getSelections()||[]).map(u=>new It(u.positionLineNumber,u.positionColumn)));let l=o.getSelection();if(l===null)return;let c=new gE(l,s);o.pushUndoStop(),o.executeCommands(this.id,[c]),o.pushUndoStop()}}return e.ID="editor.action.trimTrailingWhitespace",e})(),MP=class extends it{constructor(){super({id:"editor.action.deleteLines",label:_("lines.delete","Delete Line"),alias:"Delete Line",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:3113,weight:100}})}run(i,n){if(!n.hasModel())return;let o=this._getLinesToRemove(n),r=n.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let s=0,l=[],c=[];for(let u=0,d=o.length;u<d;u++){let h=o[u],p=h.startLineNumber,g=h.endLineNumber,f=1,y=r.getLineMaxColumn(g);g<r.getLineCount()?(g+=1,y=1):p>1&&(p-=1,f=r.getLineMaxColumn(p)),l.push(on.replace(new Ct(p,f,g,y),"")),c.push(new Ct(p-s,h.positionColumn,p-s,h.positionColumn)),s+=h.endLineNumber-h.startLineNumber+1}n.pushUndoStop(),n.executeEdits(this.id,l,c),n.pushUndoStop()}_getLinesToRemove(i){let n=i.getSelections().map(s=>{let l=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(l-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:l,positionColumn:s.positionColumn}});n.sort((s,l)=>s.startLineNumber===l.startLineNumber?s.endLineNumber-l.endLineNumber:s.startLineNumber-l.startLineNumber);let o=[],r=n[0];for(let s=1;s<n.length;s++)r.endLineNumber+1>=n[s].startLineNumber?r.endLineNumber=n[s].endLineNumber:(o.push(r),r=n[s]);return o.push(r),o}},RP=class extends it{constructor(){super({id:"editor.action.indentLines",label:_("lines.indent","Indent Line"),alias:"Indent Line",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:2137,weight:100}})}run(i,n){let o=n._getViewModel();o&&(n.pushUndoStop(),n.executeCommands(this.id,m1.indent(o.cursorConfig,n.getModel(),n.getSelections())),n.pushUndoStop())}},kP=class extends it{constructor(){super({id:"editor.action.outdentLines",label:_("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:2135,weight:100}})}run(i,n){U5.Outdent.runEditorCommand(i,n,null)}},AP=class extends it{constructor(){super({id:"editor.action.insertLineBefore",label:_("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:3075,weight:100}})}run(i,n){let o=n._getViewModel();o&&(n.pushUndoStop(),n.executeCommands(this.id,m1.lineInsertBefore(o.cursorConfig,n.getModel(),n.getSelections())))}},FP=class extends it{constructor(){super({id:"editor.action.insertLineAfter",label:_("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:2051,weight:100}})}run(i,n){let o=n._getViewModel();o&&(n.pushUndoStop(),n.executeCommands(this.id,m1.lineInsertAfter(o.cursorConfig,n.getModel(),n.getSelections())))}},bE=class extends it{run(i,n){if(!n.hasModel())return;let o=n.getSelection(),r=this._getRangesToDelete(n),s=[];for(let u=0,d=r.length-1;u<d;u++){let h=r[u],p=r[u+1];Me.intersectRanges(h,p)===null?s.push(h):r[u+1]=Me.plusRange(h,p)}s.push(r[r.length-1]);let l=this._getEndCursorState(o,s),c=s.map(u=>on.replace(u,""));n.pushUndoStop(),n.executeEdits(this.id,c,l),n.pushUndoStop()}},TP=class extends bE{constructor(){super({id:"deleteAllLeft",label:_("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(i,n){let o=null,r=[],s=0;return n.forEach(l=>{let c;if(l.endColumn===1&&s>0){let u=l.startLineNumber-s;c=new Ct(u,l.startColumn,u,l.startColumn)}else c=new Ct(l.startLineNumber,l.startColumn,l.startLineNumber,l.startColumn);s+=l.endLineNumber-l.startLineNumber,l.intersectRanges(i)?o=c:r.push(c)}),o&&r.unshift(o),r}_getRangesToDelete(i){let n=i.getSelections();if(n===null)return[];let o=n,r=i.getModel();return r===null?[]:(o.sort(Me.compareRangesUsingStarts),o=o.map(s=>{if(s.isEmpty())if(s.startColumn===1){let l=Math.max(1,s.startLineNumber-1),c=s.startLineNumber===1?1:r.getLineContent(l).length+1;return new Me(l,c,s.startLineNumber,1)}else return new Me(s.startLineNumber,1,s.startLineNumber,s.startColumn);else return new Me(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),o)}},PP=class extends bE{constructor(){super({id:"deleteAllRight",label:_("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(i,n){let o=null,r=[];for(let s=0,l=n.length,c=0;s<l;s++){let u=n[s],d=new Ct(u.startLineNumber-c,u.startColumn,u.startLineNumber-c,u.startColumn);u.intersectRanges(i)?o=d:r.push(d)}return o&&r.unshift(o),r}_getRangesToDelete(i){let n=i.getModel();if(n===null)return[];let o=i.getSelections();if(o===null)return[];let r=o.map(s=>{if(s.isEmpty()){let l=n.getLineMaxColumn(s.startLineNumber);return s.startColumn===l?new Me(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new Me(s.startLineNumber,s.startColumn,s.startLineNumber,l)}return s});return r.sort(Me.compareRangesUsingStarts),r}},LP=class extends it{constructor(){super({id:"editor.action.joinLines",label:_("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:Ie.writable,kbOpts:{kbExpr:Ie.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(i,n){let o=n.getSelections();if(o===null)return;let r=n.getSelection();if(r===null)return;o.sort(Me.compareRangesUsingStarts);let s=[],l=o.reduce((g,f)=>g.isEmpty()?g.endLineNumber===f.startLineNumber?(r.equalsSelection(g)&&(r=f),f):f.startLineNumber>g.endLineNumber+1?(s.push(g),f):new Ct(g.startLineNumber,g.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>g.endLineNumber?(s.push(g),f):new Ct(g.startLineNumber,g.startColumn,f.endLineNumber,f.endColumn));s.push(l);let c=n.getModel();if(c===null)return;let u=[],d=[],h=r,p=0;for(let g=0,f=s.length;g<f;g++){let y=s[g],M=y.startLineNumber,k=1,G=0,J,$,_e=c.getLineContent(y.endLineNumber).length-y.endColumn;if(y.isEmpty()||y.startLineNumber===y.endLineNumber){let $e=y.getStartPosition();$e.lineNumber<c.getLineCount()?(J=M+1,$=c.getLineMaxColumn(J)):(J=$e.lineNumber,$=c.getLineMaxColumn($e.lineNumber))}else J=y.endLineNumber,$=c.getLineMaxColumn(J);let Fe=c.getLineContent(M);for(let $e=M+1;$e<=J;$e++){let nt=c.getLineContent($e),lt=c.getLineFirstNonWhitespaceColumn($e);if(lt>=1){let Lt=!0;Fe===""&&(Lt=!1),Lt&&(Fe.charAt(Fe.length-1)===" "||Fe.charAt(Fe.length-1)==="	")&&(Lt=!1,Fe=Fe.replace(/[\s\uFEFF\xA0]+$/g," "));let Jt=nt.substr(lt-1);Fe+=(Lt?" ":"")+Jt,Lt?G=Jt.length+1:G=Jt.length}else G=0}let Pe=new Me(M,k,J,$);if(!Pe.isEmpty()){let $e;y.isEmpty()?(u.push(on.replace(Pe,Fe)),$e=new Ct(Pe.startLineNumber-p,Fe.length-G+1,M-p,Fe.length-G+1)):y.startLineNumber===y.endLineNumber?(u.push(on.replace(Pe,Fe)),$e=new Ct(y.startLineNumber-p,y.startColumn,y.endLineNumber-p,y.endColumn)):(u.push(on.replace(Pe,Fe)),$e=new Ct(y.startLineNumber-p,y.startColumn,y.startLineNumber-p,Fe.length-_e)),Me.intersectRanges(Pe,r)!==null?h=$e:d.push($e)}p+=Pe.endLineNumber-Pe.startLineNumber}d.unshift(h),n.pushUndoStop(),n.executeEdits(this.id,u,d),n.pushUndoStop()}},OP=class extends it{constructor(){super({id:"editor.action.transpose",label:_("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:Ie.writable})}run(i,n){let o=n.getSelections();if(o===null)return;let r=n.getModel();if(r===null)return;let s=[];for(let l=0,c=o.length;l<c;l++){let u=o[l];if(!u.isEmpty())continue;let d=u.getStartPosition(),h=r.getLineMaxColumn(d.lineNumber);if(d.column>=h){if(d.lineNumber===r.getLineCount())continue;let p=new Me(d.lineNumber,Math.max(1,d.column-1),d.lineNumber+1,1),g=r.getValueInRange(p).split("").reverse().join("");s.push(new Au(new Ct(d.lineNumber,Math.max(1,d.column-1),d.lineNumber+1,1),g))}else{let p=new Me(d.lineNumber,Math.max(1,d.column-1),d.lineNumber,d.column+1),g=r.getValueInRange(p).split("").reverse().join("");s.push(new g1(p,g,new Ct(d.lineNumber,d.column+1,d.lineNumber,d.column+1)))}}n.pushUndoStop(),n.executeCommands(this.id,s),n.pushUndoStop()}},T0=class extends it{run(i,n){let o=n.getSelections();if(o===null)return;let r=n.getModel();if(r===null)return;let s=n.getOption(113),l=[];for(let c of o)if(c.isEmpty()){let u=c.getStartPosition(),d=n.getConfiguredWordAtPosition(u);if(!d)continue;let h=new Me(u.lineNumber,d.startColumn,u.lineNumber,d.endColumn),p=r.getValueInRange(h);l.push(on.replace(h,this._modifyText(p,s)))}else{let u=r.getValueInRange(c);l.push(on.replace(c,this._modifyText(u,s)))}n.pushUndoStop(),n.executeEdits(this.id,l),n.pushUndoStop()}},NP=class extends T0{constructor(){super({id:"editor.action.transformToUppercase",label:_("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:Ie.writable})}_modifyText(i,n){return i.toLocaleUpperCase()}},BP=class extends T0{constructor(){super({id:"editor.action.transformToLowercase",label:_("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:Ie.writable})}_modifyText(i,n){return i.toLocaleLowerCase()}},VP=class extends T0{constructor(){super({id:"editor.action.transformToTitlecase",label:_("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:Ie.writable})}_modifyText(i,n){let r=(`\r
	 `+n).split(""),s="",l=!0;for(let c=0;c<i.length;c++){let u=i[c];r.indexOf(u)>=0?(l=!0,s+=u):l?(l=!1,s+=u.toLocaleUpperCase()):s+=u.toLocaleLowerCase()}return s}},yE=class{constructor(i,n){this._pattern=i,this._flags=n,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}},$g=class e extends T0{constructor(){super({id:"editor.action.transformToSnakecase",label:_("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:Ie.writable})}_modifyText(i,n){let o=e.regExp1.get(),r=e.regExp2.get();return!o||!r?i:i.replace(o,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase()}};$g.regExp1=new yE("(\\p{Ll})(\\p{Lu})","gmu");$g.regExp2=new yE("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");Ue(yP);Ue(SP);Ue(_P);Ue(xP);Ue(DP);Ue(EP);Ue(IP);Ue(ace);Ue(MP);Ue(RP);Ue(kP);Ue(AP);Ue(FP);Ue(TP);Ue(PP);Ue(LP);Ue(OP);Ue(NP);Ue(BP);Ue(VP);$g.regExp1.isSupported()&&$g.regExp2.isSupported()&&Ue($g);Ot();Kt();kn();bt();Xn();Un();zt();zi();ln();Lo();Pi();Zi();Fo();zo();Mi();Bn();Cn();Bi();Tl();Eu();var lce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},cce=function(e,i){return function(n,o){i(n,o,e)}},HP=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Vj=new ii("LinkedEditingInputVisible",!1),Hj="linked-editing-decoration",fp=class zP extends yt{constructor(i,n){super(),this._debounceDuration=200,this._localToDispose=this._register(new Je),this._editor=i,this._enabled=!1,this._visibleContextKey=Vj.bindTo(n),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Je),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(o=>{(o.hasChanged(58)||o.hasChanged(78))&&this.reinitialize()})),this._register(TS.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(i){return i.getContribution(zP.ID)}reinitialize(){let i=this._editor.getModel(),n=i!==null&&(this._editor.getOption(58)||this._editor.getOption(78))&&TS.has(i);if(n===this._enabled||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||i===null))return;this._languageWordPattern=Xi.getWordDefinition(i.getLanguageIdentifier().id),this._localToDispose.add(i.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=Xi.getWordDefinition(i.getLanguageIdentifier().id)}));let o=new _a(this._debounceDuration),r=()=>{this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),this._debounceDuration)},s=new _a(0),l=c=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(c))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{r()})),this._localToDispose.add(this._editor.onDidChangeModelContent(c=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){let u=i.getDecorationRange(this._currentDecorations[0]);if(u&&c.changes.every(d=>u.intersectRanges(d.range))){l(this._currentDecorations);return}}r()})),this._localToDispose.add({dispose:()=>{o.cancel(),s.cancel()}}),this.updateRanges()}_syncRanges(i){if(!this._editor.hasModel()||i!==this._currentDecorations||i.length===0)return;let n=this._editor.getModel(),o=n.getDecorationRange(i[0]);if(!o||o.startLineNumber!==o.endLineNumber)return this.clearRanges();let r=n.getValueInRange(o);if(this._currentWordPattern){let l=r.match(this._currentWordPattern);if((l?l[0].length:0)!==r.length)return this.clearRanges()}let s=[];for(let l=1,c=i.length;l<c;l++){let u=n.getDecorationRange(i[l]);if(u)if(u.startLineNumber!==u.endLineNumber)s.push({range:u,text:r});else{let d=n.getValueInRange(u),h=r,p=u.startColumn,g=u.endColumn,f=Hf(d,h);p+=f,d=d.substr(f),h=h.substr(f);let y=h8(d,h);g-=y,d=d.substr(0,d.length-y),h=h.substr(0,h.length-y),(p!==g||h.length!==0)&&s.push({range:new Me(u.startLineNumber,p,u.endLineNumber,g),text:h})}}if(s.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;let l=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(l)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(i=!1){return HP(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}let n=this._editor.getPosition();if(!this._enabled&&!i||this._editor.getSelections().length>1){this.clearRanges();return}let o=this._editor.getModel(),r=o.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(n.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){let l=o.getDecorationRange(this._currentDecorations[0]);if(l&&l.containsPosition(n))return}}this._currentRequestPosition=n,this._currentRequestModelVersion=r;let s=Ui(l=>HP(this,void 0,void 0,function*(){try{let c=yield zj(o,n,l);if(s!==this._currentRequest||(this._currentRequest=null,r!==o.getVersionId()))return;let u=[];c?.ranges&&(u=c.ranges),this._currentWordPattern=c?.wordPattern||this._languageWordPattern;let d=!1;for(let p=0,g=u.length;p<g;p++)if(Me.containsPosition(u[p],n)){if(d=!0,p!==0){let f=u[p];u.splice(p,1),u.unshift(f)}break}if(!d){this.clearRanges();return}let h=u.map(p=>({range:p,options:zP.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,h)}catch(c){Ml(c)||qt(c),(this._currentRequest===s||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=s,s})}};fp.ID="editor.contrib.linkedEditing";fp.DECORATION=ri.register({stickiness:0,className:Hj});fp=lce([cce(1,$t)],fp);var GP=class extends it{constructor(){super({id:"editor.action.linkedEditing",label:_("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:st.and(Ie.writable,Ie.hasRenameProvider),kbOpts:{kbExpr:Ie.editorTextFocus,primary:3132,weight:100}})}runCommand(i,n){let o=i.get(Ri),[r,s]=Array.isArray(n)&&n||[void 0,void 0];return ui.isUri(r)&&It.isIPosition(s)?o.openCodeEditor({resource:r},o.getActiveCodeEditor()).then(l=>{l&&(l.setPosition(s),l.invokeWithinContext(c=>(this.reportTelemetry(c,l),this.run(c,l))))},qt):super.runCommand(i,n)}run(i,n){let o=fp.get(n);return o?Promise.resolve(o.updateRanges(!0)):Promise.resolve()}},uce=Fn.bindToContribution(fp.get);gt(new uce({id:"cancelLinkedEditingInput",precondition:Vj,handler:e=>e.clearRanges(),kbOpts:{kbExpr:Ie.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function zj(e,i,n){let o=TS.ordered(e);return SS(o.map(r=>()=>HP(this,void 0,void 0,function*(){try{return yield r.provideLinkedEditingRanges(e,i,n)}catch(s){gn(s);return}})),r=>!!r&&fo(r?.ranges))}var dce=xt("editor.linkedEditingBackground",{dark:fi.fromHex("#f00").transparent(.3),light:fi.fromHex("#f00").transparent(.3),hc:fi.fromHex("#f00").transparent(.3)},_("editorLinkedEditingBackground","Background color when the editor auto renames on type."));oi((e,i)=>{let n=e.getColor(dce);n&&i.addRule(`.monaco-editor .${Hj} { background: ${n}; border-left-color: ${n}; }`)});Wr("_executeLinkedEditingProvider",(e,i)=>zj(e,i,ti.None));Mt(fp.ID,fp);Ue(GP);Ot();ln();Un();Mi();bt();ba();Kt();Lo();zi();Un();Mi();Fo();zt();zi();Eh();xo();bt();kn();To();var Gj=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},jP=class{constructor(i,n){this._link=i,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(i){return Gj(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,i)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(i):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}},SE=class e{constructor(i){this._disposables=new Je;let n=[];for(let[o,r]of i){let s=o.links.map(l=>new jP(l,r));n=e._union(n,s),vS(o)&&this._disposables.add(o)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(i,n){let o=[],r,s,l,c;for(r=0,l=0,s=i.length,c=n.length;r<s&&l<c;){let u=i[r],d=n[l];if(Me.areIntersectingOrTouching(u.range,d.range)){r++;continue}Me.compareRangesUsingStarts(u.range,d.range)<0?(o.push(u),r++):(o.push(d),l++)}for(;r<s;r++)o.push(i[r]);for(;l<c;l++)o.push(n[l]);return o}};function UP(e,i){let n=[],o=jv.ordered(e).reverse().map((r,s)=>Promise.resolve(r.provideLinks(e,i)).then(l=>{l&&(n[s]=[l,r])},gn));return Promise.all(o).then(()=>{let r=new SE(Rs(n));return i.isCancellationRequested?(r.dispose(),new SE([])):r})}_i.registerCommand("_executeLinkProvider",(e,...i)=>Gj(void 0,void 0,void 0,function*(){let[n,o]=i;nn(n instanceof ui),typeof o!="number"&&(o=0);let r=e.get(Po).getModel(n);if(!r)return[];let s=yield UP(r,ti.None);if(!s)return[];for(let c=0;c<Math.min(o,s.links.length);c++)yield s.links[c].resolve(ti.None);let l=s.links.slice(0);return s.dispose(),l}));xu();Cn();Bi();Fo();Ov();Ms();var hce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Wj=function(e,i){return function(n,o){i(n,o,e)}},pce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})};function gce(e,i){let n=e.url&&/^command:/i.test(e.url.toString()),o=e.tooltip?e.tooltip:n?_("links.navigate.executeCmd","Execute command"):_("links.navigate.follow","Follow link"),r=i?rr?_("links.navigate.kb.meta.mac","cmd + click"):_("links.navigate.kb.meta","ctrl + click"):rr?_("links.navigate.kb.alt.mac","option + click"):_("links.navigate.kb.alt","alt + click");if(e.url){let s="";if(/^command:/i.test(e.url.toString())){let c=e.url.toString().match(/^command:([^?#]+)/);if(c){let u=c[1];s=` "${_("tooltip.explanation","Execute command {0}",u)}"`}}return new Zo("",!0).appendMarkdown(`[${o}](${e.url.toString(!0)}${s}) (${r})`)}else return new Zo().appendText(`${o} (${r})`)}var jj={general:ri.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:ri.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},_E=class e{constructor(i,n){this.link=i,this.decorationId=n}static decoration(i,n){return{range:i.range,options:e._getOptions(i,n,!1)}}static _getOptions(i,n,o){let r=Object.assign({},o?jj.active:jj.general);return r.hoverMessage=gce(i,n),r}activate(i,n){i.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!0))}deactivate(i,n){i.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!1))}},qg=class $P{constructor(i,n,o){this.listenersToRemove=new Je,this.editor=i,this.openerService=n,this.notificationService=o;let r=new y0(i);this.listenersToRemove.add(r),this.listenersToRemove.add(r.onMouseMoveOrRelevantKeyDown(([s,l])=>{this._onEditorMouseMove(s,l)})),this.listenersToRemove.add(r.onExecute(s=>{this.onEditorMouseUp(s)})),this.listenersToRemove.add(r.onCancel(s=>{this.cleanUpActiveLinkDecoration()})),this.enabled=i.getOption(59),this.listenersToRemove.add(i.onDidChangeConfiguration(s=>{let l=i.getOption(59);this.enabled!==l&&(this.enabled=l,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(i.onDidChangeModelContent(s=>this.onChange())),this.listenersToRemove.add(i.onDidChangeModel(s=>this.onModelChanged())),this.listenersToRemove.add(i.onDidChangeModelLanguage(s=>this.onModelModeChanged())),this.listenersToRemove.add(jv.onDidChange(s=>this.onModelModeChanged())),this.timeout=new Nr,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(i){return i.getContribution($P.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),$P.RECOMPUTE_TIME)}beginCompute(){return pce(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.enabled)return;let i=this.editor.getModel();if(jv.has(i)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Ui(n=>UP(i,n));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(n){qt(n)}finally{this.computePromise=null}}})}updateDecorations(i){let n=this.editor.getOption(66)==="altKey",o=[],r=Object.keys(this.currentOccurrences);for(let c=0,u=r.length;c<u;c++){let d=r[c],h=this.currentOccurrences[d];o.push(h.decorationId)}let s=[];if(i)for(let c of i)s.push(_E.decoration(c,n));let l=this.editor.deltaDecorations(o,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let c=0,u=l.length;c<u;c++){let d=new _E(i[c],l[c]);this.currentOccurrences[d.decorationId]=d}}_onEditorMouseMove(i,n){let o=this.editor.getOption(66)==="altKey";if(this.isEnabled(i,n)){this.cleanUpActiveLinkDecoration();let r=this.getLinkOccurrence(i.target.position);r&&this.editor.changeDecorations(s=>{r.activate(s,o),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){let i=this.editor.getOption(66)==="altKey";if(this.activeLinkDecorationId){let n=this.currentOccurrences[this.activeLinkDecorationId];n&&this.editor.changeDecorations(o=>{n.deactivate(o,i)}),this.activeLinkDecorationId=null}}onEditorMouseUp(i){if(!this.isEnabled(i))return;let n=this.getLinkOccurrence(i.target.position);n&&this.openLinkOccurrence(n,i.hasSideBySideModifier,!0)}openLinkOccurrence(i,n,o=!1){if(!this.openerService)return;let{link:r}=i;r.resolve(ti.None).then(s=>{if(typeof s=="string"&&this.editor.hasModel()){let l=this.editor.getModel().uri;if(l.scheme===po.file&&s.startsWith(`${po.file}:`)){let c=ui.parse(s);if(c.scheme===po.file){let u=y8(c),d=null;u.startsWith("/./")?d=`.${u.substr(1)}`:u.startsWith("//./")&&(d=`.${u.substr(2)}`),d&&(s=S8(l,d))}}}return this.openerService.open(s,{openToSide:n,fromUserGesture:o,allowContributedOpeners:!0,allowCommands:!0})},s=>{let l=s instanceof Error?s.message:s;l==="invalid"?this.notificationService.warn(_("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):l==="missing"?this.notificationService.warn(_("missing.url","Failed to open this link because its target is missing.")):qt(s)})}getLinkOccurrence(i){if(!this.editor.hasModel()||!i)return null;let n=this.editor.getModel().getDecorationsInRange({startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:i.lineNumber,endColumn:i.column},0,!0);for(let o of n){let r=this.currentOccurrences[o.id];if(r)return r}return null}isEnabled(i,n){return!!(i.target.type===6&&(i.hasTriggerModifier||n&&n.keyCodeIsTriggerKey))}stop(){var i;this.timeout.cancel(),this.activeLinksList&&((i=this.activeLinksList)===null||i===void 0||i.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};qg.ID="editor.linkDetector";qg.RECOMPUTE_TIME=1e3;qg=hce([Wj(1,sr),Wj(2,Sn)],qg);var qP=class extends it{constructor(){super({id:"editor.action.openLink",label:_("label","Open Link"),alias:"Open Link",precondition:void 0})}run(i,n){let o=qg.get(n);if(!o||!n.hasModel())return;let r=n.getSelections();for(let s of r){let l=o.getLinkOccurrence(s.getEndPosition());l&&o.openLinkOccurrence(l,!1)}}};Mt(qg.ID,qg);Ue(qP);oi((e,i)=>{let n=e.getColor(om);n&&i.addRule(`.monaco-editor .detected-link-active { color: ${n} !important; }`)});Ot();ln();Rl();bt();tl();Kt();zt();ho();Zi();Gv();Lo();zi();Cr();Cn();Bi();Pi();function L0(e,i){let n=i.filter(o=>!e.find(r=>r.equals(o)));if(n.length>=1){let o=n.map(s=>`line ${s.viewState.position.lineNumber} column ${s.viewState.position.column}`).join(", "),r=n.length===1?_("cursorAdded","Cursor added: {0}",o):_("cursorsAdded","Cursors added: {0}",o);Q8(r)}}var KP=class extends it{constructor(){super({id:"editor.action.insertCursorAbove",label:_("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(i,n,o){if(!n.hasModel())return;let r=o&&o.logicalLine===!0,s=n._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();let l=s.getCursorStates();s.setCursorStates(o.source,3,xI.addCursorUp(s,l,r)),s.revealTopMostCursor(o.source),L0(l,s.getCursorStates())}},YP=class extends it{constructor(){super({id:"editor.action.insertCursorBelow",label:_("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(i,n,o){if(!n.hasModel())return;let r=o&&o.logicalLine===!0,s=n._getViewModel();if(s.cursorConfig.readOnly)return;s.pushStackElement();let l=s.getCursorStates();s.setCursorStates(o.source,3,xI.addCursorDown(s,l,r)),s.revealBottomMostCursor(o.source),L0(l,s.getCursorStates())}},ZP=class extends it{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(i,n,o){if(!i.isEmpty()){for(let r=i.startLineNumber;r<i.endLineNumber;r++){let s=n.getLineMaxColumn(r);o.push(new Ct(r,s,r,s))}i.endColumn>1&&o.push(new Ct(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn))}}run(i,n){if(!n.hasModel())return;let o=n.getModel(),r=n.getSelections(),s=n._getViewModel(),l=s.getCursorStates(),c=[];r.forEach(u=>this.getCursorsForSelection(u,o,c)),c.length>0&&n.setSelections(c),L0(l,s.getCursorStates())}},QP=class extends it{constructor(){super({id:"editor.action.addCursorsToBottom",label:_("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(i,n){if(!n.hasModel())return;let o=n.getSelections(),r=n.getModel().getLineCount(),s=[];for(let u=o[0].startLineNumber;u<=r;u++)s.push(new Ct(u,o[0].startColumn,u,o[0].endColumn));let l=n._getViewModel(),c=l.getCursorStates();s.length>0&&n.setSelections(s),L0(c,l.getCursorStates())}},XP=class extends it{constructor(){super({id:"editor.action.addCursorsToTop",label:_("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(i,n){if(!n.hasModel())return;let o=n.getSelections(),r=[];for(let c=o[0].startLineNumber;c>=1;c--)r.push(new Ct(c,o[0].startColumn,c,o[0].endColumn));let s=n._getViewModel(),l=s.getCursorStates();r.length>0&&n.setSelections(r),L0(l,s.getCursorStates())}},P0=class{constructor(i,n,o){this.selections=i,this.revealRange=n,this.revealScrollType=o}},xE=class e{constructor(i,n,o,r,s,l,c){this._editor=i,this.findController=n,this.isDisconnectedFromFindController=o,this.searchText=r,this.wholeWord=s,this.matchCase=l,this.currentMatch=c}static create(i,n){if(!i.hasModel())return null;let o=n.getState();if(!i.hasTextFocus()&&o.isRevealed&&o.searchString.length>0)return new e(i,n,!1,o.searchString,o.wholeWord,o.matchCase,null);let r=!1,s,l,c=i.getSelections();c.length===1&&c[0].isEmpty()?(r=!0,s=!0,l=!0):(s=o.wholeWord,l=o.matchCase);let u=i.getSelection(),d,h=null;if(u.isEmpty()){let p=i.getConfiguredWordAtPosition(u.getStartPosition());if(!p)return null;d=p.word,h=new Ct(u.startLineNumber,p.startColumn,u.startLineNumber,p.endColumn)}else d=i.getModel().getValueInRange(u).replace(/\r\n/g,`
`);return new e(i,n,r,d,s,l,h)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let i=this._getNextMatch();if(!i)return null;let n=this._editor.getSelections();return new P0(n.concat(i),i,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;let i=this._getNextMatch();if(!i)return null;let n=this._editor.getSelections();return new P0(n.slice(0,n.length-1).concat(i),i,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();let i=this._editor.getSelections(),n=i[i.length-1],o=this._editor.getModel().findNextMatch(this.searchText,n.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return o?new Ct(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let i=this._getPreviousMatch();if(!i)return null;let n=this._editor.getSelections();return new P0(n.concat(i),i,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;let i=this._getPreviousMatch();if(!i)return null;let n=this._editor.getSelections();return new P0(n.slice(0,n.length-1).concat(i),i,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){let r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();let i=this._editor.getSelections(),n=i[i.length-1],o=this._editor.getModel().findPreviousMatch(this.searchText,n.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return o?new Ct(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1,1073741824)):[]}},DE=(()=>{class e extends yt{constructor(n){super(),this._sessionDispose=this._register(new Je),this._editor=n,this._ignoreSelectionChange=!1,this._session=null}static get(n){return n.getContribution(e.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(n){if(!this._session){let o=xE.create(this._editor,n);if(!o)return;this._session=o;let r={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(r.wholeWordOverride=1,r.matchCaseOverride=1,r.isRegexOverride=2),n.getState().change(r,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(n.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){let n={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(n,!1)}this._session=null}_setSelections(n){this._ignoreSelectionChange=!0,this._editor.setSelections(n),this._ignoreSelectionChange=!1}_expandEmptyToWord(n,o){if(!o.isEmpty())return o;let r=this._editor.getConfiguredWordAtPosition(o.getStartPosition());return r?new Ct(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn):o}_applySessionResult(n){n&&(this._setSelections(n.selections),n.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(n.revealRange,n.revealScrollType))}getSession(n){return this._session}addSelectionToNextFindMatch(n){if(this._editor.hasModel()){if(!this._session){let o=this._editor.getSelections();if(o.length>1){let s=n.getState().matchCase;if(!$j(this._editor.getModel(),o,s)){let c=this._editor.getModel(),u=[];for(let d=0,h=o.length;d<h;d++)u[d]=this._expandEmptyToWord(c,o[d]);this._editor.setSelections(u);return}}}this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(n){this._beginSessionIfNeeded(n),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(n){if(!this._editor.hasModel())return;let o=null,r=n.getState();if(r.isRevealed&&r.searchString.length>0&&r.isRegex)o=this._editor.getModel().findMatches(r.searchString,!0,r.isRegex,r.matchCase,r.wholeWord?this._editor.getOption(113):null,!1,1073741824);else{if(this._beginSessionIfNeeded(n),!this._session)return;o=this._session.selectAll()}if(r.searchScope){let s=r.searchScope,l=[];o.forEach(c=>{s.forEach(u=>{c.range.endLineNumber<=u.endLineNumber&&c.range.startLineNumber>=u.startLineNumber&&l.push(c)})}),o=l}if(o.length>0){let s=this._editor.getSelection();for(let l=0,c=o.length;l<c;l++){let u=o[l];if(u.range.intersectRanges(s)){o[l]=o[0],o[0]=u;break}}this._setSelections(o.map(l=>new Ct(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn)))}}}return e.ID="editor.contrib.multiCursorController",e})(),mp=class extends it{run(i,n){let o=DE.get(n);if(!o)return;let r=Ir.get(n);if(!r)return;let s=n._getViewModel();if(s){let l=s.getCursorStates();this._run(o,r),L0(l,s.getCursorStates())}}},JP=class extends mp{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:2082,weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(i,n){i.addSelectionToNextFindMatch(n)}},eL=class extends mp{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:jt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(i,n){i.addSelectionToPreviousFindMatch(n)}},tL=class extends mp{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:an(2089,2082),weight:100}})}_run(i,n){i.moveSelectionToNextFindMatch(n)}},iL=class extends mp{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(i,n){i.moveSelectionToPreviousFindMatch(n)}},nL=class extends mp{constructor(){super({id:"editor.action.selectHighlights",label:_("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:3114,weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"3_multi",title:_({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(i,n){i.selectAll(n)}},oL=class extends mp{constructor(){super({id:"editor.action.changeAll",label:_("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:st.and(Ie.writable,Ie.editorTextFocus),kbOpts:{kbExpr:Ie.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(i,n){i.selectAll(n)}},EE=class{constructor(i,n,o,r){this.searchText=i,this.matchCase=n,this.wordSeparators=o,this.modelVersionId=r}static softEquals(i,n){return!i&&!n?!0:!i||!n?!1:i.searchText===n.searchText&&i.matchCase===n.matchCase&&i.wordSeparators===n.wordSeparators&&i.modelVersionId===n.modelVersionId}},Kg=class e extends yt{constructor(i){super(),this.editor=i,this._isEnabled=i.getOption(94),this.decorations=[],this.updateSoon=this._register(new $n(()=>this._update(),300)),this.state=null,this._register(i.onDidChangeConfiguration(n=>{this._isEnabled=i.getOption(94)})),this._register(i.onDidChangeCursorSelection(n=>{this._isEnabled&&(n.selection.isEmpty()?n.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(i.onDidChangeModel(n=>{this._setState(null)})),this._register(i.onDidChangeModelContent(n=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(Ir.get(i).getState().onFindReplaceStateChange(n=>{this._update()}))}_update(){this._setState(e._createState(this._isEnabled,this.editor))}static _createState(i,n){if(!i||!n.hasModel())return null;let o=n.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;let r=DE.get(n);if(!r)return null;let s=Ir.get(n);if(!s)return null;let l=r.getSession(s);if(!l){let d=n.getSelections();if(d.length>1){let p=s.getState().matchCase;if(!$j(n.getModel(),d,p))return null}l=xE.create(n,s)}if(!l||l.currentMatch||/^[ \t]+$/.test(l.searchText)||l.searchText.length>200)return null;let c=s.getState(),u=c.matchCase;if(c.isRevealed){let d=c.searchString;u||(d=d.toLowerCase());let h=l.searchText;if(u||(h=h.toLowerCase()),d===h&&l.matchCase===c.matchCase&&l.wholeWord===c.wholeWord&&!c.isRegex)return null}return new EE(l.searchText,l.matchCase,l.wholeWord?n.getOption(113):null,n.getModel().getVersionId())}_setState(i){if(EE.softEquals(this.state,i)){this.state=i;return}if(this.state=i,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;let n=this.editor.getModel();if(n.isTooLargeForTokenization())return;let o=Wv.has(n)&&this.editor.getOption(68),r=n.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(u=>u.range);r.sort(Me.compareRangesUsingStarts);let s=this.editor.getSelections();s.sort(Me.compareRangesUsingStarts);let l=[];for(let u=0,d=0,h=r.length,p=s.length;u<h;){let g=r[u];if(d>=p)l.push(g),u++;else{let f=Me.compareRangesUsingStarts(g,s[d]);f<0?((s[d].isEmpty()||!Me.areIntersecting(g,s[d]))&&l.push(g),u++):(f>0||u++,d++)}}let c=l.map(u=>({range:u,options:o?e._SELECTION_HIGHLIGHT:e._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,c)}dispose(){this._setState(null),super.dispose()}};Kg.ID="editor.contrib.selectionHighlighter";Kg._SELECTION_HIGHLIGHT_OVERVIEW=ri.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:cr(u1),position:Hr.Center}});Kg._SELECTION_HIGHLIGHT=ri.register({stickiness:1,className:"selectionHighlight"});function $j(e,i,n){let o=Uj(e,i[0],!n);for(let r=1,s=i.length;r<s;r++){let l=i[r];if(l.isEmpty())return!1;let c=Uj(e,l,!n);if(o!==c)return!1}return!0}function Uj(e,i,n){let o=e.getValueInRange(i);return n?o.toLowerCase():o}Mt(DE.ID,DE);Mt(Kg.ID,Kg);Ue(KP);Ue(YP);Ue(ZP);Ue(JP);Ue(eL);Ue(tL);Ue(iL);Ue(nL);Ue(oL);Ue(QP);Ue(XP);Ot();bt();yn();Zi();Pi();Kt();Yi();G3();tl();tn();bt();Rh();Mi();Xn();zi();Pi();Un();xo();Fo();To();Up();var qj=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},lh={Visible:new ii("parameterHintsVisible",!1),MultipleSignatures:new ii("parameterHintsMultipleSignatures",!1)};function rL(e,i,n,o){return qj(this,void 0,void 0,function*(){let r=$f.ordered(e);for(let s of r)try{let l=yield s.provideSignatureHelp(e,i,o,n);if(l)return l}catch(l){gn(l)}})}_i.registerCommand("_executeSignatureHelpProvider",(e,...i)=>qj(void 0,void 0,void 0,function*(){let[n,o,r]=i;nn(ui.isUri(n)),nn(It.isIPosition(o)),nn(typeof r=="string"||!r);let s=yield e.get(Gr).createModelReference(n);try{let l=yield rL(s.object.textEditorModel,It.lift(o),{triggerKind:Ta.Invoke,isRetrigger:!1,triggerCharacter:r},ti.None);return l?(setTimeout(()=>l.dispose(),0),l.value):void 0}finally{s.dispose()}}));Ot();Pi();xu();Cn();Bi();ln();Mi();tn();bt();lI();zi();var fce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},vp;(function(e){e.Default={type:0};class i{constructor(r,s){this.request=r,this.previouslyActiveHints=s,this.type=2}}e.Pending=i;class n{constructor(r){this.hints=r,this.type=1}}e.Active=n})(vp||(vp={}));var Kj=(()=>{class e extends yt{constructor(n,o=e.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new vt),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=vp.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Ao),this.triggerChars=new Iu,this.retriggerChars=new Iu,this.triggerId=0,this.editor=n,this.throttledDelayer=new _a(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(r=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(r=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(r=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent(r=>this.onModelContentChange())),this._register($f.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(r=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(n){this._state.type===2&&this._state.request.cancel(),this._state=n}cancel(n=!1){this.state=vp.Default,this.throttledDelayer.cancel(),n||this._onChangedHints.fire(void 0)}trigger(n,o){let r=this.editor.getModel();if(!r||!$f.has(r))return;let s=++this.triggerId;this._pendingTriggers.push(n),this.throttledDelayer.trigger(()=>this.doTrigger(s),o).catch(qt)}next(){if(this.state.type!==1)return;let n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o%n===n-1,s=this.editor.getOption(72).cycle;if((n<2||r)&&!s){this.cancel();return}this.updateActiveSignature(r&&s?0:o+1)}previous(){if(this.state.type!==1)return;let n=this.state.hints.signatures.length,o=this.state.hints.activeSignature,r=o===0,s=this.editor.getOption(72).cycle;if((n<2||r)&&!s){this.cancel();return}this.updateActiveSignature(r&&s?n-1:o-1)}updateActiveSignature(n){this.state.type===1&&(this.state=new vp.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:n})),this._onChangedHints.fire(this.state.hints))}doTrigger(n){return fce(this,void 0,void 0,function*(){let o=this.state.type===1||this.state.type===2,r=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;let s=this._pendingTriggers.reduce(mce);this._pendingTriggers=[];let l={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:o,activeSignatureHelp:r};if(!this.editor.hasModel())return!1;let c=this.editor.getModel(),u=this.editor.getPosition();this.state=new vp.Pending(Ui(d=>rL(c,u,l,d)),r);try{let d=yield this.state.request;return n!==this.triggerId?(d?.dispose(),!1):!d||!d.value.signatures||d.value.signatures.length===0?(d?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new vp.Active(d.value),this._lastSignatureHelpResult.value=d,this._onChangedHints.fire(this.state.hints),!0)}catch(d){return n===this.triggerId&&(this.state=vp.Default),qt(d),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new Iu,this.retriggerChars=new Iu;let n=this.editor.getModel();if(n)for(let o of $f.ordered(n)){for(let r of o.signatureHelpTriggerCharacters||[])this.triggerChars.add(r.charCodeAt(0)),this.retriggerChars.add(r.charCodeAt(0));for(let r of o.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(r.charCodeAt(0))}}onDidType(n){if(!this.triggerOnType)return;let o=n.length-1,r=n.charCodeAt(o);(this.triggerChars.has(r)||this.isTriggered&&this.retriggerChars.has(r))&&this.trigger({triggerKind:Ta.TriggerCharacter,triggerCharacter:n.charAt(o)})}onCursorChange(n){n.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Ta.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Ta.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(72).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return e.DEFAULT_DELAY=120,e})();function mce(e,i){switch(i.triggerKind){case Ta.Invoke:return i;case Ta.ContentChange:return e;case Ta.TriggerCharacter:default:return i}}Bn();zr();To();fI();var vce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},sL=function(e,i){return function(n,o){i(n,o,e)}},is=ht,Cce=Eo("parameter-hints-next",pt.chevronDown,_("parameterHintsNextIcon","Icon for show next parameter hint.")),wce=Eo("parameter-hints-previous",pt.chevronUp,_("parameterHintsPreviousIcon","Icon for show previous parameter hint.")),ty=class Yj extends yt{constructor(i,n,o,r){super(),this.editor=i,this.renderDisposeables=this._register(new Je),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new fl({editor:i},r,o)),this.model=this._register(new Kj(i)),this.keyVisible=lh.Visible.bindTo(n),this.keyMultipleSignatures=lh.MultipleSignatures.bindTo(n),this._register(this.model.onChangedHints(s=>{s?(this.show(),this.render(s)):this.hide()}))}createParamaterHintDOMNodes(){let i=is(".editor-widget.parameter-hints-widget"),n=ut(i,is(".phwrapper"));n.tabIndex=-1;let o=ut(n,is(".controls")),r=ut(o,is(".button"+An.asCSSSelector(wce))),s=ut(o,is(".overloads")),l=ut(o,is(".button"+An.asCSSSelector(Cce))),c=z3(Su(r,"click"));this._register(c(this.previous,this));let u=z3(Su(l,"click"));this._register(u(this.next,this));let d=is(".body"),h=new sm(d,{});this._register(h),n.appendChild(h.getDomNode());let p=ut(d,is(".signature")),g=ut(d,is(".docs"));i.style.userSelect="text",this.domNodes={element:i,signature:p,overloads:s,docs:g,scrollbar:h},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(y=>{this.visible&&this.editor.layoutContentWidget(this)}));let f=()=>{if(!this.domNodes)return;let y=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${y.fontSize}px`};f(),this._register(So.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(y=>y.hasChanged(40)).on(f,null)),this._register(this.editor.onDidLayoutChange(y=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(i){var n;if(this.renderDisposeables.clear(),!this.domNodes)return;let o=i.signatures.length>1;this.domNodes.element.classList.toggle("multiple",o),this.keyMultipleSignatures.set(o),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";let r=i.signatures[i.activeSignature];if(!r)return;let s=ut(this.domNodes.signature,is(".code")),l=this.editor.getOption(40);s.style.fontSize=`${l.fontSize}px`,s.style.fontFamily=l.fontFamily;let c=r.parameters.length>0,u=(n=r.activeParameter)!==null&&n!==void 0?n:i.activeParameter;if(c)this.renderParameters(s,r,u);else{let p=ut(s,is("span"));p.textContent=r.label}let d=r.parameters[u];if(d?.documentation){let p=is("span.documentation");if(typeof d.documentation=="string")p.textContent=d.documentation;else{let g=this.renderMarkdownDocs(d.documentation);p.appendChild(g.element)}ut(this.domNodes.docs,is("p",{},p))}if(r.documentation!==void 0)if(typeof r.documentation=="string")ut(this.domNodes.docs,is("p",{},r.documentation));else{let p=this.renderMarkdownDocs(r.documentation);ut(this.domNodes.docs,p.element)}let h=this.hasDocs(r,d);if(this.domNodes.signature.classList.toggle("has-docs",h),this.domNodes.docs.classList.toggle("empty",!h),this.domNodes.overloads.textContent=String(i.activeSignature+1).padStart(i.signatures.length.toString().length,"0")+"/"+i.signatures.length,d){let p=this.getParameterLabel(r,u);this.announcedLabel!==p&&(Kn(_("hint","{0}, hint",p)),this.announcedLabel=p)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(i){let n=this.renderDisposeables.add(this.markdownRenderer.render(i,{asyncRenderCallback:()=>{var o;(o=this.domNodes)===null||o===void 0||o.scrollbar.scanDomNode()}}));return n.element.classList.add("markdown-docs"),n}hasDocs(i,n){return!!(n&&typeof n.documentation=="string"&&zv(n.documentation).length>0||n&&typeof n.documentation=="object"&&zv(n.documentation).value.length>0||i.documentation&&typeof i.documentation=="string"&&zv(i.documentation).length>0||i.documentation&&typeof i.documentation=="object"&&zv(i.documentation.value).length>0)}renderParameters(i,n,o){let[r,s]=this.getParameterLabelOffsets(n,o),l=document.createElement("span");l.textContent=n.label.substring(0,r);let c=document.createElement("span");c.textContent=n.label.substring(r,s),c.className="parameter active";let u=document.createElement("span");u.textContent=n.label.substring(s),ut(i,l,c,u)}getParameterLabel(i,n){let o=i.parameters[n];return Array.isArray(o.label)?i.label.substring(o.label[0],o.label[1]):o.label}getParameterLabelOffsets(i,n){let o=i.parameters[n];if(o){if(Array.isArray(o.label))return o.label;if(o.label.length){let r=new RegExp(`(\\W|^)${_u(o.label)}(?=\\W|$)`,"g");r.test(i.label);let s=r.lastIndex-o.label.length;return s>=0?[s,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return Yj.ID}trigger(i){this.model.trigger(i,0)}updateMaxHeight(){if(!this.domNodes)return;let n=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=n;let o=this.domNodes.element.getElementsByClassName("phwrapper");o.length&&(o[0].style.maxHeight=n)}};ty.ID="editor.widget.parameterHintsWidget";ty=vce([sL(1,$t),sL(2,sr),sL(3,ar)],ty);oi((e,i)=>{let n=e.getColor(nm);if(n){let c=e.type===Qf.HIGH_CONTRAST?2:1;i.addRule(`.monaco-editor .parameter-hints-widget { border: ${c}px solid ${n}; }`),i.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${n.transparent(.5)}; }`),i.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${n.transparent(.5)}; }`)}let o=e.getColor(ku);o&&i.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${o}; }`);let r=e.getColor(Pl);r&&i.addRule(`.monaco-editor .parameter-hints-widget a { color: ${r}; }`);let s=e.getColor(im);s&&i.addRule(`.monaco-editor .parameter-hints-widget { color: ${s}; }`);let l=e.getColor(Jf);l&&i.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${l}; }`)});zi();var bce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},yce=function(e,i){return function(n,o){i(n,o,e)}},Yg=class Zj extends yt{constructor(i,n){super(),this.editor=i,this.widget=this._register(n.createInstance(ty,this.editor))}static get(i){return i.getContribution(Zj.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(i){this.widget.trigger(i)}};Yg.ID="editor.controller.parameterHints";Yg=bce([yce(1,hi)],Yg);var aL=class extends it{constructor(){super({id:"editor.action.triggerParameterHints",label:_("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:Ie.hasSignatureHelpProvider,kbOpts:{kbExpr:Ie.editorTextFocus,primary:3082,weight:100}})}run(i,n){let o=Yg.get(n);o&&o.trigger({triggerKind:Ta.Invoke})}};Mt(Yg.ID,Yg);Ue(aL);var lL=175,cL=Fn.bindToContribution(Yg.get);gt(new cL({id:"closeParameterHints",precondition:lh.Visible,handler:e=>e.cancel(),kbOpts:{weight:lL,kbExpr:Ie.focus,primary:9,secondary:[1033]}}));gt(new cL({id:"showPrevParameterHint",precondition:st.and(lh.Visible,lh.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:lL,kbExpr:Ie.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));gt(new cL({id:"showNextParameterHint",precondition:st.and(lh.Visible,lh.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:lL,kbExpr:Ie.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));Ot();Mi();Pi();Zp();Kt();Zi();bt();Xn();Ot();Pi();Cn();Bi();hs();var Sce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},uL=function(e,i){return function(n,o){i(n,o,e)}},iy=new ii("renameInputVisible",!1,_("renameInputVisible","Whether the rename input widget is visible")),IE=class{constructor(i,n,o,r,s){this._editor=i,this._acceptKeybindings=n,this._themeService=o,this._keybindingService=r,this._disposables=new Je,this.allowEditorOverflow=!0,this._visibleContextKey=iy.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(40)&&this._updateFont()})),this._disposables.add(o.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",_("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);let i=()=>{var n,o;let[r,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(r),this._label.innerText=_({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(n=this._keybindingService.lookupKeybinding(r))===null||n===void 0?void 0:n.getLabel(),(o=this._keybindingService.lookupKeybinding(s))===null||o===void 0?void 0:o.getLabel())};i(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(i)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(i){var n,o,r,s;if(!this._input||!this._domNode)return;let l=i.getColor(Nh);this._domNode.style.backgroundColor=String((n=i.getColor(Fs))!==null&&n!==void 0?n:""),this._domNode.style.boxShadow=l?` 0 0 8px 2px ${l}`:"",this._domNode.style.color=String((o=i.getColor(t1))!==null&&o!==void 0?o:""),this._input.style.backgroundColor=String((r=i.getColor(e1))!==null&&r!==void 0?r:"");let c=i.getColor(i1);this._input.style.borderWidth=c?"1px":"0px",this._input.style.borderStyle=c?"solid":"none",this._input.style.borderColor=(s=c?.toString())!==null&&s!==void 0?s:"none"}_updateFont(){if(!this._input||!this._label)return;let i=this._editor.getOption(40);this._input.style.fontFamily=i.fontFamily,this._input.style.fontWeight=i.fontWeight,this._input.style.fontSize=`${i.fontSize}px`,this._label.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){this._currentAcceptInput&&this._currentAcceptInput(i)}cancelInput(i){this._currentCancelInput&&this._currentCancelInput(i)}getInput(i,n,o,r,s,l){this._domNode.classList.toggle("preview",s),this._position=new It(i.startLineNumber,i.startColumn),this._input.value=n,this._input.setAttribute("selectionStart",o.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((i.endColumn-i.startColumn)*1.1,20);let c=new Je;return new Promise(u=>{this._currentCancelInput=d=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,u(d),!0),this._currentAcceptInput=d=>{if(this._input.value.trim().length===0||this._input.value===n){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,u({newName:this._input.value,wantsPreview:s&&d})},l.onCancellationRequested(()=>this.cancelInput(!0)),c.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{c.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};IE=Sce([uL(2,Jn),uL(3,In),uL(4,$t)],IE);zi();Xn();tl();zt();Kp();Fo();zo();Un();bt();ln();VS();yn();Yf();HZ();VZ();To();var _ce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},O0=function(e,i){return function(n,o){i(n,o,e)}},N0=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},ME=class{constructor(i,n){this.model=i,this.position=n,this._providerRenameIdx=0,this._providers=T8.ordered(i)}hasProvider(){return this._providers.length>0}resolveRenameLocation(i){return N0(this,void 0,void 0,function*(){let n=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){let r=this._providers[this._providerRenameIdx];if(!r.resolveRenameLocation)break;let s=yield r.resolveRenameLocation(this.model,this.position,i);if(s){if(s.rejectReason){n.push(s.rejectReason);continue}return s}}let o=this.model.getWordAtPosition(this.position);return o?{range:new Me(this.position.lineNumber,o.startColumn,this.position.lineNumber,o.endColumn),text:o.word,rejectReason:n.length>0?n.join(`
`):void 0}:{range:Me.fromPositions(this.position),text:"",rejectReason:n.length>0?n.join(`
`):void 0}})}provideRenameEdits(i,n){return N0(this,void 0,void 0,function*(){return this._provideRenameEdits(i,this._providerRenameIdx,[],n)})}_provideRenameEdits(i,n,o,r){return N0(this,void 0,void 0,function*(){let s=this._providers[n];if(!s)return{edits:[],rejectReason:o.join(`
`)};let l=yield s.provideRenameEdits(this.model,this.position,i,r);if(l){if(l.rejectReason)return this._provideRenameEdits(i,n+1,o.concat(l.rejectReason),r)}else return this._provideRenameEdits(i,n+1,o.concat(_("no result","No result.")),r);return l})}};function xce(e,i,n){return N0(this,void 0,void 0,function*(){let o=new ME(e,i),r=yield o.resolveRenameLocation(ti.None);return r?.rejectReason?{edits:[],rejectReason:r.rejectReason}:o.provideRenameEdits(n,ti.None)})}var Zg=class Qj{constructor(i,n,o,r,s,l,c){this.editor=i,this._instaService=n,this._notificationService=o,this._bulkEditService=r,this._progressService=s,this._logService=l,this._configService=c,this._dispoableStore=new Je,this._cts=new vr,this._renameInputField=this._dispoableStore.add(new Bf(()=>this._dispoableStore.add(this._instaService.createInstance(IE,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(i){return i.getContribution(Qj.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return N0(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;let i=this.editor.getPosition(),n=new ME(this.editor.getModel(),i);if(!n.hasProvider())return;this._cts=new oC(this.editor,5);let o;try{let h=n.resolveRenameLocation(this._cts.token);this._progressService.showWhile(h,250),o=yield h}catch(h){Bo.get(this.editor).showMessage(h||_("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}if(!o)return;if(o.rejectReason){Bo.get(this.editor).showMessage(o.rejectReason,i);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new oC(this.editor,5,o.range);let r=this.editor.getSelection(),s=0,l=o.text.length;!Me.isEmpty(r)&&!Me.spansMultipleLines(r)&&Me.containsRange(o.range,r)&&(s=Math.max(0,r.startColumn-o.range.startColumn),l=Math.min(o.range.endColumn,r.endColumn)-o.range.startColumn);let c=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),u=yield this._renameInputField.value.getInput(o.range,o.text,s,l,c,this._cts.token);if(typeof u=="boolean"){u&&this.editor.focus();return}this.editor.focus();let d=yS(n.provideRenameEdits(u.newName,this._cts.token),this._cts.token).then(h=>N0(this,void 0,void 0,function*(){if(!(!h||!this.editor.hasModel())){if(h.rejectReason){this._notificationService.info(h.rejectReason);return}this._bulkEditService.apply(GS.convert(h),{editor:this.editor,showPreview:u.wantsPreview,label:_("label","Renaming '{0}'",o?.text),quotableLabel:_("quotableLabel","Renaming {0}",o?.text)}).then(p=>{p.ariaSummary&&Kn(_("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,u.newName,p.ariaSummary))}).catch(p=>{this._notificationService.error(_("rename.failedApply","Rename failed to apply edits")),this._logService.error(p)})}}),h=>{this._notificationService.error(_("rename.failed","Rename failed to compute edits")),this._logService.error(h)});return this._progressService.showWhile(d,250),d})}acceptRenameInput(i){this._renameInputField.value.acceptInput(i)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Zg.ID="editor.contrib.renameController";Zg=_ce([O0(1,hi),O0(2,Sn),O0(3,zS),O0(4,Pu),O0(5,Ah),O0(6,z8)],Zg);var dL=class extends it{constructor(){super({id:"editor.action.rename",label:_("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:st.and(Ie.writable,Ie.hasRenameProvider),kbOpts:{kbExpr:Ie.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(i,n){let o=i.get(Ri),[r,s]=Array.isArray(n)&&n||[void 0,void 0];return ui.isUri(r)&&It.isIPosition(s)?o.openCodeEditor({resource:r},o.getActiveCodeEditor()).then(l=>{l&&(l.setPosition(s),l.invokeWithinContext(c=>(this.reportTelemetry(c,l),this.run(c,l))))},qt):super.runCommand(i,n)}run(i,n){let o=Zg.get(n);return o?o.run():Promise.resolve()}};Mt(Zg.ID,Zg);Ue(dL);var hL=Fn.bindToContribution(Zg.get);gt(new hL({id:"acceptRenameInput",precondition:iy,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:Ie.focus,primary:3}}));gt(new hL({id:"acceptRenameInputWithPreview",precondition:st.and(iy,st.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:Ie.focus,primary:1027}}));gt(new hL({id:"cancelRenameInput",precondition:iy,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:Ie.focus,primary:9,secondary:[1033]}}));Wr("_executeDocumentRenameProvider",function(e,i,...n){let[o]=n;return nn(typeof o=="string"),xce(e,i,o)});ks.as(U8.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:_("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});kn();Un();Kt();Xn();zt();ho();Zi();zi();Ot();Cr();zt();Bn();var RE=class{provideSelectionRanges(i,n){let o=[];for(let r of n){let s=[];o.push(s),this._addInWordRanges(s,i,r),this._addWordRanges(s,i,r),this._addWhitespaceLine(s,i,r),s.push({range:i.getFullModelRange()})}return o}_addInWordRanges(i,n,o){let r=n.getWordAtPosition(o);if(!r)return;let{word:s,startColumn:l}=r,c=o.column-l,u=c,d=c,h=0;for(;u>=0;u--){let p=s.charCodeAt(u);if(u!==c&&(p===95||p===45))break;if(Y3(p)&&Z3(h))break;h=p}for(u+=1;d<s.length;d++){let p=s.charCodeAt(d);if(Z3(p)&&Y3(h))break;if(p===95||p===45)break;h=p}u<d&&i.push({range:new Me(o.lineNumber,l+u,o.lineNumber,l+d)})}_addWordRanges(i,n,o){let r=n.getWordAtPosition(o);r&&i.push({range:new Me(o.lineNumber,r.startColumn,o.lineNumber,r.endColumn)})}_addWhitespaceLine(i,n,o){n.getLineLength(o.lineNumber)>0&&n.getLineFirstNonWhitespaceColumn(o.lineNumber)===0&&n.getLineLastNonWhitespaceColumn(o.lineNumber)===0&&i.push({range:new Me(o.lineNumber,1,o.lineNumber,n.getLineMaxColumn(o.lineNumber))})}};Xn();zt();V4();var Dce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},kE=(()=>{class e{provideSelectionRanges(n,o){return Dce(this,void 0,void 0,function*(){let r=[];for(let s of o){let l=[];r.push(l);let c=new Map;yield new Promise(u=>e._bracketsRightYield(u,0,n,s,c)),yield new Promise(u=>e._bracketsLeftYield(u,0,n,s,c,l))}return r})}static _bracketsRightYield(n,o,r,s,l){let c=new Map,u=Date.now();for(;;){if(o>=e._maxRounds){n();break}if(!s){n();break}let d=r.findNextBracket(s);if(!d){n();break}if(Date.now()-u>e._maxDuration){setTimeout(()=>e._bracketsRightYield(n,o+1,r,s,l));break}let p=d.close[0];if(d.isOpen){let g=c.has(p)?c.get(p):0;c.set(p,g+1)}else{let g=c.has(p)?c.get(p):0;if(g-=1,c.set(p,Math.max(0,g)),g<0){let f=l.get(p);f||(f=new CS,l.set(p,f)),f.push(d.range)}}s=d.range.getEndPosition()}}static _bracketsLeftYield(n,o,r,s,l,c){let u=new Map,d=Date.now();for(;;){if(o>=e._maxRounds&&l.size===0){n();break}if(!s){n();break}let h=r.findPrevBracket(s);if(!h){n();break}if(Date.now()-d>e._maxDuration){setTimeout(()=>e._bracketsLeftYield(n,o+1,r,s,l,c));break}let g=h.close[0];if(h.isOpen){let f=u.has(g)?u.get(g):0;if(f-=1,u.set(g,Math.max(0,f)),f<0){let y=l.get(g);if(y){let M=y.shift();y.size===0&&l.delete(g);let k=Me.fromPositions(h.range.getEndPosition(),M.getStartPosition()),G=Me.fromPositions(h.range.getStartPosition(),M.getEndPosition());c.push({range:k}),c.push({range:G}),e._addBracketLeading(r,G,c)}}}else{let f=u.has(g)?u.get(g):0;u.set(g,f+1)}s=h.range.getStartPosition()}}static _addBracketLeading(n,o,r){if(o.startLineNumber===o.endLineNumber)return;let s=o.startLineNumber,l=n.getLineFirstNonWhitespaceColumn(s);l!==0&&l!==o.startColumn&&(r.push({range:Me.fromPositions(new It(s,l),o.getEndPosition())}),r.push({range:Me.fromPositions(new It(s,1),o.getEndPosition())}));let c=s-1;if(c>0){let u=n.getLineFirstNonWhitespaceColumn(c);u===o.startColumn&&u!==n.getLineLastNonWhitespaceColumn(c)&&(r.push({range:Me.fromPositions(new It(c,u),o.getEndPosition())}),r.push({range:Me.fromPositions(new It(c,1),o.getEndPosition())}))}}}return e._maxDuration=30,e._maxRounds=2,e})();xo();Mi();var vL=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},pL=class e{constructor(i,n){this.index=i,this.ranges=n}mov(i){let n=this.index+(i?1:-1);if(n<0||n>=this.ranges.length)return this;let o=new e(n,this.ranges);return o.ranges[n].equalsRange(this.ranges[this.index])?o.mov(i):o}},gL=(()=>{class e{constructor(n){this._editor=n,this._ignoreSelection=!1}static get(n){return n.getContribution(e.ID)}dispose(){var n;(n=this._selectionListener)===null||n===void 0||n.dispose()}run(n){return vL(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;let o=this._editor.getSelections(),r=this._editor.getModel();if(!LS.has(r)||(this._state||(yield Xj(r,o.map(l=>l.getPosition()),this._editor.getOption(99),ti.None).then(l=>{var c;if(!(!fo(l)||l.length!==o.length)&&!(!this._editor.hasModel()||!kh(this._editor.getSelections(),o,(u,d)=>u.equalsSelection(d)))){for(let u=0;u<l.length;u++)l[u]=l[u].filter(d=>d.containsPosition(o[u].getStartPosition())&&d.containsPosition(o[u].getEndPosition())),l[u].unshift(o[u]);this._state=l.map(u=>new pL(0,u)),(c=this._selectionListener)===null||c===void 0||c.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var u;this._ignoreSelection||((u=this._selectionListener)===null||u===void 0||u.dispose(),this._state=void 0)})}})),!this._state))return;this._state=this._state.map(l=>l.mov(n));let s=this._state.map(l=>Ct.fromPositions(l.ranges[l.index].getStartPosition(),l.ranges[l.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}})}}return e.ID="editor.contrib.smartSelectController",e})(),AE=class extends it{constructor(i,n){super(n),this._forward=i}run(i,n){return vL(this,void 0,void 0,function*(){let o=gL.get(n);o&&(yield o.run(this._forward))})}},fL=class extends AE{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:_("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}};_i.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var mL=class extends AE{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:_("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:Ie.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:jt.MenubarSelectionMenu,group:"1_basic",title:_({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}};Mt(gL.ID,gL);Ue(fL);Ue(mL);LS.register("*",new RE);function Xj(e,i,n,o){return vL(this,void 0,void 0,function*(){let r=LS.all(e);r.length===1&&r.unshift(new kE);let s=[],l=[];for(let c of r)s.push(Promise.resolve(c.provideSelectionRanges(e,i,o)).then(u=>{if(fo(u)&&u.length===i.length)for(let d=0;d<i.length;d++){l[d]||(l[d]=[]);for(let h of u[d])Me.isIRange(h.range)&&Me.containsPosition(h.range,i[d])&&l[d].push(Me.lift(h.range))}},gn));return yield Promise.all(s),l.map(c=>{if(c.length===0)return[];c.sort((p,g)=>It.isBefore(p.getStartPosition(),g.getStartPosition())?1:It.isBefore(g.getStartPosition(),p.getStartPosition())||It.isBefore(p.getEndPosition(),g.getEndPosition())?-1:It.isBefore(g.getEndPosition(),p.getEndPosition())?1:0);let u=[],d;for(let p of c)(!d||Me.containsRange(p,d)&&!Me.equalsRange(p,d))&&(u.push(p),d=p);if(!n.selectLeadingAndTrailingWhitespace)return u;let h=[u[0]];for(let p=1;p<u.length;p++){let g=u[p-1],f=u[p];if(f.startLineNumber!==g.startLineNumber||f.endLineNumber!==g.endLineNumber){let y=new Me(g.startLineNumber,e.getLineFirstNonWhitespaceColumn(g.startLineNumber),g.endLineNumber,e.getLineLastNonWhitespaceColumn(g.endLineNumber));y.containsRange(g)&&!y.equalsRange(g)&&f.containsRange(y)&&!f.equalsRange(y)&&h.push(y);let M=new Me(g.startLineNumber,1,g.endLineNumber,e.getLineMaxColumn(g.endLineNumber));M.containsRange(g)&&!M.equalsRange(y)&&f.containsRange(M)&&!f.equalsRange(M)&&h.push(M)}h.push(f)}return h})})}e5("_executeSelectionRangeProvider",function(e,...i){let[n]=i;return Xj(e,n,{selectLeadingAndTrailingWhitespace:!0},ti.None)});bt();Kt();zt();ho();Zi();Mi();zi();Xn();Pi();Un();zt();bt();Cr();var Ece=(()=>{class e{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let n=this.pos,o=0,r=this.value.charCodeAt(n),s;if(s=e._table[r],typeof s=="number")return this.pos+=1,{type:s,pos:n,len:1};if(e.isDigitCharacter(r)){s=8;do o+=1,r=this.value.charCodeAt(n+o);while(e.isDigitCharacter(r));return this.pos+=o,{type:s,pos:n,len:o}}if(e.isVariableCharacter(r)){s=9;do r=this.value.charCodeAt(n+ ++o);while(e.isVariableCharacter(r)||e.isDigitCharacter(r));return this.pos+=o,{type:s,pos:n,len:o}}s=10;do o+=1,r=this.value.charCodeAt(n+o);while(!isNaN(r)&&typeof e._table[r]>"u"&&!e.isDigitCharacter(r)&&!e.isVariableCharacter(r));return this.pos+=o,{type:s,pos:n,len:o}}}return e._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},e})(),Cp=class{constructor(){this._children=[]}appendChild(i){return i instanceof Xo&&this._children[this._children.length-1]instanceof Xo?this._children[this._children.length-1].value+=i.value:(i.parent=this,this._children.push(i)),this}replace(i,n){let{parent:o}=i,r=o.children.indexOf(i),s=o.children.slice(0);s.splice(r,1,...n),o._children=s,function l(c,u){for(let d of c)d.parent=u,l(d.children,d)}(n,o)}get children(){return this._children}get snippet(){let i=this;for(;;){if(!i)return;if(i instanceof TE)return i;i=i.parent}}toString(){return this.children.reduce((i,n)=>i+n.toString(),"")}len(){return 0}},Xo=class e extends Cp{constructor(i){super(),this.value=i}toString(){return this.value}len(){return this.value.length}clone(){return new e(this.value)}},FE=class extends Cp{},ws=class e extends FE{constructor(i){super(),this.index=i}static compareByIndex(i,n){return i.index===n.index?0:i.isFinalTabstop?1:n.isFinalTabstop||i.index<n.index?-1:i.index>n.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof B0?this._children[0]:void 0}clone(){let i=new e(this.index);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}},B0=class e extends Cp{constructor(){super(...arguments),this.options=[]}appendChild(i){return i instanceof Xo&&(i.parent=this,this.options.push(i)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let i=new e;return this.options.forEach(i.appendChild,i),i}},CL=class e extends Cp{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(i){let n=this,o=!1,r=i.replace(this.regexp,function(){return o=!0,n._replace(Array.prototype.slice.call(arguments,0,-2))});return!o&&this._children.some(s=>s instanceof Cl&&!!s.elseValue)&&(r=this._replace([])),r}_replace(i){let n="";for(let o of this._children)if(o instanceof Cl){let r=i[o.index]||"";r=o.resolve(r),n+=r}else n+=o.toString();return n}toString(){return""}clone(){let i=new e;return i.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),i._children=this.children.map(n=>n.clone()),i}},Cl=class e extends Cp{constructor(i,n,o,r){super(),this.index=i,this.shorthandName=n,this.ifValue=o,this.elseValue=r}resolve(i){return this.shorthandName==="upcase"?i?i.toLocaleUpperCase():"":this.shorthandName==="downcase"?i?i.toLocaleLowerCase():"":this.shorthandName==="capitalize"?i?i[0].toLocaleUpperCase()+i.substr(1):"":this.shorthandName==="pascalcase"?i?this._toPascalCase(i):"":i&&typeof this.ifValue=="string"?this.ifValue:!i&&typeof this.elseValue=="string"?this.elseValue:i||""}_toPascalCase(i){let n=i.match(/[a-z]+/gi);return n?n.map(function(o){return o.charAt(0).toUpperCase()+o.substr(1).toLowerCase()}).join(""):i}clone(){return new e(this.index,this.shorthandName,this.ifValue,this.elseValue)}},ny=class e extends FE{constructor(i){super(),this.name=i}resolve(i){let n=i.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),n!==void 0?(this._children=[new Xo(n)],!0):!1}clone(){let i=new e(this.name);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}};function Jj(e,i){let n=[...e];for(;n.length>0;){let o=n.shift();if(!i(o))break;n.unshift(...o.children)}}var TE=class e extends Cp{get placeholderInfo(){if(!this._placeholders){let i=[],n;this.walk(function(o){return o instanceof ws&&(i.push(o),n=!n||n.index<o.index?o:n),!0}),this._placeholders={all:i,last:n}}return this._placeholders}get placeholders(){let{all:i}=this.placeholderInfo;return i}offset(i){let n=0,o=!1;return this.walk(r=>r===i?(o=!0,!1):(n+=r.len(),!0)),o?n:-1}fullLen(i){let n=0;return Jj([i],o=>(n+=o.len(),!0)),n}enclosingPlaceholders(i){let n=[],{parent:o}=i;for(;o;)o instanceof ws&&n.push(o),o=o.parent;return n}resolveVariables(i){return this.walk(n=>(n instanceof ny&&n.resolve(i)&&(this._placeholders=void 0),!0)),this}appendChild(i){return this._placeholders=void 0,super.appendChild(i)}replace(i,n){return this._placeholders=void 0,super.replace(i,n)}clone(){let i=new e;return this._children=this.children.map(n=>n.clone()),i}walk(i){Jj(this.children,i)}},wp=class{constructor(){this._scanner=new Ece,this._token={type:14,pos:0,len:0}}static escape(i){return i.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(i){return/\${?CLIPBOARD/.test(i)}parse(i,n,o){this._scanner.text(i),this._token=this._scanner.next();let r=new TE;for(;this._parse(r););let s=new Map,l=[],c=0;r.walk(u=>(u instanceof ws&&(c+=1,u.isFinalTabstop?s.set(0,void 0):!s.has(u.index)&&u.children.length>0?s.set(u.index,u.children):l.push(u)),!0));for(let u of l){let d=s.get(u.index);if(d){let h=new ws(u.index);h.transform=u.transform;for(let p of d)h.appendChild(p.clone());r.replace(u,[h])}}return o||(o=c>0&&n),!s.has(0)&&o&&r.appendChild(new ws(0)),r}_accept(i,n){if(i===void 0||this._token.type===i){let o=n?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),o}return!1}_backTo(i){return this._scanner.pos=i.pos+i.len,this._token=i,!1}_until(i){let n=this._token;for(;this._token.type!==i;){if(this._token.type===14)return!1;if(this._token.type===5){let r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}let o=this._scanner.value.substring(n.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),o}_parse(i){return this._parseEscaped(i)||this._parseTabstopOrVariableName(i)||this._parseComplexPlaceholder(i)||this._parseComplexVariable(i)||this._parseAnything(i)}_parseEscaped(i){let n;return(n=this._accept(5,!0))?(n=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||n,i.appendChild(new Xo(n)),!0):!1}_parseTabstopOrVariableName(i){let n,o=this._token;return this._accept(0)&&(n=this._accept(9,!0)||this._accept(8,!0))?(i.appendChild(/^\d+$/.test(n)?new ws(Number(n)):new ny(n)),!0):this._backTo(o)}_parseComplexPlaceholder(i){let n,o=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(8,!0))))return this._backTo(o);let s=new ws(Number(n));if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(s),!0;if(!this._parse(s))return i.appendChild(new Xo("${"+n+":")),s.children.forEach(i.appendChild,i),!0}else if(s.index>0&&this._accept(7)){let l=new B0;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(l),this._accept(4)))return i.appendChild(s),!0}return this._backTo(o),!1}}else return this._accept(6)?this._parseTransform(s)?(i.appendChild(s),!0):(this._backTo(o),!1):this._accept(4)?(i.appendChild(s),!0):this._backTo(o)}_parseChoiceElement(i){let n=this._token,o=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(n),!1;o.push(r)}return o.length===0?(this._backTo(n),!1):(i.appendChild(new Xo(o.join(""))),!0)}_parseComplexVariable(i){let n,o=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(9,!0))))return this._backTo(o);let s=new ny(n);if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(s),!0;if(!this._parse(s))return i.appendChild(new Xo("${"+n+":")),s.children.forEach(i.appendChild,i),!0}else return this._accept(6)?this._parseTransform(s)?(i.appendChild(s),!0):(this._backTo(o),!1):this._accept(4)?(i.appendChild(s),!0):this._backTo(o)}_parseTransform(i){let n=new CL,o="",r="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(6,!0)||s,o+=s;continue}if(this._token.type!==14){o+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let s;if(s=this._accept(5,!0)){s=this._accept(5,!0)||this._accept(6,!0)||s,n.appendChild(new Xo(s));continue}if(!(this._parseFormatString(n)||this._parseAnything(n)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{n.regexp=new RegExp(o,r)}catch{return!1}return i.transform=n,!0}_parseFormatString(i){let n=this._token;if(!this._accept(0))return!1;let o=!1;this._accept(3)&&(o=!0);let r=this._accept(8,!0);if(r)if(o){if(this._accept(4))return i.appendChild(new Cl(Number(r))),!0;if(!this._accept(1))return this._backTo(n),!1}else return i.appendChild(new Cl(Number(r))),!0;else return this._backTo(n),!1;if(this._accept(6)){let s=this._accept(9,!0);return!s||!this._accept(4)?(this._backTo(n),!1):(i.appendChild(new Cl(Number(r),s)),!0)}else if(this._accept(11)){let s=this._until(4);if(s)return i.appendChild(new Cl(Number(r),void 0,s,void 0)),!0}else if(this._accept(12)){let s=this._until(4);if(s)return i.appendChild(new Cl(Number(r),void 0,void 0,s)),!0}else if(this._accept(13)){let s=this._until(1);if(s){let l=this._until(4);if(l)return i.appendChild(new Cl(Number(r),void 0,s,l)),!0}}else{let s=this._until(4);if(s)return i.appendChild(new Cl(Number(r),void 0,void 0,s)),!0}return this._backTo(n),!1}_parseAnything(i){return this._token.type!==14?(i.appendChild(new Xo(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}};B3();xo();To();Fo();Up();Ot();var ry=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},ci={Visible:new ii("suggestWidgetVisible",!1,_("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new ii("suggestWidgetDetailsVisible",!1,_("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new ii("suggestWidgetMultipleSuggestions",!1,_("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new ii("suggestionMakesTextEdit",!0,_("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new ii("acceptSuggestionOnEnter",!0,_("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new ii("suggestionHasInsertAndReplaceRange",!1,_("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new ii("suggestionInsertMode",void 0,{type:"string",description:_("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new ii("suggestionCanResolve",!1,_("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},lu=new jt("suggestWidgetStatusBar"),wL=class{constructor(i,n,o,r){this.position=i,this.completion=n,this.container=o,this.provider=r,this.isInvalid=!1,this.score=Xp.Default,this.distance=0,this.textLabel=typeof n.label=="string"?n.label:n.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=n.sortText&&n.sortText.toLowerCase(),this.filterTextLow=n.filterText&&n.filterText.toLowerCase(),Me.isIRange(n.range)?(this.editStart=new It(n.range.startLineNumber,n.range.startColumn),this.editInsertEnd=new It(n.range.endLineNumber,n.range.endColumn),this.editReplaceEnd=new It(n.range.endLineNumber,n.range.endColumn),this.isInvalid=this.isInvalid||Me.spansMultipleLines(n.range)||n.range.startLineNumber!==i.lineNumber):(this.editStart=new It(n.range.insert.startLineNumber,n.range.insert.startColumn),this.editInsertEnd=new It(n.range.insert.endLineNumber,n.range.insert.endColumn),this.editReplaceEnd=new It(n.range.replace.endLineNumber,n.range.replace.endColumn),this.isInvalid=this.isInvalid||Me.spansMultipleLines(n.range.insert)||Me.spansMultipleLines(n.range.replace)||n.range.insert.startLineNumber!==i.lineNumber||n.range.replace.startLineNumber!==i.lineNumber||n.range.insert.startColumn!==n.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(i){return ry(this,void 0,void 0,function*(){if(!this._resolveCache){let n=i.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,i)).then(o=>{Object.assign(this.completion,o),this._isResolved=!0,n.dispose()},o=>{Ml(o)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}},Qg=class{constructor(i=2,n=new Set,o=new Set){this.snippetSortOrder=i,this.kindFilter=n,this.providerFilter=o}};Qg.default=new Qg;var oy;function eU(){return oy}var bL=class{constructor(i,n,o,r){this.items=i,this.needsClipboard=n,this.durations=o,this.disposable=r}};function SL(e,i,n=Qg.default,o={triggerKind:0},r=ti.None){return ry(this,void 0,void 0,function*(){let s=new xh(!0);i=i.clone();let l=e.getWordAtPosition(i),c=l?new Me(i.lineNumber,l.startColumn,i.lineNumber,l.endColumn):Me.fromPositions(i),u={replace:c,insert:c.setEndPosition(i.lineNumber,i.column)},d=[],h=new Je,p=[],g=!1,f=(M,k,G)=>{var J,$;if(k){for(let _e of k.suggestions)n.kindFilter.has(_e.kind)||(_e.range||(_e.range=u),_e.sortText||(_e.sortText=typeof _e.label=="string"?_e.label:_e.label.name),!g&&_e.insertTextRules&&_e.insertTextRules&4&&(g=wp.guessNeedsClipboard(_e.insertText)),d.push(new wL(i,_e,k,M)));vS(k)&&h.add(k),p.push({providerName:(J=M._debugDisplayName)!==null&&J!==void 0?J:"unkown_provider",elapsedProvider:($=k.duration)!==null&&$!==void 0?$:-1,elapsedOverall:G.elapsed()})}},y=ry(this,void 0,void 0,function*(){if(!oy||n.kindFilter.has(27)||n.providerFilter.size>0&&!n.providerFilter.has(oy))return;let M=new xh(!0),k=yield oy.provideCompletionItems(e,i,o,r);f(oy,k,M)});for(let M of Du.orderedGroups(e)){let k=d.length;if(yield Promise.all(M.map(G=>ry(this,void 0,void 0,function*(){if(!(n.providerFilter.size>0&&!n.providerFilter.has(G)))try{let J=new xh(!0),$=yield G.provideCompletionItems(e,i,o,r);f(G,$,J)}catch(J){gn(J)}}))),k!==d.length||r.isCancellationRequested)break}return yield y,r.isCancellationRequested?(h.dispose(),Promise.reject(mS())):new bL(d.sort(xL(n.snippetSortOrder)),g,{entries:p,elapsed:s.elapsed()},h)})}function _L(e,i){if(e.sortTextLow&&i.sortTextLow){if(e.sortTextLow<i.sortTextLow)return-1;if(e.sortTextLow>i.sortTextLow)return 1}return e.completion.label<i.completion.label?-1:e.completion.label>i.completion.label?1:e.completion.kind-i.completion.kind}function Ice(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return _L(e,i)}function Mce(e,i){if(e.completion.kind!==i.completion.kind){if(e.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return _L(e,i)}var PE=new Map;PE.set(0,Ice);PE.set(2,Mce);PE.set(1,_L);function xL(e){return PE.get(e)}_i.registerCommand("_executeCompletionItemProvider",(e,...i)=>ry(void 0,void 0,void 0,function*(){let[n,o,r,s]=i;nn(ui.isUri(n)),nn(It.isIPosition(o)),nn(typeof r=="string"||!r),nn(typeof s=="number"||!s);let l=yield e.get(Gr).createModelReference(n);try{let c={incomplete:!1,suggestions:[]},u=[],d=yield SL(l.object.textEditorModel,It.lift(o),void 0,{triggerCharacter:r,triggerKind:r?1:0});for(let h of d.items)u.length<(s??0)&&u.push(h.resolve(ti.None)),c.incomplete=c.incomplete||h.container.incomplete,c.suggestions.push(h.completion);try{return yield Promise.all(u),c}finally{setTimeout(()=>d.disposable.dispose(),100)}}finally{l.dispose()}}));var yL=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let i={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,i}};Du.register("*",yL);function tU(e,i){setTimeout(()=>{yL.onlyOnceSuggestions.push(...i),e.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(yL))},0)}Pi();VS();kn();bt();Bn();Fh();zt();ho();Lo();yn();Ot();z4();Ms();Eu();Bn();Fo();var DL="code-workspace";function EL(e){let i=e;return typeof i?.id=="string"&&ui.isUri(i.uri)}function iU(e){if(e.configuration)return{id:e.id,configPath:e.configuration};if(e.folders.length===1)return{id:e.id,uri:e.folders[0].uri}}var Co=new Uint8Array(16),Jo=[];for(let e=0;e<256;e++)Jo.push(e.toString(16).padStart(2,"0"));var IL;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?IL=crypto.getRandomValues.bind(crypto):IL=function(e){for(let i=0;i<e.length;i++)e[i]=Math.floor(Math.random()*256);return e};function nU(){IL(Co),Co[6]=Co[6]&15|64,Co[8]=Co[8]&63|128;let e=0,i="";return i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+="-",i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+="-",i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+="-",i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+="-",i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+=Jo[Co[e++]],i+=Jo[Co[e++]],i}var LE=class{constructor(i){this._delegates=i}resolve(i){for(let n of this._delegates){let o=n.resolve(i);if(o!==void 0)return o}}},OE=class{constructor(i,n,o,r){this._model=i,this._selection=n,this._selectionIdx=o,this._overtypingCapturer=r}resolve(i){let{name:n}=i;if(n==="SELECTION"||n==="TM_SELECTED_TEXT"){let o=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!o&&this._overtypingCapturer){let s=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);s&&(o=s.value,r=s.multiline)}if(o&&r&&i.snippet){let s=this._model.getLineContent(this._selection.startLineNumber),l=qn(s,0,this._selection.startColumn-1),c=l;i.snippet.walk(d=>d===i?!1:(d instanceof Xo&&(c=qn(xS(d.value).pop())),!0));let u=Hf(c,l);o=o.replace(/(\r\n|\r|\n)(.*)/g,(d,h,p)=>`${h}${c.substr(u)}${p}`)}return o}else{if(n==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(n==="TM_CURRENT_WORD"){let o=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return o&&o.word||void 0}else{if(n==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(n==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}},NE=class{constructor(i,n){this._labelService=i,this._model=n}resolve(i){let{name:n}=i;if(n==="TM_FILENAME")return Of(this._model.uri.fsPath);if(n==="TM_FILENAME_BASE"){let o=Of(this._model.uri.fsPath),r=o.lastIndexOf(".");return r<=0?o:o.slice(0,r)}else{if(n==="TM_DIRECTORY"&&this._labelService)return H4(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(zf(this._model.uri));if(n==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(n==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}},BE=class{constructor(i,n,o,r){this._readClipboardText=i,this._selectionIdx=n,this._selectionCount=o,this._spread=r}resolve(i){if(i.name!=="CLIPBOARD")return;let n=this._readClipboardText();if(n){if(this._spread){let o=n.split(/\r\n|\n|\r/).filter(r=>!a8(r));if(o.length===this._selectionCount)return o[this._selectionIdx]}return n}}},VE=class{constructor(i,n){this._model=i,this._selection=n}resolve(i){let{name:n}=i,o=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=Xi.getComments(o);if(r){if(n==="LINE_COMMENT")return r.lineCommentToken||void 0;if(n==="BLOCK_COMMENT_START")return r.blockCommentStartToken||void 0;if(n==="BLOCK_COMMENT_END")return r.blockCommentEndToken||void 0}}},bp=class e{resolve(i){let{name:n}=i;if(n==="CURRENT_YEAR")return String(new Date().getFullYear());if(n==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(n==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(n==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(n==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(n==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(n==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(n==="CURRENT_DAY_NAME")return e.dayNames[new Date().getDay()];if(n==="CURRENT_DAY_NAME_SHORT")return e.dayNamesShort[new Date().getDay()];if(n==="CURRENT_MONTH_NAME")return e.monthNames[new Date().getMonth()];if(n==="CURRENT_MONTH_NAME_SHORT")return e.monthNamesShort[new Date().getMonth()];if(n==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}};bp.dayNames=[_("Sunday","Sunday"),_("Monday","Monday"),_("Tuesday","Tuesday"),_("Wednesday","Wednesday"),_("Thursday","Thursday"),_("Friday","Friday"),_("Saturday","Saturday")];bp.dayNamesShort=[_("SundayShort","Sun"),_("MondayShort","Mon"),_("TuesdayShort","Tue"),_("WednesdayShort","Wed"),_("ThursdayShort","Thu"),_("FridayShort","Fri"),_("SaturdayShort","Sat")];bp.monthNames=[_("January","January"),_("February","February"),_("March","March"),_("April","April"),_("May","May"),_("June","June"),_("July","July"),_("August","August"),_("September","September"),_("October","October"),_("November","November"),_("December","December")];bp.monthNamesShort=[_("JanuaryShort","Jan"),_("FebruaryShort","Feb"),_("MarchShort","Mar"),_("AprilShort","Apr"),_("MayShort","May"),_("JuneShort","Jun"),_("JulyShort","Jul"),_("AugustShort","Aug"),_("SeptemberShort","Sep"),_("OctoberShort","Oct"),_("NovemberShort","Nov"),_("DecemberShort","Dec")];var HE=class{constructor(i){this._workspaceService=i}resolve(i){if(!this._workspaceService)return;let n=iU(this._workspaceService.getWorkspace());if(n){if(i.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(n);if(i.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(n)}}_resolveWorkspaceName(i){if(EL(i))return Of(i.uri.path);let n=Of(i.configPath.path);return n.endsWith(DL)&&(n=n.substr(0,n.length-DL.length-1)),n}_resoveWorkspacePath(i){if(EL(i))return gD(i.uri.fsPath);let n=Of(i.configPath.path),o=i.configPath.fsPath;return o.endsWith(n)&&(o=o.substr(0,o.length-n.length-1)),o?gD(o):"/"}},zE=class{resolve(i){let{name:n}=i;if(n==="RANDOM")return Math.random().toString().slice(-6);if(n==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(n==="UUID")return nU()}};Bi();Cn();oi((e,i)=>{function n(o){let r=e.getColor(o);return r?r.toString():"transparent"}i.addRule(`.monaco-editor .snippet-placeholder { background-color: ${n(P5)}; outline-color: ${n(L5)}; }`),i.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${n(O5)}; outline-color: ${n(N5)}; }`)});var GE=class e{constructor(i,n,o,r){this._editor=i,this._snippet=n,this._offset=o,this._snippetLineLeadingWhitespace=r,this._nestingLevel=1,this._placeholderGroups=cI(n.placeholders,ws.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;let i=this._editor.getModel();this._editor.changeDecorations(n=>{for(let o of this._snippet.placeholders){let r=this._snippet.offset(o),s=this._snippet.fullLen(o),l=Me.fromPositions(i.getPositionAt(this._offset+r),i.getPositionAt(this._offset+r+s)),c=o.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,u=n.addDecoration(l,c);this._placeholderDecorations.set(o,u)}})}move(i){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let r=[];for(let s of this._placeholderGroups[this._placeholderGroupsIdx])if(s.transform){let l=this._placeholderDecorations.get(s),c=this._editor.getModel().getDecorationRange(l),u=this._editor.getModel().getValueInRange(c),d=s.transform.resolve(u).split(/\r\n|\r|\n/);for(let h=1;h<d.length;h++)d[h]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+d[h]);r.push(on.replace(c,d.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let n=!1;i===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,n=!0):i===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,n=!0);let o=this._editor.getModel().changeDecorations(r=>{let s=new Set,l=[];for(let c of this._placeholderGroups[this._placeholderGroupsIdx]){let u=this._placeholderDecorations.get(c),d=this._editor.getModel().getDecorationRange(u);l.push(new Ct(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn)),n=n&&this._hasPlaceholderBeenCollapsed(c),r.changeDecorationOptions(u,c.isFinalTabstop?e._decor.activeFinal:e._decor.active),s.add(c);for(let h of this._snippet.enclosingPlaceholders(c)){let p=this._placeholderDecorations.get(h);r.changeDecorationOptions(p,h.isFinalTabstop?e._decor.activeFinal:e._decor.active),s.add(h)}}for(let[c,u]of this._placeholderDecorations)s.has(c)||r.changeDecorationOptions(u,c.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive);return l});return n?this.move(i):o??[]}_hasPlaceholderBeenCollapsed(i){let n=i;for(;n;){if(n instanceof ws){let o=this._placeholderDecorations.get(n);if(this._editor.getModel().getDecorationRange(o).isEmpty()&&n.toString().length>0)return!0}n=n.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){let i=new Map;for(let n of this._placeholderGroups){let o;for(let r of n){if(r.isFinalTabstop)break;o||(o=[],i.set(r.index,o));let s=this._placeholderDecorations.get(r),l=this._editor.getModel().getDecorationRange(s);if(!l){i.delete(r.index);break}o.push(l)}}return i}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(i){let n=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(o=>{for(let r of this._placeholderGroups[this._placeholderGroupsIdx]){let s=i.shift();console.assert(!s._placeholderDecorations);let l=s._snippet.placeholderInfo.last.index;for(let u of s._snippet.placeholderInfo.all)u.isFinalTabstop?u.index=r.index+(l+1)/this._nestingLevel:u.index=r.index+u.index/this._nestingLevel;this._snippet.replace(r,s._snippet.children);let c=this._placeholderDecorations.get(r);o.removeDecoration(c),this._placeholderDecorations.delete(r);for(let u of s._snippet.placeholders){let d=s._snippet.offset(u),h=s._snippet.fullLen(u),p=Me.fromPositions(n.getPositionAt(s._offset+d),n.getPositionAt(s._offset+d+h)),g=o.addDecoration(p,e._decor.inactive);this._placeholderDecorations.set(u,g)}}this._placeholderGroups=cI(this._snippet.placeholders,ws.compareByIndex)})}};GE._decor={active:ri.register({stickiness:0,className:"snippet-placeholder"}),inactive:ri.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:ri.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:ri.register({stickiness:1,className:"finish-snippet-placeholder"})};var oU={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},WE=class e{constructor(i,n,o=oU){this._templateMerges=[],this._snippets=[],this._editor=i,this._template=n,this._options=o}static adjustWhitespace(i,n,o,r,s){let l=i.getLineContent(n.lineNumber),c=qn(l,0,n.column-1),u;return o.walk(d=>{if(!(d instanceof Xo)||d.parent instanceof B0)return!0;let h=d.value.split(/\r\n|\r|\n/);if(r){let g=o.offset(d);if(g===0)h[0]=i.normalizeIndentation(h[0]);else{u=u??o.toString();let f=u.charCodeAt(g-1);(f===10||f===13)&&(h[0]=i.normalizeIndentation(c+h[0]))}for(let f=1;f<h.length;f++)h[f]=i.normalizeIndentation(c+h[f])}let p=h.join(i.getEOL());return p!==d.value&&(d.parent.replace(d,[new Xo(p)]),u=void 0),!0}),c}static adjustSelection(i,n,o,r){if(o!==0||r!==0){let{positionLineNumber:s,positionColumn:l}=n,c=l-o,u=l+r,d=i.validateRange({startLineNumber:s,startColumn:c,endLineNumber:s,endColumn:u});n=Ct.createWithDirection(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn,n.getDirection())}return n}static createEditsAndSnippets(i,n,o,r,s,l,c,u){let d=[],h=[];if(!i.hasModel())return{edits:d,snippets:h};let p=i.getModel(),g=i.invokeWithinContext(_e=>_e.get(q8,H3)),f=i.invokeWithinContext(_e=>new NE(_e.get(Vh,H3),p)),y=()=>c,M=0,k=p.getValueInRange(e.adjustSelection(p,i.getSelection(),o,0)),G=p.getValueInRange(e.adjustSelection(p,i.getSelection(),0,r)),J=p.getLineFirstNonWhitespaceColumn(i.getSelection().positionLineNumber),$=i.getSelections().map((_e,Fe)=>({selection:_e,idx:Fe})).sort((_e,Fe)=>Me.compareRangesUsingStarts(_e.selection,Fe.selection));for(let{selection:_e,idx:Fe}of $){let Pe=e.adjustSelection(p,_e,o,0),$e=e.adjustSelection(p,_e,0,r);k!==p.getValueInRange(Pe)&&(Pe=_e),G!==p.getValueInRange($e)&&($e=_e);let nt=_e.setStartPosition(Pe.startLineNumber,Pe.startColumn).setEndPosition($e.endLineNumber,$e.endColumn),lt=new wp().parse(n,!0,s),Lt=nt.getStartPosition(),Jt=e.adjustWhitespace(p,Lt,lt,l||Fe>0&&J!==p.getLineFirstNonWhitespaceColumn(_e.positionLineNumber),!0);lt.resolveVariables(new LE([f,new BE(y,Fe,$.length,i.getOption(67)==="spread"),new OE(p,_e,Fe,u),new VE(p,_e),new bp,new HE(g),new zE]));let xn=p.getOffsetAt(Lt)+M;M+=lt.toString().length-p.getValueLengthInRange(nt),d[Fe]=on.replace(nt,lt.toString()),d[Fe].identifier={major:Fe,minor:0},h[Fe]=new GE(i,lt,xn,Jt)}return{edits:d,snippets:h}}dispose(){jn(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;let{edits:i,snippets:n}=e.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=n,this._editor.executeEdits("snippet",i,o=>this._snippets[0].hasPlaceholder?this._move(!0):o.filter(r=>!!r.identifier).map(r=>Ct.fromPositions(r.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(i,n=oU){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,i]);let{edits:o,snippets:r}=e.createEditsAndSnippets(this._editor,i,n.overwriteBefore,n.overwriteAfter,!0,n.adjustWhitespace,n.clipboardText,n.overtypingCapturer);this._editor.executeEdits("snippet",o,s=>{for(let l of this._snippets)l.merge(r);return console.assert(r.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):s.filter(l=>!!l.identifier).map(l=>Ct.fromPositions(l.range.getEndPosition()))})}next(){let i=this._move(!0);this._editor.setSelections(i),this._editor.revealPositionInCenterIfOutsideViewport(i[0].getPosition())}prev(){let i=this._move(!1);this._editor.setSelections(i),this._editor.revealPositionInCenterIfOutsideViewport(i[0].getPosition())}_move(i){let n=[];for(let o of this._snippets){let r=o.move(i);n.push(...r)}return n}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;let i=this._editor.getSelections();if(i.length<this._snippets.length)return!1;let n=new Map;for(let o of this._snippets){let r=o.computePossibleSelections();if(n.size===0)for(let[s,l]of r){l.sort(Me.compareRangesUsingStarts);for(let c of i)if(l[0].containsRange(c)){n.set(s,[]);break}}if(n.size===0)return!1;n.forEach((s,l)=>{s.push(...r.get(l))})}i.sort(Me.compareRangesUsingStarts);for(let[o,r]of n){if(r.length!==i.length){n.delete(o);continue}r.sort(Me.compareRangesUsingStarts);for(let s=0;s<r.length;s++)if(!r[s].containsRange(i[s])){n.delete(o);continue}}return n.size>0}};Ot();var Rce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},rU=function(e,i){return function(n,o){i(n,o,e)}},sU={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},ao=class sy{constructor(i,n,o){this._editor=i,this._logService=n,this._snippetListener=new Je,this._modelVersionId=-1,this._inSnippet=sy.InSnippetMode.bindTo(o),this._hasNextTabstop=sy.HasNextTabstop.bindTo(o),this._hasPrevTabstop=sy.HasPrevTabstop.bindTo(o)}static get(i){return i.getContribution(sy.ID)}dispose(){var i;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(i=this._session)===null||i===void 0||i.dispose(),this._snippetListener.dispose()}insert(i,n){try{this._doInsert(i,typeof n>"u"?sU:Object.assign(Object.assign({},sU),n))}catch(o){this.cancel(),this._logService.error(o),this._logService.error("snippet_error"),this._logService.error("insert_template=",i),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(i,n){this._editor.hasModel()&&(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(i,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new WE(this._editor,i,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(o=>o.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}let{choice:i}=this._session;if(!i){this._currentChoice=void 0;return}if(this._currentChoice!==i){this._currentChoice=i,this._editor.setSelections(this._editor.getSelections().map(o=>Ct.fromPositions(o.getStartPosition())));let[n]=i.options;tU(this._editor,i.options.map((o,r)=>({kind:13,label:o.value,insertText:o.value,sortText:"a".repeat(r+1),range:Me.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(i=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,i&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};ao.ID="snippetController2";ao.InSnippetMode=new ii("inSnippetMode",!1,_("inSnippetMode","Whether the editor in current in snippet mode"));ao.HasNextTabstop=new ii("hasNextTabstop",!1,_("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));ao.HasPrevTabstop=new ii("hasPrevTabstop",!1,_("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));ao=Rce([rU(1,Ah),rU(2,$t)],ao);Mt(ao.ID,ao);var jE=Fn.bindToContribution(ao.get);gt(new jE({id:"jumpToNextSnippetPlaceholder",precondition:st.and(ao.InSnippetMode,ao.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:Ie.editorTextFocus,primary:2}}));gt(new jE({id:"jumpToPrevSnippetPlaceholder",precondition:st.and(ao.InSnippetMode,ao.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:Ie.editorTextFocus,primary:1026}}));gt(new jE({id:"leaveSnippet",precondition:ao.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:Ie.editorTextFocus,primary:9,secondary:[1033]}}));gt(new jE({id:"acceptSnippet",precondition:ao.InSnippetMode,handler:e=>e.finish()}));tl();kn();Mi();Rl();bt();Kp();Kt();Fh();zt();Zi();Bv();zi();bt();ln();yn();Zf();nC();Rh();var kce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},ML=function(e,i){return function(n,o){i(n,o,e)}},ay=class{constructor(i){this.name=i}select(i,n,o){if(o.length===0)return 0;let r=o[0].score[0];for(let s=0;s<o.length;s++){let{score:l,completion:c}=o[s];if(l[0]!==r)break;if(c.preselect)return s}return 0}},$E=class extends ay{constructor(){super("first")}memorize(i,n,o){}toJSON(){}fromJSON(){}},RL=class extends ay{constructor(){super("recentlyUsed"),this._cache=new Dh(300,.66),this._seq=0}memorize(i,n,o){let r=`${i.getLanguageIdentifier().language}/${o.textLabel}`;this._cache.set(r,{touch:this._seq++,type:o.completion.kind,insertText:o.completion.insertText})}select(i,n,o){if(o.length===0)return 0;let r=i.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(r))return super.select(i,n,o);let s=o[0].score[0],l=-1,c=-1,u=-1;for(let d=0;d<o.length&&o[d].score[0]===s;d++){let h=`${i.getLanguageIdentifier().language}/${o[d].textLabel}`,p=this._cache.peek(h);if(p&&p.touch>u&&p.type===o[d].completion.kind&&p.insertText===o[d].completion.insertText&&(u=p.touch,c=d),o[d].completion.preselect&&l===-1)return l=d}return c!==-1?c:l!==-1?l:0}toJSON(){return this._cache.toJSON()}fromJSON(i){this._cache.clear();let n=0;for(let[o,r]of i)r.touch=n,r.type=typeof r.type=="number"?r.type:nI(r.type),this._cache.set(o,r);this._seq=this._cache.size}},kL=class extends ay{constructor(){super("recentlyUsedByPrefix"),this._trie=m8.forStrings(),this._seq=0}memorize(i,n,o){let{word:r}=i.getWordUntilPosition(n),s=`${i.getLanguageIdentifier().language}/${r}`;this._trie.set(s,{type:o.completion.kind,insertText:o.completion.insertText,touch:this._seq++})}select(i,n,o){let{word:r}=i.getWordUntilPosition(n);if(!r)return super.select(i,n,o);let s=`${i.getLanguageIdentifier().language}/${r}`,l=this._trie.get(s);if(l||(l=this._trie.findSubstr(s)),l)for(let c=0;c<o.length;c++){let{kind:u,insertText:d}=o[c].completion;if(u===l.type&&d===l.insertText)return c}return super.select(i,n,o)}toJSON(){let i=[];return this._trie.forEach((n,o)=>i.push([o,n])),i.sort((n,o)=>-(n[1].touch-o[1].touch)).forEach((n,o)=>n[1].touch=o),i.slice(0,200)}fromJSON(i){if(this._trie.clear(),i.length>0){this._seq=i[0][1].touch+1;for(let[n,o]of i)o.type=typeof o.type=="number"?o.type:nI(o.type),this._trie.set(n,o)}}},ly=class UE{constructor(i,n,o){this._storageService=i,this._modeService=n,this._configService=o,this._disposables=new Je,this._persistSoon=new $n(()=>this._saveState(),500),this._disposables.add(i.onWillSaveState(r=>{r.reason===_1.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(i,n,o){this._withStrategy(i,n).memorize(i,n,o),this._persistSoon.schedule()}select(i,n,o){return this._withStrategy(i,n).select(i,n,o)}_withStrategy(i,n){var o,r;let s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(o=this._modeService.getLanguageIdentifier(i.getLanguageIdAtPosition(n.lineNumber,n.column)))===null||o===void 0?void 0:o.language,resource:i.uri});if(((r=this._strategy)===null||r===void 0?void 0:r.name)!==s){this._saveState();let l=UE._strategyCtors.get(s)||$E;this._strategy=new l;try{let u=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,d=this._storageService.get(`${UE._storagePrefix}/${s}`,u);d&&this._strategy.fromJSON(JSON.parse(d))}catch{}}return this._strategy}_saveState(){if(this._strategy){let n=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,o=JSON.stringify(this._strategy);this._storageService.store(`${UE._storagePrefix}/${this._strategy.name}`,o,n,1)}}};ly._strategyCtors=new Map([["recentlyUsedByPrefix",kL],["recentlyUsed",RL],["first",$E]]);ly._storagePrefix="suggest/memories";ly=kce([ML(0,wr),ML(1,ar),ML(2,As)],ly);var AL=kl("ISuggestMemories");Ll(AL,ly,!0);Ot();xo();Pi();yn();WS();Pi();var Ace=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Fce=function(e,i){return function(n,o){i(n,o,e)}},yp=class qE{constructor(i,n){this._editor=i,this._index=0,this._ckOtherSuggestions=qE.OtherSuggestions.bindTo(n)}dispose(){this.reset()}reset(){var i;this._ckOtherSuggestions.reset(),(i=this._listener)===null||i===void 0||i.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:i,index:n},o){if(i.items.length===0){this.reset();return}if(qE._moveIndex(!0,i,n)===n){this.reset();return}this._acceptNext=o,this._model=i,this._index=n,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(i,n,o){let r=o;for(;r=(r+n.items.length+(i?1:-1))%n.items.length,!(r===o||!n.items[r].completion.additionalTextEdits););return r}next(){this._move(!0)}prev(){this._move(!1)}_move(i){if(this._model)try{this._ignore=!0,this._index=qE._moveIndex(i,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};yp.OtherSuggestions=new ii("hasOtherSuggestions",!1);yp=Ace([Fce(1,$t)],yp);ln();Mi();tn();bt();ho();zi();Bn();kn();var KE=class e{constructor(i,n,o,r,s,l,c){this.clipboardText=c,this._snippetCompareFn=e._compareCompletionItems,this._items=i,this._column=n,this._wordDistance=r,this._options=s,this._refilterKind=1,this._lineContext=o,l==="top"?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:l==="bottom"&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(i){(this._lineContext.leadingLineContent!==i.leadingLineContent||this._lineContext.characterCountDelta!==i.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<i.characterCountDelta&&this._filteredItems?2:1,this._lineContext=i)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();let i=new Set;for(let[n,o]of this._providerInfo)o&&i.add(n);return i}adopt(i){let n=[];for(let o=0;o<this._items.length;)i.has(this._items[o].provider)?o++:(n.push(this._items[o]),this._items[o]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,n}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;let i=[],{leadingLineContent:n,characterCountDelta:o}=this._lineContext,r="",s="",l=this._refilterKind===1?this._items:this._filteredItems,c=[],u=!this._options.filterGraceful||l.length>2e3?y1:uB;for(let d=0;d<l.length;d++){let h=l[d];if(h.isInvalid)continue;this._providerInfo.set(h.provider,!!h.container.incomplete);let p=h.position.column-h.editStart.column,g=p+o-(h.position.column-this._column);if(r.length!==g&&(r=g===0?"":n.slice(-g),s=r.toLowerCase()),h.word=r,g===0)h.score=Xp.Default;else{let f=0;for(;f<p;){let y=r.charCodeAt(f);if(y===32||y===9)f+=1;else break}if(f>=g)h.score=Xp.Default;else if(typeof h.completion.filterText=="string"){let y=u(r,s,f,h.completion.filterText,h.filterTextLow,0,!1);if(!y)continue;d8(h.completion.filterText,h.textLabel)===0?h.score=y:(h.score=cB(r,s,f,h.textLabel,h.labelLow,0),h.score[0]=y[0])}else{let y=u(r,s,f,h.textLabel,h.labelLow,0,!1);if(!y)continue;h.score=y}}h.idx=d,h.distance=this._wordDistance.distance(h.position,h.completion),c.push(h),i.push(h.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:i.length?G8(i.length-.85,i,(d,h)=>d-h):0}}static _compareCompletionItems(i,n){return i.score[0]>n.score[0]?-1:i.score[0]<n.score[0]?1:i.distance<n.distance?-1:i.distance>n.distance?1:i.idx<n.idx?-1:i.idx>n.idx?1:0}static _compareCompletionItemsSnippetsDown(i,n){if(i.completion.kind!==n.completion.kind){if(i.completion.kind===27)return 1;if(n.completion.kind===27)return-1}return e._compareCompletionItems(i,n)}static _compareCompletionItemsSnippetsUp(i,n){if(i.completion.kind!==n.completion.kind){if(i.completion.kind===27)return-1;if(n.completion.kind===27)return 1}return e._compareCompletionItems(i,n)}};Un();aI();kn();zt();var Tce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},V0=class e{static create(i,n){return Tce(this,void 0,void 0,function*(){if(!n.getOption(103).localityBonus||!n.hasModel())return e.None;let o=n.getModel(),r=n.getPosition();if(!i.canComputeWordRanges(o.uri))return e.None;let[s]=yield new kE().provideSelectionRanges(o,[r]);if(s.length===0)return e.None;let l=yield i.computeWordRanges(o.uri,s[0].range);if(!l)return e.None;let c=o.getWordUntilPosition(r);return delete l[c.word],new class extends e{distance(u,d){if(!r.equals(n.getPosition()))return 0;if(d.kind===17)return 2<<20;let h=typeof d.label=="string"?d.label:d.label.name,p=l[h];if(W8(p))return 2<<20;let g=OS(p,Me.fromPositions(u),Me.compareRangesUsingStarts),f=g>=0?p[g]:p[Math.max(0,~g-1)],y=s.length;for(let M of s){if(!Me.containsRange(M.range,f))break;y-=1}return y}}})}};V0.None=new class extends V0{distance(){return 0}};Bn();KS();VS();var Pce=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},YE=function(e,i){return function(n,o){i(n,o,e)}},Lce=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},Xg=class{constructor(i,n,o,r){this.leadingLineContent=i.getLineContent(n.lineNumber).substr(0,n.column-1),this.leadingWord=i.getWordUntilPosition(n),this.lineNumber=n.lineNumber,this.column=n.column,this.auto=o,this.shy=r}static shouldAutoTrigger(i){if(!i.hasModel())return!1;let n=i.getModel(),o=i.getPosition();n.tokenizeIfCheap(o.lineNumber);let r=n.getWordAtPosition(o);return!(!r||r.endColumn!==o.column||!isNaN(Number(r.word)))}},ZE=class aU{constructor(i,n,o,r,s){this._editor=i,this._editorWorkerService=n,this._clipboardService=o,this._telemetryService=r,this._logService=s,this._toDispose=new Je,this._quickSuggestDelay=10,this._triggerCharacterListener=new Je,this._triggerQuickSuggest=new Nr,this._state=0,this._completionDisposables=new Je,this._onDidCancel=new vt,this._onDidTrigger=new vt,this._onDidSuggest=new vt,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ct(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(Du.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(c=>{this._onCursorChange(c)}));let l=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{l=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{l=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{l||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){jn(this._triggerCharacterListener),jn([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(76),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(77)||!this._editor.hasModel()||!this._editor.getOption(106))return;let i=new Map;for(let o of Du.all(this._editor.getModel()))for(let r of o.triggerCharacters||[]){let s=i.get(r);s||(s=new Set,s.add(eU()),i.set(r,s)),s.add(o)}let n=o=>{if(!o){let l=this._editor.getPosition();o=this._editor.getModel().getLineContent(l.lineNumber).substr(0,l.column-1)}let r="";g8(o.charCodeAt(o.length-1))?p8(o.charCodeAt(o.length-2))&&(r=o.substr(o.length-2)):r=o.charAt(o.length-1);let s=i.get(r);if(s){let l=this._completionModel?{items:this._completionModel.adopt(s),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:r},!!this._completionModel,s,l)}};this._triggerCharacterListener.add(this._editor.onDidType(n)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(n))}get state(){return this._state}cancel(i=!1){var n;this._state!==0&&(this._triggerQuickSuggest.cancel(),(n=this._requestToken)===null||n===void 0||n.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:i}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!Du.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(i){if(!this._editor.hasModel())return;let n=this._editor.getModel(),o=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!i.selection.isEmpty()||i.reason!==0&&i.reason!==3||i.source!=="keyboard"&&i.source!=="deleteLeft"){this.cancel();return}if(Du.has(n))if(this._state===0&&i.reason===0){if(this._editor.getOption(75)===!1||!o.containsRange(this._currentSelection)&&!o.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(103).snippetsPreventQuickSuggestions&&ao.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!Xg.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;let r=this._editor.getModel(),s=this._editor.getPosition(),l=this._editor.getOption(75);if(l!==!1){if(l!==!0){r.tokenizeIfCheap(s.lineNumber);let c=r.getLineTokens(s.lineNumber),u=c.getStandardTokenType(c.findTokenIndexAtOffset(Math.max(s.column-1-1,0)));if(!(l.other&&u===0||l.comments&&u===1||l.strings&&u===2))return}this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else this._state!==0&&i.reason===3&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;let i=this._editor.getModel(),n=this._editor.getPosition(),o=new Xg(i,n,this._state===2,!1);this._onNewContext(o)})}trigger(i,n=!1,o,r){var s;if(!this._editor.hasModel())return;let l=this._editor.getModel(),c=i.auto,u=new Xg(l,this._editor.getPosition(),c,i.shy);this.cancel(n),this._state=c?2:1,this._onDidTrigger.fire({auto:c,shy:i.shy,position:this._editor.getPosition()}),this._context=u;let d={triggerKind:(s=i.triggerKind)!==null&&s!==void 0?s:0};i.triggerCharacter&&(d={triggerKind:1,triggerCharacter:i.triggerCharacter}),this._requestToken=new vr;let h=this._editor.getOption(98),p=1;switch(h){case"top":p=0;break;case"bottom":p=2;break}let g=aU._createItemKindFilter(this._editor),f=V0.create(this._editorWorkerService,this._editor),y=SL(l,this._editor.getPosition(),new Qg(p,g,o),d,this._requestToken.token);Promise.all([y,f]).then(([M,k])=>Lce(this,void 0,void 0,function*(){var G;if((G=this._requestToken)===null||G===void 0||G.dispose(),!this._editor.hasModel())return;let J=r?.clipboardText;if(!J&&M.needsClipboard&&(J=yield this._clipboardService.readText()),this._state===0)return;let $=this._editor.getModel(),_e=M.items;if(r){let Pe=xL(p);_e=_e.concat(r.items).sort(Pe)}let Fe=new Xg($,this._editor.getPosition(),c,i.shy);this._completionModel=new KE(_e,this._context.column,{leadingLineContent:Fe.leadingLineContent,characterCountDelta:Fe.column-this._context.column},k,this._editor.getOption(103),this._editor.getOption(98),J),this._completionDisposables.add(M.disposable),this._onNewContext(Fe),this._reportDurationsTelemetry(M.durations)})).catch(qt)}_reportDurationsTelemetry(i){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(i)}),this._logService.debug("suggest.durations.json",i)})}static _createItemKindFilter(i){let n=new Set;i.getOption(98)==="none"&&n.add(27);let r=i.getOption(103);return r.showMethods||n.add(0),r.showFunctions||n.add(1),r.showConstructors||n.add(2),r.showFields||n.add(3),r.showVariables||n.add(4),r.showClasses||n.add(5),r.showStructs||n.add(6),r.showInterfaces||n.add(7),r.showModules||n.add(8),r.showProperties||n.add(9),r.showEvents||n.add(10),r.showOperators||n.add(11),r.showUnits||n.add(12),r.showValues||n.add(13),r.showConstants||n.add(14),r.showEnums||n.add(15),r.showEnumMembers||n.add(16),r.showKeywords||n.add(17),r.showWords||n.add(18),r.showColors||n.add(19),r.showFiles||n.add(20),r.showReferences||n.add(21),r.showColors||n.add(22),r.showFolders||n.add(23),r.showTypeParameters||n.add(24),r.showSnippets||n.add(27),r.showUsers||n.add(25),r.showIssues||n.add(26),n}_onNewContext(i){if(this._context){if(i.lineNumber!==this._context.lineNumber){this.cancel();return}if(qn(i.leadingLineContent)!==qn(this._context.leadingLineContent)){this.cancel();return}if(i.column<this._context.column){i.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(this._completionModel){if(i.leadingWord.word.length!==0&&i.leadingWord.startColumn>this._context.leadingWord.startColumn){let n=new Set(Du.all(this._editor.getModel()));for(let r of this._completionModel.allProvider)n.delete(r);let o=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,n,{items:o,clipboardText:this._completionModel.clipboardText});return}if(i.column>this._context.column&&this._completionModel.incomplete.size>0&&i.leadingWord.word.length!==0){let{incomplete:n}=this._completionModel,o=this._completionModel.adopt(n);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,n,{items:o,clipboardText:this._completionModel.clipboardText})}else{let n=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:i.leadingLineContent,characterCountDelta:i.column-this._context.column},this._completionModel.items.length===0){if(Xg.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<i.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=n,o=this._completionModel.items.length>0,o&&i.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:o})}}}}};ZE=Pce([YE(1,Kf),YE(2,Yp),YE(3,Ph),YE(4,Ah)],ZE);Ot();Bi();Cn();zr();var Oce=xt("symbolIcon.arrayForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nce=xt("symbolIcon.booleanForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bce=xt("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vce=xt("symbolIcon.colorForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hce=xt("symbolIcon.constantForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zce=xt("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gce=xt("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Wce=xt("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jce=xt("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},_("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Uce=xt("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$ce=xt("symbolIcon.fileForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qce=xt("symbolIcon.folderForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Kce=xt("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Yce=xt("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Zce=xt("symbolIcon.keyForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qce=xt("symbolIcon.keywordForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xce=xt("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},_("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Jce=xt("symbolIcon.moduleForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),eue=xt("symbolIcon.namespaceForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tue=xt("symbolIcon.nullForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),iue=xt("symbolIcon.numberForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nue=xt("symbolIcon.objectForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oue=xt("symbolIcon.operatorForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rue=xt("symbolIcon.packageForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sue=xt("symbolIcon.propertyForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aue=xt("symbolIcon.referenceForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lue=xt("symbolIcon.snippetForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cue=xt("symbolIcon.stringForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uue=xt("symbolIcon.structForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),due=xt("symbolIcon.textForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hue=xt("symbolIcon.typeParameterForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pue=xt("symbolIcon.unitForeground",{dark:Rt,light:Rt,hc:Rt},_("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gue=xt("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},_("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));oi((e,i)=>{let n=e.getColor(Oce);n&&i.addRule(`${pt.symbolArray.cssSelector} { color: ${n}; }`);let o=e.getColor(Nce);o&&i.addRule(`${pt.symbolBoolean.cssSelector} { color: ${o}; }`);let r=e.getColor(Bce);r&&i.addRule(`${pt.symbolClass.cssSelector} { color: ${r}; }`);let s=e.getColor(Xce);s&&i.addRule(`${pt.symbolMethod.cssSelector} { color: ${s}; }`);let l=e.getColor(Vce);l&&i.addRule(`${pt.symbolColor.cssSelector} { color: ${l}; }`);let c=e.getColor(Hce);c&&i.addRule(`${pt.symbolConstant.cssSelector} { color: ${c}; }`);let u=e.getColor(zce);u&&i.addRule(`${pt.symbolConstructor.cssSelector} { color: ${u}; }`);let d=e.getColor(Gce);d&&i.addRule(`
			${pt.symbolValue.cssSelector},${pt.symbolEnum.cssSelector} { color: ${d}; }`);let h=e.getColor(Wce);h&&i.addRule(`${pt.symbolEnumMember.cssSelector} { color: ${h}; }`);let p=e.getColor(jce);p&&i.addRule(`${pt.symbolEvent.cssSelector} { color: ${p}; }`);let g=e.getColor(Uce);g&&i.addRule(`${pt.symbolField.cssSelector} { color: ${g}; }`);let f=e.getColor($ce);f&&i.addRule(`${pt.symbolFile.cssSelector} { color: ${f}; }`);let y=e.getColor(qce);y&&i.addRule(`${pt.symbolFolder.cssSelector} { color: ${y}; }`);let M=e.getColor(Kce);M&&i.addRule(`${pt.symbolFunction.cssSelector} { color: ${M}; }`);let k=e.getColor(Yce);k&&i.addRule(`${pt.symbolInterface.cssSelector} { color: ${k}; }`);let G=e.getColor(Zce);G&&i.addRule(`${pt.symbolKey.cssSelector} { color: ${G}; }`);let J=e.getColor(Qce);J&&i.addRule(`${pt.symbolKeyword.cssSelector} { color: ${J}; }`);let $=e.getColor(Jce);$&&i.addRule(`${pt.symbolModule.cssSelector} { color: ${$}; }`);let _e=e.getColor(eue);_e&&i.addRule(`${pt.symbolNamespace.cssSelector} { color: ${_e}; }`);let Fe=e.getColor(tue);Fe&&i.addRule(`${pt.symbolNull.cssSelector} { color: ${Fe}; }`);let Pe=e.getColor(iue);Pe&&i.addRule(`${pt.symbolNumber.cssSelector} { color: ${Pe}; }`);let $e=e.getColor(nue);$e&&i.addRule(`${pt.symbolObject.cssSelector} { color: ${$e}; }`);let nt=e.getColor(oue);nt&&i.addRule(`${pt.symbolOperator.cssSelector} { color: ${nt}; }`);let lt=e.getColor(rue);lt&&i.addRule(`${pt.symbolPackage.cssSelector} { color: ${lt}; }`);let Lt=e.getColor(sue);Lt&&i.addRule(`${pt.symbolProperty.cssSelector} { color: ${Lt}; }`);let Jt=e.getColor(aue);Jt&&i.addRule(`${pt.symbolReference.cssSelector} { color: ${Jt}; }`);let xn=e.getColor(lue);xn&&i.addRule(`${pt.symbolSnippet.cssSelector} { color: ${xn}; }`);let Ei=e.getColor(cue);Ei&&i.addRule(`${pt.symbolString.cssSelector} { color: ${Ei}; }`);let hn=e.getColor(uue);hn&&i.addRule(`${pt.symbolStruct.cssSelector} { color: ${hn}; }`);let bn=e.getColor(due);bn&&i.addRule(`${pt.symbolText.cssSelector} { color: ${bn}; }`);let as=e.getColor(hue);as&&i.addRule(`${pt.symbolTypeParameter.cssSelector} { color: ${as}; }`);let ot=e.getColor(pue);ot&&i.addRule(`${pt.symbolUnit.cssSelector} { color: ${ot}; }`);let Ut=e.getColor(gue);Ut&&i.addRule(`${pt.symbolVariable.cssSelector} { color: ${Ut}; }`)});Ot();Bn();Yi();tn();Mi();bt();Pi();Bi();Cn();ln();yn();Ot();bt();Yi();zr();tn();tn();bt();Yi();var H0=class{constructor(){this._onDidWillResize=new vt,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new vt,this.onDidResize=this._onDidResize.event,this._sashListener=new Je,this._size=new En(0,0),this._minSize=new En(0,0),this._maxSize=new En(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Tu(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Tu(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Tu(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:EI.North}),this._southSash=new Tu(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:EI.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let i,n=0,o=0;this._sashListener.add(So.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{i===void 0&&(this._onDidWillResize.fire(),i=this._size,n=0,o=0)})),this._sashListener.add(So.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{i!==void 0&&(i=void 0,n=0,o=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{i&&(o=r.currentX-r.startX,this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{i&&(o=-(r.currentX-r.startX),this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{i&&(n=-(r.currentY-r.startY),this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{i&&(n=r.currentY-r.startY,this.layout(i.height+n,i.width+o),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(So.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(So.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this.domNode.remove()}enableSashes(i,n,o,r){this._northSash.state=i?3:0,this._eastSash.state=n?3:0,this._southSash.state=o?3:0,this._westSash.state=r?3:0}layout(i=this.size.height,n=this.size.width){let{height:o,width:r}=this._minSize,{height:s,width:l}=this._maxSize;i=Math.max(o,Math.min(s,i)),n=Math.max(r,Math.min(l,n));let c=new En(n,i);En.equals(c,this._size)||(this.domNode.style.height=i+"px",this.domNode.style.width=n+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(i){this._maxSize=i}get maxSize(){return this._maxSize}set minSize(i){this._minSize=i}get minSize(){return this._minSize}set preferredSize(i){this._preferredSize=i}get preferredSize(){return this._preferredSize}};yn();var fue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},mue=function(e,i){return function(n,o){i(n,o,e)}};function cy(e){return!!e&&!!(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}var QE=class{constructor(i,n){this._editor=i,this._onDidClose=new vt,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new vt,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Je,this._renderDisposeable=new Je,this._borderWidth=1,this._size=new En(330,0),this.domNode=ht(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(fl,{editor:i}),this._body=ht(".body"),this._scrollbar=new sm(this._body,{}),ut(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ut(this._body,ht(".header")),this._close=ut(this._header,ht("span"+pt.close.cssSelector)),this._close.title=_("details.close","Close"),this._type=ut(this._header,ht("p.type")),this._docs=ut(this._body,ht("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(40)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){let i=this._editor.getOptions(),n=i.get(40),o=n.fontFamily,r=i.get(104)||n.fontSize,s=i.get(105)||n.lineHeight,l=n.fontWeight,c=`${r}px`,u=`${s}px`;this.domNode.style.fontSize=c,this.domNode.style.lineHeight=u,this.domNode.style.fontWeight=l,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=o,this._close.style.height=u,this._close.style.width=u}getLayoutInfo(){let i=this._editor.getOption(105)||this._editor.getOption(40).lineHeight,n=this._borderWidth,o=n*2;return{lineHeight:i,borderWidth:n,borderHeight:o,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=_("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(i,n){var o,r;this._renderDisposeable.clear();let{detail:s,documentation:l}=i.completion;if(n){let c="";c+=`score: ${i.score[0]}
`,c+=`prefix: ${(o=i.word)!==null&&o!==void 0?o:"(no prefix)"}
`,c+=`word: ${i.completion.filterText?i.completion.filterText+" (filterText)":i.textLabel}
`,c+=`distance: ${i.distance} (localityBonus-setting)
`,c+=`index: ${i.idx}, based on ${i.completion.sortText&&`sortText: "${i.completion.sortText}"`||"label"}
`,c+=`commit_chars: ${(r=i.completion.commitCharacters)===null||r===void 0?void 0:r.join("")}
`,l=new Zo().appendCodeblock("empty",c),s=`Provider: ${i.provider._debugDisplayName}`}if(!n&&!cy(i)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),s){let c=s.length>1e5?`${s.substr(0,1e5)}\u2026`:s;this._type.textContent=c,this._type.title=c,Wo(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(c))}else Is(this._type),this._type.title="",_o(this._type),this.domNode.classList.add("no-type");if(Is(this._docs),typeof l=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=l;else if(l){this._docs.classList.add("markdown-docs"),Is(this._docs);let c=this._markdownRenderer.render(l);this._docs.appendChild(c.element),this._renderDisposeable.add(c),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=c=>{c.preventDefault(),c.stopPropagation()},this._close.onclick=c=>{c.preventDefault(),c.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(i,n){let o=new En(i,n);En.equals(o,this._size)||(this._size=o,t8(this.domNode,i,n)),this._scrollbar.scanDomNode()}scrollDown(i=8){this._body.scrollTop+=i}scrollUp(i=8){this._body.scrollTop-=i}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(i){this._borderWidth=i}get borderWidth(){return this._borderWidth}};QE=fue([mue(1,hi)],QE);var XE=class{constructor(i,n){this.widget=i,this._editor=n,this._disposables=new Je,this._added=!1,this._resizable=new H0,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(i.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o,r,s=0,l=0;this._disposables.add(this._resizable.onDidWillResize(()=>{o=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(c=>{if(o&&r){this.widget.layout(c.dimension.width,c.dimension.height);let u=!1;c.west&&(l=r.width-c.dimension.width,u=!0),c.north&&(s=r.height-c.dimension.height,u=!0),u&&this._applyTopLeft({top:o.top+s,left:o.left+l})}c.done&&(o=void 0,r=void 0,s=0,l=0,this._userSize=c.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var c;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(c=this._userSize)!==null&&c!==void 0?c:this.widget.size)}))}dispose(){this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(i=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),i&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(i){var n;let o=Go(i);this._anchorBox=o,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(i,n){let o=_S(document.body),r=this.widget.getLayoutInfo(),s,l,c=new En(220,2*r.lineHeight),u=0,d=i.top,h=i.top+i.height-r.borderHeight,p,g,f=o.width-(i.left+i.width+r.borderWidth+r.horizontalPadding);u=-r.borderWidth+i.left+i.width,g=!0,s=new En(f,o.height-i.top-r.borderHeight-r.verticalPadding),l=s.with(void 0,i.top+i.height-r.borderHeight-r.verticalPadding),n.width>f&&(i.left>f&&(f=i.left-r.borderWidth-r.horizontalPadding,g=!1,u=Math.max(r.horizontalPadding,i.left-n.width-r.borderWidth),s=s.with(f),l=s.with(void 0,l.height)),i.width>f*1.3&&o.height-(i.top+i.height)>i.height&&(f=i.width,u=i.left,d=-r.borderWidth+i.top+i.height,s=new En(i.width-r.borderHeight,o.height-i.top-i.height-r.verticalPadding),l=s.with(void 0,i.top-r.verticalPadding),c=c.with(s.width)));let y=n.height,M=Math.max(s.height,l.height);y>M&&(y=M);let k;y<=s.height?(p=!0,k=s):(p=!1,k=l),this._applyTopLeft({left:u,top:p?d:h-y}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!p,g,p,!g),this._resizable.minSize=c,this._resizable.maxSize=k,this._resizable.layout(y,Math.min(k.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(i){this._topLeft=i,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}};Yi();bt();Ot();Cr();Pi();yn();var vue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},FL=function(e,i){return function(n,o){i(n,o,e)}},TL=class e extends yw{updateLabel(){let i=this._keybindingService.lookupKeybinding(this._action.id);if(!i)return super.updateLabel();this.label&&(this.label.textContent=_("ddd","{0} ({1})",this._action.label,e.symbolPrintEnter(i)))}static symbolPrintEnter(i){var n;return(n=i.getLabel())===null||n===void 0?void 0:n.replace(/\benter\b/gi,"\u23CE")}},JE=class{constructor(i,n,o,r){this._menuService=o,this._contextKeyService=r,this._menuDisposables=new Je,this.element=ut(i,ht(".suggest-status-bar"));let s=l=>l instanceof Kv?n.createInstance(TL,l):void 0;this._leftActions=new sC(this.element,{actionViewItemProvider:s}),this._rightActions=new sC(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){let i=this._menuService.createMenu(lu,this._contextKeyService),n=()=>{let o=[],r=[];for(let[s,l]of i.getActions())s==="left"?o.push(...l):r.push(...l);this._leftActions.clear(),this._leftActions.push(o),this._rightActions.clear(),this._rightActions.push(r)};this._menuDisposables.add(i.onDidChange(()=>n())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};JE=vue([FL(1,hi),FL(2,Xf),FL(3,$t)],JE);Ot();bt();Yi();Bi();Rh();zi();Ov();Ms();UZ();var cu=function(e){return e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER",e}(cu||{});function uy(e,i,n,o){let r=o===cu.ROOT_FOLDER?["rootfolder-icon"]:o===cu.FOLDER?["folder-icon"]:["file-icon"];if(n){let s;if(n.scheme===po.data?s=Vv.parseMetaData(n).get(Vv.META_DATA_LABEL):s=lU(ES(n).toLowerCase()),o===cu.FOLDER)r.push(`${s}-name-folder-icon`);else{if(s){if(r.push(`${s}-name-file-icon`),s.length<=255){let c=s.split(".");for(let u=1;u<c.length;u++)r.push(`${c.slice(u).join(".")}-ext-file-icon`)}r.push("ext-file-icon")}let l=Cue(e,i,n);l&&r.push(`${lU(l)}-lang-file-icon`)}}return r}function Cue(e,i,n){if(!n)return null;let o=null;if(n.scheme===po.data){let s=Vv.parseMetaData(n).get(Vv.META_DATA_MIME);s&&(o=i.getModeId(s))}else{let r=e.getModel(n);r&&(o=r.getModeId())}return o&&o!==J5?o:i.getModeIdByFilepathOrFirstLine(n)}function lU(e){return e.replace(/[\11\12\14\15\40]/g,"/")}Eh();Fo();kn();zr();tn();var wue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},PL=function(e,i){return function(n,o){i(n,o,e)}},dy;function LL(e){return`suggest-aria-id:${e}`}var bue=Eo("suggest-more-info",pt.chevronRight,_("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),yue=new(dy=class e2{extract(i,n){if(i.textLabel.match(e2._regexStrict))return n[0]=i.textLabel,!0;if(i.completion.detail&&i.completion.detail.match(e2._regexStrict))return n[0]=i.completion.detail,!0;if(typeof i.completion.documentation=="string"){let o=e2._regexRelaxed.exec(i.completion.documentation);if(o&&(o.index===0||o.index+o[0].length===i.completion.documentation.length))return n[0]=o[0],!0}return!1}},dy._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,dy._regexStrict=new RegExp(`^${dy._regexRelaxed.source}$`,"i"),dy),t2=class{constructor(i,n,o,r){this._editor=i,this._modelService=n,this._modeService=o,this._themeService=r,this._onDidToggleDetails=new vt,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(i){let n=Object.create(null);n.disposables=new Je,n.root=i,n.root.classList.add("show-file-icons"),n.icon=ut(i,ht(".icon")),n.colorspan=ut(n.icon,ht("span.colorspan"));let o=ut(i,ht(".contents")),r=ut(o,ht(".main"));n.iconContainer=ut(r,ht(".icon-label.codicon")),n.left=ut(r,ht("span.left")),n.right=ut(r,ht("span.right")),n.iconLabel=new D1(n.left,{supportHighlights:!0,supportIcons:!0}),n.disposables.add(n.iconLabel),n.parametersLabel=ut(n.left,ht("span.signature-label")),n.qualifierLabel=ut(n.left,ht("span.qualifier-label")),n.detailsLabel=ut(n.right,ht("span.details-label")),n.readMore=ut(n.right,ht("span.readMore"+An.asCSSSelector(bue))),n.readMore.title=_("readMore","Read More");let s=()=>{let l=this._editor.getOptions(),c=l.get(40),u=c.fontFamily,d=c.fontFeatureSettings,h=l.get(104)||c.fontSize,p=l.get(105)||c.lineHeight,g=c.fontWeight,f=`${h}px`,y=`${p}px`;n.root.style.fontSize=f,n.root.style.fontWeight=g,r.style.fontFamily=u,r.style.fontFeatureSettings=d,r.style.lineHeight=y,n.icon.style.height=y,n.icon.style.width=y,n.readMore.style.height=y,n.readMore.style.width=y};return s(),n.disposables.add(this._editor.onDidChangeConfiguration(l=>{(l.hasChanged(40)||l.hasChanged(104)||l.hasChanged(105))&&s()})),n}renderElement(i,n,o){var r,s,l;let{completion:c}=i;o.root.id=LL(n),o.colorspan.style.backgroundColor="";let u={labelEscapeNewLines:!0,matches:Qp(i.score)},d=[];if(c.kind===19&&yue.extract(i,d))o.icon.className="icon customcolor",o.iconContainer.className="icon hide",o.colorspan.style.backgroundColor=d[0];else if(c.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){o.icon.className="icon hide",o.iconContainer.className="icon hide";let h=uy(this._modelService,this._modeService,ui.from({scheme:"fake",path:i.textLabel}),cu.FILE),p=uy(this._modelService,this._modeService,ui.from({scheme:"fake",path:c.detail}),cu.FILE);u.extraClasses=h.length>p.length?h:p}else c.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(o.icon.className="icon hide",o.iconContainer.className="icon hide",u.extraClasses=$p([uy(this._modelService,this._modeService,ui.from({scheme:"fake",path:i.textLabel}),cu.FOLDER),uy(this._modelService,this._modeService,ui.from({scheme:"fake",path:c.detail}),cu.FOLDER)])):(o.icon.className="icon hide",o.iconContainer.className="",o.iconContainer.classList.add("suggest-icon",...R8(c.kind).split(" ")));c.tags&&c.tags.indexOf(1)>=0&&(u.extraClasses=(u.extraClasses||[]).concat(["deprecated"]),u.matches=[]),o.iconLabel.setLabel(i.textLabel,void 0,u),typeof c.label=="string"?(o.parametersLabel.textContent="",o.qualifierLabel.textContent="",o.detailsLabel.textContent=(c.detail||"").replace(/\n.*$/m,""),o.root.classList.add("string-label"),o.root.title=""):(o.parametersLabel.textContent=(c.label.parameters||"").replace(/\n.*$/m,""),o.qualifierLabel.textContent=(c.label.qualifier||"").replace(/\n.*$/m,""),o.detailsLabel.textContent=(c.label.type||"").replace(/\n.*$/m,""),o.root.classList.remove("string-label"),o.root.title=`${i.textLabel}${(r=c.label.parameters)!==null&&r!==void 0?r:""}  ${(s=c.label.qualifier)!==null&&s!==void 0?s:""}  ${(l=c.label.type)!==null&&l!==void 0?l:""}`),this._editor.getOption(103).showInlineDetails?Wo(o.detailsLabel):_o(o.detailsLabel),cy(i)?(o.right.classList.add("can-expand-details"),Wo(o.readMore),o.readMore.onmousedown=h=>{h.stopPropagation(),h.preventDefault()},o.readMore.onclick=h=>{h.stopPropagation(),h.preventDefault(),this._onDidToggleDetails.fire()}):(o.right.classList.remove("can-expand-details"),_o(o.readMore),o.readMore.onmousedown=null,o.readMore.onclick=null)}disposeTemplate(i){i.disposables.dispose()}};t2=wue([PL(1,Po),PL(2,ar),PL(3,Jn)],t2);OZ();var Sue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},i2=function(e,i){return function(n,o){i(n,o,e)}},_ue=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},xue=xt("editorSuggestWidget.background",{dark:Fs,light:Fs,hc:Fs},_("editorSuggestWidgetBackground","Background color of the suggest widget.")),Due=xt("editorSuggestWidget.border",{dark:tm,light:tm,hc:tm},_("editorSuggestWidgetBorder","Border color of the suggest widget.")),Eue=xt("editorSuggestWidget.foreground",{dark:s1,light:s1,hc:s1},_("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Iue=xt("editorSuggestWidget.selectedBackground",{dark:l1,light:l1,hc:l1},_("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),Mue=xt("editorSuggestWidget.highlightForeground",{dark:a1,light:a1,hc:a1},_("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),OL=class{constructor(i,n){this._service=i,this._key=`suggestWidget.size/${n.getEditorType()}/${n instanceof gl}`}restore(){var i;let n=(i=this._service.get(this._key,0))!==null&&i!==void 0?i:"";try{let o=JSON.parse(n);if(En.is(o))return En.lift(o)}catch{}}store(i){this._service.store(this._key,JSON.stringify(i),0,1)}reset(){this._service.remove(this._key,0)}},z0=class NL{constructor(i,n,o,r,s){this.editor=i,this._storageService=n,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._explainMode=!1,this._showTimeout=new Nr,this._disposables=new Je,this._onDidSelect=new vt,this._onDidFocus=new vt,this._onDidHide=new vt,this._onDidShow=new vt,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new vt,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new H0,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new BL(this,i),this._persistedSize=new OL(n,i);class l{constructor(f,y,M=!1,k=!1){this.persistedSize=f,this.currentSize=y,this.persistHeight=M,this.persistWidth=k}}let c;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),c=new l(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(g=>{var f,y,M,k;if(this._resize(g.dimension.width,g.dimension.height),c&&(c.persistHeight=c.persistHeight||!!g.north||!!g.south,c.persistWidth=c.persistWidth||!!g.east||!!g.west),!!g.done){if(c){let{itemHeight:G,defaultSize:J}=this.getLayoutInfo(),$=Math.round(G/2),{width:_e,height:Fe}=this.element.size;(!c.persistHeight||Math.abs(c.currentSize.height-Fe)<=$)&&(Fe=(y=(f=c.persistedSize)===null||f===void 0?void 0:f.height)!==null&&y!==void 0?y:J.height),(!c.persistWidth||Math.abs(c.currentSize.width-_e)<=$)&&(_e=(k=(M=c.persistedSize)===null||M===void 0?void 0:M.width)!==null&&k!==void 0?k:J.width),this._persistedSize.store(new En(_e,Fe))}this._contentWidget.unlockPreference(),c=void 0}})),this._messageElement=ut(this.element.domNode,ht(".message")),this._listElement=ut(this.element.domNode,ht(".tree"));let u=s.createInstance(QE,this.editor);u.onDidClose(this.toggleDetails,this,this._disposables),this._details=new XE(u,this.editor);let d=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(103).showIcons);d();let h=s.createInstance(t2,this.editor);this._disposables.add(h),this._disposables.add(h.onDidToggleDetails(()=>this.toggleDetails())),this._list=new vB("SuggestWidget",this._listElement,{getHeight:g=>this.getLayoutInfo().itemHeight,getTemplateId:g=>"suggestion"},[h],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:g=>{if(g.isResolved&&this._isDetailsVisible()){let{documentation:f,detail:y}=g.completion,M=ds("{0}{1}",y||"",f?typeof f=="string"?f:f.value:"");return _("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",g.textLabel,M)}else return g.textLabel},getWidgetAriaLabel:()=>_("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=s.createInstance(JE,this.element.domNode);let p=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(103).showStatusBar);p(),this._disposables.add(fB(this._list,r,{listInactiveFocusBackground:Iue,listInactiveFocusOutline:Ru})),this._disposables.add(r.onDidColorThemeChange(g=>this._onThemeChange(g))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown(g=>this._onListMouseDownOrTap(g))),this._disposables.add(this._list.onTap(g=>this._onListMouseDownOrTap(g))),this._disposables.add(this._list.onDidChangeSelection(g=>this._onListSelection(g))),this._disposables.add(this._list.onDidChangeFocus(g=>this._onListFocus(g))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(g=>{g.hasChanged(103)&&(p(),d())})),this._ctxSuggestWidgetVisible=ci.Visible.bindTo(o),this._ctxSuggestWidgetDetailsVisible=ci.DetailsVisible.bindTo(o),this._ctxSuggestWidgetMultipleSuggestions=ci.MultipleSuggestions.bindTo(o),this._disposables.add(cs(this._details.widget.domNode,"keydown",g=>{this._onDetailsKeydown.fire(g)})),this._disposables.add(this.editor.onMouseDown(g=>this._onEditorMouseDown(g)))}dispose(){var i;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(i=this._loadingTimeout)===null||i===void 0||i.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(i){this._details.widget.domNode.contains(i.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(i.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(i){typeof i.element>"u"||typeof i.index>"u"||(i.browserEvent.preventDefault(),i.browserEvent.stopPropagation(),this._select(i.element,i.index))}_onListSelection(i){i.elements.length&&this._select(i.elements[0],i.indexes[0])}_select(i,n){let o=this._completionModel;o&&(this._onDidSelect.fire({item:i,index:n,model:o}),this.editor.focus())}_onThemeChange(i){let n=i.getColor(xue);n&&(this.element.domNode.style.backgroundColor=n.toString(),this._messageElement.style.backgroundColor=n.toString(),this._details.widget.domNode.style.backgroundColor=n.toString());let o=i.getColor(Due);o&&(this.element.domNode.style.borderColor=o.toString(),this._messageElement.style.borderColor=o.toString(),this._status.element.style.borderTopColor=o.toString(),this._details.widget.domNode.style.borderColor=o.toString(),this._detailsBorderColor=o.toString());let r=i.getColor(JS);r&&(this._detailsFocusBorderColor=r.toString()),this._details.widget.borderWidth=i.type==="hc"?2:1}_onListFocus(i){var n;if(this._ignoreFocusEvents)return;if(!i.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;let o=i.elements[0],r=i.indexes[0];o!==this._focusedItem&&((n=this._currentSuggestionDetails)===null||n===void 0||n.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=o,this._list.reveal(r),this._currentSuggestionDetails=Ui(s=>_ue(this,void 0,void 0,function*(){let l=Hp(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);s.onCancellationRequested(()=>l.dispose());let c=yield o.resolve(s);return l.dispose(),c})),this._currentSuggestionDetails.then(()=>{r>=this._list.length||o!==this._list.element(r)||(this._ignoreFocusEvents=!0,this._list.splice(r,1,[o]),this._list.setFocus([r]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:LL(r)}))}).catch(qt)),this._onDidFocus.fire({item:o,index:r,model:this._completionModel})}_setState(i){if(this._state!==i)switch(this._state=i,this.element.domNode.classList.toggle("frozen",i===4),this.element.domNode.classList.remove("message"),i){case 0:_o(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=NL.LOADING_MESSAGE,_o(this._listElement,this._status.element),Wo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=NL.NO_SUGGESTIONS_MESSAGE,_o(this._listElement,this._status.element),Wo(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:_o(this._messageElement),Wo(this._listElement,this._status.element),this._show();break;case 4:_o(this._messageElement),Wo(this._listElement,this._status.element),this._show();break;case 5:_o(this._messageElement),Wo(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(i,n){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!i,this._isAuto||(this._loadingTimeout=Hp(()=>this._setState(1),n)))}showSuggestions(i,n,o,r){var s,l;if(this._contentWidget.setPosition(this.editor.getPosition()),(s=this._loadingTimeout)===null||s===void 0||s.dispose(),(l=this._currentSuggestionDetails)===null||l===void 0||l.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==i&&(this._completionModel=i),o&&this._state!==2&&this._state!==0){this._setState(4);return}let c=this._completionModel.items.length,u=c===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(c>1),u){this._setState(r?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(o?4:3),this._list.reveal(n,0),this._list.setFocus([n]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(cy(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(i){this._details.show(),i?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var i;(i=this._loadingTimeout)===null||i===void 0||i.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();let n=this._persistedSize.restore(),o=Math.ceil(this.getLayoutInfo().itemHeight*4.3);n&&n.height<o&&this._persistedSize.store(n.with(void 0,o))}isFrozen(){return this._state===4}_afterRender(i){if(i===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(i){var n,o,r;if(!this.editor.hasModel()||!this.editor.getDomNode())return;let s=_S(document.body),l=this.getLayoutInfo();i||(i=l.defaultSize);let c=i.height,u=i.width;if(this._status.element.style.lineHeight=`${l.itemHeight}px`,this._state===2||this._state===1)c=l.itemHeight+l.borderHeight,u=l.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new En(u,c),this._contentWidget.setPreference(2);else{let d=s.width-l.borderHeight-2*l.horizontalPadding;u>d&&(u=d);let h=this._completionModel?this._completionModel.stats.pLabelLen*l.typicalHalfwidthCharacterWidth:u,p=l.statusBarHeight+this._list.contentHeight+l.borderHeight,g=l.itemHeight+l.statusBarHeight,f=Go(this.editor.getDomNode()),y=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),M=f.top+y.top+y.height,k=Math.min(s.height-M-l.verticalPadding,p),G=Math.min(f.top+y.top-l.verticalPadding,p),J=Math.min(Math.max(G,k)+l.borderHeight,p);c===((n=this._cappedHeight)===null||n===void 0?void 0:n.capped)&&(c=this._cappedHeight.wanted),c<g&&(c=g),c>J&&(c=J),c>k?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),J=G):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),J=k),this.element.preferredSize=new En(h,l.defaultSize.height),this.element.maxSize=new En(d,J),this.element.minSize=new En(220,g),this._cappedHeight=c===p?{wanted:(r=(o=this._cappedHeight)===null||o===void 0?void 0:o.wanted)!==null&&r!==void 0?r:i.height,capped:c}:void 0}this._resize(u,c)}_resize(i,n){let{width:o,height:r}=this.element.maxSize;i=Math.min(o,i),n=Math.min(r,n);let{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(n-s,i),this._listElement.style.height=`${n-s}px`,this.element.layout(n,i),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){let i=this.editor.getOption(40),n=I8(this.editor.getOption(105)||i.lineHeight,8,1e3),o=!this.editor.getOption(103).showStatusBar||this._state===2||this._state===1?0:n,r=this._details.widget.borderWidth,s=2*r;return{itemHeight:n,statusBarHeight:o,borderWidth:r,borderHeight:s,typicalHalfwidthCharacterWidth:i.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new En(430,o+12*n+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(i){this._storageService.store("expandSuggestionDocs",i,0,0)}};z0.LOADING_MESSAGE=_("suggestWidget.loading","Loading...");z0.NO_SUGGESTIONS_MESSAGE=_("suggestWidget.noSuggestions","No suggestions.");z0=Sue([i2(1,wr),i2(2,$t),i2(3,Jn),i2(4,hi)],z0);var BL=class{constructor(i,n){this._widget=i,this._editor=n,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){let{height:i,width:n}=this._widget.element.size,{borderWidth:o,horizontalPadding:r}=this._widget.getLayoutInfo();return new En(n+2*o+r,i+2*o)}afterRender(i){this._widget._afterRender(i)}setPreference(i){this._preferenceLocked||(this._preference=i)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(i){this._position=i}};oi((e,i)=>{let n=e.getColor(Mue);n&&i.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${n}; }`);let o=e.getColor(Eue);o&&i.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${o}; }`);let r=e.getColor(Pl);r&&i.addRule(`.monaco-editor .suggest-details a { color: ${r}; }`);let s=e.getColor(Jf);s&&i.addRule(`.monaco-editor .suggest-details code { background-color: ${s}; }`)});Pi();var Rue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},kue=function(e,i){return function(n,o){i(n,o,e)}},G0=class cU{constructor(i,n){this._editor=i,this._enabled=!1,this._ckAtEnd=cU.AtEnd.bindTo(n),this._configListener=this._editor.onDidChangeConfiguration(o=>o.hasChanged(108)&&this._update()),this._update()}dispose(){var i;this._configListener.dispose(),(i=this._selectionListener)===null||i===void 0||i.dispose(),this._ckAtEnd.reset()}_update(){let i=this._editor.getOption(108)==="on";if(this._enabled!==i)if(this._enabled=i,this._enabled){let n=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}let o=this._editor.getModel(),r=this._editor.getSelection(),s=o.getWordAtPosition(r.getStartPosition());if(!s){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(s.endColumn===r.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(n),n()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};G0.AtEnd=new ii("atEndOfWord",!1);G0=Rue([kue(1,$t)],G0);tn();ln();To();kn();bt();lI();var n2=class{constructor(i,n,o){this._disposables=new Je,this._disposables.add(n.onDidShow(()=>this._onItem(n.getFocusedItem()))),this._disposables.add(n.onDidFocus(this._onItem,this)),this._disposables.add(n.onDidHide(this.reset,this)),this._disposables.add(i.onWillType(r=>{if(this._active&&!n.isFrozen()){let s=r.charCodeAt(r.length-1);this._active.acceptCharacters.has(s)&&i.getOption(0)&&o(this._active.item)}}))}_onItem(i){if(!i||!fo(i.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===i.item)return;let n=new Iu;for(let o of i.item.completion.commitCharacters)o.length>0&&n.add(o.charCodeAt(0));this._active={acceptCharacters:n,item:i}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}};bt();var uU=(()=>{class e{constructor(n,o){this._disposables=new Je,this._lastOvertyped=[],this._empty=!0,this._disposables.add(n.onWillType(()=>{if(!this._empty||!n.hasModel())return;let r=n.getSelections(),s=r.length,l=!1;for(let u=0;u<s;u++)if(!r[u].isEmpty()){l=!0;break}if(!l)return;this._lastOvertyped=[];let c=n.getModel();for(let u=0;u<s;u++){let d=r[u];if(c.getValueLengthInRange(d)>e._maxSelectionLength)return;this._lastOvertyped[u]={value:c.getValueInRange(d),multiline:d.startLineNumber!==d.endLineNumber}}this._empty=!1})),this._disposables.add(o.onDidCancel(r=>{!this._empty&&!r.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(n){if(!this._empty&&n>=0&&n<this._lastOvertyped.length)return this._lastOvertyped[n]}dispose(){this._disposables.dispose()}}return e._maxSelectionLength=51200,e})();Xn();ba();Cr();Un();VS();B3();var Aue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},hy=function(e,i){return function(n,o){i(n,o,e)}},Fue=!1,VL=class{constructor(i,n){if(this._model=i,this._position=n,i.getLineMaxColumn(n.lineNumber)!==n.column){let r=i.getOffsetAt(n),s=i.getPositionAt(r+1);this._marker=i.deltaDecorations([],[{range:Me.fromPositions(n,s),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(i){if(this._model.isDisposed()||this._position.lineNumber!==i.lineNumber)return 0;if(this._marker){let n=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(n.getStartPosition())-this._model.getOffsetAt(i)}else return this._model.getLineMaxColumn(i.lineNumber)-i.column}},Sp=class dU{constructor(i,n,o,r,s,l){this._memoryService=n,this._commandService=o,this._contextKeyService=r,this._instantiationService=s,this._logService=l,this._lineSuffix=new Ao,this._toDispose=new Je,this.editor=i,this.model=s.createInstance(ZE,this.editor);let c=ci.InsertMode.bindTo(r);c.set(i.getOption(103).insertMode),this.model.onDidTrigger(()=>c.set(i.getOption(103).insertMode)),this.widget=this._toDispose.add(new Bf(()=>{let h=this._instantiationService.createInstance(z0,this.editor);this._toDispose.add(h),this._toDispose.add(h.onDidSelect(M=>this._insertSuggestion(M,0),this));let p=new n2(this.editor,h,M=>this._insertSuggestion(M,2));this._toDispose.add(p),this._toDispose.add(this.model.onDidSuggest(M=>{M.completionModel.items.length===0&&p.reset()}));let g=ci.MakesTextEdit.bindTo(this._contextKeyService),f=ci.HasInsertAndReplaceRange.bindTo(this._contextKeyService),y=ci.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(uo(()=>{g.reset(),f.reset(),y.reset()})),this._toDispose.add(h.onDidFocus(({item:M})=>{let k=this.editor.getPosition(),G=M.editStart.column,J=k.column,$=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!M.completion.command&&!M.completion.additionalTextEdits&&!(M.completion.insertTextRules&4)&&J-G===M.completion.insertText.length&&($=this.editor.getModel().getValueInRange({startLineNumber:k.lineNumber,startColumn:G,endLineNumber:k.lineNumber,endColumn:J})!==M.completion.insertText),g.set($),f.set(!It.equals(M.editInsertEnd,M.editReplaceEnd)),y.set(!!M.provider.resolveCompletionItem||!!M.completion.documentation||M.completion.detail!==M.completion.label)})),this._toDispose.add(h.onDetailsKeyDown(M=>{if(M.toKeybinding().equals(new V3(!0,!1,!1,!1,33))||rr&&M.toKeybinding().equals(new V3(!1,!1,!1,!0,33))){M.stopPropagation();return}M.toKeybinding().isModifierKey()||this.editor.focus()})),h})),this._overtypingCapturer=this._toDispose.add(new Bf(()=>this._toDispose.add(new uU(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Bf(()=>this._toDispose.add(new yp(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(G0,i)),this._toDispose.add(this.model.onDidTrigger(h=>{this.widget.value.showTriggered(h.auto,h.shy?250:50),this._lineSuffix.value=new VL(this.editor.getModel(),h.position)})),this._toDispose.add(this.model.onDidSuggest(h=>{if(!h.shy){let p=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),h.completionModel.items);this.widget.value.showSuggestions(h.completionModel,p,h.isFrozen,h.auto)}})),this._toDispose.add(this.model.onDidCancel(h=>{h.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Fue||(this.model.cancel(),this.model.clear())}));let u=ci.AcceptSuggestionsOnEnter.bindTo(r),d=()=>{let h=this.editor.getOption(1);u.set(h==="on"||h==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>d())),d()}static get(i){return i.getContribution(dU.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(i,n){if(!i||!i.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;let o=this.editor.getModel(),r=o.getAlternativeVersionId(),{item:s}=i,l=[],c=new vr;n&1||this.editor.pushUndoStop();let u=this.getOverwriteInfo(s,!!(n&8));if(this._memoryService.memorize(o,this.editor.getPosition(),s),Array.isArray(s.completion.additionalTextEdits)){let h=am.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map(p=>on.replace(Me.lift(p.range),p.text))),h.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!s.isResolved){let h=new xh(!0),p,g=o.onDidChangeContent(k=>{if(k.isFlush){c.cancel(),g.dispose();return}for(let G of k.changes){let J=Me.getEndPosition(G.range);(!p||It.isBefore(J,p))&&(p=J)}}),f=n;n|=2;let y=!1,M=this.editor.onWillType(()=>{M.dispose(),y=!0,f&2||this.editor.pushUndoStop()});l.push(s.resolve(c.token).then(()=>{if(!s.completion.additionalTextEdits||c.token.isCancellationRequested||p&&s.completion.additionalTextEdits.some(G=>It.isBefore(p,Me.getStartPosition(G.range))))return!1;y&&this.editor.pushUndoStop();let k=am.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map(G=>on.replace(Me.lift(G.range),G.text))),k.restoreRelativeVerticalPositionOfCursor(this.editor),(y||!(f&2))&&this.editor.pushUndoStop(),!0}).then(k=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",h.elapsed(),k),g.dispose(),M.dispose()}))}let{insertText:d}=s.completion;s.completion.insertTextRules&4||(d=wp.escape(d)),ao.get(this.editor).insert(d,{overwriteBefore:u.overwriteBefore,overwriteAfter:u.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(s.completion.insertTextRules&1),clipboardText:i.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),n&2||this.editor.pushUndoStop(),s.completion.command?s.completion.command.id===hU.id?this.model.trigger({auto:!0,shy:!1},!0):(l.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(qt)),this.model.cancel()):this.model.cancel(),n&4&&this._alternatives.value.set(i,h=>{for(c.cancel();o.canUndo();){r!==o.getAlternativeVersionId()&&o.undo(),this._insertSuggestion(h,3|(n&8?8:0));break}}),this._alertCompletionItem(s),Promise.all(l).finally(()=>{this.model.clear(),c.dispose()})}getOverwriteInfo(i,n){nn(this.editor.hasModel());let o=this.editor.getOption(103).insertMode==="replace";n&&(o=!o);let r=i.position.column-i.editStart.column,s=(o?i.editReplaceEnd.column:i.editInsertEnd.column)-i.position.column,l=this.editor.getPosition().column-i.position.column,c=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+l,overwriteAfter:s+c}}_alertCompletionItem(i){if(fo(i.completion.additionalTextEdits)){let n=_("aria.alert.snippet","Accepting '{0}' made {1} additional edits",i.textLabel,i.completion.additionalTextEdits.length);Kn(n)}}triggerSuggest(i){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,i),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(i){if(!this.editor.hasModel())return;let n=this.editor.getPosition(),o=()=>{n.equals(this.editor.getPosition())&&this._commandService.executeCommand(i.fallback)},r=s=>{if(s.completion.insertTextRules&4||s.completion.additionalTextEdits)return!0;let l=this.editor.getPosition(),c=s.editStart.column,u=l.column;return u-c!==s.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:l.lineNumber,startColumn:c,endLineNumber:l.lineNumber,endColumn:u})!==s.completion.insertText};So.once(this.model.onDidTrigger)(s=>{let l=[];So.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{jn(l),o()},void 0,l),this.model.onDidSuggest(({completionModel:c})=>{if(jn(l),c.items.length===0){o();return}let u=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),c.items),d=c.items[u];if(!r(d)){o();return}this.editor.pushUndoStop(),this._insertSuggestion({index:u,item:d,model:c},7)},void 0,l)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(n.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(i,n){let o=this.widget.value.getFocusedItem(),r=0;i&&(r|=4),n&&(r|=8),this._insertSuggestion(o,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}};Sp.ID="editor.contrib.suggestController";Sp=Aue([hy(1,AL),hy(2,jo),hy(3,$t),hy(4,hi),hy(5,Ah)],Sp);var hU=(()=>{class e extends it{constructor(){super({id:e.id,label:_("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:st.and(Ie.writable,Ie.hasCompletionItemProvider),kbOpts:{kbExpr:Ie.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(n,o){let r=Sp.get(o);r&&r.triggerSuggest()}}return e.id="editor.action.triggerSuggest",e})();Mt(Sp.ID,Sp);Ue(hU);var bs=190,Rr=Fn.bindToContribution(Sp.get);gt(new Rr({id:"acceptSelectedSuggestion",precondition:ci.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}}));lr.registerKeybindingRule({id:"acceptSelectedSuggestion",when:st.and(ci.Visible,Ie.textInputFocus),primary:2,weight:bs});lr.registerKeybindingRule({id:"acceptSelectedSuggestion",when:st.and(ci.Visible,Ie.textInputFocus,ci.AcceptSuggestionsOnEnter,ci.MakesTextEdit),primary:3,weight:bs});il.appendMenuItem(lu,{command:{id:"acceptSelectedSuggestion",title:_("accept.insert","Insert")},group:"left",order:1,when:ci.HasInsertAndReplaceRange.toNegated()});il.appendMenuItem(lu,{command:{id:"acceptSelectedSuggestion",title:_("accept.insert","Insert")},group:"left",order:1,when:st.and(ci.HasInsertAndReplaceRange,ci.InsertMode.isEqualTo("insert"))});il.appendMenuItem(lu,{command:{id:"acceptSelectedSuggestion",title:_("accept.replace","Replace")},group:"left",order:1,when:st.and(ci.HasInsertAndReplaceRange,ci.InsertMode.isEqualTo("replace"))});gt(new Rr({id:"acceptAlternativeSelectedSuggestion",precondition:st.and(ci.Visible,Ie.textInputFocus),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:lu,group:"left",order:2,when:st.and(ci.HasInsertAndReplaceRange,ci.InsertMode.isEqualTo("insert")),title:_("accept.replace","Replace")},{menuId:lu,group:"left",order:2,when:st.and(ci.HasInsertAndReplaceRange,ci.InsertMode.isEqualTo("replace")),title:_("accept.insert","Insert")}]}));_i.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");gt(new Rr({id:"hideSuggestWidget",precondition:ci.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:9,secondary:[1033]}}));gt(new Rr({id:"selectNextSuggestion",precondition:st.and(ci.Visible,ci.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));gt(new Rr({id:"selectNextPageSuggestion",precondition:st.and(ci.Visible,ci.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:12,secondary:[2060]}}));gt(new Rr({id:"selectLastSuggestion",precondition:st.and(ci.Visible,ci.MultipleSuggestions),handler:e=>e.selectLastSuggestion()}));gt(new Rr({id:"selectPrevSuggestion",precondition:st.and(ci.Visible,ci.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));gt(new Rr({id:"selectPrevPageSuggestion",precondition:st.and(ci.Visible,ci.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:11,secondary:[2059]}}));gt(new Rr({id:"selectFirstSuggestion",precondition:st.and(ci.Visible,ci.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()}));gt(new Rr({id:"toggleSuggestionDetails",precondition:ci.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:lu,group:"right",order:1,when:st.and(ci.DetailsVisible,ci.CanResolve),title:_("detail.more","show less")},{menuId:lu,group:"right",order:1,when:st.and(ci.DetailsVisible.toNegated(),ci.CanResolve),title:_("detail.less","show more")}]}));gt(new Rr({id:"toggleExplainMode",precondition:ci.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}}));gt(new Rr({id:"toggleSuggestionFocus",precondition:ci.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:2570,mac:{primary:778}}}));gt(new Rr({id:"insertBestCompletion",precondition:st.and(Ie.textInputFocus,st.equals("config.editor.tabCompletion","on"),G0.AtEnd,ci.Visible.toNegated(),yp.OtherSuggestions.toNegated(),ao.InSnippetMode.toNegated()),handler:(e,i)=>{e.triggerSuggestAndAcceptBest(MS(i)?Object.assign({fallback:"tab"},i):{fallback:"tab"})},kbOpts:{weight:bs,primary:2}}));gt(new Rr({id:"insertNextSuggestion",precondition:st.and(Ie.textInputFocus,st.equals("config.editor.tabCompletion","on"),yp.OtherSuggestions,ci.Visible.toNegated(),ao.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:2}}));gt(new Rr({id:"insertPrevSuggestion",precondition:st.and(Ie.textInputFocus,st.equals("config.editor.tabCompletion","on"),yp.OtherSuggestions,ci.Visible.toNegated(),ao.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:bs,kbExpr:Ie.textInputFocus,primary:1026}}));Ue(class extends it{constructor(){super({id:"editor.action.resetSuggestSize",label:_("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,i){Sp.get(i).resetWidgetSize()}});Ot();Kt();B3();var HL=class extends it{constructor(){super({id:"editor.action.forceRetokenize",label:_("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(i,n){if(!n.hasModel())return;let o=n.getModel();o.resetTokenization();let r=new xh(!0);o.forceTokenization(o.getLineCount()),r.stop(),console.log(`tokenization took ${r.elapsed()}`)}};Ue(HL);zL();var dnt=Sh(fU()),hnt=Sh(mU());Ot();kn();ln();Un();Mi();bt();Kt();zt();Zi();Gv();Lo();zi();Pi();Cn();Bi();tl();var Bue=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Vue=function(e,i){return function(n,o){i(n,o,e)}},Hue=xt("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},_("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),zue=xt("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},_("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Gue=xt("editor.wordHighlightBorder",{light:null,dark:null,hc:Ru},_("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),Wue=xt("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Ru},_("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),jue=xt("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},_("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Uue=xt("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},_("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),a2=new ii("hasWordHighlights",!1);function vU(e,i,n){let o=Wv.ordered(e);return SS(o.map(r=>()=>Promise.resolve(r.provideDocumentHighlights(e,i,n)).then(void 0,gn)),fo)}var r2=class{constructor(i,n,o){this._wordRange=this._getCurrentWordRange(i,n),this.result=Ui(r=>this._compute(i,n,o,r))}_getCurrentWordRange(i,n){let o=i.getWordAtPosition(n.getPosition());return o?new Me(n.startLineNumber,o.startColumn,n.startLineNumber,o.endColumn):null}isValid(i,n,o){let r=n.startLineNumber,s=n.startColumn,l=n.endColumn,c=this._getCurrentWordRange(i,n),u=!!(this._wordRange&&this._wordRange.equalsRange(c));for(let d=0,h=o.length;!u&&d<h;d++){let p=i.getDecorationRange(o[d]);p&&p.startLineNumber===r&&p.startColumn<=s&&p.endColumn>=l&&(u=!0)}return u}cancel(){this.result.cancel()}},WL=class extends r2{_compute(i,n,o,r){return vU(i,n.getPosition(),r).then(s=>s||[])}},jL=class extends r2{constructor(i,n,o){super(i,n,o),this._selectionIsEmpty=n.isEmpty()}_compute(i,n,o,r){return Nf(250,r).then(()=>{if(!n.isEmpty())return[];let s=i.getWordAtPosition(n.getPosition());return!s||s.word.length>1e3?[]:i.findMatches(s.word,!0,!1,!0,o,!1).map(c=>({range:c.range,kind:kS.Text}))})}isValid(i,n,o){let r=n.isEmpty();return this._selectionIsEmpty!==r?!1:super.isValid(i,n,o)}};function $ue(e,i,n){return Wv.has(e)?new WL(e,i,n):new jL(e,i,n)}Wr("_executeDocumentHighlights",(e,i)=>vU(e,i,ti.None));var W0=class e{constructor(i,n){this.toUnhook=new Je,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=i,this._hasWordHighlights=a2.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(68),this.model=this.editor.getModel(),this.toUnhook.add(i.onDidChangeCursorPosition(o=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(o)})),this.toUnhook.add(i.onDidChangeModelContent(o=>{this._stopAll()})),this.toUnhook.add(i.onDidChangeConfiguration(o=>{let r=this.editor.getOption(68);this.occurrencesHighlight!==r&&(this.occurrencesHighlight=r,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return Rs(this._decorationIds.map(i=>this.model.getDecorationRange(i)).sort(Me.compareRangesUsingStarts))}moveNext(){let i=this._getSortedHighlights(),o=(i.findIndex(s=>s.containsPosition(this.editor.getPosition()))+1)%i.length,r=i[o];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);let s=this._getWord();if(s){let l=this.editor.getModel().getLineContent(r.startLineNumber);Kn(`${l}, ${o+1} of ${i.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let i=this._getSortedHighlights(),o=(i.findIndex(s=>s.containsPosition(this.editor.getPosition()))-1+i.length)%i.length,r=i[o];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);let s=this._getWord();if(s){let l=this.editor.getModel().getLineContent(r.startLineNumber);Kn(`${l}, ${o+1} of ${i.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(i){if(!this.occurrencesHighlight){this._stopAll();return}if(i.reason!==3){this._stopAll();return}this._run()}_getWord(){let i=this.editor.getSelection(),n=i.startLineNumber,o=i.startColumn;return this.model.getWordAtPosition({lineNumber:n,column:o})}_run(){let i=this.editor.getSelection();if(i.startLineNumber!==i.endLineNumber){this._stopAll();return}let n=i.startColumn,o=i.endColumn,r=this._getWord();if(!r||r.startColumn>n||r.endColumn<o){this._stopAll();return}let s=this.workerRequest&&this.workerRequest.isValid(this.model,i,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),s)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let l=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=$ue(this.model,this.editor.getSelection(),this.editor.getOption(113)),this.workerRequest.result.then(c=>{l===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=c||[],this._beginRenderDecorations())},qt)}}_beginRenderDecorations(){let i=new Date().getTime(),n=this.lastCursorPositionChangeTime+250;i>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},n-i)}renderDecorations(){this.renderDecorationsTimer=-1;let i=[];for(let n of this.workerRequestValue)n.range&&i.push({range:n.range,options:e._getDecorationOptions(n.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,i),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(i){return i===kS.Write?this._WRITE_OPTIONS:i===kS.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}};W0._WRITE_OPTIONS=ri.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:cr(Uue),position:Hr.Center}});W0._TEXT_OPTIONS=ri.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:cr(u1),position:Hr.Center}});W0._REGULAR_OPTIONS=ri.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:cr(jue),position:Hr.Center}});var ef=class CU extends yt{constructor(i,n){super(),this.wordHighlighter=null;let o=()=>{i.hasModel()&&(this.wordHighlighter=new W0(i,n))};this._register(i.onDidChangeModel(r=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),o()})),o()}static get(i){return i.getContribution(CU.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(i){this.wordHighlighter&&i&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};ef.ID="editor.contrib.wordHighlighter";ef=Bue([Vue(1,$t)],ef);var s2=class extends it{constructor(i,n){super(n),this._isNext=i}run(i,n){let o=ef.get(n);o&&(this._isNext?o.moveNext():o.moveBack())}},UL=class extends s2{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:a2,kbOpts:{kbExpr:Ie.editorTextFocus,primary:65,weight:100}})}},$L=class extends s2{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:a2,kbOpts:{kbExpr:Ie.editorTextFocus,primary:1089,weight:100}})}},qL=class extends it{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:a2.toNegated(),kbOpts:{kbExpr:Ie.editorTextFocus,primary:0,weight:100}})}run(i,n,o){let r=ef.get(n);r&&r.restoreViewState(!0)}};Mt(ef.ID,ef);Ue(UL);Ue($L);Ue(qL);oi((e,i)=>{let n=e.getColor(b5);n&&(i.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${n}; }`),i.addRule(`.monaco-editor .selectionHighlight { background-color: ${n.transparent(.5)}; }`));let o=e.getColor(Hue);o&&i.addRule(`.monaco-editor .wordHighlight { background-color: ${o}; }`);let r=e.getColor(zue);r&&i.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${r}; }`);let s=e.getColor(y5);s&&i.addRule(`.monaco-editor .selectionHighlight { border: 1px ${e.type==="hc"?"dotted":"solid"} ${s}; box-sizing: border-box; }`);let l=e.getColor(Gue);l&&i.addRule(`.monaco-editor .wordHighlight { border: 1px ${e.type==="hc"?"dashed":"solid"} ${l}; box-sizing: border-box; }`);let c=e.getColor(Wue);c&&i.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${e.type==="hc"?"dashed":"solid"} ${c}; box-sizing: border-box; }`)});Ot();Kt();WZ();Xn();zt();ho();Zi();Pi();kZ();Eu();var tf=class extends Fn{constructor(i){super(i),this._inSelectionMode=i.inSelectionMode,this._wordNavigationType=i.wordNavigationType}runEditorCommand(i,n,o){if(!n.hasModel())return;let r=Lh(n.getOption(113)),s=n.getModel(),c=n.getSelections().map(u=>{let d=new It(u.positionLineNumber,u.positionColumn),h=this._move(r,s,d,this._wordNavigationType);return this._moveTo(u,h,this._inSelectionMode)});if(s.pushStackElement(),n._getViewModel().setCursorStates("moveWordCommand",3,c.map(u=>n5.fromModelSelection(u))),c.length===1){let u=new It(c[0].positionLineNumber,c[0].positionColumn);n.revealPosition(u,0)}}_moveTo(i,n,o){return o?new Ct(i.selectionStartLineNumber,i.selectionStartColumn,n.lineNumber,n.column):new Ct(n.lineNumber,n.column,n.lineNumber,n.column)}},uu=class extends tf{_move(i,n,o,r){return rm.moveWordLeft(i,n,o,r)}},du=class extends tf{_move(i,n,o,r){return rm.moveWordRight(i,n,o,r)}},KL=class extends uu{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}},YL=class extends uu{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}},ZL=class extends uu{constructor(){var i;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:st.and(Ie.textInputFocus,(i=st.and(iC,aC))===null||i===void 0?void 0:i.negate()),primary:2063,mac:{primary:527},weight:100}})}},QL=class extends uu{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}},XL=class extends uu{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}},JL=class extends uu{constructor(){var i;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:st.and(Ie.textInputFocus,(i=st.and(iC,aC))===null||i===void 0?void 0:i.negate()),primary:3087,mac:{primary:1551},weight:100}})}},eO=class extends uu{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(i,n,o,r){return super._move(Lh(Pv.wordSeparators.defaultValue),n,o,r)}},tO=class extends uu{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(i,n,o,r){return super._move(Lh(Pv.wordSeparators.defaultValue),n,o,r)}},iO=class extends du{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}},nO=class extends du{constructor(){var i;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:st.and(Ie.textInputFocus,(i=st.and(iC,aC))===null||i===void 0?void 0:i.negate()),primary:2065,mac:{primary:529},weight:100}})}},oO=class extends du{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}},rO=class extends du{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}},sO=class extends du{constructor(){var i;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:st.and(Ie.textInputFocus,(i=st.and(iC,aC))===null||i===void 0?void 0:i.negate()),primary:3089,mac:{primary:1553},weight:100}})}},aO=class extends du{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}},lO=class extends du{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(i,n,o,r){return super._move(Lh(Pv.wordSeparators.defaultValue),n,o,r)}},cO=class extends du{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(i,n,o,r){return super._move(Lh(Pv.wordSeparators.defaultValue),n,o,r)}},nf=class extends Fn{constructor(i){super(i),this._whitespaceHeuristics=i.whitespaceHeuristics,this._wordNavigationType=i.wordNavigationType}runEditorCommand(i,n,o){if(!n.hasModel())return;let r=Lh(n.getOption(113)),s=n.getModel(),l=n.getSelections(),c=n.getOption(5),u=n.getOption(8),d=Xi.getAutoClosingPairs(s.getLanguageIdentifier().id),h=n._getViewModel(),p=l.map(g=>{let f=this._delete({wordSeparators:r,model:s,selection:g,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:n.getOption(6),autoClosingBrackets:c,autoClosingQuotes:u,autoClosingPairs:d,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Au(f,"")});n.pushUndoStop(),n.executeCommands(this.id,p),n.pushUndoStop()}},my=class extends nf{_delete(i,n){let o=rm.deleteWordLeft(i,n);return o||new Me(1,1,1,1)}},vy=class extends nf{_delete(i,n){let o=rm.deleteWordRight(i,n);if(o)return o;let r=i.model.getLineCount(),s=i.model.getLineMaxColumn(r);return new Me(r,s,r,s)}},uO=class extends my{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:Ie.writable})}},dO=class extends my{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:Ie.writable})}},hO=class extends my{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}},pO=class extends vy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:Ie.writable})}},gO=class extends vy{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:Ie.writable})}},fO=class extends vy{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}},mO=class extends it{constructor(){super({id:"deleteInsideWord",precondition:Ie.writable,label:_("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(i,n,o){if(!n.hasModel())return;let r=Lh(n.getOption(113)),s=n.getModel(),c=n.getSelections().map(u=>{let d=rm.deleteInsideWord(r,s,u);return new Au(d,"")});n.pushUndoStop(),n.executeCommands(this.id,c),n.pushUndoStop()}};gt(new KL);gt(new YL);gt(new ZL);gt(new QL);gt(new XL);gt(new JL);gt(new iO);gt(new nO);gt(new oO);gt(new rO);gt(new sO);gt(new aO);gt(new eO);gt(new tO);gt(new lO);gt(new cO);gt(new uO);gt(new dO);gt(new hO);gt(new pO);gt(new gO);gt(new fO);Ue(mO);Kt();zt();Zi();xo();var vO=class extends nf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(i,n){let o=tC.deleteWordPartLeft(i);return o||new Me(1,1,1,1)}},CO=class extends nf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:Ie.writable,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(i,n){let o=tC.deleteWordPartRight(i);if(o)return o;let r=i.model.getLineCount(),s=i.model.getLineMaxColumn(r);return new Me(r,s,r,s)}},l2=class extends tf{_move(i,n,o,r){return tC.moveWordPartLeft(i,n,o)}},wO=class extends l2{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:783},weight:100}})}};_i.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var bO=class extends l2{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}};_i.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var c2=class extends tf{_move(i,n,o,r){return tC.moveWordPartRight(i,n,o)}},yO=class extends c2{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:785},weight:100}})}},SO=class extends c2{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:Ie.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}};gt(new vO);gt(new CO);gt(new wO);gt(new bO);gt(new yO);gt(new SO);Th();var vst=Sh(_U());bS();Yi();bt();Kt();var xU=(()=>{class e extends yt{constructor(n){super(),this.editor=n,this.widget=null,j4&&(this._register(n.onDidChangeConfiguration(()=>this.update())),this.update())}update(){let n=!this.editor.getOption(77);!this.widget&&n?this.widget=new Yue(this.editor):this.widget&&!n&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return e.ID="editor.contrib.iPadShowKeyboard",e})(),Yue=(()=>{class e extends yt{constructor(n){super(),this.editor=n,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(go(this._domNode,"touchstart",o=>{this.editor.focus()})),this._register(go(this._domNode,"focus",o=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return e.ID="editor.contrib.ShowKeyboardWidget",e})();Mt(xU.ID,xU);var wst=Sh(MU());Yf();Th();Yf();Ot();bt();var ede=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},tde=function(e,i){return function(n,o){i(n,o,e)}},by=class h2{constructor(i){this.quickInputService=i,this.registry=ks.as(Nl.Quickaccess)}provide(i){let n=new Je;n.add(i.onDidAccept(()=>{let[s]=i.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),n.add(i.onDidChangeValue(s=>{let l=this.registry.getQuickAccessProvider(s.substr(h2.PREFIX.length));l&&l.prefix&&l.prefix!==h2.PREFIX&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})}));let{editorProviders:o,globalProviders:r}=this.getQuickAccessProviders();return i.items=o.length===0||r.length===0?[...o.length===0?r:o]:[{label:_("globalCommands","global commands"),type:"separator"},...r,{label:_("editorCommands","editor commands"),type:"separator"},...o],n}getQuickAccessProviders(){let i=[],n=[];for(let o of this.registry.getQuickAccessProviders().sort((r,s)=>r.prefix.localeCompare(s.prefix)))if(o.prefix!==h2.PREFIX)for(let r of o.helpEntries){let s=r.prefix||o.prefix,l=s||"\u2026";(r.needsEditor?n:i).push({prefix:s,label:l,ariaLabel:_("helpPickAriaLabel","{0}, {1}",l,r.description),description:r.description})}return{editorProviders:n,globalProviders:i}}};by.PREFIX="?";by=ede([tde(0,Ts)],by);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:by,prefix:"",helpEntries:[{description:Y8.helpQuickAccessActionLabel,needsEditor:!0}]});Ot();bt();Gv();Bi();p1();bt();dI();To();var $0=class{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,n){var o;let r=new Je;i.canAcceptInBackground=!!(!((o=this.options)===null||o===void 0)&&o.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;let s=r.add(new Ao);return s.value=this.doProvide(i,n),r.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(i,n)})),r}doProvide(i,n){let o=new Je,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){let s={editor:r},l=HS(r);if(l){let c=Vr(r.saveViewState());o.add(l.onDidChangeCursorPosition(()=>{c=Vr(r.saveViewState())})),s.restoreViewState=()=>{c&&r===this.activeTextEditorControl&&r.restoreViewState(c)},o.add(v1(n.onCancellationRequested)(()=>{var u;return(u=s.restoreViewState)===null||u===void 0?void 0:u.call(s)}))}o.add(uo(()=>this.clearDecorations(r))),o.add(this.provideWithTextEditor(s,i,n))}else o.add(this.provideWithoutTextEditor(i,n));return o}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},n){i.setSelection(n.range),i.revealRangeInCenter(n.range,0),n.preserveFocus||i.focus()}getModel(i){var n;return j8(i)?(n=i.getModel())===null||n===void 0?void 0:n.modified:i.getModel()}addDecorations(i,n){i.changeDecorations(o=>{let r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);let s=[{range:n,options:{className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{overviewRuler:{color:cr(W5),position:Hr.Full}}}],[l,c]=o.deltaDecorations(r,s);this.rangeHighlightDecorationId={rangeHighlightId:l,overviewRulerDecorationId:c}})}clearDecorations(i){let n=this.rangeHighlightDecorationId;n&&(i.changeDecorations(o=>{o.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}};dI();var RU=(()=>{class e extends $0{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(n){let o=_("cannotRunGotoLine","Open a text editor first to go to a line.");return n.items=[{label:o}],n.ariaLabel=o,yt.None}provideWithTextEditor(n,o,r){let s=n.editor,l=new Je;l.add(o.onDidAccept(d=>{let[h]=o.selectedItems;if(h){if(!this.isValidLineNumber(s,h.lineNumber))return;this.gotoLocation(n,{range:this.toRange(h.lineNumber,h.column),keyMods:o.keyMods,preserveFocus:d.inBackground}),d.inBackground||o.hide()}}));let c=()=>{let d=this.parsePosition(s,o.value.trim().substr(e.PREFIX.length)),h=this.getPickLabel(s,d.lineNumber,d.column);if(o.items=[{lineNumber:d.lineNumber,column:d.column,label:h}],o.ariaLabel=h,!this.isValidLineNumber(s,d.lineNumber)){this.clearDecorations(s);return}let p=this.toRange(d.lineNumber,d.column);s.revealRangeInCenter(p,0),this.addDecorations(s,p)};c(),l.add(o.onDidChangeValue(()=>c()));let u=HS(s);return u&&u.getOptions().get(56).renderType===2&&(u.updateOptions({lineNumbers:"on"}),l.add(uo(()=>u.updateOptions({lineNumbers:"relative"})))),l}toRange(n=1,o=1){return{startLineNumber:n,startColumn:o,endLineNumber:n,endColumn:o}}parsePosition(n,o){let r=o.split(/,|:|#/).map(l=>parseInt(l,10)).filter(l=>!isNaN(l)),s=this.lineCount(n)+1;return{lineNumber:r[0]>0?r[0]:s+r[0],column:r[1]}}getPickLabel(n,o,r){if(this.isValidLineNumber(n,o))return this.isValidColumn(n,o,r)?_("gotoLineColumnLabel","Go to line {0} and character {1}.",o,r):_("gotoLineLabel","Go to line {0}.",o);let s=n.getPosition()||{lineNumber:1,column:1},l=this.lineCount(n);return l>1?_("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,l):_("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(n,o){return!o||typeof o!="number"?!1:o>0&&o<=this.lineCount(n)}isValidColumn(n,o,r){if(!r||typeof r!="number")return!1;let s=this.getModel(n);if(!s)return!1;let l={lineNumber:o,column:r};return s.validatePosition(l).equals(l)}lineCount(n){var o,r;return(r=(o=this.getModel(n))===null||o===void 0?void 0:o.getLineCount())!==null&&r!==void 0?r:0}}return e.PREFIX=":",e})();Yf();zo();To();Th();tn();Kt();Zi();var ide=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},nde=function(e,i){return function(n,o){i(n,o,e)}},yy=class extends RU{constructor(i){super(),this.editorService=i,this.onDidActiveTextEditorControlChange=So.None}get activeTextEditorControl(){return Vr(this.editorService.getFocusedCodeEditor())}};yy=ide([nde(0,Ri)],yy);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:yy,prefix:yy.PREFIX,helpEntries:[{description:pI.gotoLineActionLabel,needsEditor:!0}]});var DO=class extends it{constructor(){super({id:"editor.action.gotoLine",label:pI.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:2085,mac:{primary:293},weight:100}})}run(i){i.get(Ts).quickAccess.show(yy.PREFIX)}};Ue(DO);Ot();Un();bt();zt();zi();Bn();z4();ba();Bn();var AU=[void 0,[]];function g2(e,i,n=0,o=0){let r=i;return r.values&&r.values.length>1?ode(e,r.values,n,o):FU(e,i,n,o)}function ode(e,i,n,o){let r=0,s=[];for(let l of i){let[c,u]=FU(e,l,n,o);if(typeof c!="number")return AU;r+=c,s.push(...u)}return[r,rde(s)]}function FU(e,i,n,o){let r=y1(i.original,i.originalLowercase,n,e,e.toLowerCase(),o,!0);return r?[r[0],Qp(r)]:AU}function rde(e){let i=e.sort((r,s)=>r.start-s.start),n=[],o;for(let r of i)!o||!sde(o,r)?(o=r,n.push(r)):(o.start=Math.min(o.start,r.start),o.end=Math.max(o.end,r.end));return n}function sde(e,i){return!(e.end<i.start||i.end<e.start)}var TU=" ";function p2(e){typeof e!="string"&&(e="");let i=e.toLowerCase(),{pathNormalized:n,normalized:o,normalizedLowercase:r}=kU(e),s=n.indexOf(wS)>=0,l,c=e.split(TU);if(c.length>1)for(let u of c){let{pathNormalized:d,normalized:h,normalizedLowercase:p}=kU(u);h&&(l||(l=[]),l.push({original:u,originalLowercase:u.toLowerCase(),pathNormalized:d,normalized:h,normalizedLowercase:p}))}return{original:e,originalLowercase:i,pathNormalized:n,normalized:o,normalizedLowercase:r,values:l,containsPathSeparator:s}}function kU(e){let i;yu?i=e.replace(/\//g,wS):i=e.replace(/\\/g,wS);let n=u8(i).replace(/\s/g,"");return{pathNormalized:i,normalized:n,normalizedLowercase:n.toLowerCase()}}function EO(e){return Array.isArray(e)?p2(e.map(i=>i.original).join(TU)):p2(e.original)}zr();var Sy=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},ys=class e extends $0{constructor(i=Object.create(null)){super(i),this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(i){return this.provideLabelPick(i,_("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),yt.None}provideWithTextEditor(i,n,o){let r=i.editor,s=this.getModel(r);return s?el.has(s)?this.doProvideWithEditorSymbols(i,s,n,o):this.doProvideWithoutEditorSymbols(i,s,n,o):yt.None}doProvideWithoutEditorSymbols(i,n,o,r){let s=new Je;return this.provideLabelPick(o,_("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),Sy(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,s))||r.isCancellationRequested||s.add(this.doProvideWithEditorSymbols(i,n,o,r))}),s}provideLabelPick(i,n){i.items=[{label:n,index:0,kind:14}],i.ariaLabel=n}waitForLanguageSymbolRegistry(i,n){return Sy(this,void 0,void 0,function*(){if(el.has(i))return!0;let o,r=new Promise(l=>o=l),s=n.add(el.onDidChange(()=>{el.has(i)&&(s.dispose(),o(!0))}));return n.add(uo(()=>o(!1))),r})}doProvideWithEditorSymbols(i,n,o,r){let s=i.editor,l=new Je;l.add(o.onDidAccept(p=>{let[g]=o.selectedItems;g&&g.range&&(this.gotoLocation(i,{range:g.range.selection,keyMods:o.keyMods,preserveFocus:p.inBackground}),p.inBackground||o.hide())})),l.add(o.onDidTriggerItemButton(({item:p})=>{p&&p.range&&(this.gotoLocation(i,{range:p.range.selection,keyMods:o.keyMods,forceSideBySide:!0}),o.hide())}));let c=this.getDocumentSymbols(n,r),u,d=()=>Sy(this,void 0,void 0,function*(){u?.dispose(!0),o.busy=!1,u=new vr(r),o.busy=!0;try{let p=p2(o.value.substr(e.PREFIX.length).trim()),g=yield this.doGetSymbolPicks(c,p,void 0,u.token);if(r.isCancellationRequested)return;g.length>0?o.items=g:p.original.length>0?this.provideLabelPick(o,_("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(o,_("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(o.busy=!1)}});l.add(o.onDidChangeValue(()=>d())),d();let h=!0;return l.add(o.onDidChangeActive(()=>{let[p]=o.activeItems;if(p&&p.range){if(h){h=!1;return}s.revealRangeInCenter(p.range.selection,0),this.addDecorations(s,p.range.decoration)}})),l}doGetSymbolPicks(i,n,o,r){return Sy(this,void 0,void 0,function*(){let s=yield i;if(r.isCancellationRequested)return[];let l=n.original.indexOf(e.SCOPE_PREFIX)===0,c=l?1:0,u,d;n.values&&n.values.length>1?(u=EO(n.values[0]),d=EO(n.values.slice(1))):u=n;let h=[];for(let y=0;y<s.length;y++){let M=s[y],k=c8(M.name),G=`$(symbol-${A8.toString(M.kind)||"property"}) ${k}`,J=G.length-k.length,$=M.containerName;o?.extraContainerLabel&&($?$=`${o.extraContainerLabel} \u2022 ${$}`:$=o.extraContainerLabel);let _e,Fe,Pe,$e;if(n.original.length>c){let lt=!1;if(u!==n&&([_e,Fe]=g2(G,Object.assign(Object.assign({},n),{values:void 0}),c,J),typeof _e=="number"&&(lt=!0)),typeof _e!="number"&&([_e,Fe]=g2(G,u,c,J),typeof _e!="number"))continue;if(!lt&&d){if($&&d.original.length>0&&([Pe,$e]=g2($,d)),typeof Pe!="number")continue;typeof _e=="number"&&(_e+=Pe)}}let nt=M.tags&&M.tags.indexOf(1)>=0;h.push({index:y,kind:M.kind,score:_e,label:G,ariaLabel:k,description:$,highlights:nt?void 0:{label:Fe,description:$e},range:{selection:Me.collapseToStart(M.selectionRange),decoration:M.range},strikethrough:nt,buttons:(()=>{var lt,Lt;let Jt=!((lt=this.options)===null||lt===void 0)&&lt.openSideBySideDirection?(Lt=this.options)===null||Lt===void 0?void 0:Lt.openSideBySideDirection():void 0;if(Jt)return[{iconClass:Jt==="right"?pt.splitHorizontal.classNames:pt.splitVertical.classNames,tooltip:Jt==="right"?_("openToSide","Open to the Side"):_("openToBottom","Open to the Bottom")}]})()})}let p=h.sort((y,M)=>l?this.compareByKindAndScore(y,M):this.compareByScore(y,M)),g=[];if(l){let G=function(){M&&typeof y=="number"&&k>0&&(M.label=ds(MO[y]||IO,k))};var f=G;let y,M,k=0;for(let J of p)y!==J.kind?(G(),y=J.kind,k=1,M={type:"separator"},g.push(M)):k++,g.push(J);G()}else p.length>0&&(g=[{label:_("symbols","symbols ({0})",h.length),type:"separator"},...p]);return g})}compareByScore(i,n){if(typeof i.score!="number"&&typeof n.score=="number")return 1;if(typeof i.score=="number"&&typeof n.score!="number")return-1;if(typeof i.score=="number"&&typeof n.score=="number"){if(i.score>n.score)return-1;if(i.score<n.score)return 1}return i.index<n.index?-1:i.index>n.index?1:0}compareByKindAndScore(i,n){let o=MO[i.kind]||IO,r=MO[n.kind]||IO,s=o.localeCompare(r);return s===0?this.compareByScore(i,n):s}getDocumentSymbols(i,n){return Sy(this,void 0,void 0,function*(){let o=yield ah.create(i,n);return n.isCancellationRequested?[]:o.asListOfDocumentSymbols()})}};ys.PREFIX="@";ys.SCOPE_PREFIX=":";ys.PREFIX_BY_CATEGORY=`${ys.PREFIX}${ys.SCOPE_PREFIX}`;var IO=_("property","properties ({0})"),MO={5:_("method","methods ({0})"),11:_("function","functions ({0})"),8:_("_constructor","constructors ({0})"),12:_("variable","variables ({0})"),4:_("class","classes ({0})"),22:_("struct","structs ({0})"),23:_("event","events ({0})"),24:_("operator","operators ({0})"),10:_("interface","interfaces ({0})"),2:_("namespace","namespaces ({0})"),3:_("package","packages ({0})"),25:_("typeParameter","type parameters ({0})"),1:_("modules","modules ({0})"),6:_("property","properties ({0})"),9:_("enum","enumerations ({0})"),21:_("enumMember","enumeration members ({0})"),14:_("string","strings ({0})"),0:_("file","files ({0})"),17:_("array","arrays ({0})"),15:_("number","numbers ({0})"),16:_("boolean","booleans ({0})"),18:_("object","objects ({0})"),19:_("key","keys ({0})"),7:_("field","fields ({0})"),13:_("constant","constants ({0})")};Yf();zo();To();Th();tn();Kt();Zi();var ade=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},lde=function(e,i){return function(n,o){i(n,o,e)}},RO=class extends ys{constructor(i){super(),this.editorService=i,this.onDidActiveTextEditorControlChange=So.None}get activeTextEditorControl(){return Vr(this.editorService.getFocusedCodeEditor())}};RO=ade([lde(0,Ri)],RO);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:RO,prefix:ys.PREFIX,helpEntries:[{description:jS.quickOutlineActionLabel,prefix:ys.PREFIX,needsEditor:!0},{description:jS.quickOutlineByCategoryActionLabel,prefix:ys.PREFIX_BY_CATEGORY,needsEditor:!0}]});var kO=class extends it{constructor(){super({id:"editor.action.quickOutline",label:jS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Ie.hasDocumentSymbolProvider,kbOpts:{kbExpr:Ie.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(i){i.get(Ts).quickAccess.show(ys.PREFIX)}};Ue(kO);Yf();Th();zo();Ot();Un();bt();ln();var f2=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},_y=function(e){return e[e.NO_ACTION=0]="NO_ACTION",e[e.CLOSE_PICKER=1]="CLOSE_PICKER",e[e.REFRESH_PICKER=2]="REFRESH_PICKER",e[e.REMOVE_ITEM=3]="REMOVE_ITEM",e}(_y||{});function AO(e){let i=e;return Array.isArray(i.items)}function cde(e){let i=e;return!!i.picks&&i.additionalPicks instanceof Promise}var PU=(()=>{class e extends yt{constructor(n,o){super(),this.prefix=n,this.options=o}provide(n,o){var r;let s=new Je;n.canAcceptInBackground=!!(!((r=this.options)===null||r===void 0)&&r.canAcceptInBackground),n.matchOnLabel=n.matchOnDescription=n.matchOnDetail=n.sortByLabel=!1;let l,c=s.add(new Ao),u=()=>f2(this,void 0,void 0,function*(){let d=c.value=new Je;l?.dispose(!0),n.busy=!1,l=new vr(o);let h=l.token,p=n.value.substr(this.prefix.length).trim(),g=this.getPicks(p,d,h),f=(y,M)=>{var k;let G,J;if(AO(y)?(G=y.items,J=y.active):G=y,G.length===0){if(M)return!1;p.length>0&&(!((k=this.options)===null||k===void 0)&&k.noResultsPick)&&(G=[this.options.noResultsPick])}return n.items=G,J&&(n.activeItems=[J]),!0};if(g!==null)if(cde(g)){let y=!1,M=!1;yield Promise.all([f2(this,void 0,void 0,function*(){yield Nf(e.FAST_PICKS_RACE_DELAY),!h.isCancellationRequested&&(M||(y=f(g.picks,!0)))}),f2(this,void 0,void 0,function*(){n.busy=!0;try{let k=yield g.additionalPicks;if(h.isCancellationRequested)return;let G,J;AO(g.picks)?(G=g.picks.items,J=g.picks.active):G=g.picks;let $,_e;if(AO(k)?($=k.items,_e=k.active):$=k,$.length>0||!y){let Fe;if(!J&&!_e){let Pe=n.activeItems[0];Pe&&G.indexOf(Pe)!==-1&&(Fe=Pe)}f({items:[...G,...$],active:J||_e||Fe})}}finally{h.isCancellationRequested||(n.busy=!1),M=!0}})])}else if(!(g instanceof Promise))f(g);else{n.busy=!0;try{let y=yield g;if(h.isCancellationRequested)return;f(y)}finally{h.isCancellationRequested||(n.busy=!1)}}});return s.add(n.onDidChangeValue(()=>u())),u(),s.add(n.onDidAccept(d=>{let[h]=n.selectedItems;typeof h?.accept=="function"&&(d.inBackground||n.hide(),h.accept(n.keyMods,d))})),s.add(n.onDidTriggerItemButton(({button:d,item:h})=>f2(this,void 0,void 0,function*(){var p,g;if(typeof h.trigger=="function"){let f=(g=(p=h.buttons)===null||p===void 0?void 0:p.indexOf(d))!==null&&g!==void 0?g:-1;if(f>=0){let y=h.trigger(f,n.keyMods),M=typeof y=="number"?y:yield y;if(o.isCancellationRequested)return;switch(M){case _y.NO_ACTION:break;case _y.CLOSE_PICKER:n.hide();break;case _y.REFRESH_PICKER:u();break;case _y.REMOVE_ITEM:let k=n.items.indexOf(h);if(k!==-1){let G=n.items.slice();G.splice(k,1),n.items=G}break}}}}))),s}}return e.FAST_PICKS_RACE_DELAY=200,e})();bt();To();Bv();Zf();yn();hs();xo();KS();Mi();Ot();To();kn();function FO(e,i){return i&&(e.stack||e.stacktrace)?_("stackTrace.format","{0}: {1}",OU(e),LU(e.stack)||LU(e.stacktrace)):OU(e)}function LU(e){return Array.isArray(e)?e.join(`
`):e}function OU(e){return typeof e.code=="string"&&typeof e.errno=="number"&&typeof e.syscall=="string"?_("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function TO(e=null,i=!1){if(!e)return _("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){let n=Rs(e),o=TO(n[0],i);return n.length>1?_("error.moreErrors","{0} ({1} errors in total)",o,n.length):o}if(IS(e))return e;if(e.detail){let n=e.detail;if(n.error)return FO(n.error,i);if(n.exception)return FO(n.exception,i)}return e.stack?FO(e,i):e.message?e.message:_("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var BU=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},rf=function(e,i){return function(n,o){i(n,o,e)}},NU=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},q0=class m2 extends PU{constructor(i,n,o,r,s,l){super(m2.PREFIX,i),this.instantiationService=n,this.keybindingService=o,this.commandService=r,this.telemetryService=s,this.notificationService=l,this.commandsHistory=this._register(this.instantiationService.createInstance(sf)),this.options=i}getPicks(i,n,o){return NU(this,void 0,void 0,function*(){let r=yield this.getCommandPicks(n,o);if(o.isCancellationRequested)return[];let s=[];for(let d of r){let h=Vr(m2.WORD_FILTER(i,d.label)),p=d.commandAlias?Vr(m2.WORD_FILTER(i,d.commandAlias)):void 0;h||p?(d.highlights={label:h,detail:this.options.showAlias?p:void 0},s.push(d)):i===d.commandId&&s.push(d)}let l=new Map;for(let d of s){let h=l.get(d.label);h?(d.description=d.commandId,h.description=h.commandId):l.set(d.label,d)}s.sort((d,h)=>{let p=this.commandsHistory.peek(d.commandId),g=this.commandsHistory.peek(h.commandId);return p&&g?p>g?-1:1:p?-1:g?1:d.label.localeCompare(h.label)});let c=[],u=!1;for(let d=0;d<s.length;d++){let h=s[d],p=this.keybindingService.lookupKeybinding(h.commandId),g=p?_("commandPickAriaLabelWithKeybinding","{0}, {1}",h.label,p.getAriaLabel()):h.label;d===0&&this.commandsHistory.peek(h.commandId)&&(c.push({type:"separator",label:_("recentlyUsed","recently used")}),u=!0),d!==0&&u&&!this.commandsHistory.peek(h.commandId)&&(c.push({type:"separator",label:_("morecCommands","other commands")}),u=!1),c.push(Object.assign(Object.assign({},h),{ariaLabel:g,detail:this.options.showAlias&&h.commandAlias!==h.label?h.commandAlias:void 0,keybinding:p,accept:()=>NU(this,void 0,void 0,function*(){this.commandsHistory.push(h.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:h.commandId,from:"quick open"});try{yield this.commandService.executeCommand(h.commandId)}catch(f){Ml(f)||this.notificationService.error(_("canNotRun","Command '{0}' resulted in an error ({1})",h.label,TO(f)))}})}))}return c})}};q0.PREFIX=">";q0.WORD_FILTER=rB(sB,lB,aB);q0=BU([rf(1,hi),rf(2,In),rf(3,jo),rf(4,Ph),rf(5,Sn)],q0);var sf=class lo extends yt{constructor(i,n){super(),this.storageService=i,this.configurationService=n,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=lo.getConfiguredCommandHistoryLength(this.configurationService),lo.cache&&lo.cache.limit!==this.configuredCommandsHistoryLength&&(lo.cache.limit=this.configuredCommandsHistoryLength,lo.saveState(this.storageService))}load(){let i=this.storageService.get(lo.PREF_KEY_CACHE,0),n;if(i)try{n=JSON.parse(i)}catch{}let o=lo.cache=new Dh(this.configuredCommandsHistoryLength,1);if(n){let r;n.usesLRU?r=n.entries:r=n.entries.sort((s,l)=>s.value-l.value),r.forEach(s=>o.set(s.key,s.value))}lo.counter=this.storageService.getNumber(lo.PREF_KEY_COUNTER,0,lo.counter)}push(i){lo.cache&&(lo.cache.set(i,lo.counter++),lo.saveState(this.storageService))}peek(i){var n;return(n=lo.cache)===null||n===void 0?void 0:n.peek(i)}static saveState(i){if(!lo.cache)return;let n={usesLRU:!0,entries:[]};lo.cache.forEach((o,r)=>n.entries.push({key:r,value:o})),i.store(lo.PREF_KEY_CACHE,JSON.stringify(n),0,0),i.store(lo.PREF_KEY_COUNTER,lo.counter,0,0)}static getConfiguredCommandHistoryLength(i){var n,o;let s=(o=(n=i.getValue().workbench)===null||n===void 0?void 0:n.commandPalette)===null||o===void 0?void 0:o.history;return typeof s=="number"?s:lo.DEFAULT_COMMANDS_HISTORY_LENGTH}};sf.DEFAULT_COMMANDS_HISTORY_LENGTH=50;sf.PREF_KEY_CACHE="commandPalette.mru.cache";sf.PREF_KEY_COUNTER="commandPalette.mru.counter";sf.counter=1;sf=BU([rf(0,wr),rf(1,As)],sf);var v2=class extends q0{constructor(i,n,o,r,s,l){super(i,n,o,r,s,l)}getCodeEditorCommandPicks(){let i=this.activeTextEditorControl;if(!i)return[];let n=[];for(let o of i.getSupportedActions())n.push({commandId:o.id,commandAlias:o.alias,label:pB(o.label)||o.id});return n}};To();yn();hs();xo();KS();Kt();Zi();var ude=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},K0=function(e,i){return function(n,o){i(n,o,e)}},dde=function(e,i,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(h){try{d(o.next(h))}catch(p){l(p)}}function u(h){try{d(o.throw(h))}catch(p){l(p)}}function d(h){h.done?s(h.value):r(h.value).then(c,u)}d((o=o.apply(e,i||[])).next())})},xy=class extends v2{constructor(i,n,o,r,s,l){super({showAlias:!1},i,o,r,s,l),this.codeEditorService=n}get activeTextEditorControl(){return Vr(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return dde(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};xy=ude([K0(0,hi),K0(1,Ri),K0(2,In),K0(3,jo),K0(4,Ph),K0(5,Sn)],xy);ks.as(Nl.Quickaccess).registerQuickAccessProvider({ctor:xy,prefix:xy.PREFIX,helpEntries:[{description:gI.quickCommandHelp,needsEditor:!0}]});var PO=class extends it{constructor(){super({id:"editor.action.quickCommand",label:gI.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:Ie.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(i){i.get(Ts).quickAccess.show(xy.PREFIX)}};Ue(PO);Kt();zo();Zf();Pi();yn();var hde=function(e,i,n,o){var r=arguments.length,s=r<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,n):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,i,n,o);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(r<3?l(s):r>3?l(i,n,s):l(i,n))||s);return r>3&&s&&Object.defineProperty(i,n,s),s},Y0=function(e,i){return function(n,o){i(n,o,e)}},LO=class extends tu{constructor(i,n,o,r,s,l,c){super(!0,i,n,o,r,s,l,c)}};LO=hde([Y0(1,$t),Y0(2,Ri),Y0(3,Sn),Y0(4,hi),Y0(5,wr),Y0(6,As)],LO);Mt(tu.ID,LO);Kt();X5();Th();var OO=class extends it{constructor(){super({id:"editor.action.toggleHighContrast",label:Z8.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(i,n){let o=i.get(b1);this._originalThemeName?(o.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=o.getColorTheme().themeName,o.setTheme("hc-black"))}};Ue(OO);var gde=["editorContainer"],Dy=new Nt("NGX_MONACO_EDITOR_CONFIG"),VU=!1,HU,fde=(()=>{class e{constructor(n){this.config=n,this.onInit=new Xe}ngAfterViewInit(){VU?HU.then(()=>{this.initMonaco(this._options)}):(VU=!0,HU=new Promise(n=>{let o=(this.config.baseUrl||"./assets")+"/monaco-editor/min/vs";if(typeof window.monaco=="object"){n();return}let r=()=>{window.require.config({paths:{vs:`${o}`}}),window.require(["vs/editor/editor.main"],()=>{typeof this.config.onMonacoLoad=="function"&&this.config.onMonacoLoad(),this.initMonaco(this._options),n()})};if(window.require)r();else{let s=document.createElement("script");s.type="text/javascript",s.src=`${o}/loader.js`,s.addEventListener("load",r),document.body.appendChild(s)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return e.\u0275fac=function(n){return new(n||e)(at(Dy))},e.\u0275cmp=Ai({type:e,selectors:[["ng-component"]],viewQuery:function(n,o){if(n&1&&Kl(gde,7),n&2){let r;xr(r=Dr())&&(o._editorContainer=r.first)}},outputs:{onInit:"onInit"},decls:0,vars:0,template:function(n,o){},encapsulation:2}),e})(),zU=(()=>{class e extends fde{constructor(n,o){super(o),this.zone=n,this.editorConfig=o,this._value="",this.propagateChange=r=>{},this.onTouched=()=>{}}set options(n){this._options=Object.assign({},this.config.defaultOptions,n),this._editor&&(this._editor.dispose(),this.initMonaco(n))}get options(){return this._options}set model(n){this.options.model=n,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(n){this._value=n||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(n){this.propagateChange=n}registerOnTouched(n){this.onTouched=n}initMonaco(n){let o=!!n.model;if(o){let r=monaco.editor.getModel(n.model.uri||"");r?(n.model=r,n.model.setValue(this._value)):n.model=monaco.editor.createModel(n.model.value,n.model.language,n.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,n),o||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(r=>{let s=this._editor.getValue();this.zone.run(()=>{this.propagateChange(s),this._value=s})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Mn(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}}return e.\u0275fac=function(n){return new(n||e)(at(vi),at(Dy))},e.\u0275cmp=Ai({type:e,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[Qr([{provide:s0,useExisting:ju(()=>e),multi:!0}]),ql],decls:2,vars:0,consts:[["editorContainer",""],[1,"editor-container"]],template:function(n,o){n&1&&Pt(0,"div",1,0)},styles:[`[_nghost-%COMP%] {
          display: block;
          height: 200px;
      }

      .editor-container[_ngcontent-%COMP%] {
          width: 100%;
          height: 98%;
      }`]}),e})();var GU=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:Dy,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=$o({type:e}),e.\u0275inj=Uo({imports:[[wn]]}),e})();var UO={};gS(UO,{arrayReplaceAt:()=>jO,assign:()=>X0,escapeHtml:()=>dh,escapeRE:()=>Jde,fromCodePoint:()=>My,has:()=>Gde,isMdAsciiPunct:()=>uf,isPunctChar:()=>cf,isSpace:()=>Li,isString:()=>R2,isValidEntityCode:()=>k2,isWhiteSpace:()=>lf,lib:()=>ehe,normalizeReference:()=>df,unescapeAll:()=>uh,unescapeMd:()=>qde});var S2={};gS(S2,{decode:()=>Ey,encode:()=>b2,format:()=>Z0,parse:()=>Iy});var WU={};function vde(e){let i=WU[e];if(i)return i;i=WU[e]=[];for(let n=0;n<128;n++){let o=String.fromCharCode(n);i.push(o)}for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);i[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return i}function C2(e,i){typeof i!="string"&&(i=C2.defaultChars);let n=vde(i);return e.replace(/(%[a-f0-9]{2})+/gi,function(o){let r="";for(let s=0,l=o.length;s<l;s+=3){let c=parseInt(o.slice(s+1,s+3),16);if(c<128){r+=n[c];continue}if((c&224)===192&&s+3<l){let u=parseInt(o.slice(s+4,s+6),16);if((u&192)===128){let d=c<<6&1984|u&63;d<128?r+="\uFFFD\uFFFD":r+=String.fromCharCode(d),s+=3;continue}}if((c&240)===224&&s+6<l){let u=parseInt(o.slice(s+4,s+6),16),d=parseInt(o.slice(s+7,s+9),16);if((u&192)===128&&(d&192)===128){let h=c<<12&61440|u<<6&4032|d&63;h<2048||h>=55296&&h<=57343?r+="\uFFFD\uFFFD\uFFFD":r+=String.fromCharCode(h),s+=6;continue}}if((c&248)===240&&s+9<l){let u=parseInt(o.slice(s+4,s+6),16),d=parseInt(o.slice(s+7,s+9),16),h=parseInt(o.slice(s+10,s+12),16);if((u&192)===128&&(d&192)===128&&(h&192)===128){let p=c<<18&1835008|u<<12&258048|d<<6&4032|h&63;p<65536||p>1114111?r+="\uFFFD\uFFFD\uFFFD\uFFFD":(p-=65536,r+=String.fromCharCode(55296+(p>>10),56320+(p&1023))),s+=9;continue}}r+="\uFFFD"}return r})}C2.defaultChars=";/?:@&=+$,#";C2.componentChars="";var Ey=C2;var jU={};function Cde(e){let i=jU[e];if(i)return i;i=jU[e]=[];for(let n=0;n<128;n++){let o=String.fromCharCode(n);/^[0-9a-z]$/i.test(o)?i.push(o):i.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)i[e.charCodeAt(n)]=e[n];return i}function w2(e,i,n){typeof i!="string"&&(n=i,i=w2.defaultChars),typeof n>"u"&&(n=!0);let o=Cde(i),r="";for(let s=0,l=e.length;s<l;s++){let c=e.charCodeAt(s);if(n&&c===37&&s+2<l&&/^[0-9a-f]{2}$/i.test(e.slice(s+1,s+3))){r+=e.slice(s,s+3),s+=2;continue}if(c<128){r+=o[c];continue}if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&s+1<l){let u=e.charCodeAt(s+1);if(u>=56320&&u<=57343){r+=encodeURIComponent(e[s]+e[s+1]),s++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(e[s])}return r}w2.defaultChars=";/?:@&=+$,-_.!~*'()#";w2.componentChars="-_.!~*'()";var b2=w2;function Z0(e){let i="";return i+=e.protocol||"",i+=e.slashes?"//":"",i+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?i+="["+e.hostname+"]":i+=e.hostname||"",i+=e.port?":"+e.port:"",i+=e.pathname||"",i+=e.search||"",i+=e.hash||"",i}function y2(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var wde=/^([a-z0-9.+-]+:)/i,bde=/:[0-9]*$/,yde=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Sde=["<",">",'"',"`"," ","\r",`
`,"	"],_de=["{","}","|","\\","^","`"].concat(Sde),xde=["'"].concat(_de),UU=["%","/","?",";","#"].concat(xde),$U=["/","?","#"],Dde=255,qU=/^[+a-z0-9A-Z_-]{0,63}$/,Ede=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,KU={javascript:!0,"javascript:":!0},YU={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Ide(e,i){if(e&&e instanceof y2)return e;let n=new y2;return n.parse(e,i),n}y2.prototype.parse=function(e,i){let n,o,r,s=e;if(s=s.trim(),!i&&e.split("#").length===1){let d=yde.exec(s);if(d)return this.pathname=d[1],d[2]&&(this.search=d[2]),this}let l=wde.exec(s);if(l&&(l=l[0],n=l.toLowerCase(),this.protocol=l,s=s.substr(l.length)),(i||l||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=s.substr(0,2)==="//",r&&!(l&&KU[l])&&(s=s.substr(2),this.slashes=!0)),!KU[l]&&(r||l&&!YU[l])){let d=-1;for(let y=0;y<$U.length;y++)o=s.indexOf($U[y]),o!==-1&&(d===-1||o<d)&&(d=o);let h,p;d===-1?p=s.lastIndexOf("@"):p=s.lastIndexOf("@",d),p!==-1&&(h=s.slice(0,p),s=s.slice(p+1),this.auth=h),d=-1;for(let y=0;y<UU.length;y++)o=s.indexOf(UU[y]),o!==-1&&(d===-1||o<d)&&(d=o);d===-1&&(d=s.length),s[d-1]===":"&&d--;let g=s.slice(0,d);s=s.slice(d),this.parseHost(g),this.hostname=this.hostname||"";let f=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!f){let y=this.hostname.split(/\./);for(let M=0,k=y.length;M<k;M++){let G=y[M];if(G&&!G.match(qU)){let J="";for(let $=0,_e=G.length;$<_e;$++)G.charCodeAt($)>127?J+="x":J+=G[$];if(!J.match(qU)){let $=y.slice(0,M),_e=y.slice(M+1),Fe=G.match(Ede);Fe&&($.push(Fe[1]),_e.unshift(Fe[2])),_e.length&&(s=_e.join(".")+s),this.hostname=$.join(".");break}}}}this.hostname.length>Dde&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}let c=s.indexOf("#");c!==-1&&(this.hash=s.substr(c),s=s.slice(0,c));let u=s.indexOf("?");return u!==-1&&(this.search=s.substr(u),s=s.slice(0,u)),s&&(this.pathname=s),YU[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};y2.prototype.parseHost=function(e){let i=bde.exec(e);i&&(i=i[0],i!==":"&&(this.port=i.substr(1)),e=e.substr(0,e.length-i.length)),e&&(this.hostname=e)};var Iy=Ide;var NO={};gS(NO,{Any:()=>_2,Cc:()=>x2,Cf:()=>ZU,P:()=>Q0,S:()=>D2,Z:()=>E2});var _2=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var x2=/[\0-\x1F\x7F-\x9F]/;var ZU=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/;var Q0=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;var D2=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/;var E2=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;var QU=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(e=>e.charCodeAt(0)));var XU=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(e=>e.charCodeAt(0)));var BO,Mde=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),VO=(BO=String.fromCodePoint)!==null&&BO!==void 0?BO:function(e){let i="";return e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),i+=String.fromCharCode(e),i};function HO(e){var i;return e>=55296&&e<=57343||e>1114111?65533:(i=Mde.get(e))!==null&&i!==void 0?i:e}var tr=function(e){return e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z",e}(tr||{}),Rde=32,af=function(e){return e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE",e}(af||{});function zO(e){return e>=tr.ZERO&&e<=tr.NINE}function kde(e){return e>=tr.UPPER_A&&e<=tr.UPPER_F||e>=tr.LOWER_A&&e<=tr.LOWER_F}function Ade(e){return e>=tr.UPPER_A&&e<=tr.UPPER_Z||e>=tr.LOWER_A&&e<=tr.LOWER_Z||zO(e)}function Fde(e){return e===tr.EQUALS||Ade(e)}var er=function(e){return e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity",e}(er||{}),ch=function(e){return e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute",e}(ch||{}),I2=class{constructor(i,n,o){this.decodeTree=i,this.emitCodePoint=n,this.errors=o,this.state=er.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ch.Strict}startEntity(i){this.decodeMode=i,this.state=er.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(i,n){switch(this.state){case er.EntityStart:return i.charCodeAt(n)===tr.NUM?(this.state=er.NumericStart,this.consumed+=1,this.stateNumericStart(i,n+1)):(this.state=er.NamedEntity,this.stateNamedEntity(i,n));case er.NumericStart:return this.stateNumericStart(i,n);case er.NumericDecimal:return this.stateNumericDecimal(i,n);case er.NumericHex:return this.stateNumericHex(i,n);case er.NamedEntity:return this.stateNamedEntity(i,n)}}stateNumericStart(i,n){return n>=i.length?-1:(i.charCodeAt(n)|Rde)===tr.LOWER_X?(this.state=er.NumericHex,this.consumed+=1,this.stateNumericHex(i,n+1)):(this.state=er.NumericDecimal,this.stateNumericDecimal(i,n))}addToNumericResult(i,n,o,r){if(n!==o){let s=o-n;this.result=this.result*Math.pow(r,s)+parseInt(i.substr(n,s),r),this.consumed+=s}}stateNumericHex(i,n){let o=n;for(;n<i.length;){let r=i.charCodeAt(n);if(zO(r)||kde(r))n+=1;else return this.addToNumericResult(i,o,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(i,o,n,16),-1}stateNumericDecimal(i,n){let o=n;for(;n<i.length;){let r=i.charCodeAt(n);if(zO(r))n+=1;else return this.addToNumericResult(i,o,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(i,o,n,10),-1}emitNumericEntity(i,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(i===tr.SEMI)this.consumed+=1;else if(this.decodeMode===ch.Strict)return 0;return this.emitCodePoint(HO(this.result),this.consumed),this.errors&&(i!==tr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(i,n){let{decodeTree:o}=this,r=o[this.treeIndex],s=(r&af.VALUE_LENGTH)>>14;for(;n<i.length;n++,this.excess++){let l=i.charCodeAt(n);if(this.treeIndex=Tde(o,r,this.treeIndex+Math.max(1,s),l),this.treeIndex<0)return this.result===0||this.decodeMode===ch.Attribute&&(s===0||Fde(l))?0:this.emitNotTerminatedNamedEntity();if(r=o[this.treeIndex],s=(r&af.VALUE_LENGTH)>>14,s!==0){if(l===tr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==ch.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var i;let{result:n,decodeTree:o}=this,r=(o[n]&af.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(i=this.errors)===null||i===void 0||i.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(i,n,o){let{decodeTree:r}=this;return this.emitCodePoint(n===1?r[i]&~af.VALUE_LENGTH:r[i+1],o),n===3&&this.emitCodePoint(r[i+2],o),o}end(){var i;switch(this.state){case er.NamedEntity:return this.result!==0&&(this.decodeMode!==ch.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case er.NumericDecimal:return this.emitNumericEntity(0,2);case er.NumericHex:return this.emitNumericEntity(0,3);case er.NumericStart:return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case er.EntityStart:return 0}}};function JU(e){let i="",n=new I2(e,o=>i+=VO(o));return function(r,s){let l=0,c=0;for(;(c=r.indexOf("&",c))>=0;){i+=r.slice(l,c),n.startEntity(s);let d=n.write(r,c+1);if(d<0){l=c+n.end();break}l=c+d,c=d===0?l+1:l}let u=i+r.slice(l);return i="",u}}function Tde(e,i,n,o){let r=(i&af.BRANCH_LENGTH)>>7,s=i&af.JUMP_TABLE;if(r===0)return s!==0&&o===s?n:-1;if(s){let u=o-s;return u<0||u>=r?-1:e[n+u]-1}let l=n,c=l+r-1;for(;l<=c;){let u=l+c>>>1,d=e[u];if(d<o)l=u+1;else if(d>o)c=u-1;else return e[u+r]}return-1}var Pde=JU(QU),vat=JU(XU);function _p(e,i=ch.Legacy){return Pde(e,i)}function M2(e){for(let i=1;i<e.length;i++)e[i][0]+=e[i-1][0]+1;return e}var Lde=new Map(M2([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(M2([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(M2([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(M2([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var Ode=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Nde=String.prototype.codePointAt!=null?(e,i)=>e.codePointAt(i):(e,i)=>(e.charCodeAt(i)&64512)===55296?(e.charCodeAt(i)-55296)*1024+e.charCodeAt(i+1)-56320+65536:e.charCodeAt(i);function GO(e,i){return function(o){let r,s=0,l="";for(;r=e.exec(o);)s!==r.index&&(l+=o.substring(s,r.index)),l+=i.get(r[0].charCodeAt(0)),s=r.index+1;return l+o.substring(s)}}var e$=GO(/[&<>'"]/g,Ode),t$=GO(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),i$=GO(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));function Hde(e){return Object.prototype.toString.call(e)}function R2(e){return Hde(e)==="[object String]"}var zde=Object.prototype.hasOwnProperty;function Gde(e,i){return zde.call(e,i)}function X0(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(o){e[o]=n[o]})}}),e}function jO(e,i,n){return[].concat(e.slice(0,i),n,e.slice(i+1))}function k2(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function My(e){if(e>65535){e-=65536;let i=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(i,n)}return String.fromCharCode(e)}var r$=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Wde=/&([a-z#][a-z0-9]{1,31});/gi,jde=new RegExp(r$.source+"|"+Wde.source,"gi"),Ude=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function $de(e,i){if(i.charCodeAt(0)===35&&Ude.test(i)){let o=i[1].toLowerCase()==="x"?parseInt(i.slice(2),16):parseInt(i.slice(1),10);return k2(o)?My(o):e}let n=_p(e);return n!==e?n:e}function qde(e){return e.indexOf("\\")<0?e:e.replace(r$,"$1")}function uh(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(jde,function(i,n,o){return n||$de(i,o)})}var Kde=/[&<>"]/,Yde=/[&<>"]/g,Zde={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Qde(e){return Zde[e]}function dh(e){return Kde.test(e)?e.replace(Yde,Qde):e}var Xde=/[.?*+^$[\]\\(){}|-]/g;function Jde(e){return e.replace(Xde,"\\$&")}function Li(e){switch(e){case 9:case 32:return!0}return!1}function lf(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function cf(e){return Q0.test(e)||D2.test(e)}function uf(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function df(e){return e=e.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(e=e.replace(/ẞ/g,"\xDF")),e.toLowerCase().toUpperCase()}var ehe={mdurl:S2,ucmicro:NO};var YO={};gS(YO,{parseLinkDestination:()=>qO,parseLinkLabel:()=>$O,parseLinkTitle:()=>KO});function $O(e,i,n){let o,r,s,l,c=e.posMax,u=e.pos;for(e.pos=i+1,o=1;e.pos<c;){if(s=e.src.charCodeAt(e.pos),s===93&&(o--,o===0)){r=!0;break}if(l=e.pos,e.md.inline.skipToken(e),s===91){if(l===e.pos-1)o++;else if(n)return e.pos=u,-1}}let d=-1;return r&&(d=e.pos),e.pos=u,d}function qO(e,i,n){let o,r=i,s={ok:!1,pos:0,str:""};if(e.charCodeAt(r)===60){for(r++;r<n;){if(o=e.charCodeAt(r),o===10||o===60)return s;if(o===62)return s.pos=r+1,s.str=uh(e.slice(i+1,r)),s.ok=!0,s;if(o===92&&r+1<n){r+=2;continue}r++}return s}let l=0;for(;r<n&&(o=e.charCodeAt(r),!(o===32||o<32||o===127));){if(o===92&&r+1<n){if(e.charCodeAt(r+1)===32)break;r+=2;continue}if(o===40&&(l++,l>32))return s;if(o===41){if(l===0)break;l--}r++}return i===r||l!==0||(s.str=uh(e.slice(i,r)),s.pos=r,s.ok=!0),s}function KO(e,i,n,o){let r,s=i,l={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)l.str=o.str,l.marker=o.marker;else{if(s>=n)return l;let c=e.charCodeAt(s);if(c!==34&&c!==39&&c!==40)return l;i++,s++,c===40&&(c=41),l.marker=c}for(;s<n;){if(r=e.charCodeAt(s),r===l.marker)return l.pos=s+1,l.str+=uh(e.slice(i,s)),l.ok=!0,l;if(r===40&&l.marker===41)return l;r===92&&s+1<n&&s++,s++}return l.can_continue=!0,l.str+=uh(e.slice(i,s)),l}var hu={};hu.code_inline=function(e,i,n,o,r){let s=e[i];return"<code"+r.renderAttrs(s)+">"+dh(s.content)+"</code>"};hu.code_block=function(e,i,n,o,r){let s=e[i];return"<pre"+r.renderAttrs(s)+"><code>"+dh(e[i].content)+`</code></pre>
`};hu.fence=function(e,i,n,o,r){let s=e[i],l=s.info?uh(s.info).trim():"",c="",u="";if(l){let h=l.split(/(\s+)/g);c=h[0],u=h.slice(2).join("")}let d;if(n.highlight?d=n.highlight(s.content,c,u)||dh(s.content):d=dh(s.content),d.indexOf("<pre")===0)return d+`
`;if(l){let h=s.attrIndex("class"),p=s.attrs?s.attrs.slice():[];h<0?p.push(["class",n.langPrefix+c]):(p[h]=p[h].slice(),p[h][1]+=" "+n.langPrefix+c);let g={attrs:p};return`<pre><code${r.renderAttrs(g)}>${d}</code></pre>
`}return`<pre><code${r.renderAttrs(s)}>${d}</code></pre>
`};hu.image=function(e,i,n,o,r){let s=e[i];return s.attrs[s.attrIndex("alt")][1]=r.renderInlineAsText(s.children,n,o),r.renderToken(e,i,n)};hu.hardbreak=function(e,i,n){return n.xhtmlOut?`<br />
`:`<br>
`};hu.softbreak=function(e,i,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};hu.text=function(e,i){return dh(e[i].content)};hu.html_block=function(e,i){return e[i].content};hu.html_inline=function(e,i){return e[i].content};function J0(){this.rules=X0({},hu)}J0.prototype.renderAttrs=function(i){let n,o,r;if(!i.attrs)return"";for(r="",n=0,o=i.attrs.length;n<o;n++)r+=" "+dh(i.attrs[n][0])+'="'+dh(i.attrs[n][1])+'"';return r};J0.prototype.renderToken=function(i,n,o){let r=i[n],s="";if(r.hidden)return"";r.block&&r.nesting!==-1&&n&&i[n-1].hidden&&(s+=`
`),s+=(r.nesting===-1?"</":"<")+r.tag,s+=this.renderAttrs(r),r.nesting===0&&o.xhtmlOut&&(s+=" /");let l=!1;if(r.block&&(l=!0,r.nesting===1&&n+1<i.length)){let c=i[n+1];(c.type==="inline"||c.hidden||c.nesting===-1&&c.tag===r.tag)&&(l=!1)}return s+=l?`>
`:">",s};J0.prototype.renderInline=function(e,i,n){let o="",r=this.rules;for(let s=0,l=e.length;s<l;s++){let c=e[s].type;typeof r[c]<"u"?o+=r[c](e,s,i,n,this):o+=this.renderToken(e,s,i)}return o};J0.prototype.renderInlineAsText=function(e,i,n){let o="";for(let r=0,s=e.length;r<s;r++)switch(e[r].type){case"text":o+=e[r].content;break;case"image":o+=this.renderInlineAsText(e[r].children,i,n);break;case"html_inline":case"html_block":o+=e[r].content;break;case"softbreak":case"hardbreak":o+=`
`;break;default:}return o};J0.prototype.render=function(e,i,n){let o="",r=this.rules;for(let s=0,l=e.length;s<l;s++){let c=e[s].type;c==="inline"?o+=this.renderInline(e[s].children,i,n):typeof r[c]<"u"?o+=r[c](e,s,i,n,this):o+=this.renderToken(e,s,i,n)}return o};var s$=J0;function wl(){this.__rules__=[],this.__cache__=null}wl.prototype.__find__=function(e){for(let i=0;i<this.__rules__.length;i++)if(this.__rules__[i].name===e)return i;return-1};wl.prototype.__compile__=function(){let e=this,i=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(o){i.indexOf(o)<0&&i.push(o)})}),e.__cache__={},i.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(o){o.enabled&&(n&&o.alt.indexOf(n)<0||e.__cache__[n].push(o.fn))})})};wl.prototype.at=function(e,i,n){let o=this.__find__(e),r=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=i,this.__rules__[o].alt=r.alt||[],this.__cache__=null};wl.prototype.before=function(e,i,n,o){let r=this.__find__(e),s=o||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:i,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};wl.prototype.after=function(e,i,n,o){let r=this.__find__(e),s=o||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:i,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};wl.prototype.push=function(e,i,n){let o=n||{};this.__rules__.push({name:e,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null};wl.prototype.enable=function(e,i){Array.isArray(e)||(e=[e]);let n=[];return e.forEach(function(o){let r=this.__find__(o);if(r<0){if(i)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[r].enabled=!0,n.push(o)},this),this.__cache__=null,n};wl.prototype.enableOnly=function(e,i){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,i)};wl.prototype.disable=function(e,i){Array.isArray(e)||(e=[e]);let n=[];return e.forEach(function(o){let r=this.__find__(o);if(r<0){if(i)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[r].enabled=!1,n.push(o)},this),this.__cache__=null,n};wl.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var hf=wl;function ev(e,i,n){this.type=e,this.tag=i,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}ev.prototype.attrIndex=function(i){if(!this.attrs)return-1;let n=this.attrs;for(let o=0,r=n.length;o<r;o++)if(n[o][0]===i)return o;return-1};ev.prototype.attrPush=function(i){this.attrs?this.attrs.push(i):this.attrs=[i]};ev.prototype.attrSet=function(i,n){let o=this.attrIndex(i),r=[i,n];o<0?this.attrPush(r):this.attrs[o]=r};ev.prototype.attrGet=function(i){let n=this.attrIndex(i),o=null;return n>=0&&(o=this.attrs[n][1]),o};ev.prototype.attrJoin=function(i,n){let o=this.attrIndex(i);o<0?this.attrPush([i,n]):this.attrs[o][1]=this.attrs[o][1]+" "+n};var hh=ev;function a$(e,i,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=i}a$.prototype.Token=hh;var l$=a$;var the=/\r\n?|\n/g,ihe=/\0/g;function ZO(e){let i;i=e.src.replace(the,`
`),i=i.replace(ihe,"\uFFFD"),e.src=i}function QO(e){let i;e.inlineMode?(i=new e.Token("inline","",0),i.content=e.src,i.map=[0,1],i.children=[],e.tokens.push(i)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function XO(e){let i=e.tokens;for(let n=0,o=i.length;n<o;n++){let r=i[n];r.type==="inline"&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}function nhe(e){return/^<a[>\s]/i.test(e)}function ohe(e){return/^<\/a\s*>/i.test(e)}function JO(e){let i=e.tokens;if(e.md.options.linkify)for(let n=0,o=i.length;n<o;n++){if(i[n].type!=="inline"||!e.md.linkify.pretest(i[n].content))continue;let r=i[n].children,s=0;for(let l=r.length-1;l>=0;l--){let c=r[l];if(c.type==="link_close"){for(l--;r[l].level!==c.level&&r[l].type!=="link_open";)l--;continue}if(c.type==="html_inline"&&(nhe(c.content)&&s>0&&s--,ohe(c.content)&&s++),!(s>0)&&c.type==="text"&&e.md.linkify.test(c.content)){let u=c.content,d=e.md.linkify.match(u),h=[],p=c.level,g=0;d.length>0&&d[0].index===0&&l>0&&r[l-1].type==="text_special"&&(d=d.slice(1));for(let f=0;f<d.length;f++){let y=d[f].url,M=e.md.normalizeLink(y);if(!e.md.validateLink(M))continue;let k=d[f].text;d[f].schema?d[f].schema==="mailto:"&&!/^mailto:/i.test(k)?k=e.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):k=e.md.normalizeLinkText(k):k=e.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,"");let G=d[f].index;if(G>g){let Fe=new e.Token("text","",0);Fe.content=u.slice(g,G),Fe.level=p,h.push(Fe)}let J=new e.Token("link_open","a",1);J.attrs=[["href",M]],J.level=p++,J.markup="linkify",J.info="auto",h.push(J);let $=new e.Token("text","",0);$.content=k,$.level=p,h.push($);let _e=new e.Token("link_close","a",-1);_e.level=--p,_e.markup="linkify",_e.info="auto",h.push(_e),g=d[f].lastIndex}if(g<u.length){let f=new e.Token("text","",0);f.content=u.slice(g),f.level=p,h.push(f)}i[n].children=r=jO(r,l,h)}}}}var c$=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,rhe=/\((c|tm|r)\)/i,she=/\((c|tm|r)\)/ig,ahe={c:"\xA9",r:"\xAE",tm:"\u2122"};function lhe(e,i){return ahe[i.toLowerCase()]}function che(e){let i=0;for(let n=e.length-1;n>=0;n--){let o=e[n];o.type==="text"&&!i&&(o.content=o.content.replace(she,lhe)),o.type==="link_open"&&o.info==="auto"&&i--,o.type==="link_close"&&o.info==="auto"&&i++}}function uhe(e){let i=0;for(let n=e.length-1;n>=0;n--){let o=e[n];o.type==="text"&&!i&&c$.test(o.content)&&(o.content=o.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),o.type==="link_open"&&o.info==="auto"&&i--,o.type==="link_close"&&o.info==="auto"&&i++}}function eN(e){let i;if(e.md.options.typographer)for(i=e.tokens.length-1;i>=0;i--)e.tokens[i].type==="inline"&&(rhe.test(e.tokens[i].content)&&che(e.tokens[i].children),c$.test(e.tokens[i].content)&&uhe(e.tokens[i].children))}var dhe=/['"]/,u$=/['"]/g,d$="\u2019";function A2(e,i,n){return e.slice(0,i)+n+e.slice(i+1)}function hhe(e,i){let n,o=[];for(let r=0;r<e.length;r++){let s=e[r],l=e[r].level;for(n=o.length-1;n>=0&&!(o[n].level<=l);n--);if(o.length=n+1,s.type!=="text")continue;let c=s.content,u=0,d=c.length;e:for(;u<d;){u$.lastIndex=u;let h=u$.exec(c);if(!h)break;let p=!0,g=!0;u=h.index+1;let f=h[0]==="'",y=32;if(h.index-1>=0)y=c.charCodeAt(h.index-1);else for(n=r-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){y=e[n].content.charCodeAt(e[n].content.length-1);break}let M=32;if(u<d)M=c.charCodeAt(u);else for(n=r+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){M=e[n].content.charCodeAt(0);break}let k=uf(y)||cf(String.fromCharCode(y)),G=uf(M)||cf(String.fromCharCode(M)),J=lf(y),$=lf(M);if($?p=!1:G&&(J||k||(p=!1)),J?g=!1:k&&($||G||(g=!1)),M===34&&h[0]==='"'&&y>=48&&y<=57&&(g=p=!1),p&&g&&(p=k,g=G),!p&&!g){f&&(s.content=A2(s.content,h.index,d$));continue}if(g)for(n=o.length-1;n>=0;n--){let _e=o[n];if(o[n].level<l)break;if(_e.single===f&&o[n].level===l){_e=o[n];let Fe,Pe;f?(Fe=i.md.options.quotes[2],Pe=i.md.options.quotes[3]):(Fe=i.md.options.quotes[0],Pe=i.md.options.quotes[1]),s.content=A2(s.content,h.index,Pe),e[_e.token].content=A2(e[_e.token].content,_e.pos,Fe),u+=Pe.length-1,_e.token===r&&(u+=Fe.length-1),c=s.content,d=c.length,o.length=n;continue e}}p?o.push({token:r,pos:h.index,single:f,level:l}):g&&f&&(s.content=A2(s.content,h.index,d$))}}}function tN(e){if(e.md.options.typographer)for(let i=e.tokens.length-1;i>=0;i--)e.tokens[i].type!=="inline"||!dhe.test(e.tokens[i].content)||hhe(e.tokens[i].children,e)}function iN(e){let i,n,o=e.tokens,r=o.length;for(let s=0;s<r;s++){if(o[s].type!=="inline")continue;let l=o[s].children,c=l.length;for(i=0;i<c;i++)l[i].type==="text_special"&&(l[i].type="text");for(i=n=0;i<c;i++)l[i].type==="text"&&i+1<c&&l[i+1].type==="text"?l[i+1].content=l[i].content+l[i+1].content:(i!==n&&(l[n]=l[i]),n++);i!==n&&(l.length=n)}}var nN=[["normalize",ZO],["block",QO],["inline",XO],["linkify",JO],["replacements",eN],["smartquotes",tN],["text_join",iN]];function oN(){this.ruler=new hf;for(let e=0;e<nN.length;e++)this.ruler.push(nN[e][0],nN[e][1])}oN.prototype.process=function(e){let i=this.ruler.getRules("");for(let n=0,o=i.length;n<o;n++)i[n](e)};oN.prototype.State=l$;var h$=oN;function pu(e,i,n,o){this.src=e,this.md=i,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;let r=this.src;for(let s=0,l=0,c=0,u=0,d=r.length,h=!1;l<d;l++){let p=r.charCodeAt(l);if(!h)if(Li(p)){c++,p===9?u+=4-u%4:u++;continue}else h=!0;(p===10||l===d-1)&&(p!==10&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(c),this.sCount.push(u),this.bsCount.push(0),h=!1,c=0,u=0,s=l+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}pu.prototype.push=function(e,i,n){let o=new hh(e,i,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o};pu.prototype.isEmpty=function(i){return this.bMarks[i]+this.tShift[i]>=this.eMarks[i]};pu.prototype.skipEmptyLines=function(i){for(let n=this.lineMax;i<n&&!(this.bMarks[i]+this.tShift[i]<this.eMarks[i]);i++);return i};pu.prototype.skipSpaces=function(i){for(let n=this.src.length;i<n;i++){let o=this.src.charCodeAt(i);if(!Li(o))break}return i};pu.prototype.skipSpacesBack=function(i,n){if(i<=n)return i;for(;i>n;)if(!Li(this.src.charCodeAt(--i)))return i+1;return i};pu.prototype.skipChars=function(i,n){for(let o=this.src.length;i<o&&this.src.charCodeAt(i)===n;i++);return i};pu.prototype.skipCharsBack=function(i,n,o){if(i<=o)return i;for(;i>o;)if(n!==this.src.charCodeAt(--i))return i+1;return i};pu.prototype.getLines=function(i,n,o,r){if(i>=n)return"";let s=new Array(n-i);for(let l=0,c=i;c<n;c++,l++){let u=0,d=this.bMarks[c],h=d,p;for(c+1<n||r?p=this.eMarks[c]+1:p=this.eMarks[c];h<p&&u<o;){let g=this.src.charCodeAt(h);if(Li(g))g===9?u+=4-(u+this.bsCount[c])%4:u++;else if(h-d<this.tShift[c])u++;else break;h++}u>o?s[l]=new Array(u-o+1).join(" ")+this.src.slice(h,p):s[l]=this.src.slice(h,p)}return s.join("")};pu.prototype.Token=hh;var p$=pu;var phe=65536;function rN(e,i){let n=e.bMarks[i]+e.tShift[i],o=e.eMarks[i];return e.src.slice(n,o)}function g$(e){let i=[],n=e.length,o=0,r=e.charCodeAt(o),s=!1,l=0,c="";for(;o<n;)r===124&&(s?(c+=e.substring(l,o-1),l=o):(i.push(c+e.substring(l,o)),c="",l=o+1)),s=r===92,o++,r=e.charCodeAt(o);return i.push(c+e.substring(l)),i}function sN(e,i,n,o){if(i+2>n)return!1;let r=i+1;if(e.sCount[r]<e.blkIndent||e.sCount[r]-e.blkIndent>=4)return!1;let s=e.bMarks[r]+e.tShift[r];if(s>=e.eMarks[r])return!1;let l=e.src.charCodeAt(s++);if(l!==124&&l!==45&&l!==58||s>=e.eMarks[r])return!1;let c=e.src.charCodeAt(s++);if(c!==124&&c!==45&&c!==58&&!Li(c)||l===45&&Li(c))return!1;for(;s<e.eMarks[r];){let _e=e.src.charCodeAt(s);if(_e!==124&&_e!==45&&_e!==58&&!Li(_e))return!1;s++}let u=rN(e,i+1),d=u.split("|"),h=[];for(let _e=0;_e<d.length;_e++){let Fe=d[_e].trim();if(!Fe){if(_e===0||_e===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(Fe))return!1;Fe.charCodeAt(Fe.length-1)===58?h.push(Fe.charCodeAt(0)===58?"center":"right"):Fe.charCodeAt(0)===58?h.push("left"):h.push("")}if(u=rN(e,i).trim(),u.indexOf("|")===-1||e.sCount[i]-e.blkIndent>=4)return!1;d=g$(u),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop();let p=d.length;if(p===0||p!==h.length)return!1;if(o)return!0;let g=e.parentType;e.parentType="table";let f=e.md.block.ruler.getRules("blockquote"),y=e.push("table_open","table",1),M=[i,0];y.map=M;let k=e.push("thead_open","thead",1);k.map=[i,i+1];let G=e.push("tr_open","tr",1);G.map=[i,i+1];for(let _e=0;_e<d.length;_e++){let Fe=e.push("th_open","th",1);h[_e]&&(Fe.attrs=[["style","text-align:"+h[_e]]]);let Pe=e.push("inline","",0);Pe.content=d[_e].trim(),Pe.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let J,$=0;for(r=i+2;r<n&&!(e.sCount[r]<e.blkIndent);r++){let _e=!1;for(let Pe=0,$e=f.length;Pe<$e;Pe++)if(f[Pe](e,r,n,!0)){_e=!0;break}if(_e||(u=rN(e,r).trim(),!u)||e.sCount[r]-e.blkIndent>=4||(d=g$(u),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),$+=p-d.length,$>phe))break;if(r===i+2){let Pe=e.push("tbody_open","tbody",1);Pe.map=J=[i+2,0]}let Fe=e.push("tr_open","tr",1);Fe.map=[r,r+1];for(let Pe=0;Pe<p;Pe++){let $e=e.push("td_open","td",1);h[Pe]&&($e.attrs=[["style","text-align:"+h[Pe]]]);let nt=e.push("inline","",0);nt.content=d[Pe]?d[Pe].trim():"",nt.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return J&&(e.push("tbody_close","tbody",-1),J[1]=r),e.push("table_close","table",-1),M[1]=r,e.parentType=g,e.line=r,!0}function aN(e,i,n){if(e.sCount[i]-e.blkIndent<4)return!1;let o=i+1,r=o;for(;o<n;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,r=o;continue}break}e.line=r;let s=e.push("code_block","code",0);return s.content=e.getLines(i,r,4+e.blkIndent,!1)+`
`,s.map=[i,e.line],!0}function lN(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4||r+3>s)return!1;let l=e.src.charCodeAt(r);if(l!==126&&l!==96)return!1;let c=r;r=e.skipChars(r,l);let u=r-c;if(u<3)return!1;let d=e.src.slice(c,r),h=e.src.slice(r,s);if(l===96&&h.indexOf(String.fromCharCode(l))>=0)return!1;if(o)return!0;let p=i,g=!1;for(;p++,!(p>=n||(r=c=e.bMarks[p]+e.tShift[p],s=e.eMarks[p],r<s&&e.sCount[p]<e.blkIndent));)if(e.src.charCodeAt(r)===l&&!(e.sCount[p]-e.blkIndent>=4)&&(r=e.skipChars(r,l),!(r-c<u)&&(r=e.skipSpaces(r),!(r<s)))){g=!0;break}u=e.sCount[i],e.line=p+(g?1:0);let f=e.push("fence","code",0);return f.info=h,f.content=e.getLines(i+1,p,u,!0),f.markup=d,f.map=[i,e.line],!0}function cN(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i],l=e.lineMax;if(e.sCount[i]-e.blkIndent>=4||e.src.charCodeAt(r)!==62)return!1;if(o)return!0;let c=[],u=[],d=[],h=[],p=e.md.block.ruler.getRules("blockquote"),g=e.parentType;e.parentType="blockquote";let f=!1,y;for(y=i;y<n;y++){let $=e.sCount[y]<e.blkIndent;if(r=e.bMarks[y]+e.tShift[y],s=e.eMarks[y],r>=s)break;if(e.src.charCodeAt(r++)===62&&!$){let Fe=e.sCount[y]+1,Pe,$e;e.src.charCodeAt(r)===32?(r++,Fe++,$e=!1,Pe=!0):e.src.charCodeAt(r)===9?(Pe=!0,(e.bsCount[y]+Fe)%4===3?(r++,Fe++,$e=!1):$e=!0):Pe=!1;let nt=Fe;for(c.push(e.bMarks[y]),e.bMarks[y]=r;r<s;){let lt=e.src.charCodeAt(r);if(Li(lt))lt===9?nt+=4-(nt+e.bsCount[y]+($e?1:0))%4:nt++;else break;r++}f=r>=s,u.push(e.bsCount[y]),e.bsCount[y]=e.sCount[y]+1+(Pe?1:0),d.push(e.sCount[y]),e.sCount[y]=nt-Fe,h.push(e.tShift[y]),e.tShift[y]=r-e.bMarks[y];continue}if(f)break;let _e=!1;for(let Fe=0,Pe=p.length;Fe<Pe;Fe++)if(p[Fe](e,y,n,!0)){_e=!0;break}if(_e){e.lineMax=y,e.blkIndent!==0&&(c.push(e.bMarks[y]),u.push(e.bsCount[y]),h.push(e.tShift[y]),d.push(e.sCount[y]),e.sCount[y]-=e.blkIndent);break}c.push(e.bMarks[y]),u.push(e.bsCount[y]),h.push(e.tShift[y]),d.push(e.sCount[y]),e.sCount[y]=-1}let M=e.blkIndent;e.blkIndent=0;let k=e.push("blockquote_open","blockquote",1);k.markup=">";let G=[i,0];k.map=G,e.md.block.tokenize(e,i,y);let J=e.push("blockquote_close","blockquote",-1);J.markup=">",e.lineMax=l,e.parentType=g,G[1]=e.line;for(let $=0;$<h.length;$++)e.bMarks[$+i]=c[$],e.tShift[$+i]=h[$],e.sCount[$+i]=d[$],e.bsCount[$+i]=u[$];return e.blkIndent=M,!0}function uN(e,i,n,o){let r=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4)return!1;let s=e.bMarks[i]+e.tShift[i],l=e.src.charCodeAt(s++);if(l!==42&&l!==45&&l!==95)return!1;let c=1;for(;s<r;){let d=e.src.charCodeAt(s++);if(d!==l&&!Li(d))return!1;d===l&&c++}if(c<3)return!1;if(o)return!0;e.line=i+1;let u=e.push("hr","hr",0);return u.map=[i,e.line],u.markup=Array(c+1).join(String.fromCharCode(l)),!0}function f$(e,i){let n=e.eMarks[i],o=e.bMarks[i]+e.tShift[i],r=e.src.charCodeAt(o++);if(r!==42&&r!==45&&r!==43)return-1;if(o<n){let s=e.src.charCodeAt(o);if(!Li(s))return-1}return o}function m$(e,i){let n=e.bMarks[i]+e.tShift[i],o=e.eMarks[i],r=n;if(r+1>=o)return-1;let s=e.src.charCodeAt(r++);if(s<48||s>57)return-1;for(;;){if(r>=o)return-1;if(s=e.src.charCodeAt(r++),s>=48&&s<=57){if(r-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return r<o&&(s=e.src.charCodeAt(r),!Li(s))?-1:r}function ghe(e,i){let n=e.level+2;for(let o=i+2,r=e.tokens.length-2;o<r;o++)e.tokens[o].level===n&&e.tokens[o].type==="paragraph_open"&&(e.tokens[o+2].hidden=!0,e.tokens[o].hidden=!0,o+=2)}function dN(e,i,n,o){let r,s,l,c,u=i,d=!0;if(e.sCount[u]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[u]-e.listIndent>=4&&e.sCount[u]<e.blkIndent)return!1;let h=!1;o&&e.parentType==="paragraph"&&e.sCount[u]>=e.blkIndent&&(h=!0);let p,g,f;if((f=m$(e,u))>=0){if(p=!0,l=e.bMarks[u]+e.tShift[u],g=Number(e.src.slice(l,f-1)),h&&g!==1)return!1}else if((f=f$(e,u))>=0)p=!1;else return!1;if(h&&e.skipSpaces(f)>=e.eMarks[u])return!1;if(o)return!0;let y=e.src.charCodeAt(f-1),M=e.tokens.length;p?(c=e.push("ordered_list_open","ol",1),g!==1&&(c.attrs=[["start",g]])):c=e.push("bullet_list_open","ul",1);let k=[u,0];c.map=k,c.markup=String.fromCharCode(y);let G=!1,J=e.md.block.ruler.getRules("list"),$=e.parentType;for(e.parentType="list";u<n;){s=f,r=e.eMarks[u];let _e=e.sCount[u]+f-(e.bMarks[u]+e.tShift[u]),Fe=_e;for(;s<r;){let bn=e.src.charCodeAt(s);if(bn===9)Fe+=4-(Fe+e.bsCount[u])%4;else if(bn===32)Fe++;else break;s++}let Pe=s,$e;Pe>=r?$e=1:$e=Fe-_e,$e>4&&($e=1);let nt=_e+$e;c=e.push("list_item_open","li",1),c.markup=String.fromCharCode(y);let lt=[u,0];c.map=lt,p&&(c.info=e.src.slice(l,f-1));let Lt=e.tight,Jt=e.tShift[u],xn=e.sCount[u],Ei=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=nt,e.tight=!0,e.tShift[u]=Pe-e.bMarks[u],e.sCount[u]=Fe,Pe>=r&&e.isEmpty(u+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,u,n,!0),(!e.tight||G)&&(d=!1),G=e.line-u>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=Ei,e.tShift[u]=Jt,e.sCount[u]=xn,e.tight=Lt,c=e.push("list_item_close","li",-1),c.markup=String.fromCharCode(y),u=e.line,lt[1]=u,u>=n||e.sCount[u]<e.blkIndent||e.sCount[u]-e.blkIndent>=4)break;let hn=!1;for(let bn=0,as=J.length;bn<as;bn++)if(J[bn](e,u,n,!0)){hn=!0;break}if(hn)break;if(p){if(f=m$(e,u),f<0)break;l=e.bMarks[u]+e.tShift[u]}else if(f=f$(e,u),f<0)break;if(y!==e.src.charCodeAt(f-1))break}return p?c=e.push("ordered_list_close","ol",-1):c=e.push("bullet_list_close","ul",-1),c.markup=String.fromCharCode(y),k[1]=u,e.line=u,e.parentType=$,d&&ghe(e,M),!0}function hN(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i],l=i+1;if(e.sCount[i]-e.blkIndent>=4||e.src.charCodeAt(r)!==91)return!1;function c(J){let $=e.lineMax;if(J>=$||e.isEmpty(J))return null;let _e=!1;if(e.sCount[J]-e.blkIndent>3&&(_e=!0),e.sCount[J]<0&&(_e=!0),!_e){let $e=e.md.block.ruler.getRules("reference"),nt=e.parentType;e.parentType="reference";let lt=!1;for(let Lt=0,Jt=$e.length;Lt<Jt;Lt++)if($e[Lt](e,J,$,!0)){lt=!0;break}if(e.parentType=nt,lt)return null}let Fe=e.bMarks[J]+e.tShift[J],Pe=e.eMarks[J];return e.src.slice(Fe,Pe+1)}let u=e.src.slice(r,s+1);s=u.length;let d=-1;for(r=1;r<s;r++){let J=u.charCodeAt(r);if(J===91)return!1;if(J===93){d=r;break}else if(J===10){let $=c(l);$!==null&&(u+=$,s=u.length,l++)}else if(J===92&&(r++,r<s&&u.charCodeAt(r)===10)){let $=c(l);$!==null&&(u+=$,s=u.length,l++)}}if(d<0||u.charCodeAt(d+1)!==58)return!1;for(r=d+2;r<s;r++){let J=u.charCodeAt(r);if(J===10){let $=c(l);$!==null&&(u+=$,s=u.length,l++)}else if(!Li(J))break}let h=e.md.helpers.parseLinkDestination(u,r,s);if(!h.ok)return!1;let p=e.md.normalizeLink(h.str);if(!e.md.validateLink(p))return!1;r=h.pos;let g=r,f=l,y=r;for(;r<s;r++){let J=u.charCodeAt(r);if(J===10){let $=c(l);$!==null&&(u+=$,s=u.length,l++)}else if(!Li(J))break}let M=e.md.helpers.parseLinkTitle(u,r,s);for(;M.can_continue;){let J=c(l);if(J===null)break;u+=J,r=s,s=u.length,l++,M=e.md.helpers.parseLinkTitle(u,r,s,M)}let k;for(r<s&&y!==r&&M.ok?(k=M.str,r=M.pos):(k="",r=g,l=f);r<s;){let J=u.charCodeAt(r);if(!Li(J))break;r++}if(r<s&&u.charCodeAt(r)!==10&&k)for(k="",r=g,l=f;r<s;){let J=u.charCodeAt(r);if(!Li(J))break;r++}if(r<s&&u.charCodeAt(r)!==10)return!1;let G=df(u.slice(1,d));return G?(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[G]>"u"&&(e.env.references[G]={title:k,href:p}),e.line=l),!0):!1}var v$=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];var fhe="[a-zA-Z_:][a-zA-Z0-9:._-]*",mhe="[^\"'=<>`\\x00-\\x20]+",vhe="'[^']*'",Che='"[^"]*"',whe="(?:"+mhe+"|"+vhe+"|"+Che+")",bhe="(?:\\s+"+fhe+"(?:\\s*=\\s*"+whe+")?)",C$="<[A-Za-z][A-Za-z0-9\\-]*"+bhe+"*\\s*\\/?>",w$="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",yhe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",She="<[?][\\s\\S]*?[?]>",_he="<![A-Za-z][^>]*>",xhe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",b$=new RegExp("^(?:"+C$+"|"+w$+"|"+yhe+"|"+She+"|"+_he+"|"+xhe+")"),y$=new RegExp("^(?:"+C$+"|"+w$+")");var tv=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+v$.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(y$.source+"\\s*$"),/^$/,!1]];function pN(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(r)!==60)return!1;let l=e.src.slice(r,s),c=0;for(;c<tv.length&&!tv[c][0].test(l);c++);if(c===tv.length)return!1;if(o)return tv[c][2];let u=i+1;if(!tv[c][1].test(l)){for(;u<n&&!(e.sCount[u]<e.blkIndent);u++)if(r=e.bMarks[u]+e.tShift[u],s=e.eMarks[u],l=e.src.slice(r,s),tv[c][1].test(l)){l.length!==0&&u++;break}}e.line=u;let d=e.push("html_block","",0);return d.map=[i,u],d.content=e.getLines(i,u,e.blkIndent,!0),!0}function gN(e,i,n,o){let r=e.bMarks[i]+e.tShift[i],s=e.eMarks[i];if(e.sCount[i]-e.blkIndent>=4)return!1;let l=e.src.charCodeAt(r);if(l!==35||r>=s)return!1;let c=1;for(l=e.src.charCodeAt(++r);l===35&&r<s&&c<=6;)c++,l=e.src.charCodeAt(++r);if(c>6||r<s&&!Li(l))return!1;if(o)return!0;s=e.skipSpacesBack(s,r);let u=e.skipCharsBack(s,35,r);u>r&&Li(e.src.charCodeAt(u-1))&&(s=u),e.line=i+1;let d=e.push("heading_open","h"+String(c),1);d.markup="########".slice(0,c),d.map=[i,e.line];let h=e.push("inline","",0);h.content=e.src.slice(r,s).trim(),h.map=[i,e.line],h.children=[];let p=e.push("heading_close","h"+String(c),-1);return p.markup="########".slice(0,c),!0}function fN(e,i,n){let o=e.md.block.ruler.getRules("paragraph");if(e.sCount[i]-e.blkIndent>=4)return!1;let r=e.parentType;e.parentType="paragraph";let s=0,l,c=i+1;for(;c<n&&!e.isEmpty(c);c++){if(e.sCount[c]-e.blkIndent>3)continue;if(e.sCount[c]>=e.blkIndent){let f=e.bMarks[c]+e.tShift[c],y=e.eMarks[c];if(f<y&&(l=e.src.charCodeAt(f),(l===45||l===61)&&(f=e.skipChars(f,l),f=e.skipSpaces(f),f>=y))){s=l===61?1:2;break}}if(e.sCount[c]<0)continue;let g=!1;for(let f=0,y=o.length;f<y;f++)if(o[f](e,c,n,!0)){g=!0;break}if(g)break}if(!s)return!1;let u=e.getLines(i,c,e.blkIndent,!1).trim();e.line=c+1;let d=e.push("heading_open","h"+String(s),1);d.markup=String.fromCharCode(l),d.map=[i,e.line];let h=e.push("inline","",0);h.content=u,h.map=[i,e.line-1],h.children=[];let p=e.push("heading_close","h"+String(s),-1);return p.markup=String.fromCharCode(l),e.parentType=r,!0}function mN(e,i,n){let o=e.md.block.ruler.getRules("paragraph"),r=e.parentType,s=i+1;for(e.parentType="paragraph";s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)continue;let d=!1;for(let h=0,p=o.length;h<p;h++)if(o[h](e,s,n,!0)){d=!0;break}if(d)break}let l=e.getLines(i,s,e.blkIndent,!1).trim();e.line=s;let c=e.push("paragraph_open","p",1);c.map=[i,e.line];let u=e.push("inline","",0);return u.content=l,u.map=[i,e.line],u.children=[],e.push("paragraph_close","p",-1),e.parentType=r,!0}var F2=[["table",sN,["paragraph","reference"]],["code",aN],["fence",lN,["paragraph","reference","blockquote","list"]],["blockquote",cN,["paragraph","reference","blockquote","list"]],["hr",uN,["paragraph","reference","blockquote","list"]],["list",dN,["paragraph","reference","blockquote"]],["reference",hN],["html_block",pN,["paragraph","reference","blockquote"]],["heading",gN,["paragraph","reference","blockquote"]],["lheading",fN],["paragraph",mN]];function T2(){this.ruler=new hf;for(let e=0;e<F2.length;e++)this.ruler.push(F2[e][0],F2[e][1],{alt:(F2[e][2]||[]).slice()})}T2.prototype.tokenize=function(e,i,n){let o=this.ruler.getRules(""),r=o.length,s=e.md.options.maxNesting,l=i,c=!1;for(;l<n&&(e.line=l=e.skipEmptyLines(l),!(l>=n||e.sCount[l]<e.blkIndent));){if(e.level>=s){e.line=n;break}let u=e.line,d=!1;for(let h=0;h<r;h++)if(d=o[h](e,l,n,!1),d){if(u>=e.line)throw new Error("block rule didn't increment state.line");break}if(!d)throw new Error("none of the block rules matched");e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),l=e.line,l<n&&e.isEmpty(l)&&(c=!0,l++,e.line=l)}};T2.prototype.parse=function(e,i,n,o){if(!e)return;let r=new this.State(e,i,n,o);this.tokenize(r,r.line,r.lineMax)};T2.prototype.State=p$;var S$=T2;function Ry(e,i,n,o){this.src=e,this.env=n,this.md=i,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Ry.prototype.pushPending=function(){let e=new hh("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Ry.prototype.push=function(e,i,n){this.pending&&this.pushPending();let o=new hh(e,i,n),r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(r),o};Ry.prototype.scanDelims=function(e,i){let n=this.posMax,o=this.src.charCodeAt(e),r=e>0?this.src.charCodeAt(e-1):32,s=e;for(;s<n&&this.src.charCodeAt(s)===o;)s++;let l=s-e,c=s<n?this.src.charCodeAt(s):32,u=uf(r)||cf(String.fromCharCode(r)),d=uf(c)||cf(String.fromCharCode(c)),h=lf(r),p=lf(c),g=!p&&(!d||h||u),f=!h&&(!u||p||d);return{can_open:g&&(i||!f||u),can_close:f&&(i||!g||d),length:l}};Ry.prototype.Token=hh;var _$=Ry;function Dhe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function vN(e,i){let n=e.pos;for(;n<e.posMax&&!Dhe(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(i||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}var Ehe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function CN(e,i){if(!e.md.options.linkify||e.linkLevel>0)return!1;let n=e.pos,o=e.posMax;if(n+3>o||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;let r=e.pending.match(Ehe);if(!r)return!1;let s=r[1],l=e.md.linkify.matchAtStart(e.src.slice(n-s.length));if(!l)return!1;let c=l.url;if(c.length<=s.length)return!1;c=c.replace(/\*+$/,"");let u=e.md.normalizeLink(c);if(!e.md.validateLink(u))return!1;if(!i){e.pending=e.pending.slice(0,-s.length);let d=e.push("link_open","a",1);d.attrs=[["href",u]],d.markup="linkify",d.info="auto";let h=e.push("text","",0);h.content=e.md.normalizeLinkText(c);let p=e.push("link_close","a",-1);p.markup="linkify",p.info="auto"}return e.pos+=c.length-s.length,!0}function wN(e,i){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;let o=e.pending.length-1,r=e.posMax;if(!i)if(o>=0&&e.pending.charCodeAt(o)===32)if(o>=1&&e.pending.charCodeAt(o-1)===32){let s=o-1;for(;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<r&&Li(e.src.charCodeAt(n));)n++;return e.pos=n,!0}var bN=[];for(let e=0;e<256;e++)bN.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){bN[e.charCodeAt(0)]=1});function yN(e,i){let n=e.pos,o=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=o))return!1;let r=e.src.charCodeAt(n);if(r===10){for(i||e.push("hardbreak","br",0),n++;n<o&&(r=e.src.charCodeAt(n),!!Li(r));)n++;return e.pos=n,!0}let s=e.src[n];if(r>=55296&&r<=56319&&n+1<o){let c=e.src.charCodeAt(n+1);c>=56320&&c<=57343&&(s+=e.src[n+1],n++)}let l="\\"+s;if(!i){let c=e.push("text_special","",0);r<256&&bN[r]!==0?c.content=s:c.content=l,c.markup=l,c.info="escape"}return e.pos=n+1,!0}function SN(e,i){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;let r=n;n++;let s=e.posMax;for(;n<s&&e.src.charCodeAt(n)===96;)n++;let l=e.src.slice(r,n),c=l.length;if(e.backticksScanned&&(e.backticks[c]||0)<=r)return i||(e.pending+=l),e.pos+=c,!0;let u=n,d;for(;(d=e.src.indexOf("`",u))!==-1;){for(u=d+1;u<s&&e.src.charCodeAt(u)===96;)u++;let h=u-d;if(h===c){if(!i){let p=e.push("code_inline","code",0);p.markup=l,p.content=e.src.slice(n,d).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=u,!0}e.backticks[h]=d}return e.backticksScanned=!0,i||(e.pending+=l),e.pos+=c,!0}function Ihe(e,i){let n=e.pos,o=e.src.charCodeAt(n);if(i||o!==126)return!1;let r=e.scanDelims(e.pos,!0),s=r.length,l=String.fromCharCode(o);if(s<2)return!1;let c;s%2&&(c=e.push("text","",0),c.content=l,s--);for(let u=0;u<s;u+=2)c=e.push("text","",0),c.content=l+l,e.delimiters.push({marker:o,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0}function x$(e,i){let n,o=[],r=i.length;for(let s=0;s<r;s++){let l=i[s];if(l.marker!==126||l.end===-1)continue;let c=i[l.end];n=e.tokens[l.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[c.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[c.token-1].type==="text"&&e.tokens[c.token-1].content==="~"&&o.push(c.token-1)}for(;o.length;){let s=o.pop(),l=s+1;for(;l<e.tokens.length&&e.tokens[l].type==="s_close";)l++;l--,s!==l&&(n=e.tokens[l],e.tokens[l]=e.tokens[s],e.tokens[s]=n)}}function Mhe(e){let i=e.tokens_meta,n=e.tokens_meta.length;x$(e,e.delimiters);for(let o=0;o<n;o++)i[o]&&i[o].delimiters&&x$(e,i[o].delimiters)}var _N={tokenize:Ihe,postProcess:Mhe};function Rhe(e,i){let n=e.pos,o=e.src.charCodeAt(n);if(i||o!==95&&o!==42)return!1;let r=e.scanDelims(e.pos,o===42);for(let s=0;s<r.length;s++){let l=e.push("text","",0);l.content=String.fromCharCode(o),e.delimiters.push({marker:o,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return e.pos+=r.length,!0}function D$(e,i){let n=i.length;for(let o=n-1;o>=0;o--){let r=i[o];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;let s=i[r.end],l=o>0&&i[o-1].end===r.end+1&&i[o-1].marker===r.marker&&i[o-1].token===r.token-1&&i[r.end+1].token===s.token+1,c=String.fromCharCode(r.marker),u=e.tokens[r.token];u.type=l?"strong_open":"em_open",u.tag=l?"strong":"em",u.nesting=1,u.markup=l?c+c:c,u.content="";let d=e.tokens[s.token];d.type=l?"strong_close":"em_close",d.tag=l?"strong":"em",d.nesting=-1,d.markup=l?c+c:c,d.content="",l&&(e.tokens[i[o-1].token].content="",e.tokens[i[r.end+1].token].content="",o--)}}function khe(e){let i=e.tokens_meta,n=e.tokens_meta.length;D$(e,e.delimiters);for(let o=0;o<n;o++)i[o]&&i[o].delimiters&&D$(e,i[o].delimiters)}var xN={tokenize:Rhe,postProcess:khe};function DN(e,i){let n,o,r,s,l="",c="",u=e.pos,d=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;let h=e.pos,p=e.posMax,g=e.pos+1,f=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(f<0)return!1;let y=f+1;if(y<p&&e.src.charCodeAt(y)===40){for(d=!1,y++;y<p&&(n=e.src.charCodeAt(y),!(!Li(n)&&n!==10));y++);if(y>=p)return!1;if(u=y,r=e.md.helpers.parseLinkDestination(e.src,y,e.posMax),r.ok){for(l=e.md.normalizeLink(r.str),e.md.validateLink(l)?y=r.pos:l="",u=y;y<p&&(n=e.src.charCodeAt(y),!(!Li(n)&&n!==10));y++);if(r=e.md.helpers.parseLinkTitle(e.src,y,e.posMax),y<p&&u!==y&&r.ok)for(c=r.str,y=r.pos;y<p&&(n=e.src.charCodeAt(y),!(!Li(n)&&n!==10));y++);}(y>=p||e.src.charCodeAt(y)!==41)&&(d=!0),y++}if(d){if(typeof e.env.references>"u")return!1;if(y<p&&e.src.charCodeAt(y)===91?(u=y+1,y=e.md.helpers.parseLinkLabel(e,y),y>=0?o=e.src.slice(u,y++):y=f+1):y=f+1,o||(o=e.src.slice(g,f)),s=e.env.references[df(o)],!s)return e.pos=h,!1;l=s.href,c=s.title}if(!i){e.pos=g,e.posMax=f;let M=e.push("link_open","a",1),k=[["href",l]];M.attrs=k,c&&k.push(["title",c]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=y,e.posMax=p,!0}function EN(e,i){let n,o,r,s,l,c,u,d,h="",p=e.pos,g=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;let f=e.pos+2,y=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(y<0)return!1;if(s=y+1,s<g&&e.src.charCodeAt(s)===40){for(s++;s<g&&(n=e.src.charCodeAt(s),!(!Li(n)&&n!==10));s++);if(s>=g)return!1;for(d=s,c=e.md.helpers.parseLinkDestination(e.src,s,e.posMax),c.ok&&(h=e.md.normalizeLink(c.str),e.md.validateLink(h)?s=c.pos:h=""),d=s;s<g&&(n=e.src.charCodeAt(s),!(!Li(n)&&n!==10));s++);if(c=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<g&&d!==s&&c.ok)for(u=c.str,s=c.pos;s<g&&(n=e.src.charCodeAt(s),!(!Li(n)&&n!==10));s++);else u="";if(s>=g||e.src.charCodeAt(s)!==41)return e.pos=p,!1;s++}else{if(typeof e.env.references>"u")return!1;if(s<g&&e.src.charCodeAt(s)===91?(d=s+1,s=e.md.helpers.parseLinkLabel(e,s),s>=0?r=e.src.slice(d,s++):s=y+1):s=y+1,r||(r=e.src.slice(f,y)),l=e.env.references[df(r)],!l)return e.pos=p,!1;h=l.href,u=l.title}if(!i){o=e.src.slice(f,y);let M=[];e.md.inline.parse(o,e.md,e.env,M);let k=e.push("image","img",0),G=[["src",h],["alt",""]];k.attrs=G,k.children=M,k.content=o,u&&G.push(["title",u])}return e.pos=s,e.posMax=g,!0}var Ahe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Fhe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function IN(e,i){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;let o=e.pos,r=e.posMax;for(;;){if(++n>=r)return!1;let l=e.src.charCodeAt(n);if(l===60)return!1;if(l===62)break}let s=e.src.slice(o+1,n);if(Fhe.test(s)){let l=e.md.normalizeLink(s);if(!e.md.validateLink(l))return!1;if(!i){let c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="autolink",c.info="auto";let u=e.push("text","",0);u.content=e.md.normalizeLinkText(s);let d=e.push("link_close","a",-1);d.markup="autolink",d.info="auto"}return e.pos+=s.length+2,!0}if(Ahe.test(s)){let l=e.md.normalizeLink("mailto:"+s);if(!e.md.validateLink(l))return!1;if(!i){let c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="autolink",c.info="auto";let u=e.push("text","",0);u.content=e.md.normalizeLinkText(s);let d=e.push("link_close","a",-1);d.markup="autolink",d.info="auto"}return e.pos+=s.length+2,!0}return!1}function The(e){return/^<a[>\s]/i.test(e)}function Phe(e){return/^<\/a\s*>/i.test(e)}function Lhe(e){let i=e|32;return i>=97&&i<=122}function MN(e,i){if(!e.md.options.html)return!1;let n=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==60||o+2>=n)return!1;let r=e.src.charCodeAt(o+1);if(r!==33&&r!==63&&r!==47&&!Lhe(r))return!1;let s=e.src.slice(o).match(b$);if(!s)return!1;if(!i){let l=e.push("html_inline","",0);l.content=s[0],The(l.content)&&e.linkLevel++,Phe(l.content)&&e.linkLevel--}return e.pos+=s[0].length,!0}var Ohe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Nhe=/^&([a-z][a-z0-9]{1,31});/i;function RN(e,i){let n=e.pos,o=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=o)return!1;if(e.src.charCodeAt(n+1)===35){let s=e.src.slice(n).match(Ohe);if(s){if(!i){let l=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),c=e.push("text_special","",0);c.content=k2(l)?My(l):My(65533),c.markup=s[0],c.info="entity"}return e.pos+=s[0].length,!0}}else{let s=e.src.slice(n).match(Nhe);if(s){let l=_p(s[0]);if(l!==s[0]){if(!i){let c=e.push("text_special","",0);c.content=l,c.markup=s[0],c.info="entity"}return e.pos+=s[0].length,!0}}}return!1}function E$(e){let i={},n=e.length;if(!n)return;let o=0,r=-2,s=[];for(let l=0;l<n;l++){let c=e[l];if(s.push(0),(e[o].marker!==c.marker||r!==c.token-1)&&(o=l),r=c.token,c.length=c.length||0,!c.close)continue;i.hasOwnProperty(c.marker)||(i[c.marker]=[-1,-1,-1,-1,-1,-1]);let u=i[c.marker][(c.open?3:0)+c.length%3],d=o-s[o]-1,h=d;for(;d>u;d-=s[d]+1){let p=e[d];if(p.marker===c.marker&&p.open&&p.end<0){let g=!1;if((p.close||c.open)&&(p.length+c.length)%3===0&&(p.length%3!==0||c.length%3!==0)&&(g=!0),!g){let f=d>0&&!e[d-1].open?s[d-1]+1:0;s[l]=l-d+f,s[d]=f,c.open=!1,p.end=l,p.close=!1,h=-1,r=-2;break}}}h!==-1&&(i[c.marker][(c.open?3:0)+(c.length||0)%3]=h)}}function kN(e){let i=e.tokens_meta,n=e.tokens_meta.length;E$(e.delimiters);for(let o=0;o<n;o++)i[o]&&i[o].delimiters&&E$(i[o].delimiters)}function AN(e){let i,n,o=0,r=e.tokens,s=e.tokens.length;for(i=n=0;i<s;i++)r[i].nesting<0&&o--,r[i].level=o,r[i].nesting>0&&o++,r[i].type==="text"&&i+1<s&&r[i+1].type==="text"?r[i+1].content=r[i].content+r[i+1].content:(i!==n&&(r[n]=r[i]),n++);i!==n&&(r.length=n)}var FN=[["text",vN],["linkify",CN],["newline",wN],["escape",yN],["backticks",SN],["strikethrough",_N.tokenize],["emphasis",xN.tokenize],["link",DN],["image",EN],["autolink",IN],["html_inline",MN],["entity",RN]],TN=[["balance_pairs",kN],["strikethrough",_N.postProcess],["emphasis",xN.postProcess],["fragments_join",AN]];function ky(){this.ruler=new hf;for(let e=0;e<FN.length;e++)this.ruler.push(FN[e][0],FN[e][1]);this.ruler2=new hf;for(let e=0;e<TN.length;e++)this.ruler2.push(TN[e][0],TN[e][1])}ky.prototype.skipToken=function(e){let i=e.pos,n=this.ruler.getRules(""),o=n.length,r=e.md.options.maxNesting,s=e.cache;if(typeof s[i]<"u"){e.pos=s[i];return}let l=!1;if(e.level<r){for(let c=0;c<o;c++)if(e.level++,l=n[c](e,!0),e.level--,l){if(i>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;l||e.pos++,s[i]=e.pos};ky.prototype.tokenize=function(e){let i=this.ruler.getRules(""),n=i.length,o=e.posMax,r=e.md.options.maxNesting;for(;e.pos<o;){let s=e.pos,l=!1;if(e.level<r){for(let c=0;c<n;c++)if(l=i[c](e,!1),l){if(s>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(l){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ky.prototype.parse=function(e,i,n,o){let r=new this.State(e,i,n,o);this.tokenize(r);let s=this.ruler2.getRules(""),l=s.length;for(let c=0;c<l;c++)s[c](r)};ky.prototype.State=_$;var I$=ky;function M$(e){let i={};e=e||{},i.src_Any=_2.source,i.src_Cc=x2.source,i.src_Z=E2.source,i.src_P=Q0.source,i.src_ZPCc=[i.src_Z,i.src_P,i.src_Cc].join("|"),i.src_ZCc=[i.src_Z,i.src_Cc].join("|");let n="[><\uFF5C]";return i.src_pseudo_letter="(?:(?!"+n+"|"+i.src_ZPCc+")"+i.src_Any+")",i.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",i.src_auth="(?:(?:(?!"+i.src_ZCc+"|[@/\\[\\]()]).)+@)?",i.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",i.src_host_terminator="(?=$|"+n+"|"+i.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+i.src_ZPCc+"))",i.src_path="(?:[/?#](?:(?!"+i.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+i.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+i.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+i.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+i.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+i.src_ZCc+"|[']).)+\\'|\\'(?="+i.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+i.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+i.src_ZCc+"|$)|;(?!"+i.src_ZCc+"|$)|\\!+(?!"+i.src_ZCc+"|[!]|$)|\\?(?!"+i.src_ZCc+"|[?]|$))+|\\/)?",i.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',i.src_xn="xn--[a-z0-9\\-]{1,59}",i.src_domain_root="(?:"+i.src_xn+"|"+i.src_pseudo_letter+"{1,63})",i.src_domain="(?:"+i.src_xn+"|(?:"+i.src_pseudo_letter+")|(?:"+i.src_pseudo_letter+"(?:-|"+i.src_pseudo_letter+"){0,61}"+i.src_pseudo_letter+"))",i.src_host="(?:(?:(?:(?:"+i.src_domain+")\\.)*"+i.src_domain+"))",i.tpl_host_fuzzy="(?:"+i.src_ip4+"|(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%)))",i.tpl_host_no_ip_fuzzy="(?:(?:(?:"+i.src_domain+")\\.)+(?:%TLDS%))",i.src_host_strict=i.src_host+i.src_host_terminator,i.tpl_host_fuzzy_strict=i.tpl_host_fuzzy+i.src_host_terminator,i.src_host_port_strict=i.src_host+i.src_port+i.src_host_terminator,i.tpl_host_port_fuzzy_strict=i.tpl_host_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_port_no_ip_fuzzy_strict=i.tpl_host_no_ip_fuzzy+i.src_port+i.src_host_terminator,i.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+i.src_ZPCc+"|>|$))",i.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+i.src_ZCc+")("+i.src_email_name+"@"+i.tpl_host_fuzzy_strict+")",i.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+i.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+i.tpl_host_port_fuzzy_strict+i.src_path+")",i.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+i.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+i.tpl_host_port_no_ip_fuzzy_strict+i.src_path+")",i}function PN(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(o){e[o]=n[o]})}),e}function L2(e){return Object.prototype.toString.call(e)}function Bhe(e){return L2(e)==="[object String]"}function Vhe(e){return L2(e)==="[object Object]"}function Hhe(e){return L2(e)==="[object RegExp]"}function R$(e){return L2(e)==="[object Function]"}function zhe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var A$={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Ghe(e){return Object.keys(e||{}).reduce(function(i,n){return i||A$.hasOwnProperty(n)},!1)}var Whe={"http:":{validate:function(e,i,n){let o=e.slice(i);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,i,n){let o=e.slice(i);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?i>=3&&e[i-3]===":"||i>=3&&e[i-3]==="/"?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,i,n){let o=e.slice(i);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},jhe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Uhe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function $he(e){e.__index__=-1,e.__text_cache__=""}function qhe(e){return function(i,n){let o=i.slice(n);return e.test(o)?o.match(e)[0].length:0}}function k$(){return function(e,i){i.normalize(e)}}function P2(e){let i=e.re=M$(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(jhe),n.push(i.src_xn),i.src_tlds=n.join("|");function o(c){return c.replace("%TLDS%",i.src_tlds)}i.email_fuzzy=RegExp(o(i.tpl_email_fuzzy),"i"),i.link_fuzzy=RegExp(o(i.tpl_link_fuzzy),"i"),i.link_no_ip_fuzzy=RegExp(o(i.tpl_link_no_ip_fuzzy),"i"),i.host_fuzzy_test=RegExp(o(i.tpl_host_fuzzy_test),"i");let r=[];e.__compiled__={};function s(c,u){throw new Error('(LinkifyIt) Invalid schema "'+c+'": '+u)}Object.keys(e.__schemas__).forEach(function(c){let u=e.__schemas__[c];if(u===null)return;let d={validate:null,link:null};if(e.__compiled__[c]=d,Vhe(u)){Hhe(u.validate)?d.validate=qhe(u.validate):R$(u.validate)?d.validate=u.validate:s(c,u),R$(u.normalize)?d.normalize=u.normalize:u.normalize?s(c,u):d.normalize=k$();return}if(Bhe(u)){r.push(c);return}s(c,u)}),r.forEach(function(c){e.__compiled__[e.__schemas__[c]]&&(e.__compiled__[c].validate=e.__compiled__[e.__schemas__[c]].validate,e.__compiled__[c].normalize=e.__compiled__[e.__schemas__[c]].normalize)}),e.__compiled__[""]={validate:null,normalize:k$()};let l=Object.keys(e.__compiled__).filter(function(c){return c.length>0&&e.__compiled__[c]}).map(zhe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+i.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+i.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),$he(e)}function Khe(e,i){let n=e.__index__,o=e.__last_index__,r=e.__text_cache__.slice(n,o);this.schema=e.__schema__.toLowerCase(),this.index=n+i,this.lastIndex=o+i,this.raw=r,this.text=r,this.url=r}function LN(e,i){let n=new Khe(e,i);return e.__compiled__[n.schema].normalize(n,e),n}function Ss(e,i){if(!(this instanceof Ss))return new Ss(e,i);i||Ghe(e)&&(i=e,e={}),this.__opts__=PN({},A$,i),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=PN({},Whe,e),this.__compiled__={},this.__tlds__=Uhe,this.__tlds_replaced__=!1,this.re={},P2(this)}Ss.prototype.add=function(i,n){return this.__schemas__[i]=n,P2(this),this};Ss.prototype.set=function(i){return this.__opts__=PN(this.__opts__,i),this};Ss.prototype.test=function(i){if(this.__text_cache__=i,this.__index__=-1,!i.length)return!1;let n,o,r,s,l,c,u,d,h;if(this.re.schema_test.test(i)){for(u=this.re.schema_search,u.lastIndex=0;(n=u.exec(i))!==null;)if(s=this.testSchemaAt(i,n[2],u.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(d=i.search(this.re.host_fuzzy_test),d>=0&&(this.__index__<0||d<this.__index__)&&(o=i.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=o.index+o[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(h=i.indexOf("@"),h>=0&&(r=i.match(this.re.email_fuzzy))!==null&&(l=r.index+r[1].length,c=r.index+r[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&c>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=c))),this.__index__>=0};Ss.prototype.pretest=function(i){return this.re.pretest.test(i)};Ss.prototype.testSchemaAt=function(i,n,o){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(i,o,this):0};Ss.prototype.match=function(i){let n=[],o=0;this.__index__>=0&&this.__text_cache__===i&&(n.push(LN(this,o)),o=this.__last_index__);let r=o?i.slice(o):i;for(;this.test(r);)n.push(LN(this,o)),r=r.slice(this.__last_index__),o+=this.__last_index__;return n.length?n:null};Ss.prototype.matchAtStart=function(i){if(this.__text_cache__=i,this.__index__=-1,!i.length)return null;let n=this.re.schema_at_start.exec(i);if(!n)return null;let o=this.testSchemaAt(i,n[2],n[0].length);return o?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o,LN(this,0)):null};Ss.prototype.tlds=function(i,n){return i=Array.isArray(i)?i:[i],n?(this.__tlds__=this.__tlds__.concat(i).sort().filter(function(o,r,s){return o!==s[r-1]}).reverse(),P2(this),this):(this.__tlds__=i.slice(),this.__tlds_replaced__=!0,P2(this),this)};Ss.prototype.normalize=function(i){i.schema||(i.url="http://"+i.url),i.schema==="mailto:"&&!/^mailto:/i.test(i.url)&&(i.url="mailto:"+i.url)};Ss.prototype.onCompile=function(){};var F$=Ss;var P$="-",Yhe=/^xn--/,Zhe=/[^\0-\x7F]/,Qhe=/[\x2E\u3002\uFF0E\uFF61]/g,Xhe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ON=35,gu=Math.floor,NN=String.fromCharCode;function xp(e){throw new RangeError(Xhe[e])}function Jhe(e,i){let n=[],o=e.length;for(;o--;)n[o]=i(e[o]);return n}function L$(e,i){let n=e.split("@"),o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(Qhe,".");let r=e.split("."),s=Jhe(r,i).join(".");return o+s}function O$(e){let i=[],n=0,o=e.length;for(;n<o;){let r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){let s=e.charCodeAt(n++);(s&64512)==56320?i.push(((r&1023)<<10)+(s&1023)+65536):(i.push(r),n--)}else i.push(r)}return i}var epe=e=>String.fromCodePoint(...e),tpe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:36},T$=function(e,i){return e+22+75*(e<26)-((i!=0)<<5)},N$=function(e,i,n){let o=0;for(e=n?gu(e/700):e>>1,e+=gu(e/i);e>ON*26>>1;o+=36)e=gu(e/ON);return gu(o+(ON+1)*e/(e+38))},B$=function(e){let i=[],n=e.length,o=0,r=128,s=72,l=e.lastIndexOf(P$);l<0&&(l=0);for(let c=0;c<l;++c)e.charCodeAt(c)>=128&&xp("not-basic"),i.push(e.charCodeAt(c));for(let c=l>0?l+1:0;c<n;){let u=o;for(let h=1,p=36;;p+=36){c>=n&&xp("invalid-input");let g=tpe(e.charCodeAt(c++));g>=36&&xp("invalid-input"),g>gu((2147483647-o)/h)&&xp("overflow"),o+=g*h;let f=p<=s?1:p>=s+26?26:p-s;if(g<f)break;let y=36-f;h>gu(2147483647/y)&&xp("overflow"),h*=y}let d=i.length+1;s=N$(o-u,d,u==0),gu(o/d)>2147483647-r&&xp("overflow"),r+=gu(o/d),o%=d,i.splice(o++,0,r)}return String.fromCodePoint(...i)},V$=function(e){let i=[];e=O$(e);let n=e.length,o=128,r=0,s=72;for(let u of e)u<128&&i.push(NN(u));let l=i.length,c=l;for(l&&i.push(P$);c<n;){let u=2147483647;for(let h of e)h>=o&&h<u&&(u=h);let d=c+1;u-o>gu((2147483647-r)/d)&&xp("overflow"),r+=(u-o)*d,o=u;for(let h of e)if(h<o&&++r>2147483647&&xp("overflow"),h===o){let p=r;for(let g=36;;g+=36){let f=g<=s?1:g>=s+26?26:g-s;if(p<f)break;let y=p-f,M=36-f;i.push(NN(T$(f+y%M,0))),p=gu(y/M)}i.push(NN(T$(p,0))),s=N$(r,d,c===l),r=0,++c}++r,++o}return i.join("")},ipe=function(e){return L$(e,function(i){return Yhe.test(i)?B$(i.slice(4).toLowerCase()):i})},npe=function(e){return L$(e,function(i){return Zhe.test(i)?"xn--"+V$(i):i})},ope={version:"2.3.1",ucs2:{decode:O$,encode:epe},decode:B$,encode:V$,toASCII:npe,toUnicode:ipe};var BN=ope;var H$={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}};var z$={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}};var G$={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}};var rpe={default:H$,zero:z$,commonmark:G$},spe=/^(vbscript|javascript|file|data):/,ape=/^data:image\/(gif|png|jpeg|webp);/;function lpe(e){let i=e.trim().toLowerCase();return spe.test(i)?ape.test(i):!0}var W$=["http:","https:","mailto:"];function cpe(e){let i=Iy(e,!0);if(i.hostname&&(!i.protocol||W$.indexOf(i.protocol)>=0))try{i.hostname=BN.toASCII(i.hostname)}catch{}return b2(Z0(i))}function upe(e){let i=Iy(e,!0);if(i.hostname&&(!i.protocol||W$.indexOf(i.protocol)>=0))try{i.hostname=BN.toUnicode(i.hostname)}catch{}return Ey(Z0(i),Ey.defaultChars+"%")}function $s(e,i){if(!(this instanceof $s))return new $s(e,i);i||R2(e)||(i=e||{},e="default"),this.inline=new I$,this.block=new S$,this.core=new h$,this.renderer=new s$,this.linkify=new F$,this.validateLink=lpe,this.normalizeLink=cpe,this.normalizeLinkText=upe,this.utils=UO,this.helpers=X0({},YO),this.options={},this.configure(e),i&&this.set(i)}$s.prototype.set=function(e){return X0(this.options,e),this};$s.prototype.configure=function(e){let i=this;if(R2(e)){let n=e;if(e=rpe[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&i.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&i[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&i[n].ruler2.enableOnly(e.components[n].rules2)}),this};$s.prototype.enable=function(e,i){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));let o=e.filter(function(r){return n.indexOf(r)<0});if(o.length&&!i)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};$s.prototype.disable=function(e,i){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));let o=e.filter(function(r){return n.indexOf(r)<0});if(o.length&&!i)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};$s.prototype.use=function(e){let i=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,i),this};$s.prototype.parse=function(e,i){if(typeof e!="string")throw new Error("Input data should be a String");let n=new this.core.State(e,this,i);return this.core.process(n),n.tokens};$s.prototype.render=function(e,i){return i=i||{},this.renderer.render(this.parse(e,i),this.options,i)};$s.prototype.parseInline=function(e,i){let n=new this.core.State(e,this,i);return n.inlineMode=!0,this.core.process(n),n.tokens};$s.prototype.renderInline=function(e,i){return i=i||{},this.renderer.render(this.parseInline(e,i),this.options,i)};var Ay=$s;var uq=Sh(cq(),1);var Ep=uq.default;function H2(e){let i=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},o={begin:"^[-\\*]{3,}",end:"$"},r={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},l={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},c=/[A-Za-z][A-Za-z0-9+.-]*/,u={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:i.concat(/\[.+?\]\(/,c,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},d={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},h={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=e.inherit(d,{contains:[]}),g=e.inherit(h,{contains:[]});d.contains.push(g),h.contains.push(p);let f=[n,u];return[d,h,p,g].forEach(G=>{G.contains=G.contains.concat(f)}),f=f.concat(d,h),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,s,d,h,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},r,o,u,l,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function ege(e,i){if(e&1){let n=mn();He(0,"div",7)(1,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyBold())}),Pt(2,"i",8),Ne(),He(3,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyItalic())}),Pt(4,"i",9),Ne(),He(5,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyHeading())}),Pt(6,"i",10),Ne(),He(7,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyStrike())}),Pt(8,"i",11),Ne(),He(9,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyBulletedList())}),Pt(10,"i",12),Ne(),He(11,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyNumberedList())}),Pt(12,"i",13),Ne(),He(13,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyCheckList())}),Pt(14,"i",14),Ne(),He(15,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyQuote())}),Pt(16,"i",15),Ne(),He(17,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyCodeTag())}),Pt(18,"i",16),Ne(),He(19,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyTable())}),Pt(20,"i",17),Ne(),He(21,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyLink())}),Pt(22,"i",18),Ne(),He(23,"a",2),_t("click",function(){Gt(n);let r=Dt();return Wt(r.applyImg())}),Pt(24,"i",19),Ne()()}}function tge(e,i){if(e&1){let n=mn();He(0,"div",20)(1,"a")(2,"i",21),_t("click",function(){Gt(n);let r=Dt();return Wt(r.toggleMinMap())}),Ne()()()}}function ige(e,i){if(e&1){let n=mn();Hs(0),He(1,"ngx-monaco-editor",22),so("ngModelChange",function(r){Gt(n);let s=Dt();return ro(s.markdownContent,r)||(s.markdownContent=r),Wt(r)}),_t("onInit",function(r){Gt(n);let s=Dt();return Wt(s.onEditorInit(r))}),Ne(),zs()}if(e&2){let n=Dt();et(),oo("ngModel",n.markdownContent),ct("options",n.editorOptions)}}function nge(e,i){if(e&1&&Pt(0,"div",23),e&2){let n=Dt();ct("innerHTML",n.renderedContent,Hm)}}Ep.registerLanguage("markdown",H2);var ov=(()=>{let i=class i{constructor(){this.contentChange=new Xe,this.markdownContent="",this.renderedContent="",this.editorOptions={mode:"markdown",lineNumbers:!0,theme:"vs-dark",lineWrapping:!0,language:"markdown",minimap:{enabled:!1}},this.isPreview=!1,this.md=new Ay({highlight:(o,r)=>{if(r&&Ep.getLanguage(r))try{return`<pre class="hljs"><code>${Ep.highlight(o,{language:r}).value}</code></pre>`}catch{}return`<pre class="hljs"><code>${this.md.utils.escapeHtml(o)}</code></pre>`}})}ngOnInit(){this.updatePreview()}updatePreview(){this.markdownContent=this.content.value,this.renderedContent=this.md.render(this.markdownContent)}onEditorInit(o){this.editorInstance=o,o.onDidChangeModelContent(()=>{this.markdownContent=o.getValue(),this.content.value=this.markdownContent,this.contentChange.emit(this.content)})}toggleMinMap(){let o=this.editorInstance?.getOptions().get(AB.EditorOption.minimap).enabled;console.log("isMinimapEnabled",o),this.editorInstance?.updateOptions({minimap:{enabled:!o}})}applyBold(){this.addMarkdown("**","**")}applyItalic(){this.addMarkdown("*","*")}applyHeading(){this.addMarkdown("# ","")}applyStrike(){this.addMarkdown("~~","~~")}applyBulletedList(){this.addMarkdown("- ",`
`)}applyNumberedList(){this.addMarkdown("1. ",`
`)}applyQuote(){this.addMarkdown("> ",`
`)}applyCodeTag(){this.addMarkdown("`","`")}applyTable(){this.addMarkdown(`| Header | Header |
| ------ | ------ |
| Cell   | Cell   |
`,"")}applyLink(){this.addMarkdown("[Link Text](http://)","")}applyImg(){this.addMarkdown("![Alt Text](http://)","")}applyCheckList(){this.addMarkdown("- [ ] List item","")}addMarkdown(o,r){if(!this.editorInstance)return;let s=this.editorInstance.getSelection(),l=this.editorInstance.getModel();if(!s||!l)return;let{startLineNumber:c,startColumn:u,endLineNumber:d,endColumn:h}=s,p=l.getValueInRange(s),g=o+p+r;l.pushEditOperations([],[{range:new kB(c,u,d,h),text:g}],()=>null);let f=r?{lineNumber:d,column:h+o.length+p.length}:{lineNumber:c,column:u+o.length+p.length};this.editorInstance.setPosition(f),this.editorInstance.focus()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=Ai({type:i,selectors:[["skp-markdown-editor"]],inputs:{content:"content"},outputs:{contentChange:"contentChange"},standalone:!0,features:[Qr([{provide:Dy,useValue:{baseUrl:"",defaultOptions:{scrollBeyondLastLine:!1},onMonacoLoad:()=>{console.log("Sraban")}}}]),Gi],decls:8,vars:5,consts:[[1,"editor-container"],[1,"toggle-bar"],[3,"click"],["class","toolbar",4,"ngIf"],["class","toolbar-right",4,"ngIf"],[4,"ngIf"],["class","preview",3,"innerHTML",4,"ngIf"],[1,"toolbar"],[1,"icon-format_bold"],[1,"icon-format_italic"],[1,"icon-format_size"],[1,"icon-strikethrough_s"],[1,"icon-format_list_bulleted"],[1,"icon-format_list_numbered"],[1,"icon-library_add_check"],[1,"icon-format_quote"],[1,"icon-code"],[1,"icon-table_view"],[1,"icon-link"],[1,"icon-insert_photo"],[1,"toolbar-right"],[1,"icon-view_sidebar",3,"click"],[1,"editor",3,"ngModelChange","onInit","ngModel","options"],[1,"preview",3,"innerHTML"]],template:function(r,s){r&1&&(He(0,"div",0)(1,"div",1)(2,"button",2),_t("click",function(){return s.isPreview=!s.isPreview,s.updatePreview()}),Ze(3),Ne(),ai(4,ege,25,0,"div",3)(5,tge,3,0,"div",4),Ne(),ai(6,ige,2,2,"ng-container",5)(7,nge,1,1,"div",6),Ne()),r&2&&(et(3),Pn(s.isPreview?"Edit":"Preview"),et(),ct("ngIf",!s.isPreview),et(),ct("ngIf",!s.isPreview),et(),ct("ngIf",!s.isPreview),et(),ct("ngIf",s.isPreview))},dependencies:[yo,js,vs,wn,pr,GU,zU],styles:["[_nghost-%COMP%]{position:relative;display:block;margin:10px 0;height:80vh}.editor-container[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0;border:1px solid #ccc;overflow:hidden}.toolbar[_ngcontent-%COMP%]{display:flex;gap:10px;background-color:#f4f4f4;border-bottom:1px solid #ccc}.toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;border:none;transition:background-color .3s}.toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{display:block;background-color:gray}.toolbar-right[_ngcontent-%COMP%]{line-height:2;position:absolute;right:10px}.toolbar-right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{display:block;background-color:gray}.editor[_ngcontent-%COMP%]{width:100%;min-height:calc(100% - 1px);border:none;outline:none;resize:none;font-family:monospace;font-size:16px}.preview[_ngcontent-%COMP%]{padding:20px;background-color:#f9f9f9;border-top:1px solid #ccc;white-space:pre-wrap;overflow:auto;height:100%}  .preview>*{margin-top:0!important;line-height:.8!important}.toggle-bar[_ngcontent-%COMP%]{display:flex;gap:10px;background-color:#f4f4f4;border-bottom:1px solid #ccc}.toggle-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer;background-color:#007bff;color:#fff;border:none;transition:background-color .3s}.toggle-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let e=i;return e})();var ns=(()=>{let i=class i{constructor(){this.db=null,this.initializeDatabase()}initializeDatabase(){return Nn(this,null,function*(){let o=window.indexedDB.open("myDatabase",1);o.onerror=r=>{console.error("Database error:",r)},o.onsuccess=r=>{this.db=r.target.result,console.log("Database initialized successfully")},o.onupgradeneeded=r=>{this.db=r.target.result,this.db?.objectStoreNames.contains("myDataStore")||this.db?.createObjectStore("myDataStore",{keyPath:"id"}),this.db?.objectStoreNames.contains("myCloudStore")||this.db?.createObjectStore("myCloudStore",{keyPath:"id"}),this.db?.objectStoreNames.contains("myTreeStore")||this.db?.createObjectStore("myTreeStore",{keyPath:"id"}),this.db?.objectStoreNames.contains("myCalenderStore")||this.db?.createObjectStore("myCalenderStore",{keyPath:"id"}),this.db?.objectStoreNames.contains("myStoryStore")||this.db?.createObjectStore("myStoryStore",{keyPath:"id"}),this.db?.objectStoreNames.contains("myImageStore")||this.db?.createObjectStore("myImageStore",{autoIncrement:!0})}})}addItem(o){if(!this.db)return;let r=this.db.transaction(["myDataStore"],"readwrite");r.objectStore("myDataStore").add(o),r.oncomplete=()=>{console.log("Item added:",o)},r.onerror=l=>{console.error("Transaction error:",l)}}deleteItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let l=this.db.transaction(["myDataStore"],"readwrite");l.objectStore("myDataStore").delete(o),l.oncomplete=()=>{console.log("Item added:",o),r(o)},l.onerror=u=>{console.error("Transaction error:",u),s(u)}})}updateItem(o){if(!this.db)return;let r=this.db.transaction(["myDataStore"],"readwrite");r.objectStore("myDataStore").put(o),r.oncomplete=()=>{console.log("Item added:",o)},r.onerror=l=>{console.error("Transaction error:",l)}}getItemCursor(){if(!this.db)return;let r=this.db.transaction(["myDataStore"],"readwrite").objectStore("myDataStore");r.openCursor().onsuccess=s=>{let l=s?.target?.result;l?(console.log("Record:",l.value),l.continue()):console.log("No more records")}}getItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let u=this.db.transaction(["myDataStore"],"readwrite").objectStore("myDataStore").get(o);u.onsuccess=()=>{console.log("Record retrieved:",u.result),r(u.result)}})}retrievingAllItem(){return new Promise((o,r)=>{if(!this.db)return r("Database not initialized----------------");let c=this.db.transaction(["myDataStore"],"readonly").objectStore("myDataStore").getAll();c.onsuccess=()=>o(c.result),c.onerror=()=>r("Failed to retrieve items")})}clearAllItem(){if(!this.db)return;let s=this.db.transaction(["myDataStore"],"readwrite").objectStore("myDataStore").clear();s.onsuccess=()=>{console.log("Record retrieved:",s.result)}}addCalItem(o){if(!this.db)return;let r=this.db.transaction(["myCalenderStore"],"readwrite");r.objectStore("myCalenderStore").add(o),r.oncomplete=()=>{console.log("Item added:",o)},r.onerror=l=>{console.error("Transaction error:",l)}}getCalItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let u=this.db.transaction(["myCalenderStore"],"readwrite").objectStore("myCalenderStore").get(o);u.onsuccess=()=>{console.log("Record retrieved:",u.result),r(u.result)}})}deleteCalItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let l=this.db.transaction(["myCalenderStore"],"readwrite");l.objectStore("myCalenderStore").delete(o),l.oncomplete=()=>{console.log("Item added:",o),r(o)},l.onerror=u=>{console.error("Transaction error:",u),s(u)}})}addImgItem(o){if(!this.db)return;let r=this.db.transaction(["myImageStore"],"readwrite");r.objectStore("myImageStore").add(o),r.oncomplete=()=>{console.log("Item added:",o)},r.onerror=l=>{console.error("Transaction error:",l)}}getImgItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let u=this.db.transaction(["myImageStore"],"readwrite").objectStore("myImageStore").get(o);u.onsuccess=()=>{console.log("Record retrieved:",u.result),r(u.result)}})}deleteImgItem(o){return new Promise((r,s)=>{if(!this.db)return s("Database not initialized----------------");let l=this.db.transaction(["myImageStore"],"readwrite");l.objectStore("myImageStore").delete(o),l.oncomplete=()=>{console.log("Item added:",o),r(o)},l.onerror=u=>{console.error("Transaction error:",u),s(u)}})}retrievingAllImage(){return new Promise((o,r)=>{if(!this.db)return r("Database not initialized----------------");let c=this.db.transaction(["myImageStore"],"readonly").objectStore("myImageStore").getAll();c.onsuccess=()=>o(c.result),c.onerror=()=>r("Failed to retrieve items")})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();function oge(e,i){if(e&1&&(He(0,"tr")(1,"td"),Ze(2),Ne(),He(3,"td"),Ze(4),Ne()()),e&2){let n=i.$implicit;et(2),Pn(n.id),et(2),Pn(n.content)}}var dq=(()=>{let i=class i{constructor(o){this.dbBrowser=o,this.editData={id:"",content:""}}ngOnInit(){setTimeout(()=>{this.onInit()},1e3)}onSubmit(){this.dbBrowser.addItem(this.editData),this.onInit()}onInit(){this.dbBrowser.retrievingAllItem().then(o=>{this.allItems=o})}};i.\u0275fac=function(r){return new(r||i)(at(ns))},i.\u0275cmp=Ai({type:i,selectors:[["skp-editor"]],standalone:!0,features:[Gi],decls:18,vars:4,consts:[["rules","all","border","1","width","99%"],[4,"ngFor","ngForOf"],["src","https://i.ibb.co/JKgG8qY/image.png"]],template:function(r,s){r&1&&(Pt(0,"skp-markdown-editor"),He(1,"pre"),Ze(2),Yu(3,"json"),Ne(),Pt(4,"br")(5,"br"),He(6,"strong"),Ze(7,"List:"),Ne(),He(8,"table",0)(9,"tr")(10,"th"),Ze(11,"ID"),Ne(),He(12,"th"),Ze(13,"Content"),Ne()(),ai(14,oge,5,2,"tr",1),Ne(),Pt(15,"img",2),He(16,"pre"),Ze(17,`
==========================================================
left Side bar - Tree
 - file
 - folder
 - trash
 - default.md

right side bar
  - Add Workspace(couchDB, github, gitlab, googleDrive)
  - login, upload files, sync files, upload files
  - 

dataStore
id
id/content
id/contentNgrx
id/contentSync
=========================================

1. read all the file contents from local keep in browser indexed storage xxxxxxxxxxxxxx
2. read all the files from a git repo folder and add to the browser indexed BD.
3. y

=======================
1. Create files/folders
2. upload files to a folder
3. sync selected files/folder to git repo....
4. open file content in md editor ex. *.txt, *.jpg, *.zip, .pdf
5. import entire respository to browser
6. download as zip for folder
7. for files export as html, pdf
  `),Ne()),r&2&&(et(2),no("    ",Zu(3,2,s.editData),`
`),et(12),ct("ngForOf",s.allItems))},dependencies:[wn,Xr,Xz,yo,ov]});let e=i;return e})();var fv=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,i,n){let o=i?this.allAsyncListeners:this.allSyncListeners,r=o.get(e);return!r&&n&&(r=new Set,o.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,i,n=!1){this.getListeners(e,n,!0).add(i)}removeEventListener(e,i,n=!1){let o=this.getListeners(e,n,!1);o&&(o.delete(i),o.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,i=!1){(i?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let i=e;this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,i){let n=e.type;if(i&&"event"in e){let c=e.event;c instanceof Event&&(e.eventPath=c.composedPath())}let o=(c,u)=>c.forEach(d=>{if(!u.has(d))return;let h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);i?this.dispatchAsync(h):h()}),r=this.getListeners(n,i,!1)??new Set,s=new Set(r);s.size>0&&o(s,r),new Set(i?this.globalAsyncListeners:this.globalSyncListeners).forEach(c=>{let u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(n,e)):()=>c(n,e);i?this.dispatchAsync(u):u()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let i=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(i):i(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(i=>i())}},zq=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(zq||{}),hq={};function A6(e,i){hq[i]||(e(),hq[i]=!0)}function Ys(e,...i){console.log("AG Grid: "+e,...i)}function tt(e,...i){A6(()=>console.warn("AG Grid: "+e,...i),e+i?.join(""))}function Wi(e,...i){A6(()=>console.error("AG Grid: "+e,...i),e+i?.join(""))}function F6(e){return!!(e&&e.constructor&&e.call&&e.apply)}function rge(e){sge(e,400)}var qN=[],KN=!1;function pq(e){qN.push(e),!KN&&(KN=!0,window.setTimeout(()=>{let i=qN.slice();qN.length=0,KN=!1,i.forEach(n=>n())},0))}function sge(e,i=0){e.length>0&&window.setTimeout(()=>e.forEach(n=>n()),i)}function Pr(e,i){let n;return function(...o){let r=this;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(r,o)},i)}}function gq(e,i){let n=0;return function(...o){let r=this,s=new Date().getTime();s-n<i||(n=s,e.apply(r,o))}}function age(e,i,n=100,o){let r=new Date().getTime(),s=null,l=!1,c=()=>{let u=new Date().getTime()-r>n;(e()||u)&&(i(),l=!0,s!=null&&(window.clearInterval(s),s=null),u&&o&&tt(o))};c(),l||(s=window.setInterval(c,10))}function lge(...e){return i=>e.reduce((n,o)=>o(n),i)}function fh(e){return e==null||e===""?null:e}function rt(e,i=!1){return e!=null&&(e!==""||i)}function Ti(e){return!rt(e)}function Ds(e){return e==null||e.length===0}function u6(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function yf(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;let i=parseInt(e,10);return isNaN(i)?void 0:i}function d6(e){if(e!==void 0)return e===null||e===""?!1:h6(e)}function h6(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Uy(e,i){let n=e?JSON.stringify(e):null,o=i?JSON.stringify(i):null;return n===o}function cge(e,i,n=!1){let o=e==null,r=i==null;if(e&&e.toNumber&&(e=e.toNumber()),i&&i.toNumber&&(i=i.toNumber()),o&&r)return 0;if(o)return-1;if(r)return 1;function s(l,c){return l>c?1:l<c?-1:0}if(typeof e!="string"||!n)return s(e,i);try{return e.localeCompare(i)}catch{return s(e,i)}}function Y2(e){if(e instanceof Set||e instanceof Map){let i=[];return e.forEach(n=>i.push(n)),i}return Object.values(e)}function Gq(e,i){return e.get("rowModelType")===i}function Wn(e){return Gq(e,"clientSide")}function wh(e){return Gq(e,"serverSide")}function ir(e,i){return e.get("domLayout")===i}function J2(e){return i3(e)!==void 0}function e3(e){return!e.get("suppressAsyncEvents")}function Wq(e){return typeof e.get("getRowHeight")=="function"}function uge(e,i){return i?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Fp(e,i,n=!1,o){if(o==null&&(o=e.environment.getDefaultRowHeight()),Wq(e)){if(n)return{height:o,estimated:!0};let l={node:i,data:i.data},c=e.getCallback("getRowHeight")(l);if(p6(c))return c===0&&tt("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,c),estimated:!1}}if(i.detail&&e.get("masterDetail"))return dge(e);let r=e.get("rowHeight");return{height:r&&p6(r)?r:o,estimated:!1}}function dge(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let i=e.get("detailRowHeight");return p6(i)?{height:i,estimated:!1}:{height:300,estimated:!1}}function Sf(e){let{environment:i}=e,n=e.get("rowHeight");if(!n||Ti(n))return i.getDefaultRowHeight();let o=i.refreshRowHeightVariable();return o!==-1?o:(tt("row height must be a number if not using standard row model"),i.getDefaultRowHeight())}function p6(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function $y(e,i,n){let o=i[e.getDomDataKey()];return o?o[n]:void 0}function Ef(e,i,n,o){let r=e.getDomDataKey(),s=i[r];Ti(s)&&(s={},i[r]=s),s[n]=o}function co(e){let i=null,n=e.get("getDocument");return n&&rt(n)?i=n():e.eGridDiv&&(i=e.eGridDiv.ownerDocument),i&&rt(i)?i:document}function jq(e){return co(e).defaultView||window}function qy(e){return e.eGridDiv.getRootNode()}function On(e){return qy(e).activeElement}function Uq(e){let i=co(e),n=On(e);return n===null||n===i.body}function lv(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function p3(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||ir(e,"print"))}function mu(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function g6(e){let i=e.get("groupAggFiltering");if(typeof i=="function")return e.getCallback("groupAggFiltering");if(i===!0)return()=>!0}function $q(e){let i=e.get("grandTotalRow");if(i)return i;if(e.get("groupIncludeTotalFooter"))return"bottom"}function qq(e){let i=e.get("groupTotalRow");if(typeof i=="function")return e.getCallback("groupTotalRow");if(i)return()=>i;let n=e.get("groupIncludeFooter");if(typeof n=="function"){let o=e.getCallback("groupIncludeFooter");return r=>o(r)?"bottom":void 0}return()=>n?"bottom":void 0}function Kq(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function g3(e,i){return i?!1:e.get("groupDisplayType")==="groupRows"}function mv(e){let i=e.getCallback("getRowId");return i===void 0?i:n=>{let o=i(n);return typeof o!="string"&&(tt("The getRowId callback must return a string. The ID ",o," is being cast to a string."),o=String(o)),o}}function dv(e){return e?.checkboxes??!0}function t3(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function hge(e){return e?.hideDisabledCheckboxes??!1}function pge(e){return typeof e.get("rowSelection")!="string"}function gge(e){return e.get("cellSelection")!==void 0}function fge(e){let i=e.get("cellSelection");return i!==void 0?typeof i!="boolean"?i?.suppressMultiRanges??!1:!1:e.get("suppressMultiRangeSelection")}function Cu(e){let i=e.get("cellSelection");return i!==void 0?!!i:e.get("enableRangeSelection")}function mge(e){let i=e.get("cellSelection");return i!==void 0?typeof i!="boolean"?i.handle?.mode==="range":!1:e.get("enableRangeHandle")}function fq(e){let i=e.get("cellSelection");return i!==void 0?typeof i!="boolean"?i.handle?.mode==="fill":!1:e.get("enableFillHandle")}function Yq(e){let i=e.get("rowSelection")??"single";if(typeof i=="string"){let n=e.get("suppressRowClickSelection"),o=e.get("suppressRowDeselection");return n&&o?!1:n?"enableDeselection":o?"enableSelection":!0}return i.mode==="singleRow"||i.mode==="multiRow"?i.enableClickSelection??!1:!1}function vge(e){let i=Yq(e);return i===!0||i==="enableSelection"}function mq(e){let i=Yq(e);return i===!0||i==="enableDeselection"}function T6(e){let i=e.get("rowSelection");return typeof i=="string"?e.get("isRowSelectable"):i?.isRowSelectable}function i3(e){let i=e.get("rowSelection");if(typeof i=="string")switch(i){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return i?.mode}function P6(e){return i3(e)==="multiRow"}function Cge(e){let i=e.get("rowSelection");return typeof i=="string"?e.get("rowMultiSelectWithClick"):i?.enableSelectionWithoutKeys??!1}function L6(e){let i=e.get("rowSelection");if(typeof i=="string"){let n=e.get("groupSelectsChildren"),o=e.get("groupSelectsFiltered");return n&&o?"filteredDescendants":n?"descendants":"self"}return i?.mode==="multiRow"?i.groupSelects:void 0}function If(e){let i=L6(e);return i==="descendants"||i==="filteredDescendants"}function YN(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Oi(e){if(!(!e||!e.length))return e[e.length-1]}function Lp(e,i,n){return e==null&&i==null?!0:e!=null&&i!=null&&e.length===i.length&&e.every((o,r)=>n?n(o,i[r]):i[r]===o)}function wge(e){return e.sort((i,n)=>i-n)}function Zq(e,i){let n=e.indexOf(i);n>=0&&(e[n]=e[e.length-1],e.pop())}function Lr(e,i){let n=e.indexOf(i);n>=0&&e.splice(n,1)}function bge(e,i){for(let n=0;n<i.length;n++)Zq(e,i[n])}function yge(e,i){for(let n=0;n<i.length;n++)Lr(e,i[n])}function n3(e,i,n){e.splice(n,0,i)}function Qq(e,i,n){yge(e,i),i.slice().reverse().forEach(o=>n3(e,o,n))}function _f(e,i){return e.indexOf(i)>-1}function Sge(e){return e?.flatMap(i=>i)??[]}function vq(e,i){i==null||e==null||i.forEach(n=>e.push(n))}var Xq="__ag_Grid_Stop_Propagation",_ge=["touchstart","touchend","touchmove","touchcancel","scroll"],ZN={};function hv(e){e[Xq]=!0}function mh(e){return e[Xq]===!0}var Jq=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof ZN[n]=="boolean")return ZN[n];let o=document.createElement(e[n]||"div");return n="on"+n,ZN[n]=n in o}})();function f6(e,i,n){let o=i;for(;o;){let r=$y(e,o,n);if(r)return r;o=o.parentElement}return null}function xge(e,i){return!i||!e?!1:Ege(i).indexOf(e)>=0}function Dge(e){let i=[],n=e.target;for(;n;)i.push(n),n=n.parentElement;return i}function Ege(e){let i=e;return i.path?i.path:i.composedPath?i.composedPath():Dge(i)}function Ige(e,i,n,o){let s=_f(_ge,n)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(i,n,o,s)}var Ye=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,i,n){this.localEventService||(this.localEventService=new fv),this.localEventService.addEventListener(e,i,n)}removeEventListener(e,i,n){this.localEventService&&this.localEventService.removeEventListener(e,i,n)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,i){return this._setupListeners(e,i)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,i){return this._setupListeners(e,i)}_setupListeners(e,i){let n=[];for(let o in i){let r=i[o];r&&n.push(this._setupListener(e,o,r))}return n}_setupListener(e,i,n){if(this.destroyed)return()=>null;e instanceof HTMLElement?Ige(this.getFrameworkOverrides(),e,i,n):e.addEventListener(i,n);let o=()=>(e.removeEventListener(i,n),null);return this.destroyFunctions.push(o),()=>(o(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==o),null)}setupGridOptionListener(e,i){this.gos.addPropertyEventListener(e,i);let n=()=>(this.gos.removePropertyEventListener(e,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==n),null)}addManagedPropertyListener(e,i){return this.destroyed?()=>null:this.setupGridOptionListener(e,i)}addManagedPropertyListeners(e,i){if(this.destroyed)return;let n=e.join("-")+this.propertyListenerId++,o=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}let s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};i(s)};e.forEach(r=>this.setupGridOptionListener(r,o))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,i){let n=this.createBean(e,i);return this.addDestroyFunc(this.destroyBean.bind(this,e,i)),n}createBean(e,i,n){return(i||this.stubContext).createBean(e,n)}destroyBean(e,i){return(i||this.stubContext).destroyBean(e)}destroyBeans(e,i){return(i||this.stubContext).destroyBeans(e)}};function Fr(e){return e instanceof Z2}var Z2=class extends Ye{constructor(e,i,n,o){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=iK(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=i,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=o}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,i){this.colGroupDef=e,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(i=>{Pp(i)?e.push(i):Fr(i)&&i.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,i=!1,n=!1,o=this.findChildrenRemovingPadding();for(let s=0,l=o.length;s<l;s++){let c=o[s];if(!c.isVisible())continue;let u=c.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(i=!0,n=!0):(e=!0,i=!0)}let r=e&&i&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],i=n=>{n.forEach(o=>{Fr(o)&&o.isPadding()?i(o.children):e.push(o)})};return i(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},eK="ag-Grid-ControlsColumn",Mge=class extends Ye{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){let{gos:e}=this,i=e.get("rowSelection");if(!i||typeof i!="object")return[];let n=dv(i),o=t3(i);if(n||o){let r=e.get("selectionColumnDef"),s=e.get("enableRtl"),l=Ft(We({maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:s?"right":"left",comparator(u,d,h,p){let g=h.isSelected(),f=p.isSelected();return g&&f?0:g?1:-1},editable:!1,suppressFillHandle:!0},r),{colId:`${eK}`}),c=new V6(l,null,l.colId,!1);return this.createBean(c),[c]}return[]}},f3="ag-Grid-AutoColumn";function O6(e){let i=[],n=o=>{for(let r=0;r<o.length;r++){let s=o[r];Pp(s)?i.push(s):Fr(s)&&n(s.getChildren())}};return n(e),i}function ph(e){return e.reduce((i,n)=>i+n.getActualWidth(),0)}function kp(e,i,n){let o={};if(!i)return;Ch(null,i,s=>{o[s.getInstanceId()]=s}),n&&Ch(null,n,s=>{o[s.getInstanceId()]=null});let r=Object.values(o).filter(s=>s!=null);e.destroyBeans(r)}function m6(e){return e.getId().startsWith(f3)}function Jy(e){return e.getColId().startsWith(eK)}function Q2(e){let i=[];return e instanceof Array?e.some(o=>typeof o!="string")?tt("if colDef.type is supplied an array it should be of type 'string[]'"):i=e:typeof e=="string"?i=e.split(","):tt("colDef.type should be of type 'string' | 'string[]'"),i}var N6=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=n=>{this.frameworkOverrides.wrapOutgoing(()=>e(n))},this.wrappedListeners.set(e,i)),i}wrapGlobal(e){let i=e;return this.frameworkOverrides.shouldWrapOutgoing&&(i=(n,o)=>{this.frameworkOverrides.wrapOutgoing(()=>e(n,o))},this.wrappedGlobalListeners.set(e,i)),i}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},B6=new Set(["__proto__","constructor","prototype"]);function Ks(e,i){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)i(n.toString(),e[n]);return}for(let[n,o]of Object.entries(e))i(n,o)}}function tK(e){let i={},n=Object.keys(e);for(let o=0;o<n.length;o++){if(B6.has(n[o]))continue;let r=n[o],s=e[r];i[r]=s}return i}function v6(e,i){if(!e)return;let n=e,o={};return Object.keys(n).forEach(r=>{if(i&&i.indexOf(r)>=0||B6.has(r))return;let s=n[r];C6(s)&&s.constructor===Object?o[r]=v6(s):o[r]=s}),o}function Tp(e){if(!e)return[];let i=Object;if(typeof i.values=="function")return i.values(e);let n=[];for(let o in e)e.hasOwnProperty(o)&&e.propertyIsEnumerable(o)&&n.push(e[o]);return n}function Tr(e,i,n=!0,o=!1){rt(i)&&Ks(i,(r,s)=>{if(B6.has(r))return;let l=e[r];l!==s&&(o&&l==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(l={},e[r]=l),C6(s)&&C6(l)&&!Array.isArray(l)?Tr(l,s,n,o):(n||s!==void 0)&&(e[r]=s))})}function Hy(e,i,n){if(!i||!e)return;if(!n)return e[i];let o=i.split("."),r=e;for(let s=0;s<o.length;s++){if(r==null)return;r=r[o[s]]}return r}function C6(e){return typeof e=="object"&&e!==null}var Rge={resizable:!0,sortable:!0},kge=0;function iK(){return kge++}function Pp(e){return e instanceof V6}var V6=class extends Ye{constructor(e,i,n,o){super(),this.isColumn=!0,this.instanceId=iK(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new fv,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=i,this.colId=n,this.primary=o,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);let i=e.sortIndex,n=e.initialSortIndex;i!==void 0?i!==null&&(this.sortIndex=i):n!==null&&(this.sortIndex=n);let o=e.hide,r=e.initialHide;o!==void 0?this.visible=!o:this.visible=!r,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);let s=e.flex,l=e.initialFlex;s!==void 0?this.flex=s:l!==void 0&&(this.flex=l)}setColDef(e,i,n){this.colDef=e,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){let e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=rt(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=rt(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=rt(this.colDef.tooltipField)||rt(this.colDef.tooltipValueGetter)||rt(this.colDef.tooltipComponent)}resetActualWidth(e){let i=this.calculateColInitialWidth(this.colDef);this.setActualWidth(i,e,!0)}calculateColInitialWidth(e){let i,n=yf(e.width),o=yf(e.initialWidth);return n!=null?i=n:o!=null?i=o:i=200,Math.max(Math.min(i,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Ti(this.colDef)||Ti(this.colDef.showRowGroup))return!1;let i=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return i||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,i){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new N6(this.frameworkOverrides));let n=this.frameworkEventListenerService?.wrap(i)??i;this.columnEventService.addEventListener(e,n)}removeEventListener(e,i){let n=this.frameworkEventListenerService?.unwrap(i)??i;this.columnEventService.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){let i=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(i)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){let i=this.gos.get("rowSelection");if(i&&typeof i!="string"){let n=Jy(this)&&dv(i);return this.isColumnFunc(e,n)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Rge[e]}isColumnFunc(e,i){if(typeof i=="boolean")return i;if(typeof i=="function"){let n=this.createColumnFunctionCallbackParams(e);return i(n)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,i){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(e,i){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:i})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,i){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",i))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ti(this.sort)}isSorting(){return rt(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,i){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,i){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(e,i,n){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));let o=this.createColumnEvent("filterChanged",i);n&&Tr(o,n),this.columnEventService.dispatchEvent(o)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,i){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(e,i){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,i){let n=e===!0;this.visible!==n&&(this.visible=n,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",i))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let i=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:i,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ti(this.colDef.colSpan))return 1;let i=this.createBaseColDefParams(e),n=this.colDef.colSpan(i);return Math.max(n,1)}getRowSpan(e){if(Ti(this.colDef.rowSpan))return 1;let i=this.createBaseColDefParams(e),n=this.colDef.rowSpan(i);return Math.max(n,1)}setActualWidth(e,i,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&i!=="flex"&&i!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(i)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,i){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,i){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,i){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Age={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Fge=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let i=0;i<e.length;i++)this.existingKeys[e[i]]=!0}getUniqueKey(e,i){e=u6(e);let n=0;for(;;){let o;if(e?(o=e,n!==0&&(o+="_"+n)):i?(o=i,n!==0&&(o+="_"+n)):o=n,!this.existingKeys[o])return this.existingKeys[o]=!0,String(o);n++}}},Tge=class extends Ye{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,i,n,o){let r=new Fge,{existingCols:s,existingGroups:l,existingColKeys:c}=this.extractExistingTreeData(n);r.addExistingKeys(c);let u=this.recursivelyCreateColumns(e,0,i,s,r,l,o),d=this.findMaxDept(u,0),h=this.balanceColumnTree(u,0,d,r);return Ch(null,h,(g,f)=>{Fr(g)&&g.setupExpandable(),g.setOriginalParent(f)}),{columnTree:h,treeDept:d}}extractExistingTreeData(e){let i=[],n=[],o=[];return e&&Ch(null,e,r=>{if(Fr(r)){let s=r;n.push(s)}else{let s=r;o.push(s.getId()),i.push(s)}}),{existingCols:i,existingGroups:n,existingColKeys:o}}balanceTreeForAutoCols(e,i){let n=[],o=this.findDepth(i);return e.forEach(r=>{let s=r;for(let l=o-1;l>=0;l--){let c=new Z2(null,`FAKE_PATH_${r.getId()}}_${l}`,!0,l);this.createBean(c),c.setChildren([s]),s.setOriginalParent(c),s=c}o===0&&r.setOriginalParent(null),n.push(s)}),[n,o]}findDepth(e){let i=0,n=e;for(;n&&n[0]&&Fr(n[0]);)i++,n=n[0].getChildren();return i}balanceColumnTree(e,i,n,o){let r=[];for(let s=0;s<e.length;s++){let l=e[s];if(Fr(l)){let c=l,u=this.balanceColumnTree(c.getChildren(),i+1,n,o);c.setChildren(u),r.push(c)}else{let c,u;for(let d=n-1;d>=i;d--){let h=o.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),g=new Z2(p,h,!0,i);this.createBean(g),u&&u.setChildren([g]),u=g,c||(c=u)}if(c&&u)if(r.push(c),e.some(h=>Fr(h))){u.setChildren([l]);continue}else{u.setChildren(e);break}r.push(l)}}return r}findMaxDept(e,i){let n=i;for(let o=0;o<e.length;o++){let r=e[o];if(Fr(r)){let s=r,l=this.findMaxDept(s.getChildren(),i+1);n<l&&(n=l)}}return n}recursivelyCreateColumns(e,i,n,o,r,s,l){if(!e)return[];let c=new Array(e.length);for(let u=0;u<c.length;u++){let d=e[u];this.isColumnGroup(d)?c[u]=this.createColumnGroup(n,d,i,o,r,s,l):c[u]=this.createColumn(n,d,o,r,l)}return c}createColumnGroup(e,i,n,o,r,s,l){let c=this.createMergedColGroupDef(i),u=r.getUniqueKey(c.groupId||null,null),d=new Z2(c,u,!1,n);this.createBean(d);let h=this.findExistingGroup(i,s);h&&s.splice(h.idx,1);let p=h?.group;p&&d.setExpanded(p.isExpanded());let g=this.recursivelyCreateColumns(c.children,n+1,e,o,r,s,l);return d.setChildren(g),d}createMergedColGroupDef(e){let i={};return Object.assign(i,this.gos.get("defaultColGroupDef")),Object.assign(i,e),i}createColumn(e,i,n,o,r){let s=this.findExistingColumn(i,n);s&&n?.splice(s.idx,1);let l=s?.column;if(l){let c=this.addColumnDefaultAndTypes(i,l.getColId());l.setColDef(c,i,r),this.applyColumnState(l,c,r)}else{let c=o.getUniqueKey(i.colId,i.field),u=this.addColumnDefaultAndTypes(i,c);l=new V6(u,i,c,e),this.createBean(l)}return this.dataTypeService?.addColumnListeners(l),l}applyColumnState(e,i,n){let o=yf(i.flex);if(o!==void 0&&e.setFlex(o),e.getFlex()<=0){let c=yf(i.width);if(c!=null)e.setActualWidth(c,n);else{let u=e.getActualWidth();e.setActualWidth(u,n)}}i.sort!==void 0&&(i.sort=="asc"||i.sort=="desc"?e.setSort(i.sort,n):e.setSort(void 0,n));let s=yf(i.sortIndex);s!==void 0&&e.setSortIndex(s);let l=d6(i.hide);l!==void 0&&e.setVisible(!l,n),i.pinned!==void 0&&e.setPinned(i.pinned)}findExistingColumn(e,i){if(i)for(let n=0;n<i.length;n++){let o=i[n].getUserProvidedColDef();if(!o)continue;if(e.colId!=null){if(i[n].getId()===e.colId)return{idx:n,column:i[n]};continue}if(e.field!=null){if(o.field===e.field)return{idx:n,column:i[n]};continue}if(o===e)return{idx:n,column:i[n]}}}findExistingGroup(e,i){if(e.groupId!=null)for(let o=0;o<i.length;o++){let r=i[o];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:o,group:r}}}addColumnDefaultAndTypes(e,i){let n={},o=this.gos.get("defaultColDef");Tr(n,o,!1,!0);let r=this.updateColDefAndGetColumnType(n,e,i);r&&this.assignColumnTypes(r,n),Tr(n,e,!1,!0);let s=this.gos.get("autoGroupColumnDef"),l=mu(this.gos);return e.rowGroup&&s&&l&&Tr(n,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService?.validateColDef(n),n}updateColDefAndGetColumnType(e,i,n){let o=this.dataTypeService?.updateColDefAndGetColumnType(e,i,n),r=i.type??o??e.type;return e.type=r,r?Q2(r):void 0}assignColumnTypes(e,i){if(!e.length)return;let n=Object.assign({},Age),o=this.gos.get("columnTypes")||{};Ks(o,(r,s)=>{r in n?tt(`the column type '${r}' is a default column type and cannot be overridden.`):(s.type&&tt("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[r]=s)}),e.forEach(r=>{let s=n[r.trim()];s?Tr(i,s,!1,!0):tt("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function Ch(e,i,n){if(i)for(let o=0;o<i.length;o++){let r=i[o];Fr(r)&&Ch(r,r.getChildren(),n),n(r,e)}}var Pge=class extends Ye{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){let e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],i=>this.refreshAll(Cf(i.source))),this.addManagedPropertyListener("rowSelection",i=>{this.onSelectionOptionsChanged(i.currentValue,i.previousValue,Cf(i.source))}),this.addManagedPropertyListener("autoGroupColumnDef",i=>this.onAutoGroupColumnDefChanged(Cf(i.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],i=>this.recreateColumnDefs(Cf(i.source))),this.addManagedPropertyListener("pivotMode",i=>this.setPivotMode(this.gos.get("pivotMode"),Cf(i.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){let i=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();let n=this.colDefCols?.list,o=this.colDefCols?.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,o,e);kp(this.context,this.colDefCols?.tree,r.columnTree);let s=r.columnTree,l=r.treeDept,c=O6(s),u={};c.forEach(d=>u[d.getId()]=d),this.colDefCols={tree:s,treeDepth:l,list:c,map:u},this.funcColsService.extractCols(e,n),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),i&&(this.changeEventsDispatching=!0,i(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let i=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();let n=uge(this.gos,this.showingPivotResult);(!e||n)&&this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Lp(i,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){let e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){let{map:i,list:n,tree:o,treeDepth:r}=e;this.cols={list:n.slice(),map:We({},i),tree:o.slice(),treeDepth:r},e.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)}else{let{map:i,list:n,tree:o,treeDepth:r}=this.colDefCols;this.cols={list:n.slice(),map:We({},i),tree:o.slice(),treeDepth:r}}}getColsToShow(){let e=this.isPivotMode()&&!this.isShowingPivotResult(),i=this.funcColsService.getValueColumns();return this.cols.list.filter(o=>{let r=m6(o);if(e){let s=i&&_f(i,o);return r||s}else return r||o.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),Cq(this.cols))}createAutoCols(){let e=g3(this.gos,this.pivotMode),i=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),n=this.funcColsService.getRowGroupColumns(),r=!(n.length>0||this.gos.get("treeData"))||i||e,s=()=>{this.autoCols&&(kp(this.context,this.autoCols.tree),this.autoCols=null)};if(r||!this.autoColService){s();return}let l=this.autoColService.createAutoCols(n)??[],c=bq(l,this.autoCols?.list||null),u=this.cols.treeDepth,h=(this.autoCols?this.autoCols.treeDepth:-1)==u;if(c&&h)return;s();let[p,g]=this.columnFactory.balanceTreeForAutoCols(l,this.cols.tree);this.autoCols={list:l,tree:p,treeDepth:g,map:{}};let f=y=>{if(!y)return null;let M=y.filter(k=>!m6(k));return[...l,...M]};this.lastOrder=f(this.lastOrder),this.lastPivotOrder=f(this.lastPivotOrder)}createControlsCols(){let e=()=>{kp(this.context,this.controlsCols?.tree),this.controlsCols=null};this.controlsColService||e();let i=this.cols.treeDepth,o=(this.controlsCols?.treeDepth??-1)==i,r=this.controlsColService?.createControlsCols()??[];if(bq(r,this.controlsCols?.list??[])&&o)return;e();let[l,c]=this.columnFactory.balanceTreeForAutoCols(r,this.cols.tree);this.controlsCols={list:r,tree:l,treeDepth:c,map:{}};let u=d=>{if(!d)return null;let h=d.filter(p=>!Jy(p));return[...r,...h]};this.lastOrder=u(this.lastOrder),this.lastPivotOrder=u(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),Cq(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,i=!1,n){this.columnApplyStateService.applyColumnState({state:e.map(o=>({colId:typeof o=="string"?o:o.getColId(),hide:!i}))},n)}setColsPinned(e,i,n){if(!this.cols||Ds(e))return;if(ir(this.gos,"print")){tt("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let o;i===!0||i==="left"?o="left":i==="right"?o="right":o=null;let r=[];e.forEach(s=>{if(!s)return;let l=this.getCol(s);l&&l.getPinned()!==o&&(l.setPinned(o),r.push(l))}),r.length&&(this.visibleColsService.refresh(n),this.eventDispatcher.columnPinned(r,n)),this.columnAnimationService.finish()}setColumnGroupOpened(e,i,n){let o;Fr(e)?o=e.getId():o=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:o,open:i}],n)}getProvidedColGroup(e){let i=null;return Ch(null,this.cols?.tree,n=>{Fr(n)&&n.getId()===e&&(i=n)}),i}isColGroupLocked(e){let i=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||i===0)return!1;if(i===-1)return!0;let o=this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId());return i>o}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Wn(this.gos)||wh(this.gos)||tt("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){let e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;let i=new Map(e.map((u,d)=>[u,d]));if(!this.cols.list.some(u=>i.has(u)))return;let o=new Map(this.cols.list.map(u=>[u,!0])),r=e.filter(u=>o.has(u)),s=new Map(r.map(u=>[u,!0])),l=this.cols.list.filter(u=>!s.has(u)),c=r.slice();l.forEach(u=>{let d=u.getOriginalParent();if(!d){c.push(u);return}let h=[];for(;!h.length&&d;)d.getLeafColumns().forEach(y=>{let M=c.indexOf(y)>=0,k=h.indexOf(y)<0;M&&k&&h.push(y)}),d=d.getOriginalParent();if(!h.length){c.push(u);return}let p=h.map(f=>c.indexOf(f)),g=Math.max(...p);n3(c,u,g+1)}),this.cols.list=c}sortColsLikeKeys(e){if(this.cols==null)return;let i=[],n={};e.forEach(r=>{if(n[r])return;let s=this.cols.map[r];s&&(i.push(s),n[r]=!0)});let o=0;if(this.cols.list.forEach(r=>{let s=r.getColId();if(n[s]!=null)return;s.startsWith(f3)?n3(i,r,o++):i.push(r)}),i=this.columnMoveService.placeLockedColumns(i),!this.columnMoveService.doesMovePassMarryChildren(i)){tt("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=i}sortColsLikeCols(e){!e||e.length<=1||e.filter(n=>this.cols.list.indexOf(n)<0).length>0||e.sort((n,o)=>{let r=this.cols.list.indexOf(n),s=this.cols.list.indexOf(o);return r-s})}resetColDefIntoCol(e,i){let n=e.getUserProvidedColDef();if(!n)return!1;let o=this.columnFactory.addColumnDefaultAndTypes(n,e.getColId());return e.setColDef(o,n,i),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,i,n){Qq(this.cols?.list,e,i),this.visibleColsService.refresh(n)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;let e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((o,r)=>this.lastOrder.indexOf(o)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((o,r)=>this.cols.list.indexOf(o)-this.cols.list.indexOf(r));let i=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,i,n)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,i){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(i),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(tt("Pivot mode not available with treeData."),!1):!0}isPivotActive(){let e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Ds(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,i){this.colDefs=e,this.createColsFromColDefs(i)}destroy(){kp(this.context,this.colDefCols?.tree),kp(this.context,this.autoCols?.tree),kp(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){let i=this.pivotResultColsService.getPivotResultCols()?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],i??[]].flat()}getColsForKeys(e){return e?e.map(i=>this.getCol(i)).filter(i=>i!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,i){if(i==null)return null;let{map:n,list:o}=i;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<o.length;r++)if(wq(o[r],e))return o[r];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find(i=>wq(i,e))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,i){e.setAutoHeaderHeight(i)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){let e=[],i=this.ctrlsService.getHeaderRowContainerCtrls();for(let n of i){if(!n)continue;let o=n.getGroupRowCount()||0;for(let r=0;r<o;r++){let s=n.getGroupRowCtrlAtIndex(r),l=e[r];if(s){let c=this.getColumnGroupHeaderRowHeight(s);(l==null||c>l)&&(e[r]=c)}}}return e}getColumnGroupHeaderRowHeight(e){let i=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight(),n=0,o=e.getHeaderCtrls();for(let r of o){let s=r.getColumn();if(s.isAutoHeaderHeight()){let l=s.getAutoHeaderHeight();l!=null&&l>n&&(n=l)}}return Math.max(i,n)}getColumnHeaderRowHeight(){let e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.visibleColsService.getAllCols().filter(o=>o.isAutoHeaderHeight()).map(o=>o.getAutoHeaderHeight()||0);return Math.max(e,...n)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:i,skipHeader:n}=e;setTimeout(()=>{i?this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:n,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",n)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,i,n){let o=i&&typeof i!="string"?dv(i):void 0,r=e&&typeof e!="string"?dv(e):void 0,s=o!==r,l=i&&typeof i!="string"?t3(i):void 0,c=e&&typeof e!="string"?t3(e):void 0;(s||l!==c)&&this.refreshAll(n)}};function Cf(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Cq(e){e.map={},e.list.forEach(i=>e.map[i.getId()]=i)}function wq(e,i){let n=e===i,o=e.getColDef()===i,r=e.getColId()==i;return n||o||r}function bq(e,i){return Lp(e,i,(n,o)=>n.getColId()===o.getColId())}var Lge=class extends Ye{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:i,skipHeader:n,skipHeaderGroups:o,stopAtGroup:r,source:s="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;let l=[],c=-1,u=n??this.gos.get("skipHeaderOnAutoSize"),d=o??u;for(;c!==0;){c=0;let h=[];i.forEach(p=>{if(!p)return;let g=this.columnModel.getCol(p);if(!g||l.indexOf(g)>=0)return;let f=this.autoWidthCalculator.getPreferredWidthForColumn(g,u);if(f>0){let y=this.normaliseColumnWidth(g,f);g.setActualWidth(y,s),l.push(g),c++}h.push(g)}),h.length&&this.visibleColsService.refresh(s)}d||this.autoSizeColumnGroupsByColumns(i,s,r),this.eventDispatcher.columnResized(l,!0,"autosizeColumns")}autoSizeColumn(e,i,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(e,i,n){let o=new Set;this.columnModel.getColsForKeys(e).forEach(c=>{let u=c.getParent();for(;u&&u!=n;)u.isPadding()||o.add(u),u=u.getParent()});let s,l=[];for(let c of o){for(let u of this.ctrlsService.getHeaderRowContainerCtrls())if(s=u.getHeaderCtrlForColumn(c),s)break;s&&s.resizeLeafColumnsToFit(i)}return l}autoSizeAllColumns(e,i){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,i));return}let n=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:n,skipHeader:i,source:e})}normaliseColumnWidth(e,i){let n=e.getMinWidth();i<n&&(i=n);let o=e.getMaxWidth();return e.isGreaterThanMax(i)&&(i=o),i}},Oge=class extends Ye{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Lr(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Lr(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Lr(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){let i=e.getColDef().showRowGroup;if(!i)return null;if(i===!0)return this.rowGroupCols.slice(0);let n=this.columnModel.getColDefCol(i);return n?[n]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Ds(this.rowGroupCols)}setColumnAggFunc(e,i,n){if(!e)return;let o=this.columnModel.getColDefCol(e);o&&(o.setAggFunc(i),this.eventDispatcher.columnChanged("columnValueChanged",[o],n))}setRowGroupColumns(e,i){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(n,o)=>this.setRowGroupActive(n,o,i),i)}setRowGroupActive(e,i,n){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,n),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([i],!1,n),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([i],!0,n))}addRowGroupColumns(e,i){this.updateColList(e,this.rowGroupCols,!0,!0,n=>this.setRowGroupActive(!0,n,i),"columnRowGroupChanged",i)}removeRowGroupColumns(e,i){this.updateColList(e,this.rowGroupCols,!1,!0,n=>this.setRowGroupActive(!1,n,i),"columnRowGroupChanged",i)}addPivotColumns(e,i){this.updateColList(e,this.pivotCols,!0,!1,n=>n.setPivotActive(!0,i),"columnPivotChanged",i)}setPivotColumns(e,i){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(n,o)=>{o.setPivotActive(n,i)},i)}removePivotColumns(e,i){this.updateColList(e,this.pivotCols,!1,!1,n=>n.setPivotActive(!1,i),"columnPivotChanged",i)}setValueColumns(e,i){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(n,o)=>this.setValueActive(n,o,i),i)}setValueActive(e,i,n){if(e!==i.isValueActive()&&(i.setValueActive(e,n),e&&!i.getAggFunc()&&this.aggFuncService)){let o=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(o)}}addValueColumns(e,i){this.updateColList(e,this.valueCols,!0,!1,n=>this.setValueActive(!0,n,i),"columnValueChanged",i)}removeValueColumns(e,i){this.updateColList(e,this.valueCols,!1,!1,n=>this.setValueActive(!1,n,i),"columnValueChanged",i)}moveRowGroupColumn(e,i,n){if(this.isRowGroupEmpty())return;let o=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,i);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(i,0,o),this.eventDispatcher.rowGroupChanged(r,n)}setColList(e,i,n,o,r,s,l){if(!this.columnModel.getCols())return;let c=new Map;i.forEach((d,h)=>c.set(d,h)),i.length=0,rt(e)&&e.forEach(d=>{let h=this.columnModel.getColDefCol(d);h&&i.push(h)}),i.forEach((d,h)=>{let p=c.get(d);if(p===void 0){c.set(d,0);return}o&&p!==h||c.delete(d)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{let h=i.indexOf(d)>=0;s(h,d)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(l),this.eventDispatcher.columnChanged(n,[...c.keys()],l)}updateColList(e,i,n,o,r,s,l){if(!e||Ds(e))return;let c=!1,u=new Set;e.forEach(d=>{if(!d)return;let h=this.columnModel.getColDefCol(d);if(h){if(u.add(h),n){if(i.indexOf(h)>=0)return;i.push(h)}else{let p=i.indexOf(h);if(p<0)return;for(let g=p+1;g<i.length;g++)u.add(i[g]);Lr(i,h)}r(h),c=!0}}),c&&(o&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(l),this.eventDispatcher.genericColumnEvent(s,Array.from(u),l))}extractCols(e,i){this.extractRowGroupCols(e,i),this.extractPivotCols(e,i),this.extractValueCols(e,i)}extractValueCols(e,i){this.valueCols=this.extractColsCommon(i,this.valueCols,(n,o)=>n.setValueActive(o,e),()=>{},()=>{},n=>{let o=n.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},n=>n.initialAggFunc!=null&&n.initialAggFunc!=""),this.valueCols.forEach(n=>{let o=n.getColDef();o.aggFunc!=null&&o.aggFunc!=""?n.setAggFunc(o.aggFunc):n.getAggFunc()||n.setAggFunc(o.initialAggFunc)})}extractRowGroupCols(e,i){this.rowGroupCols=this.extractColsCommon(i,this.rowGroupCols,(n,o)=>n.setRowGroupActive(o,e),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractPivotCols(e,i){this.pivotCols=this.extractColsCommon(i,this.pivotCols,(n,o)=>n.setPivotActive(o,e),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}extractColsCommon(e=[],i=[],n,o,r,s,l){let c=[],u=[];(this.columnModel.getColDefCols()||[]).forEach(g=>{let f=e.indexOf(g)<0,y=g.getColDef(),M=d6(s(y)),k=d6(l(y)),G=yf(o(y)),J=yf(r(y)),$;M!==void 0?$=M:G!==void 0?G===null?$=!1:$=G>=0:f?k!==void 0?$=k:J!==void 0?$=J!=null&&J>=0:$=!1:$=i.indexOf(g)>=0,$&&((f?G!=null||J!=null:G!=null)?c.push(g):u.push(g))});let h=g=>{let f=o(g.getColDef()),y=r(g.getColDef());return f??y};c.sort((g,f)=>{let y=h(g),M=h(f);return y===M?0:y<M?-1:1});let p=[].concat(c);return i.forEach(g=>{u.indexOf(g)>=0&&p.push(g)}),u.forEach(g=>{p.indexOf(g)<0&&p.push(g)}),i.forEach(g=>{p.indexOf(g)<0&&n(g,!1)}),p.forEach(g=>{i.indexOf(g)<0&&n(g,!0)}),p}generateColumnStateForRowGroupAndPivotIndexes(e,i){let n={},o=(r,s,l,c,u,d)=>{let h=this.columnModel.getColDefCols();if(!s.length||!h)return[];let p=Object.keys(r),g=new Set(p),f=new Set(p),y=new Set(s.map(Pe=>{let $e=Pe.getColId();return f.delete($e),$e}).concat(p)),M=[],k={},G=0;for(let Pe=0;Pe<h.length;Pe++){let $e=h[Pe].getColId();y.has($e)&&(M.push($e),k[$e]=G++)}let J=1e3,$=!1,_e=0,Fe=Pe=>{let $e=k[Pe];for(let nt=_e;nt<$e;nt++){let lt=M[nt];f.has(lt)&&(r[lt][u]=J++,f.delete(lt))}_e=$e};s.forEach(Pe=>{let $e=Pe.getColId();if(g.has($e))Fe($e),r[$e][u]=J++;else{let nt=Pe.getColDef();(nt[u]===null||nt[u]===void 0&&nt[d]==null)&&($||(nt[l]||nt[l]===void 0&&nt[c]?Fe($e):(f.forEach(Jt=>{r[Jt][u]=J+k[Jt]}),J+=M.length,$=!0)),n[$e]||(n[$e]={colId:$e}),n[$e][u]=J++)}})};return o(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),o(i,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}},Nge=class extends Ye{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,i){let n=this.columnModel.getColDefCols()||[];if(Ds(n))return!1;if(e&&e.state&&!e.state.forEach)return tt("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;let o=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(c,u,d)=>{let h=this.compareColumnStatesAndDispatchEvents(i),p=u.slice(),g={},f={},y=[],M=[],k=0,G=this.funcColsService.getRowGroupColumns().slice(),J=this.funcColsService.getPivotColumns().slice();c.forEach(Pe=>{let $e=Pe.colId||"";if($e.startsWith(f3)){y.push(Pe),M.push(Pe);return}let lt=d($e);lt?(this.syncColumnWithStateItem(lt,Pe,e.defaultState,g,f,!1,i,o),Lr(p,lt)):(M.push(Pe),k+=1)});let $=Pe=>this.syncColumnWithStateItem(Pe,null,e.defaultState,g,f,!1,i,o);p.forEach($),this.funcColsService.sortRowGroupColumns(yq.bind(this,g,G)),this.funcColsService.sortPivotColumns(yq.bind(this,f,J)),this.columnModel.refreshCols(!1);let Fe=(this.columnModel.getAutoCols()||[]).slice();return y.forEach(Pe=>{let $e=this.columnModel.getAutoCol(Pe.colId);Lr(Fe,$e),this.syncColumnWithStateItem($e,Pe,e.defaultState,null,null,!0,i,o)}),Fe.forEach($),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(i),this.eventDispatcher.everythingChanged(i),h(),{unmatchedAndAutoStates:M,unmatchedCount:k}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:l}=r(e.state||[],n,c=>this.columnModel.getColDefCol(c));if(s.length>0||rt(e.defaultState)){let u=this.pivotResultColsService.getPivotResultCols()?.list;l=r(s,u||[],d=>this.pivotResultColsService.getPivotResultCol(d)).unmatchedCount}return this.columnAnimationService.finish(),l===0}resetColumnState(e){let i=this.columnModel.getColDefCols();if(Ds(i))return;let n=this.columnModel.getColDefColTree(),o=O6(n),r=[],s=1e3,l=1e3,c=[],u=this.columnModel.getAutoCols();u&&(c=c.concat(u)),o&&(c=c.concat(o)),c.forEach(d=>{let h=this.getColumnStateFromColDef(d);Ti(h.rowGroupIndex)&&h.rowGroup&&(h.rowGroupIndex=s++),Ti(h.pivotIndex)&&h.pivot&&(h.pivotIndex=l++),r.push(h)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){let i=(y,M)=>y??M??null,n=e.getColDef(),o=i(n.sort,n.initialSort),r=i(n.sortIndex,n.initialSortIndex),s=i(n.hide,n.initialHide),l=i(n.pinned,n.initialPinned),c=i(n.width,n.initialWidth),u=i(n.flex,n.initialFlex),d=i(n.rowGroupIndex,n.initialRowGroupIndex),h=i(n.rowGroup,n.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);let p=i(n.pivotIndex,n.initialPivotIndex),g=i(n.pivot,n.initialPivot);p==null&&(g==null||g==!1)&&(p=null,g=null);let f=i(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:r,hide:s,pinned:l,width:c,flex:u,rowGroup:h,rowGroupIndex:d,pivot:g,pivotIndex:p,aggFunc:f}}syncColumnWithStateItem(e,i,n,o,r,s,l,c){if(!e)return;let u=(_e,Fe)=>{let Pe={value1:void 0,value2:void 0},$e=!1;return i&&(i[_e]!==void 0&&(Pe.value1=i[_e],$e=!0),rt(Fe)&&i[Fe]!==void 0&&(Pe.value2=i[Fe],$e=!0)),!$e&&n&&(n[_e]!==void 0&&(Pe.value1=n[_e]),rt(Fe)&&n[Fe]!==void 0&&(Pe.value2=n[Fe])),Pe},d=u("hide").value1;d!==void 0&&e.setVisible(!d,l);let h=u("pinned").value1;h!==void 0&&e.setPinned(h);let p=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),g=u("flex").value1;if(g!==void 0&&e.setFlex(g),g==null){let _e=u("width").value1;_e!=null&&p!=null&&_e>=p&&e.setActualWidth(_e,l)}let f=u("sort").value1;f!==void 0&&(f==="desc"||f==="asc"?e.setSort(f,l):e.setSort(void 0,l));let y=u("sortIndex").value1;if(y!==void 0&&e.setSortIndex(y),s||!e.isPrimary())return;let M=u("aggFunc").value1;M!==void 0&&(typeof M=="string"?(e.setAggFunc(M),e.isValueActive()||(e.setValueActive(!0,l),c.addValueCol(e))):(rt(M)&&tt("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),c.removeValueCol(e))));let{value1:k,value2:G}=u("rowGroup","rowGroupIndex");(k!==void 0||G!==void 0)&&(typeof G=="number"||k?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),c.addGroupCol(e)),o&&typeof G=="number"&&(o[e.getId()]=G)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),c.removeGroupCol(e)));let{value1:J,value2:$}=u("pivot","pivotIndex");(J!==void 0||$!==void 0)&&(typeof $=="number"||J?(e.isPivotActive()||(e.setPivotActive(!0,l),c.addPivotCol(e)),r&&typeof $=="number"&&(r[e.getId()]=$)):e.isPivotActive()&&(e.setPivotActive(!1,l),c.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;let i=[];e.state.forEach(n=>{n.colId!=null&&i.push(n.colId)}),this.columnModel.sortColsLikeKeys(i)}compareColumnStatesAndDispatchEvents(e){let i={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},n=this.columnGetStateService.getColumnState(),o={};return n.forEach(r=>{o[r.colId]=r}),()=>{let r=this.columnModel.getAllCols(),s=(M,k,G,J)=>{let $=k.map(J),_e=G.map(J);if(Lp($,_e))return;let Pe=new Set(k);G.forEach(nt=>{Pe.delete(nt)||Pe.add(nt)});let $e=[...Pe];this.eventService.dispatchEvent({type:M,columns:$e,column:$e.length===1?$e[0]:null,source:e})},l=M=>{let k=[];return r.forEach(G=>{let J=o[G.getColId()];J&&M(J,G)&&k.push(G)}),k},c=M=>M.getColId();s("columnRowGroupChanged",i.rowGroupColumns,this.funcColsService.getRowGroupColumns(),c),s("columnPivotChanged",i.pivotColumns,this.funcColsService.getPivotColumns(),c);let d=l((M,k)=>{let G=M.aggFunc!=null,J=G!=k.isValueActive(),$=G&&M.aggFunc!=k.getAggFunc();return J||$});d.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",d,e);let h=(M,k)=>M.width!=k.getActualWidth();this.eventDispatcher.columnResized(l(h),!0,e);let p=(M,k)=>M.pinned!=k.getPinned();this.eventDispatcher.columnPinned(l(p),e);let g=(M,k)=>M.hide==k.isVisible();this.eventDispatcher.columnVisible(l(g),e);let y=l((M,k)=>M.sort!=k.getSort()||M.sortIndex!=k.getSortIndex());y.length>0&&this.sortController.dispatchSortChangedEvents(e,y),this.normaliseColumnMovedEventForColumnState(n,e)}}normaliseColumnMovedEventForColumnState(e,i){let n=this.columnGetStateService.getColumnState(),o={};n.forEach(u=>o[u.colId]=u);let r={};e.forEach(u=>{o[u.colId]&&(r[u.colId]=!0)});let s=e.filter(u=>r[u.colId]),l=n.filter(u=>r[u.colId]),c=[];l.forEach((u,d)=>{let h=s&&s[d];if(h&&h.colId!==u.colId){let p=this.columnModel.getCol(h.colId);p&&c.push(p)}}),c.length&&this.eventDispatcher.columnMoved({movedColumns:c,source:i,finished:!0})}},yq=(e,i,n,o)=>{let r=e[n.getId()],s=e[o.getId()],l=r!=null,c=s!=null;if(l&&c)return r-s;if(l)return-1;if(c)return 1;let u=i.indexOf(n),d=i.indexOf(o),h=u>=0,p=d>=0;return h&&p?u-d:h?-1:1},Bge=class extends Ye{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,i,n){let o=this.columnModel.getCols();if(!o)return;let r=o[e];this.moveColumns([r],i,n)}moveColumns(e,i,n,o=!0){let r=this.columnModel.getCols();if(!r)return;if(i>r.length-e.length){tt("tried to insert columns in invalid location, toIndex = ",i),tt("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();let s=this.columnModel.getColsForKeys(e);this.doesMovePassRules(s,i)&&(this.columnModel.moveInCols(s,i,n),this.eventDispatcher.columnMoved({movedColumns:s,source:n,toIndex:i,finished:o})),this.columnAnimationService.finish()}doesMovePassRules(e,i){let n=this.getProposedColumnOrder(e,i);return this.doesOrderPassRules(n)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,i){let o=this.columnModel.getCols().slice();return Qq(o,e,i),o}doesMovePassLockedPositions(e){let i=s=>s?s==="left"||s===!0?-1:1:0,n=this.gos.get("enableRtl"),o=n?1:-1,r=!0;return e.forEach(s=>{let l=i(s.getColDef().lockPosition);n?l>o&&(r=!1):l<o&&(r=!1),o=l}),r}doesMovePassMarryChildren(e){let i=!0,n=this.columnModel.getColTree();return Ch(null,n,o=>{if(!Fr(o))return;let r=o,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;let c=[];r.getLeafColumns().forEach(g=>{let f=e.indexOf(g);c.push(f)});let u=Math.max.apply(Math,c),d=Math.min.apply(Math,c),h=u-d,p=r.getLeafColumns().length-1;h>p&&(i=!1)}),i}placeLockedColumns(e){let i=[],n=[],o=[];return e.forEach(s=>{let l=s.getColDef().lockPosition;l==="right"?o.push(s):l==="left"||l===!0?i.push(s):n.push(s)}),this.gos.get("enableRtl")?[...o,...n,...i]:[...i,...n,...o]}},Vge=/[&<>"']/g,Hge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function vu(e,i){if(e==null)return null;let n=e.toString().toString();return i?n:n.replace(Vge,o=>Hge[o])}function zge(e){if(!e||e==null)return null;let i=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(i,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}function Gge(e){return e.replace(/[A-Z]/g,i=>`-${i.toLocaleLowerCase()}`)}var Wge=class extends Ye{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,i,n=!1){if(!e)return null;let o=this.getHeaderName(e.getColDef(),e,null,null,i);return n?this.wrapHeaderNameWithAggFunc(e,o):o}getDisplayNameForProvidedColumnGroup(e,i,n){let o=i?i.getColGroupDef():null;return o?this.getHeaderName(o,null,e,i,n):null}getDisplayNameForColumnGroup(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)}getHeaderName(e,i,n,o,r){let s=e.headerValueGetter;if(s){let l=this.gos.addGridCommonParams({colDef:e,column:i,columnGroup:n,providedColumnGroup:o,location:r});return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(tt("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return zge(e.field)}return""}wrapHeaderNameWithAggFunc(e,i){if(this.gos.get("suppressAggFuncInHeader"))return i;let n=e.getColDef().pivotValueColumn,o=rt(n),r=null,s;if(o){let l=this.funcColsService.getValueColumns(),c=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&l.length===1,u=e.getColDef().pivotTotalColumnIds!==void 0;if(c&&!u)return i;r=n?n.getAggFunc():null,s=!0}else{let l=e.isValueActive(),c=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();l&&c?(r=e.getAggFunc(),s=!0):s=!1}if(s){let l=typeof r=="string"?r:"func";return`${this.localeService.getLocaleTextFunc()(l,l)}(${i})`}return i}},jge=class extends Ye{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){kp(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,i){if(this.pivotResultCols==null)return null;let n=this.columnModel.getColDefCol(i),o=null;return this.pivotResultCols.list.forEach(r=>{let s=r.getColDef().pivotKeys,l=r.getColDef().pivotValueColumn;Lp(s,e)&&l===n&&(o=r)}),o}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,i){if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);let n=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,i);kp(this.context,this.pivotResultCols?.tree,n.columnTree);let o=n.columnTree,r=n.treeDept,s=O6(o),l={};this.pivotResultCols={tree:o,treeDepth:r,list:s,map:l},this.pivotResultCols.list.forEach(u=>this.pivotResultCols.map[u.getId()]=u);let c=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!c)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(i)}}processPivotResultColDef(e){let i=this.gos.get("processPivotResultColDef"),n=this.gos.get("processPivotResultColGroupDef");if(!i&&!n)return;let o=r=>{r.forEach(s=>{if(rt(s.children)){let c=s;n&&n(c),o(c.children)}else i&&i(s)})};e&&o(e)}},Uge=class extends Ye{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,i,n,o){let r=[];e.forEach(s=>{let l=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(!l)return;if(r.push({width:s.newWidth,ratios:[1],columns:[l]}),this.gos.get("colResizeDefault")==="shift"&&(i=!i),i){let u=this.visibleColsService.getColAfter(l);if(!u)return;let d=l.getActualWidth()-s.newWidth,h=u.getActualWidth()+d;r.push({width:h,ratios:[1],columns:[u]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:o})}resizeColumnSets(e){let{resizeSets:i,finished:n,source:o}=e;if(!(!i||i.every(h=>this.checkMinAndMaxWidthsForSet(h)))){if(n){let h=i&&i.length>0?i[0].columns:null;this.eventDispatcher.columnResized(h,n,o)}return}let s=[],l=[];i.forEach(h=>{let{width:p,columns:g,ratios:f}=h,y={},M={};g.forEach(J=>l.push(J));let k=!0,G=0;for(;k;){if(G++,G>1e3){Wi("infinite loop in resizeColumnSets");break}k=!1;let J=[],$=0,_e=p;g.forEach((Pe,$e)=>{if(M[Pe.getId()])_e-=y[Pe.getId()];else{J.push(Pe);let lt=f[$e];$+=lt}});let Fe=1/$;J.forEach((Pe,$e)=>{let nt=$e===J.length-1,lt;nt?lt=_e:(lt=Math.round(f[$e]*p*Fe),_e-=lt);let Lt=Pe.getMinWidth(),Jt=Pe.getMaxWidth();lt<Lt?(lt=Lt,M[Pe.getId()]=!0,k=!0):Jt>0&&lt>Jt&&(lt=Jt,M[Pe.getId()]=!0,k=!0),y[Pe.getId()]=lt})}g.forEach(J=>{let $=y[J.getId()];J.getActualWidth()!==$&&(J.setActualWidth($,o),s.push(J))})});let c=s.length>0,u=[];c&&(u=this.refreshFlexedColumns({resizingCols:l,skipSetLeft:!0}),this.visibleColsService.setLeftValues(o),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());let d=l.concat(u);(c||n)&&this.eventDispatcher.columnResized(d,n,o,u)}checkMinAndMaxWidthsForSet(e){let{columns:i,width:n}=e,o=0,r=0,s=!0;i.forEach(u=>{let d=u.getMinWidth();o+=d||0;let h=u.getMaxWidth();h>0?r+=h:s=!1});let l=n>=o,c=!s||n<=r;return l&&c}refreshFlexedColumns(e={}){let i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let n=this.visibleColsService.getCenterCols(),o=-1;if(e.resizingCols){let g=new Set(e.resizingCols);for(let f=n.length-1;f>=0;f--)if(g.has(n[f])){o=f;break}}let r=0,s=[],l=0,c=0;for(let g=0;g<n.length;g++)n[g].getFlex()&&g>o?(s.push(n[g]),c+=n[g].getFlex(),l+=n[g].getMinWidth()):r+=n[g].getActualWidth();if(!s.length)return[];let u=[];r+l>this.flexViewportWidth&&(s.forEach(g=>g.setActualWidth(g.getMinWidth(),i)),u=s,s=[]);let d=[],h;e:for(;;){h=this.flexViewportWidth-r;let g=h/c;for(let f=0;f<s.length;f++){let y=s[f],M=g*y.getFlex(),k=0,G=y.getMinWidth(),J=y.getMaxWidth();if(M<G?k=G:M>J&&(k=J),k){y.setActualWidth(k,i),Zq(s,y),c-=y.getFlex(),u.push(y),r+=y.getActualWidth();continue e}d[f]=Math.floor(M)}break}let p=h;return s.forEach((g,f)=>{let y=f<s.length-1?Math.min(d[f],p):Math.max(d[f],p);g.setActualWidth(y,i),u.push(g),p-=d[f]}),e.skipSetLeft||this.visibleColsService.setLeftValues(i),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(u,!0,i,s),s}sizeColumnsToFit(e,i="sizeColumnsToFit",n,o){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,i,n,o));return}let r={};o&&o?.columnLimits?.forEach(y=>{var M=y,{key:g}=M,f=O3(M,["key"]);r[typeof g=="string"?g:g.getColId()]=f});let s=this.visibleColsService.getAllCols(),l=e===ph(s);if(e<=0||!s.length||l)return;let c=[],u=[];s.forEach(g=>{g.getColDef().suppressSizeToFit===!0?u.push(g):c.push(g)});let d=c.slice(0),h=!1,p=g=>{Lr(c,g),u.push(g)};for(c.forEach(g=>{g.resetActualWidth(i);let f=r?.[g.getId()],y=f?.minWidth??o?.defaultMinWidth,M=f?.maxWidth??o?.defaultMaxWidth,k=g.getActualWidth();typeof y=="number"&&k<y?g.setActualWidth(y,i,!0):typeof M=="number"&&k>M&&g.setActualWidth(M,i,!0)});!h;){h=!0;let g=e-ph(u);if(g<=0)c.forEach(f=>{let y=r?.[f.getId()]?.minWidth??o?.defaultMinWidth;if(typeof y=="number"){f.setActualWidth(y,i,!0);return}f.setMinimum(i)});else{let f=g/ph(c),y=g;for(let M=c.length-1;M>=0;M--){let k=c[M],G=r?.[k.getId()],J=G?.minWidth??o?.defaultMinWidth,$=G?.maxWidth??o?.defaultMaxWidth,_e=k.getMinWidth(),Fe=k.getMaxWidth(),Pe=typeof J=="number"&&J>_e?J:_e,$e=typeof $=="number"&&$<Fe?$:Fe,nt=Math.round(k.getActualWidth()*f);nt<Pe?(nt=Pe,p(k),h=!1):nt>$e?(nt=$e,p(k),h=!1):M===0&&(nt=y),k.setActualWidth(nt,i,!0),y-=nt}}}d.forEach(g=>{g.fireColumnWidthChangedEvent(i)}),this.visibleColsService.setLeftValues(i),this.visibleColsService.updateBodyWidths(),!n&&this.eventDispatcher.columnResized(d,!0,i)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:i}=e;setTimeout(()=>{if(i==="fitGridWidth"){let{columnLimits:n,defaultMinWidth:o,defaultMaxWidth:r}=e,s=n?.map(({colId:l,minWidth:c,maxWidth:u})=>({key:l,minWidth:c,maxWidth:u}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:o,defaultMaxWidth:r,columnLimits:s})}else i==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function nK(e,i){return e+"_"+i}function wo(e){return e instanceof oK}var oK=class extends Ye{constructor(e,i,n,o){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=i,this.partId=n,this.providedColumnGroup=e,this.pinned=o}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return nK(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{wo(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let i=Oi(this.displayedChildren).getLeft();this.setLeft(i)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{e+=i.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(i=>{e+=i.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let i=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,i}addDisplayedLeafColumns(e){this.displayedChildren.forEach(i=>{Pp(i)?e.push(i):wo(i)&&i.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(i=>{Pp(i)?e.push(i):wo(i)&&i.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(wo(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},rK=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let i=this.existingIds[e],n;return typeof i!="number"?n=0:n=i+1,this.existingIds[e]=n,n}},$ge=class extends Ye{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,i=!1){i||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=QN(this.treeLeft),this.columnsCenter=QN(this.treeCenter),this.columnsRight=QN(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(n=>n.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){let e=ph(this.columnsCenter),i=ph(this.columnsLeft),n=ph(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=i,this.rightWidth=n,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let i,n;this.gos.get("enableRtl")?(i=this.columnsLeft?this.columnsLeft[0]:null,n=this.columnsRight?Oi(this.columnsRight):null):(i=this.columnsLeft?Oi(this.columnsLeft):null,n=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(o=>{o.setLastLeftPinned(o===i,e),o.setFirstRightPinned(o===n,e)})}buildTrees(){let e=this.columnModel.getColsToShow(),i=e.filter(s=>s.getPinned()=="left"),n=e.filter(s=>s.getPinned()=="right"),o=e.filter(s=>s.getPinned()!="left"&&s.getPinned()!="right"),r=new rK;this.treeLeft=this.createGroups({columns:i,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:n,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:o,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){let e=this.columnModel.getCols(),i=[],n=[],o=[];for(let r of e){let s=r.getPinned();s?s===!0||s==="left"?i.push(r):o.push(r):n.push(r)}this.ariaOrderColumns=i.concat(n).concat(o)}getAriaColIndex(e){let i;return wo(e)?i=e.getLeafColumns()[0]:i=e,this.ariaOrderColumns.indexOf(i)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(i=>{wo(i)&&i.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;let n=this.columnModel.getCols().slice(0),o=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(o){let s=ph(r);r.forEach(l=>{s-=l.getActualWidth(),l.setLeft(s,e)})}else{let s=0;r.forEach(l=>{l.setLeft(s,e),s+=l.getActualWidth()})}bge(n,r)}),n.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,i,n,o){let r=[],s=null;for(let l=0;l<i.length;l++){let c=i[l],u=i.length-l,d=Math.min(c.getColSpan(e),u),h=[c];if(d>1){let g=d-1;for(let f=1;f<=g;f++)h.push(i[l+f]);l+=g}let p;n?(p=!1,h.forEach(g=>{n(g)&&(p=!0)})):p=!0,p&&(r.length===0&&s&&(o&&o(c))&&r.push(s),r.push(c)),s=c}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){let i=this.getAllCols(),n=i.indexOf(e);return n>0?i[n-1]:null}getGroupAtDirection(e,i){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),r=i==="After"?Oi(o):o[0],s=`getCol${i}`;for(;;){let l=this[s](r);if(!l)return null;let c=this.getColGroupAtLevel(l,n);if(c!==e)return c}}getColGroupAtLevel(e,i){let n=e.getParent(),o,r;for(;o=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(o+r<=i);)n=n.getParent();return n}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=i=>{this.colsAndGroupsMap[i.getUniqueId()]=i};wf(this.treeCenter,!1,e),wf(this.treeLeft,!1,e),wf(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){let e=this.getAllTrees();wf(e,!1,i=>{wo(i)&&i.calculateDisplayedColumns()})}getFirstColumn(){let e=this.gos.get("enableRtl"),i=["getLeftCols","getCenterCols","getRightCols"];e&&i.reverse();for(let n=0;n<i.length;n++){let o=this[i[n]]();if(o.length)return e?Oi(o):o[0]}return null}getColumnGroup(e,i){if(!e)return null;if(wo(e))return e;let n=this.getAllTrees(),o=typeof i=="number",r=null;return wf(n,!1,s=>{if(wo(s)){let l=s,c;o?c=e===l.getGroupId()&&i===l.getPartId():c=e===l.getGroupId(),c&&(r=l)}}),r}getColAfter(e){let i=this.getAllCols(),n=i.indexOf(e);return n<i.length-1?i[n+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return ph(this.columnsLeft)}getDisplayedColumnsRightWidth(){return ph(this.columnsRight)}isColAtEdge(e,i){let n=this.getAllCols();if(!n.length)return!1;let o=i==="first",r;if(wo(e)){let s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=o?s[0]:Oi(s)}else r=e;return(o?n[0]:Oi(n))===r}createGroups(e){let{columns:i,idCreator:n,pinned:o,oldDisplayedGroups:r,isStandaloneStructure:s}=e,l=this.mapOldGroupsById(r),c=[],u=i;for(;u.length;){let d=u;u=[];let h=0,p=g=>{let f=h;h=g;let y=d[f],k=(wo(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(k==null){for(let J=f;J<g;J++)c.push(d[J]);return}let G=this.createColGroup(k,n,l,o,s);for(let J=f;J<g;J++)G.addChild(d[J]);u.push(G)};for(let g=1;g<d.length;g++){let f=d[g],M=(wo(f)?f.getProvidedColumnGroup():f).getOriginalParent(),k=d[h],J=(wo(k)?k.getProvidedColumnGroup():k).getOriginalParent();M!==J&&p(g)}h<d.length&&p(d.length)}return s||this.setupParentsIntoCols(c,null),c}createColGroup(e,i,n,o,r){let s=e.getGroupId(),l=i.getInstanceIdForKey(s),c=nK(s,l),u=n[c];return u&&u.getProvidedColumnGroup()!==e&&(u=null),rt(u)?u.reset():(u=new oK(e,s,l,o),r||this.createBean(u)),u}mapOldGroupsById(e){let i={},n=o=>{o.forEach(r=>{if(wo(r)){let s=r;i[r.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),i}setupParentsIntoCols(e,i){e.forEach(n=>{if(n.setParent(i),wo(n)){let o=n;this.setupParentsIntoCols(o.getChildren(),o)}})}};function wf(e,i,n){if(e)for(let o=0;o<e.length;o++){let r=e[o];if(wo(r)){let s=i?r.getDisplayedChildren():r.getChildren();wf(s,i,n)}n(r)}}function QN(e){let i=[];return wf(e,!0,n=>{Pp(n)&&i.push(n)}),i}var sK=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],qge=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],Kge=[...sK,...qge],Yge={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},fr=class{};fr.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];fr.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];fr.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];fr.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];fr.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];fr.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];fr.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];fr.ALL_PROPERTIES=[...fr.ARRAY_PROPERTIES,...fr.OBJECT_PROPERTIES,...fr.STRING_PROPERTIES,...fr.NUMBER_PROPERTIES,...fr.FUNCTION_PROPERTIES,...fr.BOOLEAN_PROPERTIES,...fr.OTHER_PROPERTIES];var Ky=fr,Qs=class{static getCallbackForEvent(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substring(1)}};Qs.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Qs.PUBLIC_EVENTS=sK;Qs.EVENT_CALLBACKS=Kge.map(e=>Qs.getCallbackForEvent(e));Qs.BOOLEAN_PROPERTIES=Ky.BOOLEAN_PROPERTIES;Qs.ALL_PROPERTIES=Ky.ALL_PROPERTIES;Qs.ALL_PROPERTIES_AND_CALLBACKS=[...Qs.ALL_PROPERTIES,...Qs.EVENT_CALLBACKS];Qs.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Qs.ALL_PROPERTIES_AND_CALLBACKS);var Yy=Qs;function aK(e,i){typeof e!="object"&&(e={});let n=We({},e);return Yy.ALL_PROPERTIES_AND_CALLBACKS.forEach(r=>{let s=i[r];typeof s<"u"&&s!==Yy.VUE_OMITTED_PROPERTY&&(n[r]=s)}),n}function lK(e,i){if(!e)return;let n={},o=!1;if(Object.keys(e).filter(l=>Yy.ALL_PROPERTIES_AND_CALLBACKS_SET.has(l)).forEach(l=>{n[l]=e[l],o=!0}),!o)return;let r={type:"gridOptionsChanged",options:n};i.dispatchEvent(r);let s={type:"componentStateChanged"};Ks(n,(l,c)=>{s[l]=c}),i.dispatchEvent(s)}function eS(e,i,n){return n&&e.addDestroyFunc(()=>i.destroyBean(n)),n??e}var Zge=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){let i=(e||"").split(" ");if(i.length>1){i.forEach(o=>this.addCssClass(o));return}if(this.cssClassStates[e]!==!0&&e.length){let o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){let i=(e||"").split(" ");if(i.length>1){i.forEach(o=>this.removeCssClass(o));return}if(this.cssClassStates[e]!==!1&&e.length){let o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){let i=this.getGui();return i?i.classList.contains(e):!1}addOrRemoveCssClass(e,i){if(!e)return;if(e.indexOf(" ")>=0){let o=(e||"").split(" ");if(o.length>1){o.forEach(r=>this.addOrRemoveCssClass(r,i));return}}if(this.cssClassStates[e]!==i&&e.length){let o=this.getGui();o&&o.classList.toggle(e,i),this.cssClassStates[e]=i}}};function bh(e,i,n){n==null||typeof n=="string"&&n==""?cK(e,i):Sl(e,i,n)}function Sl(e,i,n){e.setAttribute(uK(i),n.toString())}function cK(e,i){e.removeAttribute(uK(i))}function uK(e){return`aria-${e}`}function ss(e,i){i?e.setAttribute("role",i):e.removeAttribute("role")}function Qge(e){let i;return e==="asc"?i="ascending":e==="desc"?i="descending":e==="mixed"?i="other":i="none",i}function Xge(e){return e.getAttribute("aria-label")}function pv(e,i){bh(e,"label",i)}function Zy(e,i){bh(e,"labelledby",i)}function dK(e,i){bh(e,"live",i)}function Jge(e,i){bh(e,"atomic",i)}function efe(e,i){bh(e,"relevant",i)}function tfe(e,i){bh(e,"disabled",i)}function hK(e,i){bh(e,"hidden",i)}function o3(e,i){Sl(e,"expanded",i)}function ife(e,i){Sl(e,"setsize",i)}function nfe(e,i){Sl(e,"posinset",i)}function ofe(e,i){Sl(e,"multiselectable",i)}function rfe(e,i){Sl(e,"rowcount",i)}function pK(e,i){Sl(e,"rowindex",i)}function sfe(e,i){Sl(e,"colcount",i)}function gK(e,i){Sl(e,"colindex",i)}function afe(e,i){Sl(e,"colspan",i)}function lfe(e,i){Sl(e,"sort",i)}function cfe(e){cK(e,"sort")}function r3(e,i){bh(e,"selected",i)}function ufe(e,i){bh(e,"controls",i.id),Zy(i,e.id)}function H6(e,i){return i===void 0?e("ariaIndeterminate","indeterminate"):i===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var XN,z2,JN,e6,t6,i6,w6,b6,n6;function wu(){return XN===void 0&&(XN=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),XN}function fK(){if(z2===void 0)if(wu()){let e=navigator.userAgent.match(/version\/(\d+)/i);e&&(z2=e[1]!=null?parseFloat(e[1]):0)}else z2=0;return z2}function z6(){if(JN===void 0){let e=window;JN=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return JN}function G6(){return e6===void 0&&(e6=/(firefox)/i.test(navigator.userAgent)),e6}function mK(){return t6===void 0&&(t6=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),t6}function Op(){return i6===void 0&&(i6=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),i6}function y6(){return!wu()||fK()>=15}function S6(e){if(!e)return null;let i=e.tabIndex,n=e.getAttribute("tabIndex");return i===-1&&(n===null||n===""&&!G6())?null:i.toString()}function dfe(){if(n6!==void 0)return n6;if(!document.body)return-1;let e=1e6,i=G6()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){let o=e*2;if(n.style.height=o+"px",o>i||n.clientHeight!==o)break;e=o}return document.body.removeChild(n),n6=e,e}function hfe(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}function pfe(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}function gfe(){return b6==null&&vK(),b6}function vK(){let e=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",e.appendChild(i);let n=i.offsetWidth-i.clientWidth;n===0&&i.clientWidth===0&&(n=null),i.parentNode&&i.parentNode.removeChild(i),n!=null&&(b6=n,w6=n===0)}function CK(){return w6==null&&vK(),w6}var G2;var ffe="[tabindex], input, select, button, textarea, [href]",wK="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function W6(e){let i=Element.prototype.matches||Element.prototype.msMatchesSelector,o=i.call(e,"input, select, button, textarea"),r=i.call(e,wK),s=yl(e);return o&&!r&&s}function Ln(e,i,n={}){let{skipAriaHidden:o}=n;e.classList.toggle("ag-hidden",!i),o||hK(e,!i)}function mfe(e,i,n={}){let{skipAriaHidden:o}=n;e.classList.toggle("ag-invisible",!i),o||hK(e,!i)}function Qy(e,i){let n="disabled",o=i?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);o(e),EK(e.querySelectorAll("input"),r=>o(r))}function cv(e,i,n){let o=0;for(;e;){if(e.classList.contains(i))return!0;if(e=e.parentElement,typeof n=="number"){if(++o>n)break}else if(e===n)break}return!1}function Mf(e){let{height:i,width:n,borderTopWidth:o,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:l,paddingTop:c,paddingRight:u,paddingBottom:d,paddingLeft:h,marginTop:p,marginRight:g,marginBottom:f,marginLeft:y,boxSizing:M}=window.getComputedStyle(e);return{height:parseFloat(i||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(o||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(l||"0"),paddingTop:parseFloat(c||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(h||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(g||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(y||"0"),boxSizing:M}}function j6(e){let i=Mf(e);return i.boxSizing==="border-box"?i.height-i.paddingTop-i.paddingBottom:i.height}function tS(e){let i=Mf(e);return i.boxSizing==="border-box"?i.width-i.paddingLeft-i.paddingRight:i.width}function bK(e){let{height:i,marginBottom:n,marginTop:o}=Mf(e);return Math.floor(i+n+o)}function s3(e){let{width:i,marginLeft:n,marginRight:o}=Mf(e);return Math.floor(i+n+o)}function yK(e){let i=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:o,borderRightWidth:r,borderBottomWidth:s}=Mf(e);return{top:i.top+(n||0),left:i.left+(o||0),right:i.right+(r||0),bottom:i.bottom+(s||0)}}function a3(){if(typeof G2=="boolean")return G2;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,G2=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),G2}function l3(e,i){let n=e.scrollLeft;return i&&(n=Math.abs(n),z6()&&!a3()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n}function c3(e,i,n){n&&(a3()?i*=-1:(wu()||z6())&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),e.scrollLeft=i}function mr(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Zs(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function SK(e){return!!e.offsetParent}function yl(e){let i=e;return i.checkVisibility?i.checkVisibility({checkVisibilityCSS:!0}):!(!SK(e)||window.getComputedStyle(e).visibility!=="visible")}function Xy(e){let i=document.createElement("div");return i.innerHTML=(e||"").trim(),i.firstChild}function _K(e,i,n){n&&n.nextSibling===i||(n?n.nextSibling?e.insertBefore(i,n.nextSibling):e.appendChild(i):e.firstChild&&e.firstChild!==i&&e.insertAdjacentElement("afterbegin",i))}function xK(e,i){for(let n=0;n<i.length;n++){let o=i[n],r=e.children[n];r!==o&&e.insertBefore(o,r)}}function vfe(e,i,n){n?n.insertAdjacentElement("afterend",i):e.firstChild?e.insertAdjacentElement("afterbegin",i):e.appendChild(i)}function DK(e,i){if(i)for(let[n,o]of Object.entries(i)){if(!n||!n.length||o==null)continue;let r=Gge(n),s=o.toString(),l=s.replace(/\s*!important/g,""),c=l.length!=s.length?"important":void 0;e.style.setProperty(r,l,c)}}function Cfe(e){return e.clientWidth<e.scrollWidth}function wfe(e){return e.clientHeight<e.scrollHeight}function u3(e,i){i==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):bl(e,i)}function bl(e,i){i=U6(i),e.style.width=i.toString(),e.style.maxWidth=i.toString(),e.style.minWidth=i.toString()}function zy(e,i){i=U6(i),e.style.height=i.toString(),e.style.maxHeight=i.toString(),e.style.minHeight=i.toString()}function U6(e){return typeof e=="number"?`${e}px`:e}function $6(e){return e instanceof Node||e instanceof HTMLElement}function bfe(e){if(e==null)return[];let i=[];return EK(e,n=>i.push(n)),i}function yfe(e,i){if(e)for(let n=0;n<e.length;n++){let o=e[n];i(o.name,o.value)}}function Xs(e,i,n){n==null||n===""?e.removeAttribute(i):e.setAttribute(i,n.toString())}function EK(e,i){if(e!=null)for(let n=0;n<e.length;n++)i(e[n])}var gv=class{constructor(e=0,i=1){this.nextValue=e,this.step=i}next(){let e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Sfe=1e3,_fe=1e3,Sq=100,xfe=(()=>{let e=class mf extends Ye{constructor(n,o,r,s){super(),this.parentComp=n,this.tooltipShowDelayOverride=o,this.tooltipHideDelayOverride=r,this.shouldDisplayTooltip=s,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(n){this.popupService=n.popupService,this.userComponentFactory=n.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let n=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(n,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(n,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(n,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(n,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(n){let o=this.gos.get(n);return o<0&&tt(`${n} should not be lower than 0`),Math.max(200,o)}getTooltipDelay(n){return n==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let n=this.gos.get("tooltipTrigger");return!n||n==="hover"?0:1}onMouseEnter(n){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Op()&&(mf.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(n)},Sq):this.prepareToShowTooltip(n))}onMouseMove(n){this.lastMouseEvent&&(this.lastMouseEvent=n),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(n){let o=n.relatedTarget,r=this.parentComp.getGui(),s=this.tooltipComp?.getGui();this.isInteractingWithTooltip||r.contains(o)||this.interactionEnabled&&s?.contains(o)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(n){if(this.state!=0||mf.isLocked)return;let o=0;n&&(o=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=n||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),o),this.state=1}isLastTooltipHiddenRecently(){let n=new Date().getTime(),o=mf.lastTooltipHideTime;return n-o<Sfe}setToDoNothing(n){!n&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let n=We({},this.parentComp.getTooltipParams());if(!rt(n.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;let o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(n).newAgStackInstance().then(o)}hideTooltip(n){!n&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),mf.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),n&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(n,o){if(this.state!==2||this.tooltipInstanceCount!==n){this.destroyBean(o);return}let s=o.getGui();this.tooltipComp=o,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");let l=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({eChild:s,ariaLabel:l("ariaLabelTooltip","Tooltip")});if(c&&(this.tooltipPopupDestroyFunc=c.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let u=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:u,columnMoved:u})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(s,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(co(this.gos),{keydown:u=>{s.contains(u?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(s,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:s,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let n=this.tooltipComp?.getGui(),o=On(this.gos);return!!n&&n.contains(o)}onTooltipFocusOut(n){let o=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,o.contains(n.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let n={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Ft(We({},n),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Ft(We({},n),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let n=this.tooltipPopupDestroyFunc,o=this.tooltipComp,r=this.tooltipTrigger===0?_fe:0;window.setTimeout(()=>{n(),this.destroyBean(o)},r),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(n=>{n&&n()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){mf.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Sq)}unlockService(){mf.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};return e.isLocked=!1,e})(),Dfe=xfe,vv=class extends Ye{constructor(e,i){super(),this.ctrl=e,i&&(this.beans=i)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){let i="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(i,e):n.removeAttribute(i))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null)return;let e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new Dfe(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){let e=this.ctrl,i=e.getColumn?.(),n=e.getColDef?.(),o=e.getRowNode?.();return{location:e.getLocation(),colDef:n,column:i,rowIndex:e.getRowIndex?.(),node:o,data:o?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},Efe=new gv,ft=null,Vi=class IK extends Ye{constructor(i,n){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Efe.next(),this.cssClassManager=new Zge(()=>this.eGui),this.componentSelectors=new Map((n??[]).map(o=>[o.selector,o])),i&&this.setTemplate(i)}preWireBeans(i){super.preWireBeans(i)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(i,n){i&&this.gos&&(this.applyElementsToComponent(i),this.createChildComponentsFromTags(i,n))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(i){let{newTooltipText:n,showDelayOverride:o,hideDelayOverride:r,location:s,shouldDisplayTooltip:l}=i||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==n&&(this.tooltipText=n);let c=()=>this.tooltipText;n!=null&&(this.tooltipFeature=this.createBean(new vv({getTooltipValue:c,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:i?.getColDef,getColumn:i?.getColumn,getTooltipShowDelayOverride:o!=null?()=>o:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:l})))}getDataRefAttribute(i){return i.getAttribute?i.getAttribute("data-ref"):null}applyElementsToComponent(i,n,o,r=null){if(n===void 0&&(n=this.getDataRefAttribute(i)),n){let s=this[n];if(s===ft)this[n]=r??i;else{let l=o&&o[n];!this.suppressDataRefValidation&&!l&&tt(`Issue with data-ref: ${n} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(i,n){bfe(i.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;let s=this.createComponentFromElement(r,l=>{l.getGui()&&this.copyAttributesFromNode(r,l.getGui())},n);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,n);let l=Array.prototype.slice.call(r.children);s.addItems(l)}this.swapComponentForNode(s,i,r)}else r.childNodes&&this.createChildComponentsFromTags(r,n)})}createComponentFromElement(i,n,o){let r=i.nodeName,s=this.getDataRefAttribute(i),l=r.indexOf("AG-")===0,c=l?this.componentSelectors.get(r):null,u=null;if(c){IK.elementGettingCreated=i;let d=o&&s?o[s]:void 0;u=new c.component(d),u.setParentComponent(this),this.createBean(u,null,n)}else l&&tt(`Missing selector: ${r}`);return this.applyElementsToComponent(i,s,o,u),u}copyAttributesFromNode(i,n){yfe(i.attributes,(o,r)=>n.setAttribute(o,r))}swapComponentForNode(i,n,o){let r=i.getGui();n.replaceChild(r,o),n.insertBefore(document.createComment(o.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,i))}activateTabIndex(i){let n=this.gos.get("tabIndex");i||(i=[]),i.length||i.push(this.getGui()),i.forEach(o=>o.setAttribute("tabindex",n.toString()))}setTemplate(i,n,o){let r=Xy(i);this.setTemplateFromElement(r,n,o)}setTemplateFromElement(i,n,o,r=!1){if(this.eGui=i,this.suppressDataRefValidation=r,n)for(let s=0;s<n.length;s++){let l=n[s];this.componentSelectors.set(l.selector,l)}this.wireTemplate(i,o)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(i){this.parentComponent=i}getParentComponent(){return this.parentComponent}setGui(i){this.eGui=i}queryForHtmlElement(i){return this.eGui.querySelector(i)}getContainerAndElement(i,n){let o=n;return i==null?null:(o||(o=this.eGui),$6(i)?{element:i,parent:o}:{element:i.getGui(),parent:o})}prependChild(i,n){let{element:o,parent:r}=this.getContainerAndElement(i,n)||{};!o||!r||r.insertAdjacentElement("afterbegin",o)}appendChild(i,n){let{element:o,parent:r}=this.getContainerAndElement(i,n)||{};!o||!r||r.appendChild(o)}isDisplayed(){return this.displayed}setVisible(i,n={}){if(i!==this.visible){this.visible=i;let{skipAriaHidden:o}=n;mfe(this.eGui,i,{skipAriaHidden:o})}}setDisplayed(i,n={}){if(i!==this.displayed){this.displayed=i;let{skipAriaHidden:o}=n;Ln(this.eGui,i,{skipAriaHidden:o});let r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(i,n,o){this.eGui.addEventListener(i,n,o),this.addDestroyFunc(()=>this.eGui.removeEventListener(i,n))}addCssClass(i){this.cssClassManager.addCssClass(i)}removeCssClass(i){this.cssClassManager.removeCssClass(i)}containsCssClass(i){return this.cssClassManager.containsCssClass(i)}addOrRemoveCssClass(i,n){this.cssClassManager.addOrRemoveCssClass(i,n)}},MK={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},Ife=(()=>{let e=new Set(Object.values(MK));return e.add("eye"),e})();function Mfe(e,i,n){let o=xs(e,i,n);if(o){let{className:s}=o;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return o}let r=document.createElement("span");return r.appendChild(o),r}function xs(e,i,n,o){let r=null,s=n&&n.getColDef().icons;if(s&&(r=s[e]),i&&!r){let l=i.get("icons");l&&(r=l[e])}if(r){let l;if(typeof r=="function")l=r();else if(typeof r=="string")l=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof l=="string")return Xy(l);if($6(l))return l;tt("iconRenderer should return back a string or a dom object")}else{let l=document.createElement("span"),c=MK[e]??(Ife.has(e)?e:void 0);return c||(o?c=e:(tt(`Did not find icon ${e}`),c="")),l.setAttribute("class",`ag-icon ag-icon-${c}`),l.setAttribute("unselectable","on"),ss(l,"presentation"),l}}var Rfe=class extends Vi{constructor(){super(...arguments),this.dragSource=null,this.eIcon=ft,this.eLabel=ft}postConstruct(){let e=i=>Mfe(i,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,i=!1){mr(this.eIcon);let n=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),n=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",i),!(n===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&n&&this.eIcon.appendChild(n)}setLabel(e){this.eLabel.textContent=vu(e)}};function RK(e,i,n){if(n===0)return!1;let o=Math.abs(e.clientX-i.clientX),r=Math.abs(e.clientY-i.clientY);return Math.max(o,r)<=n}var Ap=class{constructor(e,i=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new fv,this.eElement=e,this.preventMouseClick=i;let n=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",o,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}addEventListener(e,i){this.localEventService.addEventListener(e,i)}removeEventListener(e,i){this.localEventService.removeEventListener(e,i)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let i=this.touchStart;window.setTimeout(()=>{let n=this.touchStart===i;if(this.touching&&n&&!this.moved){this.moved=!0;let o={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(o)}},500)}onTouchMove(e){if(!this.touching)return;let i=this.getActiveTouch(e.touches);if(!i)return;!RK(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let i={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Py(e,i){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${i} ag-hidden" aria-hidden="true"></span>`}var kfe=`<span class="ag-sort-indicator-container">
        ${Py("Order","order")}
        ${Py("Asc","ascending-icon")}
        ${Py("Desc","descending-icon")}
        ${Py("Mixed","mixed-icon")}
        ${Py("None","none-icon")}
    </span>`,q6=class extends Vi{constructor(e){super(),this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,e||this.setTemplate(kfe)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,i,n,o,r){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=n,this.eSortMixed=o,this.eSortNone=r}setupSort(e,i=!1){if(this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let n=this.updateIcons.bind(this),o=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:o,columnRowGroupChanged:o}),this.onSortChanged()}addInIcon(e,i,n){if(i==null)return;let o=xs(e,this.gos,n);o&&i.appendChild(o)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){let i=e==="asc";Ln(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){let i=e==="desc";Ln(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){let i=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),n=e==null;Ln(this.eSortNone,!i&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);let e=this.column.getColDef().showRowGroup;mu(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){let e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Ln(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;let e=this.sortController.getColumnsWithSortingOrdered(),i=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,n=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1),o=i>=0&&n;Ln(this.eSortOrder,o,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():mr(this.eSortOrder)}},Afe={selector:"AG-SORT-INDICATOR",component:q6},Ffe=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,_6=class extends Vi{constructor(){super(...arguments),this.eFilter=ft,this.eFilterButton=ft,this.eSortIndicator=ft,this.eMenu=ft,this.eLabel=ft,this.eText=ft,this.eSortOrder=ft,this.eSortAsc=ft,this.eSortDesc=ft,this.eSortMixed=ft,this.eSortNone=ft,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){let i=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||i.enableFilterButton!=e.enableFilterButton||i.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??Ffe;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[Afe]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;let i=vu(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}}addInIcon(e,i,n){if(i==null)return;let o=xs(e,this.gos,n);o&&i.appendChild(o)}setupTap(){let{gos:e}=this;if(e.get("suppressTouch"))return;let i=new Ap(this.getGui(),!0),n=this.shouldSuppressMenuHide(),o=n&&rt(this.eMenu),r=o?new Ap(this.eMenu,!0):i;if(this.params.enableMenu){let s=o?"tap":"longTap",l=c=>this.params.showColumnMenuAfterMouseClick(c.touchStart);this.addManagedListeners(r,{[s]:l})}if(this.params.enableSorting){let s=l=>{let c=l.touchStart.target;n&&(this.eMenu?.contains(c)||this.eFilterButton?.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(i,{tap:s})}if(this.params.enableFilterButton){let s=new Ap(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>i.destroy()),o&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Zs(this.eMenu),this.eMenu=void 0;return}let e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){let i=this.params.column,n=this.menuService.isLegacyMenuEnabled();if(e&&!n){if(this.menuService.isFilterMenuInHeaderEnabled(i))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new q6(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:i=>{let n=this.params.column.isMoving(),r=new Date().getTime()-this.lastMovingChanged<50;if(!(n||r)){let c=this.gos.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.params.progressSort(c)}}});let e=()=>{let i=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",i==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",i==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!i),this.params.column.getColDef().showRowGroup){let r=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(s=>this.params.column.getSort()==s.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,i,n){if(!e)return Zs(i),!1;let o=this.params.column;return this.addInIcon("filter",i,o),this.addManagedListeners(o,{filterChanged:n}),n(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();Ln(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},Tfe=class extends Vi{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=ft,this.agClosed=ft,this.agLabel=ft}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&tt("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);let e=r=>{if(mh(r))return;let s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);let i=r=>{hv(r)};this.addManagedElementListeners(this.agClosed,{dblclick:i}),this.addManagedElementListeners(this.agOpened,{dblclick:i}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();let n=this.params.columnGroup.getProvidedColumnGroup(),o=this.updateIconVisibility.bind(this);this.addManagedListeners(n,{expandedChanged:o,expandableChanged:o})}addTouchAndClickListeners(e,i){let n=new Ap(e,!0);this.addManagedListeners(n,{tap:i}),this.addDestroyFunc(()=>n.destroy()),this.addManagedElementListeners(e,{click:i})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){let i=this.params.columnGroup.isExpanded();Ln(this.agOpened,i),Ln(this.agClosed,!i)}else Ln(this.agOpened,!1),Ln(this.agClosed,!1)}addInIcon(e,i){let n=xs(e,this.gos,null);n&&i.appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Ln(this.agOpened,!1),Ln(this.agClosed,!1);return}}setupLabel(){let{displayName:e,columnGroup:i}=this.params;if(rt(e)){let n=vu(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!i.getColGroupDef()?.suppressStickyLabel)}},Pfe="\u2191",Lfe="\u2193",Ofe=class extends Vi{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");let n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(i),e.appendChild(n),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,i){let n=Math.abs(i),o=e.formatValue(n),r=rt(o)?o:n,s=i>=0;s?this.eDelta.textContent=Pfe+r:this.eDelta.textContent=Lfe+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),mr(this.eDelta)}refresh(e,i=!1){let n=e.value;if(n===this.lastValue||(rt(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:rt(e.value)?this.eValue.textContent=n:mr(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){let o=n-this.lastValue;this.showDelta(e,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),i||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},Nfe=class extends Vi{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-slide-current"),e.appendChild(i),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,i=!1){let n=e.value;return Ti(n)&&(n=""),n===this.lastValue||this.filterManager?.isSuppressFlashingCellsBecauseFiltering()?!1:(i||this.addSlideAnimation(),this.lastValue=n,rt(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:rt(e.value)?this.eCurrent.textContent=n:mr(this.eCurrent),!0)}},Qe=(()=>{let e=class{};return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.D="KeyD",e.V="KeyV",e.X="KeyX",e.Y="KeyY",e.Z="KeyZ",e})(),Bfe=class extends Vi{constructor(e,i,n){super(i,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:i,labelWidth:n,labelAlignment:o,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),i!=null&&this.setLabel(i),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()}refreshLabel(){mr(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Ln(this.eLabel,!1),ss(this.eLabel,"presentation")):(Ln(this.eLabel,!0),ss(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(u3(this.eLabel,e),this)}setDisabled(e){e=!!e;let i=this.getGui();return Qy(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},kK=class extends Bfe{constructor(e,i,n,o){super(e,i,n),this.className=o}postConstruct(){super.postConstruct();let{width:e,value:i,onValueChange:n}=this.config;e!=null&&this.setWidth(e),i!=null&&this.setValue(i),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),i=this.getLabelId(),n=this.getLabel();n==null||n==""||Xge(e)!==null?Zy(e,""):Zy(e,i??"")}setAriaLabel(e){return pv(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return bl(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,i){return this.value===e?this:(this.previousValue=this.value,this.value=e,i||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},bf=class extends kK{constructor(e,i,n="text",o="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${o} data-ref="eInput" class="ag-input-field-input"></${o}>
                </div>
            </div>`,[],i),this.inputType=n,this.displayFieldTag=o,this.eLabel=ft,this.eWrapper=ft,this.eInput=ft}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;let{inputName:e,inputWidth:i}=this.config;e!=null&&this.setInputName(e),i!=null&&this.setInputWidth(i),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return u3(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let i=this.eInput;return i.maxLength=e,this}setInputPlaceholder(e){return Xs(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return pv(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Qy(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Xs(this.eInput,"autocomplete",null);else{let i=typeof e=="string"?e:"off";Xs(this.eInput,"autocomplete",i)}return this}},K6=class extends bf{constructor(e,i="ag-checkbox",n="checkbox"){super(e,i,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:i}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof i=="boolean"&&this.setPassive(i)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}getValue(){return this.isSelected()}setValue(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this}setName(e){let i=this.getInputElement();return i.name=e,this}isSelected(){return this.selected}setSelected(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,i||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,i,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:i,event:n});let o=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:o.id,name:o.name,selected:e,previousValue:i})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let i=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,i,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Y6={selector:"AG-CHECKBOX",component:K6},Vfe=class extends Vi{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Y6]),this.eCheckbox=ft}init(e){this.refresh(e);let i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),dK(i,"polite"),this.addManagedListeners(i,{click:n=>{if(hv(n),this.eCheckbox.isDisabled())return;let o=this.eCheckbox.getValue();this.onCheckboxChanged(o)},dblclick:n=>{hv(n)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:n=>{if(n.key===Qe.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===On(this.gos)&&this.eCheckbox.toggle();let o=this.eCheckbox.getValue();this.onCheckboxChanged(o),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let i,n=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")i=e.value;else{let c=e.column.getColId();c.startsWith(f3)?i=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[c]!==void 0?i=e.value??void 0:n=!1}else i=e.value??void 0;if(!n){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(i);let o=e.disabled!=null?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(o);let r=this.localeService.getLocaleTextFunc(),s=H6(r,i),l=o?s:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(l)}onCheckboxChanged(e){let{column:i,node:n,value:o}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:o});let r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:i,colDef:i?.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:o,oldValue:o,newValue:e,valueChanged:r}),r||this.updateCheckbox(this.params)}},Hfe=class extends Vi{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=ft,this.eLoadingText=ft}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){let e=xs("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);let i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},zfe=class extends Vi{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){let i=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",i),this.addDestroyFunc(()=>Zy(e.eParentOfValue)),Zy(e.eParentOfValue,i),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");let i=e("ariaSkeletonCellLoadingFailed","Row failed to load");pv(this.getGui(),i)}setupLoading(e){let n=co(this.gos).createElement("div");n.classList.add("ag-skeleton-effect");let o=e.node.rowIndex;if(o!=null){let l=75+25*(o%2===0?Math.sin(o):Math.cos(o));n.style.width=`${l}%`}this.getGui().appendChild(n);let s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");pv(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},AK=class extends Vi{constructor(){super()}destroy(){super.destroy()}},Gfe=class extends AK{init(){let e=fh(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){let i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},Wfe=class extends AK{init(){let e=fh(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){let i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}},Cv=class extends Vi{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},jfe=class extends Cv{constructor(){super('<div class="ag-tooltip"></div>')}init(e){let{value:i}=e;this.getGui().textContent=vu(i,!0)}};function FK(e){let{inputValue:i,allSuggestions:n,hideIrrelevant:o,filterByPercentageOfBestMatch:r,addSequentialWeight:s}=e,l=n.map((d,h)=>({value:d,relevance:$fe(i.toLowerCase(),d.toLocaleLowerCase(),s),idx:h}));if(l.sort((d,h)=>h.relevance-d.relevance),o&&(l=l.filter(d=>d.relevance!==0)),l.length>0&&r&&r>0){let h=l[0].relevance*r;l=l.filter(p=>h-p.relevance<0)}let c=[],u=[];for(let d of l)c.push(d.value),u.push(d.idx);return{values:c,indices:u}}function Ufe(e){let i=[],n=e.length;for(let o=1;o<=n;o++)for(let r=0;r<=n-o;r++){let s=r+o-1;i.push(e.slice(r,s+1))}return i}function $fe(e,i,n=!1){let o=e.replace(/\s/g,""),r=i.replace(/\s/g,""),s=o.length,l=r.length,c=new Array(s+1).fill(null).map(()=>new Array(l+1).fill(0));for(let p=0;p<=s;p+=1)c[p][0]=p;for(let p=0;p<=l;p+=1)c[0][p]=p;for(let p=1;p<=s;p++)for(let g=1;g<=l;g++)o[p-1]===r[g-1]?c[p][g]=c[p-1][g-1]:c[p][g]=1+Math.min(c[p][g-1],Math.min(c[p-1][g],c[p-1][g-1]));let u=c[s][l],h=Math.max(s,l)-u;if(n){let p=Ufe(o);for(let g=0;g<p.length;g++){let f=p[g];r.indexOf(f)!==-1&&(h+=1,h*=f.length)}}return h}var qfe=class extends Ye{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:Rfe,agColumnHeader:_6,agColumnGroupHeader:Tfe,agSortIndicator:q6,agAnimateShowChangeCellRenderer:Ofe,agAnimateSlideCellRenderer:Nfe,agLoadingCellRenderer:Hfe,agSkeletonCellRenderer:zfe,agCheckboxCellRenderer:Vfe,agLoadingOverlay:Gfe,agNoRowsOverlay:Wfe,agTooltipComponent:jfe},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){let e=this.gos.get("components");e!=null&&Ks(e,(i,n)=>this.registerJsComponent(i,n))}registerDefaultComponent(e,i,n){this.agGridDefaults[e]=i,n&&(this.agGridDefaultParams[e]=n)}registerJsComponent(e,i){this.jsComps[e]=i}retrieve(e,i){let n=(c,u,d)=>({componentFromFramework:u,component:c,params:d}),o=this.getFrameworkOverrides().frameworkComponent(i,this.gos.get("components"));if(o!=null)return n(o,!0);let r=this.jsComps[i];if(r){let c=this.getFrameworkOverrides().isFrameworkComponent(r);return n(r,c)}let s=this.agGridDefaults[i];if(s)return n(s,!1,this.agGridDefaultParams[i]);let l=this.enterpriseAgDefaultCompsModule[i];return l?this.gos.assertModuleRegistered(l,`AG Grid '${e}' component: ${i}`):A6(()=>{this.warnAboutMissingComponent(e,i)},"MissingComp"+i),null}warnAboutMissingComponent(e,i){let n=[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],o=FK({inputValue:i,allSuggestions:n,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;tt(`Could not find '${i}' component. It was configured as "${e}: '${i}'" but it wasn't found in the list of registered components.`),o.length>0&&tt(`         Did you mean: [${o.slice(0,3)}]?`),tt(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},_s=class By{constructor(i){this.status=0,this.resolution=null,this.waiters=[],i(n=>this.onDone(n),n=>this.onReject(n))}static all(i){return i.length?new By(n=>{let o=i.length,r=new Array(o);i.forEach((s,l)=>{s.then(c=>{r[l]=c,o--,o===0&&n(r)})})}):By.resolve()}static resolve(i=null){return new By(n=>n(i))}then(i){return new By(n=>{this.status===1?n(i(this.resolution)):this.waiters.push(o=>n(i(o)))})}onDone(i){this.status=1,this.resolution=i,this.waiters.forEach(n=>n(i))}onReject(i){}},Kfe={propertyName:"dateComponent",cellRenderer:!1},Yfe={propertyName:"dragAndDropImageComponent",cellRenderer:!1},Zfe={propertyName:"headerComponent",cellRenderer:!1},Qfe={propertyName:"headerGroupComponent",cellRenderer:!1},_q={propertyName:"cellRenderer",cellRenderer:!0},Xfe={propertyName:"cellRenderer",cellRenderer:!1},Jfe={propertyName:"loadingCellRenderer",cellRenderer:!0},eme={propertyName:"cellEditor",cellRenderer:!1},xq={propertyName:"innerRenderer",cellRenderer:!0},tme={propertyName:"loadingOverlayComponent",cellRenderer:!1},ime={propertyName:"noRowsOverlayComponent",cellRenderer:!1},nme={propertyName:"tooltipComponent",cellRenderer:!1},Z6={propertyName:"filter",cellRenderer:!1},ome={propertyName:"floatingFilterComponent",cellRenderer:!1},rme={propertyName:"toolPanel",cellRenderer:!1},sme={propertyName:"statusPanel",cellRenderer:!1},ame={propertyName:"fullWidthCellRenderer",cellRenderer:!0},lme={propertyName:"loadingCellRenderer",cellRenderer:!0},cme={propertyName:"groupRowRenderer",cellRenderer:!0},ume={propertyName:"detailCellRenderer",cellRenderer:!0},dme={propertyName:"menuItem",cellRenderer:!1},TK=class PK extends Ye{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(i){this.agComponentUtils=i.agComponentUtils,this.componentMetadataProvider=i.componentMetadataProvider,this.userComponentRegistry=i.userComponentRegistry,this.frameworkComponentWrapper=i.frameworkComponentWrapper,this.gridOptions=i.gridOptions}getDragAndDropImageCompDetails(i){return this.getCompDetails(this.gridOptions,Yfe,"agDragAndDropImage",i,!0)}getHeaderCompDetails(i,n){return this.getCompDetails(i,Zfe,"agColumnHeader",n)}getHeaderGroupCompDetails(i){let n=i.columnGroup.getColGroupDef();return this.getCompDetails(n,Qfe,"agColumnGroupHeader",i)}getFullWidthCellRendererDetails(i){return this.getCompDetails(this.gridOptions,ame,null,i,!0)}getFullWidthLoadingCellRendererDetails(i){return this.getCompDetails(this.gridOptions,lme,"agLoadingCellRenderer",i,!0)}getFullWidthGroupCellRendererDetails(i){return this.getCompDetails(this.gridOptions,cme,"agGroupRowRenderer",i,!0)}getFullWidthDetailCellRendererDetails(i){return this.getCompDetails(this.gridOptions,ume,"agDetailCellRenderer",i,!0)}getInnerRendererDetails(i,n){return this.getCompDetails(i,xq,null,n)}getFullWidthGroupRowInnerCellRenderer(i,n){return this.getCompDetails(i,xq,null,n)}getCellRendererDetails(i,n){return this.getCompDetails(i,_q,null,n)}getEditorRendererDetails(i,n){return this.getCompDetails(i,Xfe,null,n)}getLoadingCellRendererDetails(i,n){return this.getCompDetails(i,Jfe,"agSkeletonCellRenderer",n,!0)}getCellEditorDetails(i,n){return this.getCompDetails(i,eme,"agCellEditor",n,!0)}getFilterDetails(i,n,o){return this.getCompDetails(i,Z6,o,n,!0)}getDateCompDetails(i){return this.getCompDetails(this.gridOptions,Kfe,"agDateInput",i,!0)}getLoadingOverlayCompDetails(i){return this.getCompDetails(this.gridOptions,tme,"agLoadingOverlay",i,!0)}getNoRowsOverlayCompDetails(i){return this.getCompDetails(this.gridOptions,ime,"agNoRowsOverlay",i,!0)}getTooltipCompDetails(i){return this.getCompDetails(i.colDef,nme,"agTooltipComponent",i,!0)}getSetFilterCellRendererDetails(i,n){return this.getCompDetails(i,_q,null,n)}getFloatingFilterCompDetails(i,n,o){return this.getCompDetails(i,ome,o,n)}getToolPanelCompDetails(i,n){return this.getCompDetails(i,rme,null,n,!0)}getStatusPanelCompDetails(i,n){return this.getCompDetails(i,sme,null,n,!0)}getMenuItemCompDetails(i,n){return this.getCompDetails(i,dme,"agMenuItem",n,!0)}getCompDetails(i,n,o,r,s=!1){let{propertyName:l,cellRenderer:c}=n,{compName:u,jsComp:d,fwComp:h,paramsFromSelector:p,popupFromSelector:g,popupPositionFromSelector:f}=PK.getCompKeys(this.frameworkOverrides,i,n,r),y,M=$=>{let _e=this.userComponentRegistry.retrieve(l,$);_e&&(d=_e.componentFromFramework?void 0:_e.component,h=_e.componentFromFramework?_e.component:void 0,y=_e.params)};if(u!=null&&M(u),d==null&&h==null&&o!=null&&M(o),d&&c&&!this.agComponentUtils.doesImplementIComponent(d)&&(d=this.agComponentUtils.adaptFunction(l,d)),!d&&!h){s&&Wi(`Could not find component ${u}, did you forget to configure this component?`);return}let k=this.mergeParamsWithApplicationProvidedParams(i,n,r,p,y),G=d==null,J=d||h;return{componentFromFramework:G,componentClass:J,params:k,type:n,popupFromSelector:g,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(J,G,k,n)}}static getCompKeys(i,n,o,r){let{propertyName:s}=o,l,c,u,d,h,p;if(n){let g=n,f=g[s+"Selector"],y=f?f(r):null,M=k=>{typeof k=="string"?l=k:k!=null&&k!==!0&&(i.isFrameworkComponent(k)?u=k:c=k)};y?(M(y.component),d=y.params,h=y.popup,p=y.popupPosition):M(g[s])}return{compName:l,jsComp:c,fwComp:u,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:p}}newAgStackInstance(i,n,o,r){let s=r.propertyName,l=!n,c;if(l)c=new i;else{let d=this.componentMetadataProvider.retrieve(s);c=this.frameworkComponentWrapper.wrap(i,d.mandatoryMethodList,d.optionalMethodList,r)}let u=this.initComponent(c,o);return u==null?_s.resolve(c):u.then(()=>c)}mergeParamsWithApplicationProvidedParams(i,n,o,r=null,s){let l=this.gos.getGridCommonParams();Tr(l,o),s&&Tr(l,s);let c=i,u=c&&c[n.propertyName+"Params"];if(typeof u=="function"){let d=u(o);Tr(l,d)}else typeof u=="object"&&Tr(l,u);return Tr(l,r),l}initComponent(i,n){if(this.createBean(i),i.init!=null)return i.init(n)}};function Gy(e){let i=e;return i!=null&&i.getFrameworkComponentInstance!=null?i.getFrameworkComponentInstance():e}var hme=(()=>{let e=class en{static register(n){en.__register(n,!0,void 0)}static registerModules(n){en.__registerModules(n,!0,void 0)}static __register(n,o,r){en.runVersionChecks(n),r!==void 0?(en.areGridScopedModules=!0,en.gridModulesMap[r]===void 0&&(en.gridModulesMap[r]={}),en.gridModulesMap[r][n.moduleName]=n):en.globalModulesMap[n.moduleName]=n,en.setModuleBased(o)}static __unRegisterGridModules(n){delete en.gridModulesMap[n]}static __registerModules(n,o,r){en.setModuleBased(o),n&&n.forEach(s=>en.__register(s,o,r))}static isValidModuleVersion(n){let[o,r]=n.version.split(".")||[],[s,l]=en.currentModuleVersion.split(".")||[];return o===s&&r===l}static runVersionChecks(n){en.currentModuleVersion||(en.currentModuleVersion=n.version);let o=r=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${r} Please update all modules to the same version.`;if(n.version?en.isValidModuleVersion(n)||Wi(o(`'${n.moduleName}' is version ${n.version} but the other modules are version ${en.currentModuleVersion}.`)):Wi(o(`'${n.moduleName}' is incompatible.`)),n.validate){let r=n.validate();r.isValid||Wi(`${r.message}`)}}static setModuleBased(n){en.moduleBased===void 0?en.moduleBased=n:en.moduleBased!==n&&(Wi("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Wi("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){en.isBundled=!0}static __assertRegistered(n,o,r){if(this.__isRegistered(n,r))return!0;let s;if(en.isBundled)s=`AG Grid: unable to use ${o} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(en.moduleBased||en.moduleBased===void 0){let l=Object.entries(zq).find(([c,u])=>u===n)?.[0];s=`AG Grid: unable to use ${o} as the ${l} is not registered${en.areGridScopedModules?` for gridId: ${r}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${l} } from '${n}';
    
    ModuleRegistry.registerModules([ ${l} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${o} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Wi(s),!1}static __isRegistered(n,o){return!!en.globalModulesMap[n]||!!en.gridModulesMap[o]?.[n]}static __getRegisteredModules(n){return[...Y2(en.globalModulesMap),...Y2(en.gridModulesMap[n]||{})]}static __getGridRegisteredModules(n){return Y2(en.gridModulesMap[n]??{})||[]}static __isPackageBased(){return!en.moduleBased}};return e.globalModulesMap={},e.gridModulesMap={},e.areGridScopedModules=!1,e})(),gh=hme,pme=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([i,n])=>{this.beans[i]=n}),e.beanClasses.forEach(i=>{let n=new i;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(i=>{let{beanName:n,bean:o}=i(this);this.beans[n]=o,this.createdBeans.push(o)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,i){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],i),e}initBeans(e,i){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),i&&e.forEach(i),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let i=0;i<e.length;i++)this.destroyBean(e[i]);return[]}isDestroyed(){return this.destroyed}},gme=class extends pme{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),gh.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}};var LK=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(LK||{});var fme=class extends Ye{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,i=!1){let n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let i=this.dragSourceAndParamsList.find(n=>n.dragSource===e);i&&(this.dragService.removeDragSource(i.params),Lr(this.dragSourceAndParamsList,i))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,i){this.dragging=!0,this.dragSource=e,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){let i=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,i=!1){let n=this.getHorizontalDirection(e),o=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let r=this.dropTargets.filter(l=>this.isMouseOnDropTarget(e,l)),s=this.findCurrentDropTarget(e,r);if(s!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,n,o,i),this.lastDropTarget!==null&&s===null&&this.dragSource?.onGridExit?.(this.dragItem),this.lastDropTarget===null&&s!==null&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(s,e,n,o,i),s&&this.dragAndDropImageComp){let{comp:l,promise:c}=this.dragAndDropImageComp;l?l.setIcon(s.getIconName?s.getIconName():null):c.then(u=>{u&&u.setIcon(s.getIconName?s.getIconName():null)})}this.lastDropTarget=s}else if(s&&s.onDragging){let l=this.createDropTargetEvent(s,e,n,o,i);s.onDragging(l)}}getAllContainersFromDropTarget(e){let i=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return i?n.concat(i):n}allContainersIntersect(e,i){for(let n of i){let{width:o,height:r,left:s,right:l,top:c,bottom:u}=n.getBoundingClientRect();if(o===0||r===0)return!1;let d=e.clientX>=s&&e.clientX<l,h=e.clientY>=c&&e.clientY<u;if(!d||!h)return!1}return!0}isMouseOnDropTarget(e,i){let n=this.getAllContainersFromDropTarget(i),o=!1;for(let l of n)if(this.allContainersIntersect(e,l)){o=!0;break}let{eElement:r,type:s}=this.dragSource;return i.targetContainsSource&&!i.getContainer().contains(r)?!1:o&&i.isInterestedIn(s,r)}findCurrentDropTarget(e,i){let n=i.length;if(n===0)return null;if(n===1)return i[0];let r=qy(this.gos).elementsFromPoint(e.clientX,e.clientY);for(let s of r)for(let l of i)if(Sge(this.getAllContainersFromDropTarget(l)).indexOf(s)!==-1)return l;return null}enterDragTargetIfExists(e,i,n,o,r){if(e&&e.onDragEnter){let s=this.createDropTargetEvent(e,i,n,o,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,i,n,o){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){let s=this.createDropTargetEvent(this.lastDropTarget,e,i,n,o);this.lastDropTarget.onDragLeave(s)}let r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(i=>i.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:o}=e;return n.contains(o)}getHorizontalDirection(e){let i=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return i===n?null:i>n?0:1}getVerticalDirection(e){let i=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return i===n?null:i>n?0:1}createDropTargetEvent(e,i,n,o,r){let s=e.getContainer(),l=s.getBoundingClientRect(),{dragItem:c,dragSource:u}=this,d=i.clientX-l.left,h=i.clientY-l.top;return this.gos.addGridCommonParams({event:i,x:d,y:h,vDirection:o,hDirection:n,dragSource:u,fromNudge:r,dragItem:c,dropZoneTarget:s})}positionDragAndDropImageComp(e){let i=this.getDragAndDropImageComponent();if(!i)return;let n=i.getGui(),r=n.getBoundingClientRect().height,s=hfe()-2,l=pfe()-2;if(!n.offsetParent)return;let u=yK(n.offsetParent),{clientY:d,clientX:h}=e,p=d-u.top-r/2,g=h-u.left-10,f=co(this.gos),y=f.defaultView||window,M=y.pageYOffset||f.documentElement.scrollTop,k=y.pageXOffset||f.documentElement.scrollLeft;s>0&&g+n.clientWidth>s+k&&(g=s+k-n.clientWidth),g<0&&(g=0),l>0&&p+n.clientHeight>l+M&&(p=l+M-n.clientHeight),p<0&&(p=0),n.style.left=`${g}px`,n.style.top=`${p}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){let{comp:e}=this.dragAndDropImageComp;if(e){let i=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(i),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e}=this;if(!e)return;let n=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){let{dragSource:i,mouseEventService:n,environment:o}=this;if(!i)return;let r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),n.stampTopLevelGridCompWithGridInstance(r),o.applyThemeClasses(r),e.setIcon(null);let{dragItemName:s}=i;F6(s)&&(s=s()),e.setLabel(s||""),r.style.top="20px",r.style.left="20px";let l=co(this.gos),c=null,u=null;try{c=l.fullscreenElement}catch{}finally{c||(c=qy(this.gos));let d=c.querySelector("body");d?u=d:c instanceof ShadowRoot?u=c:c instanceof Document?u=c?.documentElement:u=c}this.dragAndDropImageParent=u,u?u.appendChild(r):tt("Could not find document body, it is needed for drag and drop.")}},mme=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,i=!1){let n=i||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let o=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<o.left+r,this.tickRight=e.clientX>o.right-r,this.tickUp=e.clientY<o.top+r&&!n,this.tickDown=e.clientY>o.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let i=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(i-e),this.tickDown&&this.setVerticalPosition(i+e)}if(this.scrollHorizontally){let i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-e),this.tickRight&&this.setHorizontalPosition(i+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};var vme=class extends Ye{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{let i=e.gridBodyCtrl;this.autoScrollService=new mme({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>i.getScrollFeature().getVScrollPosition().top,setVerticalPosition:n=>i.getScrollFeature().setVerticalScrollPosition(n),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let i=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let o=[...this.selectionService.getSelectedNodes()].sort((r,s)=>r.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(o.indexOf(i)!==-1)return o}return[i]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(i=>{i.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:i}=e.dragSource;return i===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;let i=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)}doManagedDrag(e,i){let n=this.isFromThisGrid(e),o=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!n?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],i):this.moveRows(r,i))}getRowIndexNumber(e){let i=e.getRowIndexString();return parseInt(Oi(i.split("-")),10)}moveRowAndClearHighlight(e){let i=this.clientSideRowModel.getLastHighlightedRowNode(),n=i&&i.highlighted===1,o=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=n?1:0;if(this.isFromThisGrid(e))r.forEach(l=>{l.rowTop<o&&(s-=1)}),this.moveRows(r,o,s);else{let l=mv(this.gos),c=this.clientSideRowModel.getRowIndexAtPixel(o)+1;this.clientSideRowModel.getHighlightPosition(o)===0&&c--,this.clientSideRowModel.updateRowData({add:r.filter(u=>!this.clientSideRowModel.getRowNode(l?.({data:u.data,level:0,rowPinned:u.rowPinned})??u.data.id)).map(u=>u.data),addIndex:c})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,i,n=0){this.clientSideRowModel.ensureRowsAtPixel(e,i,n)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){tt("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){tt("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let i={getContainer:e.getContainer};e.fromGrid?i=e:(e.onDragEnter&&(i.onDragEnter=o=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",o))}),e.onDragLeave&&(i.onDragLeave=o=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",o))}),e.onDragging&&(i.onDragging=o=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",o))}),e.onDragStop&&(i.onDragStop=o=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",o))}),e.onDragCancel&&(i.onDragCancel=o=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",o))}));let n=We({isInterestedIn:o=>o===2,getIconName:()=>"move",external:!0},i);this.dragAndDropService.addDropTarget(n),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(n))}getRowDropZone(e){let i=this.getContainer.bind(this),n=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),l=this.onDragCancel.bind(this),c;return e?c={getContainer:i,onDragEnter:e.onDragEnter?u=>{n(u),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}:n,onDragLeave:e.onDragLeave?u=>{o(u),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}:o,onDragging:e.onDragging?u=>{r(u),e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}:r,onDragStop:e.onDragStop?u=>{s(u),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}:s,onDragCancel:e.onDragCancel?u=>{l(u),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}:l,fromGrid:!0}:c={getContainer:i,onDragEnter:n,onDragLeave:o,onDragging:r,onDragStop:s,onDragCancel:l,fromGrid:!0},c}draggingToRowDragEvent(e,i){let n=this.mouseEventService.getNormalisedPosition(i).y,o=n>this.pageBoundsService.getCurrentPageHeight(),r=-1,s;o||(r=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(r));let l;switch(i.vDirection){case 1:l="down";break;case 0:l="up";break;default:l=null;break}return this.gos.addGridCommonParams({type:e,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:r,overNode:s,y:n,vDirection:l})}dispatchGridEvent(e,i){let n=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(i=>{i.setDragging(!1)})}},Cme=class extends Ye{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){let i=e.dragSource.eElement,n=e.mouseDownListener;if(i.removeEventListener("mousedown",n),e.touchEnabled){let o=e.touchStartListener;i.removeEventListener("touchstart",o,{passive:!0})}}removeDragSource(e){let i=this.dragSources.find(n=>n.dragSource===e);i&&(this.removeListener(i),Lr(this.dragSources,i))}isDragging(){return this.dragging}addDragSource(e){let i=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:o,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",i);let s=null,l=this.gos.get("suppressTouch");o&&!l&&(s=c=>{W6(c.target)||(r&&c.stopPropagation(),this.onTouchStart(e,c))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:s,touchEnabled:!!o})}getStartTarget(){return this.startTarget}onTouchStart(e,i){this.currentDragParams=e,this.dragging=!1;let n=i.touches[0];this.touchLastTime=n,this.touchStart=n;let o=u=>this.onTouchMove(u,e.eElement),r=u=>this.onTouchUp(u,e.eElement),s=u=>{u.cancelable&&u.preventDefault()},l=i.target,c=[{target:qy(this.gos),type:"touchmove",listener:s,options:{passive:!1}},{target:l,type:"touchmove",listener:o,options:{passive:!0}},{target:l,type:"touchend",listener:r,options:{passive:!0}},{target:l,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,i){let n=i;if(e.skipMouseEvent&&e.skipMouseEvent(i)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,i.button!==0))return;this.shouldPreventMouseEvent(i)&&i.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i,this.startTarget=i.target;let o=d=>this.onMouseMove(d,e.eElement),r=d=>this.onMouseUp(d,e.eElement),s=d=>d.preventDefault(),l=d=>{d.key===Qe.ESCAPE&&this.cancelDrag(e.eElement)},c=qy(this.gos),u=[{target:c,type:"mousemove",listener:o},{target:c,type:"mouseup",listener:r},{target:c,type:"contextmenu",listener:s},{target:c,type:"keydown",listener:l}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onMouseMove(i,e.eElement)}addTemporaryEvents(e){e.forEach(i=>{let{target:n,type:o,listener:r,options:s}=i;n.addEventListener(o,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(i=>{let{target:n,type:o,listener:r,options:s}=i;n.removeEventListener(o,r,s)})})}isEventNearStartEvent(e,i){let{dragStartPixels:n}=this.currentDragParams,o=rt(n)?n:4;return RK(e,i,o)}getFirstActiveTouch(e){for(let i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null}onCommonMove(e,i,n){if(!this.dragging){if(this.isEventNearStartEvent(e,i))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(i),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(i)}this.currentDragParams?.onDragging(e)}onTouchMove(e,i){let n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,i)}onMouseMove(e,i){wu()&&co(this.gos).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)}shouldPreventMouseEvent(e){let i=this.gos.get("enableCellTextSelection"),n=e.type==="mousemove";return i&&n&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,i){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,i)}onMouseUp(e,i){this.onUpCommon(e,i)}onUpCommon(e,i){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:i})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},x6=class extends Vi{constructor(e,i,n,o,r,s){super(),this.cellValueFn=e,this.rowNode=i,this.column=n,this.customGui=o,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(xs("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){let e=this.gos.get("rowDragManaged")?new bme(this,this.beans,this.rowNode,this.column):new wme(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,i){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(i)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];let i=this.beans.selectionService.getSelectedNodes();return i.indexOf(this.rowNode)!==-1?i:[this.rowNode]}checkCompatibility(){let e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&tt("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let i=e.getColDef();if(i.rowDragText)return i.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let i=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(i,{mousedown:o=>{o?.preventDefault()}})[0]);let n=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:i,dragItemName:()=>{let o=this.getDragItem(),r=o.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(o,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},OK=class extends Ye{constructor(e,i,n){super(),this.parent=e,this.rowNode=i,this.column=n}setDisplayedOrVisible(e){let i={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,i);else{let n=!0,o=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=F6(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,i),this.parent.setVisible(n,i)):(this.parent.setDisplayed(n,i),this.parent.setVisible(!0,i))}}},wme=class extends OK{constructor(e,i,n,o){super(e,n,o),this.beans=i}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},bme=class extends OK{constructor(e,i,n,o){super(e,n,o),this.beans=i}postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=i&&i.shouldPreventRowMove(),o=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),s=n&&!r||o;this.setDisplayedOrVisible(s)}},yme=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Sme=(()=>{let e=class Rp{constructor(n){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Rp.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=n}setData(n){this.setDataCommon(n,!1)}updateData(n){this.setDataCommon(n,!0)}setDataCommon(n,o){let r=this.data;this.data=n,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();let s=this.createDataChangedEvent(n,r,o);this.localEventService?.dispatchEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(n,o,r){return{type:"dataChanged",node:this,oldData:o,newData:n,update:r}}getRowIndexString(){return this.rowIndex==null?(Wi("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Rp.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Rp.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){let n=new Rp(this.beans);return n.id=this.id,n.data=this.data,n.__daemon=!0,n.selected=this.selected,n.level=this.level,n}setDataAndId(n,o){let r=rt(this.id)?this.createDaemonNode():null,s=this.data;this.data=n,this.updateDataOnDetailNode(),this.setId(o),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);let l=this.createDataChangedEvent(n,s,!1);this.localEventService?.dispatchEvent(l)}checkRowSelectable(){let n=T6(this.beans.gos);this.setRowSelectable(n?n(this):!0)}setRowSelectable(n,o){if(this.selectable!==n){if(this.selectable=n,this.dispatchRowEvent("selectableChanged"),o)return;if(If(this.beans.gos)){let s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(n){let o=mv(this.beans.gos);if(o)if(this.data){let r=this.parent?.getRoute()??[];this.id=o({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Rp.ID_PREFIX_ROW_GROUP)&&Wi(`Row IDs cannot start with ${Rp.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=n}setRowTop(n){this.oldRowTop=this.rowTop,this.rowTop!==n&&(this.rowTop=n,this.dispatchRowEvent("topChanged"),this.setDisplayed(n!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(n){this.hovered=n}isHovered(){return this.hovered}setMaster(n){this.master!==n&&(this.master&&!n&&(this.expanded=!1),this.master=n,this.dispatchRowEvent("masterChanged"))}setGroup(n){this.group!==n&&(this.group&&!n&&(this.expanded=!1),this.group=n,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(n,o=!1){this.rowHeight=n,this.rowHeightEstimated=o,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(n,o){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[o.getId()]=n,n!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Pr(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let n=!1,o=!0,r=0,s=this.__autoHeights;if(s==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(u=>{let d=s[u.getId()];if(d==null)if(this.beans.columnModel.isColSpanActive()){let h=[];switch(u.getPinned()){case"left":h=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":h=this.beans.visibleColsService.getRightColsForRow(this);break;case null:h=this.beans.columnViewportService.getColsWithinViewport(this);break}if(h.includes(u)){n=!0;return}d=-1}else{n=!0;return}else o=!1;d>r&&(r=d)}),n)||((o||r<10)&&(r=Fp(this.beans.gos,this).height),r==this.rowHeight))return;this.setRowHeight(r),this.beans.rowModel.onRowHeightChangedDebounced?.()}setExpanded(n,o,r){if(this.expanded===n)return;this.expanded=n,this.dispatchRowEvent("expandedChanged");let s=Ft(We({},this.createGlobalRowEvent("rowGroupOpened")),{expanded:n,event:o||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s,r),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(n){return this.beans.gos.addGridCommonParams({type:n,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(n,o,r){let l=typeof n!="string"?n:this.beans.columnModel.getCol(n)??this.beans.columnModel.getColDefCol(n),c=this.beans.valueService.getValueForDisplay(l,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:l,colDef:l.getColDef(),data:this.data,node:this,oldValue:c,newValue:o,value:o,source:r}),!1;let u=this.beans.valueService.setValue(this,l,o,r);return this.dispatchCellChangedEvent(l,o,c),this.checkRowSelectable(),u}setGroupValue(n,o){let r=this.beans.columnModel.getCol(n);Ti(this.groupData)&&(this.groupData={});let s=r.getColId(),l=this.groupData[s];l!==o&&(this.groupData[s]=o,this.dispatchCellChangedEvent(r,o,l))}setAggData(n){let o=this.aggData;if(this.aggData=n,this.localEventService){let r=s=>{let l=this.aggData?this.aggData[s]:void 0,c=o?o[s]:void 0;if(l===c)return;let u=this.beans.columnModel.getCol(s);u&&this.dispatchCellChangedEvent(u,l,c)};for(let s in o)r(s);for(let s in n)(!o||!(s in o))&&r(s)}}updateHasChildren(){let n=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(wh(this.beans.gos)){let r=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");n=!this.stub&&!this.footer&&(r?!!s&&s(this.data):!!this.group)}n!==this.__hasChildren&&(this.__hasChildren=!!n,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(n,o,r){let s={type:"cellChanged",node:this,column:n,newValue:o,oldValue:r};this.localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(n){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(o=>o.depthFirstSearch(n)),n(this)}calculateSelectedFromChildren(){let n=!1,o=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){let s=this.childrenAfterGroup[r],l=s.isSelected();if(!s.selectable){let c=s.calculateSelectedFromChildren();if(c===null)continue;l=c}switch(l){case!0:n=!0;break;case!1:o=!0;break;default:return}}if(!(n&&o))return n?!0:o?!1:this.selectable?this.selected:null}setSelectedInitialValue(n){this.selected=n}dispatchRowEvent(n){this.localEventService?.dispatchEvent({type:n,node:this})}selectThisNode(n,o,r="api"){let s=!this.selectable&&n,l=this.selected===n;if(s||l)return!1;this.selected=n,this.dispatchRowEvent("rowSelected");let c=this.sibling;return c&&c.footer&&c.localEventService&&c.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent(Ft(We({},this.createGlobalRowEvent("rowSelected")),{event:o||null,source:r})),!0}setSelected(n,o=!1,r="api"){if(typeof r=="boolean"){tt("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:n,clearSelection:o,rangeSelect:!1,source:r})}setSelectedParams(n){return this.rowPinned?(tt("cannot select pinned rows"),0):this.id===void 0?(tt("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Ft(We({},n),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return!!this.rowPinned}addEventListener(n,o){this.localEventService||(this.localEventService=new fv),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new N6(this.beans.frameworkOverrides));let r=this.frameworkEventListenerService?.wrap(o)??o;this.localEventService.addEventListener(n,r)}removeEventListener(n,o){if(!this.localEventService)return;let r=this.frameworkEventListenerService?.unwrap(o)??o;this.localEventService.removeEventListener(n,r),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(tt("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;let n=this.beans.gos.getCallback("isFullWidthRow");return n?n({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let n=[],o=this;for(;o&&o.key!=null;)n.push(o.key),o=o.parent;return n.reverse()}createFooter(){if(this.sibling)return;let n=new Rp(this.beans);Object.keys(this).forEach(o=>{yme.has(o)||(n[o]=this[o])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(n){this.firstChild!==n&&(this.firstChild=n,this.dispatchRowEvent("firstChildChanged"))}setLastChild(n){this.lastChild!==n&&(this.lastChild=n,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(n){this.childIndex!==n&&(this.childIndex=n,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(n){this.displayed!==n&&(this.displayed=n,this.dispatchRowEvent("displayedChanged"))}setDragging(n){this.dragging!==n&&(this.dragging=n,this.dispatchRowEvent("draggingChanged"))}setHighlighted(n){this.highlighted!==n&&(this.highlighted=n,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(n){this.allChildrenCount!==n&&(this.allChildrenCount=n,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(n){this.rowIndex!==n&&(this.rowIndex=n,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(n){this.uiLevel!==n&&(this.uiLevel=n,this.dispatchRowEvent("uiLevelChanged"))}};return e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e})(),vh=Sme,_me=class extends Ye{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),i=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:i,columnVisible:i,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvancedFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",n=>this.setAdvancedFilterModel(n.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){let i=this.gos.get("doesExternalFilterPass");return typeof i=="function"?i(e):!1}setFilterModel(e,i="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(e,i)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){g6(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:i,additionalEventAttributes:n,columns:o=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):_s.resolve()).then(()=>{let r={source:i,type:"filterChanged",columns:o};n&&Tr(r,n),this.eventService.dispatchEvent(r),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!g6(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,i){return this.columnFilterService.createFilterParams(e,i)}isFilterAllowed(e){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,i){return this.columnFilterService?.getFloatingFilterCompDetails(e,i)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,i="api"){this.columnFilterService?.destroyFilter(e,i)}areFilterCompsDifferent(e,i){return!!this.columnFilterService?.areFilterCompsDifferent(e,i)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,i){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:i,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,i){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return this.columnFilterService?.getFilterInstance(e,i)}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){tt("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,i){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,i)??Promise.resolve()}setColDefPropertiesForDataType(e,i,n){this.columnFilterService?.setColDefPropertiesForDataType(e,i,n)}},xme=class extends Vi{constructor(e,i){super('<div class="ag-filter"></div>'),this.column=e,this.source=i,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??_s.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(i=>{i?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){let{column:i,source:n}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(i)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(o=>{let r=o.getGui();rt(r)||tt(`getGui method from filter returned ${r}; it should be a DOM element.`),this.appendChild(r),e&&this.eventService.dispatchEvent({type:"filterOpened",column:i,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(mr(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},NK="ag-resizer-wrapper",Ip=(e,i)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${i}"></div>`,Dme=`<div class="${NK}">
        ${Ip("eTopLeft","topLeft")}
        ${Ip("eTop","top")}
        ${Ip("eTopRight","topRight")}
        ${Ip("eRight","right")}
        ${Ip("eBottomRight","bottomRight")}
        ${Ip("eBottom","bottom")}
        ${Ip("eBottomLeft","bottomLeft")}
        ${Ip("eLeft","left")}
    </div>`,Eme=class extends Ye{constructor(e,i){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},i)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){let{clientHeight:e,clientWidth:i}=this.offsetParent,n=i/2-this.getWidth()/2,o=e/2-this.getHeight()/2;this.offsetElement(n,o)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:i,minWidth:n,width:o,minHeight:r,height:s,x:l,y:c}=this.config;this.offsetParent||this.setOffsetParent();let u=0,d=0,h=yl(this.element);if(h){let p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){let f=p.offsetWidth-this.element.offsetWidth;d=parseInt(g.minWidth,10)-f}if(g.minHeight!=null){let f=p.offsetHeight-this.element.offsetHeight;u=parseInt(g.minHeight,10)-f}}if(this.minHeight=r||u,this.minWidth=n||d,o&&this.setWidth(o),s&&this.setHeight(s),(!o||!s)&&this.refreshSize(),e)this.center();else if(l||c)this.offsetElement(l,c);else if(h&&i){let p=this.boundaryEl,g=!0;if(p||(p=this.findBoundaryElement(),g=!1),p){let f=parseFloat(p.style.top),y=parseFloat(p.style.left);g?this.offsetElement(isNaN(y)?0:y,isNaN(f)?0:f):this.setPosition(y,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,i){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(i=>{let o=!!e[i],r=this.getResizerElement(i),s={dragStartPixels:0,eElement:r,onDragStart:l=>this.onResizeStart(l,i),onDragging:this.onResize.bind(this),onDragStop:l=>this.onResizeEnd(l,i)};(o||!this.isAlive()&&!o)&&(o?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[i]=o)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:i}=this.lastSize;i!==-1&&(this.element.style.width=`${i}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:i}=this.config,n=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)zy(n,e),e=bK(n),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):i?zy(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:i}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:o.top,l=e?0:r.top,c=0;if(i){let d=this.element.parentElement;if(d){let{bottom:h}=d.getBoundingClientRect();c=h-o.bottom}}return n+l-s-c}getWidth(){return this.element.offsetWidth}setWidth(e){let i=this.element,{popup:n}=this.config,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)bl(i,e),e=s3(i),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(o?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?bl(i,e):(i.style.width=`${e}px`,i.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,i=0){let{forcePopupParentAsOffsetParent:n}=this.config,o=n?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:i})}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let i=()=>{let n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,i){this.position.x=e,this.position.y=i}updateDragStartPosition(e,i){this.dragStartPosition={x:e,y:i}}calculateMouseMovement(e){let{e:i,isLeft:n,isTop:o,anywhereWithin:r,topBuffer:s}=e,l=i.clientX-this.dragStartPosition.x,c=i.clientY-this.dragStartPosition.y,u=this.shouldSkipX(i,!!n,!!r,l)?0:l,d=this.shouldSkipY(i,!!o,s,c)?0:c;return{movementX:u,movementY:d}}shouldSkipX(e,i,n,o){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:r.left,u=c<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return u?!0:(i?u=o<0&&e.clientX>c+s.left||o>0&&e.clientX<c+s.left:n?u=o<0&&e.clientX>l.right||o>0&&e.clientX<c+s.left:u=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,u)}shouldSkipY(e,i,n=0,o){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:r.top,u=c<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return u?!0:(i?u=o<0&&e.clientY>c+s.top+n||o>0&&e.clientY<c+s.top:u=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,u)}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let n=new DOMParser().parseFromString(Dme,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${NK}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");let{popup:n,forcePopupParentAsOffsetParent:o}=this.config;!n&&!o&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],i=0,n=0;for(let o=0;o<e.length;o++){let r=e[o],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let l=this.minHeight||0,c=this.minWidth||0;if(s){let u=window.getComputedStyle(r);u.minHeight&&(l=parseInt(u.minHeight,10)),u.minWidth&&(c=parseInt(u.minWidth,10))}else l=r.offsetHeight,c=r.offsetWidth;i+=l,n+=c}return{height:i,width:n}}applySizeToSiblings(e){let i=null,n=this.getSiblings();if(n){for(let o=0;o<n.length;o++){let r=n[o];r!==i&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(i=n[o+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:i,forcePopupParentAsOffsetParent:n}=this.config,{isTop:o,isRight:r,isBottom:s,isLeft:l}=this.currentResizer,c=r||l,u=s||o,{movementX:d,movementY:h}=this.calculateMouseMovement({e,isLeft:l,isTop:o}),p=this.position.x,g=this.position.y,f=0,y=0;if(c&&d){let M=l?-1:1,k=this.getWidth(),G=k+d*M,J=!1;l&&(f=k-G,(p+f<=0||G<=this.minWidth)&&(J=!0,f=0)),J||this.setWidth(G)}if(u&&h){let M=o?-1:1,k=this.getHeight(),G=k+h*M,J=!1;o?(y=k-G,(g+y<=0||G<=this.minHeight)&&(J=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&k<G&&this.getMinSizeOfSiblings().height+G>this.element.parentElement.offsetHeight&&(J=!0),J||this.setHeight(G)}this.updateDragStartPosition(e.clientX,e.clientY),((i||n)&&f||y)&&this.offsetElement(p+f,g+y)}onResizeEnd(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:i,y:n}=this.position,o;this.config.calculateTopBuffer&&(o=this.config.calculateTopBuffer());let{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:o});this.offsetElement(i+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Ime=(()=>{let e=class BK extends Ye{constructor(n,o={}){super(),this.eFocusableElement=n,this.callbacks=o,this.callbacks=We({shouldStopEventPropagation:()=>!1,onTabKeyDown:r=>{if(r.defaultPrevented)return;let s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r.shiftKey);s&&(s.focus(),r.preventDefault())}},o)}wireBeans(n){this.focusService=n.focusService}postConstruct(){this.eFocusableElement.classList.add(BK.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(n){this.addManagedElementListeners(n,{keydown:o=>{if(!(o.defaultPrevented||mh(o))){if(this.callbacks.shouldStopEventPropagation(o)){hv(o);return}o.key===Qe.TAB?this.callbacks.onTabKeyDown(o):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(o)}}})}};return e.FOCUS_MANAGED_CLASS="ag-focus-managed",e})(),Rf=Ime,VK={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Q6(e,i){return d3(e)?(e.debounceMs!=null&&tt("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:i}function d3(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var Mme=class extends Vi{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=ft,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Rf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Eme(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);let n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=d3(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=d3(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,i){let{buttons:n,readOnly:o}=i??{},{buttons:r,readOnly:s}=e;if(o===s&&Uy(n,r))return;let l=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(mr(this.eButtonsPanel),this.buttonListeners.forEach(d=>d()),this.buttonListeners=[]):l&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!l){this.eButtonsPanel&&Zs(this.eButtonsPanel);return}let c=document.createDocumentFragment(),u=d=>{let h,p;switch(d){case"apply":h=this.translate("applyFilter"),p=y=>this.onBtApply(!1,!1,y);break;case"clear":h=this.translate("clearFilter"),p=()=>this.onBtClear();break;case"reset":h=this.translate("resetFilter"),p=()=>this.onBtReset();break;case"cancel":h=this.translate("cancelFilter"),p=y=>{this.onBtCancel(y)};break;default:tt("Unknown button type specified");return}let f=Xy(`<button
                    type="${d==="apply"?"submit":"button"}"
                    data-ref="${d}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${h}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(f,{click:p})),c.append(f)};r.forEach(d=>u(d)),this.eButtonsPanel.append(c),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){let e=Q6(this.providedFilterParams,this.getDefaultDebounceMs()),i=Pr(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,i()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,i){let n=()=>{this.onUiChanged(!1,"prevent"),i?.()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let i=this.getModelFromUi();if(!this.isModelValid(i))return!1;let n=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(n,i)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,i=!1,n){n&&n.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"});let{closeOnApply:o}=this.providedFilterParams;o&&this.applyActive&&!e&&!i&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let i=e,n=i&&i.key,o;(n==="Enter"||n==="Space")&&(o={keyboardEvent:i}),this.hidePopup(o),this.hidePopup=null}onUiChanged(e=!1,i){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let n=this.isModelValid(this.getModelFromUi()),o=this.queryForHtmlElement('[data-ref="applyFilterButton"]');o&&Qy(o,!n)}e&&!i||i==="immediately"?this.onBtApply(e):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;let i=e==="floatingFilter"||e==="columnFilter",{positionableFeature:n,gos:o}=this;i?(n.restoreLastSize(),n.setResizable(o.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){let i=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,i),!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,VK[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},Rme=class extends K6{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},kme=class extends Vi{constructor(e="default",i=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=i,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let i=e.key;switch(i){case Qe.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case Qe.DOWN:case Qe.UP:e.preventDefault(),this.navigate(i);break;case Qe.PAGE_DOWN:case Qe.PAGE_UP:case Qe.PAGE_HOME:case Qe.PAGE_END:e.preventDefault(),this.navigateToPage(i);break}}navigate(e){let i=e===Qe.DOWN,n;if(!this.highlightedEl)n=this.itemEls[i?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),n=this.itemEls[r]}this.highlightItem(n)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;let i=this.itemEls.indexOf(this.highlightedEl),n=this.options.length-1,o=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/o),s=-1;e===Qe.PAGE_HOME?s=0:e===Qe.PAGE_END?s=n:e===Qe.PAGE_DOWN?s=Math.min(i+r,n):e===Qe.PAGE_UP&&(s=Math.max(i-r,0)),s!==-1&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){let{value:i,text:n}=e,o=n||i;return this.options.push({value:i,text:o}),this.renderOption(i,o),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Zs(e)}),this.itemEls=[]}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((i,n)=>{nfe(i,n+1),ife(i,e.length)})}renderOption(e,i){let n=co(this.gos),o=n.createElement("div");ss(o,"option"),o.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let r=n.createElement("span");o.appendChild(r),r.textContent=i,this.unFocusable||(o.tabIndex=-1),this.itemEls.push(o),this.addManagedListeners(o,{mouseover:()=>this.highlightItem(o),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new vv({getTooltipValue:()=>i,getGui:()=>o,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(o)}setValue(e,i){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(i),this;let n=this.options.findIndex(o=>o.value===e);if(n!==-1){let o=this.options[n];this.value=o.value,this.displayValue=o.text,this.highlightItem(this.itemEls[n]),i||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(i=>i.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!yl(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),r3(this.highlightedEl,!0);let i=this.getGui(),{scrollTop:n,clientHeight:o}=i,{offsetTop:r,offsetHeight:s}=e;(r+s>n+o||r<n)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!yl(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),r3(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Ame=class extends kK{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=ft,this.eWrapper=ft,this.eDisplayField=ft,this.eIcon=ft,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:i,maxPickerHeight:n,variableWidth:o,minPickerWidth:r,maxPickerWidth:s}=e;i!=null&&(this.pickerGap=i),this.variableWidth=!!o,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let i=this.getAriaElement();this.addManagedElementListeners(i,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:o}=this.config;if(n){let r=xs(n,this.gos);r&&this.eIcon.appendChild(r)}o!=null&&this.setInputWidth(o)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),o3(e,!1),this.ariaRole&&ss(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let i=this.getFocusableElement();if(i!==this.eWrapper&&e?.target===i)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Qe.UP:case Qe.DOWN:case Qe.ENTER:case Qe.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Qe.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let i=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:n,pickerAriaLabelValue:o,modalPicker:r=!0}=this.config,s={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let g=Uq(this.gos);this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:i(n,o),anchorToElement:this.eWrapper};e.style.position="absolute";let l=this.popupService.addPopup(s),{maxPickerHeight:c,minPickerWidth:u,maxPickerWidth:d,variableWidth:h}=this;h?(u&&(e.style.minWidth=u),e.style.width=U6(s3(this.eWrapper)),d&&(e.style.maxWidth=d)):u3(e,d??s3(this.eWrapper));let p=c??`${j6(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",p),this.alignPickerToComponent(),l.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerType:e}=this.config,{pickerGap:i}=this,n=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:i})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let i=this.getAriaElement();o3(i,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return u3(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},X6=class extends Ame{constructor(e){super(We({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:i,placeholder:n}=this.config;e!=null&&this.addOptions(e),i!=null&&this.setValue(i,!0),n&&i==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new kme("select",!0)),this.listComponent.setParentComponent(this);let e=this.listComponent.getAriaElement(),i=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",i),ufe(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:i}=e;switch(i===Qe.TAB&&this.hidePicker(),i){case Qe.ENTER:case Qe.UP:case Qe.DOWN:case Qe.PAGE_UP:case Qe.PAGE_DOWN:case Qe.PAGE_HOME:case Qe.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Qe.ESCAPE:super.onKeyDown(e);break;case Qe.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(i=>this.addOption(i)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,i,n){if(this.value===e||!this.listComponent)return this;if(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return r==null&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,i)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Fme={selector:"AG-SELECT",component:X6},HK=class{constructor(){this.customFilterOptions={}}init(e,i){this.filterOptions=e.filterOptions||i,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;let i=[["displayKey"],["displayName"],["predicate","test"]],n=o=>o.some(r=>e[r]!=null)?!0:(tt(`ignoring FilterOptionDef as it doesn't contain one of '${o}'`),!1);if(!i.every(n)){this.filterOptions=this.filterOptions.filter(o=>o===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){let i=this.filterOptions[0];typeof i=="string"?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:tt("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else tt("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},zK=class extends Mme{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){let i=this.optionsFactory.getCustomOption(e);if(i){let{numberOfInputs:o}=i;return o??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((i,n)=>{n===0?i.setValue(e,!0):i.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;let n=!e.operator,o=!i.operator;if(!n&&o||n&&!o)return!1;let s;if(n){let l=e,c=i;s=this.areSimpleModelsEqual(l,c)}else{let l=e,c=i;s=l.operator===c.operator&&Lp(l.conditions,c.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return s}shouldRefresh(e){let i=this.getModel(),n=i?i.conditions??[i]:null,o=e.filterOptions?.map(s=>typeof s=="string"?s:s.displayKey)??this.getDefaultFilterOptions();return!(!(!n||n.every(s=>o.find(l=>l===s.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let n=e,o=n.conditions;o==null&&(o=[],tt("Filter model is missing 'conditions'"));let r=this.validateAndUpdateConditions(o),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let c=s;c<r;c++)this.createJoinOperatorPanel(),this.createOption();let l=n.operator==="OR";this.eJoinOperatorsAnd.forEach(c=>c.setValue(!l,!0)),this.eJoinOperatorsOr.forEach(c=>c.setValue(l,!0)),o.forEach((c,u)=>{this.eTypes[u].setValue(c.type,!0),this.setConditionIntoUi(c,u)})}else{let n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),_s.resolve()}validateAndUpdateConditions(e){let i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),tt('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i}doesFilterPass(e){let i=this.getModel();if(i==null)return!0;let{operator:n}=i,o=[];if(n){let s=i;o.push(...s.conditions??[])}else o.push(i);return o[n&&n==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new HK,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(tt('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(tt('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(tt('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){let e=this.createManagedBean(new X6);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);let n=this.getNumConditions()-1;this.forEachPositionInput(n,o=>this.resetInput(o)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let o=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(i,o,r),this.resetJoinOperatorOr(n,o,r),this.isReadOnly()||(i.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,i,n){let o=this.createManagedBean(new Rme);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass(`ag-filter-condition-operator-${n}`),i.appendChild(o.getGui()),o}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){let e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(i=>typeof i=="string"?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(i=>{e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:i}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(i)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,i=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{let n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);let o=e+1,r=n-o;r>0&&this.removeConditionsAndOperators(o,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,i){this.eTypes.forEach((o,r)=>{let s=this.isConditionDisabled(r,e);o.setDisabled(s||this.filterListOptions.length<=1),r===1&&(Qy(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((o,r)=>{Ln(o,this.isConditionBodyVisible(r))});let n=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(o=>{o.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(o=>{o.setValue(n,!0)}),this.forEachInput((o,r,s,l)=>{this.setElementDisplayed(o,r<l),this.setElementDisabled(o,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,i){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);let n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,i),this.removeComponents(this.eJoinOperatorsAnd,n,i),this.removeComponents(this.eJoinOperatorsOr,n,i)}removeElements(e,i,n){this.removeItems(e,i,n).forEach(r=>Zs(r))}removeComponents(e,i,n){this.removeItems(e,i,n).forEach(r=>{Zs(r.getGui()),this.destroyBean(r)})}removeItems(e,i,n){return n==null?e.splice(i):e.splice(i,n)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{let i=this.getInputs(0)[0];if(!i)return;i instanceof bf&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let i=-1,n=-1,o=!1,r=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))i===-1&&(i=l,n=l);else{let c=l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1),u=l<i;(c||u)&&(this.removeConditionsAndOperators(l,1),o=!0,u&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,i){let n=this.translate(e);if(F6(this.filterPlaceholder)){let o=this.filterPlaceholder,r=this.eTypes[i].getValue(),s=this.translate(r);n=o({filterOptionKey:r,filterOption:s,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc();this.forEachInput((i,n,o,r)=>{if(!(i instanceof bf))return;let s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",l=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(s,o)),i.setInputAriaLabel(l)})}setElementValue(e,i,n){e instanceof bf&&e.setValue(i!=null?String(i):null,!0)}setElementDisplayed(e,i){e instanceof Vi&&Ln(e.getGui(),i)}setElementDisabled(e,i){e instanceof Vi&&Qy(e.getGui(),i)}attachElementOnChange(e,i){e instanceof bf&&e.onValueChange(i)}forEachInput(e){this.getConditionTypes().forEach((i,n)=>{this.forEachPositionTypeInput(n,i,e)})}forEachPositionInput(e,i){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,i)}forEachPositionTypeInput(e,i,n){let o=this.getNumberOfInputs(i),r=this.getInputs(e);for(let s=0;s<r.length;s++){let l=r[s];l!=null&&n(l,s,e,o)}}isConditionDisabled(e,i){return this.isReadOnly()?!0:e===0?!1:e>i+1}isConditionBodyVisible(e){let i=this.getConditionType(e);return this.getNumberOfInputs(i)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,n)=>this.resetJoinOperatorAnd(i,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((i,n)=>this.resetJoinOperatorOr(i,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),_s.resolve()}resetType(e){let n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(e,i,n){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(e,i,n,o,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(o),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i)),this.eJoinOperatorsOr.forEach((e,i)=>this.updateJoinOperatorDisabled(e,i))}updateJoinOperatorDisabled(e,i){e.setDisabled(this.isReadOnly()||i>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,i){let n=this.mapValuesFromModel(e);this.forEachInput((o,r,s)=>{s===i&&this.setElementValue(o,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((i,n,o)=>{this.setElementValue(i,n===0&&o===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,i){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,i){let n=this.getCellValue(e.node),o=this.mapValuesFromModel(i),r=this.optionsFactory.getCustomOption(i.type),s=this.evaluateCustomFilter(r,o,n);return s??(n==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(o,n,i,e))}evaluateCustomFilter(e,i,n){if(e==null)return;let{predicate:o}=e;if(o!=null&&!i.some(r=>r==null))return o(i,n)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},GK=class extends zK{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,i,n){let o=this.comparator(),r=e[0]!=null?o(e[0],i):0;switch(n.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{let s=o(e[1],i);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case"blank":return this.isBlank(i);case"notBlank":return!this.isBlank(i);default:return tt('Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},Tme=65,Pme=67,Lme=86,Ome=68,Nme=90,Bme=89;function WK(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function D6(e,i,n,o,r){let s=o?o.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;let l=e.addGridCommonParams({event:i,editing:r,column:o,node:n,data:n.data,colDef:o.getColDef()});return!!(s&&s(l))}function Vme(e,i,n,o){let r=o.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;if(!rt(s))return!1;let l=e.addGridCommonParams({colDef:r,column:o,headerRowIndex:n,event:i});return!!s(l)}function Hme(e){let{keyCode:i}=e,n;switch(i){case Tme:n=Qe.A;break;case Pme:n=Qe.C;break;case Lme:n=Qe.V;break;case Ome:n=Qe.D;break;case Nme:n=Qe.Z;break;case Bme:n=Qe.Y;break;default:n=e.code}return n}function zme(e,i=!1){return e===Qe.DELETE?!0:!i&&e===Qe.BACKSPACE?mK():!1}var kf=class extends bf{constructor(e,i="ag-text-field",n="text"){super(e,i,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,i){return this.eInput.value!==e&&(this.eInput.value=rt(e)?e:""),super.setValue(e,i)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),i=n=>{WK(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:i,paste:n=>{let o=n.clipboardData?.getData("text");o&&o.split("").some(r=>!e.test(r))&&n.preventDefault()}})}},m3={selector:"AG-INPUT-TEXT-FIELD",component:kf},J6=class extends kf{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{let r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";let{precision:e,min:i,max:n,step:o}=this.config;typeof e=="number"&&this.setPrecision(e),typeof i=="number"&&this.setMin(i),typeof n=="number"&&this.setMax(n),typeof o=="number"&&this.setStep(o)}onWheel(e){On(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let i=parseFloat(e);return this.min!=null&&i<this.min?e=this.min.toString():this.max!=null&&i>this.max&&(e=this.max.toString()),e}adjustPrecision(e,i){if(this.precision==null)return e;if(i){let o=parseFloat(e).toFixed(this.precision);return parseFloat(o).toString()}let n=String(e).split(".");if(n.length>1){if(n[1].length<=this.precision)return e;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,Xs(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Xs(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Xs(this.eInput,"step",e),this)}setValue(e,i){return this.setValueOrInputValue(n=>super.setValue(n,i),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(i=>super.setValue(i,!0),i=>{this.eInput.value=i},e)}setValueOrInputValue(e,i,n){if(rt(n)){let o=this.isScientificNotation(n);if(o&&this.eInput.validity.valid)return e(n);if(!o){n=this.adjustPrecision(n);let r=this.normalizeValue(n);o=n!=r}if(o)return i(n)}return e(n)}getValue(){if(!this.eInput.validity.valid)return;let e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Gme={selector:"AG-INPUT-NUMBER-FIELD",component:J6},jK=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],e4=class{constructor(e,i,n){this.localeService=e,this.optionsFactory=i,this.valueFormatter=n}getModelAsString(e){if(!e)return null;let i=e.operator!=null,n=this.localeService.getLocaleTextFunc();if(i){let o=e,s=(o.conditions??[]).map(c=>this.getModelAsString(c)),l=o.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(l,VK[l])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{let o=e,r=this.optionsFactory.getCustomOption(o.type),{displayKey:s,displayName:l,numberOfInputs:c}=r||{};return s&&l&&c===0?(n(s,l),l):this.conditionToString(o,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},UK=class extends e4{conditionToString(e,i){let{numberOfInputs:n}=i||{};return e.type=="inRange"||n===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function E6(e){let{allowedCharPattern:i}=e??{};return i??null}var Wme=class extends GK{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){let{filter:i,filterTo:n,type:o}=e||{};return[this.processValue(i),this.processValue(n)].slice(0,this.getNumberOfInputs(o))}getDefaultDebounceMs(){return 500}comparator(){return(e,i)=>e===i?0:e<i?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new UK(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return jK}setElementValue(e,i,n){let o=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;super.setElementValue(e,o)}createValueElement(){let e=E6(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),ss(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i}createFromToElement(e,i,n,o){let r=this.createManagedBean(o?new kf({allowedCharPattern:o}):new J6);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),i.push(r),e.appendChild(r.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}getValues(e){let i=[];return this.forEachPositionInput(e,(n,o,r,s)=>{o<s&&i.push(this.processValue(this.stringToFloat(n.getValue())))}),i}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let i=fh(e);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)}createCondition(e){let i=this.getConditionType(e),n={filterType:this.getFilterType(),type:i},o=this.getValues(e);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(i=>{if(!i.getInputElement().validity.valid){e=!0;return}}),e}},$K=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],qK=class extends e4{conditionToString(e,i){let{numberOfInputs:n}=i||{};return e.type=="inRange"||n===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function KK(e){let i=e&&e.trim();return i===""?e:i}var jme=class extends zK{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:i,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return i.indexOf(n)>=0;case"notContains":return i.indexOf(n)<0;case"equals":return i===n;case"notEqual":return i!=n;case"startsWith":return i.indexOf(n)===0;case"endsWith":{let o=i.lastIndexOf(n);return o>=0&&o===i.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new qK(this.localeService,this.optionsFactory)}getTextMatcher(){let e=this.textFilterParams.textCustomComparator;return e?(tt("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:i,value:n,filterText:o})=>e(i,n,o)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){let i=this.getConditionType(e),n={filterType:this.getFilterType(),type:i},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,i){let n=[];return this.forEachPositionInput(e,(o,r,s,l)=>{if(r<l){let c=fh(o.getValue());i&&this.textFilterParams.trimInput&&(c=KK(c)??null,o.setValue(c,!0)),n.push(c)}}),n}getDefaultFilterOptions(){return $K}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),ss(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,i,n){let o=this.createManagedBean(new kf);o.addCssClass(`ag-filter-${n}`),o.addCssClass("ag-filter-filter"),i.push(o),e.appendChild(o.getGui())}removeValueElements(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)}mapValuesFromModel(e){let{filter:i,filterTo:n,type:o}=e||{};return[i||null,n||null].slice(0,this.getNumberOfInputs(o))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,i,n,o){let r=e.map(g=>this.formatter(g))||[],s=this.formatter(i),{api:l,colDef:c,column:u,context:d,textFormatter:h}=this.textFilterParams;if(n.type==="blank")return this.isBlank(i);if(n.type==="notBlank")return!this.isBlank(i);let p={api:l,colDef:c,column:u,context:d,node:o.node,data:o.data,filterOption:n.type,value:s,textFormatter:h};return r.some(g=>this.matcher(Ft(We({},p),{filterText:g})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function YK(e){if(typeof e=="number")return e;if(typeof e=="string"){let i=parseInt(e);return isNaN(i)?void 0:i}}function fu(e,i=Number.MAX_VALUE){return n=>{let o=YK(n);if(!(o==null||o<e||o>i))return o}}function Wy(e,i){return e.toString().padStart(i,"0")}function Ume(e,i){let n=[];for(let o=e;o<=i;o++)n.push(o);return n}function $me(e,i,n){return typeof e!="number"?"":e.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}function Js(e,i=!0,n="-"){if(!e)return null;let o=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Wy(r,2)).join(n);return i&&(o+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Wy(r,2)).join(":")),o}var o6=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function jy(e,i="YYYY-MM-DD"){let n=Wy(e.getFullYear(),4),o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>o[e.getMonth()],MMM:()=>o[e.getMonth()].slice(0,3),MM:()=>Wy(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${o6(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${o6(e.getDate())}`,DD:()=>Wy(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${o6(e.getDay())}`,d:()=>`${e.getDay()}`},l=new RegExp(Object.keys(s).join("|"),"g");return i.replace(l,c=>c in s?s[c]():c)}function rs(e){if(!e)return null;let[i,n]=e.split(" ");if(!i)return null;let o=i.split("-").map(p=>parseInt(p,10));if(o.filter(p=>!isNaN(p)).length!==3)return null;let[r,s,l]=o,c=new Date(r,s-1,l);if(c.getFullYear()!==r||c.getMonth()!==s-1||c.getDate()!==l)return null;if(!n||n==="00:00:00")return c;let[u,d,h]=n.split(":").map(p=>parseInt(p,10));return u>=0&&u<24&&c.setHours(u),d>=0&&d<60&&c.setMinutes(d),h>=0&&h<60&&c.setSeconds(h),c}var ZK=class{constructor(e,i,n,o,r){this.alive=!0,this.context=e,this.eParent=o,i.getDateCompDetails(n).newAgStackInstance().then(c=>{if(!this.alive){e.destroyBean(c);return}this.dateComp=c,c&&(o.appendChild(c.getGui()),c.afterGuiAttached&&c.afterGuiAttached(),this.tempValue&&c.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r?.(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Ln(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){let i=!1;this.dateComp?.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(i=!0),!i&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&tt("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},QK=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],XK=class extends e4{constructor(e,i,n){super(i,n),this.dateFilterParams=e}conditionToString(e,i){let{type:n}=e,{numberOfInputs:o}=i||{},r=n=="inRange"||o===2,s=rs(e.dateFrom),l=rs(e.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){let u=s!==null?jy(s,c):"null",d=l!==null?jy(l,c):"null";return`${u}-${d}`}return s!=null?jy(s,c):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Dq=1e3,Eq=1/0,qme=class extends GK{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Dq,this.maxValidYear=Eq,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:i,dateTo:n,type:o}=e||{};return[i&&rs(i)||null,n&&rs(n)||null].slice(0,this.getNumberOfInputs(o))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,i){let n=i;return i==null||n<e?-1:n>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);let i=(n,o)=>{if(e[n]!=null)if(isNaN(e[n]))tt(`DateFilter ${n} is not a number`);else return e[n]==null?o:Number(e[n]);return o};this.minValidYear=i("minValidYear",Dq),this.maxValidYear=i("maxValidYear",Eq),this.minValidYear>this.maxValidYear&&tt("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:rs(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:rs(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&tt("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new XK(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){let i=new ZK(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,i){e.setDate(i)}setElementDisplayed(e,i){e.setDisplayed(i)}setElementDisabled(e,i){e.setDisabled(i)}getDefaultFilterOptions(){return QK}createValueElement(){let i=co(this.gos).createElement("div");return i.classList.add("ag-filter-body"),this.createFromToElement(i,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(i,this.eConditionPanelsTo,this.dateConditionToComps,"to"),i}createFromToElement(e,i,n,o){let s=co(this.gos).createElement("div");s.classList.add(`ag-filter-${o}`),s.classList.add(`ag-filter-date-${o}`),i.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s))}removeValueElements(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)}removeDateComps(e,i,n){this.removeItems(e,i,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let i=!0;return this.forEachInput((n,o,r,s)=>{r!==e||!i||o>=s||(i=i&&this.isValidDateValue(n.getDate()))}),i}areSimpleModelsEqual(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type}getFilterType(){return"date"}createCondition(e){let i=this.getConditionType(e),n={},o=this.getValues(e);return o.length>0&&(n.dateFrom=Js(o[0])),o.length>1&&(n.dateTo=Js(o[1])),We({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},n)}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(o=>{o.setInputPlaceholder(i),o.setInputAriaLabel(n)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){let i=[];return this.forEachPositionInput(e,(n,o,r,s)=>{o<s&&i.push(n.getDate())}),i}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},t4=class extends Ye{constructor(e,i,n,o){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=i,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=o,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Oi(this.colsSpanning):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let e=this.beans.gos.get("suppressColumnMoveAnimation"),i=rt(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),i=e.getLeft(),n=e.getOldLeft(),o=this.modifyLeftForPrintLayout(e,n),r=this.modifyLeftForPrintLayout(e,i);this.setLeft(o),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){let e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,i){if(!ir(this.beans.gos,"print")||e.getPinned()==="left")return i;let o=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){let r=this.beans.visibleColsService.getBodyContainerWidth();return o+r+i}return o+i}setLeft(e){if(rt(e)&&(this.eCell.style.left=`${e}px`),wo(this.columnOrGroup)){let i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&afe(this.ariaEl,i.length)}}},Kme="ag-column-first",Yme="ag-column-last";function JK(e,i,n,o){return Ti(e)?[]:Qme(e.headerClass,e,i,n,o)}function eY(e,i,n){e.addOrRemoveCssClass(Kme,n.isColAtEdge(i,"first")),e.addOrRemoveCssClass(Yme,n.isColAtEdge(i,"last"))}function Zme(e,i,n,o){return i.addGridCommonParams({colDef:e,column:n,columnGroup:o})}function Qme(e,i,n,o,r){if(Ti(e))return[];let s;if(typeof e=="function"){let l=Zme(i,n,o,r);s=e(l)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}var Xme=0,Jme=(()=>{let e=class tY extends Ye{constructor(n,o,r){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=n,this.parentRowCtrl=r,this.beans=o,this.instanceId=n.getUniqueId()+"-"+Xme++}wireBeans(n){this.pinnedWidthService=n.pinnedWidthService,this.focusService=n.focusService,this.userComponentFactory=n.userComponentFactory,this.ctrlsService=n.ctrlsService,this.dragAndDropService=n.dragAndDropService,this.menuService=n.menuService}postConstruct(){let n=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],n),this.addManagedEventListeners({overlayExclusiveChanged:n})}shouldStopEventPropagation(n){let{headerRowIndex:o,column:r}=this.focusService.getFocusedHeader();return Vme(this.gos,n,o,r)}getWrapperHasFocus(){return On(this.gos)===this.eGui}setGui(n,o){this.eGui=n,this.addDomData(o),o.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),o.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(n){let{wrapperElement:o,checkMeasuringCallback:r,compBean:s}=n,{animationFrameService:l,resizeObserverService:c,columnModel:u,gos:d}=this.beans,h=k=>{if(!this.isAlive()||!s.isAlive())return;let{paddingTop:G,paddingBottom:J,borderBottomWidth:$,borderTopWidth:_e}=Mf(this.getGui()),Fe=G+J+$+_e,$e=o.offsetHeight+Fe;if(k<5){let nt=co(d),lt=!nt||!nt.contains(o),Lt=$e==0;if(lt||Lt){l.requestAnimationFrame(()=>h(k+1));return}}u.setColHeaderHeight(this.column,$e)},p=!1,g,f=()=>{let k=this.column.isAutoHeaderHeight();k&&!p&&y(),!k&&p&&M()},y=()=>{p=!0,h(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),g=c.observeResize(o,()=>h(0))},M=()=>{p=!1,g&&g(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),g=void 0};f(),s.addDestroyFunc(()=>M()),s.addManagedListeners(this.column,{widthChanged:()=>p&&h(0)}),s.addManagedEventListeners({sortChanged:()=>{p&&window.setTimeout(()=>h(0))}}),r&&r(f)}onDisplayedColumnsChanged(){let{comp:n,column:o,beans:r,eGui:s}=this;!n||!o||!s||(eY(n,o,r.visibleColsService),gK(s,r.visibleColsService.getAriaColIndex(o)))}addResizeAndMoveKeyboardListeners(n){this.resizeFeature&&n.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let n=this.focusService.isHeaderFocusSuppressed();this.eGui&&Xs(this.eGui,"tabindex",n?null:"-1")}onGuiKeyDown(n){let o=On(this.gos),r=n.key===Qe.LEFT||n.key===Qe.RIGHT;if(this.isResizing&&(n.preventDefault(),n.stopImmediatePropagation()),o!==this.eGui||!n.shiftKey&&!n.altKey||((this.isResizing||r)&&(n.preventDefault(),n.stopImmediatePropagation()),!r))return;let s=n.key===Qe.LEFT!==this.gos.get("enableRtl"),l=LK[s?"Left":"Right"];if(n.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let c=this.getViewportAdjustedResizeDiff(n);this.resizeHeader(c,n.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(l)}getViewportAdjustedResizeDiff(n){let o=this.getResizeDiff(n);if(this.column.getPinned()){let s=this.pinnedWidthService.getPinnedLeftWidth(),l=this.pinnedWidthService.getPinnedRightWidth(),c=tS(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+l+o>c)if(c>s+l)o=c-s-l;else return 0}return o}getResizeDiff(n){let o=n.key===Qe.LEFT!==this.gos.get("enableRtl"),r=this.column.getPinned(),s=this.gos.get("enableRtl");return r&&s!==(r==="right")&&(o=!o),(o?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(n){let o=this.getWrapperHasFocus();switch(n.key){case Qe.PAGE_DOWN:case Qe.PAGE_UP:case Qe.PAGE_HOME:case Qe.PAGE_END:o&&n.preventDefault()}}addDomData(n){let o=tY.DOM_DATA_KEY_HEADER_CTRL;Ef(this.gos,this.eGui,o,this),n.addDestroyFunc(()=>Ef(this.gos,this.eGui,o,null))}getGui(){return this.eGui}focus(n){return this.eGui?(this.lastFocusEvent=n||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(n,o,r){let s=n??o;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault(),this.menuService.isHeaderContextMenuEnabled(r)&&this.menuService.showHeaderContextMenu(r,n,o),this.dispatchColumnMouseEvent("columnHeaderContextMenu",r)}dispatchColumnMouseEvent(n,o){this.eventService.dispatchEvent({type:n,column:o})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};return e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",e})(),v3=Jme,i4=class extends Ye{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,i){super(),this.columns=e,this.element=i}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},e0e=class extends v3{constructor(e,i,n){super(e,i,n),this.iconCreated=!1,this.column=e}setComp(e,i,n,o,r){this.comp=e,r=eS(this,this.beans.context,r),this.eButtonShowMainFilter=n,this.eFloatingFilterBody=o,this.setGui(i,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){let e=this.column.getColDef(),i=!!e.filter,n=!!e.floatingFilter;this.active=i&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=xs("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Rf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.localeService.getLocaleTextFunc();pv(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(On(this.gos)===this.eGui)return;let o=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(o){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),o.focus();return}let r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let i=this.beans.visibleColsService,n=this.column;do if(n=e?i.getColBefore(n):i.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);let i=this.getWrapperHasFocus();switch(e.key){case Qe.UP:case Qe.DOWN:i||e.preventDefault();case Qe.LEFT:case Qe.RIGHT:if(i)return;e.stopPropagation();case Qe.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Qe.ESCAPE:i||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&cv(e.relatedTarget,"ag-floating-filter");if(n&&o&&e.target===this.eGui){let s=this.lastFocusEvent,l=!!(s&&s.key===Qe.TAB);if(s&&l){let c=s.shiftKey;this.focusService.focusInto(this.eGui,c)}}let r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new i4([this.column],this.eGui));let i=()=>{if(!this.gos.get("columnHoverHighlight"))return;let n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:i}),i()}setupLeft(e){let i=new t4(this.column,this.eGui,this.beans);e.createManagedBean(i)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{filterManager:i}=this.beans,n=o=>{if(o?.source==="filterDestroyed"&&!this.isAlive())return;let r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){let l=i?.getCurrentFloatingFilterParentModel(this.column),c=o?Ft(We({},o),{columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}):null;s.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),i?.isFilterActive(this.column)&&n(null)}setupWidth(e){let i=()=>{let n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:i}),i()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let i=this.active;this.setupActive();let n=!i&&this.active;i&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let o=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!o?this.updateCompDetails(e,o,n):r.then(s=>{!s||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,o)?this.updateCompDetails(e,o,n):this.updateFloatingFilterParams(o)})}updateCompDetails(e,i,n){this.isAlive()&&(this.setCompDetails(i),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;let i=e.params;this.comp.getFloatingFilterComp()?.then(n=>{let o=!1;n?.refresh&&typeof n.refresh=="function"&&n.refresh(i)!==null&&(o=!0),!o&&n?.onParamsUpdated&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(i)!==null&&tt("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Xt="32.3.3";function t0e(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()}function i0e(e,i,n){return e.filterManager?.getFilterInstance(i,n)}function n0e(e,i){return e.filterManager?.getColumnFilterInstance(i)??Promise.resolve(void 0)}function o0e(e,i){let n=e.columnModel.getColDefCol(i);if(n)return e.filterManager?.destroyFilter(n,"api")}function r0e(e,i){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(i))}function s0e(e){return e.filterManager?.getFilterModel()??{}}function a0e(e,i){return e.filterManager?.getColumnFilterModel(i)??null}function l0e(e,i,n){return e.filterManager?.setColumnFilterModel(i,n)??Promise.resolve()}function c0e(e,i){let n=e.columnModel.getCol(i);if(!n){Wi(`column '${i}' not found`);return}e.menuService.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function u0e(e,i,n){if(i==null)return null;let o=null,{compName:r,jsComp:s,fwComp:l}=TK.getCompKeys(e,i,Z6);return r?o={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&l==null&&i.filter===!0&&(o=n()),o}var Iq={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Mq=["january","february","march","april","may","june","july","august","september","october","november","december"],d0e=class extends Ye{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=We({},this.gos.get("initialState")?.filter?.filterModel??{})}setFilterModel(e,i="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:i});return}let n=[],o=this.getFilterModel(!0);if(e){let r=new Set(Object.keys(e));this.allColumnFilters.forEach((s,l)=>{let c=e[l];n.push(this.setModelOnFilterWrapper(s.filterPromise,c)),r.delete(l)}),r.forEach(s=>{let l=this.columnModel.getColDefCol(s)||this.columnModel.getCol(s);if(!l){tt("setFilterModel() - no column found for colId: "+s);return}if(!l.isFilterAllowed()){tt("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+s);return}let c=this.getOrCreateFilterWrapper(l);if(!c){tt("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+s);return}n.push(this.setModelOnFilterWrapper(c.filterPromise,e[s]))})}else this.allColumnFilters.forEach(r=>{n.push(this.setModelOnFilterWrapper(r.filterPromise,null))});_s.all(n).then(()=>{let r=this.getFilterModel(!0),s=[];this.allColumnFilters.forEach((l,c)=>{let u=o?o[c]:null,d=r?r[c]:null;Uy(u,d)||s.push(l.column)}),s.length>0&&this.filterManager?.onFilterChanged({columns:s,source:i})})}setModelOnFilterWrapper(e,i){return new _s(n=>{e.then(o=>{typeof o.setModel!="function"&&(tt("filter missing setModel method, which is needed for setFilterModel"),n()),(o.setModel(i)||_s.resolve()).then(()=>n())})})}getFilterModel(e){let i={},{allColumnFilters:n,initialFilterModel:o}=this;return n.forEach((r,s)=>{let l=this.getModelFromFilterWrapper(r);rt(l)&&(i[s]=l)}),e||Object.entries(o).forEach(([r,s])=>{rt(s)&&!n.has(r)&&this.columnModel.getCol(r)?.isFilterAllowed()&&(i[r]=s)}),i}getModelFromFilterWrapper(e){let{filter:i}=e;return i?typeof i.getModel!="function"?(tt("filter API missing getModel method, which is needed for getFilterModel"),null):i.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,i){return this.doColumnFiltersPass(e,i,!0)}updateActiveFilters(){let e=s=>s?s.isFilterActive?s.isFilterActive():(tt("Filter is missing isFilterActive() method"),!1):!1,i=!!g6(this.gos),n=s=>{if(!s.isPrimary())return!0;let c=!this.columnModel.isPivotActive();return!s.isValueActive()||!c?!1:this.columnModel.isPivotMode()?!0:i},o=[],r=[];return this.forEachColumnFilter((s,l)=>{e(s)&&(n(l.column)?o.push(s):r.push(s))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,i){return this.forEachColumnFilter((n,o)=>o.column.setFilterActive(n.isFilterActive(),e,i))}forEachColumnFilter(e){return _s.all(Array.from(this.allColumnFilters.values()).map(i=>i.filterPromise.then(n=>e(n,i))))}doColumnFiltersPass(e,i,n){let{data:o,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,l=n?r:o;for(let c=0;c<s.length;c++){let u=s[c];if(!(u==null||u===i)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:l}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){let i=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){let{filterInstance:i,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(r=>{r&&r!==i&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:i})=>this.valueService.getValue(e,i,!0)}createGetValue(e){return(i,n)=>{let o=n?this.columnModel.getCol(n):e;return o?this.valueService.getValue(o,i,!0):void 0}}isFilterActive(e){let{filter:i}=this.cachedFilter(e)??{};return i?i.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);return i||(i=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,i)),i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let i;if(YN(this.gos))i="agSetColumnFilter";else{let n=this.dataTypeService?.getBaseDataType(e);n==="number"?i="agNumberColumnFilter":n==="date"||n==="dateString"?i="agDateColumnFilter":i="agTextColumnFilter"}return i}getDefaultFloatingFilter(e){let i;if(YN(this.gos))i="agSetColumnFloatingFilter";else{let n=this.dataTypeService?.getBaseDataType(e);n==="number"?i="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?i="agDateColumnFloatingFilter":i="agTextColumnFloatingFilter"}return i}createFilterInstance(e,i){let n=this.getDefaultFilter(e),o=e.getColDef(),r,s=Ft(We({},this.createFilterParams(e,o)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:c=>this.filterChangedCallbackFactory(r,e)(c),doesRowPassOtherFilter:c=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,c):!0}),l=this.userComponentFactory.getFilterDetails(o,s,n);return l?{filterPromise:()=>{let c=l.newAgStackInstance();return c?.then(u=>{r=u,i&&(i.filter=u)}),c},compDetails:l}:{filterPromise:null,compDetails:null}}createFilterParams(e,i){return this.gos.addGridCommonParams({column:e,colDef:tK(i),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){let i={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:n,compDetails:o}=this.createFilterInstance(e,i);return i.filterPromise=n?.()??null,i.compDetails=o,i}onColumnsChanged(){let e=[];this.allColumnFilters.forEach((n,o)=>{let r;n.column.isPrimary()?r=this.columnModel.getColDefCol(o):r=this.columnModel.getCol(o),!(r&&r===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(o))});let i=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!i?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(i=>{i.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(i)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof n?.isFilterAllowed=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,i){let n=u=>{let d=this.getOrCreateFilterWrapper(e)?.filterPromise;d?.then(h=>{u(Gy(h))})},o=e.getColDef(),r=Ft(We({},this.createFilterParams(e,o)),{filterChangedCallback:()=>n(u=>this.filterChangedCallbackFactory(u,e)())}),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,Z6,r),l=u0e(this.frameworkOverrides,o,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");let c={column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:i,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,c,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,i="api"){let n=e.getColId(),o=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],o&&(this.disposeFilterWrapper(o,i),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){let i=this.allColumnListeners.get(e);i&&(this.allColumnListeners.delete(e),i())}disposeFilterWrapper(e,i){e.filterPromise.then(n=>{this.destroyBean(n),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:i,column:e.column})})}filterModifiedCallbackFactory(e,i){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:i,filterInstance:e})}}filterChangedCallbackFactory(e,i){return n=>{let o=n?.source??"columnFilter",r={filter:e,additionalEventAttributes:n,columns:[i],source:o};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){let i=this.allColumnFilters.get(e);if(!i)return;let n=i.column,{compDetails:o}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(i.compDetails,o)){this.destroyFilter(n,"paramsUpdated");return}let r=n.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(n,"paramsUpdated");return}i.filterPromise.then(s=>{(s?.refresh?s.refresh(We(Ft(We({},this.createFilterParams(n,n.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:c=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,c):!0}),r)):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,i){let n=e.getColId();this.allColumnFilters.set(n,i),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,i){if(!i||!e)return!0;let{componentClass:n}=e,{componentClass:o}=i;return!(n===o||n?.render&&o?.render&&n.render===o.render)}hasFloatingFilters(){return this.columnModel.getCols().some(i=>i.getColDef().floatingFilter)}getFilterInstance(e,i){i&&this.getFilterInstanceImpl(e).then(n=>{let o=Gy(n);i(o)})}getColumnFilterInstance(e){return new Promise(i=>{this.getFilterInstanceImpl(e).then(n=>{i(Gy(n))})})}getFilterInstanceImpl(e){let i=this.columnModel.getColDefCol(e);return i?this.getOrCreateFilterWrapper(i)?.filterPromise??_s.resolve(null):_s.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:i})=>this.setFilterModel(e,i)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:i,resolve:n})=>{this.setColumnFilterModel(e,i).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){let i=this.getFilterWrapper(e);return i?this.getModelFromFilterWrapper(i):null}setColumnFilterModel(e,i){if(this.dataTypeService?.isPendingInference()){let s=()=>{},l=new Promise(c=>{s=c});return this.columnFilterModelUpdateQueue.push({key:e,model:i,resolve:s}),l}let n=this.columnModel.getColDefCol(e),o=n?this.getOrCreateFilterWrapper(n):null;return o?(s=>new Promise(l=>{s.then(c=>l(c))}))(this.setModelOnFilterWrapper(o.filterPromise,i)):Promise.resolve()}getFilterWrapper(e){let i=this.columnModel.getColDefCol(e);return i?this.cachedFilter(i)??null:null}setColDefPropertiesForDataType(e,i,n){let o=YN(this.gos),r=this.localeService.getLocaleTextFunc(),s=l=>{let{filterParams:c}=e;e.filterParams=typeof c=="object"?We(We({},c),l):l};switch(i.baseDataType){case"number":{o&&s({comparator:(l,c)=>{let u=l==null?0:parseInt(l),d=c==null?0:parseInt(c);return u===d?0:u>d?1:-1}});break}case"boolean":{s(o?{valueFormatter:l=>rt(l.value)?r(String(l.value),l.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,c)=>c,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,c)=>c===!1,numberOfInputs:0}]});break}case"date":{o&&s({valueFormatter:l=>{let c=n(l);return rt(c)?c:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,c)=>{if(c===1&&l!=null){let u=Mq[Number(l)-1];return r(u,Iq[u])}return l??r("blanks","(Blanks)")}});break}case"dateString":{let l=i.dateParser;s(o?{valueFormatter:c=>{let u=n(c);return rt(u)?u:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:c=>{let u=l(c??void 0);return u?[String(u.getFullYear()),String(u.getMonth()+1),String(u.getDate())]:null},treeListFormatter:(c,u)=>{if(u===1&&c!=null){let d=Mq[Number(c)-1];return r(d,Iq[d])}return c??r("blanks","(Blanks)")}}:{comparator:(c,u)=>{let d=l(u);return u==null||d<c?-1:d>c?1:0}});break}case"object":{o?s({valueFormatter:l=>{let c=n(l);return rt(c)?c:r("blanks","(Blanks)")}}):e.filterValueGetter=l=>n({column:l.column,node:l.node,value:this.valueService.getValue(l.column,l.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function h0e(e){return!!e.filterManager?.isAnyFilterPresent()}function p0e(e,i="api"){e.filterManager?.onFilterChanged({source:i})}var g0e=class extends Vi{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[m3]),this.eFloatingFilterText=ft}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;let i=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${i} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(i=>{if(i.getModelAsString){let n=i.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},iY=class extends Vi{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}let i=e.operator,n;i?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,i=!0){this.optionsFactory=new HK,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),i||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;let n=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(n)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){let i=this.optionsFactory.getCustomOption(e),{numberOfInputs:n}=i||{};return n==null||n==1}isTypeEditable(e){let i=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0}getAriaLabel(e){let i=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();return`${i} ${n("ariaFilterInput","Filter Input")}`}},f0e=class extends iY{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[m3]),this.eReadOnlyText=ft,this.eDateWrapper=ft}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return QK}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new XK(this.filterParams,this.localeService,this.optionsFactory);let i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(i),i){if(e){let n=e;this.dateComp.setDate(rs(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ln(this.eDateWrapper,e),Ln(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=this.dateComp.getDate(),i=Js(e);this.params.parentFilterInstance(n=>{if(n){let o=rs(i);n.onFloatingFilterChanged(this.getLastType()||null,o)}})}getDateComponentParams(){let e=Q6(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Pr(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new ZK(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){let e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},m0e=class extends Vi{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[m3]),this.eDateInput=ft}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);let i=this.eDateInput.getInputElement();this.addManagedListeners(i,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||i.focus()},input:n=>{n.target===On(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){let i=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&wu(),i.type=n?"date":"text";let{minValidYear:o,maxValidYear:r,minValidDate:s,maxValidDate:l}=e.filterParams||{};if(s&&o&&tt("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),l&&r&&tt("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&l){let[c,u]=[s,l].map(d=>d instanceof Date?d:rs(d));c&&u&&c.getTime()>u.getTime()&&tt("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?i.min=jy(s):i.min=s:o&&(i.min=`${o}-01-01`),l?l instanceof Date?i.max=jy(l):i.max=l:r&&(i.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return rs(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Js(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:z6()||G6()||wu()&&fK()>=14.1}},nY=class extends Ye{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=ft,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new kf(this.params?.config));let i=this.eFloatingFilterTextInput.getGui();e.appendChild(i);let n=o=>this.valueChangedListener(o);this.addManagedListeners(i,{input:n,keydown:n})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,i){this.eFloatingFilterTextInput.setValue(e,i)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},oY=class extends iY{constructor(){super(...arguments),this.eFloatingFilterInputContainer=ft}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;let i=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=d3(this.params.filterParams),!this.isReadOnly()){let n=Q6(this.params.filterParams,this.getDefaultDebounceMs()),o=Pr(this.syncUpWithParentFilter.bind(this),n);this.floatingFilterInputService.setValueChangedListener(o)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let i=this.floatingFilterInputService.getValue();mr(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(i,!0)}syncUpWithParentFilter(e){let i=e.key===Qe.ENTER;if(this.applyActive&&!i)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=KK(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(o=>{o&&o.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},v0e=class extends Ye{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new J6),this.eFloatingFilterTextInput=this.createManagedBean(new kf),this.eFloatingFilterTextInput.setDisabled(!0);let i=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(n),this.setupListeners(i,o=>this.valueChangedListener(o)),this.setupListeners(n,o=>this.valueChangedListener(o))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,i){this.getActiveInputElement().setValue(e,i)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,i){this.addManagedListeners(e,{input:i,keydown:i})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},C0e=class extends oY{init(e){super.init(e),this.filterModelFormatter=new UK(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){E6(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return jK}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=E6(e.filterParams),this.allowedCharPattern?this.createManagedBean(new nY({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new v0e)}},w0e=class extends oY{init(e){super.init(e),this.filterModelFormatter=new qK(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return $K}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new nY)}};function b0e(e){return!!e.filterManager?.isQuickFilterPresent()}function y0e(e){return e.gos.get("quickFilterText")}function S0e(e){e.filterManager?.resetQuickFilterCache()}var _0e=class extends Ye{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){let e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",i=>this.setQuickFilter(i.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){let e=this.columnModel.isPivotMode(),i=this.columnModel.getAutoCols(),n=this.columnModel.getColDefCols(),o=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:n)??[];i&&(o=o.concat(i)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?o:o.filter(r=>r.isVisible()||r.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){let i=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(i,e):this.quickFilterParts.every(n=>i?this.doesRowPassQuickFilterCache(e,n):this.doesRowPassQuickFilterNoCache(e,n))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){let{quickFilter:e,parser:i}=this;e?this.quickFilterParts=i?i(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return rt(e)?Wn(this.gos)?e.toUpperCase():(tt("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){tt(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}let i=this.parseQuickFilter(e);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){let e=this.gos.get("quickFilterParser"),i=this.gos.get("quickFilterMatcher"),n=e!==this.parser||i!==this.matcher;this.parser=e,this.matcher=i,n&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,i){return this.colsForQuickFilter.some(n=>{let o=this.getQuickFilterTextForColumn(n,e);return rt(o)&&o.indexOf(i)>=0})}doesRowPassQuickFilterCache(e,i){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(i)>=0}doesRowPassQuickFilterMatcher(e,i){let n;e?(this.checkGenerateQuickFilterAggregateText(i),n=i.quickFilterAggregateText):n=this.getQuickFilterAggregateText(i);let{quickFilterParts:o,matcher:r}=this;return r(o,n)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,i){let n=this.valueService.getValue(e,i,!0),o=e.getColDef();if(o.getQuickFilterText){let r=this.gos.addGridCommonParams({value:n,node:i,data:i.data,column:e,colDef:o});n=o.getQuickFilterText(r)}return rt(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(e){let i=[];return this.colsForQuickFilter.forEach(n=>{let o=this.getQuickFilterTextForColumn(n,e);rt(o)&&i.push(o)}),i.join(`
`)}},n4={version:Xt,moduleName:"@ag-grid-community/filter-core",beans:[_me]},x0e={version:Xt,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:h0e,onFilterChanged:p0e},dependantModules:[n4]},C3={version:Xt,moduleName:"@ag-grid-community/column-filter",beans:[d0e],dependantModules:[n4]},D0e={version:Xt,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:t0e,getFilterInstance:i0e,getColumnFilterInstance:n0e,destroyFilter:o0e,setFilterModel:r0e,getFilterModel:s0e,getColumnFilterModel:a0e,setColumnFilterModel:l0e,showColumnFilter:c0e},dependantModules:[C3,x0e]},o4={version:Xt,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:e0e}],dependantModules:[C3]},Iut={version:Xt,moduleName:"@ag-grid-community/floating-filter",dependantModules:[o4,C3]},E0e={version:Xt,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:g0e}],dependantModules:[o4]},I0e={version:Xt,moduleName:"@ag-grid-community/simple-filter",dependantModules:[C3],userComponents:[{name:"agTextColumnFilter",classImp:jme},{name:"agNumberColumnFilter",classImp:Wme},{name:"agDateColumnFilter",classImp:qme},{name:"agDateInput",classImp:m0e}]},M0e={version:Xt,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[I0e,o4],userComponents:[{name:"agTextColumnFloatingFilter",classImp:w0e},{name:"agNumberColumnFloatingFilter",classImp:C0e},{name:"agDateColumnFloatingFilter",classImp:f0e}]},rY={version:Xt,moduleName:"@ag-grid-community/quick-filter-core",beans:[_0e],dependantModules:[n4]},R0e={version:Xt,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:b0e,getQuickFilter:y0e,resetQuickFilter:S0e},dependantModules:[rY]},k0e={version:Xt,moduleName:"@ag-grid-community/quick-filter",dependantModules:[rY,R0e]},A0e={version:Xt,moduleName:"@ag-grid-community/filter",dependantModules:[M0e,E0e,k0e,D0e]},r4=class extends Vi{constructor(e,i){super(e),this.ctrl=i}getCtrl(){return this.ctrl}},F0e=class extends r4{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=ft,this.eButtonWrapper=ft,this.eButtonShowMainFilter=ft}postConstruct(){let e=this.getGui(),i={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),addOrRemoveBodyCssClass:(n,o)=>this.eFloatingFilterBody.classList.toggle(n,o),setButtonWrapperDisplayed:n=>Ln(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(i,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},T0e=class extends r4{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=ft,this.eHeaderCompWrapper=ft,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){let e=this.getGui();((r,s)=>{s!=null&&s!=""?e.setAttribute(r,s):e.removeAttribute(r)})("col-id",this.column.getColId());let n={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setAriaSort:r=>r?lfe(e,r):cfe(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);let o=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",o)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let i=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(i,n))}afterCompCreated(e,i){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},P0e=class extends r4{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=ft,this.eHeaderCompWrapper=ft}postConstruct(){let e=this.getGui(),i=(o,r)=>r!=null?e.setAttribute(o,r):e.removeAttribute(o);e.setAttribute("col-id",this.ctrl.getColId());let n={addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),setHeaderWrapperHidden:o=>{o?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:o=>{o!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${o}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",o!=null)},setResizableDisplayed:o=>Ln(this.eResize,o),setWidth:o=>e.style.width=o,setAriaExpanded:o=>i("aria-expanded",o),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(e){let i=()=>this.destroyBean(e);if(!this.isAlive()){i();return}let n=this.getGui(),o=e.getGui();this.eHeaderCompWrapper.appendChild(o),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(n)}addOrRemoveHeaderWrapperStyle(e,i){let{eHeaderCompWrapper:n}=this;i?n.style.setProperty(e,i):n.style.removeProperty(e)}};var L0e=class extends Vi{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){pK(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:i=>this.getGui().style.height=i,setTop:i=>this.getGui().style.top=i,setHeaderCtrls:(i,n)=>this.setHeaderCtrls(i,n),setWidth:i=>this.getGui().style.width=i};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,i){if(!this.isAlive())return;let n=this.headerComps;if(this.headerComps={},e.forEach(o=>{let r=o.instanceId,s=n[r];delete n[r],s==null&&(s=this.createHeaderComp(o),this.getGui().appendChild(s.getGui())),this.headerComps[r]=s}),Ks(n,(o,r)=>{this.getGui().removeChild(r.getGui()),this.destroyBean(r)}),i){let o=Tp(this.headerComps);o.sort((s,l)=>{let c=s.getCtrl().getColumnGroupChild().getLeft(),u=l.getCtrl().getColumnGroupChild().getLeft();return c-u});let r=o.map(s=>s.getGui());xK(this.getGui(),r)}}createHeaderComp(e){let i;switch(this.ctrl.getType()){case"group":i=new P0e(e);break;case"filter":i=new F0e(e);break;default:i=new T0e(e);break}return this.createBean(i),i.setParentComponent(this),i}};var O0e=class extends Ye{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});let e=co(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,i){let n;if(typeof e=="string"?(n=this.columnModel.getCol(e),n||(n=this.visibleColService.getColumnGroup(e))):n=e,!n)return null;let r=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),s=Oi(r||[]).getType()==="filter",l=this.getHeaderRowCount()-1,c=-1,u=n;for(;u;)c++,u=u.getParent();let d=c;return i&&s&&d===l-1&&d++,d===-1?null:{headerRowIndex:d,column:n}}navigateVertically(e,i,n){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;let{headerRowIndex:o}=i,r=i.column,s=this.getHeaderRowCount(),l=e===0,{headerRowIndex:c,column:u,headerRowIndexWithoutSpan:d}=l?this.headerPositionUtils.getColumnVisibleParent(r,o):this.headerPositionUtils.getColumnVisibleChild(r,o),h=!1;return c<0&&(c=0,u=r,h=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!h&&!u?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:u},allowUserOverride:!0,event:n})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,i=!1,n){let o=this.focusService.getFocusedHeader(),r=e===2,s=this.gos.get("enableRtl"),l,c;if(this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,r!==s?(c="Before",l=this.headerPositionUtils.findHeader(o,c)):(c="After",l=this.headerPositionUtils.findHeader(o,c)),l||!i)return this.focusService.focusHeaderPosition({headerPosition:l,direction:c,fromTab:i,allowUserOverride:!0,event:n});if(i){let u=this.gos.getCallback("tabToNextHeader");if(u)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:l,direction:c})}return this.focusNextHeaderRow(o,c,n)}focusNextHeaderRow(e,i,n){let o=e.headerRowIndex,r=null,s;if(i==="Before"?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;let{column:l,headerRowIndex:c}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:c},direction:i,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,i="After"){if(e.getPinned())return;let n;if(wo(e)){let o=e.getDisplayedLeafColumns();n=i==="Before"?Oi(o):o[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},N0e=class extends Ye{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,i,n){this.comp=e,this.eGui=i,this.createManagedBean(new Rf(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();let o=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:o}),this.mockContextMenuForIPad(o),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){let{columnModel:e}=this,i=0,n=this.columnModel.getGroupRowsHeight().reduce((s,l)=>s+l,0),o=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(i+=e.getFloatingFiltersHeight()),i+=n,i+=o,this.headerHeight===i)return;this.headerHeight=i;let r=`${i+1}px`;this.comp.setHeightAndMinHeight(r),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){let e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){let i=this.visibleColsService.getAllCols().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){let i=this.gos.get("enableRtl"),n=e.shiftKey,o=n!==i?2:3;(this.headerNavigationService.navigateHorizontally(o,!0,e)||!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n,!0))&&e.preventDefault()}handleKeyDown(e){let i=null;switch(e.key){case Qe.LEFT:i=2;case Qe.RIGHT:{rt(i)||(i=3),this.headerNavigationService.navigateHorizontally(i,!1,e)&&e.preventDefault();break}case Qe.UP:i=0;case Qe.DOWN:{rt(i)||(i=1),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:i}=e;!i&&this.eGui.contains(On(this.gos))||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,i,n){if(!e&&!n||!this.menuService.isHeaderContextMenuEnabled())return;let{target:o}=e??i;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,e,n)}mockContextMenuForIPad(e){if(!Op())return;let i=new Ap(this.eGui),n=o=>{e(void 0,o.touchStart,o.touchEvent)};this.addManagedListeners(i,{longTap:n}),this.addDestroyFunc(()=>i.destroy())}},s4=class extends Ye{constructor(e,i=!1){super(),this.callback=e,this.addSpacer=i}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=ir(this.gos,"print"),i=this.visibleColsService.getBodyContainerWidth(),n=this.visibleColsService.getColsLeftWidth(),o=this.visibleColsService.getDisplayedColumnsRightWidth(),r;e?r=i+n+o:(r=i,this.addSpacer&&(this.gos.get("enableRtl")?n:o)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},B0e=class extends Ye{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let i=e.dragItem.columns;i&&i.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function sY(e){let{isFromHeader:i,fromLeft:n,xPosition:o,fromEnter:r,fakeEvent:s,pinned:l,gos:c,columnModel:u,columnMoveService:d,visibleColsService:h}=e,{allMovingColumns:p}=e;if(i){let Fe=[];p.forEach(Pe=>{let $e=null,nt=Pe.getParent();for(;nt!=null&&nt.getDisplayedLeafColumns().length===1;)$e=nt,nt=nt.getParent();$e!=null?(!!$e.getColGroupDef()?.marryChildren?$e.getProvidedColumnGroup().getLeafColumns():$e.getLeafColumns()).forEach(Jt=>{Fe.includes(Jt)||Fe.push(Jt)}):Fe.includes(Pe)||Fe.push(Pe)}),p=Fe}let g=p.slice();u.sortColsLikeCols(g);let f=G0e({movingCols:g,draggingRight:n,xPosition:o,pinned:l,gos:c,columnModel:u,visibleColsService:h}),y=V0e(g,u);if(f.length===0)return;let M=f[0],k=y!==null&&!r;if(i&&(k=y!==null),k&&!s&&(!n&&M>=y||n&&M<=y))return;let G=h.getAllCols(),J=[],$=null;for(let Fe=0;Fe<f.length;Fe++){let Pe=f[Fe],$e=d.getProposedColumnOrder(g,Pe);if(!d.doesOrderPassRules($e))continue;let nt=$e.filter(Lt=>G.includes(Lt));if($===null)$=nt;else if(!Lp(nt,$))break;let lt=H0e($e);J.push({move:Pe,fragCount:lt})}if(J.length===0)return;J.sort((Fe,Pe)=>Fe.fragCount-Pe.fragCount);let _e=J[0].move;if(!(_e>u.getCols().length-p.length))return{columns:p,toIndex:_e}}function a4(e){let{columns:i,toIndex:n}=sY(e)||{},{finished:o,columnMoveService:r}=e;return!i||n==null?null:(r.moveColumns(i,n,"uiColumnMoved",o),o?null:{columns:i,toIndex:n})}function V0e(e,i){let n=i.getCols(),o=wge(e.map(u=>n.indexOf(u))),r=o[0];return Oi(o)-r!==o.length-1?null:r}function H0e(e){function i(o){let r=[],s=o.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let n=0;for(let o=0;o<e.length-1;o++){let r=i(e[o]),s=i(e[o+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(l=>{s.indexOf(l)===-1&&n++})}return n}function z0e(e,i){switch(i){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function G0e(e){let{movingCols:i,draggingRight:n,xPosition:o,pinned:r,gos:s,columnModel:l,visibleColsService:c}=e;if(s.get("suppressMovableColumns")||i.some($=>$.getColDef().suppressMovable))return[];let d=z0e(c,r),h=l.getCols(),p=d.filter($=>_f(i,$)),g=d.filter($=>!_f(i,$)),f=h.filter($=>!_f(i,$)),y=0,M=o;if(n){let $=0;p.forEach(_e=>$+=_e.getActualWidth()),M-=$}if(M>0){for(let $=0;$<g.length;$++){let _e=g[$];if(M-=_e.getActualWidth(),M<0)break;y++}n&&y++}let k;if(y>0){let $=g[y-1];k=f.indexOf($)+1}else k=f.indexOf(g[0]),k===-1&&(k=0);let G=[k],J=($,_e)=>$-_e;if(n){let $=k+1,_e=h.length-1;for(;$<=_e;)G.push($),$++;G.sort(J)}else{let $=k,_e=h.length-1,Fe=h[$];for(;$<=_e&&d.indexOf(Fe)<0;)$++,G.push($),Fe=h[$];$=k-1;let Pe=0;for(;$>=Pe;)G.push($),$--;G.sort(J).reverse()}return G}function h3(e){let{pinned:i,fromKeyboard:n,gos:o,ctrlsService:r,useHeaderRow:s,skipScrollPadding:l}=e,c=r.getHeaderRowContainerCtrl(i)?.getViewportElement(),{x:u}=e;return c?(n&&(u-=c.getBoundingClientRect().left),o.get("enableRtl")&&(s&&(c=c.querySelector(".ag-header-row")),u=c.clientWidth-u),i==null&&!l&&(u+=r.get("center").getCenterViewportScrollLeft()),u):0}function uv(e,i){for(let n of e)n.setMoving(i,"uiColumnMoved")}var Rq=7,I6=100,W2=I6/2,W0e=5,j0e=100,U0e=class extends Ye{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!rt(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let e=this.lastDraggingEvent?.dragItem.columns??[];for(let i of e){let n=i.getPinned();if(i.getColDef().lockPinned){if(n==this.pinned)return"move";continue}if(n===this.pinned||!this.pinned)return"move";if(!n&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){let i=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{let o=e.dragItem.visibleState,r=(i||[]).filter(s=>o[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,i=!1,n=!1,o=!1){let r=this.gos.get("suppressMoveWhenColumnDragging");if(o&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!o&&Ti(e.hDirection))return;let{pinned:s,gos:l,ctrlsService:c}=this,u=h3({x:e.x,pinned:s,gos:l,ctrlsService:c});i||this.checkCenterForScrolling(u),r?this.handleColumnDragWhileSuppressingMovement(e,i,n,u,o):this.handleColumnDragWhileAllowingMovement(e,i,n,u,o)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,i,n){if(!e)return;let o=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(o,i,n)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;let{columns:e,toIndex:i}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,i,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,i,n,o,r){let s=this.getAllMovingColumns(e,!0);if(r){let l=this.isAttemptingToPin(s);l&&this.attemptToPinColumns(s,void 0,!0);let{fromLeft:c,xPosition:u}=this.getNormalisedXPositionInfo(s,l)||{};if(c==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:u,fromEnter:i,fakeEvent:n,fromLeft:c})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,o)}}handleColumnDragWhileAllowingMovement(e,i,n,o,r){let s=this.getAllMovingColumns(e),l=this.normaliseDirection(e.hDirection)===1,c=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:c,xPosition:o,fromLeft:l,fromEnter:i,fakeEvent:n}),d=a4(Ft(We({},u),{finished:r}));d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,i=!1){let n=e.dragSource.getDragItem(),o=null;i?(o=n.columnsInSplit,o||(o=n.columns)):o=n.columns;let r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return o?o.filter(r):[]}getMoveColumnParams(e){let{allMovingColumns:i,isFromHeader:n,xPosition:o,fromLeft:r,fromEnter:s,fakeEvent:l}=e,{pinned:c,gos:u,columnModel:d,columnMoveService:h,visibleColsService:p}=this;return{allMovingColumns:i,isFromHeader:n,fromLeft:r,xPosition:o,pinned:c,fromEnter:s,fakeEvent:l,gos:u,columnModel:d,columnMoveService:h,visibleColsService:p}}findFirstAndLastMovingColumns(e){let i=e.length,n,o;for(let r=0;r<=i;r++){if(!n){let s=e[r];s.getLeft()!=null&&(n=s)}if(!o){let s=e[i-1-r];s.getLeft()!=null&&(o=s)}if(n&&o)break}return{firstMovingCol:n,lastMovingCol:o}}highlightHoveredColumn(e,i){let{gos:n,columnModel:o}=this,r=n.get("enableRtl"),s=o.getCols().filter(h=>h.isVisible()&&h.getPinned()===this.pinned),l=null,c=null,u=null;for(let h of s){if(c=h.getActualWidth(),l=this.getNormalisedColumnLeft(h,0,r),l!=null){let p=l+c;if(l<=i&&p>=i){u=h;break}}l=null,c=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let h=s.length-1;h>=0;h--){let p=s[h],g=s[h].getParent();if(!g){u=p;break}let f=g?.getDisplayedLeafColumns();if(f.length){u=Oi(f);break}}if(!u)return;l=this.getNormalisedColumnLeft(u,0,r),c=u.getActualWidth()}if(this.lastHighlightedColumn?.column!==u&&this.clearHighlighted(),u==null||l==null||c==null)return;let d;i-l<c/2!==r?d=0:d=1,u.setHighlighted(d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,i){let{gos:n,visibleColsService:o}=this,r=n.get("enableRtl"),{firstMovingCol:s,column:l,position:c}=this.getColumnMoveAndTargetInfo(e,i,r);if(!s||!l||c==null)return;let u=o.getAllCols(),d=u.indexOf(s),h=u.indexOf(l),p=c===0!==r,g=d<h||d===h&&!p,f=0;if(p?g&&(f-=1):g||(f+=1),h+f===d)return;let y=u[h+f];if(!y)return;let M=this.getNormalisedColumnLeft(y,20,r);return{fromLeft:g,xPosition:M}}getColumnMoveAndTargetInfo(e,i,n){let o=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=this.findFirstAndLastMovingColumns(e);if(!r||!s||o.column||!i)return We({firstMovingCol:r},o);let c=this.getPinDirection()==="left";return{firstMovingCol:r,position:c?1:0,column:c!==n?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,i,n){let{gos:o,ctrlsService:r}=this,s=e.getLeft();if(s==null)return null;let l=e.getActualWidth();return h3({x:n?s+l-i:s+i,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:o,ctrlsService:r})}isAttemptingToPin(e){let i=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>Rq;return i&&n||e.some(o=>o.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:i,xPosition:n,fromEnter:o,fakeEvent:r,fromLeft:s}=e,l=this.getMoveColumnParams({allMovingColumns:i,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:o,fakeEvent:r}),{columns:c,toIndex:u}=sY(l)||{};c&&u!=null&&(this.lastMovedInfo={columns:c,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let i=this.ctrlsService.get("center"),n=i.getCenterViewportScrollLeft(),o=n+i.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<n+W2,this.needToMoveLeft=e>o-W2):(this.needToMoveLeft=e<n+W2,this.needToMoveRight=e>o-W2),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),j0e),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*W0e,e>I6&&(e=I6);let i=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?i=n.scrollHorizontally(-e):this.needToMoveRight&&(i=n.scrollHorizontally(e)),i!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=Rq+1)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){let o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,i,n=!1){let o=(e||[]).filter(r=>!r.getColDef().lockPinned);return o.length?(n&&(i=this.getPinDirection()),this.columnModel.setColsPinned(o,i,"uiColumnDragged"),n&&this.dragAndDropService.nudge(),o.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},$0e=class extends Ye{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,i){super(),this.pinned=e,this.eContainer=i}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new U0e(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new B0e(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},q0e=class extends Ye{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,i,n,o,r){super(),this.pinned=e,this.column=i,this.eResize=n,this.comp=o,this.ctrl=r}postConstruct(){let e=[],i,n,o=()=>{if(Ln(this.eResize,i),!i)return;let l=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(l),n){let c=this.gos.get("skipHeaderOnAutoSize"),u=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",c)};this.eResize.addEventListener("dblclick",u);let d=new Ap(this.eResize);d.addEventListener("doubleTap",u),e.push(()=>{this.eResize.removeEventListener("dblclick",u),d.removeEventListener("doubleTap",u),d.destroy()})}},r=()=>{e.forEach(l=>l()),e.length=0},s=()=>{let l=this.column.isResizable(),c=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(l!==i||c!==n)&&(i=l,n=c,r(),o())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,i){let{column:n,lastResizeAmount:o,resizeStartWidth:r}=this,s=this.normaliseResizeAmount(i),l=r+s,c=[{key:n,newWidth:l}];if(this.column.getPinned()){let u=this.pinnedWidthService.getPinnedLeftWidth(),d=this.pinnedWidthService.getPinnedRightWidth(),h=tS(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(u+d+(s-o)>h)return}this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let i=e,n=this.pinned!=="left",o=this.pinned==="right";return this.gos.get("enableRtl")?n&&(i*=-1):o&&(i*=-1),i}},K0e=class extends Ye{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){let i=this.cbSelectAll;i.isDisplayed()&&!i.getGui().contains(On(this.gos))&&(e.preventDefault(),i.setValue(!i.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new K6),this.cbSelectAll.addCssClass("ag-header-select-all"),ss(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);let i=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){let e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${o} (${n})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return P6(this.gos)?!0:(tt(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return Wn(this.gos)||wh(this.gos)?!0:(tt(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),i=this.isFilteredOnly(),n=this.isCurrentPageOnly(),o="uiSelectAll";n?o="uiSelectAllCurrentPage":i&&(o="uiSelectAllFiltered");let r={source:o,justFiltered:i,justCurrentPage:n};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){let e=this.gos.get("rowSelection"),i=typeof e=="object"&&t3(e)&&Jy(this.column),n=this.column.getColDef().headerCheckboxSelection,o=!1;return i?o=!0:typeof n=="function"?o=n(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):o=!!n,o&&this.checkRightRowModelType(i?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(i?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){let e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){let e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},Y0e=class extends v3{constructor(e,i,n){super(e,i,n),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,i,n,o,r){this.comp=e,r=eS(this,this.beans.context,r),this.setGui(i,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:o,checkMeasuringCallback:l=>this.setRefreshFunction("measuring",l),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new q0e(this.getPinned(),this.column,n,e,this)),r.createManagedBean(new i4([this.column],i)),r.createManagedBean(new t4(this.column,i,this.beans)),r.createManagedBean(new Rf(i,{shouldStopEventPropagation:l=>this.shouldStopEventPropagation(l),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let s=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:s,columnRowGroupChanged:s,columnPivotChanged:s,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,i){if(!this.column.isResizable())return;let n=this.column.getActualWidth(),o=this.column.getMinWidth(),r=this.column.getMaxWidth(),s=Math.min(Math.max(n+e,o),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],i,!0,"uiColumnResized")}moveHeader(e){let{eGui:i,beans:n,column:o,ctrlsService:r}=this,{gos:s,columnModel:l,columnMoveService:c,visibleColsService:u}=n,d=this.getPinned(),h=i.getBoundingClientRect().left,p=o.getActualWidth(),g=s.get("enableRtl"),y=h3({x:e===0!==g?h-20:h+p+20,pinned:d,fromKeyboard:!0,gos:s,ctrlsService:r}),M=this.focusService.getFocusedHeader();a4({allMovingColumns:[o],isFromHeader:!0,fromLeft:e===1,xPosition:y,pinned:d,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:l,columnMoveService:c,visibleColsService:u,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&M&&this.restoreFocus(M)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:Ft(We({},e),{column:this.column})})}setupUserComp(e){let i=this.lookupUserCompDetails(e);this.setCompDetails(i)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){let i=this.createParams(e),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,i)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:n=>{this.menuService.showColumnMenu({column:this.column,buttonElement:n,positionBy:"button"})},showColumnMenuAfterMouseClick:n=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:n,positionBy:"mouse"})},showFilter:n=>{this.menuService.showFilterMenu({column:this.column,buttonElement:n,containerType:"columnFilter",positionBy:"button"})},progressSort:n=>{this.beans.sortController.progressSort(this.column,!!n,"uiColumnSorted")},setSort:(n,o)=>{this.beans.sortController.setSortForColumn(this.column,n,!!o,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(n,o)=>{this.setupTooltip(e,n,o)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new K0e(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Qe.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Qe.ENTER&&this.onEnterKeyDown(e),e.key===Qe.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){let i=e.shiftKey;this.beans.sortController.progressSort(this.column,i,"uiColumnSorted")}}showMenuOnKeyPress(e,i){let n=this.comp.getUserCompInstance();!n||!(n instanceof _6)||n.onMenuKeyboardShortcut(i)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){let i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,i,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let o=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui,s=this.column.getColDef();!n&&o&&!s.headerComponent&&(n=()=>{let u=r.querySelector(".ag-header-cell-text");return u?u.scrollWidth>u.clientWidth:!0});let l={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>i??this.column.getColDef().headerTooltip,shouldDisplayTooltip:n},c=e.createManagedBean(new vv(l));this.setRefreshFunction("tooltip",()=>c.refreshToolTip())}setupClassesFromColDef(){let e=()=>{let i=this.column.getColDef(),n=JK(i,this.gos,this.column,null),o=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{o.has(r)?o.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),o.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;let{column:i,beans:n,displayName:o,dragAndDropService:r,gos:s}=this,{columnModel:l}=n,c=!this.gos.get("suppressDragLeaveHidesColumns"),u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>c?"hide":"notAllowed",getDragItem:()=>this.createDragItem(i),dragItemName:o,onDragStarted:()=>{c=!s.get("suppressDragLeaveHidesColumns"),uv([i],!0)},onDragStopped:()=>uv([i],!1),onDragCancelled:()=>uv([i],!1),onGridEnter:d=>{if(c){let h=d?.columns?.filter(p=>!p.getColDef().lockVisible)||[];l.setColsVisible(h,!0,"uiColumnMoved")}},onGridExit:d=>{if(c){let h=d?.columns?.filter(p=>!p.getColDef().lockVisible)||[];l.setColsVisible(h,!1,"uiColumnMoved")}}};r.addDragSource(u,!0)}createDragItem(e){let i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,i){this.refreshFunctions[e]=i}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(i=>i())}refreshHeaderComp(e){let i=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==i.componentClass?this.attemptHeaderCompRefresh(i.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(i)}attemptHeaderCompRefresh(e){let i=this.comp.getUserCompInstance();return!i||!i.refresh?!1:i.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let i=()=>{let n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:i}),i()}setupMovingCss(e){let i=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:i}),i()}setupMenuClass(e){let i=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:i}),i()}setupSortableClass(e){let i=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};i(),this.setRefreshFunction("updateSortable",i),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let i=()=>{let n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:i}),i()}setupWrapTextClass(){let e=()=>{let i=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),i=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",i),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:i,comp:n,beans:o}=this,r=this.beans.columnModel.getGroupRowsHeight(),s=r.reduce((p,g)=>p+=g,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",s),!i.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:l,isSpanningTotal:c}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",l>0);let{columnModel:u}=o,d=u.getColumnHeaderRowHeight();if(l===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${d}px`);return}n.addOrRemoveCssClass("ag-header-span-total",c);let h=0;for(let p=0;p<l;p++)h+=r[r.length-1-p];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${d+h}px`)}refreshAriaSort(){if(this.sortable){let e=this.localeService.getLocaleTextFunc(),i=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Qge(i)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,i){i!=null?this.ariaDescriptionProperties.set(e,i):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(On(this.beans.gos)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((i,n)=>i==="filter"?-1:n.charCodeAt(0)-i.charCodeAt(0)).map(i=>this.ariaDescriptionProperties.get(i)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){let i=()=>{if(!this.gos.get("columnHoverHighlight"))return;let n=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",n)};e.addManagedEventListeners({columnHoverChanged:i}),i()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){let i=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),o=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:i,mouseleave:i,click:n,contextmenu:o})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let i=this.comp.getUserCompInstance();return i instanceof _6?i.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Z0e=class extends Ye{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,i,n,o){super(),this.eResize=i,this.comp=e,this.pinned=n,this.columnGroup=o}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){let i=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{let n=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||n.push(r.getColId())}),n.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:n,skipHeader:i,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){let i=this.getInitialValues(e);this.storeLocalValues(i),this.toggleColumnResizing(!0)}onResizing(e,i,n="uiColumnResized"){let o=this.normaliseDragChange(i),r=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){let i=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(i),o=this.getSizeRatiosOfColumns(i,n),r={columnsToResize:i,resizeStartWidth:n,resizeRatios:o},s=null;if(e&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){let l=s.getDisplayedLeafColumns(),c=r.groupAfterColumns=l.filter(d=>d.isResizable()),u=r.groupAfterStartWidth=this.getInitialSizeOfColumns(c);r.groupAfterRatios=this.getSizeRatiosOfColumns(c,u)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){let{columnsToResize:i,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:l}=e;this.resizeCols=i,this.resizeStartWidth=n,this.resizeRatios=o,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){let i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();i>n.resizeStartWidth&&this.resizeColumns(n,i,e,!0)}resizeColumnsFromLocalValues(e,i,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(o,e,i,n)}resizeColumns(e,i,n,o=!0){let{columnsToResize:r,resizeStartWidth:s,resizeRatios:l,groupAfterColumns:c,groupAfterStartWidth:u,groupAfterRatios:d}=e,h=[];if(h.push({columns:r,ratios:l,width:i}),c){let p=i-s;h.push({columns:c,ratios:d,width:u-p})}this.columnSizeService.resizeColumnSets({resizeSets:h,finished:o,source:n}),o&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(i=>i.isResizable())}getInitialSizeOfColumns(e){return e.reduce((i,n)=>i+n.getActualWidth(),0)}getSizeRatiosOfColumns(e,i){return e.map(n=>n.getActualWidth()/i)}normaliseDragChange(e){let i=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(i*=-1):this.pinned==="right"&&(i*=-1),i}destroy(){super.destroy(),this.clearLocalValues()}},Q0e=class extends Ye{constructor(e,i){super(),this.removeChildListenersFuncs=[],this.columnGroup=i,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(i=>{i.addEventListener("widthChanged",e),i.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{i.removeEventListener("widthChanged",e),i.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},X0e=class extends v3{constructor(e,i,n){super(e,i,n),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){let o=this.getGui();this.setDragSource(o)}},this.column=e}setComp(e,i,n,o,r){this.comp=e,r=eS(this,this.beans.context,r),this.setGui(i,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:o,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let s=this.getParentRowCtrl().getPinned(),l=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new i4(l,i)),r.createManagedBean(new t4(this.column,i,this.beans)),r.createManagedBean(new Q0e(e,this.column)),this.resizeFeature=r.createManagedBean(new Z0e(e,n,s,this.column)),r.createManagedBean(new Rf(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,l),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){let{gos:e,comp:i}=this,n=e.get("groupHeaderHeight");n!=null?n===0?i.setHeaderWrapperHidden(!0):i.setHeaderWrapperMaxHeight(n):(i.setHeaderWrapperHidden(!1),i.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,i){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let n of i)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){let i=this.column.getDisplayedLeafColumns(),n=i[0]===e,o=Oi(i)===e;if(!n&&!o)return;let r=e.getHighlighted(),s=!!this.getParentRowCtrl().findHeaderCellCtrl(u=>u.getColumnGroupChild().isMoving()),l=!1,c=!1;if(s){let u=this.beans.gos.get("enableRtl"),d=r===1,h=r===0;n&&(u?c=d:l=h),o&&(u?l=h:c=d)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",l),this.comp.addOrRemoveCssClass("ag-header-highlight-after",c)}getColumn(){return this.column}resizeHeader(e,i){if(!this.resizeFeature)return;let n=this.resizeFeature.getInitialValues(i);this.resizeFeature.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){let{beans:i,eGui:n,column:o,ctrlsService:r}=this,{gos:s,columnModel:l,columnMoveService:c,visibleColsService:u}=i,d=s.get("enableRtl"),h=e===0,p=this.getPinned(),g=n.getBoundingClientRect(),f=g.left,y=g.width,M=h3({x:h!==d?f-20:f+y+20,pinned:p,fromKeyboard:!0,gos:s,ctrlsService:r}),k=o.getGroupId(),G=this.focusService.getFocusedHeader();a4({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:M,pinned:p,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:l,columnMoveService:c,visibleColsService:u,finished:!0});let J=o.getDisplayedLeafColumns(),$=h?J[0]:Oi(J);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible($,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&G&&this.restoreFocus(k,o,G)}restoreFocus(e,i,n){let o=i.getLeafColumns();if(!o.length)return;let r=o[0].getParent();if(!r)return;let s=this.findGroupWidthId(r,e);s&&this.focusService.focusHeaderPosition({headerPosition:Ft(We({},n),{column:s})})}findGroupWidthId(e,i){for(;e;){if(e.getGroupId()===i)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){let i=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,r)=>{this.setupTooltip(e,o,r)}}),n=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(n)}addHeaderMouseListeners(e){let i=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),o=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:i,mouseleave:i,click:n,contextmenu:o})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,i,n){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let o=this.column.getColGroupDef(),r=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui;!n&&r&&!o?.headerGroupComponent&&(n=()=>{let c=s.querySelector(".ag-header-group-text");return c?c.scrollWidth>c.clientWidth:!0});let l={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>i??(o&&o.headerTooltip),shouldDisplayTooltip:n};o&&(l.getColDef=()=>o),e.createManagedBean(new vv(l))}setupExpandable(e){let i=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let i=e.isExpanded();this.expandable?this.comp.setAriaExpanded(i?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){let e=this.column.getColGroupDef(),i=JK(e,this.gos,null,this.column);this.column.isPadding()?(i.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(o=>o.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){let n=this.column.getProvidedColumnGroup().getLeafColumns(),o=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());n.forEach(r=>{e.addManagedListeners(r,{movingChanged:o})}),o()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){let i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}}handleKeyDown(e){super.handleKeyDown(e);let i=this.getWrapperHasFocus();if(!(!this.expandable||!i)&&e.key===Qe.ENTER){let n=this.column,o=!n.isExpanded();this.beans.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),o,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;let{beans:i,column:n,displayName:o,gos:r,dragAndDropService:s}=this,{columnModel:l}=i,c=n.getProvidedColumnGroup().getLeafColumns(),u=!r.get("suppressDragLeaveHidesColumns"),d=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>u?"hide":"notAllowed",dragItemName:o,getDragItem:()=>this.getDragItemForGroup(n),onDragStarted:()=>{u=!r.get("suppressDragLeaveHidesColumns"),uv(c,!0)},onDragStopped:()=>uv(c,!1),onDragCancelled:()=>uv(c,!1),onGridEnter:h=>{if(u){let{columns:p=[],visibleState:g}=h??{},f=p.filter(y=>!y.getColDef().lockVisible&&(!g||g[y.getColId()]));l.setColsVisible(f,!0,"uiColumnMoved")}},onGridExit:h=>{if(u){let p=h?.columns?.filter(g=>!g.getColDef().lockVisible)||[];l.setColsVisible(p,!1,"uiColumnMoved")}}};s.addDragSource(d,!0)}getDragItemForGroup(e){let i=e.getProvidedColumnGroup().getLeafColumns(),n={};i.forEach(l=>n[l.getId()]=l.isVisible());let o=[];this.beans.visibleColsService.getAllCols().forEach(l=>{i.indexOf(l)>=0&&(o.push(l),Lr(i,l))}),i.forEach(l=>o.push(l));let r=[],s=e.getLeafColumns();for(let l of o)s.indexOf(l)!==-1&&r.push(l);return{columns:o,columnsInSplit:r,visibleState:n}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},J0e=0,r6=class extends Ye{constructor(e,i,n){super(),this.instanceId=J0e++,this.rowIndex=e,this.pinned=i,this.type=n;let o=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${o}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=ir(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,i,n=!0){this.comp=e,i=eS(this,this.beans.context,i),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(i)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let i=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:i,columnHeaderHeightChanged:i,gridStylesChanged:i,advancedFilterEnabledChanged:i}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],i)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Y2(this.headerCellCtrls).find(i=>i.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=ir(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:i}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(i+"px")}getTopAndHeight(){let{columnModel:e,filterManager:i}=this.beans,n=[],o=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();n.push(...o),n.push(r),i?.hasFloatingFilters()&&n.push(e.getFloatingFiltersHeight());let s=0;for(let c=0;c<this.rowIndex;c++)s+=n[c];let l=n[this.rowIndex];return{topOffset:s,rowHeight:l}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){let i=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(i,n,e)}getHeaderCtrls(){let e=this.headerCellCtrls;this.headerCellCtrls=new Map;let i=this.getColumnsInViewport();for(let o of i)this.recycleAndCreateHeaderCtrls(o,e);let n=o=>{let{focusService:r,visibleColsService:s}=this.beans;return r.isHeaderWrapperFocused(o)?s.isVisible(o.getColumnGroupChild()):!1};if(e)for(let[o,r]of e)n(r)?this.headerCellCtrls.set(o,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,i){if(!this.headerCellCtrls||e.isEmptyGroup())return;let n=e.getUniqueId(),o;if(i&&(o=i.get(n),i.delete(n)),o&&o.getColumnGroupChild()!=e&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case"filter":{o=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":o=this.createBean(new X0e(e,this.beans,this));break;default:o=this.createBean(new Y0e(e,this.beans,this));break}this.headerCellCtrls.set(n,o)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],i=this.getActualDepth(),{columnViewportService:n}=this.beans;return["left",null,"right"].forEach(o=>{let r=n.getHeadersToRender(o,i);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;let i=this.getHeaderCellCtrls(),n;return typeof e=="function"?n=i.find(e):n=i.find(o=>o.getColumnGroupChild()==e),n}focusHeader(e,i){let n=this.findHeaderCellCtrl(e);return n?n.focus(i):!1}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},eve=class extends Ye{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,i){this.comp=e,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);let n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:n,advancedFilterEnabledChanged:n});let o=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(o,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let i=new gv,n=this.focusService.getFocusHeaderToUseAfterRefresh(),o=()=>{let c=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<c;u++){let d=this.createBean(new r6(i.next(),this.pinned,"group"));this.groupsRowCtrls.push(d)}},r=()=>{let c=i.next(),u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==c);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new r6(c,this.pinned,"column")))},s=()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;let c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){c();return}let u=i.next();if(this.filtersRowCtrl){let d=this.filtersRowCtrl.getRowIndex()!==u;(!e||d)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new r6(u,this.pinned,"filter")))};o(),r(),s();let l=this.getAllCtrls();this.comp.setCtrls(l),this.restoreFocusOnHeader(n)}getHeaderCtrlForColumn(e){if(Pp(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){let n=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){let i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null}getRowType(e){let n=this.getAllCtrls()[e];return n?n.getType():void 0}focusHeader(e,i,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(i,n):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){let i=new $0e(this.pinned,e);this.createManagedBean(i)}restoreFocusOnHeader(e){if(!e)return;let{column:i}=e;i.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){let e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new s4(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;let e=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;let n=()=>{let o=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(o==null)return;let r=o==0,s=this.hidden!==r,l=this.gos.get("enableRtl"),c=this.scrollVisibleService.getScrollbarWidth(),d=this.scrollVisibleService.isVerticalScrollShowing()&&(l&&e||!l&&i)?o+c:o;this.comp.setPinnedContainerWidth(`${d}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}},tve='<div class="ag-pinned-left-header" role="rowgroup"></div>',ive='<div class="ag-pinned-right-header" role="rowgroup"></div>',nve=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,s6=class extends Vi{constructor(e){super(),this.eCenterContainer=ft,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{let o=this.getGui();o.style.width=n,o.style.maxWidth=n,o.style.minWidth=n}};this.createManagedBean(new eve(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",i=this.pinned=="right",n=e?tve:i?ive:nve;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==ft?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n,o=r=>{let s=r.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),n&&_K(this.eRowContainer,s,n),n=s};e.forEach(r=>{let s=r.instanceId,l=i[s];delete i[s];let c=l||this.createBean(new L0e(r));this.headerRowComps[s]=c,this.rowCompsList.push(c),o(c)}),Tp(i).forEach(r=>this.destroyRowComp(r))}},ove=class extends Vi{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){let e={addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),setHeightAndMinHeight:o=>{this.getGui().style.height=o,this.getGui().style.minHeight=o}};this.createManagedBean(new N0e).setComp(e,this.getGui(),this.getFocusableElement());let n=o=>{this.createManagedBean(o),this.appendChild(o)};n(new s6("left")),n(new s6(null)),n(new s6("right"))}},rve={selector:"AG-HEADER-ROOT",component:ove};var l4=class extends Ye{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.getDomLayout(),i={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=i.autoHeight?"ag-layout-auto-height":i.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(n,i)}getDomLayout(){let e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(tt(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},sve=class extends Vi{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=ft,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==Qe.TAB||e.defaultPrevented||mh(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=this.focusService.focusGridView(Oi(this.visibleColsService.getAllCols()),!0,!1):n=this.focusService.focusNextGridCoreContainer(!1),n&&e.preventDefault()}updateLayoutClasses(e,i){let n=this.eOverlayWrapper.classList;n.toggle("ag-layout-auto-height",i.autoHeight),n.toggle("ag-layout-normal",i.normal),n.toggle("ag-layout-print",i.print)}postConstruct(){this.createManagedBean(new l4(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)}showOverlay(e,i,n,o){if(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.focusService.isGridFocused()){let r=On(this.gos);r&&!Uq(this.gos)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,o)){let l=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(o,({currentValue:c})=>{l.refresh?.(this.gos.addGridCommonParams(We({},c??{})))})}let s=this.focusService;n&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let i=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,i&&!this.focusService.isGridFocused()&&(i=null);let n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),mr(this.eOverlayWrapper),i?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},ave={selector:"AG-OVERLAY-WRAPPER",component:sve},aY=class extends Vi{constructor(e,i){super(),this.direction=i,this.eViewport=ft,this.eContainer=ft,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",mK()||Op())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=CK(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:i,mousedown:i,touchstart:i,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){let i=this.getViewportElement();age(()=>yl(i),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},lve=class extends aY{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=ft,this.eRightSpacer=ft}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new s4(i=>this.eContainer.style.width=`${i}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.visibleColsService.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,o=this.scrollVisibleService.getScrollbarWidth();n&&(i+=o),bl(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=o);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=o),bl(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=o)}setScrollVisible(){let e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),o=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=n?0:o===0&&i?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),zy(this.getGui(),s),zy(this.eViewport,s),zy(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return l3(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){yl(this.getViewportElement())||this.attemptSettingScrollPosition(e),c3(this.getViewportElement(),e,this.enableRtl)}},cve={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:lve},lY=class extends Ye{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,i){super(),this.eContainer=e,this.eViewport=i}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){let e=this.maxDivHeightScaler.getUiContainerHeight(),i=e!=null?`${e}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},uve=class extends aY{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new lY(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){let e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,n=e&&this.scrollVisibleService.getScrollbarWidth()||0,o=n===0&&i?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),bl(this.getGui(),o),bl(this.eViewport,o),bl(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){let{ctrlsService:e}=this,n=e.getGridBodyCtrl().getBodyViewportElement(),o=this.getScrollPosition(),r=n.scrollTop;o!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,i){!i&&!yl(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},dve={selector:"AG-FAKE-VERTICAL-SCROLL",component:uve},M6=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(M6||{}),hve=class extends Ye{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Pr(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Pr(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(let e of Object.values(M6)){let i=this.ctrlsService.get(e);this.registerScrollPartner(i,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsService.get("fakeVScrollComp"),i=this.gos.get("debounceVerticalScrollbar"),n=i?Pr(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),o=i?Pr(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,o)}registerScrollPartner(e,i){e.onScrollCallback(i)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let i of[...Object.values(M6),"Viewport"]){if(this.lastScrollSource[1]===i)continue;let n=this.getViewportForSource(i);c3(n,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,i){return this.lastScrollSource[i]==null?(i===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[i]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let i=this.centerRowsCtrl.getViewportElement(),{scrollLeft:n}=i;if(this.shouldBlockScrollUpdate(1,n,!0))return;let o=l3(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(o),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let i;e==="Viewport"?i=this.eBodyViewport.scrollTop:i=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,i,!0)&&(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(i):this.eBodyViewport.scrollTop=i,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){let i=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let i={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent(Ft(We({},i),{type:"bodyScrollEnd"}))},100)}shouldBlockScrollUpdate(e,i,n=!1){return n&&!Op()?!1:e===0?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i)}shouldBlockVerticalScroll(e){let i=j6(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+i>n}shouldBlockHorizontalScroll(e){let i=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&a3()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+i>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){let e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,i=!1){let o=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!i&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&a3()?e=e>0?0:o:e=Math.min(Math.max(e,0),o)),c3(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){let i=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowsCtrl.getViewportElement().scrollLeft-i}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,i=null){let n=this.rowModel.getRowCount(),o=-1;for(let r=0;r<n;r++){let s=this.rowModel.getRow(r);if(typeof e=="function"){if(s&&e(s)){o=r;break}}else if(e===s||e===s.data){o=r;break}}o>=0&&this.ensureIndexVisible(o,i)}ensureIndexVisible(e,i){if(ir(this.gos,"print"))return;let n=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=n){tt("Invalid row index for ensureIndexVisible: "+e);return}let r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{r||this.paginationService?.goToPageWithIndex(e);let s=this.ctrlsService.getGridBodyCtrl(),l=s.getStickyTopHeight(),c=s.getStickyBottomHeight(),u=this.rowModel.getRow(e),d;do{let h=u.rowTop,p=u.rowHeight,g=this.pageBoundsService.getPixelOffset(),f=u.rowTop-g,y=f+u.rowHeight,M=this.getVScrollPosition(),k=this.heightScaler.getDivStretchOffset(),G=M.top+k,J=M.bottom+k,$=J-G,_e=this.heightScaler.getScrollPositionForPixel(f),Fe=this.heightScaler.getScrollPositionForPixel(y-$),Pe=Math.min((_e+Fe)/2,f),$e=G+l>f,nt=J-c<y,lt=null;i==="top"?lt=_e:i==="bottom"?lt=Fe:i==="middle"?lt=Pe:$e?lt=_e-l:nt&&(lt=Fe+c),lt!==null&&(this.setVerticalScrollPosition(lt),this.rowRenderer.redraw({afterScroll:!0})),d=h!==u.rowTop||p!==u.rowHeight}while(d);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,i="auto"){let n=this.columnModel.getCol(e);if(!n||n.isPinned()||!this.visibleColsService.isColDisplayed(n))return;let o=this.getPositionedHorizontalScroll(n,i);this.getFrameworkOverrides().wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,i){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(i),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,i){let{columnBeforeStart:n,columnAfterEnd:o}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),l=this.enableRtl,c=(l?n:o)||r,u=l?o:n;i!=="auto"&&(c=i==="start",u=i==="end");let d=i==="middle";if(c||u||d){let{colLeft:h,colMiddle:p,colRight:g}=this.getColumnBounds(e);return d?p-s/2:c?l?g:h:l?h-s:g-s}return null}isColumnOutsideViewport(e){let{start:i,end:n}=this.getViewportBounds(),{colLeft:o,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,l=s?i>r:n<r,c=s?n<o:i>o;return{columnBeforeStart:l,columnAfterEnd:c}}getColumnBounds(e){let i=this.enableRtl,n=this.visibleColsService.getBodyContainerWidth(),o=e.getActualWidth(),r=e.getLeft(),s=i?-1:1,l=i?n-r:r,c=l+o*s,u=l+o/2*s;return{colLeft:l,colMiddle:u,colRight:c}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),i=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=i,o=e+i;return{start:n,end:o,width:e}}},pve=class extends Ye{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.getBodyViewportElement(),i=tS(e);if(i<=50)return;let n=this.getPinnedColumnsOverflowingViewport(i-50),o=this.gos.getCallback("processUnpinnedColumns");n.length&&(o&&(n=o({columns:n,viewportWidth:i})),this.columnModel.setColsPinned(n,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){let i=this.pinnedWidthService.getPinnedRightWidth(),n=this.pinnedWidthService.getPinnedLeftWidth(),o=i+n;if(o<e)return[];let r=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()],l=0,c=0,u=0,d=[],h=o-u-e;for(;(c<r.length||l<s.length)&&h>0;){if(l<s.length){let p=s[l++];h-=p.getActualWidth(),d.push(p)}if(c<r.length&&h>0){let p=r[c++];h-=p.getActualWidth(),d.push(p)}}return d}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.getBodyViewportElement(),i=j6(e);this.bodyHeight!==i&&(this.bodyHeight=i,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,i)}},gve=class extends Ye{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Cu(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Cu(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},fve=class extends Vi{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Y6]),this.eCheckbox=ft}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.localeService.getLocaleTextFunc(),i=this.rowNode.isSelected(),n=H6(e,i),[o,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(o,r);this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(`${s} (${n})`)}onClicked(e,i,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:i,event:n,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:o=>hv(o),click:o=>{hv(o);let r=L6(this.gos)==="filteredDescendants",s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?this.onClicked(!0,r,o||{})===0&&this.onClicked(!1,r,o):s?this.onClicked(!1,r,o):this.onClicked(!0,r,o||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),T6(this.gos)||typeof this.getIsVisible()=="function"){let o=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:o}),this.addManagedListeners(this.rowNode,{dataChanged:o,cellChanged:o}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,i){return i&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&Wn(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable,i=this.getIsVisible();if(e)if(typeof i=="function"){let r=this.overrides?.callbackParams;if(!this.column)e=i(Ft(We({},r),{node:this.rowNode,data:this.rowNode.data}));else{let s=this.column.createColumnFunctionCallbackParams(this.rowNode);e=i(We(We({},r),s))}}else e=i??!1;let n=this.gos.get("rowSelection");if(n&&typeof n!="string"?!hge(n):this.column?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if(this.overrides?.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;let e=this.gos.get("rowSelection");return e&&typeof e!="string"?dv(e):this.column?.getColDef()?.checkboxSelection}},mve=class extends Vi{constructor(e,i,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=i,this.eCell=n}postConstruct(){this.getGui().appendChild(xs("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",i=>{i.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);let n=()=>{try{let o=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o)}catch{}};if(i){let o=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});i(o)}else n()}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},vve=class extends Ye{constructor(e,i){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let e=this.column.getColDef(),{cellClassRules:i}=e,n=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,n,o=>this.cellComp.addOrRemoveCssClass(o,!0),o=>this.cellComp.addOrRemoveCssClass(o,!1)),this.cellClassRules=i}applyUserStyles(){let e=this.column.getColDef();if(!e.cellStyle)return;let i;if(typeof e.cellStyle=="function"){let n=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=e.cellStyle;i=o(n)}else i=e.cellStyle;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){let e=this.column.getColDef(),i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,i),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},Cve=class extends Ye{constructor(e,i,n,o,r){super(),this.cellCtrl=e,this.beans=i,this.rowNode=o,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){let i=e.key;switch(i){case Qe.ENTER:this.onEnterKeyDown(e);break;case Qe.F2:this.onF2KeyDown(e);break;case Qe.ESCAPE:this.onEscapeKeyDown(e);break;case Qe.TAB:this.onTabKeyDown(e);break;case Qe.BACKSPACE:case Qe.DELETE:this.onBackspaceOrDeleteKeyDown(i,e);break;case Qe.DOWN:case Qe.UP:case Qe.RIGHT:case Qe.LEFT:this.onNavigationKeyDown(e,i);break}}onNavigationKeyDown(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;let i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,i){let{cellCtrl:n,beans:o,rowNode:r}=this,{gos:s,rangeService:l,eventService:c}=o;if(!n.isEditing()){if(c.dispatchEvent({type:"keyShortcutChangedCellStart"}),zme(e,s.get("enableCellEditingOnBackspace"))){if(l&&Cu(s))l.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){let u=n.getColumn(),d=this.beans.valueService.getDeleteValue(u,r);r.setDataValue(u,d,"cellClear")}}else n.startRowOrCellEdit(e,i);c.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){let i=e.shiftKey?Qe.UP:Qe.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Qe.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Qe.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;let o=e.key;o===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(o,e)&&e.preventDefault()}onSpaceKeyDown(e){let{gos:i}=this.beans;if(!this.cellCtrl.isEditing()&&J2(i)){let n=this.rowNode.isSelected(),o=!n,r=L6(i)==="filteredDescendants",s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});n===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},wve=class extends Ye{constructor(e,i,n){super(),this.cellCtrl=e,this.beans=i,this.column=n}onMouseEvent(e,i){if(!mh(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}let{eventService:i,rangeService:n,gos:o}=this.beans,r=e.ctrlKey||e.metaKey;n&&r&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);let s=this.cellCtrl.createEvent(e,"cellClicked");i.dispatchEvent(s);let l=this.column.getColDef();l.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{l.onCellClicked(s)})},0),(o.get("singleClickEdit")||l.singleClickEdit)&&!o.get("suppressClickEdit")&&!(e.shiftKey&&n?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Op()||Jq("dblclick"))return!1;let e=new Date().getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i}onCellDoubleClicked(e){let{column:i,beans:n,cellCtrl:o}=this,{eventService:r,frameworkOverrides:s,gos:l}=n,c=i.getColDef(),u=o.createEvent(e,"cellDoubleClicked");r.dispatchEvent(u),typeof c.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{c.onCellDoubleClicked(u)})},0),!l.get("singleClickEdit")&&!l.get("suppressClickEdit")&&o.startRowOrCellEdit(null,e)}onMouseDown(e){let{ctrlKey:i,metaKey:n,shiftKey:o}=e,r=e.target,{cellCtrl:s,beans:l}=this,{eventService:c,rangeService:u,focusService:d,gos:h}=l;if(this.isRightClickInExistingRange(e))return;let p=u&&u.getCellRanges().length!=0;if(!o||!p){let f=h.get("enableCellTextSelection")&&e.defaultPrevented,y=(wu()||f)&&!s.isEditing()&&!W6(r);s.focusCell(y)}if(o&&p&&!d.isCellFocused(s.getCellPosition())){e.preventDefault();let g=d.getFocusedCell();if(g){let{column:f,rowIndex:y,rowPinned:M}=g,G=l.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:M})?.getCellCtrl(f);G?.isEditing()&&G.stopEditing(),d.setFocusedCell({column:f,rowIndex:y,rowPinned:M,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(u){let g=this.cellCtrl.getCellPosition();if(o)u.extendLatestRangeToCell(g);else{let f=i||n;u.setRangeToCell(g,f)}}c.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeService:i}=this.beans;if(i){let n=i.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&o)return!0}return!1}containsWidget(e){return cv(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let i=this.cellCtrl.getGui(),n=i.contains(e.target),o=i.contains(e.relatedTarget);return n&&o}destroy(){super.destroy()}},bve=class extends Ye{constructor(e,i){super(),this.cellCtrl=e,this.beans=i,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();Lp(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;let e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,i)=>e+i.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let e=this.column.getColSpan(this.rowNode),i=[];if(e===1)i.push(this.column);else{let n=this.column,o=this.column.getPinned();for(let r=0;n&&r<e&&(i.push(n),n=this.beans.visibleColsService.getColAfter(n),!(!n||Ti(n)||o!==n.getPinned()));r++);}return i}onLeftChanged(){if(!this.eGui)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Oi(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;let i=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){let n=this.beans.visibleColsService.getBodyContainerWidth();return i+n+(e||0)}return i+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;let n=Sf(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}};var Ly="ag-cell-range-selected",yve="ag-cell-range-chart",Sve="ag-cell-range-single-cell",_ve="ag-cell-range-chart-category",xve="ag-cell-range-handle",Dve="ag-cell-range-top",Eve="ag-cell-range-right",Ive="ag-cell-range-bottom",Mve="ag-cell-range-left",Rve=class{constructor(e,i){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=i}setComp(e,i){this.cellComp=e,this.eGui=i,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ly,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Ly}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Ly}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Ly}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Ly}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(yve,this.hasChartRange),r3(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(Sve,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){let e=this.getRangeBorders(),i=this.isSingleCell(),n=!i&&e.top,o=!i&&e.right,r=!i&&e.bottom,s=!i&&e.left;this.cellComp.addOrRemoveCssClass(Dve,n),this.cellComp.addOrRemoveCssClass(Eve,o),this.cellComp.addOrRemoveCssClass(Ive,r),this.cellComp.addOrRemoveCssClass(Mve,s)}isSingleCell(){let{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){let{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;let i=e.getCellRanges();return i.length>0&&i.every(n=>_f([1,0],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let e=this.beans.gos.get("enableRtl"),i=!1,n=!1,o=!1,r=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans.visibleColsService,c,u;e?(c=l.getColAfter(s),u=l.getColBefore(s)):(c=l.getColBefore(s),u=l.getColAfter(s));let d=this.rangeService.getCellRanges().filter(h=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));c||(r=!0),u||(n=!0);for(let h=0;h<d.length&&!(i&&n&&o&&r);h++){let p=d[h],g=this.rangeService.getRangeStartRow(p),f=this.rangeService.getRangeEndRow(p);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!o&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(o=!0),!r&&c&&p.columns.indexOf(c)<0&&(r=!0),!n&&u&&p.columns.indexOf(u)<0&&(n=!0)}return{top:i,right:n,bottom:o,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;let e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(xve,!!this.selectionHandle)}shouldHaveSelectionHandle(){let e=this.beans.gos,i=this.rangeService.getCellRanges(),n=i.length;if(this.rangeCount<1||n<1)return!1;let o=Oi(i),r=this.cellCtrl.getCellPosition(),s=fq(e)&&!this.cellCtrl.isSuppressFillHandle(),l=mge(e),c=n===1&&!this.cellCtrl.isEditing()&&(s||l);if(this.hasChartRange){let d=i[0].type===1&&this.rangeService.isCellInSpecificRange(r,i[0]);this.cellComp.addOrRemoveCssClass(_ve,d),c=o.type===0}return c&&o.endRow!=null&&this.rangeService.isContiguousRange(o)&&this.rangeService.isBottomRightCell(o,r)}addSelectionHandle(){let e=Oi(this.rangeService.getCellRanges()).type,n=fq(this.beans.gos)&&Ti(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(n)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},kve="ag-cell",Ave="ag-cell-auto-height",Fve="ag-cell-normal-height",Tve="ag-cell-focus",Pve="ag-cell-first-right-pinned",Lve="ag-cell-last-left-pinned",Ove="ag-cell-not-inline-editing",Nve="ag-column-hover",Bve="ag-cell-wrap-text",Vve=0,Hve=(()=>{let e=class R6 extends Ye{constructor(n,o,r,s){super(),this.column=n,this.rowNode=o,this.beans=r,this.rowCtrl=s,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=n.getId()+"-"+Vve++,this.colIdSanitised=vu(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new bve(this,this.beans),this.cellCustomStyleFeature=new vve(this,this.beans),this.cellMouseListenerFeature=new wve(this,this.beans,this.column),this.cellKeyboardListenerFeature=new Cve(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Cu(this.beans.gos)&&(this.cellRangeFeature=new Rve(this.beans,this))}removeFeatures(){let n=this.beans.context;this.cellPositionFeature=n.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=n.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=n.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=n.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=n.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(n,o){let r=()=>{let c=this.column.getColDef(),u=this.rowNode.data;if(c.tooltipField&&rt(u))return Hy(u,c.tooltipField,this.column.isTooltipFieldContainsDots());let d=c.tooltipValueGetter;return d?d(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!o&&s&&!this.isCellRenderer()&&(o=()=>{let c=this.getGui(),u=c.children.length===0?c:c.querySelector(".ag-cell-value");return u?u.scrollWidth>u.clientWidth:!0});let l={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:n!=null?()=>n:r,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:o};this.tooltipFeature=new vv(l,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(n,o,r,s,l,c){this.cellComp=n,this.eGui=o,this.printLayout=s,c??(c=this),this.addDomData(c),this.addFeatures(),c.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,c),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(o),this.cellCustomStyleFeature?.setComp(n),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(n,o),l&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(u=>u()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(n,o){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!n)return;let r=n.parentElement,s=Fp(this.beans.gos,this.rowNode).height,l=d=>{if(this.editing||!this.isAlive()||!o.isAlive())return;let{paddingTop:h,paddingBottom:p,borderBottomWidth:g,borderTopWidth:f}=Mf(r),y=h+p+g+f,k=n.offsetHeight+y;if(d<5){let J=co(this.beans.gos),$=!J||!J.contains(n),_e=k==0;if($||_e){window.setTimeout(()=>l(d+1),0);return}}let G=Math.max(k,s);this.rowNode.setRowAutoHeight(G,this.column)},c=()=>l(0);c();let u=this.beans.resizeObserverService.observeResize(n,c);o.addDestroyFunc(()=>{u(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let n=this.column.getColDef();return n.cellRenderer!=null||n.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(n=!1){let{beans:o,column:r,rowNode:s,cellRangeFeature:l,cellComp:c}=this,{userComponentFactory:u,animationFrameService:d}=o,h=this.getValueToDisplay(),p;if(s.stub&&s.groupData?.[this.column.getId()]==null){let f=this.createCellRendererParams();p=u.getLoadingCellRendererDetails(r.getColDef(),f)}else if(this.isCellRenderer()){let f=this.createCellRendererParams();p=u.getCellRendererDetails(r.getColDef(),f)}c.setRenderDetails(p,h,n),d.requestAnimationFrame(()=>l?.refreshHandle())}setupControlComps(){let n=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(n)),this.includeRowDrag=this.isIncludeControl(n.rowDrag),this.includeDndSource=this.isIncludeControl(n.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(n){return this.rowNode.rowPinned!=null?!1:typeof n=="function"||n===!0}isCheckboxSelection(n){let{rowSelection:o}=this.beans.gridOptions;return n.checkboxSelection||Jy(this.column)&&o&&typeof o!="string"&&dv(o)}refreshShouldDestroy(){let n=this.column.getColDef(),o=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(n)),r=this.includeRowDrag!=this.isIncludeControl(n.rowDrag),s=this.includeDndSource!=this.isIncludeControl(n.dndSource),l=this.isAutoHeight!=this.column.isAutoHeight();return o||r||s||l}startEditing(n=null,o=!1,r=null){let{editService:s}=this.beans;return!this.isCellEditable()||this.editing||!s?!0:this.cellComp?s.startEditing(this,n,o,r):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(n,o,r)}),!0)}setEditing(n,o){this.editCompDetails=o,this.editing!==n&&(this.editing=n)}stopRowOrCellEdit(n=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(n):this.stopEditing(n)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(n=!1){this.onCellEditorAttachedFuncs=[];let{editService:o}=this.beans;return!this.editing||!o?!1:o.stopEditing(this,n)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:o=>this.beans.valueService.setValue(this.rowNode,this.column,o),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(o,r,s,l)=>this.registerRowDragger(o,r,l),setTooltip:(o,r)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(o,r),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(n){n.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(n){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(n)}refreshCell(n){if(this.suppressRefreshCell||this.editing)return;let o=this.column.getColDef(),r=n!=null&&!!n.newData,s=n!=null&&!!n.suppressFlash||!!o.suppressCellFlash,l=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,c=n&&n.forceRefresh||l||r,u=!!this.cellComp,d=this.updateAndFormatValue(u),h=c||d;if(u){if(h){this.showValue(r);let p=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!s&&!p&&(this.beans.gos.get("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(n=!1,o=!1){this.beans.editService?.stopEditingAndFocus(this,n,o)}flashCell(n){let o=n?.flashDuration??n?.flashDelay,r=n?.fadeDuration??n?.fadeDelay;this.animateCell("data-changed",o,r)}animateCell(n,o,r){if(!this.cellComp)return;let{gos:s}=this.beans;if(o||(o=s.get("cellFlashDuration")),o===0)return;rt(r)||(r=s.get("cellFadeDuration"));let l=`ag-cell-${n}`,c=`ag-cell-${n}-animation`;this.cellComp.addOrRemoveCssClass(l,!0),this.cellComp.addOrRemoveCssClass(c,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(l,!1),this.cellComp.addOrRemoveCssClass(c,!0),this.eGui.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(c,!1),this.eGui.style.transition="")},r))},o)})}onFlashCells(n){if(!this.cellComp)return;let o=this.beans.cellPositionUtils.createId(this.getCellPosition());n.cells[o]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(n){return this.callValueFormatter(n)??n}callValueFormatter(n){return this.beans.valueService.formatValue(this.column,this.rowNode,n)}updateAndFormatValue(n){let o=this.value,r=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),n?!this.valuesAreEqual(o,this.value)||this.valueFormatted!=r:!0}valuesAreEqual(n,o){let r=this.column.getColDef();return r.equals?r.equals(n,o):n===o}getComp(){return this.cellComp}getValue(){return this.value}addDomData(n){let o=this.getGui();Ef(this.beans.gos,o,R6.DOM_DATA_KEY_CELL_CTRL,this),n.addDestroyFunc(()=>Ef(this.beans.gos,o,R6.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(n,o){return this.beans.gos.addGridCommonParams({type:o,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:n,rowIndex:this.rowNode.rowIndex})}processCharacter(n){this.cellKeyboardListenerFeature?.processCharacter(n)}onKeyDown(n){this.cellKeyboardListenerFeature?.onKeyDown(n)}onMouseEvent(n,o){this.cellMouseListenerFeature?.onMouseEvent(n,o)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{cellComp:n,column:o,beans:r}=this;eY(n,o,r.visibleColsService)}refreshAriaColIndex(){let n=this.beans.visibleColsService.getAriaColIndex(this.column);gK(this.getGui(),n)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(n,o=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(n,this):this.startEditing(n,!0,o):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(n,o)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(n=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:n})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(n){this.eGui&&Xs(this.eGui,"tabindex",n?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;let n=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Pve,n)}onLastLeftPinnedChanged(){if(!this.cellComp)return;let n=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Lve,n)}onCellFocused(n){if(this.beans.focusService.isCellFocusSuppressed())return;let o=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){o&&n?.forceBrowserFocus&&(this.focusEventToRestore=n);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Tve,o),o&&n&&n.forceBrowserFocus){let s=this.cellComp.getFocusableElement();if(this.editing){let l=this.beans.focusService.findFocusableElements(s,null,!0);l.length&&(s=l[0])}s.focus({preventScroll:!!n.preventScrollOnBrowserFocus})}let r=this.beans.gos.get("editType")==="fullRow";!o&&!r&&this.editing&&this.stopRowOrCellEdit(),o&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:fh(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(kve,!0),this.cellComp.addOrRemoveCssClass(Ove,!0);let n=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(Ave,n),this.cellComp.addOrRemoveCssClass(Fve,!n)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;let n=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Nve,n)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){let n=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(Bve,n)}dispatchCellContextMenuEvent(n){let o=this.column.getColDef(),r=this.createEvent(n,"cellContextMenu");this.beans.eventService.dispatchEvent(r),o.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellContextMenu(r)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let n=new fve;return this.beans.context.createBean(n),n.init({rowNode:this.rowNode,column:this.column}),n}createDndSource(){let n=new mve(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(n),n}registerRowDragger(n,o,r){if(this.customRowDragComp){this.customRowDragComp.setDragElement(n,o);return}let s=this.createRowDragComp(n,o,r);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(n,o,r){let s=this.beans.gos.get("pagination"),l=this.beans.gos.get("rowDragManaged"),c=Wn(this.beans.gos);if(l){if(!c){tt("managed row dragging is only allowed in the Client Side Row Model");return}if(s){tt("managed row dragging is not possible when doing pagination");return}}let u=new x6(()=>this.value,this.rowNode,this.column,n,o,r);return this.beans.context.createBean(u),u}setSuppressRefreshCell(n){this.suppressRefreshCell=n}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(n){this.onCellEditorAttachedFuncs.push(n)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(n=>n()),this.onCellEditorAttachedFuncs=[]}};return e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e})(),xf=Hve,zve=0,Gve=(()=>{let e=class k6 extends Ye{constructor(n,o,r,s,l){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=o,this.gos=o.gos,this.rowNode=n,this.paginationPage=o.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=s,this.printLayout=l,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=n.id+"-"+zve++,this.rowId=vu(n.id),this.initRowBusinessKey(),this.rowFocused=o.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=o.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(r),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let n=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=vu(n)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(n,o){n==="left"?this.leftGui=o:n==="right"?this.rightGui=o:n==="fullWidth"?this.fullWidthGui=o:this.centerGui=o}setComp(n,o,r,s){s=eS(this,this.beans.context,s);let l={rowComp:n,element:o,containerType:r,compBean:s};this.allRowGuis.push(l),this.updateGui(r,l),this.initialiseRowComp(l),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(n){this.allRowGuis=this.allRowGuis.filter(o=>o.containerType!==n),this.updateGui(n,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(n){let o=n?"none":"";this.allRowGuis.forEach(r=>r.element.style.display=o)}initialiseRowComp(n){let o=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(n),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(n),this.updateRowIndexes(n),this.setFocusedClasses(n),this.setStylesFromGridOptions(!1,n),J2(o)&&this.rowNode.selectable&&this.onRowSelected(n),this.updateColumnLists(!this.useAnimationFrameForCreate);let r=n.rowComp;this.getInitialRowClasses(n.containerType).forEach(l=>r.addOrRemoveCssClass(l,!0)),this.executeSlideAndFadeAnimations(n),this.rowNode.group&&o3(n.element,this.rowNode.expanded==!0),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),Ef(o,n.element,k6.DOM_DATA_KEY_ROW_CTRL,this),n.compBean.addDestroyFunc(()=>Ef(o,n.element,k6.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,n),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(n),this.isFullWidth()&&this.setupFullWidth(n),o.get("rowDragEntireRow")&&this.addRowDraggerToRow(n),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&n.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(n){this.businessKeySanitised!=null&&n.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(n){this.rowId=vu(this.rowNode.id),this.rowId!=null&&n.setRowId(this.rowId)}executeSlideAndFadeAnimations(n){let{containerType:o}=n;this.slideInAnimation[o]&&(pq(()=>{this.onTopChanged()}),this.slideInAnimation[o]=!1),this.fadeInAnimation[o]&&(pq(()=>{n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[o]=!1)}addRowDraggerToRow(n){if(Cu(this.gos)){tt("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}let o=this.beans.localeService.getLocaleTextFunc(),r=new x6(()=>`1 ${o("rowDragRow","row")}`,this.rowNode,void 0,n.element,void 0,!0),s=this.createBean(r,this.beans.context);this.rowDragComps.push(s),n.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(l=>l!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(n){let o=this.getPinnedForContainer(n.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;let r=this.createFullWidthCompDetails(n.element,o);n.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>n?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(n){let o=this.getCellCtrl(n);return o?o.getGui():null}executeProcessRowPostCreateFunc(){let n=this.gos.getCallback("processRowPostCreate");if(!n||!this.areAllContainersReady())return;let o={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};n(o)}areAllContainersReady(){let n=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),o=!!this.centerGui,r=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return n&&o&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let n=this.beans.gos.getCallback("isFullWidthRow");return n?n({rowNode:this.rowNode}):!1}setRowType(){let n=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),o=this.isNodeFullWidthCell(),r=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),c=!!this.rowNode.group&&!this.rowNode.footer&&g3(this.gos,s);n?this.rowType="FullWidthLoading":r?this.rowType="FullWidthDetail":o?this.rowType="FullWidth":c?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(n=!1,o=!1){if(this.isFullWidth())return;if(n||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(o);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(n,o,r=null){let s={list:[],map:{}},l=(c,u)=>{s.list.push(u),s.map[c]=u};return o.forEach(c=>{let u=c.getInstanceId(),d=n.map[u];d||(d=new xf(c,this.rowNode,this.beans,this)),l(u,d)}),n.list.forEach(c=>{let u=c.getColumn().getInstanceId();if(s.map[u]!=null)return;if(!this.isCellEligibleToBeRemoved(c,r)){l(u,c);return}c.destroy()}),s}updateColumnListsImpl(n){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(n)}setCellCtrls(n){this.allRowGuis.forEach(o=>{let r=this.getCellCtrlsForContainer(o.containerType);o.rowComp.setCellCtrls(r,n)})}getCellCtrlsForContainer(n){switch(n){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let n=this.beans.columnViewportService,o=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let r=n.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);let s=o.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");let l=o.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,l,"right")}}isCellEligibleToBeRemoved(n,o){if(n.getColumn().getPinned()!=o)return!0;let c=n.isEditing(),u=this.beans.focusService.isCellFocused(n.getCellPosition());if(c||u){let h=n.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(h)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||ir(this.gos,"print")}listenOnDomOrder(n){let o=()=>{n.rowComp.setDomOrder(this.getDomOrder())};n.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],o)}setAnimateFlags(n){if(this.isSticky()||!n)return;let o=rt(this.rowNode.oldRowTop),r=this.beans.visibleColsService.isPinningLeft(),s=this.beans.visibleColsService.isPinningRight();if(o){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let n=(u,d)=>u?u.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(u.element,d).params):!0,o=n(this.fullWidthGui,null),r=n(this.centerGui,null),s=n(this.leftGui,"left"),l=n(this.rightGui,"right");return o&&r&&s&&l}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(o=>{this.addRowDraggerToRow(o)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(n=>n.onRowIndexChanged())},cellChanged:n=>{this.getAllCellCtrls().forEach(o=>o.onCellChanged(n))}})}onRowNodeDataChanged(n){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(r=>r.refreshCell({suppressFlash:!n.update,newData:!n.update})),this.allRowGuis.forEach(r=>{this.setRowCompRowId(r.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(r.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let n=this.rowNode.highlighted;this.allRowGuis.forEach(o=>{let r=n===0,s=n===1;o.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),o.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){let n=this.rowNode.dragging;this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-dragging",n))}updateExpandedCss(){let n=this.rowNode.isExpandable(),o=this.rowNode.expanded==!0;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-group",n),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",n&&o),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",n&&!o),o3(r.element,n&&o)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:fh(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(n){return this.allRowGuis.find(o=>o.element.contains(n))}onKeyboardNavigate(n){let o=this.findFullWidthRowGui(n.target);if(!((o?o.element:null)===n.target))return;let l=this.rowNode,c=this.beans.focusService.getFocusedCell(),u={rowIndex:l.rowIndex,rowPinned:l.rowPinned,column:c?.column??this.getColumnForFullWidth(o)};this.beans.navigationService.navigateToNextCell(n,n.key,u,!0),n.preventDefault()}onTabKeyDown(n){if(n.defaultPrevented||mh(n))return;let o=this.allRowGuis.find(d=>d.element.contains(n.target)),r=o?o.element:null,s=r===n.target,l=On(this.gos),c=!1;r&&l&&(c=r.contains(l)&&l.classList.contains("ag-cell"));let u=null;!s&&!c&&(u=this.beans.focusService.findNextFocusableElement(r,!1,n.shiftKey)),(this.isFullWidth()&&s||!u)&&this.beans.navigationService.onTabKeyDown(this,n)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let n=this.allRowGuis.find(o=>yl(o.element))?.element;return n?n.getBoundingClientRect().top:0}onSuppressCellFocusChanged(n){let o=this.isFullWidth()&&n?void 0:-1;this.allRowGuis.forEach(r=>{Xs(r.element,"tabindex",o)})}onFullWidthRowFocused(n){let o=this.rowNode,r=n?this.isFullWidth()&&n.rowIndex===o.rowIndex&&n.rowPinned==o.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;s&&(s.classList.toggle("ag-full-width-focus",r),r&&n?.forceBrowserFocus&&s.focus({preventScroll:!0}))}recreateCell(n){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,n),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,n),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,n),n.destroy(),this.updateColumnLists()}removeCellCtrl(n,o){let r={list:[],map:{}};return n.list.forEach(s=>{s!==o&&(r.list.push(s),r.map[s.getColumn().getInstanceId()]=s)}),r}onMouseEvent(n,o){switch(n){case"dblclick":this.onRowDblClick(o);break;case"click":this.onRowClick(o);break;case"touchstart":case"mousedown":this.onRowMouseDown(o);break}}createRowEvent(n,o){return this.gos.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:o})}createRowEventWithSource(n,o){let r=this.createRowEvent(n,o);return r.source=this,r}onRowDblClick(n){mh(n)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",n))}getColumnForFullWidth(n){let{visibleColsService:o}=this.beans;switch(n?.containerType){case"center":return o.getCenterCols()[0];case"left":return o.getLeftCols()[0];case"right":return o.getRightCols()[0];default:return o.getAllCols()[0]}}onRowMouseDown(n){if(this.lastMouseDownOnDragger=cv(n.target,"ag-row-drag",3),!this.isFullWidth())return;let o=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();let r=this.findFullWidthRowGui(n.target),s=r?.element,l=n.target,c=!0;s&&s.contains(l)&&W6(l)&&(c=!1),this.beans.focusService.setFocusedCell({rowIndex:o.rowIndex,column:this.getColumnForFullWidth(r),rowPinned:o.rowPinned,forceBrowserFocus:c})}onRowClick(n){if(mh(n)||this.lastMouseDownOnDragger)return;let{gos:r}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",n));let s=n.ctrlKey||n.metaKey,l=n.shiftKey,c=this.rowNode.isSelected(),u=If(r),d=mq(r),h=vge(r);if(u&&this.rowNode.group||this.isRowSelectionBlocked()||!h&&!c||!d&&c)return;let p=Cge(r),g="rowClicked";if(c)p?this.rowNode.setSelectedParams({newValue:!1,event:n,source:g}):s?d&&this.rowNode.setSelectedParams({newValue:!1,event:n,source:g}):h&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l,rangeSelect:l,event:n,source:g});else{let f=p?!1:!s;this.rowNode.setSelectedParams({newValue:!0,clearSelection:f,rangeSelect:l,event:n,source:g})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!J2(this.gos)}setupDetailRowAutoHeight(n){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;let o=()=>{let s=n.clientHeight;if(s!=null&&s>0){let l=()=>{this.rowNode.setRowHeight(s),(Wn(this.gos)||wh(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(l,0)}},r=this.beans.resizeObserverService.observeResize(n,o);this.addDestroyFunc(r),o()}createFullWidthCompDetails(n,o){let{gos:r,rowNode:s}=this,l=r.addGridCommonParams({fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:n,eParentOfValue:n,pinned:o,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(u,d,h,p)=>this.addFullWidthRowDragging(u,d,h,p),setTooltip:(u,d)=>this.refreshRowTooltip(u,d)}),c=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return c.getFullWidthDetailCellRendererDetails(l);case"FullWidthGroup":return c.getFullWidthGroupCellRendererDetails(l);case"FullWidthLoading":return c.getFullWidthLoadingCellRendererDetails(l);default:return c.getFullWidthCellRendererDetails(l)}}refreshRowTooltip(n,o){if(!this.fullWidthGui)return;let r={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:o};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new vv(r,this.beans))}addFullWidthRowDragging(n,o,r="",s){if(!this.isFullWidth())return;let l=new x6(()=>r,this.rowNode,void 0,n,o,s);this.createBean(l,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(l,this.beans.context)})}onUiLevelChanged(){let n=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=n){let o="ag-row-level-"+n,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(o,!0),s.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=n}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){let n=this.isFirstRowOnPage(),o=this.isLastRowOnPage();this.firstRowOnPage!==n&&(this.firstRowOnPage=n,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-first",n))),this.lastRowOnPage!==o&&(this.lastRowOnPage=o,this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-last",o)))}stopEditing(n=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,n)}setInlineEditingCss(){let n=this.editingRow||this.getAllCellCtrls().some(o=>o.isEditing());this.allRowGuis.forEach(o=>{o.rowComp.addOrRemoveCssClass("ag-row-inline-editing",n),o.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!n)})}setEditingRow(n){this.editingRow=n}startRowEditing(n=null,o=null,r=null){return this.editingRow?!0:this.beans.rowEditService?.startEditing(this,n,o,r)??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(o=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(o,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,n=>{this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass(n,!0))},n=>{this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass(n,!1))})}setStylesFromGridOptions(n,o){n&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(o,r=>r.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(n){return n==="left"||n==="right"?n:null}getInitialRowClasses(n){let o=this.getPinnedForContainer(n),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[n],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:o};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)}processStylesFromGridOptions(){let n=this.gos.get("rowStyle");if(n&&typeof n=="function"){tt("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}let o=this.gos.getCallback("getRowStyle"),r;if(o){let s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=o(s)}return r||n?Object.assign({},n,r):this.emptyStyle}onRowSelected(n){let o=!!this.rowNode.isSelected();this.forEachGui(n,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",o),r3(r.element,o),r.element.contains(On(this.gos))&&(r===this.centerGui||r===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;let n=this.rowNode.isSelected();if(n&&!mq(this.gos))return;let r=this.beans.localeService.getLocaleTextFunc()(n?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${n?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(r,"rowSelection")}addHoverFunctionality(n){if(!this.active)return;let{element:o,compBean:r}=n,{rowNode:s,beans:l,gos:c}=this;r.addManagedListeners(o,{mouseenter:()=>s.onMouseEnter(),mouseleave:()=>s.onMouseLeave()}),r.addManagedListeners(s,{mouseEnter:()=>{!l.dragService.isDragging()&&!c.get("suppressRowHoverHighlight")&&(o.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{o.classList.remove("ag-row-hover"),s.setHovered(!1)}})}roundRowTopToBounds(n){let o=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(o.top,!0)-100,s=this.applyPaginationOffset(o.bottom,!0)+100;return Math.min(Math.max(r,n),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(n,o){n?o(n):this.allRowGuis.forEach(o)}onRowHeightChanged(n){if(this.rowNode.rowHeight==null)return;let o=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),l=Wq(this.gos)?Fp(this.gos,this.rowNode).height:void 0,c=l?`${Math.min(r,l)-2}px`:void 0;this.forEachGui(n,u=>{u.element.style.height=`${o}px`,c&&u.element.style.setProperty("--ag-line-height",c)})}addEventListener(n,o){super.addEventListener(n,o)}removeEventListener(n,o){super.removeEventListener(n,o)}destroyFirstPass(n=!1){if(this.active=!1,!n&&lv(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){let s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);let o=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(o),this.beans.eventService.dispatchEvent(o),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();let n=o=>(o.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=n(this.centerCellCtrls),this.leftCellCtrls=n(this.leftCellCtrls),this.rightCellCtrls=n(this.rightCellCtrls)}setFocusedClasses(n){this.forEachGui(n,o=>{o.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),o.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let n=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){let n=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==n&&(this.paginationPage=n,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(n,o=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return n;let r=this.beans.pageBoundsService.getPixelOffset();return n+r*(o?1:-1)}setRowTop(n){if(!this.printLayout&&rt(n)){let o=this.applyPaginationOffset(n),l=`${this.rowNode.isRowPinned()||this.rowNode.sticky?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}px`;this.setRowTopStyle(l)}}getInitialRowTop(n){return this.suppressRowTransform?this.getInitialRowTopShared(n):void 0}getInitialTransform(n){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(n)})`}getInitialRowTopShared(n){if(this.printLayout)return"";let o=this.rowNode,r;if(this.isSticky())r=o.stickyRowTop;else{let s=this.slideInAnimation[n]?this.roundRowTopToBounds(o.oldRowTop):o.rowTop,l=this.applyPaginationOffset(s);r=o.isRowPinned()?l:this.beans.rowContainerHeightService.getRealPixelPosition(l)}return r+"px"}setRowTopStyle(n){this.allRowGuis.forEach(o=>this.suppressRowTransform?o.rowComp.setTop(n):o.rowComp.setTransform(`translateY(${n})`))}getRowNode(){return this.rowNode}getCellCtrl(n){let o=null;return this.getAllCellCtrls().forEach(r=>{r.getColumn()==n&&(o=r)}),o!=null||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(n)>=0&&(o=r)}),o}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(n){let o=this.rowNode.getRowIndexString();if(o===null)return;let r=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),s=this.rowNode.rowIndex%2===0,l=r+this.rowNode.rowIndex+1;this.forEachGui(n,c=>{c.rowComp.setRowIndex(o),c.rowComp.addOrRemoveCssClass("ag-row-even",s),c.rowComp.addOrRemoveCssClass("ag-row-odd",!s),pK(c.element,l)})}setStoppingRowEdit(n){this.stoppingRowEdit=n}};return e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e})(),Df=Gve,Wve=class extends Ye{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){let e="keydown",i=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:i})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Jq("touchstart")?"touchstart":"mousedown"].forEach(n=>{let o=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:o})})}processMouseEvent(e,i){if(!this.mouseEventService.isEventFromThisGrid(i)||mh(i))return;let n=this.getRowForEvent(i),o=this.mouseEventService.getRenderedCellForEvent(i);e==="contextmenu"?this.handleContextMenuMouseEvent(i,void 0,n,o):(o&&o.onMouseEvent(e,i),n&&n.onMouseEvent(e,i))}mockContextMenuForIPad(){if(!Op())return;let e=new Ap(this.element),i=n=>{let o=this.getRowForEvent(n.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(void 0,n.touchEvent,o,r)};this.addManagedListeners(e,{longTap:i}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let i=e.target;for(;i;){let n=$y(this.gos,i,Df.DOM_DATA_KEY_ROW_CTRL);if(n)return n;i=i.parentElement}return null}handleContextMenuMouseEvent(e,i,n,o){let r=n?n.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){let d=e||i;o.dispatchCellContextMenuEvent(d??null),l=this.valueService.getValue(s,r)}let c=this.ctrlsService.getGridBodyCtrl(),u=o?o.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,rowNode:r,column:s,value:l,anchorToElement:u})}getControlsForEventTarget(e){return{cellCtrl:f6(this.gos,e,xf.DOM_DATA_KEY_CELL_CTRL),rowCtrl:f6(this.gos,e,Df.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,i){let{cellCtrl:n,rowCtrl:o}=this.getControlsForEventTarget(i.target);i.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,i):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,e,i))}processCellKeyboardEvent(e,i,n){let o=e.getRowNode(),r=e.getColumn(),s=e.isEditing();!D6(this.gos,n,o,r,s)&&i==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),WK(n)&&e.processCharacter(n)),i==="keydown"&&this.eventService.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,i,n){let o=e.getRowNode(),r=this.focusService.getFocusedCell(),s=r&&r.column;if(!D6(this.gos,n,o,s,!1)){let c=n.key;if(i==="keydown")switch(c){case Qe.PAGE_HOME:case Qe.PAGE_END:case Qe.PAGE_UP:case Qe.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case Qe.UP:case Qe.DOWN:e.onKeyboardNavigate(n);break;case Qe.TAB:e.onTabKeyDown(n);break;default:}}i==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,i){if(!e.ctrlKey&&!e.metaKey||i||!this.mouseEventService.isEventFromThisGrid(e))return;let n=Hme(e);if(n===Qe.A)return this.onCtrlAndA(e);if(n===Qe.C)return this.onCtrlAndC(e);if(n===Qe.D)return this.onCtrlAndD(e);if(n===Qe.V)return this.onCtrlAndV(e);if(n===Qe.X)return this.onCtrlAndX(e);if(n===Qe.Y)return this.onCtrlAndY();if(n===Qe.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){let{pinnedRowModel:i,rowModel:n,rangeService:o}=this;if(o&&n.isRowsToRender()){let[r,s]=[i.isEmpty("top"),i.isEmpty("bottom")],l=r?null:"top",c,u;s?(c=null,u=n.getRowCount()-1):(c="bottom",u=i.getPinnedBottomRowCount()-1);let d=this.visibleColsService.getAllCols();if(Ds(d))return;o.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:u,rowEndPinned:c,columnStart:d[0],columnEnd:Oi(d)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);i?.isEditing()||n?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);i?.isEditing()||n?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(e.target);i?.isEditing()||n?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},jve=class extends Ye{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){let e=this.pinnedWidthService.getPinnedLeftWidth(),i=e>0;Ln(this.element,i),bl(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},Uve=class extends Ye{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){let e=this.pinnedWidthService.getPinnedRightWidth(),i=e>0;Ln(this.element,i),bl(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},j2=e=>e.getTopRowCtrls(),U2=e=>e.getStickyTopRowCtrls(),$2=e=>e.getStickyBottomRowCtrls(),q2=e=>e.getBottomRowCtrls(),K2=e=>e.getCentreRowCtrls(),$ve={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:K2},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:K2},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:K2},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:K2},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:j2},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:j2},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:j2},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:j2},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:U2},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:U2},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:U2},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:U2},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:$2},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:$2},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:$2},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:$2},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:q2},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:q2},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:q2},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:q2}};function av(e){return $ve[e]}var qve=["topCenter","topLeft","topRight"],Kve=["bottomCenter","bottomLeft","bottomRight"],Yve=["center","left","right"],Zve=["center","left","right","fullWidth"],Qve=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Xve=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Jve=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],cY=["stickyTopCenter","stickyTopLeft","stickyTopRight"],uY=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],eCe=[...cY,"stickyTopFullWidth",...uY,"stickyBottomFullWidth"],tCe=[...qve,...Kve,...Yve,...cY,...uY],iCe=class extends Ye{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=av(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new pve(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,i){e.indexOf(this.name)>=0&&i()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,i,n){this.comp=e,this.eContainer=i,this.eViewport=n,this.createManagedBean(new Wve(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let o=()=>this.onPinnedWidthChanged();this.forContainers(Xve,()=>{this.pinnedWidthFeature=this.createManagedBean(new jve(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(Jve,()=>{this.pinnedWidthFeature=this.createManagedBean(new Uve(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(Zve,()=>this.createManagedBean(new lY(this.eContainer,this.name==="center"?n:void 0))),this.forContainers(tCe,()=>this.createManagedBean(new gve(this.eContainer))),this.forContainers(Qve,()=>this.createManagedBean(new s4(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(eCe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let i=()=>{let n=this.gos.get("ensureDomOrder"),o=ir(this.gos,"print");this.comp.setDomOrder(n||o)};this.addManagedPropertyListener("domLayout",i),i()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let e=i=>{this.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){let i=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(i,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return tS(this.eViewport)}getCenterViewportScrollLeft(){return l3(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>i())}isViewportInTheDOMTree(){return SK(this.eViewport)}getViewportScrollLeft(){return l3(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Cfe(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){c3(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let i=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||i.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let n=ir(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=i.filter(l=>{let c=l.isFullWidth();return this.options.fullWidth?!r&&c:r||!c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},dY="ag-force-vertical-scroll",nCe="ag-selectable",oCe="ag-column-moving",rCe=class extends Ye{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,i,n,o,r,s,l){this.comp=e,this.eGridBody=i,this.eBodyViewport=n,this.eTop=o,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=l,this.eCenterColsViewport=n.querySelector(`.${av("center").viewport}`),this.eFullWidthContainer=n.querySelector(`.${av("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${av("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=l.querySelector(`.${av("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",c=>this.setCellTextSelection(c.currentValue)),this.createManagedBean(new l4(this.comp)),this.bodyScrollFeature=this.createManagedBean(new hve(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,r,s,l]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(o),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){let e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(i=>{this.addManagedElementListeners(i,{focusin:n=>{let{target:o}=n,r=cv(o,"ag-root",i);i.classList.toggle("ag-has-focus",!r)},focusout:n=>{let{target:o,relatedTarget:r}=n,s=i.contains(r),l=cv(r,"ag-root",i);cv(o,"ag-root",i)||(!s||l)&&i.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(oCe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(nCe,e)}onScrollVisibilityChanged(){let e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();let i=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=CK()?16:0,o=`calc(100% + ${i+n}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(o)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){let e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let e=n=>{let o=n.relatedTarget;if(S6(o)===null){this.rowRenderer.stopEditing();return}let r=i.some(s=>s.contains(o))&&this.mouseEventService.isElementInThisGrid(o);if(!r){let s=this.popupService;r=s.getActivePopups().some(l=>l.contains(o))||s.isElementWithinCustomPopup(o)}r||this.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];i.forEach(n=>this.addManagedElementListeners(n,{focusout:e}))}updateRowCount(){let e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=i===-1?-1:e+i;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let i=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(i)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),i=e?dY:null,n=ir(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(i,e),e||n&&wfe(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes(),i=()=>{let n=e&&lv(this.gos)&&!this.rowContainerHeightService.isStretching(),o=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,n)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,i())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){let e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:i,deltaY:n,shiftKey:o}=e;(o||Math.abs(i)>Math.abs(n))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaX:i,deltaY:n,shiftKey:o}=e,r=o||Math.abs(i)>Math.abs(n),s=e.target;r?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){let{deltaX:i,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:i||n})}onBodyViewportContextMenu(e,i,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();let{target:o}=e||i;(o===this.eBodyViewport||o===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Op())return;let i=new Ap(this.eBodyViewport),n=o=>{e(void 0,o.touchStart,o.touchEvent)};this.addManagedListeners(i,{longTap:n}),this.addDestroyFunc(()=>i.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){let i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new vme(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){let{pinnedRowModel:e}=this,i=e.getPinnedTopTotalHeight(),n=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(i),this.comp.setBottomHeight(n),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let i=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${i}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${i}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){let i=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;i>0&&(o+=i),n>0&&(o+=n),o>0&&(o+=1),this.comp.setStickyTopTop(`${o}px`)}setStickyBottomOffsetBottom(){let e=this.pinnedRowModel.getPinnedBottomTotalHeight(),n=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,o=e+n;this.comp.setStickyBottomBottom(`${o}px`)}sizeColumnsToFit(e,i){let o=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,s=tS(this.eGridBody)-o;if(s>0){this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e);return}i===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):i===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):i===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):tt("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},sCe=class extends Vi{constructor(e,i,n,o,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=i.getColumn(),this.rowNode=i.getRowNode(),this.rowCtrl=i.getRowCtrl(),this.eRow=o,this.cellCtrl=i;let s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);let l=this.getGui();this.forceWrapper=i.isForceWrapper(),this.refreshWrapper(!1),ss(l,i.getCellAriaRole()),l.setAttribute("col-id",i.colIdSanitised);let c={addOrRemoveCssClass:(u,d)=>this.addOrRemoveCssClass(u,d),setUserStyles:u=>DK(l,u),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:u=>this.includeSelection=u,setIncludeRowDrag:u=>this.includeRowDrag=u,setIncludeDndSource:u=>this.includeDndSource=u,setRenderDetails:(u,d,h)=>this.setRenderDetails(u,d,h),setEditDetails:(u,d,h)=>this.setEditDetails(u,d,h),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};i.setComp(c,this.getGui(),this.eCellWrapper,n,r,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,i,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}setEditDetails(e,i,n){e?this.createCellEditorInstance(e,i,n):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let i=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=i||this.forceWrapper,o=n&&this.eCellWrapper==null;if(o){let d=document.createElement("div");d.setAttribute("role","presentation"),d.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=d,this.getGui().appendChild(this.eCellWrapper)}let r=!n&&this.eCellWrapper!=null;r&&(Zs(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);let s=!e&&n,l=s&&this.eCellValue==null;if(l){let d=document.createElement("span");d.setAttribute("role","presentation"),d.setAttribute("class","ag-cell-value"),this.eCellValue=d,this.eCellWrapper.appendChild(this.eCellValue)}let c=!s&&this.eCellValue!=null;c&&(Zs(this.eCellValue),this.eCellValue=void 0);let u=o||r||l||c;return u&&this.removeControls(),e||i&&this.addControls(),u}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,i,n){let o=this.editorVersion,r=e.newAgStackInstance();if(r==null)return;let{params:s}=e;r.then(c=>this.afterCellEditorCreated(o,c,s,i,n)),Ti(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let i=this.getParentOfValue();mr(i);let n=e!=null?vu(e,!0):null;n!=null&&(i.textContent=n)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Zs(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Zs(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let i=this.cellRenderer.refresh(e.params);return i===!0||i===void 0}createCellRendererInstance(e){let n=!this.beans.gos.get("suppressAnimationFrame"),o=this.rendererVersion,{componentClass:r}=e,s=()=>{if(this.rendererVersion!==o||!this.isAlive())return;let c=e.newAgStackInstance(),u=this.afterCellRendererCreated.bind(this,o,r);c&&c.then(u)};n&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,i,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}if(this.cellRenderer=n,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){let r=this.getParentOfValue();mr(r),r.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,i,n,o,r){if(e!==this.editorVersion){this.beans.context.destroyBean(i);return}if(i.isCancelBeforeStart&&i.isCancelBeforeStart()){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing(!0);return}if(!i.getGui){tt(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();let c=o||i.isPopup!==void 0&&i.isPopup();c?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,c),i.afterGuiAttached&&i.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,i){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){let e=this.getGui();e.contains(On(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,i){this.beans.gos.get("editType")==="fullRow"&&tt("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");let n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));let o=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&o.appendChild(this.cellEditorGui);let r=this.beans.popupService,s=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),l=i??n.getPopupPosition?.()??"over",c=this.beans.gos.get("enableRtl"),u={ePopup:o,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:l,alignSide:c?"right":"left",keepWithinBounds:!0},d=r.positionPopupByComponent.bind(r,u),h=this.beans.localeService.getLocaleTextFunc(),p=r.addPopup({modal:s,eChild:o,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:d,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){let e=this.getGui();e.contains(On(this.beans.gos))&&y6()&&e.focus({preventScroll:!0}),mr(this.getParentOfValue())}},aCe=class extends Vi{constructor(e,i,n){super(),this.cellComps={},this.beans=i,this.rowCtrl=e;let o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),o.setAttribute("style",this.getInitialStyle(n)),this.setTemplateFromElement(o);let r=this.getGui(),s=r.style;this.domOrder=this.rowCtrl.getDomOrder(),ss(r,"row");let l={setDomOrder:c=>this.domOrder=c,setCellCtrls:c=>this.setCellCtrls(c),showFullWidth:c=>this.showFullWidth(c),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(c,u)=>this.addOrRemoveCssClass(c,u),setUserStyles:c=>DK(r,c),setTop:c=>s.top=c,setTransform:c=>s.transform=c,setRowIndex:c=>r.setAttribute("row-index",c),setRowId:c=>r.setAttribute("row-id",c),setRowBusinessKey:c=>r.setAttribute("row-business-key",c),refreshFullWidth:c=>this.fullWidthCellRenderer?.refresh?.(c())??!1};e.setComp(l,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n)})}getInitialStyle(e){let i=this.rowCtrl.getInitialTransform(e);return i?`transform: ${i}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){let i=o=>{if(this.isAlive()){let r=o.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(o)}else this.beans.context.destroyBean(o)},n=e.newAgStackInstance();n?.then(i)}setCellCtrls(e){let i=Object.assign({},this.cellComps);e.forEach(o=>{let r=o.instanceId;this.cellComps[r]==null?this.newCellComp(o):i[r]=null});let n=Tp(i).filter(o=>o!=null);this.destroyCells(n),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let i=[];e.forEach(n=>{let o=this.cellComps[n.instanceId];o&&i.push(o.getGui())}),xK(this.getGui(),i)}newCellComp(e){let i=new sCe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=i,this.getGui().appendChild(i.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){let e=Tp(this.cellComps).filter(i=>i!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&Wi("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(i=>{if(!i)return;let n=i.getCtrl().instanceId;this.cellComps[n]===i&&(i.detach(),i.destroy(),this.cellComps[n]=null)})}};function lCe(e){let i;return e.type==="center"?i=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer"></div>
            </div>`:i=`<div class="${e.container}" data-ref="eContainer"></div>`,i}var cCe=class extends Vi{constructor(){super(),this.eViewport=ft,this.eContainer=ft,this.rowComps={},this.name=Vi.elementGettingCreated.getAttribute("name"),this.options=av(this.name),this.setTemplate(lCe(this.options))}wireBeans(e){this.beans=e}postConstruct(){let e={setHorizontalScroll:n=>this.eViewport.scrollLeft=n,setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>this.eContainer.style.width=n,setOffsetTop:n=>this.eContainer.style.transform=`translateY(${n})`};this.createManagedBean(new iCe(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){let i=We({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;let n=o=>{let r=o.instanceId,s=i[r];if(s)this.rowComps[r]=s,delete i[r],this.ensureDomOrder(s.getGui());else{if(!o.getRowNode().displayed)return;let l=new aCe(o,this.beans,this.options.type);this.rowComps[r]=l,this.appendRow(l.getGui())}};e.forEach(n),Tp(i).forEach(o=>{this.eContainer.removeChild(o.getGui()),o.destroy()}),ss(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?vfe(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(_K(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}},uCe={selector:"AG-ROW-CONTAINER",component:cCe};function Oy(e){return e.map(i=>`<ag-row-container name="${i}"></ag-row-container>`).join("")}var dCe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${Oy(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${Oy(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${Oy(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${Oy(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${Oy(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,hCe=class extends Vi{constructor(){super(dCe,[ave,cve,dve,rve,uCe]),this.eBodyViewport=ft,this.eStickyTop=ft,this.eStickyBottom=ft,this.eTop=ft,this.eBottom=ft,this.eBody=ft}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){let e=(n,o)=>{let r=`${n}px`;o.style.minHeight=r,o.style.height=r},i={setRowAnimationCssOnBodyViewport:(n,o)=>this.setRowAnimationCssOnBodyViewport(n,o),setColumnCount:n=>sfe(this.getGui(),n),setRowCount:n=>rfe(this.getGui(),n),setTopHeight:n=>e(n,this.eTop),setBottomHeight:n=>e(n,this.eBottom),setTopDisplay:n=>this.eTop.style.display=n,setBottomDisplay:n=>this.eBottom.style.display=n,setStickyTopHeight:n=>this.eStickyTop.style.height=n,setStickyTopTop:n=>this.eStickyTop.style.top=n,setStickyTopWidth:n=>this.eStickyTop.style.width=n,setStickyBottomHeight:n=>{this.eStickyBottom.style.height=n,this.eStickyBottom.classList.toggle("ag-hidden",n==="0px")},setStickyBottomBottom:n=>this.eStickyBottom.style.bottom=n,setStickyBottomWidth:n=>this.eStickyBottom.style.width=n,setColumnMovingCss:(n,o)=>this.addOrRemoveCssClass(n,o),updateLayoutClasses:(n,o)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle("ag-layout-auto-height",o.autoHeight),s.toggle("ag-layout-normal",o.normal),s.toggle("ag-layout-print",o.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",o.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",o.normal),this.addOrRemoveCssClass("ag-layout-print",o.print)},setAlwaysVerticalScrollClass:(n,o)=>this.eBodyViewport.classList.toggle(dY,o),registerBodyViewportResizeListener:n=>{let o=this.resizeObserverService.observeResize(this.eBodyViewport,n);this.addDestroyFunc(()=>o())},setPinnedTopBottomOverflowY:n=>this.eTop.style.overflowY=this.eBottom.style.overflowY=n,setCellSelectableCss:(n,o)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(n,o))},setBodyViewportWidth:n=>this.eBodyViewport.style.width=n};this.ctrl=this.createManagedBean(new rCe),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&Cu(this.gos)||P6(this.gos))&&ofe(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,i){let n=this.eBodyViewport.classList;n.toggle("ag-row-animation",i),n.toggle("ag-row-no-animation",!i)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},pCe={selector:"AG-GRID-BODY",component:hCe},gCe=class extends Ye{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;let i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsService.get("center"),i=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==i||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=i,this.verticalScrollGap=n,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:gfe();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},kq="__ag_grid_instance",hY=class pY extends Ye{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=pY.gridInstanceSequence.next()}wireBeans(i){this.ctrlsService=i.ctrlsService}stampTopLevelGridCompWithGridInstance(i){i[kq]=this.gridInstanceId}getRenderedCellForEvent(i){return f6(this.gos,i.target,xf.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(i){return this.isElementInThisGrid(i.target)}isElementInThisGrid(i){let n=i;for(;n;){let o=n[kq];if(rt(o))return o===this.gridInstanceId;n=n.parentElement}return!1}getCellPositionForEvent(i){let n=this.getRenderedCellForEvent(i);return n?n.getCellPosition():null}getNormalisedPosition(i){let n=ir(this.gos,"normal"),o=i,r,s;if(o.clientX!=null||o.clientY!=null?(r=o.clientX,s=o.clientY):(r=o.x,s=o.y),n){let l=this.ctrlsService.getGridBodyCtrl(),c=l.getScrollFeature().getVScrollPosition(),u=l.getScrollFeature().getHScrollPosition();r+=u.left,s+=c.top}return{x:r,y:s}}};hY.gridInstanceSequence=new gv;var fCe=hY,mCe=class extends Ye{constructor(){super(),this.beanName="navigationService",this.onPageDown=gq(this.onPageDown,100),this.onPageUp=gq(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,i=!1){let n=e.key,o=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),c=!1;switch(n){case Qe.PAGE_HOME:case Qe.PAGE_END:!r&&!o&&(this.onHomeOrEndKey(n),c=!0);break;case Qe.LEFT:case Qe.RIGHT:case Qe.UP:case Qe.DOWN:if(!l)return!1;r&&!o&&!s&&(this.onCtrlUpDownLeftRight(n,l),c=!0);break;case Qe.PAGE_DOWN:case Qe.PAGE_UP:!r&&!o&&(c=this.handlePageUpDown(n,l,i));break}return c&&e.preventDefault(),c}handlePageUpDown(e,i,n){return n&&(i=this.focusService.getFocusedCell()),i?(e===Qe.PAGE_UP?this.onPageUp(i):this.onPageDown(i),!0):!1}navigateTo(e){let{scrollIndex:i,scrollType:n,scrollColumn:o,focusIndex:r,focusColumn:s}=e;rt(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),rt(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){let n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),s=n.top+o,l=this.rowModel.getRowIndexAtPixel(s+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)}onPageUp(e){let n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.pageBoundsService.getPixelOffset(),r=n.top,s=this.rowModel.getRowIndexAtPixel(r+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,i,n=!1){let o=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),l=this.pageBoundsService.getPixelOffset(),c=this.rowModel.getRow(e.rowIndex),u=n?c?.rowHeight-o-l:o-l,d=c?.rowTop+u,h=this.rowModel.getRowIndexAtPixel(d+l);if(h===e.rowIndex){let g=n?-1:1;i=h=e.rowIndex+g}let p;n?(p="bottom",h<r&&(h=r),i<r&&(i=r)):(p="top",h>s&&(h=s),i>s&&(i=s)),this.isRowTallerThanView(h)&&(i=h,p="top"),this.navigateTo({scrollIndex:i,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,i,n=!1){this.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column}),setTimeout(()=>{let o=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:i,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,i=!1){let n=i?-1:1,o=this.getViewportHeight(),r=this.pageBoundsService.getLastRow(),s=0,l=e.rowIndex;for(;l>=0&&l<=r;){let c=this.rowModel.getRow(l);if(c){let u=c.rowHeight??0;if(s+u>o)break;s+=u}l+=n}return Math.max(0,Math.min(l,r))}getViewportHeight(){let e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.scrollVisibleService.getScrollbarWidth(),n=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(n-=i),n}isRowTallerThanView(e){let i=this.rowModel.getRow(e);if(!i)return!1;let n=i.rowHeight;return typeof n!="number"?!1:n>this.getViewportHeight()}onCtrlUpDownLeftRight(e,i){let n=this.cellNavigationService.getNextCellToFocus(e,i,!0),{rowIndex:o}=n,r=n.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:r,focusIndex:o,focusColumn:r})}onHomeOrEndKey(e){let i=e===Qe.PAGE_HOME,n=this.visibleColsService.getAllCols(),o=i?n[0]:Oi(n),r=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o})}onTabKeyDown(e,i){let n=i.shiftKey,o=this.tabToNextCellCommon(e,n,i);if(o!==!1){o?i.preventDefault():o===null&&this.focusService.allowFocusForNextGridCoreContainer(n);return}if(n){let{rowIndex:r,rowPinned:s}=e.getRowPosition();(s?r===0:r===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(i.preventDefault(),this.focusService.focusPreviousFromFirstCell(i)))}else e instanceof xf&&e.focusCell(!0),(!n&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(n))&&i.preventDefault()}tabToNextCell(e,i){let n=this.focusService.getFocusedCell();if(!n)return!1;let o=this.getCellByPosition(n);return!o&&(o=this.rowRenderer.getRowByPosition(n),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,i)}tabToNextCellCommon(e,i,n){let o=e.isEditing();if(!o&&e instanceof xf){let l=e.getRowCtrl();l&&(o=l.isEditing())}let r;return o?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,i,n):r=this.moveToNextEditingCell(e,i,n):r=this.moveToNextCellNotEditing(e,i),r===null?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,i,n=null){let o=e.getCellPosition();e.getGui().focus(),e.stopEditing();let r=this.findNextCellToFocusOn(o,i,!0);return r===!1?null:r==null?!1:(r.startEditing(null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(e,i,n=null){let o=e.getCellPosition(),r=this.findNextCellToFocusOn(o,i,!0);if(r===!1)return null;if(r==null)return!1;let s=r.getCellPosition(),l=this.isCellEditable(o),c=this.isCellEditable(s),u=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;return l&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,n)),c?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,i){let n=this.visibleColsService.getAllCols(),o;e instanceof Df?o=Ft(We({},e.getRowPosition()),{column:i?n[0]:Oi(n)}):o=e.getCellPosition();let r=this.findNextCellToFocusOn(o,i,!1);if(r===!1)return null;if(r instanceof xf)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),i);return rt(r)}findNextCellToFocusOn(e,i,n){let o=e;for(;;){e!==o&&(e=o),i||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,i);let r=this.gos.getCallback("tabToNextCell");if(rt(r)){let u=r({backwards:i,editing:n,previousCellPosition:e,nextCellPosition:o||null});if(u===!0||u===null)u===null&&tt("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),o=e;else{if(u===!1)return!1;o={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}}}if(!o)return null;if(o.rowIndex<0){let c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+o.rowIndex,column:o.column},fromCell:!0}),null}let s=this.gos.get("editType")==="fullRow";if(n&&!s&&!this.isCellEditable(o))continue;this.ensureCellVisible(o);let l=this.getCellByPosition(o);if(!l){let c=this.rowRenderer.getRowByPosition(o);if(!c||!c.isFullWidth()||n)continue;return c}if(!l.isSuppressNavigable())return this.rangeService?.setRangeToCell(o),l}}isCellEditable(e){let i=this.lookupRowNodeForCell(e);return i?e.column.isCellEditable(i):!1}getCellByPosition(e){let i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,i,n,o){let r=n,s=!1;for(;r&&(r===n||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?i===Qe.LEFT&&(r=this.getLastCellOfColSpan(r)):i===Qe.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(i,r),s=Ti(r);if(s&&e&&e.key===Qe.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),o){let c=this.gos.getCallback("navigateToNextCell");if(rt(c)){let d=c({key:i,previousCellPosition:n,nextCellPosition:r||null,event:e});rt(d)?r={rowPinned:d.rowPinned,rowIndex:d.rowIndex,column:d.column}:r=null}}if(!r)return;if(r.rowIndex<0){let c=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}let l=this.getNormalisedPosition(r);l?this.focusPosition(l):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);let i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,i){let n=this.visibleColsService.getAllCols(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;let r=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?Oi(n):n[0])};this.focusPosition(s);let l=i??(r!=null&&this.rowPositionUtils.before(s,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:l}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){let i=this.getCellByPosition(e);if(!i)return e;let n=i.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Oi(n),rowPinned:e.rowPinned}}ensureCellVisible(e){let i=p3(this.gos),n=this.rowModel.getRow(e.rowIndex);!(i&&n?.sticky)&&Ti(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},vCe=class extends Ye{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){let i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(i),()=>this.dragService.removeDragSource(i)}onDragStart(e,i){this.dragStartX=i.clientX,this.setResizeIcons();let n=i instanceof MouseEvent&&i.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},CCe=class extends Ye{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,i,n){this.showPopup(e,o=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:i,ePopup:o})},n,i.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,i,n){let o=-1,r="left",s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(o=1,r="right");let l=s?void 0:4*o,c=s?void 0:4;this.showPopup(e,u=>{this.popupService.positionPopupByComponent({type:n,eventSource:i,ePopup:u,nudgeX:l,nudgeY:c,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},n,i,s)}showPopup(e,i,n,o,r){let s=e?this.createBean(new xme(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");let l=document.createElement("div");ss(l,"presentation"),l.classList.add("ag-menu"),r||l.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(l,{keydown:y=>this.trapFocusWithin(y,l)}),l.appendChild(s?.getGui());let c,u=()=>s?.afterGuiDetached(),d=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=y=>{e.setMenuVisible(!1,"contextMenu");let M=y instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),M&&o&&yl(o)){let k=this.focusService.findTabbableParent(o);k&&k.focus()}u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e)},p=this.localeService.getLocaleTextFunc(),g=r&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),f=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:h,positionCallback:()=>i(l),anchorToElement:d,ariaLabel:g});f&&(this.hidePopup=c=f.hideFunc),s.afterInit().then(()=>{i(l),s.afterGuiAttached({container:n,hidePopup:c})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,i){e.key!==Qe.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))}dispatchVisibleChangedEvent(e,i,n){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:i,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},wCe=class extends Ye{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,i){let o=jq(this.gos).ResizeObserver,r=o?new o(i):null;return r?.observe(e),()=>r?.disconnect()}},bCe=class extends Ye{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){let i=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&e===0){let n=this.paginationService?.getCurrentPage()??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&tt(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,i,n){this.verifyAnimationFrameOn(n);let o={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,i){e.list.push(i),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let i=this.scrollGoingDown?1:-1;e.list.sort((n,o)=>n.index!==o.index?i*(o.index-n.index):o.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");let i=this.createTasksP1,n=i.list,o=this.createTasksP2,r=o.list,s=this.destroyTasks,l=new Date().getTime(),c=new Date().getTime()-l,u=e<=0,d=this.ctrlsService.getGridBodyCtrl();for(;u||c<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){let p;if(n.length)this.sortTaskList(i),p=n.pop().task;else if(r.length)this.sortTaskList(o),p=r.pop().task;else if(s.length)p=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}c=new Date().getTime()-l}n.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){let i=jq(this.gos);i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let i=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}i||(i=!0,this.addDestroyTask(()=>{i=!1,e()}))}}};var yCe=class extends Ye{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Wn(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;let i=new Set(e);this.rowModel.forEachNode(n=>{n.id&&i.has(n.id)&&(n.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){let e=[];return this.rowModel.forEachNode(({expanded:i,id:n})=>{i&&n&&e.push(n)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,i,n,o){e&&(n&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,i,n,o),e.setExpanded(i,void 0,o))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},SCe=class extends Ye{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let i=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,i,n){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,i,n)}getContextMenuPosition(e,i){let n=this.getRowCtrl(e),o=this.getCellGui(n,i);if(!o)return n?{x:0,y:n.getRowYPosition()}:{x:0,y:0};let r=o.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){let i=e.rowNode,n=e.column,{anchorToElement:o,value:r}=e;i&&n&&r==null&&(r=this.valueService.getValueForDisplay(n,i)),o==null&&(o=this.getContextMenuAnchorElement(i,n)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,i??null,n??null,r,o)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){let{suppressMenu:i,suppressHeaderMenuButton:n}=e.getColDef();return!(n??i)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Pp(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(Op()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){let i=e.getColDef(),n=i.floatingFilterComponentParams?.suppressFilterButton;return n!=null&&tt("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!n:!i.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,i,n,o){let{positionBy:r}=i,s=i.column;if(r==="button"){let{buttonElement:l}=i;e.showMenuAfterButtonClick(s,l,n,o)}else if(r==="mouse"){let{mouseEvent:l}=i;e.showMenuAfterMouseEvent(s,l,n,o)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{let l=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);l&&e.showMenuAfterButtonClick(s,l.getAnchorElementForMenu(o),n,!0)}))}getRowCtrl(e){let{rowIndex:i,rowPinned:n}=e||{};if(i!=null)return this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n})||void 0}getCellGui(e,i){return!e||!i?void 0:e.getCellCtrl(i)?.getGui()||void 0}getContextMenuAnchorElement(e,i){let n=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),o=this.getRowCtrl(e);if(!o)return n;let r=this.getCellGui(o,i);return r||(o.isFullWidth()?o.getFullWidthElement():n)}},_Ce=class extends bf{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,i){let n=super.setValue(e,i);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},xCe={selector:"AG-INPUT-TEXT-AREA",component:_Ce},DCe=class extends Cv{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[xCe]),this.eTextArea=ft}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),rt(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let i=e.key;(i===Qe.LEFT||i===Qe.UP||i===Qe.RIGHT||i===Qe.DOWN||e.shiftKey&&i===Qe.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue();return!rt(e)&&!rt(this.params.value)?this.params.value:this.params.parseValue(e)}},ECe=class extends Cv{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Ef(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),i=this.params,n=o=>{D6(this.gos,o,i.node,i.column,!0)||i.onKeyDown(o)};this.addManagedElementListeners(e,{keydown:n})}},ICe=class extends Cv{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[Fme]),this.eSelect=ft,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:i,valueService:n,gos:o}=this,{values:r,value:s,eventKey:l}=e;if(Ti(r)){tt("no values found for select cellEditor");return}this.startedByEnter=l!=null?l===Qe.ENTER:!1;let c=!1;r.forEach(p=>{let g={value:p},f=n.formatValue(e.column,null,p),y=f!=null;g.text=y?f:p,i.addOption(g),c=c||s===p}),c?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);let{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:h}=e;u!=null&&i.setPickerGap(u),h!=null&&i.setPickerMaxHeight(h),d!=null&&i.setPickerMaxWidth(d),o.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},w3=class extends Cv{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=ft}init(e){this.params=e;let{cellStartedEdit:i,eventKey:n,suppressPreventDefault:o}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,l=!0;i?(this.focusAfterAttached=!0,n===Qe.BACKSPACE||n===Qe.DELETE?s="":n&&n.length===1?o?l=!1:s=n:(s=this.cellEditorInput.getStartValue(),n!==Qe.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),l&&s!=null&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:c=>{let{key:u}=c;(u===Qe.PAGE_UP||u===Qe.PAGE_DOWN)&&c.preventDefault()}})}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;wu()||i.getFocusableElement().focus();let n=i.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){let e=this.eInput,i=e.getFocusableElement(),n=e.getInputElement();i.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},MCe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[m3]}init(e,i){this.eInput=e,this.params=i,i.maxLength!=null&&e.setMaxLength(i.maxLength)}getValue(){let e=this.eInput.getValue();return!rt(e)&&!rt(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){let e=this.eInput.getValue(),i=rt(e)&&e.length||0;i&&this.eInput.getInputElement().setSelectionRange(i,i)}},gY=class extends w3{constructor(){super(new MCe)}},RCe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Gme]}init(e,i){this.eInput=e,this.params=i,i.max!=null&&e.setMax(i.max),i.min!=null&&e.setMin(i.min),i.precision!=null&&e.setPrecision(i.precision),i.step!=null&&e.setStep(i.step);let n=e.getInputElement();i.preventStepping?e.addManagedElementListeners(n,{keydown:this.preventStepping}):i.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===Qe.UP||e.key===Qe.DOWN)&&e.preventDefault()}getValue(){let e=this.eInput.getValue();if(!rt(e)&&!rt(this.params.value))return this.params.value;let i=this.params.parseValue(e);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){wu()&&this.eInput.getInputElement().focus({preventScroll:!0})}},kCe=class extends w3{constructor(){super(new RCe)}},ACe=class extends kf{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=wu();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){On(this.gos)===this.eInput&&e.preventDefault()}setMin(e){let i=e instanceof Date?Js(e??null,!1)??void 0:e;return this.min===i?this:(this.min=i,Xs(this.eInput,"min",i),this)}setMax(e){let i=e instanceof Date?Js(e??null,!1)??void 0:e;return this.max===i?this:(this.max=i,Xs(this.eInput,"max",i),this)}setStep(e){return this.step===e?this:(this.step=e,Xs(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return rs(this.getValue())??void 0}setDate(e,i){this.setValue(Js(e??null,!1),i)}},fY={selector:"AG-INPUT-DATE-FIELD",component:ACe},FCe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[fY]}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){let e=this.eInput.getDate();return!rt(e)&&!rt(this.params.value)?this.params.value:e??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Js(e,!1)}},TCe=class extends w3{constructor(){super(new FCe)}},PCe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[fY]}init(e,i){this.eInput=e,this.params=i,i.min!=null&&e.setMin(i.min),i.max!=null&&e.setMax(i.max),i.step!=null&&e.setStep(i.step)}getValue(){let e=this.formatDate(this.eInput.getDate());return!rt(e)&&!rt(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Js(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){let i=this.getDataTypeService();return i?i.getDateParserFunction(this.params.column)(e):rs(e)??void 0}formatDate(e){let i=this.getDataTypeService();return i?i.getDateFormatterFunction(this.params.column)(e):Js(e??null,!1)??void 0}},LCe=class extends w3{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new PCe(()=>this.dataTypeService))}},OCe=class extends Cv{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Y6]),this.eCheckbox=ft}init(e){this.params=e;let i=e.value??void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:o=>this.setAriaLabel(o.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let i=this.localeService.getLocaleTextFunc(),n=H6(i,e),o=i("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${o} (${n})`)}},Vy=class{constructor(e){this.cellValueChanges=e}},a6=class extends Vy{constructor(e,i,n,o){super(e),this.initialRange=i,this.finalRange=n,this.ranges=o}},NCe=10,Aq=class{constructor(e){this.actionStack=[],this.maxStackSize=e||NCe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},BCe=class extends Ye{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let i={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,i),o=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,i);if(!(n||o||this.isPasting||this.isRangeInAction))return;let{rowPinned:s,rowIndex:l,column:c,oldValue:u,value:d}=e,h={rowPinned:s,rowIndex:l,columnId:c.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(h)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;let e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new Aq(e),this.redoStack=new Aq(e),this.addListeners();let i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:n=>{n.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),this.ctrlsService.whenReady(this,n=>{this.gridBodyCtrl=n.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});let i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});let i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,i,n,o,r){if(!e)return!1;let s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,l=>l[o],r),s instanceof a6?this.processRange(this.rangeService,s.ranges||[s[n]]):this.processCell(s.cellValueChanges),i.push(s),!0)}processAction(e,i,n){e.cellValueChanges.forEach(o=>{let{rowIndex:r,rowPinned:s,columnId:l}=o,c={rowIndex:r,rowPinned:s},u=this.rowPositionUtils.getRowNode(c);u.displayed&&u.setDataValue(l,i(o),n)})}processRange(e,i){let n;e.removeAllCellRanges(!0),i.forEach((o,r)=>{if(!o)return;let s=o.startRow,l=o.endRow;r===i.length-1&&(n={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},this.setLastFocusedCell(n));let c={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};e.addCellRange(c)})}processCell(e){let i=e[0],{rowIndex:n,rowPinned:o}=i,r={rowIndex:n,rowPinned:o},s=this.rowPositionUtils.getRowNode(r),l={rowPinned:i.rowPinned,rowIndex:s.rowIndex,columnId:i.columnId};this.setLastFocusedCell(l,this.rangeService)}setLastFocusedCell(e,i){let{rowIndex:n,columnId:o,rowPinned:r}=e,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getCol(o);if(!l)return;s.ensureIndexVisible(n),s.ensureColumnVisible(l);let c={rowIndex:n,column:l,rowPinned:r};this.focusService.setFocusedCell(Ft(We({},c),{forceBrowserFocus:!0})),i?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new Vy(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let n=new Vy(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new Vy(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let i=new a6(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(i),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&Cu(this.gos)?e=new a6(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Vy(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function VCe(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function HCe(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function mY(e,i,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(i,n),"ensureVisible")}function vY(e,i,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(i,n),"ensureVisible")}function zCe(e,i,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(i,n),"ensureVisible")}function GCe(e){e.undoRedoService?.undo("api")}function WCe(e){e.undoRedoService?.redo("api")}function jCe(e,i={}){return e.rowRenderer.getCellEditorInstances(i).map(Gy)}function UCe(e){return e.rowRenderer.getEditingCells()}function $Ce(e,i=!1){e.rowRenderer.stopEditing(i)}function qCe(e,i){let n=e.columnModel.getCol(i.colKey);if(!n){tt(`no column found for ${i.colKey}`);return}let o={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:n};i.rowPinned==null&&vY(e,i.rowIndex),mY(e,i.colKey);let s=e.navigationService.getCellByPosition(o);if(!s)return;let{focusService:l,gos:c}=e,u=()=>{let h=On(c),p=s.getGui();return h!==p&&!!p?.contains(h)},d=c.get("stopEditingWhenCellsLoseFocus")&&u();(d||!l.isCellFocused(o))&&l.setFocusedCell(Ft(We({},o),{forceBrowserFocus:d,preventScrollOnBrowserFocus:!0})),s.startRowOrCellEdit(i.key)}function KCe(e){return e.undoRedoService?.getCurrentUndoStackSize()??0}function YCe(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}var ZCe=class extends Ye{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,i=null,n=!1,o=null){let r=this.createCellEditorParams(e,i,n),s=e.getColumn().getColDef(),l=this.userComponentFactory.getCellEditorDetails(s,r),c=l?.popupFromSelector!=null?l.popupFromSelector:!!s.cellEditorPopup,u=l?.popupPositionFromSelector!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;return e.setEditing(!0,l),e.getComp().setEditDetails(l,c,u,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(o,"cellEditingStarted")),!l?.params?.suppressPreventDefault}stopEditing(e,i){let n=e.getComp(),{newValue:o,newValueExists:r}=this.takeValueFromCellEditor(i,n),s=e.getRowNode(),l=e.getColumn(),c=this.valueService.getValueForDisplay(l,s),u=!1;return r&&(u=this.saveNewValue(e,c,o,s,l)),e.setEditing(!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent(Ft(We({},e.createEvent(null,"cellEditingStopped")),{oldValue:c,newValue:o,valueChanged:u})),u}handleColDefChanged(e){let i=e.getCellEditor();if(i?.refresh){let{eventKey:n,cellStartedEdit:o}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,n,o),s=e.getColumn().getColDef(),l=this.userComponentFactory.getCellEditorDetails(s,r);i.refresh(l.params)}}setFocusOutOnEditor(e){let i=e.getComp().getCellEditor();i&&i.focusOut&&i.focusOut()}setFocusInOnEditor(e){let i=e.getComp(),n=i.getCellEditor();n?.focusIn?n.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>i.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,i=!1,n=!1){e.stopRowOrCellEdit(),e.focusCell(!0),i||this.navigateAfterEdit(n,e.getCellPosition())}createPopupEditorWrapper(e){return new ECe(e)}takeValueFromCellEditor(e,i){let n={newValueExists:!1};if(e)return n;let o=i.getCellEditor();return!o||o.isCancelAfterEnd&&o.isCancelAfterEnd()?n:{newValue:o.getValue(),newValueExists:!0}}saveNewValue(e,i,n,o,r){if(n===i)return!1;e.setSuppressRefreshCell(!0);let s=o.setDataValue(r,n,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,i,n){let o=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(o,r),eventKey:i,column:o,colDef:o.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(o,r,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,i){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let o=e?Qe.UP:Qe.DOWN;this.navigationService.navigateToNextCell(null,o,i,!1)}}},QCe=class extends Ye{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,i=null,n=null,o=null){let r=!0;return e.getAllCellCtrls().reduce((l,c)=>{let u=c===n;return u?r=c.startEditing(i,u,o):c.startEditing(null,u,o),l?!0:c.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,i=!1){let n=e.getAllCellCtrls(),o=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(let s of n){let l=s.stopEditing(i);o&&!i&&!r&&l&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),o&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,i){e.setEditingRow(i),e.forEachGui(void 0,o=>o.rowComp.addOrRemoveCssClass("ag-row-editing",i));let n=i?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(n)}},Af={version:Xt,moduleName:"@ag-grid-community/edit-core",beans:[ZCe]},XCe={version:Xt,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:GCe,redoCellEditing:WCe,getCellEditorInstances:jCe,getEditingCells:UCe,stopEditing:$Ce,startEditingCell:qCe,getCurrentUndoSize:KCe,getCurrentRedoSize:YCe},dependantModules:[Af]},JCe={version:Xt,moduleName:"@ag-grid-community/undo-redo-edit",beans:[BCe],dependantModules:[Af]},ewe={version:Xt,moduleName:"@ag-grid-community/full-row-edit",beans:[QCe],dependantModules:[Af]},CY={version:Xt,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:gY}],dependantModules:[Af]},twe={version:Xt,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:gY},{name:"agNumberCellEditor",classImp:kCe,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:TCe},{name:"agDateStringCellEditor",classImp:LCe},{name:"agCheckboxCellEditor",classImp:OCe}],dependantModules:[CY]},iwe={version:Xt,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:ICe}],dependantModules:[Af]},nwe={version:Xt,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:DCe}],dependantModules:[Af]},owe={version:Xt,moduleName:"@ag-grid-community/all-editors",dependantModules:[CY,twe,iwe,nwe]},rwe={version:Xt,moduleName:"@ag-grid-community/editing",dependantModules:[Af,JCe,ewe,owe,XCe]},swe=class extends Ye{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,i){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let o=this.rowRenderer.getAllCellsForColumn(e);return i||o.push(n),this.addElementsToContainerAndGetWidth(o)}getPreferredWidthForColumnGroup(e){let i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1}addElementsToContainerAndGetWidth(e){let i=document.createElement("form");i.style.position="fixed";let n=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,i)),n.appendChild(i);let o=i.offsetWidth;n.removeChild(i);let r=this.getAutoSizePadding();return o+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{let o=n.getHtmlElementForColumnHeader(e);o!=null&&(i=o)}),i}cloneItemIntoDummy(e,i){let n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";let o=document.createElement("div"),r=o.classList;["ag-header-cell","ag-header-group-cell"].some(c=>n.classList.contains(c))?(r.add("ag-header","ag-header-row"),o.style.position="static"):r.add("ag-row");let l=e.parentElement;for(;l;){if(["ag-header-row","ag-row"].some(u=>l.classList.contains(u))){for(let u=0;u<l.classList.length;u++){let d=l.classList[u];d!="ag-row-position-absolute"&&r.add(d)}break}l=l.parentElement}o.appendChild(n),i.appendChild(o)}},awe=class extends Ye{constructor(e,i){super(),this.createRowCon=e,this.destroyRowCtrls=i,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Wn(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.childStore?.getStoreBounds();return e.footer&&(n=e.sibling.childStore?.getStoreBounds()),(n?.heightPx??0)+(n?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let o=e.footer?e.sibling:e;for(;o.isExpandable()&&o.expanded;)if(o.master)o=o.detailNode;else if(o.childrenAfterSort){if(o.childrenAfterSort.length===0)break;o=Oi(o.childrenAfterSort)}return o.rowTop+o.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){let i=e==="top",n=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,n);let o=i?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,s=d=>{if(r.add(d),i){let h=this.getLastPixelOfGroup(d),p=o+n+d.rowHeight;h<p?d.stickyRowTop=n+(h-p):d.stickyRowTop=n}else{let h=this.getFirstPixelOfGroup(d),p=o-(n+d.rowHeight);h>p?d.stickyRowTop=n-(h-p):d.stickyRowTop=n}n=0,r.forEach(h=>{let p=h.stickyRowTop+h.rowHeight;n<p&&(n=p)})},l=this.areFooterRowsStickySuppressed(),c=this.gos.get("suppressGroupRowsSticky"),u=d=>{if(!d.displayed)return!1;if(d.footer){if(l===!0||l==="grand"&&d.level===-1||l==="group"&&d.level>-1)return!1;let h=d.sibling.rowIndex?d.sibling.rowIndex+1===d.rowIndex:!1;return e==="bottom"&&h?!1:!r.has(d)}return d.isExpandable()?c===!0||e==="bottom"?!1:!r.has(d)&&d.expanded:!1};for(let d=0;d<100;d++){let h=o+n;i||(h=o-n);let p=this.rowModel.getRowIndexAtPixel(h),g=this.rowModel.getRow(p);if(g==null)break;let y=this.getStickyAncestors(g).find(k=>(i?k.rowIndex<p:k.rowIndex>p)&&u(k));if(y){s(y);continue}if((i?g.rowTop<h:g.rowTop+g.rowHeight>h)&&u(g)){s(g);continue}break}return i||r.forEach(d=>{d.stickyRowTop=n-(d.stickyRowTop+d.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,n)}areFooterRowsStickySuppressed(){let e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;let i=!!this.gos.get("groupIncludeFooter")||e==="group",n=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return i&&n?!0:n?"grand":i?"group":!1}canRowsBeSticky(){let e=p3(this.gos),i=this.areFooterRowsStickySuppressed(),n=this.gos.get("suppressGroupRowsSticky");return e&&(!i||!n)}getStickyAncestors(e){let i=[],n=e.footer?e.sibling:e.parent;for(;n;)n.sibling&&i.push(n.sibling),i.push(n),n=n.parent;return i.reverse()}checkStickyRows(){let e=this.updateStickyRows("top"),i=this.updateStickyRows("bottom");return e||i}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){let i=new Set;if(this.stickyTopRowCtrls.some(n=>n.getRowNode()===e)){for(let n=0;n<this.stickyTopRowCtrls.length;n++){let o=this.stickyTopRowCtrls[n].getRowNode();o!==e&&i.add(o)}this.refreshNodesAndContainerHeight("top",i,this.topContainerHeight)&&this.checkStickyRows();return}for(let n=0;n<this.stickyBottomRowCtrls.length;n++){let o=this.stickyBottomRowCtrls[n].getRowNode();o!==e&&i.add(o)}this.refreshNodesAndContainerHeight("bottom",i,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,i,n){let o=e==="top",r=o?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},l=[];for(let g=0;g<r.length;g++){let f=r[g].getRowNode();if(!i.has(f)){s[f.id]=r[g],f.sticky=!1;continue}l.push(r[g])}let c=new Set;for(let g=0;g<l.length;g++)c.add(l[g].getRowNode());let u=[];i.forEach(g=>{c.has(g)||(g.sticky=!0,u.push(this.createRowCon(g,!1,!1)))});let d=!!u.length||l.length!==r.length;o?this.topContainerHeight!==n&&(this.topContainerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),d=!0):this.bottomContainerHeight!==n&&(this.bottomContainerHeight=n,this.gridBodyCtrl.setStickyBottomHeight(n),d=!0),this.destroyRowCtrls(s,!1);let h=[...l,...u];h.sort((g,f)=>f.getRowNode().rowIndex-g.getRowNode().rowIndex),o||h.reverse(),h.forEach(g=>g.setRowTop(g.getRowNode().stickyRowTop));let p=0;return o?(i.forEach(g=>{g.rowIndex<this.pageBoundsService.getFirstRow()&&(p+=g.rowHeight)}),p>this.topContainerHeight&&(p=this.topContainerHeight),this.setOffsetTop(p)):(i.forEach(g=>{g.rowIndex>this.pageBoundsService.getLastRow()&&(p+=g.rowHeight)}),p>this.bottomContainerHeight&&(p=this.bottomContainerHeight),this.setOffsetBottom(p)),d?(o?this.stickyTopRowCtrls=h:this.stickyBottomRowCtrls=h,!0):!1}ensureRowHeightsValid(){let e=!1,i=n=>{let o=n.getRowNode();if(o.rowHeightEstimated){let r=Fp(this.gos,o);o.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(i),this.stickyBottomRowCtrls.forEach(i),e}},lwe=class extends Ye{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},i=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",i),this.eventService.addEventListener("columnPinned",i),this.eventService.addEventListener("columnVisible",i)},o=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",i),this.eventService.removeEventListener("columnPinned",i),this.eventService.removeEventListener("columnVisible",i)};this.addDestroyFunc(()=>o()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Cu(this.gos)?n():o()}),Cu(this.gos)&&n()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),p3(this.gos)&&(Wn(this.gos)||wh(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new awe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=ir(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),i=e??3;this.cachedRowCtrls=new cwe(i)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){let e=Tp(this.rowCtrlsByRowIndex),i=Tp(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];i.length>0||n.length>0?this.allRowCtrls=[...e,...i,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(i=>i.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(i=>i.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(i=>i.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(i=>i.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(i=>{let n=u=>{this.getAllCellCtrls().forEach(d=>{d.getColumn()===i&&u(d)})},o=()=>{n(u=>u.onLeftChanged())},r=()=>{n(u=>u.onWidthChanged())},s=()=>{n(u=>u.onFirstRightPinnedChanged())},l=()=>{n(u=>u.onLastLeftPinnedChanged())},c=()=>{n(u=>u.onColDefChanged())};i.addEventListener("leftChanged",o),i.addEventListener("widthChanged",r),i.addEventListener("firstRightPinnedChanged",s),i.addEventListener("lastLeftPinnedChanged",l),i.addEventListener("colDefChanged",c),this.destroyFuncsForColumnListeners.push(()=>{i.removeEventListener("leftChanged",o),i.removeEventListener("widthChanged",r),i.removeEventListener("firstRightPinnedChanged",s),i.removeEventListener("lastLeftPinnedChanged",l),i.removeEventListener("colDefChanged",c)})})}onDomLayoutChanged(){let e=ir(this.gos,"print"),i=e||this.gos.get("embedFullWidthRows"),n=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let i={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(i)}getAllCellsForColumn(e){let i=[];return this.getAllRowCtrls().forEach(n=>{let o=n.getCellElement(e);o&&i.push(o)}),i}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,i){let{pinnedRowModel:n,beans:o,printLayout:r}=this,s=Object.fromEntries(e.map(c=>[c.getRowNode().id,c]));n.forEachPinnedRow(i,(c,u)=>{let d=e[u];d&&n.getPinnedRowById(d.getRowNode().id,i)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),c.id in s?(e[u]=s[c.id],delete s[c.id]):e[u]=new Df(c,o,!1,!1,r)});let l=i==="top"?n.getPinnedTopRowCount():n.getPinnedBottomRowCount();e.length=l}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,i=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let n=o=>{let r=o[e.rowIndex];r&&r.getRowNode()===e&&(r.destroyFirstPass(),r.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){let i=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(i==null)return null;let n=On(this.gos),o=$y(this.gos,n,xf.DOM_DATA_KEY_CELL_CTRL),r=$y(this.gos,n,Df.DOM_DATA_KEY_ROW_CTRL);return o||r?i:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&lv(this.gos),r=n?this.getRowsToRecycle():null;if(n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();let s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(r,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),i!=null&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let i=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");i&&!n&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let i=this.pageBoundsService.getCurrentPageHeight();i===0&&(i=1),this.rowContainerHeightService.setModelHeight(i+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(i=>{i.stopEditing(e)})}getAllCellCtrls(){let e=[],i=this.getAllRowCtrls(),n=i.length;for(let o=0;o<n;o++){let r=i[o].getAllCellCtrls(),s=r.length;for(let l=0;l<s;l++)e.push(r[l])}return e}getAllRowCtrls(){let e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],i=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],n=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...i];for(let o in this.rowCtrlsByRowIndex)n.push(this.rowCtrlsByRowIndex[o]);return n}addRenderedRowListener(e,i,n){let o=this.rowCtrlsByRowIndex[i];o&&o.addEventListener(e,n)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.flashCell(e))}refreshCells(e={}){let i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(i);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let i=null;this.stickyRowFeature&&y6()&&(i=this.getCellToRestoreFocusToAfterRefresh()||null);for(let n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),i&&this.restoreFocusedCell(i)}getCellRendererInstances(e){let i=this.getCellCtrls(e.rowNodes,e.columns).map(r=>r.getCellRenderer()).filter(r=>r!=null);if(e.columns?.length)return i;let n=[],o=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(r=>{if(o&&!this.isRowInMap(r.getRowNode(),o)||!r.isFullWidth())return;let s=r.getFullWidthCellRenderers();for(let l=0;l<s.length;l++){let c=s[l];c!=null&&n.push(c)}}),[...n,...i]}getCellEditorInstances(e){let i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>{let o=n.getCellEditor();o&&i.push(o)}),i}getEditingCells(){let e=[];return this.getAllCellCtrls().forEach(i=>{if(i.isEditing()){let n=i.getCellPosition();e.push(n)}}),e}mapRowNodes(e){if(!e)return;let i={top:{},bottom:{},normal:{}};return e.forEach(n=>{let o=n.id;switch(n.rowPinned){case"top":i.top[o]=n;break;case"bottom":i.bottom[o]=n;break;default:i.normal[o]=n;break}}),i}isRowInMap(e,i){let n=e.id;switch(e.rowPinned){case"top":return i.top[n]!=null;case"bottom":return i.bottom[n]!=null;default:return i.normal[n]!=null}}getRowCtrls(e){let i=this.mapRowNodes(e),n=this.getAllRowCtrls();return!e||!i?n:n.filter(o=>{let r=o.getRowNode();return this.isRowInMap(r,i)})}getCellCtrls(e,i){let n;rt(i)&&(n={},i.forEach(r=>{let s=this.columnModel.getCol(r);rt(s)&&(n[s.getId()]=!0)}));let o=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{let l=s.getColumn().getId();n&&!n[l]||o.push(s)})}),o}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){let e=[];Ks(this.rowCtrlsByRowIndex,(n,o)=>{o.getRowNode().id==null&&e.push(n)}),this.removeRowCtrls(e);let i={};return Ks(this.rowCtrlsByRowIndex,(n,o)=>{let r=o.getRowNode();i[r.id]=o}),this.rowCtrlsByRowIndex={},i}removeRowCtrls(e,i=!1){e.forEach(n=>{let o=this.rowCtrlsByRowIndex[n];o&&(o.destroyFirstPass(i),o.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{afterScroll:i}=e,n;this.stickyRowFeature&&y6()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);let o=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();let c=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();c&&this.updateContainerHeights(c)}let l=this.firstRenderedRow!==o||this.lastRenderedRow!==r;if(!(i&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!s),n!=null)){let c=this.getCellToRestoreFocusToAfterRefresh();n!=null&&c==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,i){let n={};e.forEach(s=>n[s]=!0);let r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,i)}calculateIndexesToDraw(e){let i=Ume(this.firstRenderedRow,this.lastRenderedRow),n=(r,s)=>{let l=s.getRowNode().rowIndex;l!=null&&(l<this.firstRenderedRow||l>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&i.push(l)};Ks(this.rowCtrlsByRowIndex,n),Ks(e,n),i.sort((r,s)=>r-s);let o=[];for(let r=0;r<i.length;r++){let s=i[r],l=this.rowModel.getRow(s);l&&!l.sticky&&o.push(s)}return o}recycleRows(e,i=!1,n=!1){let o=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(i=!1),this.removeRowCompsNotToDraw(o,!i);let r=[];o.forEach(s=>{let l=this.createOrUpdateRowCtrl(s,e,i,n);rt(l)&&r.push(l)}),e&&(n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,i),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,i)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let e=this.visibleColsService.isPinningLeft(),i=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(i=>{let n=i.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;let o=n.getRowNode();return!(i!=null&&!this.isRowInMap(o,i))})}createOrUpdateRowCtrl(e,i,n,o){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),rt(r)&&rt(i)&&i[r.id]&&r.alreadyRendered&&(s=i[r.id],i[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),rt(r))s=this.createRowCon(r,n,o);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,i){let n=[];Ks(e,(o,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);return}if(r.destroyFirstPass(!i),i){let s=r.instanceId;this.zombieRowCtrls[s]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[s]})}else r.destroySecondPass()}}),i&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),rge(n))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),i=Sf(this.gos);return e*i}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,i;if(!this.rowModel.isRowsToRender())e=0,i=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();else{let c=this.getRowBufferInPixels(),u=this.ctrlsService.getGridBodyCtrl(),d=this.gos.get("suppressRowVirtualisation"),h=!1,p,g;do{let G=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:J,pageLastPixel:$}=this.pageBoundsService.getCurrentPagePixelRange(),_e=this.rowContainerHeightService.getDivStretchOffset(),Fe=u.getScrollFeature().getVScrollPosition(),Pe=Fe.top,$e=Fe.bottom;d?(p=J+_e,g=$+_e):(p=Math.max(Pe+G-c,J)+_e,g=Math.min($e+G+c,$)+_e),this.firstVisibleVPixel=Math.max(Pe+G,J)+_e,this.lastVisibleVPixel=Math.min($e+G,$)+_e,h=this.ensureAllRowsInRangeHaveHeightsCalculated(p,g)}while(h);let f=this.rowModel.getRowIndexAtPixel(p),y=this.rowModel.getRowIndexAtPixel(g),M=this.pageBoundsService.getFirstRow(),k=this.pageBoundsService.getLastRow();f<M&&(f=M),y>k&&(y=k),e=f,i=y}let n=ir(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);n&&!o&&i-e>r&&(i=e+r);let s=e!==this.firstRenderedRow,l=i!==this.lastRenderedRow;(s||l)&&(this.firstRenderedRow=e,this.lastRenderedRow=i,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,i){let n=this.pinnedRowModel?.ensureRowHeightsValid(),o=this.stickyRowFeature?.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,i,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||o)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),o||r||n?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){let o=e.getRowNode(),r=this.focusService.isRowNodeFocused(o),s=e.isEditing(),l=o.detail;return r||s||l?!!this.isRowPresent(o):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,i,n){let o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;let r=this.gos.get("suppressAnimationFrame"),s=n&&!r&&!this.printLayout;return new Df(e,this.beans,i,s,this.printLayout)}getRenderedNodes(){let e=this.rowCtrlsByRowIndex;return Object.values(e).map(i=>i.getRowNode())}getRowByPosition(e){let i,{rowIndex:n}=e;switch(e.rowPinned){case"top":i=this.topRowCtrls[n];break;case"bottom":i=this.bottomRowCtrls[n];break;default:i=this.rowCtrlsByRowIndex[n],i||(i=this.getStickyTopRowCtrls().find(o=>o.getRowNode().rowIndex===n)||null,i||(i=this.getStickyBottomRowCtrls().find(o=>o.getRowNode().rowIndex===n)||null));break}return i}isRangeInRenderedViewport(e,i){if(e==null||i==null)return!1;let o=e>this.lastRenderedRow;return!(i<this.firstRenderedRow)&&!o}},cwe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let i=this.entriesList[0];i.destroyFirstPass(),i.destroySecondPass(),this.removeFromCache(i)}}getRow(e){if(e==null||e.id==null)return null;let i=this.entriesMap[e.id];return i?(this.removeFromCache(i),i.setCached(!1),i.getRowNode()!=e?null:i):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let i=e.id,n=this.entriesMap[i];delete this.entriesMap[i],Lr(this.entriesList,n)}removeFromCache(e){let i=e.getRowNode().id;delete this.entriesMap[i],Lr(this.entriesList,e)}getEntries(){return this.entriesList}},uwe=class extends Ye{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new Fq,this.pinnedBottomRows=new Fq}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){let i=n=>{n.setRowHeight(n.rowHeight,!0)};this.pinnedBottomRows.forEach(i),this.pinnedTopRows.forEach(i)}}ensureRowHeightsValid(){let e=!1,i=0,n=o=>{if(o.rowHeightEstimated){let r=Fp(this.gos,o);o.setRowTop(i),o.setRowHeight(r.height),i+=r.height,e=!0}};return this.pinnedBottomRows?.forEach(n),i=0,this.pinnedTopRows?.forEach(n),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,i){this.updateNodesFromRowData(e,i),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,i){let n=i==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){n.clear();return}let o=mv(this.gos),r=i==="top"?vh.ID_PREFIX_TOP_PINNED:vh.ID_PREFIX_BOTTOM_PINNED,s=n.getIds(),l=[],c=new Set,u=0,d=-1;for(let h of e){let p=o?.({data:h,level:0,rowPinned:i})??r+this.nextId++;if(c.has(p)){tt("Duplicate ID",p,"found for pinned row with data",h,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}d++,c.add(p),l.push(p);let g=n.getById(p);if(g!==void 0)g.data!==h&&g.setData(h),u+=this.setRowTopAndRowIndex(g,u,d),s.delete(p);else{let f=new vh(this.beans);f.id=p,f.data=h,f.rowPinned=i,u+=this.setRowTopAndRowIndex(f,u,d),n.push(f)}}s.forEach(h=>{n.getById(h)?.clearRowTopAndRowIndex()}),n.removeAllById(s),n.setOrder(l)}setRowTopAndRowIndex(e,i,n){return e.setRowTop(i),e.setRowHeight(Fp(this.gos,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,i){return i==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,i){return e==="top"?this.pinnedTopRows.forEach(i):this.pinnedBottomRows.forEach(i)}getTotalHeight(e){let i=e.getSize();if(i===0)return 0;let n=e.getByIndex(i-1);return n===void 0?0:n.rowTop+n.rowHeight}},Fq=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){let i=this.ordering[e];return this.cache[i]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(let i of e)delete this.cache[i];this.ordering=this.ordering.filter(i=>!e.has(i))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((i,n)=>{let o=this.cache[i];o&&e(o,n)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}};var dwe=class extends Ye{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,i){this.successCommon(e,i)}pageLoaded(e,i,n){this.successCommon(e,{rowData:i,rowCount:n})}isRequestMostRecentAndLive(e){let i=e===this.version,n=this.isAlive();return i&&n}successCommon(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(i))}dispatchLoadCompleted(e=!0){let i={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(i)}},hwe=class extends Ye{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Pr(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){let e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Lr(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&Ys("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.getAvailableLoadingCount(),i=this.blocks.filter(n=>n.getState()==="needsLoading").slice(0,e);this.registerLoads(i.length),i.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){if(wh(this.gos))return this.rowModel.getBlockStates();let e={};return this.blocks.forEach(i=>{let{id:n,state:o}=i.getBlockStateJson();e[n]=o}),e}printCacheStatus(){this.gos.get("debug")&&Ys(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},pwe={version:Xt,moduleName:"@ag-grid-community/row-node-block",beans:[hwe]},gwe=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),i=this.getEnd();if(e==null||i==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,i)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(i=>i.id===e.id)}getRoot(){return this.root&&this.root?.key===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&this.end?.key===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){let i=this.getRange();if(i.length===0)return{keep:[],discard:[]};let n=i[0].id===this.root.id,o=i.findIndex(r=>r.id===e.id);if(o>-1){let r=i.slice(0,o),s=i.slice(o+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:i,discard:[]}}extend(e,i=!1){let n=this.getRoot();if(n==null){let r=this.getRange().slice();return i&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(n,e).find(r=>r.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},fwe=class extends Ye{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,i,n,o){this.processClassRules(void 0,e.cellClassRules,i,n,o),this.processStaticCellClasses(e,i,n)}processClassRules(e,i,n,o,r){if(i==null&&e==null)return;let s={},l={},c=(u,d)=>{u.split(" ").forEach(h=>{h.trim()!=""&&d(h)})};if(i){let u=Object.keys(i);for(let d=0;d<u.length;d++){let h=u[d],p=i[h],g;typeof p=="string"?g=this.expressionService.evaluate(p,n):typeof p=="function"&&(g=p(n)),c(h,f=>{g?s[f]=!0:l[f]=!0})}}e&&r&&Object.keys(e).forEach(u=>c(u,d=>{s[d]||(l[d]=!0)})),r&&Object.keys(l).forEach(r),Object.keys(s).forEach(o)}getStaticCellClasses(e,i){let{cellClass:n}=e;if(!n)return[];let o;return typeof n=="function"?o=n(i):o=n,typeof o=="string"&&(o=[o]),o||[]}processStaticCellClasses(e,i,n){this.getStaticCellClasses(e,i).forEach(r=>{n(r)})}};var mwe=class extends Ye{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:i,eTopGuard:n,eBottomGuard:o,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:l,focusInnerElement:c,onFocusIn:u,onFocusOut:d,shouldStopEventPropagation:h,onTabKeyDown:p,handleKeyDown:g,eFocusableElement:f}=e;this.comp=i,this.eTopGuard=n,this.eBottomGuard=o,this.providedFocusInnerElement=c,this.eFocusableElement=f,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!l,this.providedFocusIn=u,this.providedFocusOut=d,this.providedShouldStopEventPropagation=h,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=g}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new Rf(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)}findNextElementOutsideAndFocus(e){let i=co(this.gos),n=this.focusService.findFocusableElements(i.body,null,!0),o=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(o===-1)return;let r,s;e?(r=0,s=o):(r=o+1,s=n.length);let l=n.slice(r,s),c=this.gos.get("tabIndex");l.sort((u,d)=>{let h=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return p===c?1:h===c?-1:h===0?1:p===0?-1:h-p}),l[e?l.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){let i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,i){return e===this.eTopGuard&&!i||e===this.eBottomGuard&&(i??!0)}setAllowFocus(e){this.allowFocus=e}},vwe=class extends Ye{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:i,eBottomGuard:n,eFocusableElement:o}=this,r=[i,n],s={setTabIndex:M=>{r.forEach(k=>M!=null?k.setAttribute("tabindex",M):k.removeAttribute("tabindex"))}};this.addTabGuards(i,n);let{focusTrapActive:l=!1,onFocusIn:c,onFocusOut:u,focusInnerElement:d,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:y}=e;this.tabGuardCtrl=this.createManagedBean(new mwe({comp:s,focusTrapActive:l,eTopGuard:i,eBottomGuard:n,eFocusableElement:o,onFocusIn:c,onFocusOut:u,focusInnerElement:d,handleKeyDown:h,onTabKeyDown:p,shouldStopEventPropagation:g,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:y}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let i=co(this.gos).createElement("div"),n=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return i.classList.add("ag-tab-guard",n),ss(i,"presentation"),i}addTabGuards(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];mr(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,i,n){$6(i)||(i=i.getGui());let{eBottomGuard:o}=this;o?o.insertAdjacentElement("beforebegin",i):e(i,n)}},wY=class extends Vi{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new vwe(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,i)}},Cwe=0,wwe=200,bwe=class extends Ye{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:i,ePopup:n}=e,o=this.getPopupIndex(n);if(o!==-1){let f=this.popupList[o];f.alignedToElement=i}let r=i.getBoundingClientRect(),s=this.getParentRect(),l=this.keepXYWithinBounds(n,r.top-s.top,0),c=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${c}px`;let d=s.right-s.left-c,h;this.gos.get("enableRtl")?(h=g(),h<0&&(h=p(),this.setAlignedStyles(n,"left")),h>d&&(h=0,this.setAlignedStyles(n,"right"))):(h=p(),h>d&&(h=g(),this.setAlignedStyles(n,"right")),h<0&&(h=0,this.setAlignedStyles(n,"left"))),n.style.left=`${h}px`,n.style.top=`${l}px`;function p(){return r.right-s.left-2}function g(){return r.left-s.left-c}}positionPopupUnderMouseEvent(e){let{ePopup:i,nudgeX:n,nudgeY:o,skipObserver:r}=e;this.positionPopup({ePopup:i,nudgeX:n,nudgeY:o,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let i=this.getParentRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}positionPopupByComponent(e){let{ePopup:i,nudgeX:n,nudgeY:o,keepWithinBounds:r,eventSource:s,alignSide:l="left",position:c="over",column:u,rowNode:d,type:h}=e,p=s.getBoundingClientRect(),g=this.getParentRect(),f=this.getPopupIndex(i);if(f!==-1){let M=this.popupList[f];M.alignedToElement=s}let y=()=>{let M=p.left-g.left;l==="right"&&(M-=i.offsetWidth-p.width);let k;return c==="over"?(k=p.top-g.top,this.setAlignedStyles(i,"over")):(this.setAlignedStyles(i,"under"),this.shouldRenderUnderOrAbove(i,p,g,e.nudgeY||0)==="under"?k=p.top-g.top+p.height:k=p.top-i.offsetHeight-(o||0)*2-g.top),{x:M,y:k}};this.positionPopup({ePopup:i,nudgeX:n,nudgeY:o,keepWithinBounds:r,updatePosition:y,postProcessCallback:()=>this.callPostProcessPopup(h,i,s,null,u,d)})}shouldRenderUnderOrAbove(e,i,n,o){let r=n.bottom-i.bottom,s=i.top-n.top,l=e.offsetHeight+o;return r>l?"under":s>l||s>r?"above":"under"}setAlignedStyles(e,i){let n=this.getPopupIndex(e);if(n===-1)return;let o=this.popupList[n],{alignedToElement:r}=o;!r||(["right","left","over","above","under"].forEach(l=>{r.classList.remove(`ag-has-popup-positioned-${l}`),e.classList.remove(`ag-popup-positioned-${l}`)}),!i)||(r.classList.add(`ag-has-popup-positioned-${i}`),e.classList.add(`ag-popup-positioned-${i}`))}callPostProcessPopup(e,i,n,o,r,s){let l=this.gos.getCallback("postProcessPopup");l&&l({column:r,rowNode:s,ePopup:i,type:e,eventSource:n,mouseEvent:o})}positionPopup(e){let{ePopup:i,keepWithinBounds:n,nudgeX:o,nudgeY:r,skipObserver:s,updatePosition:l}=e,c={width:0,height:0},u=(d=!1)=>{let{x:h,y:p}=l();d&&i.clientWidth===c.width&&i.clientHeight===c.height||(c.width=i.clientWidth,c.height=i.clientHeight,o&&(h+=o),r&&(p+=r),n&&(h=this.keepXYWithinBounds(i,h,1),p=this.keepXYWithinBounds(i,p,0)),i.style.left=`${h}px`,i.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){let d=this.resizeObserverService.observeResize(i,()=>u(!0));setTimeout(()=>d(),wwe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){let e=co(this.gos),i=this.getPopupParent();return i===e.body?i=e.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),yK(i)}keepXYWithinBounds(e,i,n){let o=n===0,r=o?"clientHeight":"clientWidth",s=o?"top":"left",l=o?"height":"width",c=o?"scrollTop":"scrollLeft",u=co(this.gos),d=u.documentElement,h=this.getPopupParent(),p=e.getBoundingClientRect(),g=h.getBoundingClientRect(),f=u.documentElement.getBoundingClientRect(),y=h===u.body,M=Math.ceil(p[l]),G=y?(o?bK:s3)(d)+d[c]:h[r];y&&(G-=Math.abs(f[s]-g[s]));let J=G-M;return Math.min(Math.max(i,0),Math.abs(J))}addPopup(e){let i=co(this.gos),{eChild:n,ariaLabel:o,alwaysOnTop:r,positionCallback:s,anchorToElement:l}=e;if(!i)return tt("could not find the document, document is empty"),{hideFunc:()=>{}};let c=this.getPopupIndex(n);if(c!==-1)return{hideFunc:this.popupList[c].hideFunc};this.initialisePopupPosition(n);let u=this.createPopupWrapper(n,o,!!r),d=this.addEventListenersToPopup(Ft(We({},e),{wrapperEl:u}));return s&&s(),this.addPopupToPopupList(n,u,d,l),{hideFunc:d}}initialisePopupPosition(e){let n=this.getPopupParent().getBoundingClientRect();rt(e.style.top)||(e.style.top=`${n.top*-1}px`),rt(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,i,n){let o=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||ss(e,"dialog"),pv(e,i),r.appendChild(e),o.appendChild(r),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(let i of this.popupList)this.environment.applyThemeClasses(i.wrapper)}addEventListenersToPopup(e){let i=co(this.gos),n=this.getPopupParent(),{wrapperEl:o,eChild:r,closedCallback:s,afterGuiAttached:l,closeOnEsc:c,modal:u}=e,d=!1,h=y=>{if(!o.contains(On(this.gos)))return;y.key===Qe.ESCAPE&&!mh(y)&&f({keyboardEvent:y})},p=y=>f({mouseEvent:y}),g=y=>f({touchEvent:y}),f=(y={})=>{let{mouseEvent:M,touchEvent:k,keyboardEvent:G,forceHide:J}=y;!J&&(this.isEventFromCurrentPopup({mouseEvent:M,touchEvent:k},r)||d)||(d=!0,n.removeChild(o),i.removeEventListener("keydown",h),i.removeEventListener("mousedown",p),i.removeEventListener("touchstart",g),i.removeEventListener("contextmenu",p),this.eventService.removeEventListener("dragStarted",p),s&&s(M||k||G),this.removePopupFromPopupList(r))};return l&&l({hidePopup:f}),window.setTimeout(()=>{c&&i.addEventListener("keydown",h),u&&(i.addEventListener("mousedown",p),this.eventService.addEventListener("dragStarted",p),i.addEventListener("touchstart",g),i.addEventListener("contextmenu",p))},0),f}addPopupToPopupList(e,i,n,o){this.popupList.push({element:e,wrapper:i,hideFunc:n,instanceId:Cwe++,isAnchored:!!o}),o&&this.setPopupPositionRelatedToElement(e,o)}getPopupIndex(e){return this.popupList.findIndex(i=>i.element===e)}setPopupPositionRelatedToElement(e,i){let n=this.getPopupIndex(e);if(n===-1)return;let o=this.popupList[n];if(o.stopAnchoringPromise&&o.stopAnchoringPromise.then(s=>s&&s()),o.stopAnchoringPromise=void 0,o.isAnchored=!1,!i)return;let r=this.keepPopupPositionedRelativeTo({element:i,ePopup:e,hidePopup:o.hideFunc});return o.stopAnchoringPromise=r,o.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(i=>i.element!==e)}keepPopupPositionedRelativeTo(e){let i=this.getPopupParent(),n=i.getBoundingClientRect(),{element:o,ePopup:r}=e,s=o.getBoundingClientRect(),l=p=>parseInt(p.substring(0,p.length-1),10),c=(p,g)=>{let f=n[p]-s[p],y=l(r.style[p]);return{initialDiff:f,lastDiff:f,initial:y,last:y,direction:g}},u=c("top",0),d=c("left",1),h=this.getFrameworkOverrides();return new _s(p=>{h.wrapIncoming(()=>{h.setInterval(()=>{let g=i.getBoundingClientRect(),f=o.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return}let M=(k,G)=>{let J=l(r.style[G]);k.last!==J&&(k.initial=J,k.last=J);let $=g[G]-f[G];if($!=k.lastDiff){let _e=this.keepXYWithinBounds(r,k.initial+k.initialDiff-$,k.direction);r.style[G]=`${_e}px`,k.last=_e}k.lastDiff=$};M(u,"top"),M(d,"left")},200).then(g=>{p(()=>{g!=null&&window.clearInterval(g)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,i){let{mouseEvent:n,touchEvent:o}=e,r=n||o;if(!r)return!1;let s=this.getPopupIndex(i);if(s===-1)return!1;for(let l=s;l<this.popupList.length;l++){let c=this.popupList[l];if(xge(c.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){let i=co(this.gos);for(;e&&e!==i.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,i){let n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(n))}bringPopupToFront(e){let i=this.getPopupParent(),n=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),o=n.length,r=this.getWrapper(e);if(!r||o<=1||!i.contains(e))return;let s=[],l=[];for(let g of n)g!==r&&(g.classList.contains("ag-always-on-top")?l.push(g):s.push(g));let c=[],u=l.length,p=r.classList.contains("ag-always-on-top")||!u?[...s,...l,r]:[...s,r,...l];for(let g=0;g<=o;g++){let f=p[g];if(n[g]===p[g]||f===r)continue;f.querySelectorAll("div").forEach(M=>{M.scrollTop!==0&&c.push([M,M.scrollTop])}),g===0?i.insertAdjacentElement("afterbegin",f):p[g-1].insertAdjacentElement("afterend",f)}for(;c.length;){let g=c.pop();g[0].scrollTop=g[1]}}},ywe=["touchstart","touchend","touchmove","touchcancel"],c4=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=i=>i(),this.wrapOutgoing=i=>i()}setInterval(e,i){return new _s(n=>{n(window.setInterval(e,i))})}addEventListener(e,i,n,o){let r=_f(ywe,i);e.addEventListener(i,n,{capture:!!o,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},Swe=class extends Ye{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,i,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,i):this.getNextCellToFocusWithoutCtrlPressed(e,i)}getNextCellToFocusWithCtrlPressed(e,i){let n=e===Qe.UP,o=e===Qe.DOWN,r=e===Qe.LEFT,s,l;if(n||o)l=n?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=i.column;else{let c=this.visibleColsService.getAllCols(),u=this.gos.get("enableRtl");l=i.rowIndex,s=r!==u?c[0]:Oi(c)}return{rowIndex:l,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,i){let n=i,o=!1;for(;!o;){switch(e){case Qe.UP:n=this.getCellAbove(n);break;case Qe.DOWN:n=this.getCellBelow(n);break;case Qe.RIGHT:this.gos.get("enableRtl")?n=this.getCellToLeft(n):n=this.getCellToRight(n);break;case Qe.LEFT:this.gos.get("enableRtl")?n=this.getCellToRight(n):n=this.getCellToLeft(n);break;default:n=null,tt("unknown key for navigation ",e);break}n?o=this.isCellGoodToFocusOn(n):o=!0}return n}isCellGoodToFocusOn(e){let i=e.column,n;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex);break}return n?!i.isSuppressNavigable(n):!1}getCellToLeft(e){if(!e)return null;let i=this.visibleColsService.getColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let i=this.visibleColsService.getColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null}getRowBelow(e){let i=e.rowIndex,n=e.rowPinned,o=!1;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(o=!0);let r=this.rowModel.getRow(e.rowIndex),s=o?void 0:this.getNextStickyPosition(r);return s||{rowIndex:i+1,rowPinned:n}}getNextStickyPosition(e,i){if(!p3(this.gos)||!e||!e.sticky)return;let n=this.rowRenderer.getStickyTopRowCtrls().some(c=>c.getRowNode().rowIndex===e.rowIndex),o=[];n?o=[...this.rowRenderer.getStickyTopRowCtrls()].sort((c,u)=>c.getRowNode().rowIndex-u.getRowNode().rowIndex):o=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((c,u)=>u.getRowNode().rowIndex-c.getRowNode().rowIndex);let r=i?-1:1,s=o.findIndex(c=>c.getRowNode().rowIndex===e.rowIndex),l=o[s+r];if(l)return{rowIndex:l.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;let i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}isLastRowInContainer(e){let i=e.rowPinned,n=e.rowIndex;return i==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=n:i==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=n:this.pageBoundsService.getLastRow()<=n}getRowAbove(e){let i=e.rowIndex,n=e.rowPinned,o=n?i===0:i===this.pageBoundsService.getFirstRow(),r=!1;if(o)return n==="top"?null:n?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;n&&(r=!0);let s=this.rowModel.getRow(e.rowIndex),l=r?void 0:this.getNextStickyPosition(s,!0);return l||{rowIndex:i-1,rowPinned:n}}getCellAbove(e){if(!e)return null;let i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let i=this.visibleColsService.getAllCols(),n=e.rowIndex,o=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=i[0];let s=this.getRowBelow(e);if(Ti(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??!0))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}}getNextTabbedCellBackwards(e){let i=this.visibleColsService.getAllCols(),n=e.rowIndex,o=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=Oi(i);let s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ti(s)||!s.rowPinned&&!(this.paginationService?.isRowInPage(s)??!0))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}}},kr=(e,i)=>{for(let n in i)i[n]=e;return i},Tq=We(We(We(We(We(We(We(We(We(We(We(We(We(We(We({},kr("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),kr("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),kr("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0})),kr("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),kr("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),kr("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),kr("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),kr("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),kr("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),kr("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0})),kr("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),kr("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),kr("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),kr("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),kr("@ag-grid-enterprise/status-bar",{getStatusPanel:0})),l6={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},_we=(e,i)=>e.eventService.dispatchEvent(i),bY=class{};Reflect.defineProperty(bY,"name",{value:"GridApi"});var xwe=class extends Ye{constructor(){super(),this.beanName="apiFunctionService",this.api=new bY,this.fns=Ft(We({},l6),{dispatchEvent:_we}),this.beans=null,this.preDestroyLink="";let{api:e}=this;for(let i in Tq)e[i]=this.makeApi(i)[i]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,i){let{fns:n,beans:o}=this;n!==l6&&(n[e]=o?.validationService?.validateApiFunction(e,i)??i)}makeApi(e){return{[e]:(...i)=>{let{beans:n,fns:{[e]:o}}=this;return o?o(n,...i):this.apiNotFound(e)}}}apiNotFound(e){let{beans:i,gos:n,preDestroyLink:o}=this;if(!i)tt(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${o}`);else{let r=Tq[e];n.assertModuleRegistered(r,`api.${e}`)&&tt(`API function '${e}' not registered to module '${r}'`)}}destroy(){super.destroy(),this.fns=l6,this.beans=null}};function Dwe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var Ewe=class extends Ye{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,i,n){let o=[],r={};return e.forEach(s=>{let l=this.createDefFromColumn(s,i,n),c=!0,u=l,d=s.getOriginalParent(),h=null;for(;d;){let p=null;if(d.isPadding()){d=d.getOriginalParent();continue}let g=r[d.getGroupId()];if(g){g.children.push(u),c=!1;break}if(p=this.createDefFromGroup(d),p&&(p.children=[u],r[p.groupId]=p,u=p,d=d.getOriginalParent()),d!=null&&h===d){c=!1;break}h=d}c&&o.push(u)}),o}createDefFromGroup(e){let i=v6(e.getColGroupDef(),["children"]);return i&&(i.groupId=e.getGroupId()),i}createDefFromColumn(e,i,n){let o=v6(e.getColDef());return o.colId=e.getColId(),o.width=e.getActualWidth(),o.rowGroup=e.isRowGroupActive(),o.rowGroupIndex=e.isRowGroupActive()?i.indexOf(e):null,o.pivot=e.isPivotActive(),o.pivotIndex=e.isPivotActive()?n.indexOf(e):null,o.aggFunc=e.isValueActive()?e.getAggFunc():null,o.hide=e.isVisible()?void 0:!0,o.pinned=e.isPinned()?e.getPinned():null,o.sort=e.getSort()?e.getSort():null,o.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,o}},Iwe=class extends Ye{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,i){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:i})}genericColumnEvent(e,i,n){this.eventService.dispatchEvent({type:e,columns:i,column:i.length===1?i[0]:null,source:n})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){let{movedColumns:i,source:n,toIndex:o,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:i,column:i&&i.length===1?i[0]:null,toIndex:o,finished:r,source:n})}columnPinned(e,i){if(!e.length)return;let n=e.length===1?e[0]:null,o=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:o??null,columns:e,column:n,source:i})}columnVisible(e,i){if(!e.length)return;let n=e.length===1?e[0]:null,o=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:o,columns:e,column:n,source:i})}getCommonValue(e,i){if(!e||e.length==0)return;let n=i(e[0]);for(let o=1;o<e.length;o++)if(n!==i(e[o]))return;return n}columnChanged(e,i,n){this.eventService.dispatchEvent({type:e,columns:i,column:i&&i.length==1?i[0]:null,source:n})}columnResized(e,i,n,o=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:i,source:n})}},Mwe=class extends Ye{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){let e=this.columnModel.getColDefCols();if(Ti(e)||!this.columnModel.isAlive())return[];let n=this.columnModel.getAllCols().map(o=>this.createStateItemFromColumn(o));return this.orderColumnStateList(n),n}createStateItemFromColumn(e){let i=this.funcColsService.getRowGroupColumns(),n=this.funcColsService.getPivotColumns(),o=e.isRowGroupActive()?i.indexOf(e):null,r=e.isPivotActive()?n.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,l=e.getSort()!=null?e.getSort():null,c=e.getSortIndex()!=null?e.getSortIndex():null,u=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:l,sortIndex:c,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:o,pivot:e.isPivotActive(),pivotIndex:r,flex:u}}orderColumnStateList(e){let i=this.columnModel.getCols(),n=new Map(i.map((o,r)=>[o.getColId(),r]));e.sort((o,r)=>{let s=n.has(o.colId)?n.get(o.colId):-1,l=n.has(r.colId)?n.get(r.colId):-1;return s-l})}},Rwe=class extends Ye{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){let e=[],i=this.columnModel.getColTree();return Ch(null,i,n=>{Fr(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){let i=this.columnModel.getColDefColTree();if(!i)return;let n=[];Ch(null,i,o=>{if(Fr(o)){let r=o.getColGroupDef(),s={groupId:o.getGroupId(),open:r?r.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,i){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();let o=[];e.forEach(r=>{let s=r.groupId,l=r.open,c=this.columnModel.getProvidedColGroup(s);c&&c.isExpanded()!==l&&(c.setExpanded(l),o.push(c))}),this.visibleColsService.refresh(i,!0),o.length&&this.eventDispatcher.groupOpened(o),this.columnAnimationService.finish()}},kwe=class extends Ye{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,i,n=!1){let o=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&i===this.scrollPosition&&!o)){if(this.scrollWidth=e,this.scrollPosition=i,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){let s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(n)}}getHeadersToRender(e,i){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[i];break;case"right":n=this.rowsOfHeadersToRenderRight[i];break;default:n=this.rowsOfHeadersToRenderCenter[i];break}return n||[]}extractViewportColumns(){let e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let i=e.getLeft()||0,n=i+e.getActualWidth(),o=this.viewportLeft-200,r=this.viewportRight+200,s=i<o&&n<o,l=i>r&&n>r;return!s&&!l}getViewportColumns(){let e=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(i)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;let i=r=>{let s=r.getLeft();return rt(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),o=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,o,n,i)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};let e={},i=this.visibleColsService.getLeftCols(),n=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(i).concat(n).forEach(s=>e[s.getId()]=!0);let r=(s,l,c)=>{let u=!1;for(let d=0;d<s.length;d++){let h=s[d],p=!1;if(Pp(h))p=e[h.getId()]===!0;else{let f=h.getDisplayedChildren();f&&(p=r(f,l,c+1))}p&&(u=!0,l[c]||(l[c]=[]),l[c].push(h))}return u};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=o=>`${o.getId()}-${o.getPinned()||"normal"}`;this.extractViewportColumns();let i=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==i;return n&&(this.colsWithinViewportHash=i,this.calculateHeaderRows()),n}},Awe=class extends Ye{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,i){let n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(i):null}adaptCellRendererFunction(e){class i{refresh(){return!1}getGui(){return this.eGui}init(o){let r=e(o),s=typeof r;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Xy("<span>"+r+"</span>");return}if(r==null){this.eGui=Xy("<span></span>");return}this.eGui=r}}return i}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},Fwe=class extends Ye{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},Twe=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],Pq=Object.fromEntries(Twe.map((e,i)=>[e,i]));function Pwe(e,i){let n=(e.beanName?Pq[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,o=(i.beanName?Pq[i.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-o}function Lwe(e,i){return e?.beanName==="gridDestroyService"?-1:0}var Owe=class extends Ye{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...i){let n=this.registry[e];if(n!=null)return new n(...i)}},Nwe=class extends Ye{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>e?.isAlive()??!1)}whenReady(e,i){this.ready?i(this.params):this.readyCallbacks.push(i),e.addDestroyFunc(()=>{let n=this.readyCallbacks.indexOf(i);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,i){this.params[e]=i,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),i.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:i,rightHeader:n}=this.params;return[e,n,i]}getHeaderRowContainerCtrl(e){let i=this.params;switch(e){case"left":return i.leftHeader;case"right":return i.rightHeader;default:return i.centerHeader}}},Bwe=class extends Ye{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){let{rowIndex:i,rowPinned:n,column:o}=e;return this.createIdFromValues({rowIndex:i,column:o,rowPinned:n})}createIdFromValues(e){let{rowIndex:i,rowPinned:n,column:o}=e;return`${i}.${n??"null"}.${o.getId()}`}equals(e,i){let n=e.column===i.column,o=e.rowPinned===i.rowPinned,r=e.rowIndex===i.rowIndex;return n&&o&&r}},Vwe=class extends Ye{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,i){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);let n=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(o=>this.eventService.dispatchEvent(o)),this.events=[]};i?n():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(n)),this.dispatchExpandedDebounced())}},Hwe=class extends Ye{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,i;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:e,rowPinned:i}}getLastRow(){let e,i=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return n?(i="bottom",e=n-1):this.rowModel.getRowCount()?(i=null,e=this.pageBoundsService.getLastRow()):o&&(i="top",e=o-1),e===void 0?null:{rowIndex:e,rowPinned:i}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,i){return!e&&!i?!0:e&&!i||!e&&i?!1:e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned}before(e,i){switch(e.rowPinned){case"top":if(i.rowPinned!=="top")return!0;break;case"bottom":if(i.rowPinned!=="bottom")return!1;break;default:if(rt(i.rowPinned))return i.rowPinned!=="top";break}return e.rowIndex<i.rowIndex}},Lq={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Oq={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Nq={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},zwe=class extends Ye{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(Lq),this.getSizeEl(Oq),this.getSizeEl(Nq)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Lq)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Oq)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Nq)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){let i=this.getThemeClasses();for(let n of Array.from(e.classList))n.startsWith("ag-theme-")&&!i.includes(n)&&e.classList.remove(n);e.classList.add(...i)}refreshRowHeightVariable(){let e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;let n=`${i}px`;return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),i):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){let i=this.lastKnownValues.get(e);if(i!=null)return i;let n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){let i=this.getSizeEl(e);if(i.offsetParent==null)return"detached";let n=i.offsetWidth;return n===Bq?"no-styles":(this.sizesMeasured=!0,n)}getSizeEl(e){let i=this.sizeEls.get(e);if(i)return i;let n=this.eMeasurementContainer;n||(n=this.eMeasurementContainer=document.createElement("div"),n.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(n),this.eGridDiv.appendChild(n)),i=document.createElement("div"),i.style.width=`var(${e.cssName}, ${Bq}px)`,n.appendChild(i),this.sizeEls.set(e,i);let o=this.measureSizeEl(e);o==="no-styles"&&tt(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);let r=this.resizeObserverService.observeResize(i,()=>{let s=this.measureSizeEl(e);s==="detached"||s==="no-styles"||(this.lastKnownValues.set(e,s),s!==o&&(o=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),i}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){let e=new MutationObserver(()=>{let n=this.readAncestorThemeClasses();Gwe(n,this.ancestorThemeClasses)||(this.ancestorThemeClasses=n,this.fireGridStylesChangedEvent("themeChanged"))}),i=this.eGridDiv;for(;i;)e.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv,i=[];for(;e;){let n=Array.from(e.classList).filter(o=>o.startsWith("ag-theme-"));for(let o of n)i.includes(o)||i.unshift(o);e=e.parentElement}return Object.freeze(i)}handleThemeGridOptionChange(){let{gos:e,eMeasurementContainer:i,gridTheme:n}=this,o=e.get("theme")||null;o!==n&&(n?.stopUse(),this.gridTheme=o,o?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),i&&this.applyThemeClasses(i),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},Gwe=(e,i)=>e.length===i.length&&e.findIndex((n,o)=>e[o]!==i[o])===-1,Bq=15538,Wwe=class extends Ye{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new fv}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){let e=e3(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,i,n){this.globalEventService.addEventListener(e,i,n)}removeEventListener(e,i,n){this.globalEventService.removeEventListener(e,i,n)}addGlobalListener(e,i=!1){this.globalEventService.addGlobalListener(e,i)}removeGlobalListener(e,i=!1){this.globalEventService.removeGlobalListener(e,i)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},jwe=(()=>{let e=class qs extends Ye{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(n){this.eGridDiv=n.eGridDiv,this.columnModel=n.columnModel,this.visibleColsService=n.visibleColsService,this.headerNavigationService=n.headerNavigationService,this.headerPositionUtils=n.headerPositionUtils,this.rowRenderer=n.rowRenderer,this.rowPositionUtils=n.rowPositionUtils,this.cellPositionUtils=n.cellPositionUtils,this.navigationService=n.navigationService,this.ctrlsService=n.ctrlsService,this.filterManager=n.filterManager,this.rangeService=n.rangeService,this.advancedFilterService=n.advancedFilterService,this.overlayService=n.overlayService}static addKeyboardModeEvents(n){this.instanceCount>0||(n.addEventListener("keydown",qs.toggleKeyboardMode),n.addEventListener("mousedown",qs.toggleKeyboardMode))}static removeKeyboardModeEvents(n){this.instanceCount>0||(n.removeEventListener("keydown",qs.toggleKeyboardMode),n.removeEventListener("mousedown",qs.toggleKeyboardMode))}static toggleKeyboardMode(n){let o=qs.keyboardModeActive,r=n.type==="keydown";r&&(n.ctrlKey||n.metaKey||n.altKey)||o!==r&&(qs.keyboardModeActive=r)}postConstruct(){let n=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:n,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:n,columnRowGroupChanged:n}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,o=>{this.gridCtrl=o.gridCtrl})}registerKeyboardFocusEvents(){let n=co(this.gos);qs.addKeyboardModeEvents(n),qs.instanceCount++,this.addDestroyFunc(()=>{qs.instanceCount--,qs.removeKeyboardModeEvents(n)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;let n=this.focusedCellPosition.column,o=this.columnModel.getCol(n.getId());n!==o&&this.clearFocusedCell()}isKeyboardMode(){return qs.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(On(this.gos),Df.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(On(this.gos),v3.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(n,o){let r=n;for(;r;){if($y(this.gos,r,o))return!1;r=r.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(n){return this.isCellRestoreFocused(n)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(n,o){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(n),o())})}isCellRestoreFocused(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)}setRestoreFocusedCell(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)}getFocusEventParams(n){let{rowIndex:o,rowPinned:r,column:s}=n,l={rowIndex:o,rowPinned:r,column:s,isFullWidthCell:!1},c=this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:r});return c&&(l.isFullWidthCell=c.isFullWidth()),l}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;let n=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent(We({type:"cellFocusCleared"},n))}setFocusedCell(n){let{column:o,rowIndex:r,rowPinned:s,forceBrowserFocus:l=!1,preventScrollOnBrowserFocus:c=!1}=n,u=this.columnModel.getCol(o);if(!u){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:r,rowPinned:fh(s),column:u},this.eventService.dispatchEvent(Ft(We({type:"cellFocused"},this.getFocusEventParams(this.focusedCellPosition)),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c}))}isCellFocused(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)}isRowNodeFocused(n){return this.isRowFocused(n.rowIndex,n.rowPinned)}isHeaderWrapperFocused(n){if(this.focusedHeaderPosition==null)return!1;let o=n.getColumnGroupChild(),r=n.getRowIndex(),s=n.getPinned(),{column:l,headerRowIndex:c}=this.focusedHeaderPosition;return o===l&&r===c&&s==l.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(n,o){this.focusedHeaderPosition={headerRowIndex:n,column:o}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(n){if(this.isHeaderFocusSuppressed())return!1;let{direction:o,fromTab:r,allowUserOverride:s,event:l,fromCell:c,rowWithoutSpanValue:u}=n,{headerPosition:d}=n;if(c&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(d);if(s){let h=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(r){let g=this.gos.getCallback("tabToNextHeader");g&&(d=this.getHeaderPositionFromUserFunc({userFunc:g,direction:o,currentPosition:h,headerPosition:d,headerRowCount:p}))}else{let g=this.gos.getCallback("navigateToNextHeader");if(g&&l){let f={key:l.key,previousHeaderPosition:h,nextHeaderPosition:d,headerRowCount:p,event:l};d=g(f)}}}return d?this.focusProvidedHeaderPosition({headerPosition:d,direction:o,event:l,fromCell:c,rowWithoutSpanValue:u}):!1}focusHeaderPositionFromUserFunc(n){if(this.isHeaderFocusSuppressed())return!1;let{userFunc:o,headerPosition:r,direction:s,event:l}=n,c=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount(),d=this.getHeaderPositionFromUserFunc({userFunc:o,direction:s,currentPosition:c,headerPosition:r,headerRowCount:u});return!!d&&this.focusProvidedHeaderPosition({headerPosition:d,direction:s,event:l})}getHeaderPositionFromUserFunc(n){let{userFunc:o,direction:r,currentPosition:s,headerPosition:l,headerRowCount:c}=n,d=o({backwards:r==="Before",previousHeaderPosition:s,nextHeaderPosition:l,headerRowCount:c});return d===!0||d===null?(d===null&&tt("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),s):d===!1?null:d}focusProvidedHeaderPosition(n){let{headerPosition:o,direction:r,fromCell:s,rowWithoutSpanValue:l,event:c}=n,{column:u,headerRowIndex:d}=o;if(d===-1)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(o):this.focusGridView(u);this.headerNavigationService.scrollToColumn(u,r);let p=this.ctrlsService.getHeaderRowContainerCtrl(u.getPinned())?.focusHeader(o.headerRowIndex,u,c)||!1;return p&&(l!=null||s)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(l??-1),p}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let n=this.visibleColsService.getAllCols()[0];if(!n)return!1;n.getParent()&&(n=this.visibleColsService.getColGroupAtLevel(n,0));let o=this.headerPositionUtils.getHeaderIndexToFocus(n,0);return this.focusHeaderPosition({headerPosition:o,rowWithoutSpanValue:0})}focusLastHeader(n){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;let o=this.headerNavigationService.getHeaderRowCount()-1,r=Oi(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:o,column:r},rowWithoutSpanValue:-1,event:n})}focusPreviousFromFirstCell(n){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(n,o){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===fh(o)}findFocusableElements(n,o,r=!1){let s=ffe,l=wK;o&&(l+=", "+o),r&&(l+=', [tabindex="-1"]');let c=Array.prototype.slice.apply(n.querySelectorAll(s)).filter(h=>yl(h)),u=Array.prototype.slice.apply(n.querySelectorAll(l));return u.length?((h,p)=>h.filter(g=>p.indexOf(g)===-1))(c,u):c}focusInto(n,o=!1,r=!1){let s=this.findFocusableElements(n,null,r),l=o?Oi(s):s[0];return l?(l.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(n,o){if(!o)return null;let r=this.findFocusableElements(n),s=r.indexOf(o);if(s===-1)return null;let l=-1;for(let c=s-1;c>=0;c--)if(r[c].classList.contains("ag-tab-guard-top")){l=c;break}return l<=0?null:r[l-1]}findNextFocusableElement(n=this.eGridDiv,o,r){let s=this.findFocusableElements(n,o?':not([tabindex="-1"])':null),l=On(this.gos),c;o?c=s.findIndex(d=>d.contains(l)):c=s.indexOf(l);let u=c+(r?-1:1);return u<0||u>=s.length?null:s[u]}isTargetUnderManagedComponent(n,o){if(!o)return!1;let r=n.querySelectorAll(`.${Rf.FOCUS_MANAGED_CLASS}`);if(!r.length)return!1;for(let s=0;s<r.length;s++)if(r[s].contains(o))return!0;return!1}findTabbableParent(n,o=5){let r=0;for(;n&&S6(n)===null&&++r<=o;)n=n.parentElement;return S6(n)===null?null:n}focusOverlay(n){let o=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!o&&this.focusInto(o,n)}focusGridViewFailed(n,o){return o&&this.focusOverlay(n)||n&&this.focusLastHeader()}focusGridView(n,o=!1,r=!0){if(this.overlayService.isExclusive())return r&&this.focusOverlay(o);if(this.isCellFocusSuppressed())return o&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():r&&this.focusOverlay(o)?!0:this.focusNextGridCoreContainer(!1);let s=o?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(s){let{rowIndex:l,rowPinned:c}=s;if(n??(n=this.getFocusedHeader()?.column),n&&l!==void 0&&l!==null)return this.navigationService.ensureCellVisible({rowIndex:l,column:n,rowPinned:c}),o&&this.rowRenderer.getRowByPosition(s)?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(s,o)||(this.setFocusedCell({rowIndex:l,column:n,rowPinned:fh(c),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:l,rowPinned:c,column:n})),!0}return!!(r&&this.focusOverlay(o)||o&&this.focusLastHeader())}isGridFocused(){let n=On(this.gos);return!!n&&this.eGridDiv.contains(n)}focusNextGridCoreContainer(n,o=!1){return!o&&this.gridCtrl.focusNextInnerContainer(n)?!0:((o||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)}focusAdvancedFilter(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(n,o){let r=(o?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return n?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(n){this.gridCtrl.addFocusableContainer(n)}removeFocusableContainer(n){this.gridCtrl.removeFocusableContainer(n)}focusGridInnerElement(n){return this.gridCtrl.focusInnerElement(n)}allowFocusForNextGridCoreContainer(n){this.gridCtrl.allowFocusForNextCoreContainer(n)}};return e.keyboardModeActive=!1,e.instanceCount=0,e})(),Uwe=jwe,$we=class extends Ye{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let e=ir(this.gos,"print"),i=e?0:this.visibleColsService.getColsLeftWidth(),n=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},qwe=class extends Ye{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,i,n){this.view=e,this.eGridHostDiv=i,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDropService:o,mouseEventService:r,ctrlsService:s,resizeObserverService:l}=this.beans,c={getContainer:()=>this.eGui,isInterestedIn:d=>d===1||d===0,getIconName:()=>"notAllowed"};o.addDropTarget(c),this.addDestroyFunc(()=>o.removeDropTarget(c)),r.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new l4(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});let u=l.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>u()),s.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let i=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:o}=this.getNextFocusableIndex(i,e);if(o<0||o>=i.length)return!1;if(o===0){if(n>0){let r=this.visibleColsService.getAllCols(),s=Oi(r);if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(i[o],e)}focusInnerElement(e){let i=this.gos.getCallback("focusGridInnerElement");if(i&&i({fromBottom:!!e}))return!0;let n=this.getFocusableContainers(),o=this.visibleColsService.getAllCols();if(e){if(n.length>1)return this.focusContainer(Oi(n),!0);let r=Oi(o);if(this.focusService.focusGridView(r,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(o[0]))return!0;for(let r=1;r<n.length;r++)if(this.focusService.focusInto(n[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let i=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:o}=this.getNextFocusableIndex(i,e);if(o===-1||n<0||n>=i.length)return;let r=i[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1)})}getNextFocusableIndex(e,i){let n=On(this.gos),o=e.findIndex(s=>s.getGui().contains(n)),r=o+(i?-1:1);return{indexWithFocus:o,nextIndex:r}}focusContainer(e,i){e.setAllowFocus?.(!0);let n=this.focusService.focusInto(e.getGui(),i);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){let e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Kwe=class extends wY{constructor(e){super(),this.gridBody=ft,this.sideBar=ft,this.pagination=ft,this.rootWrapperBody=ft,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:s=>this.addCssClass(s),setGridThemeClass:s=>this.addCssClass(s),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:s=>{this.getGui().style.userSelect=s??"",this.getGui().style.webkitUserSelect=s??""},setCursor:s=>{this.getGui().style.cursor=s??""}},i=this.createManagedBean(new qwe),n=i.getOptionalSelectors(),o=this.createTemplate(n),r=[pCe,...Object.values(n).filter(s=>!!s)];this.setTemplate(o,r),i.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>i.focusInnerElement(s),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&Ys("Grid removed from DOM")})}updateLayoutClasses(e,i){let n=this.rootWrapperBody.classList;n.toggle("ag-layout-auto-height",i.autoHeight),n.toggle("ag-layout-normal",i.normal),n.toggle("ag-layout-print",i.print),this.addOrRemoveCssClass("ag-layout-auto-height",i.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",i.normal),this.addOrRemoveCssClass("ag-layout-print",i.print)}createTemplate(e){let i=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",o=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",r=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",s=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${i}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${n}
                </div>
                ${o}
                ${s}
                ${r}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(i=>{i&&e.push(i)}),e.filter(i=>yl(i.getGui()))}},Ywe=class extends Ye{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],i=typeof e=="function";typeof e=="function"&&(e=e());let n=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{if(!r){Wi("alignedGrids contains an undefined option."),i||Wi(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Wi(n());return}if(this.isGridApi(r))return r;let s=r;return"current"in s?s.current?.api:(s.api||Wi(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${n()}`),s.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:i})=>this.onColumnEvent(i),alignedGridScroll:({event:i})=>this.onScrollEvent(i)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(i=>{i.isDestroyed()||i.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,i){let n=[];return e.columns?e.columns.forEach(o=>{n.push(i(o))}):e.column&&n.push(i(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,i=>i)}getColumnIds(e){return this.extractDataFromEvent(e,i=>i.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":tt("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){let{columnModel:i}=this;e.columnGroups.forEach(n=>{let o=null;n&&(o=i.getProvidedColGroup(n.getGroupId())),!(n&&!o)&&i.setColumnGroupOpened(o,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let i=e.column,n=null;if(i&&(n=this.columnModel.getColDefCol(i.getColId())),i&&!n)return;let o=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:s,ctrlsService:l}=this;switch(e.type){case"columnMoved":{let h=e.api.getColumnState().map(p=>({colId:p.colId}));r.applyColumnState({state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let h=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));r.applyColumnState({state:h},"alignedGridChanged")}break;case"columnPinned":{let h=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));r.applyColumnState({state:h},"alignedGridChanged")}break;case"columnResized":{let d=e,h={};o.forEach(p=>{h[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),d.flexColumns?.forEach(p=>{h[p.getId()]&&delete h[p.getId()]}),s.setColumnWidths(Object.values(h),!1,d.finished,"alignedGridChanged");break}}let u=l.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",u)})}},Zwe={version:Xt,moduleName:"@ag-grid-community/aligned-grid",beans:[Ywe]};function Qwe(e,i){let n=e.columnModel.getColDefCol(i);return n?n.getColDef():null}function Xwe(e){return e.columnModel.getColumnDefs()}function Jwe(e,i){typeof i=="number"?e.columnSizeService.sizeColumnsToFit(i,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(i)}function ebe(e,i,n){e.columnModel.setColumnGroupOpened(i,n,"api")}function tbe(e,i,n){return e.visibleColsService.getColumnGroup(i,n)}function ibe(e,i){return e.columnModel.getProvidedColGroup(i)}function nbe(e,i,n){return e.columnNameService.getDisplayNameForColumn(i,n)||""}function obe(e,i,n){return e.columnNameService.getDisplayNameForColumnGroup(i,n)||""}function rbe(e,i){return e.columnModel.getColDefCol(i)}function sbe(e){return e.columnModel.getColDefCols()}function abe(e,i){return e.columnApplyStateService.applyColumnState(i,"api")}function lbe(e){return e.columnGetStateService.getColumnState()}function cbe(e){e.columnApplyStateService.resetColumnState("api")}function ube(e){return e.columnGroupStateService.getColumnGroupState()}function dbe(e,i){e.columnGroupStateService.setColumnGroupState(i,"api")}function hbe(e){e.columnGroupStateService.resetColumnGroupState("api")}function pbe(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function gbe(e){return e.visibleColsService.isPinningLeft()}function fbe(e){return e.visibleColsService.isPinningRight()}function mbe(e,i){return e.visibleColsService.getColAfter(i)}function vbe(e,i){return e.visibleColsService.getColBefore(i)}function Cbe(e,i,n){e.columnModel.setColsVisible([i],n,"api")}function wbe(e,i,n){e.columnModel.setColsVisible(i,n,"api")}function bbe(e,i,n){e.columnModel.setColsPinned([i],n,"api")}function ybe(e,i,n){e.columnModel.setColsPinned(i,n,"api")}function Sbe(e){return e.columnModel.getCols()}function _be(e){return e.visibleColsService.getLeftCols()}function xbe(e){return e.visibleColsService.getCenterCols()}function Dbe(e){return e.visibleColsService.getRightCols()}function Ebe(e){return e.visibleColsService.getAllCols()}function Ibe(e){return e.columnViewportService.getViewportColumns()}function Mbe(e,i,n){e.columnMoveService.moveColumns([i],n,"api")}function Rbe(e,i,n){e.columnMoveService.moveColumnByIndex(i,n,"api")}function kbe(e,i,n){e.columnMoveService.moveColumns(i,n,"api")}function Abe(e,i,n,o=!0,r="api"){e.columnSizeService.setColumnWidths([{key:i,newWidth:n}],!1,o,r)}function Fbe(e,i,n=!0,o="api"){e.columnSizeService.setColumnWidths(i,!1,n,o)}function Tbe(e){return e.visibleColsService.getTreeLeft()}function Pbe(e){return e.visibleColsService.getTreeCenter()}function Lbe(e){return e.visibleColsService.getTreeRight()}function Obe(e){return e.visibleColsService.getAllTrees()}function Nbe(e,i,n){return e.columnAutosizeService.autoSizeCols({colKeys:[i],skipHeader:n,source:"api"})}function Bbe(e,i,n){e.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:n,source:"api"})}function Vbe(e,i){e.columnAutosizeService.autoSizeAllColumns("api",i)}var Hbe=class extends Ye{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Cf(e.source))})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};let i=o=>r=>{let{column:s,node:l,value:c}=r,u=s.getColDef().valueFormatter;return u===o.groupSafeValueFormatter&&(u=o.valueFormatter),this.valueService.formatValue(s,l,c,u)};Object.entries(e).forEach(([o,r])=>{let s=Ft(We({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)});this.dataTypeDefinitions[o]=s,this.formatValueFuncs[o]=i(s)});let n=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(n).forEach(([o,r])=>{let s=this.processDataTypeDefinition(r,n,[o],e);s&&(this.dataTypeDefinitions[o]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[o]=r.dataTypeMatcher),this.formatValueFuncs[o]=i(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{let r=this.dataTypeMatchers[o];r&&delete this.dataTypeMatchers[o],this.dataTypeMatchers[o]=r??e[o].dataTypeMatcher})}mergeDataTypeDefinitions(e,i){let n=We(We({},e),i);return e.columnTypes&&i.columnTypes&&i.appendColumnTypes&&(n.columnTypes=[...Q2(e.columnTypes),...Q2(i.columnTypes)]),n}processDataTypeDefinition(e,i,n,o){let r,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let l=o[s],c=i[s];if(l&&c&&(l=c),!this.validateDataTypeDefinition(e,l,s))return;r=this.mergeDataTypeDefinitions(l,e)}else{if(n.includes(s)){tt('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}let l=i[s];if(!this.validateDataTypeDefinition(e,l,s))return;let c=this.processDataTypeDefinition(l,i,[...n,s],o);if(!c)return;r=this.mergeDataTypeDefinitions(c,e)}return Ft(We({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(e,i,n){return i?i.baseDataType!==e.baseDataType?(tt('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(tt(`The data type definition ${n} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return i=>{if(i.node?.group){let n=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&n!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(Ft(We({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(Ft(We({},i),{value:i.value.value}))}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!e.dataTypeMatcher?.(i.value))return;return e.valueFormatter(i)}}updateColDefAndGetColumnType(e,i,n){let{cellDataType:o}=i,{field:r}=i;if(o===void 0&&(o=e.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(e,i)?this.inferCellDataType(r,n):!1),!o){e.cellDataType=!1;return}let s=this.dataTypeDefinitions[o];if(!s){tt(`Missing data type definition - "${o}"`);return}return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,o,s,n),s.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;let i=this.columnStateUpdatesPendingInference[e.getColId()];if(!i)return;let n=o=>{i.add(o.key)};e.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,i){if(!Wn(this.gos))return!1;let n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(i,n))return!1;let o=i.type===null?e.type:i.type;if(o){let r=this.gos.get("columnTypes")??{};if(Q2(o).some(l=>{let c=r[l.trim()];return c&&this.doColDefPropsPreventInference(c,n)}))return!1}return!this.doColDefPropsPreventInference(e,n)}doColDefPropsPreventInference(e,i){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,o])=>this.doesColDefPropPreventInference(e,i,n,o))}doesColDefPropPreventInference(e,i,n,o){if(!i[n])return!1;let r=e[n];return r===null?(i[n]=!1,!1):o===void 0?!!r:r===o}inferCellDataType(e,i){if(!e)return;let n,o=this.getInitialData();if(o){let s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Hy(o,e,s)}else this.initWaitForRowData(i);if(n==null)return;let[r]=Object.entries(this.dataTypeMatchers).find(([s,l])=>l(n))??["object"];return r}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let i=this.rowModel.getRootNode().allLeafChildren;if(i?.length)return i[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;let i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();let[n]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{let{firstRowData:r}=o;r&&(n?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,i),this.columnStateUpdatesPendingInference={},i&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,i){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let o={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,l])=>{let c=this.columnModel.getCol(s);if(!c)return;let u=c.getColDef();if(!this.columnModel.resetColDefIntoCol(c,"cellDataTypeInferred"))return;let d=c.getColDef();if(i&&d.type&&d.type!==u.type){let h=this.getUpdatedColumnState(c,l);h.rowGroup&&h.rowGroupIndex==null&&(o[s]=h),h.pivot&&h.pivotIndex==null&&(r[s]=h),n.push(h)}}),i&&n.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(o,r)),n.length&&this.columnApplyStateService.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,i){let n=this.columnApplyStateService.getColumnStateFromColDef(e);return i.forEach(o=>{delete n[o],o==="rowGroup"?delete n.rowGroupIndex:o==="pivot"&&delete n.pivotIndex}),n}checkObjectValueHandlers(e){let i=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=i.valueParser!==n.valueParser,this.hasObjectValueFormatter=i.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let i=e.getColDef();if(i.cellDataType)return this.dataTypeDefinitions[i.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,i){if(i==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(i):!0}validateColDef(e){let i=n=>tt(`Cell data type is "object" but no Value ${n} has been provided. Please either provide an object data type definition with a Value ${n}, or set "colDef.value${n}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&i("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&i("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,i,n,o){let r=this.formatValueFuncs[i];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===Qe.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(s,l)=>{let c=this.columnModel.getColDefCol(o),u=c?.getColDef();if(!c||!u)return 0;let d=s==null?"":r({column:c,node:null,value:s}),h=l==null?"":r({column:c,node:null,value:l});return d===h?0:d>h?1:-1},e.keyCreator=r;break}}this.filterManager?.setColDefPropertiesForDataType(e,n,r)}getDefaultDataTypes(){let e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),i=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>n.newValue?.trim?.()===""?null:Number(n.newValue),valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?i("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:u6(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>n.newValue==null?n.newValue:n.newValue?.trim?.()===""?null:String(n.newValue).toLowerCase()==="true",valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>rs(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?i("invalidDate","Invalid Date"):Js(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>rs(n)??void 0,dateFormatter:n=>Js(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>u6(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},zbe={version:Xt,moduleName:"@ag-grid-community/data-type",beans:[Hbe]},Gbe={version:Xt,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:Qwe,getColumnDefs:Xwe,sizeColumnsToFit:Jwe,setColumnGroupOpened:ebe,getColumnGroup:tbe,getProvidedColumnGroup:ibe,getDisplayNameForColumn:nbe,getDisplayNameForColumnGroup:obe,getColumn:rbe,getColumns:sbe,applyColumnState:abe,getColumnState:lbe,resetColumnState:cbe,getColumnGroupState:ube,setColumnGroupState:dbe,resetColumnGroupState:hbe,isPinning:pbe,isPinningLeft:gbe,isPinningRight:fbe,getDisplayedColAfter:mbe,getDisplayedColBefore:vbe,setColumnVisible:Cbe,setColumnsVisible:wbe,setColumnPinned:bbe,setColumnsPinned:ybe,getAllGridColumns:Sbe,getDisplayedLeftColumns:_be,getDisplayedCenterColumns:xbe,getDisplayedRightColumns:Dbe,getAllDisplayedColumns:Ebe,getAllDisplayedVirtualColumns:Ibe,moveColumn:Mbe,moveColumnByIndex:Rbe,moveColumns:kbe,setColumnWidth:Abe,setColumnWidths:Fbe,getLeftDisplayedColumnGroups:Tbe,getCenterDisplayedColumnGroups:Pbe,getRightDisplayedColumnGroups:Lbe,getAllDisplayedColumnGroups:Obe,autoSizeColumn:Nbe,autoSizeColumns:Bbe,autoSizeAllColumns:Vbe}};function Wbe(e,i){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(i)}function jbe(e,i){let n=e.dragAndDropService.findExternalZone(i);n&&e.dragAndDropService.removeDropTarget(n)}function Ube(e,i){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(i)}var $be={version:Xt,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:Wbe,removeRowDropZone:jbe,getRowDropZoneParams:Ube}};function qbe(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Kbe(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function Ybe(e,i){return e.pinnedRowModel.getPinnedTopRow(i)}function Zbe(e,i){return e.pinnedRowModel.getPinnedBottomRow(i)}var Qbe={version:Xt,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:qbe,getPinnedBottomRowCount:Kbe,getPinnedTopRow:Ybe,getPinnedBottomRow:Zbe}};function Xbe(e){e.overlayService.showLoadingOverlay()}function Jbe(e){e.overlayService.showNoRowsOverlay()}function eye(e){e.overlayService.hideOverlay()}var tye={version:Xt,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:Xbe,showNoRowsOverlay:Jbe,hideOverlay:eye}};function iye(e,i,n){if(!i)return;let o=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${i}`;n===null?o.removeAttribute(r):o.setAttribute(r,n)}function nye(e,i={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(i))}function oye(e,i={}){let n=o=>tt(`Since v31.1 api.flashCells parameter '${o}Delay' is deprecated. Please use '${o}Duration' instead.`);rt(i.fadeDelay)&&n("fade"),rt(i.flashDelay)&&n("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(i))}function rye(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>i.refresh()))}function sye(e){return e.animationFrameService.isQueueEmpty()}function aye(e){e.animationFrameService.flushAllFrames()}function lye(e){return{rowHeight:Sf(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function cye(e,i={}){return e.rowRenderer.getCellRendererInstances(i).map(Gy)}var uye={version:Xt,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:iye,refreshCells:nye,flashCells:oye,refreshHeader:rye,isAnimationFrameQueueEmpty:sye,flushAllAnimationFrames:aye,getSizesForCurrentTheme:lye,getCellRendererInstances:cye}};function dye(e){e.valueCache.expire()}function hye(e,i,n){return yY(e,{colKey:i,rowNode:n})}function yY(e,i){let{colKey:n,rowNode:o,useFormatter:r}=i,s=e.columnModel.getColDefCol(n)??e.columnModel.getCol(n);if(Ti(s))return null;let l=e.valueService.getValueForDisplay(s,o);return r?e.valueService.formatValue(s,o,l)??vu(l,!0):l}function pye(e){return e.context.getGridId()}function gye(e){e.gridDestroyService.destroy()}function fye(e){return e.gridDestroyService.isDestroyCalled()}function mye(e,i){return e.gos.get(i)}function vye(e,i,n){SY(e,{[i]:n})}function SY(e,i){e.gos.updateGridOptions({options:i})}function Cye(e,i,n){e.apiEventService.addEventListener(i,n)}function wye(e,i,n){e.apiEventService.removeEventListener(i,n)}function bye(e,i){e.apiEventService.addGlobalListener(i)}function yye(e,i){e.apiEventService.removeGlobalListener(i)}function Sye(e){return e.focusService.getFocusedCell()}function _ye(e){return e.focusService.clearFocusedCell()}function xye(e,i,n,o){e.focusService.setFocusedCell({rowIndex:i,column:n,rowPinned:o,forceBrowserFocus:!0})}function Dye(e,i){return e.navigationService.tabToNextCell(!1,i)}function Eye(e,i){return e.navigationService.tabToNextCell(!0,i)}function Iye(e,i,n=!1){let o=e.headerNavigationService.getHeaderPositionForColumn(i,n);o&&e.focusService.focusHeaderPosition({headerPosition:o})}function Mye(e,i,n){let o=e.columnModel.getCol(i);e.menuService.showColumnMenu({column:o,buttonElement:n,positionBy:"button"})}function Rye(e,i,n){let o=e.columnModel.getCol(i);if(o||(o=e.columnModel.getColDefCol(i)),!o){Wi(`column '${i}' not found`);return}e.menuService.showColumnMenu({column:o,mouseEvent:n,positionBy:"mouse"})}function kye(e,i){let n=e.columnModel.getCol(i);if(!n){Wi(`column '${i}' not found`);return}e.menuService.showColumnMenu({column:n,positionBy:"auto"})}function Aye(e){e.menuService.hidePopupMenu()}function Fye(e,i={}){let n=i?i.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function Tye(e,i,n,o,r){e.expansionService.setRowNodeExpanded(i,n,o,r)}function Pye(e,i){return e.rowModel.getRowNode(i)}function Lye(e,i,n,o){e.rowRenderer.addRenderedRowListener(i,n,o)}function Oye(e){return e.rowRenderer.getRenderedNodes()}function Nye(e,i,n){e.rowModel.forEachNode(i,n)}function Bye(e){return _Y(e)}function _Y(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function Vye(e){return xY(e)}function xY(e){return e.rowRenderer.getLastVirtualRenderedRow()}function Hye(e,i){return e.rowModel.getRow(i)}function zye(e){return e.rowModel.getRowCount()}function Gye(e){return e.rowModel}function Wye(e,i){if(!i.nodes.every(c=>c.rowPinned?(tt("cannot select pinned rows"),!1):c.id===void 0?(tt("cannot select node until id for node is known"),!1):!0))return;let{nodes:o,source:r,newValue:s}=i,l=o;e.selectionService.setNodesSelected({nodes:l,source:r??"api",newValue:s})}function jye(e,i="apiSelectAll"){e.selectionService.selectAllRowNodes({source:i})}function Uye(e,i="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:i})}function $ye(e,i="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:i,justFiltered:!0})}function qye(e,i="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:i,justFiltered:!0})}function Kye(e,i="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:i,justCurrentPage:!0})}function Yye(e,i="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:i,justCurrentPage:!0})}function Zye(e){return e.selectionService.getSelectedNodes()}function Qye(e){return e.selectionService.getSelectedRows()}function Xye(e){e.sortController.onSortChanged("api")}var Jye={version:Xt,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:pye,destroy:gye,isDestroyed:fye,getGridOption:mye,setGridOption:vye,updateGridOptions:SY}},eSe={version:Xt,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:Wye,selectAll:jye,deselectAll:Uye,selectAllFiltered:$ye,deselectAllFiltered:qye,selectAllOnCurrentPage:Kye,deselectAllOnCurrentPage:Yye,getSelectedNodes:Zye,getSelectedRows:Qye}},tSe={version:Xt,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:Fye,setRowNodeExpanded:Tye,getRowNode:Pye,addRenderedRowListener:Lye,getRenderedNodes:Oye,forEachNode:Nye,getFirstDisplayedRow:Bye,getFirstDisplayedRowIndex:_Y,getLastDisplayedRow:Vye,getLastDisplayedRowIndex:xY,getDisplayedRowAtIndex:Hye,getDisplayedRowCount:zye,getModel:Gye}},iSe={version:Xt,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:VCe,getHorizontalPixelRange:HCe,ensureColumnVisible:mY,ensureIndexVisible:vY,ensureNodeVisible:zCe}},nSe={version:Xt,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:Sye,clearFocusedCell:_ye,setFocusedCell:xye,setFocusedHeader:Iye,tabToNextCell:Dye,tabToPreviousCell:Eye}},oSe={version:Xt,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:Cye,addGlobalListener:bye,removeEventListener:wye,removeGlobalListener:yye}},rSe={version:Xt,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:dye,getValue:hye,getCellValue:yY}},sSe={version:Xt,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:Mye,showColumnMenuAfterMouseClick:Rye,showColumnMenu:kye,hidePopupMenu:Aye}},aSe={version:Xt,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:Xye}},lSe={version:Xt,moduleName:"@ag-grid-community/api",dependantModules:[Jye,Qbe,eSe,Gbe,tSe,$be,iSe,tye,nSe,oSe,uye,rSe,sSe,aSe]};function cSe(e){return e.stateService?.getState()??{}}function uSe(e){switch(e=We({},e),e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=dSe(e)}return e}function dSe(e){return e.cellSelection=hSe(e,"rangeSelection"),e}function hSe(e,i){if(e&&typeof e=="object")return e[i]}var pSe=class extends Ye{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Pr(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Pr(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Pr(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Wn(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Xt),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));let[e,i,n]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return uSe(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());let e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){let e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let i=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:i("aggregation"),columnMoved:i("columnOrder"),columnPinned:i("columnPinning"),columnResized:i("columnSizing"),columnVisible:i("columnVisibility"),columnPivotChanged:i("pivot"),columnPivotModeChanged:i("pivot"),columnRowGroupChanged:i("rowGroup"),sortChanged:i("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:i,rowSelection:n,pagination:o}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),i&&this.setRowGroupExpansionState(i),n&&this.setRowSelectionState(n),o&&this.setPaginationState(o),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());let s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:l=>{(l.newPage||l.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:e,cellSelection:i,focusedCell:n,columnOrder:o}=this.getInitialState();n&&this.setFocusedCellState(n),i&&this.setCellSelectionState(i),e&&this.setScrollState(e),this.setColumnPivotState(!!o?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());let r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){let l=this.getRangeSelectionState();this.updateCachedState("rangeSelection",l),this.updateCachedState("cellSelection",l)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){let e=this.columnModel.isPivotMode(),i=[],n=[],o=[],r=[],s=[],l=[],c=[],u=[],d=[],h=0,p=this.columnGetStateService.getColumnState();for(let g=0;g<p.length;g++){let{colId:f,sort:y,sortIndex:M,rowGroup:k,rowGroupIndex:G,aggFunc:J,pivot:$,pivotIndex:_e,pinned:Fe,hide:Pe,width:$e,flex:nt}=p[g];d.push(f),y&&(i[M??h++]={colId:f,sort:y}),k&&(n[G??0]=f),typeof J=="string"&&o.push({colId:f,aggFunc:J}),$&&(r[_e??0]=f),Fe&&(Fe==="right"?l:s).push(f),Pe&&c.push(f),(nt||$e)&&u.push({colId:f,flex:nt??void 0,width:$e})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}}setColumnState(e){let{sort:i,rowGroup:n,aggregation:o,pivot:r,columnPinning:s,columnVisibility:l,columnSizing:c,columnOrder:u,partialColumnState:d}=e,h={},p=k=>{let G=h[k];return G||(G={colId:k},h[k]=G,G)},g=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};i&&(i.sortModel.forEach(({colId:k,sort:G},J)=>{let $=p(k);$.sort=G,$.sortIndex=J}),g.sort=null,g.sortIndex=null),n&&(n.groupColIds.forEach((k,G)=>{let J=p(k);J.rowGroup=!0,J.rowGroupIndex=G}),g.rowGroup=null,g.rowGroupIndex=null),o&&(o.aggregationModel.forEach(({colId:k,aggFunc:G})=>{p(k).aggFunc=G}),g.aggFunc=null),r&&(r.pivotColIds.forEach((k,G)=>{let J=p(k);J.pivot=!0,J.pivotIndex=G}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),g.pivot=null,g.pivotIndex=null),s&&(s.leftColIds.forEach(k=>{p(k).pinned="left"}),s.rightColIds.forEach(k=>{p(k).pinned="right"}),g.pinned=null),l&&(l.hiddenColIds.forEach(k=>{p(k).hide=!0}),g.hide=null),c&&(c.columnSizingModel.forEach(({colId:k,flex:G,width:J})=>{let $=p(k);$.flex=G??null,$.width=J}),g.flex=null);let f=u?.orderedColIds,y=!!f?.length,M=y?f.map(k=>p(k)):Object.values(h);M.length&&(this.columnStates=M,this.columnApplyStateService.applyColumnState({state:M,applyOrder:y,defaultState:g},"gridInitializing"))}setColumnPivotState(e){let i=this.columnStates;this.columnStates=void 0;let n=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(i){let o=[];for(let r of i)this.pivotResultColsService.getPivotResultCol(r.colId)&&o.push(r);this.columnApplyStateService.applyColumnState({state:o,applyOrder:e},"gridInitializing")}n&&this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}}getColumnGroupState(){let e=this.columnGroupStateService.getColumnGroupState(),i=[];return e.forEach(({groupId:n,open:o})=>{o&&i.push(n)}),i.length?{openColumnGroupIds:i}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let i=new Set(e.columnGroup?.openColumnGroupIds),o=this.columnGroupStateService.getColumnGroupState().map(({groupId:r})=>{let s=i.has(r);return s&&i.delete(r),{groupId:r,open:s}});i.forEach(r=>{o.push({groupId:r,open:!0})}),o.length&&(this.columnGroupStates=o),this.columnGroupStateService.setColumnGroupState(o,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);let i=this.filterManager?.getAdvancedFilterModel()??void 0;return e||i?{filterModel:e,advancedFilterModel:i}:void 0}setFilterState(e,i){let{filterModel:n,advancedFilterModel:o}=e??{advancedFilterModel:i};n&&this.filterManager?.setFilterModel(n,"columnFilter"),o&&this.filterManager?.setAdvancedFilterModel(o)}getRangeSelectionState(){let e=this.rangeService?.getCellRanges().map(i=>{let{id:n,type:o,startRow:r,endRow:s,columns:l,startColumn:c}=i;return{id:n,type:o,startRow:r,endRow:s,colIds:l.map(u=>u.getColId()),startColId:c.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:i,rangeService:n,columnModel:o,visibleColsService:r}=this;if(!Cu(i)||!n)return;let s=[];if(e.cellRanges.forEach(l=>{let c=[];if(l.colIds.forEach(d=>{let h=o.getCol(d);h&&c.push(h)}),!c.length)return;let u=o.getCol(l.startColId);if(!u){let d=r.getAllCols(),h=new Set(c);u=d.find(p=>h.has(p))}s.push(Ft(We({},l),{columns:c,startColumn:u}))}),gge(i)&&fge(i)&&s.length>1)return tt("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:i}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||i?{top:n,left:i}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:i,left:n}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(i,n)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.focusService.getFocusedCell();if(e){let{column:i,rowIndex:n,rowPinned:o}=e;return{colId:i.getColId(),rowIndex:n,rowPinned:o}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:i,rowIndex:n,rowPinned:o}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(i),rowIndex:n,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;let e=this.paginationService.getCurrentPage(),i=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!i))return{page:e,pageSize:i}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){let e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let i=this.getColumnState(),n=!1;Object.entries(i).forEach(([o,r])=>{Uy(r,this.cachedState[o])||(n=!0)}),this.cachedState=We(We({},this.cachedState),i),n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,i){let n=this.cachedState[e];this.setCachedStateValue(e,i),Uy(i,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,i){this.cachedState=Ft(We({},this.cachedState),{[e]:i})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(i=>this.queuedUpdateSources.add(i)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},DY={version:Xt,moduleName:"@ag-grid-community/state-core",beans:[pSe]},gSe={version:Xt,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:cSe},dependantModules:[DY]},fSe={version:Xt,moduleName:"@ag-grid-community/state",dependantModules:[DY,gSe]};function mSe(e){return e.rowModel.isLastRowIndexKnown()}function vSe(e){return e.paginationService?.getPageSize()??100}function CSe(e){return e.paginationService?.getCurrentPage()??0}function wSe(e){return e.paginationService?.getTotalPages()??1}function bSe(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function ySe(e){e.paginationService?.goToNextPage()}function SSe(e){e.paginationService?.goToPreviousPage()}function _Se(e){e.paginationService?.goToFirstPage()}function xSe(e){e.paginationService?.goToLastPage()}function DSe(e,i){e.paginationService?.goToPage(i)}var ESe=class extends Ye{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;let i=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:i,scrollVisibilityChanged:i}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){let i=()=>{let n=Math.max(Sf(this.gos),1),o=Math.floor(e/n);this.paginationService.setPageSize(o,"autoCalculated")};this.isBodyRendered?Pr(()=>i(),50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function ISe(e,i,n){e.addManagedElementListeners(i,{keydown:o=>{if(!o.defaultPrevented&&o.key===Qe.TAB){let r=o.shiftKey;n.findNextFocusableElement(i,!1,r)||n.focusNextGridCoreContainer(r)&&o.preventDefault()}}})}var Ny="paginationPageSizeSelector",MSe=class extends Vi{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let i=Number(e);isNaN(i)||i<1||i===this.paginationService.getPageSize()||(this.paginationService.setPageSize(i,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(Ny,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let i=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(i)?this.selectPageSizeComp.setValue(i.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){mr(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Ny)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),i=this.paginationService.getPageSize(),n=!i||!e.includes(i);if(n){let r=this.gos.exists("paginationPageSize"),s=this.gos.get(Ny)!==!0;tt(`'paginationPageSize=${i}'${r?"":" (default value)"}, but ${i} is not included in${s?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),s||tt(`Either set '${Ny}' to an array that includes ${i} or to 'false' to disable the page size selector.`),e.unshift("")}let o=String(n?"":i);this.selectPageSizeComp?(Lp(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(o,!0)):this.createPageSizeSelectorComp(e,o),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(i=>({value:String(i)}))}createPageSizeSelectorComp(e,i){let n=this.localeService.getLocaleTextFunc(),o=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new X6).addOptions(this.createPageSizeSelectOptions(e)).setValue(i).setAriaLabel(r).setLabel(o).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],i=this.gos.get(Ny);return!Array.isArray(i)||Ds(i)?e:[...i].sort((n,o)=>n-o)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},RSe={selector:"AG-PAGE-SIZE-SELECTOR",component:MSe},kSe=class extends wY{constructor(){super(),this.btFirst=ft,this.btPrevious=ft,this.btNext=ft,this.btLast=ft,this.lbRecordCount=ft,this.lbFirstRowOnPage=ft,this.lbLastRowOnPage=ft,this.lbCurrent=ft,this.lbTotal=ft,this.pageSizeComp=ft,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[RSe]);let{btFirst:i,btPrevious:n,btNext:o,btLast:r}=this;this.activateTabIndex([i,n,o,r]),i.insertAdjacentElement("afterbegin",xs(e?"last":"first",this.gos)),n.insertAdjacentElement("afterbegin",xs(e?"next":"previous",this.gos)),o.insertAdjacentElement("afterbegin",xs(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",xs(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let i=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:i,fn:n}=e;this.addManagedListeners(i,{click:n,keydown:o=>{(o.key===Qe.ENTER||o.key===Qe.SPACE)&&(o.preventDefault(),n())}})}),ISe(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){let i=this.gos.getCallback("paginationNumberFormatter");if(i)return i({value:e});let n=this.localeService.getLocaleTextFunc(),o=n("thousandSeparator",","),r=n("decimalSeparator",".");return $me(e,o,r)}getTemplate(){let e=this.localeService.getLocaleTextFunc(),i=e("page","Page"),n=e("to","to"),o=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),c=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${u}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${n}</span>
                    <span id="ag-${u}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${o}</span>
                    <span id="ag-${u}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${u}-start-page">${i}</span>
                        <span id="ag-${u}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${o}</span>
                        <span id="ag-${u}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${c}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){let e=this.paginationService.getCurrentPage(),i=this.rowModel.isLastRowIndexKnown(),n=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let o=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||o,this.lastButtonDisabled=!i||o||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,i){tfe(e,i),e.classList.toggle("ag-disabled",i)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();return e&&i===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages(),n=this.paginationService.getMasterRowCount(),o=e?n:null;if(o===1){let J=this.rowModel.getRow(0);if(J&&J.group&&!(J.groupData||J.aggData)){this.setTotalLabelsToZero();return}}let r=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize(),l,c;this.isZeroPagesToDisplay()?l=c=0:(l=s*r+1,c=l+s-1,e&&c>o&&(c=o));let u=l+s-1,d=!e&&n<u,h=this.formatNumber(l);this.lbFirstRowOnPage.textContent=h;let p,g=this.localeService.getLocaleTextFunc();d?p=g("pageLastRowUnknown","?"):p=this.formatNumber(c),this.lbLastRowOnPage.textContent=p;let y=i>0?r+1:0,M=this.formatNumber(y);this.lbCurrent.textContent=M;let k,G;if(e)k=this.formatNumber(i),G=this.formatNumber(o);else{let J=g("more","more");k=J,G=J}this.lbTotal.textContent=k,this.lbRecordCount.textContent=G,this.announceAriaStatus(h,p,G,M,k)}announceAriaStatus(e,i,n,o,r){let s=this.localeService.getLocaleTextFunc(),l=s("page","Page"),c=s("to","to"),u=s("of","of"),d=`${e} ${c} ${i} ${u} ${n}`,h=`${l} ${o} ${u} ${r}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationRow")),h!==this.ariaPageStatus&&(this.ariaPageStatus=h,this.ariaAnnouncementService.announceValue(h,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},ASe={selector:"AG-PAGINATION",component:kSe},FSe=class extends Ye{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return ASe}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;let i=this.getPageForIndex(e);this.goToPage(i)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return rt(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:rt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:rt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:rt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,i){let n=this.pageSize;switch(i){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(i),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{let o=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=o-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:i=!1,newPage:n=!1,newPageSize:o=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:o,keepRenderedRows:i})}},EY={version:Xt,moduleName:"@ag-grid-community/pagination-core",beans:[FSe,ESe]},TSe={version:Xt,moduleName:"@ag-grid-community/pagination-api",dependantModules:[EY],apiFunctions:{paginationIsLastPageFound:mSe,paginationGetPageSize:vSe,paginationGetCurrentPage:CSe,paginationGetTotalPages:wSe,paginationGetRowCount:bSe,paginationGoToNextPage:ySe,paginationGoToPreviousPage:SSe,paginationGoToFirstPage:_Se,paginationGoToLastPage:xSe,paginationGoToPage:DSe}},PSe={version:Xt,moduleName:"@ag-grid-community/pagination",dependantModules:[EY,TSe]},os="clientSide",Ar="serverSide",rv="infinite",LSe={onGroupExpandedOrCollapsed:[os],refreshClientSideRowModel:[os],isRowDataEmpty:[os],forEachLeafNode:[os],forEachNodeAfterFilter:[os],forEachNodeAfterFilterAndSort:[os],resetRowHeights:[os],applyTransaction:[os],applyTransactionAsync:[os],flushAsyncTransactions:[os],getBestCostNodeSelection:[os],getServerSideSelectionState:[Ar],setServerSideSelectionState:[Ar],applyServerSideTransaction:[Ar],applyServerSideTransactionAsync:[Ar],applyServerSideRowData:[Ar],retryServerSideLoads:[Ar],flushServerSideAsyncTransactions:[Ar],refreshServerSide:[Ar],getServerSideGroupLevelState:[Ar],refreshInfiniteCache:[rv],purgeInfiniteCache:[rv],getInfiniteRowCount:[rv],isLastRowIndexKnown:[rv,Ar],expandAll:[os,Ar],collapseAll:[os,Ar],onRowHeightChanged:[os,Ar],setRowCount:[rv,Ar],getCacheBlockState:[rv,Ar]},OSe={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function NSe(e,i,n){let o=OSe[e];if(o){let{version:s,new:l,old:c,message:u}=o,d=c??e;return(...h)=>{let p=l?`Please use ${l} instead. `:"";return tt(`Since ${s} api.${d} is deprecated. ${p}${u??""}`),i.apply(i,h)}}let r=LSe[e];return r?(...s)=>{let l=n.rowModel.getType();if(!r.includes(l)){Wi(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return i.apply(i,s)}:i}var BSe={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Mp=(e,i)=>{let n=i.rowModelType??"clientSide";return n==="clientSide"||n==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},VSe={enableRowGroup:Mp,rowGroup:Mp,rowGroupIndex:Mp,enablePivot:Mp,enableValue:Mp,pivot:Mp,pivotIndex:Mp,aggFunc:Mp,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{let i=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>i.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:i})=>i==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>sv},HSe={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},zSe=Object.keys(HSe),sv={objectName:"colDef",allProperties:zSe,docsUrl:"column-properties/",deprecations:BSe,validations:VSe},GSe=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),WSe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},jSe=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{let i=e.rowModelType??"clientSide";switch(i){case"clientSide":{let n=`treeData requires 'getDataPath' in the ${i} row model.`;return e.getDataPath?null:n}case"serverSide":{let n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:n}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{let i=e.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>sv,defaultColDef:()=>sv,defaultColGroupDef:()=>sv,autoGroupColumnDef:()=>sv,selectionColumnDef:()=>sv}),USe=()=>({objectName:"gridOptions",allProperties:[...Ky.ALL_PROPERTIES,...Yy.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:GSe(),validations:jSe()}),$Se=class extends Ye{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,USe())}validateApiFunction(e,i){return NSe(e,i,this.beans)}processOptions(e,i){let{validations:n,deprecations:o,allProperties:r,propertyExceptions:s,objectName:l,docsUrl:c}=i;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(o)],r,l,c);let u=new Set;Object.keys(e).forEach(h=>{let p=o[h];if(p)if("renamed"in p){let{renamed:$,version:_e}=p;u.add(`As of v${_e}, ${String(h)} is deprecated. Please use ${String($)} instead.`),e[$]=e[h]}else{let{message:$,version:_e}=p;u.add(`As of v${_e}, ${String(h)} is deprecated. ${$??""}`)}let g=e[h];if(g==null||g===!1)return;let f=n[h],y;if(f)if(typeof f=="function"){let $=f(e,this.gridOptions);if(!$)return;if("objectName"in $){let _e=e[h];if(Array.isArray(_e)){_e.forEach(Fe=>{this.processOptions(Fe,$)});return}this.processOptions(e[h],$);return}y=$}else y=f;else return;let{module:M,dependencies:k,validate:G,supportedRowModels:J}=y;if(J){let $=this.gridOptions.rowModelType??"clientSide";if(!J.includes($)){u.add(`${String(h)} is not supported with the '${$}' row model.`);return}}if(M){let $=Array.isArray(M)?M:[M],_e=!0;if($.forEach(Fe=>{this.gos.assertModuleRegistered(Fe,String(h))||(_e=!1,u.add(`${String(h)} is only available when ${Fe} is loaded.`))}),!_e)return}if(k){let $=this.checkForRequiredDependencies(h,k,e);if($){u.add($);return}}if(G){let $=G(e,this.gridOptions);if($){u.add($);return}}}),u.size>0&&u.forEach(h=>{tt(h)})}checkForRequiredDependencies(e,i,n){let r=Object.entries(i).find(([c,u])=>{let d=n[c];return!u.includes(d)});if(!r)return null;let[s,l]=r;return l.length>1?`'${String(e)}' requires '${s}' to be one of [${l.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${l[0]}.`}checkProperties(e,i,n,o,r){let s=["__ob__","__v_skip","__metadata__"],l=qSe(Object.getOwnPropertyNames(e),[...s,...i,...n],n);if(Ks(l,(c,u)=>{let d=`invalid ${o} property '${c}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;n.includes("context")&&(d+=`
If you are trying to annotate ${o} with application data, use the '${o}.context' property instead.`),tt(d)}),Object.keys(l).length>0&&r){let c=this.getFrameworkOverrides().getDocLink(r);tt(`to see all the valid ${o} properties please check: ${c}`)}}};function qSe(e,i,n){let o={},r=e.filter(s=>!i.some(l=>l===s));return r.length>0&&r.forEach(s=>o[s]=FK({inputValue:s,allSuggestions:n}).values),o}var KSe={version:Xt,moduleName:"@ag-grid-community/core"},YSe={version:Xt,moduleName:"@ag-grid-community/core-validations",beans:[$Se]},IY={version:Xt,moduleName:"@ag-grid-community/core-community-features",dependantModules:[KSe,YSe,rwe,A0e,fSe,zbe,Zwe,PSe,lSe]},ZSe=class extends Ye{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},X2=new Set(["gridPreDestroyed","fillStart","pasteStart"]),QSe=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",XSe=new Map([...Ky.BOOLEAN_PROPERTIES.map(e=>[e,h6]),...Ky.NUMBER_PROPERTIES.map(e=>[e,YK]),["groupAggFiltering",e=>typeof e=="function"?e:h6(e)],["pageSize",fu(1)],["autoSizePadding",fu(0)],["keepDetailRowsCount",fu(1)],["rowBuffer",fu(0)],["infiniteInitialRowCount",fu(1)],["cacheOverflowSize",fu(1)],["cacheBlockSize",fu(1)],["serverSideInitialRowCount",fu(1)],["viewportRowModelPageSize",fu(1)],["viewportRowModelBufferSize",fu(0)]]);function MY(e,i){let n=XSe.get(e);return n?n(i):i}function JSe(e){let i={};return Object.entries(e).forEach(([n,o])=>{let r=MY(n,o);i[n]=r}),i}var e1e=(()=>{let e=class RY extends Ye{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new fv,this.globalEventHandlerFactory=n=>(o,r)=>{if(!this.isAlive())return;let s=X2.has(o);if(s&&!n||!s&&n)return;let l=Yy.getCallbackForEvent(o),c=this.gridOptions[l];typeof c=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{c(r)})}}wireBeans(n){this.gridOptions=n.gridOptions,this.eGridDiv=n.eGridDiv,this.validationService=n.validationService,this.environment=n.environment,this.api=n.gridApi,this.gridId=n.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){let n=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),n),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:o})=>{this.updateGridOptions({options:o,force:!0,source:"gridOptionsUpdated"})}})}get(n){return this.gridOptions[n]??WSe[n]}getCallback(n){return this.mergeGridCommonParams(this.gridOptions[n])}exists(n){return rt(this.gridOptions[n])}mergeGridCommonParams(n){return n&&(r=>{let s=r;return s.api=this.api,s.context=this.gridOptionsContext,n(s)})}updateGridOptions({options:n,force:o,source:r="api"}){let s={id:RY.changeSetId++,properties:[]},l=[];Object.entries(n).forEach(([c,u])=>{r==="api"&&Yge[c]&&tt(`${c} is an initial property and cannot be updated.`);let d=MY(c,u),h=o||typeof d=="object"&&r==="api",p=this.gridOptions[c];if(h||p!==d){this.gridOptions[c]=d;let g={type:c,currentValue:d,previousValue:p,changeSet:s,source:r};l.push(g)}}),this.validationService?.processGridOptions(this.gridOptions),s.properties=l.map(c=>c.type),l.forEach(c=>{this.gridOptions.debug&&Ys(`Updated property ${c.type} from`,c.previousValue," to ",c.currentValue),this.propertyEventService.dispatchEvent(c)})}addPropertyEventListener(n,o){this.propertyEventService.addEventListener(n,o)}removePropertyEventListener(n,o){this.propertyEventService.removeEventListener(n,o)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(n){let o=n;return o.api=this.api,o.context=this.gridOptionsContext,o}assertModuleRegistered(n,o){return gh.__assertRegistered(n,o,this.gridId)}isModuleRegistered(n){return gh.__isRegistered(n,this.gridId)}};return e.changeSetId=0,e})(),t1e=e1e,i1e=class extends Ye{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,i){let n,o;if(wo(e.column)?n=this.visibleColsService.getGroupAtDirection(e.column,i):(o=`getCol${i}`,n=this.visibleColsService[o](e.column)),!n)return;let{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){let c=[n];for(;n.getParent();)n=n.getParent(),c.push(n);n=c[c.length-1-r]}let{column:s,headerRowIndex:l}=this.getHeaderIndexToFocus(n,r);return{column:s,headerRowIndex:l}}getHeaderIndexToFocus(e,i){let n;if(wo(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){let o=e;n=o.getLeafColumns()[0];let r=n;for(;r!==o;)i++,r=r.getParent()}return{column:n||e,headerRowIndex:i}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(i=>i.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,i){let n=this.getHeaderRowType(i),o=n==="filter",r=n==="column",s=o?e:e.getParent(),l=i-1,c=l;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;c=l,l<0&&(s=e,l=i,c=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:c}}getColumnVisibleChild(e,i,n="After"){let o=this.getHeaderRowType(i),r=e,s=i+1,l=s;if(o==="group"){let c=e.getDisplayedLeafColumns(),u=n==="After"?c[0]:Oi(c),d=[],h=u;for(;h.getParent()!==e;)h=h.getParent(),d.push(h);if(r=u,u.isSpanHeaderHeight())for(let p=d.length-1;p>=0;p--){let g=d[p];if(!g.isPadding()){r=g;break}s++}else r=Oi(d),r||(r=u)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:l}}getHeaderRowType(e){let i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)}findColAtEdgeForHeaderRow(e,i){let n=this.visibleColsService.getAllCols(),o=n[i==="start"?0:n.length-1];if(!o)return;let s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned())?.getRowType(e);if(s=="group"){let l=this.visibleColsService.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:s==null?-1:e,column:o}}},n1e=class extends Ye{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){let e=this.gos.getCallback("getLocaleText");if(e)return(n,o,r)=>e({key:n,defaultValue:o,variableValues:r});let i=this.gos.get("localeText");return(n,o,r)=>{let s=i&&i[n];if(s&&r&&r.length){let l=0;for(;!(l>=r.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",r[l++])}return s??o}}},o1e=class extends Ye{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new N6(this.getFrameworkOverrides())}addEventListener(e,i){let n=this.frameworkEventWrappingService.wrap(i),o=e3(this.gos)&&!X2.has(e),r=o?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventService.addEventListener(e,n,o)}removeEventListener(e,i){let n=this.frameworkEventWrappingService.unwrap(i),r=!!this.asyncEventListeners.get(e)?.delete(n);r||this.syncEventListeners.get(e)?.delete(n),this.eventService.removeEventListener(e,n,r)}addGlobalListener(e){let i=this.frameworkEventWrappingService.wrapGlobal(e);if(e3(this.gos)){let o=(s,l)=>{X2.has(s)&&i(s,l)},r=(s,l)=>{X2.has(s)||i(s,l)};this.globalEventListenerPairs.set(e,{syncListener:o,asyncListener:r}),this.eventService.addGlobalListener(o,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(i),this.eventService.addGlobalListener(i,!1)}removeGlobalListener(e){let i=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(i)){let{syncListener:o,asyncListener:r}=this.globalEventListenerPairs.get(i);this.eventService.removeGlobalListener(o,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(i),this.eventService.removeGlobalListener(i,!1)}destroyEventListeners(e,i){e.forEach((n,o)=>{n.forEach(r=>this.eventService.removeEventListener(o,r,i)),n.clear()}),e.clear()}destroyGlobalListeners(e,i){e.forEach(n=>this.eventService.removeGlobalListener(n,i)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:i})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(i,!0)}),this.globalEventListenerPairs.clear()}},r1e=class extends Ye{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},s1e=class extends Ye{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Ti(this.topRowBounds)||Ti(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){let e=this.topRowBounds?this.topRowBounds.rowTop:0,i=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:i}}calculateBounds(e,i){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(i),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=i),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=rt(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},a1e=class extends Ye{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Pr(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){let e=co(this.gos),i=this.descriptionContainer=e.createElement("div");i.classList.add("ag-aria-description-container"),dK(i,"polite"),efe(i,"additions text"),Jge(i,!0),this.eGridDiv.appendChild(i)}announceValue(e,i){this.pendingAnnouncements.set(i,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(mr(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},l1e=class extends Ye{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,i){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),i();return}let n=o=>{for(;o.length;){let r=o.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),n(this.executeNextFuncs)},0),window.setTimeout(()=>{i(),n(this.executeLaterFuncs)},200)})}},c1e=class extends Ye{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},u1e=class extends Ye{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Wn(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){tt("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,i,n){let o=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(o,i,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;this.state===2?e=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:this.wrapperPadding!==0&&(e=0),this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},d1e=class extends Ye{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){let i=[];return rt(e.extraCssClass)&&i.push(e.extraCssClass),i.push("ag-row"),i.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&i.push("ag-opacity-zero"),i.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&i.push("ag-row-pinned"),e.rowNode.isSelected()&&i.push("ag-row-selected"),e.rowNode.footer&&i.push("ag-row-footer"),i.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&i.push("ag-row-loading"),e.fullWidthRow&&i.push("ag-full-width-row"),e.expandable&&(i.push("ag-row-group"),i.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&i.push("ag-row-dragging"),vq(i,this.processClassesFromGridOptions(e.rowNode)),vq(i,this.preProcessRowClassRules(e.rowNode)),i.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&i.push("ag-row-first"),e.lastRowOnPage&&i.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&i.push("ag-cell-last-left-pinned"),e.pinned==="right"&&i.push("ag-cell-first-right-pinned")),i}processClassesFromGridOptions(e){let i=[],n=s=>{typeof s=="string"?i.push(s):Array.isArray(s)&&s.forEach(l=>i.push(l))},o=this.gos.get("rowClass");if(o){if(typeof o=="function")return tt("rowClass should not be a function, please use getRowClass instead"),[];n(o)}let r=this.gos.getCallback("getRowClass");if(r){let s={data:e.data,node:e,rowIndex:e.rowIndex},l=r(s);n(l)}return i}preProcessRowClassRules(e){let i=[];return this.processRowClassRules(e,n=>{i.push(n)},()=>{}),i}processRowClassRules(e,i,n){let o=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),o,i,n)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},h1e=class extends Ye{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=dfe(),this.gos.get("debug")&&Ys("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(i!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.gos.get("debug")&&Ys(`RowContainerHeightService - Div Stretch Offset = ${i} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(i)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let i=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let i=this.modelHeight-this.getUiBodyHeight(),n=e/i;return this.maxScrollY*n}},p1e=class extends Ye{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=mu(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=mu(this.gos))}doFullSort(e,i){let n=(r,s)=>({currentPos:s,rowNode:r}),o=e.map(n);return o.sort(this.compareRowNodes.bind(this,i)),o.map(r=>r.rowNode)}compareRowNodes(e,i,n){let o=i.rowNode,r=n.rowNode;for(let s=0,l=e.length;s<l;s++){let c=e[s],u=c.sort==="desc",d=this.getValue(o,c.column),h=this.getValue(r,c.column),p,g=this.getComparator(c,o);if(g?p=g(d,h,o,r,u):p=cge(d,h,this.isAccentedSort),!isNaN(p)&&p!==0)return c.sort==="asc"?p:p*-1}return i.currentPos-n.currentPos}getComparator(e,i){let n=e.column,o=n.getColDef().comparator;if(o!=null)return o;if(!n.getColDef().showRowGroup)return;let r=!i.group&&n.getColDef().field;if(!r)return;let s=this.columnModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,i){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,e,!1,!1);if(e.rowGroupColumn===i){if(g3(this.gos,this.columnModel.isPivotActive())){let s=e.allLeafChildren?.[0];return s?this.valueService.getValue(i,s,!1,!1):void 0}let r=this.showRowGroupColsService?.getShowRowGroupCol(i.getId());return r?e.groupData?.[r.getId()]:void 0}if(!(e.group&&i.getColDef().showRowGroup))return this.valueService.getValue(i,e,!1,!1)}},b3=class{constructor(e,i){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:i,children:null},this.mapToItems[i.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,i){if(e.children)for(let n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],i);i(e.rowNode)}depthFirstSearchEverything(e,i,n){if(e.childrenAfterGroup)for(let o=0;o<e.childrenAfterGroup.length;o++){let r=e.childrenAfterGroup[o];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[o],i,n):n&&i(r)}i(e)}forEachChangedNodeDepthFirst(e,i=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,i)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let i=e,n=0;for(;!this.mapToItems[i.id];){let o={rowNode:i,children:null};this.mapToItems[i.id]=o,n++,i=i.parent}return n}populateColumnsMap(e,i){if(!this.keepingColumns||!i)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),i.forEach(o=>this.nodeIdsToColumns[n.id][o.getId()]=!0),n=n.parent}linkPathItems(e,i){let n=e;for(let o=0;o<i;o++){let r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent}}addParentNode(e,i){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,i)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,i){if(!this.keepingColumns)return i;let n=this.nodeIdsToColumns[e.id];return i.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,i){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return i.filter(r=>!n[r.getId()])}},kY=class extends Ye{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new gwe,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){let{gos:e,rowModel:i,onRowSelected:n}=this;this.selectionCtx.init(i),this.rowSelectionMode=i3(e),this.groupSelectsChildren=If(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{let o=If(e),r=i3(e);(o!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=o,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:n.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,i){if(!QSe(i))return e;let n=this.selectionCtx.getRoot();return n?n.isSelected()??!1:!0}setNodesSelected(e){let{newValue:i,clearSelection:n,suppressFinishActions:o,rangeSelect:r,nodes:s,event:l,source:c}=e;if(s.length===0)return 0;if(s.length>1&&!this.isMultiSelect())return tt("cannot multi select unless selection mode is 'multiRow'"),0;let u=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=s.map(p=>p.footer?p.sibling:p);if(r){if(d.length>1)return tt("cannot range select while selecting multiple rows"),0;let p=d[0],g=this.overrideSelectionValue(i,c);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(p)){let f=this.selectionCtx.truncate(p);return g&&this.selectRange(f.discard,!1,c),this.selectRange(f.keep,g,c)}else if(this.selectionCtx.getRoot()!==p){let M=this.selectionCtx.extend(p,this.groupSelectsChildren);return g&&this.selectRange(M.discard,!1,c),this.selectRange(M.keep,g,c)}}}o||this.selectionCtx.setRoot(d[0]);let h=0;for(let p=0;p<d.length;p++){let g=d[p];u&&g.group||g.selectThisNode(i,l,c)&&h++,this.groupSelectsChildren&&g.childrenAfterGroup?.length&&(h+=this.selectChildren(g,i,u,c))}return o||(i&&(n||!this.isMultiSelect())&&(h+=this.clearOtherNodes(d[0],c)),h>0&&(this.updateGroupsFromChildrenSelections(c),this.dispatchSelectionChanged(c))),h}selectRange(e,i,n){let o=0;return e.forEach(r=>{if(r.group&&this.groupSelectsChildren)return;r.selectThisNode(i,void 0,n)&&o++}),o>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),o}selectChildren(e,i,n,o){let r=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return Ti(r)?0:this.setNodesSelected({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:o,nodes:r})}getSelectedNodes(){let e=[];return this.selectedNodes.forEach(i=>{i&&e.push(i)}),e}getSelectedRows(){let e=[];return this.selectedNodes.forEach(i=>{i&&i.data&&e.push(i.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let i=new Map;this.selectedNodes.forEach((n,o)=>{n&&e(n)&&i.set(o,n)}),this.selectedNodes=i}updateGroupsFromChildrenSelections(e,i){if(!this.groupSelectsChildren||!Wn(this.gos))return!1;let o=this.rowModel.getRootNode();i||(i=new b3(!0,o),i.setInactive());let r=!1;return i.forEachChangedNodeDepthFirst(s=>{if(s!==o){let l=s.calculateSelectedFromChildren();r=s.selectThisNode(l===null?!1:l,void 0,e)||r}}),r}clearOtherNodes(e,i){let n=new Map,o=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){let s=this.selectedNodes.get(r.id);o+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),this.groupSelectsChildren&&r.parent&&n.set(r.parent.id,r.parent)}}),n.forEach(r=>{let s=r.calculateSelectedFromChildren();r.selectThisNode(s===null?!1:s,void 0,i)}),o}onRowSelected(e){let i=e.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes.set(i.id,i):this.selectedNodes.delete(i.id))}syncInRowNode(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)}syncInOldRowNode(e,i){if(rt(i)&&e.id!==i.id&&i){let o=i.id;this.selectedNodes.get(o)==e&&this.selectedNodes.set(i.id,i)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){let i=this.getSelectionCount();this.resetNodes(),i&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!Wn(this.gos))return;let i=this.rowModel.getTopLevelNodes();if(i===null)return;let n=[];function o(r){for(let s=0,l=r.length;s<l;s++){let c=r[s];if(c.isSelected())n.push(c);else{let u=c;u.group&&u.children&&o(u.children)}}}return o(i),n}isEmpty(){let e=0;return this.selectedNodes.forEach(i=>{i&&e++}),e===0}deselectAllRowNodes(e){let i=l=>l.selectThisNode(!1,void 0,o),n=Wn(this.gos),{source:o,justFiltered:r,justCurrentPage:s}=e;if(s||r){if(!n){Wi("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,s).forEach(i)}else this.selectedNodes.forEach(l=>{l&&i(l)}),this.reset(o);this.selectionCtx.reset(),n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o)}getSelectedCounts(e,i){let n=0,o=0,r=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?n++:s.selectable&&o++)};return this.getNodesToSelect(e,i).forEach(r),{selectedCount:n,notSelectedCount:o}}getSelectAllState(e,i){let{selectedCount:n,notSelectedCount:o}=this.getSelectedCounts(e,i);return n===0&&o===0?!1:n>0&&o>0?null:n>0}hasNodesToSelect(e=!1,i=!1){return this.getNodesToSelect(e,i).filter(n=>n.selectable).length>0}getNodesToSelect(e=!1,i=!1){this.validateSelectAllType();let n=[];if(i)return this.forEachNodeOnPage(r=>{if(!r.group){n.push(r);return}if(!r.expanded){let s=l=>{n.push(l),l.childrenAfterFilter?.length&&l.childrenAfterFilter.forEach(s)};s(r);return}this.groupSelectsChildren||n.push(r)}),n;let o=this.rowModel;return e?(o.forEachNodeAfterFilter(r=>{n.push(r)}),n):(o.forEachNode(r=>{n.push(r)}),n)}forEachNodeOnPage(e){let i=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow();for(let o=i;o<=n;o++){let r=this.rowModel.getRow(o);r&&e(r)}}selectAllRowNodes(e){if(pge(this.gos)&&!P6(this.gos))return tt("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();let{source:i,justFiltered:n,justCurrentPage:o}=e,r=this.getNodesToSelect(n,o);r.forEach(s=>s.selectThisNode(!0,void 0,i)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(Oi(r)??null),Wn(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)}getSelectionState(){let e=[];return this.selectedNodes.forEach(i=>{i?.id&&e.push(i.id)}),e.length?e:null}setSelectionState(e,i){if(!Array.isArray(e))return Wi("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");let n=new Set(e),o=[];this.rowModel.forEachNode(r=>{n.has(r.id)&&o.push(r)}),this.setNodesSelected({newValue:!0,nodes:o,source:i})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Wn(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},g1e=class extends Ye{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){let{gos:i}=this,n=J2(i),o=T6(i);if(!n||!o)return;let r=If(i),s=Wn(i)&&r,l=[],c=u=>{if(e&&!u.group)return;if(s&&u.group){let h=u.childrenAfterGroup.some(p=>p.selectable===!0);u.setRowSelectable(h,!0);return}let d=o?.(u)??!0;u.setRowSelectable(d,!0),!d&&u.isSelected()&&l.push(u)};if(s){let u=this.rowModel;new b3(!1,u.getRootNode()).forEachChangedNodeDepthFirst(c,!0,!0)}else this.rowModel.forEachNode(c);l.length&&this.selectionService.setNodesSelected({nodes:l,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof kY&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Vq=["asc","desc",null],f1e=class extends Ye{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,i,n){let o=this.getNextSortDirection(e);this.setSortForColumn(e,o,i,n)}setSortForColumn(e,i,n,o){i!=="asc"&&i!=="desc"&&(i=null);let r=mu(this.gos),s=[e];if(r&&e.getColDef().showRowGroup){let d=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(h=>h.isSortable());d&&(s=[e,...d])}s.forEach(u=>u.setSort(i,o));let l=(n||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),c=[];if(!l){let u=this.clearSortBarTheseColumns(s,o);c.push(...u)}this.updateSortIndex(e),c.push(...s),this.dispatchSortChangedEvents(o,c)}updateSortIndex(e){let i=mu(this.gos),n=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),o=i&&n||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(c=>c.setSortIndex(null));let s=r.filter(c=>i&&c.getColDef().showRowGroup?!1:c!==o);(o.getSort()?[...s,o]:s).forEach((c,u)=>{c.setSortIndex(u)})}onSortChanged(e,i){this.dispatchSortChangedEvents(e,i)}isSortActive(){let i=this.columnModel.getAllCols().filter(n=>!!n.getSort());return i&&i.length>0}dispatchSortChangedEvents(e,i){let n={type:"sortChanged",source:e};i&&(n.columns=i),this.eventService.dispatchEvent(n)}clearSortBarTheseColumns(e,i){let n=[];return this.columnModel.getAllCols().forEach(o=>{e.includes(o)||(o.getSort()&&n.push(o),o.setSort(void 0,i))}),n}getNextSortDirection(e){let i;if(e.getColDef().sortingOrder?i=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?i=this.gos.get("sortingOrder"):i=Vq,!Array.isArray(i)||i.length<=0)return tt(`sortingOrder must be an array with at least one element, currently it's ${i}`),null;let n=i.indexOf(e.getSort()),o=n<0,r=n==i.length-1,s;return o||r?s=i[0]:s=i[n+1],Vq.indexOf(s)<0?(tt("invalid sort type ",s),null):s}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){let s=mu(this.gos);e=e.filter(l=>{let c=!!l.getAggFunc(),u=!l.isPrimary(),d=s?this.showRowGroupColsService?.getShowRowGroupCol(l.getId()):l.getColDef().showRowGroup;return c||u||d})}let i=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),n={};e.forEach((s,l)=>n[s.getId()]=l),e.sort((s,l)=>{let c=s.getSortIndex(),u=l.getSortIndex();if(c!=null&&u!=null)return c-u;if(c==null&&u==null){let d=n[s.getId()],h=n[l.getId()];return d>h?1:-1}else return u==null?-1:1});let o=mu(this.gos)&&!!i.length;o&&(e=[...new Set(e.map(s=>this.showRowGroupColsService?.getShowRowGroupCol(s.getId())??s))]);let r=new Map;return e.forEach((s,l)=>r.set(s,l)),o&&i.forEach(s=>{let l=this.showRowGroupColsService.getShowRowGroupCol(s.getId());r.set(s,r.get(l))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,i],[n,o])=>i-o).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let i=mu(this.gos),n=!!e.getColDef().showRowGroup;return i&&n}getDisplaySortForColumn(e){let i=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!i?.length)return e.getSort();let o=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...i]:i,r=o[0].getSort();return o.every(l=>l.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},m1e=class extends Ye{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});let e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&Ys(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){let i=this.gos.get("columnDefs");if(i){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(i);return}this.columnModel.setColumnDefs(i,Cf(e.source))}}},v1e="paste",C1e=class extends Ye{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==v1e&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,i){if(this.gos.get("suppressChangeDetection"))return;let n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){let o=this.gos.get("aggregateOnlyChangedColumns"),r=new b3(o,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(s=>{n.push(s)})}this.rowRenderer.refreshCells({rowNodes:n})}},w1e=class extends Ye{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,i){if(typeof e=="string")return this.evaluateExpression(e,i);Wi("value should be either a string or a function",e)}evaluateExpression(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.getValue,i.column,i.columnGroup)}catch(n){return Ys("Processing of the expression failed"),Ys("Expression = ",e),Ys("Params = ",i),Ys("Exception = ",n),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];let i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},b1e=class extends Ye{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,i,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=n)}getValue(e,i){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[i]}},y1e=class extends Ye{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=wh(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=n=>this.callColumnCellValueChangedHandler(n),i=e3(this.gos);this.eventService.addEventListener("cellValueChanged",e,i),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,i)),this.addManagedPropertyListener("treeData",n=>this.isTreeData=n.currentValue)}getValueForDisplay(e,i){let n=i.leafGroup&&this.columnModel.isPivotMode(),o=i.group&&i.expanded&&!i.footer&&!n,r=this.gos.get("groupSuppressBlankHeader");if(!o||r)return this.getValue(e,i);let s=!1,l=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof l!="function"?s=!!l:s=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});let c=o&&s;return this.getValue(e,i,!1,c)}getValue(e,i,n=!1,o=!1){if(this.initialised||this.init(),!i)return;let r=e.getColDef(),s=r.field,l=e.getColId(),c=i.data,u,d=i.groupData&&i.groupData[l]!==void 0,h=!o&&i.aggData&&i.aggData[l]!==void 0,p=this.isSsrm&&o&&!!e.getColDef().aggFunc,g=this.isSsrm&&i.footer&&i.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===i.field);if(n&&r.filterValueGetter?u=this.executeFilterValueGetter(r.filterValueGetter,c,e,i):this.isTreeData&&h?u=i.aggData[l]:this.isTreeData&&r.valueGetter?u=this.executeValueGetter(r.valueGetter,c,e,i):this.isTreeData&&s&&c?u=Hy(c,s,e.isFieldContainsDots()):d?u=i.groupData[l]:h?u=i.aggData[l]:r.valueGetter?u=this.executeValueGetter(r.valueGetter,c,e,i):g?u=Hy(c,i.field,e.isFieldContainsDots()):s&&c&&!p&&(u=Hy(c,s,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){let f=u.substring(1);u=this.executeValueGetter(f,c,e,i)}if(u==null){let f=this.getOpenedGroup(i,e);if(f!=null)return f}return u}parseValue(e,i,n,o){let r=e.getColDef(),s=r.valueParser;if(rt(s)){let l=this.gos.addGridCommonParams({node:i,data:i?.data,oldValue:o,newValue:n,colDef:r,column:e});return typeof s=="function"?s(l):this.expressionService.evaluate(s,l)}return n}getDeleteValue(e,i){return rt(e.getColDef().valueParser)?this.parseValue(e,i,"",this.getValueForDisplay(e,i))??null:null}formatValue(e,i,n,o,r=!0){let s=null,l,c=e.getColDef();if(o?l=o:r&&(l=c.valueFormatter),l){let u=this.gos.addGridCommonParams({value:n,node:i,data:i?i.data:null,colDef:c,column:e});typeof l=="function"?s=l(u):s=this.expressionService.evaluate(l,u)}else if(c.refData)return c.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}getOpenedGroup(e,i){if(!this.gos.get("showOpenedGroup")||!i.getColDef().showRowGroup)return;let o=i.getColDef().showRowGroup,r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(o===!0||o===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,i,n,o){let r=this.columnModel.getColDefCol(i);if(!e||!r)return!1;Ti(e.data)&&(e.data={});let{field:s,valueSetter:l}=r.getColDef();if(Ti(s)&&Ti(l))return tt("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,n))return tt("Data type of the new value does not match the cell data type of the column"),!1;let c=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});c.newValue=n;let u;if(rt(l)?typeof l=="function"?u=l(c):u=this.expressionService.evaluate(l,c):u=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();let d=this.getValue(r,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,colDef:c.colDef,data:e.data,node:e,oldValue:c.oldValue,newValue:d,value:d,source:o}),!0}callColumnCellValueChangedHandler(e){let i=e.colDef.onCellValueChanged;typeof i=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{i({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,i,n,o){if(!i)return!1;let r=!1;if(!o)r=e[i]===n,r||(e[i]=n);else{let s=i.split("."),l=e;for(;s.length>0&&l;){let c=s.shift();s.length===0?(r=l[c]===n,r||(l[c]=n)):l=l[c]}}return!r}executeFilterValueGetter(e,i,n,o){let r=this.gos.addGridCommonParams({data:i,node:o,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof e=="function"?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,i,n,o){let r=n.getColId(),s=this.valueCache.getValue(o,r);if(s!==void 0)return s;let l=this.gos.addGridCommonParams({data:i,node:o,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,o)}),c;return typeof e=="function"?c=e(l):c=this.expressionService.evaluate(e,l),this.valueCache.setValue(o,r,c),c}getValueCallback(e,i){let n=this.columnModel.getColDefCol(i);return n?this.getValue(n,e):null}getKeyForNode(e,i){let n=this.getValue(e,i),o=e.getColDef().keyCreator,r=n;if(o){let s=this.gos.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:i,data:i.data});r=o(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&tt("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},S1e=(()=>{let e=class vf{static applyGlobalGridOptions(n){if(!vf.gridOptions)return n;let o={};return Tr(o,vf.gridOptions,!0,!0),vf.mergeStrategy==="deep"?Tr(o,n,!0,!0):o=We(We({},o),n),vf.gridOptions.context&&(o.context=vf.gridOptions.context),n.context&&(vf.mergeStrategy==="deep"&&o.context&&Tr(n.context,o.context,!0,!0),o.context=n.context),o}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),_1e=S1e;function AY(e,i,n){if(!i)return Wi("No gridOptions provided to createGrid"),{};let o=new D1e().create(e,i,r=>{let s=new Kwe(e);r.createBean(s)},void 0,n);if(!Object.isFrozen(i)&&!n?.frameworkOverrides){let r="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(i,"api",{get:()=>{Wi(`gridOptions.api is no longer supported. See ${r}.`)},configurable:!0})}return o}var x1e=1,D1e=class{create(e,i,n,o,r){let s=_1e.applyGlobalGridOptions(i),l=JSe(s),c=l.gridId??String(x1e++),u=this.getRegisteredModules(r,c),d=this.createBeansList(l.rowModelType,u,c),h=this.createProvidedBeans(e,l,r);if(!d){Wi("Failed to create grid.");return}let p={providedBeanInstances:h,beanClasses:d,gridId:c,beanInitComparator:Pwe,beanDestroyComparator:Lwe,derivedBeans:[Dwe]},g=new gme(p);return this.registerModuleUserComponents(g,u),this.registerControllers(g,u),this.registerModuleApiFunctions(g,u),n(g),g.getBean("syncService").start(),o&&o(g),g.getBean("gridApi")}registerControllers(e,i){let n=e.getBean("ctrlsFactory");i.forEach(o=>{o.controllers&&o.controllers.forEach(r=>n.register(r))})}getRegisteredModules(e,i){let n=e?e.modules:null,o=gh.__getRegisteredModules(i),r=[],s={},l=(c,u,d)=>{(p=>{s[p.moduleName]||(s[p.moduleName]=!0,r.push(p),gh.__register(p,c,d))})(u),u.dependantModules&&u.dependantModules.forEach(p=>l(c,p,d))};return l(!!n?.length||!gh.__isPackageBased(),IY,void 0),n&&n.forEach(c=>l(!0,c,i)),o&&o.forEach(c=>l(!gh.__isPackageBased(),c,void 0)),r}registerModuleUserComponents(e,i){let n=this.extractModuleEntity(i,r=>r.userComponents?r.userComponents:[]),o=e.getBean("userComponentRegistry");n.forEach(({name:r,classImp:s,params:l})=>{o.registerDefaultComponent(r,s,l)})}registerModuleApiFunctions(e,i){let n=e.getBean("apiFunctionService");i.forEach(o=>{let r=o.apiFunctions;r&&Object.keys(r).forEach(l=>{n?.addFunction(l,r[l])})})}createProvidedBeans(e,i,n){let o=n?n.frameworkOverrides:null;Ti(o)&&(o=new c4);let r={gridOptions:i,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:o};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e="clientSide",i,n){let o=i.filter(u=>!u.rowModel||u.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e]){Wi("Could not find row model for rowModelType = ",e);return}if(!gh.__assertRegistered(r[e],`rowModelType = '${e}'`,n))return;let s=[Hwe,Bwe,i1e,ZSe,xwe,qfe,Awe,Fwe,wCe,TK,h1e,vCe,n1e,uwe,Cme,$ge,Wwe,t1e,bwe,kY,Pge,O0e,s1e,r1e,lwe,w1e,Tge,mCe,b1e,y1e,swe,CCe,fme,Uwe,fCe,zwe,Swe,fwe,gCe,f1e,c1e,l1e,g1e,C1e,bCe,Ewe,d1e,p1e,Nwe,$we,Vwe,Owe,m1e,u1e,yCe,o1e,a1e,SCe,Nge,Iwe,Bge,Lge,Mwe,Rwe,Uge,Oge,Wge,kwe,jge,Mge],l=this.extractModuleEntity(o,u=>u.beans?u.beans:[]);s.push(...l);let c=[];return s.forEach(u=>{c.indexOf(u)<0&&c.push(u)}),c}extractModuleEntity(e,i){return[].concat(...e.map(i))}},FY=class extends Ye{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){let e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function E1e(e){e.expansionService.expandAll(!0)}function I1e(e){e.expansionService.expandAll(!1)}function M1e(e){let i=e.rowModelHelperService?.getClientSideRowModel(),n=e.rowModelHelperService?.getServerSideRowModel();i?i.onRowHeightChanged():n&&n.onRowHeightChanged()}function R1e(e,i,n){let o=e.rowModelHelperService?.getServerSideRowModel();if(o){if(e.funcColsService.isRowGroupEmpty()){o.setRowCount(i,n);return}Wi("setRowCount cannot be used while using row grouping.");return}let r=e.rowModelHelperService?.getInfiniteRowModel();if(r){r.setRowCount(i,n);return}}function k1e(e){return e.rowNodeBlockLoader?.getBlockState()??{}}function A1e(e){return e.rowModel.isLastRowIndexKnown()}var F1e={version:Xt,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:E1e,collapseAll:I1e,onRowHeightChanged:M1e}},T1e={version:Xt,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:R1e,getCacheBlockState:k1e,isLastRowIndexKnown:A1e}},TY=class{wrap(e,i,n=[],o){let r=this.createWrapper(e,o);return i.forEach(s=>{this.createMethod(r,s,!0)}),n.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,i,n){e.addMethod(i,this.createMethodProxy(e,i,n))}createMethodProxy(e,i,n){return function(){return e.hasMethod(i)?e.callMethod(i,arguments):(n&&tt("Framework component is missing the method "+i+"()"),null)}}};var wv=typeof global>"u"?{}:global;wv.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;wv.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;wv.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;wv.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;wv.Node=typeof Node>"u"?{}:Node;wv.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var P1e="ROOT_NODE_ID",c6=0,L1e=class{constructor(e,i,n,o,r,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=i,this.eventService=n,this.funcColsService=o,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=P1e,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return tK(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){tt("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);let i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map((o,r)=>this.createNode(o,this.rootNode,c6,r)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);let i={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[];return this.executeRemove(e,i,n),this.executeUpdate(e,i,n),this.executeAdd(e,i),this.updateSelection(n,"rowDataChanged"),i}updateRowOrderFromRowData(e){let i=this.rootNode.allLeafChildren,n=i?.length??0,o=new Map,r=-1,s=-1;for(let l=0;l<n;++l){let c=i[l],u=c.data;u!==e[l]&&(s<0&&(r=l),s=l,o.set(u,c))}if(r<0)return!1;for(let l=r;l<=s;++l){let c=o.get(e[l]);c!==void 0&&(i[l]=c,c.sourceRowIndex=l)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,i){let n=e.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),n&&this.eventService.dispatchEvent({type:"selectionChanged",source:i})}executeAdd(e,i){let n=e.add;if(Ds(n))return;let o=this.rootNode.allLeafChildren,r=o.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData"))){for(let u=0;u<o.length;u++)if(o[u]?.rowIndex==r-1){r=u+1;break}}let s=n.map((c,u)=>this.createNode(c,this.rootNode,c6,r+u));if(r<o.length){let c=o.slice(0,r),u=o.slice(r,o.length),d=c.length+s.length;for(let h=0,p=u.length;h<p;++h)u[h].sourceRowIndex=d+h;this.rootNode.allLeafChildren=[...c,...s,...u],i.rowsInserted=!0}else this.rootNode.allLeafChildren=o.concat(s);let l=this.rootNode.sibling;l&&(l.allLeafChildren=o),i.rowNodeTransaction.add=s}sanitizeAddIndex(e){let i=this.rootNode.allLeafChildren?.length??0;return e<0||e>=i||Number.isNaN(e)?i:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:i},n){let{remove:o}=e;if(Ds(o))return;let r={};o.forEach(l=>{let c=this.lookupRowNode(l);c&&(c.isSelected()&&n.push(c),c.clearRowTopAndRowIndex(),r[c.id]=!0,delete this.allNodesMap[c.id],i.remove.push(c))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(l=>!r[l.id])??null,this.rootNode.allLeafChildren?.forEach((l,c)=>{l.sourceRowIndex=c});let s=this.rootNode.sibling;s&&(s.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:i},n){let{update:o}=e;Ds(o)||o.forEach(r=>{let s=this.lookupRowNode(r);s&&(s.updateData(r),!s.selectable&&s.isSelected()&&n.push(s),this.setMasterForRow(s,r,c6,!1),i.update.push(s))})}lookupRowNode(e){let i=mv(this.gos),n;if(i){let o=i({data:e,level:0});if(n=this.allNodesMap[o],!n)return Wi(`could not find row id=${o}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren?.find(o=>o.data===e),!n)return Wi("could not find data item as object was not found",e),Wi("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(e,i,n,o){let r=new vh(this.beans);return r.sourceRowIndex=o,r.group=!1,this.setMasterForRow(r,e,n,!0),i&&(r.parent=i),r.level=n,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&tt(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,i,n,o){if(this.gos.get("treeData"))e.setMaster(!1),o&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){let l=this.gos.get("isRowMaster");l?e.setMaster(l(i)):e.setMaster(!0)}else e.setMaster(!1);if(o){let l=this.funcColsService.getRowGroupColumns(),c=l?l.length:0,u=n+c;e.expanded=e.master?this.isExpanded(u):!1}}}isExpanded(e){let i=this.gos.get("groupDefaultExpanded");return i===-1?!0:e<i}},O1e=class extends Ye{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Pr(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){let e=this.refreshModel.bind(this,{step:"group"}),i=!this.gos.get("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new vh(this.beans),this.nodeManager=new L1e(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){let e=new Set(["treeData","masterDetail"]),i=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),n=new Set(["excludeChildrenWhenTreeDataFiltering"]),o=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),l=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),u=[...e,...i,...n,...o,...o,...r,...s,...l,...c];this.addManagedPropertyListeners(u,d=>{let h=d.changeSet?.properties;if(!h)return;let p=g=>h.some(f=>g.has(f));if(p(e)){this.setRowData(this.rootNode.allLeafChildren.map(g=>g.data));return}if(p(i)){this.refreshModel({step:"group"});return}if(p(n)){this.refreshModel({step:"filter"});return}if(p(o)){this.refreshModel({step:"pivot"});return}if(p(r)){this.refreshModel({step:"aggregate"});return}if(p(s)){this.refreshModel({step:"sort"});return}if(p(l)){this.refreshModel({step:"filter_aggregates"});return}p(c)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){let e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,i,n,o){let r,s=!1;do{r=!1;let l=this.getRowIndexAtPixel(e),c=this.getRowIndexAtPixel(i),u=Math.max(l,n),d=Math.min(c,o);for(let h=u;h<=d;h++){let p=this.getRow(h);if(p.rowHeightEstimated){let g=Fp(this.gos,p);p.setRowHeight(g.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){let e=this.environment.getDefaultRowHeight(),i=0,n=new Set,o=ir(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){let s=this.rowsToDisplay[r];if(s.id!=null&&n.add(s.id),s.rowHeight==null){let l=Fp(this.gos,s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(i),s.setRowIndex(r),i+=s.rowHeight}return n}clearRowTopAndRowIndex(e,i){let n=e.isActive(),o=s=>{s&&s.id!=null&&!i.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){let l=s.level==-1;n&&!l&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,i,n=0){let o=this.getRowIndexAtPixel(i),r=this.getRow(o),s=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;let l=this.rootNode.allLeafChildren;return e.forEach(c=>{Lr(l,c)}),e.forEach((c,u)=>{n3(l,c,Math.max(o+n,0)+u)}),e.forEach((c,u)=>{c.sourceRowIndex=u}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,i){let n=i!=null?this.getRowIndexAtPixel(i):null,o=n!=null?this.getRow(n):null;if(!o||!e||i==null){this.clearHighlightedRow();return}let r=this.getHighlightPosition(i,o),s=this.isHighlightingCurrentPosition(e,o,r),l=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==o;(s||l)&&(this.clearHighlightedRow(),s)||(o.setHighlighted(r),this.lastHighlightedRow=o)}getHighlightPosition(e,i){if(!i){let r=this.getRowIndexAtPixel(e);if(i=this.getRow(r||0),!i)return 1}let{rowTop:n,rowHeight:o}=i;return e-n<o/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,i,n){if(e===i)return!0;let o=n===0?-1:1;return this.getRow(i.rowIndex+o)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;let i=this.rootNode.childrenAfterAggFilter,n=this.rootNode.sibling?1:0;return(i?i.length:0)+n}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let n=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;n-=1}let o=this.rowsToDisplay[this.rowsToDisplay.length-1],r=n>=this.rootNode.childrenAfterSort.length;if(o.footer&&r)return o.rowIndex;let s=this.rootNode.childrenAfterSort[n];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(Ti(this.rowsToDisplay))return null;let i=this.rowsToDisplay[e];return i?{rowTop:i.rowTop,rowHeight:i.rowHeight}:null}onRowGroupOpened(){let e=lv(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let i=lv(this.gos),o=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:o,keepRenderedRows:!0,animate:i})}onSortChanged(){let e=lv(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){let i=Ds(e),n=new b3(!1,this.rootNode);return i&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;let i=e.rowNodeTransactions.filter(o=>o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0);return i==null||i.length==0}buildRefreshModelParams(e){let i="group",n={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(rt(e)&&(i=n[e]),Ti(i)){Wi(`invalid step ${e}, available steps are ${Object.keys(n).join(", ")}`);return}let o=!this.gos.get("suppressAnimationFrame");return{step:i,keepRenderedRows:!0,keepEditingRows:!0,animate:o}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;let i=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!i||this.isSuppressModelUpdateAfterUpdateTransaction(i))return;let n=this.createChangePath(i.rowNodeTransactions);switch(this.isRefreshingModel=!0,i.step){case"group":this.doRowGrouping(i.rowNodeTransactions,n,!!i.rowNodesOrderChanged,!!i.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(i.rowNodeTransactions,n);case"map":this.doRowsToDisplay()}let o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,o),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1,keepUndoRedoStack:i.keepUndoRedoStack})}isEmpty(){let e=Ti(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Ti(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return rt(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,i){let n=!1,o=!1,r=[],s=If(this.gos);return this.forEachNodeAfterFilterAndSort(l=>{if(o)return;if(n&&(l===i||l===e)&&(o=!0,l.group&&s)){r.push(...l.allLeafChildren);return}if(!n){if(l!==i&&l!==e)return;n=!0}if(!l.group||!s){r.push(l);return}}),r}setDatasource(e){Wi("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let i=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Oi(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){let l=Math.floor((i+n)/2),c=this.rowsToDisplay[l];if(this.isRowInPixel(c,e)||(c.rowTop<e?i=l+1:c.rowTop>e&&(n=l-1),r===i&&s===n))return l;r=i,s=n}}isRowInPixel(e,i){let n=e.rowTop,o=e.rowTop+e.rowHeight;return n<=i&&o>i}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((i,n)=>e(i,n))}forEachNode(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:i})}forEachNodeAfterFilter(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:i})}forEachNodeAfterFilterAndSort(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:i})}forEachPivotNode(e,i=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:i})}recursivelyWalkNodesAndCallback(e){let{nodes:i,callback:n,recursionType:o,includeFooterNodes:r}=e,{index:s}=e,l=c=>{let u=i[0]?.parent;if(!u)return;let d=r&&$q(this.gos),h=qq(this.gos),p=r&&h({node:u});if(u===this.rootNode){d===c&&(u.createFooter(),n(u.sibling,s++));return}p===c&&(u.createFooter(),n(u.sibling,s++))};l("top");for(let c=0;c<i.length;c++){let u=i[c];if(n(u,s++),u.hasChildren()&&!u.footer){let d=null;switch(o){case 0:d=u.childrenAfterGroup;break;case 1:d=u.childrenAfterAggFilter;break;case 2:d=u.childrenAfterSort;break;case 3:d=u.leafGroup?null:u.childrenAfterSort;break}d&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...d],callback:n,recursionType:o,index:s,includeFooterNodes:r}))}}return l("bottom"),s}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){let i=this.gos.get("treeData"),n=this.columnModel.isPivotActive(),o=r=>{r&&r.forEach(s=>{let l=()=>{s.expanded=e,o(s.childrenAfterGroup)};if(i){rt(s.childrenAfterGroup)&&l();return}if(n){!s.leafGroup&&l();return}s.group&&l()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,i){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:i})}doRowGrouping(e,i,n,o){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:n,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),If(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{let r=this.rootNode,s=r.sibling;r.childrenAfterGroup=r.allLeafChildren,s&&(s.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(vh.ID_PREFIX_ROW_GROUP)==0){let n;return this.forEachNode(o=>{o.id===e&&(n=o)}),n}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,i){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:i})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();let e=[],i=[],n=!1;this.rowDataTransactionBatch?.forEach(o=>{let{rowNodeTransaction:r,rowsInserted:s}=this.nodeManager.updateRowData(o.rowDataTransaction);s&&(n=!0),i.push(r),o.callback&&e.push(o.callback.bind(null,r))}),this.commonUpdateRowData(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),i.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:i}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();let{rowNodeTransaction:i,rowsInserted:n}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([i],n),i}afterImmutableDataChange(e,i){this.commonUpdateRowData([e],i)}commonUpdateRowData(e,i){if(!this.hasStarted)return;let n=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:i,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){let e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(i=>{i.setRowHeight(i.rowHeight,!0);let n=i.detailNode;n&&n.setRowHeight(n.rowHeight,!0),i.sibling&&i.sibling.setRowHeight(i.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function N1e(e){e.expansionService.onGroupExpandedOrCollapsed()}function B1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(i)}function V1e(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0}function H1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(i)}function z1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(i)}function G1e(e,i){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(i)}function W1e(e){if(e.columnModel.isAutoRowHeightActive()){tt("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()}function j1e(e,i){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(i))}function U1e(e,i,n){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(i,n))}function $1e(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())}function q1e(e){return e.selectionService.getBestCostNodeSelection()}var K1e=class extends Ye{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:i}=e;this.filter(i)}filter(e){let i=!!this.filterManager?.isChildFilterPresent();this.filterNodes(i,e)}filterNodes(e,i){let n=(o,r)=>{o.hasChildren()&&e&&!r?o.childrenAfterFilter=o.childrenAfterGroup.filter(s=>{let l=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,c=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return l||c}):o.childrenAfterFilter=o.childrenAfterGroup,o.sibling&&(o.sibling.childrenAfterFilter=o.childrenAfterFilter)};if(this.doingTreeDataFiltering()){let o=(s,l)=>{if(s.childrenAfterGroup)for(let c=0;c<s.childrenAfterGroup.length;c++){let u=s.childrenAfterGroup[c],d=l||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?o(s.childrenAfterGroup[c],d):n(u,d)}n(s,l)},r=s=>o(s,!1);i.executeFromRootNode(r)}else{let o=r=>n(r,!1);i.forEachChangedNodeDepthFirst(o,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Y1e=class extends Ye{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){let i=e.rowNode,n=[],o=this.columnModel.isPivotMode(),r=o&&i.leafGroup,s=r?[i]:i.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,n,o,0);let c=n.length>0;if(!r&&c&&l.grandTotalRow){i.createFooter();let d=l.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(l,i.sibling,n,0,d)}return n}getFlattenDetails(){let e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:Kq(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:$q(this.gos),groupTotalRow:qq(this.gos)}}recursivelyAddToRowsToDisplay(e,i,n,o,r){if(!Ds(i))for(let s=0;s<i.length;s++){let l=i[s],c=l.hasChildren(),u=o&&!c,d=e.groupRemoveSingleChildren&&c&&l.childrenAfterGroup.length===1,h=e.groupRemoveLowestSingleChildren&&c&&l.leafGroup&&l.childrenAfterGroup.length===1,p=o&&l.leafGroup,g=e.hideOpenParents&&l.expanded&&!l.master&&!p;if(!u&&!g&&!d&&!h&&this.addRowNodeToRowsToDisplay(e,l,n,r),!(o&&l.leafGroup)){if(c){let y=d||h;if(l.expanded||y){let M=e.groupTotalRow({node:l});M||l.destroyFooter();let k=y?r:r+1;M==="top"&&(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,n,k)),this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,n,o,k),M==="bottom"&&(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,n,k))}}else if(l.master&&l.expanded){let y=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,y,n,r)}}}}addRowNodeToRowsToDisplay(e,i,n,o,r){r?n.unshift(i):n.push(i),i.setUiLevel(e.isGroupMultiAutoColumn?0:o)}createDetailNode(e){if(rt(e.detailNode))return e.detailNode;let i=new vh(this.beans);return i.detail=!0,i.selectable=!1,i.parent=e,rt(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1,e.detailNode=i,i}},Z1e=class extends Ye{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Wn(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){let e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){let i=this.createTransactionForRowData(e);if(!i)return;let n=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:o,rowsInserted:r}=n.updateRowData(i),s=!1;this.gos.get("suppressMaintainUnsortedOrder")||(s=n.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(o,s||r)}createTransactionForRowData(e){if(!Wn(this.gos))return Wi("ImmutableService only works with ClientSideRowModel"),null;let i=mv(this.gos);if(i==null)return Wi("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;let n=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),o=[],r=[],s=[];return rt(e)&&e.forEach(l=>{let c=i({data:l,level:0}),u=n[c];u?(u.data!==l&&r.push(l),n[c]=void 0):s.push(l)}),Ks(n,(l,c)=>{c&&o.push(c.data)}),{remove:o,update:r,add:s}}onRowDataUpdated(){let e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},Q1e=class extends Ye{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,i,n,o,r,s){let l=this.gos.get("groupMaintainOrder"),c=this.columnModel.getCols().some(g=>g.isRowGroupActive()),u={};n&&o&&(u=this.calculateDirtyNodes(o));let d=this.columnModel.isPivotMode(),h=this.gos.getCallback("postSortRows"),p=g=>{this.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);let f=d&&g.leafGroup;if(l&&c&&!g.leafGroup&&!s){let k=this.funcColsService.getRowGroupColumns()?.[g.level+1]?.getSort()===null,G=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort&&!k){let J={};g.childrenAfterSort.forEach(($,_e)=>{J[$.id]=_e}),G.sort(($,_e)=>(J[$.id]??0)-(J[_e.id]??0))}g.childrenAfterSort=G}else!i||f?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):n?g.childrenAfterSort=this.doDeltaSort(g,u,r,e):g.childrenAfterSort=this.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,e);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),this.updateChildIndexes(g),h){let M={nodes:g.childrenAfterSort};h(M)}};r&&r.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){let i={},n=o=>{o&&o.forEach(r=>i[r.id]=!0)};return e&&e.forEach(o=>{n(o.add),n(o.update),n(o.remove)}),i}doDeltaSort(e,i,n,o){let r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,o);let l={},c=[];r.forEach(p=>{i[p.id]||!n.canSkip(p)?c.push(p):l[p.id]=!0});let u=s.filter(p=>l[p.id]),d=(p,g)=>({currentPos:g,rowNode:p}),h=c.map(d).sort((p,g)=>this.rowNodeSorter.compareRowNodes(o,p,g));return this.mergeSortedArrays(o,h,u.map(d)).map(({rowNode:p})=>p)}mergeSortedArrays(e,i,n){let o=[],r=0,s=0;for(;r<i.length&&s<n.length;)this.rowNodeSorter.compareRowNodes(e,i[r],n[s])<0?o.push(i[r++]):o.push(n[s++]);for(;r<i.length;)o.push(i[r++]);for(;s<n.length;)o.push(n[s++]);return o}updateChildIndexes(e){if(Ti(e.childrenAfterSort))return;let i=e.childrenAfterSort;for(let n=0;n<i.length;n++){let o=i[n],r=n===0,s=n===e.childrenAfterSort.length-1;o.setFirstChild(r),o.setLastChild(s),o.setChildIndex(n)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return tt("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;let i=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(o=>{o.hasChildren()&&i(o)})};e&&e.executeFromRootNode(n=>i(n))}pullDownGroupDataForHideOpenParents(e,i){!this.gos.get("groupHideOpenParents")||Ti(e)||e.forEach(n=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(r=>{let s=r.getColDef().showRowGroup;if(typeof s!="string"){Wi("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}let l=s,c=this.columnModel.getColDefCol(l);if(c!==n.rowGroupColumn)if(i)n.setGroupValue(r.getId(),void 0);else{let d=this.getFirstChildOfFirstChild(n,c);d&&n.setGroupValue(r.getId(),d.key)}})})}getFirstChildOfFirstChild(e,i){let n=e;for(;n;){let o=n.parent;if(o&&n.firstChild){if(o.rowGroupColumn===i)return o}else return null;n=o}return null}},X1e=class extends Ye{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){let i=this.sortController.getSortOptions(),n=rt(i)&&i.length>0,o=n&&rt(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=i.some(s=>mu(this.gos)?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(i,n,o,e.rowNodeTransactions,e.changedPath,r)}},u4="32.3.3",PY={version:u4,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[O1e,K1e,X1e,Y1e,Q1e,Z1e]},J1e={version:u4,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[FY],apiFunctions:{onGroupExpandedOrCollapsed:N1e,refreshClientSideRowModel:B1e,isRowDataEmpty:V1e,forEachLeafNode:H1e,forEachNodeAfterFilter:z1e,forEachNodeAfterFilterAndSort:G1e,resetRowHeights:W1e,applyTransaction:j1e,applyTransactionAsync:U1e,flushAsyncTransactions:$1e,getBestCostNodeSelection:q1e},dependantModules:[PY,F1e]},e_e={version:u4,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[PY,J1e]},t_e=class extends Ye{setBeans(e){this.beans=e}getFileName(e){let i=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${i}`:e}getData(e){let i=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(i,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},i_e=class{constructor(e){this.groupColumns=[];let{columnModel:i,funcColsService:n,columnNameService:o,valueService:r,gos:s,processCellCallback:l,processHeaderCallback:c,processGroupHeaderCallback:u,processRowGroupCallback:d}=e;this.columnModel=i,this.funcColsService=n,this.columnNameService=o,this.valueService=r,this.gos=s,this.processCellCallback=l,this.processHeaderCallback=c,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(i=>!!i.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,i,n,o,r){let l=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,i)?this.createValueForGroupNode(e,r):this.valueService.getValue(e,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:e,value:l,processCellCallback:this.processCellCallback,type:o})}shouldRenderGroupSummaryCell(e,i,n){if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(i)!==-1){let l=e.groupData?.[i.getId()],c=this.gos.get("suppressGroupMaintainValueType");if(c&&l!=null||!c&&l!==void 0||wh(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){let u=i.getColDef();return u==null||u.showRowGroup===!0||u.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}let s=g3(this.gos,this.columnModel.isPivotMode());return n===0&&s}getHeaderName(e,i){return e?e(this.gos.addGridCommonParams({column:i})):this.columnNameService.getDisplayNameForColumn(i,"csv",!0)}createValueForGroupNode(e,i){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:i}));let n=this.gos.get("treeData"),o=this.gos.get("suppressGroupMaintainValueType"),r=u=>{if(n||o)return u.key;let d=u.groupData?.[e.getId()];return!d||!u.rowGroupColumn||u.rowGroupColumn.getColDef().useValueFormatterForExport===!1?d:this.valueService.formatValue(u.rowGroupColumn,u,d)??d},s=i.footer,l=[r(i)];if(!Kq(this.gos))for(;i.parent;)i=i.parent,l.push(r(i));let c=l.reverse().join(" -> ");return s?`Total ${c}`:c}processCell(e){let{accumulatedRowIndex:i,rowNode:n,column:o,value:r,processCellCallback:s,type:l}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:i,column:o,node:n,value:r,type:l,parseValue:c=>this.valueService.parseValue(o,n,c,this.valueService.getValue(o,n)),formatValue:c=>this.valueService.formatValue(o,n,c)??c}))??""}:o.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueService.formatValue(o,n,r)}:{value:r??""}}},n_e=class{static download(e,i){let n=document.defaultView||window;if(!n){tt("There is no `window` associated with the current `document`");return}let o=document.createElement("a"),r=n.URL.createObjectURL(i);o.setAttribute("href",r),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(o),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}},Hq=`\r
`,o_e=class extends i_e{constructor(e){super(e),this.isFirstLine=!0,this.result="";let{suppressQuotes:i,columnSeparator:n}=e;this.suppressQuotes=i,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Hq),this.result+=e):e.forEach(i=>{this.beginNewLine(),i.forEach((n,o)=>{o!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,i,n,o){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(o)}appendEmptyCells(e){for(let i=1;i<=e;i++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,i){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,i,n){i!=0&&(this.result+=this.columnSeparator);let o=this.extractRowCellValue(e,i,i,"csv",n);this.result+=this.putInQuotes(o.valueFormatted??o.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let i;return typeof e=="string"?i=e:typeof e.toString=="function"?i=e.toString():(tt("unknown value type during csv conversion"),i=""),'"'+i.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Hq),this.isFirstLine=!1}},r_e=class extends t_e{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){let i=this.gos.get("defaultCsvExportParams");return Object.assign({},i,e)}export(e){if(this.isExportSuppressed()){tt("Export cancelled. Export is not allowed as per your configuration.");return}let i=this.getMergedParams(e),n=this.getData(i),o=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof i.fileName=="function"?i.fileName(this.gos.getGridCommonParams()):i.fileName;n_e.download(this.getFileName(r),o)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,i=!1){let n=i?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{columnModel:i,columnNameService:n,funcColsService:o,valueService:r,gos:s}=this,{processCellCallback:l,processHeaderCallback:c,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:h,columnSeparator:p}=e;return new o_e({columnModel:i,columnNameService:n,funcColsService:o,valueService:r,gos:s,processCellCallback:l||void 0,processHeaderCallback:c||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:h||!1,columnSeparator:p||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function s_e(e,i){return e.csvCreator?.getDataAsCsv(i)}function a_e(e,i){e.csvCreator?.exportDataAsCsv(i)}var l_e=class extends Ye{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,i={}){let{allColumns:n,columnKeys:o,skipRowGroups:r}=i,s=this.getColumnsToExport(n,r,o);return lge(this.prepareSession(s),this.prependContent(i),this.exportColumnGroups(i,s),this.exportHeaders(i,s),this.processPinnedTopRows(i,s),this.processRows(i,s),this.processPinnedBottomRows(i,s),this.appendContent(i))(e).parse()}processRow(e,i,n,o){let r=i.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),l=this.gos.get("groupRemoveLowestSingleChildren"),u=i.rowPositions!=null||!!i.onlySelected,d=this.gos.get("groupHideOpenParents")&&!u,h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,p=!!o.footer,g=l&&o.leafGroup,f=o.allChildrenCount===1&&o.childrenAfterGroup?.length===1&&(s||g);if(!h&&!p&&(i.skipRowGroups||f||d)||i.onlySelected&&!o.isSelected()||i.skipPinnedTop&&o.rowPinned==="top"||i.skipPinnedBottom&&o.rowPinned==="bottom"||o.level===-1&&!h&&!p||r(this.gos.addGridCommonParams({node:o})))return;let k=e.onNewBodyRow(o);if(n.forEach((G,J)=>{k.onColumn(G,J,o)}),i.getCustomContentBelowRow){let G=i.getCustomContentBelowRow(this.gos.addGridCommonParams({node:o}));G&&e.addCustomContent(G)}}appendContent(e){return i=>{let n=e.appendContent;return n&&i.addCustomContent(n),i}}prependContent(e){return i=>{let n=e.prependContent;return n&&i.addCustomContent(n),i}}prepareSession(e){return i=>(i.prepare(e),i)}exportColumnGroups(e,i){return n=>{if(!e.skipColumnGroupHeaders){let o=new rK,r=this.visibleColsService.createGroups({columns:i,idCreator:o,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,i){return n=>{if(!e.skipColumnHeaders){let o=n.onNewHeaderRow();i.forEach((r,s)=>{o.onColumn(r,s,void 0)})}return n}}processPinnedTopRows(e,i){return n=>{let o=this.processRow.bind(this,n,e,i);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(o):this.pinnedRowModel.forEachPinnedRow("top",o),n}}processRows(e,i){return n=>{let o=this.rowModel,r=Wn(this.gos),s=wh(this.gos),l=!r&&e.onlySelected,c=this.processRow.bind(this,n,e,i),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,h)=>d.rowIndex-h.rowIndex).map(d=>o.getRow(d.rowIndex)).forEach(c);else if(this.columnModel.isPivotMode())r?o.forEachPivotNode(c,!0):s?o.forEachNodeAfterFilterAndSort(c,!0):o.forEachNode(c);else if(e.onlySelectedAllPages||l){let d=this.selectionService.getSelectedNodes();this.replicateSortedOrder(d),d.forEach(c)}else u==="all"?o.forEachNode(c):r||s?o.forEachNodeAfterFilterAndSort(c,!0):o.forEachNode(c);return n}}replicateSortedOrder(e){let i=this.sortController.getSortOptions(),n=(o,r)=>o.rowIndex!=null&&r.rowIndex!=null?o.rowIndex-r.rowIndex:o.level===r.level?o.parent?.id===r.parent?.id?this.rowNodeSorter.compareRowNodes(i,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):n(o.parent,r.parent):o.level>r.level?n(o.parent,r):n(o,r.parent);e.sort(n)}processPinnedBottomRows(e,i){return n=>{let o=this.processRow.bind(this,n,e,i);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(o):this.pinnedRowModel.forEachPinnedRow("bottom",o),n}}getColumnsToExport(e=!1,i=!1,n){let o=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getColsForKeys(n);let r=this.gos.get("treeData"),s=[];return e&&!o?s=this.columnModel.getCols():s=this.visibleColsService.getAllCols(),i&&!r&&(s=s.filter(l=>m6(l)||Jy(l))),s}recursivelyAddHeaderGroups(e,i,n){let o=[];e.forEach(r=>{let s=r;s.getChildren&&s.getChildren().forEach(l=>o.push(l))}),e.length>0&&wo(e[0])&&this.doAddHeaderHeader(i,e,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,i,n)}doAddHeaderHeader(e,i,n){let o=e.onNewHeaderGroupingRow(),r=0;i.forEach(s=>{let l=s,c;n?c=n(this.gos.addGridCommonParams({columnGroup:l})):c=this.columnNameService.getDisplayNameForColumnGroup(l,"header");let u=l.getLeafColumns().reduce((d,h,p,g)=>{let f=Oi(d);return h.getColumnGroupShow()==="open"?(!f||f[1]!=null)&&(f=[p],d.push(f)):f&&f[1]==null&&(f[1]=p-1),p===g.length-1&&f&&f[1]==null&&(f[1]=p),d},[]);o.onColumn(l,c||"",r++,l.getLeafColumns().length-1,u)})}},d4="32.3.3",LY={version:d4,moduleName:"@ag-grid-community/csv-export-core",beans:[r_e,l_e]},c_e={version:d4,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:s_e,exportDataAsCsv:a_e},dependantModules:[LY]},u_e={version:d4,moduleName:"@ag-grid-community/csv-export",dependantModules:[LY,c_e]};var Mut=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var d_e=class extends dwe{wireBeans(e){this.beans=e}constructor(e,i,n){super(e),this.parentCache=i,this.params=n,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,i,n){rt(i)?e.setDataAndId(i,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Ti(this.params.datasource.getRows)){tt("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,i,n){this.rowNodes.forEach((o,r)=>{this.startRow+r<n&&e(o,i.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,i=!1){i||(this.lastAccessed=this.params.lastAccessedSequence.next());let n=e-this.startRow;return this.rowNodes[n]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){let i=this.startRow+e,n=new vh(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(i),n.setRowTop(this.params.rowHeight*i),this.rowNodes.push(n)}}processServerResult(e){this.rowNodes.forEach((n,o)=>{let r=e.rowData?e.rowData[o]:void 0;!n.id&&n.alreadyRendered&&r&&(this.rowNodes[o]=new vh(this.beans),this.rowNodes[o].setRowIndex(n.rowIndex),this.rowNodes[o].setRowTop(n.rowTop),this.rowNodes[o].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[o],r,this.startRow+o)});let i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},h_e=2,p_e=class extends Ye{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,i=!1){let n=Math.floor(e/this.params.blockSize),o=this.blocks[n];if(!o){if(i)return;o=this.createBlock(n)}return o.getRow(e)}createBlock(e){let i=this.createBean(new d_e(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,i){this.isAlive()&&(this.gos.get("debug")&&Ys(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${i}`),this.checkRowCount(e,i),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let i=this.getBlocksInOrder().filter(l=>l!=e),n=(l,c)=>c.getLastAccessed()-l.getLastAccessed();i.sort(n);let o=this.params.maxBlocksInCache>0,r=o?this.params.maxBlocksInCache-1:null,s=h_e-1;i.forEach((l,c)=>{let u=l.getState()==="needsLoading"&&c>=s,d=o?c>=r:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(l)||this.isBlockFocused(l))return;this.removeBlockFromCache(l)}})}isBlockFocused(e){let i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||i.rowPinned!=null)return!1;let n=e.getStartRow(),o=e.getEndRow();return i.rowIndex>=n&&i.rowIndex<o}isBlockCurrentlyDisplayed(e){let i=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,n)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,i){if(typeof i=="number"&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,i){this.rowCount=e,rt(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let i=new gv;this.getBlocksInOrder().forEach(n=>n.forEachNode(e,i,this.rowCount))}getBlocksInOrder(){let e=(n,o)=>n.getId()-o.getId();return Tp(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&e.push(i)}),e.length>0&&e.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,i){let n=[],o=-1,r=!1,s=new gv,l=!1;return this.getBlocksInOrder().forEach(u=>{if(!l){if(r&&o+1!==u.getId()){l=!0;return}o=u.getId(),u.forEachNode(d=>{let h=d===e||d===i;(r||h)&&n.push(d),h&&(r=!r)},s,this.rowCount)}}),l||r?[]:n}},g_e=class extends Ye{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Sf(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&tt("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Sf(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!Uy(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,i){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,i):[]}reset(){if(!this.datasource)return;mv(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:Sf(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new gv},this.infiniteCache=this.createBean(new p_e(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let i=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return i>n?n:i}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,i){this.infiniteCache&&this.infiniteCache.setRowCount(e,i)}};function f_e(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()}function m_e(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()}function v_e(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}var h4="32.3.3",OY={version:h4,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[g_e],dependantModules:[pwe]},C_e={version:h4,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[FY],apiFunctions:{refreshInfiniteCache:f_e,purgeInfiniteCache:m_e,getInfiniteRowCount:v_e},dependantModules:[OY,T1e]},w_e={version:h4,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[OY,C_e]};var b_e=e=>{let i=new Map;return n=>{let o=n;return i.has(o)||i.set(o,e(n)),i.get(o)}},Rut=b_e(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)});var kut=typeof window!="object"||!window||typeof document!="object"||window.document!==document;gh.__registerModules([IY,e_e,w_e,u_e],!1,void 0);var NY=(()=>{let i=class i extends TY{setViewContainerRef(o,r){this.viewContainerRef=o,this.angularFrameworkOverrides=r}createWrapper(o){let r=this.angularFrameworkOverrides,s=this;class l extends p4{init(d){r.runInsideAngular(()=>{super.init(d),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.runInsideAngular(()=>s.createComponent(o))}hasMethod(d){return c.getFrameworkComponentInstance()[d]!=null}callMethod(d,h){let p=this.getFrameworkComponentInstance();return r.runInsideAngular(()=>c.getFrameworkComponentInstance()[d].apply(p,h))}addMethod(d,h){c[d]=h}}let c=new l;return c}createComponent(o){return this.viewContainerRef.createComponent(o)}};i.\u0275fac=(()=>{let o;return function(s){return(o||(o=$l(i)))(s||i)}})(),i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),p4=class{init(i){this._params=i,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Zs(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},BY=(()=>{let i=class i extends c4{constructor(o){super("angular"),this._ngZone=o,this.isRunningWithinTestZone=!1,this.wrapIncoming=(r,s)=>this.runOutside(r,s),this.wrapOutgoing=r=>this.runInsideAngular(r),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(r,s)=>s==="resize-observer"||s==="popupPositioning"?this._ngZone.runOutsideAngular(r):r():this.runOutside=r=>this._ngZone.runOutsideAngular(r):this.runOutside=r=>r()}get shouldWrapOutgoing(){return this._ngZone&&vi.isInAngularZone()}isFrameworkComponent(o){if(!o)return!1;let r=o.prototype;return r&&"agInit"in r}runInsideAngular(o){return this._ngZone?this._ngZone.run(o):o()}runOutsideAngular(o,r){return this.runOutside(o,r)}};i.\u0275fac=function(r){return new(r||i)(Et(vi))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),y3=(()=>{let i=class i{constructor(o,r,s,l){this.viewContainerRef=r,this.angularFrameworkOverrides=s,this.frameworkComponentWrapper=l,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(c=>{this._resolveFullyReady=c}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Xe,this.toolPanelSizeChanged=new Xe,this.columnMenuVisibleChanged=new Xe,this.contextMenuVisibleChanged=new Xe,this.cutStart=new Xe,this.cutEnd=new Xe,this.pasteStart=new Xe,this.pasteEnd=new Xe,this.columnVisible=new Xe,this.columnPinned=new Xe,this.columnResized=new Xe,this.columnMoved=new Xe,this.columnValueChanged=new Xe,this.columnPivotModeChanged=new Xe,this.columnPivotChanged=new Xe,this.columnGroupOpened=new Xe,this.newColumnsLoaded=new Xe,this.gridColumnsChanged=new Xe,this.displayedColumnsChanged=new Xe,this.virtualColumnsChanged=new Xe,this.columnEverythingChanged=new Xe,this.columnHeaderMouseOver=new Xe,this.columnHeaderMouseLeave=new Xe,this.columnHeaderClicked=new Xe,this.columnHeaderContextMenu=new Xe,this.componentStateChanged=new Xe,this.cellValueChanged=new Xe,this.cellEditRequest=new Xe,this.rowValueChanged=new Xe,this.cellEditingStarted=new Xe,this.cellEditingStopped=new Xe,this.rowEditingStarted=new Xe,this.rowEditingStopped=new Xe,this.undoStarted=new Xe,this.undoEnded=new Xe,this.redoStarted=new Xe,this.redoEnded=new Xe,this.cellSelectionDeleteStart=new Xe,this.cellSelectionDeleteEnd=new Xe,this.rangeDeleteStart=new Xe,this.rangeDeleteEnd=new Xe,this.fillStart=new Xe,this.fillEnd=new Xe,this.filterOpened=new Xe,this.filterChanged=new Xe,this.filterModified=new Xe,this.advancedFilterBuilderVisibleChanged=new Xe,this.chartCreated=new Xe,this.chartRangeSelectionChanged=new Xe,this.chartOptionsChanged=new Xe,this.chartDestroyed=new Xe,this.cellKeyDown=new Xe,this.gridReady=new Xe,this.firstDataRendered=new Xe,this.gridSizeChanged=new Xe,this.modelUpdated=new Xe,this.virtualRowRemoved=new Xe,this.viewportChanged=new Xe,this.bodyScroll=new Xe,this.bodyScrollEnd=new Xe,this.dragStarted=new Xe,this.dragStopped=new Xe,this.dragCancelled=new Xe,this.stateUpdated=new Xe,this.paginationChanged=new Xe,this.rowDragEnter=new Xe,this.rowDragMove=new Xe,this.rowDragLeave=new Xe,this.rowDragEnd=new Xe,this.rowDragCancel=new Xe,this.columnRowGroupChanged=new Xe,this.rowGroupOpened=new Xe,this.expandOrCollapseAll=new Xe,this.pivotMaxColumnsExceeded=new Xe,this.pinnedRowDataChanged=new Xe,this.rowDataUpdated=new Xe,this.asyncTransactionsFlushed=new Xe,this.storeRefreshed=new Xe,this.headerFocused=new Xe,this.cellClicked=new Xe,this.cellDoubleClicked=new Xe,this.cellFocused=new Xe,this.cellMouseOver=new Xe,this.cellMouseOut=new Xe,this.cellMouseDown=new Xe,this.rowClicked=new Xe,this.rowDoubleClicked=new Xe,this.rowSelected=new Xe,this.selectionChanged=new Xe,this.cellContextMenu=new Xe,this.rangeSelectionChanged=new Xe,this.cellSelectionChanged=new Xe,this.tooltipShow=new Xe,this.tooltipHide=new Xe,this.sortChanged=new Xe,this._nativeElement=o.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);let o=aK(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let r=AY(this._nativeElement,o,this.gridParams);r&&(this.api=r),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(o){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{let r={};Object.entries(o).forEach(([s,l])=>{r[s]=l.currentValue}),lK(r,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(o){let s=this[o],l=s?.observed??s?.observers?.length>0,c=`on${o.charAt(0).toUpperCase()}${o.substring(1)}`,u=!!this.gridOptions&&!!this.gridOptions[c];return l||u}globalEventListener(o,r){if(this._destroyed)return;let s=this[o];if(s&&this.isEmitterUsed(o)){let l=()=>this.angularFrameworkOverrides.runInsideAngular(()=>s.emit(r));this._holdEvents?this._fullyReady.then(()=>l()):l()}}};i.\u0275fac=function(r){return new(r||i)(at(Tn),at(Vs),at(BY),at(NY))},i.\u0275cmp=Ai({type:i,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",enableStrictPivotColumnOrder:"enableStrictPivotColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressMoveWhenColumnDragging:"suppressMoveWhenColumnDragging",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",suppressSetFilterByDefault:"suppressSetFilterByDefault",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",loading:"loading",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",selectionColumnDef:"selectionColumnDef",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:"enableGroupEdit",initialState:"initialState",theme:"theme",loadThemeGoogleFonts:"loadThemeGoogleFonts",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[Qr([BY,NY]),ul,Gi],decls:0,vars:0,template:function(r,s){},encapsulation:2});let e=i;return e})(),S3=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({});let e=i;return e})();var bv={github:"github",dropbox:"dropbox",gDrive:"gDrive"};var yv=(()=>{let i=class i{constructor(o){this.http=o,this.github={},this.clientId="Ov23lidGErtWsbAweqpR",this.appUrl=`https://skpedit.github.io/?state=${+new Date}`,this.redirectURI="http://skpedit.42web.io/github/login.php",this.logoutURI="http://skpedit.42web.io/github/logout.php",this.apiBaseUrl="https://api.github.com",this.getGithubInfo()}get loginLink(){return`https://github.com/login/oauth/authorize?client_id=${this.clientId}&scope=public_repo%20gist&state=${btoa(this.appUrl)}&redirect_uri=${this.redirectURI}`}getGithubInfo(){let o=localStorage.getItem("github");try{this.github=o?JSON.parse(o):{}}catch(r){console.error("Error parsing GitHub data from localStorage:",r)}}setGithubInfo({token:o,owner:r,branch:s,repository:l,path:c}){let u=localStorage.getItem("github");try{this.github=u?JSON.parse(u):{}}catch(d){console.error("Error parsing GitHub data from localStorage:",d)}o&&(this.github.token=o),r&&(this.github.owner=r),s&&(this.github.branch=s),l&&(this.github.repository=l),c&&(this.github.path=c),localStorage.setItem("github",JSON.stringify(this.github))}login(o){let r=o.token,s=o.state;console.log("authParams",o),r&&this.getUserInfo(r)}logout(){let o=this.github.token;localStorage.removeItem("github"),this.detachGithubToken(o)}detachGithubToken(o){let r=`${this.logoutURI}?token=${o}&state=${btoa(this.appUrl)}`;o&&(location.href=r)}getDirectoryContents(o,r,s){let l=`${this.apiBaseUrl}/repos/${this.github.owner}/${r}/contents/${s}?ref=${o}&t=${+new Date}`,c=new Ji({Accept:"*/*",Authorization:`Bearer ${this.github.token}`});return this.http.get(l,{headers:c})}getUserInfo(o){let r=new Ji({"Content-Type":"application/json",Authorization:`Bearer ${o}`});this.http.get(`${this.apiBaseUrl}/user`,{headers:r}).subscribe(s=>{console.log("Access user response:",s),this.setGithubInfo({token:o,owner:s.login})})}uploadFile(o,r,s,l,c){let u=s&&!s.endsWith("/")?"/":"",d=s+u+l,h=`${this.apiBaseUrl}/repos/${this.github.owner}/${r}/contents/${d}?ref=${o}&t=${+new Date}`;this.setGithubInfo({branch:o,repository:r,path:s});let p=new Ji({Accept:"*/*",Authorization:`token ${this.github.token}`});return this.http.put(h,{branch:o,message:`Upload ${l} from sraban`,content:c},{headers:p,reportProgress:!0,observe:"events"})}deleteFileFolder(o,r,s,l){let c=`${this.apiBaseUrl}/repos/${this.github.owner}/${r}/contents/${s}?ref=${o}&t=${+new Date}`,u=new Ji({Accept:"*/*",Authorization:`Bearer ${this.github.token}`}),d={message:"Deleting the file "+s,sha:l,branch:o};return this.http.delete(c,{headers:u,body:d})}deleteDirectory(o,r,s){return this.getDirectoryContents(o,r,s).pipe(cn(l=>{let c=l.map(u=>this.deleteFileFolder(o,r,u.path,u.sha));return hC(c)}))}setIndexedTable(o){if(!o||!o.content)return null;let{name:r,path:s,sha:l,size:c,download_url:u}=o.content;return{id:`github/${this.github.owner}/${this.github.repository}/${this.github.branch}`,content:{name:r,path:s,sha:l,size:c,download_url:u,localSha:null}}}};i.\u0275fac=function(r){return new(r||i)(Et(Er))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Sv=(()=>{let i=class i{constructor(o){this.http=o,this.clientId="w7sd1isz53ckzzh",this.redirectUri="https://skpedit.github.io?auth=dropbox",this.dropbox={},this.getDropBoxInfo()}get isLoggedIn(){return!!this.dropbox.token}get login(){return`https://www.dropbox.com/oauth2/authorize?client_id=${this.clientId}&redirect_uri=${this.redirectUri}&response_type=code&token_access_type=offline&scope=files.content.read%20files.content.write`}getToken(o){let r=`http://skpedit.42web.io/dropbox/login.php?code=${o}&state=${btoa(this.redirectUri)}`;window.location.href=r}saveToken({token:o,account_id:r}){this.setDropBoxUserInfo({token:o,owner:r})}logout(){let o=new Ji({Authorization:`Bearer ${this.dropbox.token}`});localStorage.removeItem("dropbox"),this.getDropBoxInfo(),this.http.post("https://api.dropboxapi.com/2/auth/token/revoke",null,{headers:o}).subscribe(r=>{})}getDropBoxInfo(){let o=localStorage.getItem("dropbox");try{this.dropbox=o?JSON.parse(o):{}}catch(r){console.error("Error parsing dropbox data from localStorage:",r)}}setDropBoxUserInfo({token:o,owner:r,path:s}){let l=localStorage.getItem("dropbox");try{this.dropbox=l?JSON.parse(l):{}}catch(c){console.error("Error parsing dropbox data from localStorage:",c)}o&&(this.dropbox.token=o),r&&(this.dropbox.owner=r),s&&(this.dropbox.path=s),localStorage.setItem("dropbox",JSON.stringify(this.dropbox))}uploadFile(o,r,s=""){this.setDropBoxUserInfo({path:s}),s=s.replace(/^\/+|\/+$/g,"");let l=s?"/":"",c="/"+s+l+o,u=new Ji({Accept:"*/*",Authorization:`Bearer ${this.dropbox.token}`,"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify({path:`${c}`,mode:"add",autorename:!0,mute:!1,strict_conflict:!1})});return this.http.post("https://content.dropboxapi.com/2/files/upload",r,{headers:u,reportProgress:!0,observe:"events"})}downloadFile(o){let r=new Ji({Accept:"*/*",Authorization:`Bearer ${this.dropbox.token}`,"Content-Type":"application/json"});this.http.post("https://api.dropboxapi.com/2/files/get_temporary_link",{path:o},{headers:r}).subscribe(s=>{window.open(s.link,"_blank")})}previewFile(o){let r=o.split("/"),s=r[r.length-1],c=`https://www.dropbox.com/home${o.replace("/"+s,"")}?preview=${s}`;window.open(c,"_blank")}deleteFile(o){let r=new Ji({Accept:"*/*",Authorization:`Bearer ${this.dropbox.token}`,"Content-Type":"application/json","Dropbox-API-Arg":JSON.stringify({path:o})});this.http.post("https://api.dropboxapi.com/2/files/delete_v2",null,{headers:r}).subscribe(s=>{alert("deleted!!!")})}setIndexedTable(o){if(!o)return null;let{name:r,size:s,path_display:l,path_lower:c,content_hash:u}=o;return{id:`dropbox/${this.dropbox.owner}`,content:{name:r,path:l,sha:u,size:s,download_url:c,localSha:null}}}};i.\u0275fac=function(r){return new(r||i)(Et(Er))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var m4=window.gapi=window.gapi||{};m4._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,i,n){return e==Array.prototype||e==Object.prototype||(e[i]=n.value),e},da=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var i=0;i<e.length;++i){var n=e[i];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},ea=da(this),fa=function(e,i){if(i)e:{var n=ea;e=e.split(".");for(var o=0;o<e.length-1;o++){var r=e[o];if(!(r in n))break e;n=n[r]}e=e[e.length-1],o=n[e],i=i(o),i!=o&&i!=null&&aa(n,e,{configurable:!0,writable:!0,value:i})}},ha=function(e){var i=0;return function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}};fa("Symbol",function(e){if(e)return e;var i=function(r,s){this.ba=r,aa(this,"description",{configurable:!0,writable:!0,value:s})};i.prototype.toString=function(){return this.ba};var n=0,o=function(r){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return new i("jscomp_symbol_"+(r||"")+"_"+n++,r)};return o}),fa("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var i="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<i.length;n++){var o=ea[i[n]];typeof o=="function"&&typeof o.prototype[e]!="function"&&aa(o.prototype,e,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return e});var ia=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},ja=function(e,i){e instanceof String&&(e+="");var n=0,o=!1,r={next:function(){if(!o&&n<e.length){var s=n++;return{value:i(s,e[s]),done:!1}}return o=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r};fa("Array.prototype.keys",function(e){return e||function(){return ja(this,function(i){return i})}});var m=this||self,ka=function(e){var i=typeof e;return i!="object"?i:e?Array.isArray(e)?"array":i:"null"},la=function(e,i,n){return e.call.apply(e.bind,arguments)},ma=function(e,i,n){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,o),e.apply(i,r)}}return function(){return e.apply(i,arguments)}},na=function(e,i,n){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function(e,i){function n(){}n.prototype=i.prototype,e.ma=i.prototype,e.prototype=new n,e.prototype.constructor=e,e.A=function(o,r,s){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return i.prototype[r].apply(o,l)}},pa=function(e){return e},qa=function(e){var i=null,n=m.trustedTypes;if(!n||!n.createPolicy)return i;try{i=n.createPolicy(e,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(o){m.console&&m.console.error(o.message)}return i};function q(e){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var i=Error().stack;i&&(this.stack=i)}e&&(this.message=String(e))}oa(q,Error),q.prototype.name="CustomError";var ra=function(e,i){e=e.split("%s");for(var n="",o=e.length-1,r=0;r<o;r++)n+=e[r]+(r<i.length?i[r]:"%s");q.call(this,n+e[o])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(e,i,n,o){var r="Assertion failed";if(n){r+=": "+n;var s=o}else e&&(r+=": "+e,s=i);throw new ra(""+r,s||[])},ta=function(e,i,n){return e||sa("",null,i,Array.prototype.slice.call(arguments,2)),e},ua=function(e,i){throw new ra("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},va=function(e,i,n){typeof e!="string"&&sa("Expected string but got %s: %s.",[ka(e),e],i,Array.prototype.slice.call(arguments,2))},xa=function(e,i){e:{try{var n=e&&e.ownerDocument,o=n&&(n.defaultView||n.parentWindow);if(o=o||m,o.Element&&o.Location){var r=o;break e}}catch{}r=null}if(r&&typeof r[i]<"u"&&(!e||!(e instanceof r[i])&&(e instanceof r.Location||e instanceof r.Element))){if(r=typeof e,r=="object"&&e!=null||r=="function")try{var s=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{s="<object could not be stringified>"}else s=e===void 0?"undefined":e===null?"null":typeof e;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",i,s)}return e},ya,t=function(e,i){this.P=e===za&&i||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(e){return e instanceof t&&e.constructor===t&&e.ca===Aa?e.P:(ua("expected object of type Const, got '"+e+"'"),"type_error:Const")},Aa={},za={},v=function(e,i){this.N=i===Ca?e:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(e){return e instanceof v&&e.constructor===v?e.N:(ua("expected object of type SafeUrl, got '"+e+"' of type "+ka(e)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(e){return e instanceof v?e:(e=typeof e=="object"&&e.J?e.H():String(e),ta(Ea.test(e),"%s does not match the safe URL pattern",e)||(e="about:invalid#zClosurez"),new v(e,Ca))},Ca={},w=function(e,i,n){this.M=n===Ga?e:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(e){return e instanceof w&&e.constructor===w?e.M:(ua("expected object of type SafeHtml, got '"+e+"' of type "+ka(e)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(e){var i=!1,n;return function(){return i||(n=e(),i=!0),n}}(function(){if(typeof document>"u")return!1;var e=document.createElement("div"),i=document.createElement("div");return i.appendChild(document.createElement("div")),e.appendChild(i),e.firstChild?(i=e.firstChild.firstChild,e.innerHTML=Ha(Ia),!i.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(e,i,n){return e[i]=e[i]||n},Oa=function(e){for(var i=0;i<this.length;i++)if(this[i]===e)return i;return-1},Pa=function(e){e=e.sort();for(var i=[],n=void 0,o=0;o<e.length;o++){var r=e[o];r!=n&&i.push(r),n=r}return i},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(e){return String(e).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var e;if((e=Object.create)&&Na.test(e))e=e(null);else{e={};for(var i in e)e[i]=void 0}return e},C=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},Xa=function(e){if(Na.test(Object.keys))return Object.keys(e);var i=[],n;for(n in e)C(e,n)&&i.push(n);return i},D=function(e,i){e=e||{};for(var n in e)C(e,n)&&(i[n]=e[n])},Ya=function(e){return function(){x.setTimeout(e,0)}},E=function(e,i){if(!e)throw Error(i||"")},F=A(x,"gapi",{}),H=function(e,i,n){var o=new RegExp("([#].*&|[#])"+i+"=([^&#]*)","g");if(i=new RegExp("([?#].*&|[?#])"+i+"=([^&#]*)","g"),e=e&&(o.exec(e)||i.exec(e)))try{n=decodeURIComponent(e[2])}catch{}return n},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(e){e=String(e),e=e.replace($a,function(r){try{return encodeURIComponent(r)}catch{return encodeURIComponent(r.replace(/^[^%]+$/g,"\uFFFD"))}}).replace(ab,function(r){return r.replace(/%/g,"%25")}).replace(bb,function(r){return r.toUpperCase()}),e=e.match(Za)||[];var i=B(),n=function(r){return r.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},o=!!(e[1]||"").match(cb);return i.A=n((e[1]||"")+(e[2]||"")+(e[3]||(e[2]&&o?"/":""))),o=function(r){return n(r.replace(/\?/g,"%3F").replace(/#/g,"%23"))},i.query=e[5]?[o(e[5])]:[],i.g=e[7]?[o(e[7])]:[],i},db=function(e){return e.A+(0<e.query.length?"?"+e.query.join("&"):"")+(0<e.g.length?"#"+e.g.join("&"):"")},eb=function(e,i){var n=[];if(e){for(var o in e)if(C(e,o)&&e[o]!=null){var r=i?i(e[o]):e[o];n.push(encodeURIComponent(o)+"="+encodeURIComponent(r))}}return n},fb=function(e,i,n,o){return e=I(e),e.query.push.apply(e.query,eb(i,o)),e.g.push.apply(e.g,eb(n,o)),db(e)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(e,i){var n=I(i);i=n.A,n.query.length&&(i+="?"+n.query.join("")),n.g.length&&(i+="#"+n.g.join(""));var o="";2e3<i.length&&(o=i,i=i.substr(0,2e3),i=i.replace(gb,""),o=o.substr(i.length));var r=e.createElement("div");if(e=e.createElement("a"),n=I(i),i=n.A,n.query.length&&(i+="?"+n.query.join("")),n.g.length&&(i+="#"+n.g.join("")),i=new v(i,Ca),xa(e,"HTMLAnchorElement"),i=i instanceof v?i:Fa(i),e.href=Da(i),r.appendChild(e),i=r.innerHTML,n=new t(za,"Assignment to self."),va(Ba(n),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(n)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),i=(n=ya)?n.createHTML(i):i,i=new w(i,null,Ga),r.tagName&&Ja[r.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+r.tagName+".");if(Ka())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ha(i),i=String(r.firstChild.href),r.parentNode&&r.parentNode.removeChild(r),n=I(i+o),o=n.A,n.query.length&&(o+="?"+n.query.join("")),n.g.length&&(o+="#"+n.g.join("")),o},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(e,i,n,o){x[n+"EventListener"]?x[n+"EventListener"](e,i,!1):x[o+"tachEvent"]&&x[o+"tachEvent"]("on"+e,i)},kb=function(){var e=z.readyState;return e==="complete"||e==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function(e){var i=lb;if(!kb())try{i()}catch{}mb(e)},mb=function(e){if(kb())e();else{var i=!1,n=function(){if(!i)return i=!0,e.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",n,!1),x.addEventListener("DOMContentLoaded",n,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&n.apply(this,arguments)}),x.attachEvent("onload",n))}},ob=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(e){return K.dpo?K.h:H(e,"jsh",K.h)},rb=function(e){var i=A(K,"sws",[]);i.push.apply(i,e)},sb=function(e){return A(K,"watt",B())[e]},tb=function(e){var i=A(K,"PQ",[]);K.PQ=[];var n=i.length;if(n===0)e();else for(var o=0,r=function(){++o===n&&e()},s=0;s<n;s++)i[s](r)},ub=function(e){return A(A(K,"H",B()),e,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(e,i,n){var o=vb.r;typeof o=="function"?o(e,i,n):o.push([e,i,n])},L=function(e,i,n){wb[e]=!i&&wb[e]||n||new Date().getTime(),yb(e)},Ab=function(e,i,n){i&&0<i.length&&(i=zb(i),n&&0<n.length&&(i+="___"+zb(n)),28<i.length&&(i=i.substr(0,28)+(i.length-28)),n=i,i=A(xb,"_p",B()),A(i,n,B())[e]=new Date().getTime(),yb(e,"_p",n))},zb=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(e){throw Error("Bad hint"+(e?": "+e:""))};N.push(["jsl",function(e){for(var i in e)if(C(e,i)){var n=e[i];typeof n=="object"?K[i]=A(K,i,[]).concat(n):A(K,i,n)}(i=e.u)&&(e=A(K,"us",[]),e.push(i),(i=/^https:(.*)$/.exec(i))&&e.push("http:"+i[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(e,i,n,o){var r=e.split(";"),s=r.shift(),l=Bb[s],c=null;return l?c=l(r,i,n,o):O("no hint processor for: "+s),c||O("failed to generate load url"),i=c,n=i.match(Hb),(o=i.match(Ib))&&o.length===1&&Jb.test(i)&&n&&n.length===1||O("failed sanity: "+e),c},Nb=function(e,i,n,o){e=Lb(e),Fb.test(n)||O("invalid_callback"),i=Mb(i),o=o&&o.length?Mb(o):null;var r=function(s){return encodeURIComponent(s).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",r(e.version),"/m=",r(i),o?"/exm="+r(o):"","/rt=j/sv=1/d=1/ed=1",e.S?"/am="+r(e.S):"",e.Z?"/rs="+r(e.Z):"",e.aa?"/t="+r(e.aa):"","/cb=",r(n)].join("")},Lb=function(e){e.charAt(0)!=="/"&&O("relative path");for(var i=e.substring(1).split("/"),n=[];i.length;){if(e=i.shift(),!e.length||e.indexOf(".")==0)O("empty/relative directory");else if(0<e.indexOf("=")){i.unshift(e);break}n.push(e)}e={};for(var o=0,r=i.length;o<r;++o){var s=i[o].split("="),l=decodeURIComponent(s[0]),c=decodeURIComponent(s[1]);s.length==2&&l&&c&&(e[l]=e[l]||c)}for(i="/"+n.join("/"),Cb.test(i)||O("invalid_prefix"),n=0,o=Db.length;n<o;++n)Db[n].test(i)&&O("invalid_prefix");return n=Ob(e,"k",!0),o=Ob(e,"am"),r=Ob(e,"rs"),e=Ob(e,"t"),{pathPrefix:i,version:n,S:o,Z:r,aa:e}},Mb=function(e){for(var i=[],n=0,o=e.length;n<o;++n){var r=e[n].replace(/\./g,"_").replace(/-/g,"_");Gb.test(r)&&i.push(r)}return i.join(",")},Ob=function(e,i,n){if(e=e[i],!e&&n&&O("missing: "+i),e){if(Eb.test(e))return e;O("invalid: "+i)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var e=qb(La.href);if(!e)throw Error("Bad hint");return e};Bb.m=function(e,i,n,o){return(e=e[0])||O("missing_hint"),"https://apis.google.com"+Nb(e,i,n,o)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(e,i){for(var n=[],o=0;o<e.length;++o){var r=e[o];r&&0>Oa.call(i,r)&&n.push(r)}return n},Tb=function(){var e=K.nonce;return e!==void 0?e&&e===String(e)&&e.match(Rb)?e:K.nonce=null:z.querySelector&&(e=z.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"",e&&e===String(e)&&e.match(Rb)?K.nonce=e:K.nonce=null):null},Wb=function(e){if(z.readyState!="loading")Ub(e);else{var i=Tb(),n="";i!==null&&(n=' nonce="'+i+'"'),e="<"+Qb+' src="'+encodeURI(e)+'"'+n+"></"+Qb+">",z.write(Vb?Vb.createHTML(e):e)}},Ub=function(e){var i=z.createElement(Qb);i.setAttribute("src",Vb?Vb.createScriptURL(e):e),e=Tb(),e!==null&&i.setAttribute("nonce",e),i.async="true",(e=z.getElementsByTagName(Qb)[0])?e.parentNode.insertBefore(i,e):(z.head||z.body||z.documentElement).appendChild(i)},Xb=function(e,i){var n=i&&i._c;if(n)for(var o=0;o<N.length;o++){var r=N[o][0],s=N[o][1];s&&C(n,r)&&s(n[r],e,i)}},Zb=function(e,i,n){Yb(function(){var o=i===qb(La.href)?A(F,"_",B()):B();o=A(ub(i),"_",o),e(o)},n)},ac=function(e,i){var n=i||{};typeof i=="function"&&(n={},n.callback=i),Xb(e,n),i=e?e.split(":"):[];var o=n.h||Pb(),r=A(K,"ah",B());if(r["::"]&&i.length){e=[];for(var s=null;s=i.shift();){var l=s.split(".");l=r[s]||r[l[1]&&"ns:"+l[0]||""]||o;var c=e.length&&e[e.length-1]||null,u=c;c&&c.hint==l||(u={hint:l,V:[]},e.push(u)),u.V.push(s)}var d=e.length;if(1<d){var h=n.callback;h&&(n.callback=function(){--d==0&&h()})}for(;i=e.shift();)$b(i.V,n,i.hint)}else $b(i||[],n,o)},$b=function(e,i,n){e=Pa(e)||[];var o=i.callback,r=i.config,s=i.timeout,l=i.ontimeout,c=i.onerror,u=void 0;typeof c=="function"&&(u=c);var d=null,h=!1;if(s&&!l||!s&&l)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";c=A(ub(n),"r",[]).sort();var p=A(ub(n),"L",[]).sort(),g=[].concat(c),f=function(J,$){if(h)return 0;x.clearTimeout(d),p.push.apply(p,y);var _e=((F||{}).config||{}).update;if(_e?_e(r):r&&A(K,"cu",[]).push(r),$){Ab("me0",J,g);try{Zb($,n,u)}finally{Ab("me1",J,g)}}return 1};0<s&&(d=x.setTimeout(function(){h=!0,l()},s));var y=Sb(e,p);if(y.length){y=Sb(e,c);var M=A(K,"CP",[]),k=M.length;if(M[k]=function(J){if(!J)return 0;Ab("ml1",y,g);var $=function(Fe){M[k]=null,f(y,J)&&tb(function(){o&&o(),Fe()})},_e=function(){var Fe=M[k+1];Fe&&Fe()};0<k&&M[k-1]?M[k]=function(){$(_e)}:$(_e)},y.length){var G="loaded_"+K.I++;F[G]=function(J){M[k](J),F[G]=null},e=Kb(n,y,"gapi."+G,c),c.push.apply(c,y),Ab("ml0",y,g),i.sync||x.___gapisync?Wb(e):Ub(e)}else M[k](Ma)}else f(y)&&o&&o()},Vb=qa("gapi#gapi"),Yb=function(e,i){if(K.hee&&0<K.hel)try{return e()}catch(n){i&&i(n),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(n)}catch{throw n}})}else try{return e()}catch(n){throw i&&i(n),n}};F.load=function(e,i){return Yb(function(){return ac(e,i)})};var bc=function(e){var i=window.___jsl=window.___jsl||{};return i[e]=i[e]||[],i[e]},cc=function(e){var i=window.___jsl=window.___jsl||{};return i.cfg=!e&&i.cfg||{},i.cfg},dc=function(e){return typeof e=="object"&&/\[native code\]/.test(e.push)},P=function(e,i,n){if(i&&typeof i=="object")for(var o in i)!Object.prototype.hasOwnProperty.call(i,o)||n&&o==="___goc"&&typeof i[o]>"u"||(e[o]&&i[o]&&typeof e[o]=="object"&&typeof i[o]=="object"&&!dc(e[o])&&!dc(i[o])?P(e[o],i[o]):i[o]&&typeof i[o]=="object"?(e[o]=dc(i[o])?[]:{},P(e[o],i[o])):e[o]=i[o])},ec=function(e){if(e&&!/^\s+$/.test(e)){for(;e.charCodeAt(e.length-1)==0;)e=e.substring(0,e.length-1);try{var i=window.JSON.parse(e)}catch{}if(typeof i=="object")return i;try{i=new Function("return ("+e+`
)`)()}catch{}if(typeof i=="object")return i;try{i=new Function("return ({"+e+`
})`)()}catch{}return typeof i=="object"?i:{}}},fc=function(e,i){var n={___goc:void 0};e.length&&e[e.length-1]&&Object.hasOwnProperty.call(e[e.length-1],"___goc")&&typeof e[e.length-1].___goc>"u"&&(n=e.pop()),P(n,i),e.push(n)},gc=function(e){cc(!0);var i=window.___gcfg,n=bc("cu"),o=window.___gu;i&&i!==o&&(fc(n,i),window.___gu=i),i=bc("cu");var r=document.scripts||document.getElementsByTagName("script")||[];o=[];var s=[];s.push.apply(s,bc("us"));for(var l=0;l<r.length;++l)for(var c=r[l],u=0;u<s.length;++u)c.src&&c.src.indexOf(s[u])==0&&o.push(c);for(o.length==0&&0<r.length&&r[r.length-1].src&&o.push(r[r.length-1]),r=0;r<o.length;++r)o[r].getAttribute("gapi_processed")||(o[r].setAttribute("gapi_processed",!0),(s=o[r])?(l=s.nodeType,s=l==3||l==4?s.nodeValue:s.textContent||s.innerText||s.innerHTML||""):s=void 0,(s=ec(s))&&i.push(s));for(e&&fc(n,e),o=bc("cd"),e=0,i=o.length;e<i;++e)P(cc(),o[e],!0);for(o=bc("ci"),e=0,i=o.length;e<i;++e)P(cc(),o[e],!0);for(e=0,i=n.length;e<i;++e)P(cc(),n[e],!0)},Q=function(e){var i=cc();if(!e)return i;e=e.split("/");for(var n=0,o=e.length;i&&typeof i=="object"&&n<o;++n)i=i[e[n]];return n===e.length&&i!==void 0?i:void 0},hc=function(e,i){var n;if(typeof e=="string"){var o=n={};e=e.split("/");for(var r=0,s=e.length;r<s-1;++r){var l={};o=o[e[r]]=l}o[e[r]]=i}else n=e;gc(n)},ic=function(){var e=window.__GOOGLEAPIS;e&&(e.googleapis&&!e["googleapis.config"]&&(e["googleapis.config"]=e.googleapis),A(K,"ci",[]).push(e),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var e=document.getElementsByTagName("meta"),i=0;i<e.length;++i){var n=e[i].name.toLowerCase();if(n.lastIndexOf("google-signin-",0)==0){n=n.substring(14);var o=e[i].content;jc[n]&&o&&(lc[n]=o)}}if(window.self!==window.top){e=document.location.toString();for(var r in jc)0<jc[r]&&(i=H(e,r,""))&&(lc[r]=i)}kc=!0}return r=B(),D(lc,r),r},nc=function(e){return!!(e.clientid&&e.scope&&e.callback)},oc=window.console,pc=function(e){oc&&oc.log&&oc.log(e)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(e){for(var i in R)e(R[i])},tc=function(e,i){(e=R[e])&&e.state<i&&(e.state=i)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(e){var i=Q("googleapis.config/sessionIndex");if(typeof i=="string"&&254<i.length&&(i=null),i==null&&(i=window.__X_GOOG_AUTHUSER),typeof i=="string"&&254<i.length&&(i=null),i==null){var n=window.google;n&&(i=n.authuser)}return typeof i=="string"&&254<i.length&&(i=null),i==null&&(e=e||window.location.href,i=H(e,"authuser")||null,i==null&&(i=(i=e.match(vc))?i[1]:null)),i==null?null:(i=String(i),254<i.length&&(i=null),i)},yc=function(e){var i=Q("googleapis.config/sessionDelegate");return typeof i=="string"&&21<i.length&&(i=null),i==null&&(i=(e=(e||window.location.href).match(wc))?e[1]:null),i==null?null:(i=String(i),21<i.length&&(i=null),i)},zc,S,T=void 0,U=function(e){try{return m.JSON.parse.call(m.JSON,e)}catch{return!1}},V=function(e){return Object.prototype.toString.call(e)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(e,i){if(i){for(var n=0,o=i.length;n<o;++n)if(e===i[n])throw new TypeError("Converting circular structure to JSON")}if(o=typeof e,o!=="undefined"){n=Array.prototype.slice.call(i||[],0),n[n.length]=e,i=[];var r=V(e);if(e!=null&&typeof e.toJSON=="function"&&(Object.prototype.hasOwnProperty.call(e,"toJSON")||(r!==Fc||e.constructor!==Array&&e.constructor!==Object)&&(r!==Ec||e.constructor!==Array&&e.constructor!==Object)&&r!==Dc&&r!==Ac&&r!==Cc&&r!==Bc))return W(e.toJSON.call(e),n);if(e==null)i[i.length]="null";else if(r===Ac)e=Number(e),isNaN(e)||isNaN(e-e)?e="null":e===-0&&0>1/e&&(e="-0"),i[i.length]=String(e);else if(r===Cc)i[i.length]=String(!!Number(e));else{if(r===Bc)return W(e.toISOString.call(e),n);if(r===Fc&&V(e.length)===Ac){i[i.length]="[";var s=0;for(o=Number(e.length)>>0;s<o;++s)s&&(i[i.length]=","),i[i.length]=W(e[s],n)||"null";i[i.length]="]"}else if(r==Dc&&V(e.length)===Ac){for(i[i.length]='"',s=0,n=Number(e.length)>>0;s<n;++s)o=String.prototype.charAt.call(e,s),r=String.prototype.charCodeAt.call(e,s),i[i.length]=o==="\b"?"\\b":o==="\f"?"\\f":o===`
`?"\\n":o==="\r"?"\\r":o==="	"?"\\t":o==="\\"||o==='"'?"\\"+o:31>=r?"\\u"+(r+65536).toString(16).substr(1):32<=r&&65535>=r?o:"\uFFFD";i[i.length]='"'}else if(o==="object"){i[i.length]="{",o=0;for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r=W(e[s],n),r!==void 0&&(o++&&(i[i.length]=","),i[i.length]=W(s),i[i.length]=":",i[i.length]=r));i[i.length]="}"}else return}return i.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch(e){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var e=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==e)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=e}}},Zc=function(e){return S===-1?!1:(Yc(),(zc?U:Xc)(e))},$c=function(e){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,e):W(e)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var e=Date.prototype.getUTCFullYear.call(this);return[0>e?"-"+String(1e6-e).substr(1):9999>=e?String(1e4+e).substr(1):"+"+String(1e6+e).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var e=1;e<this.j;++e)this.C[e]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(e,i,n){n||(n=0);var o=e.da;if(typeof i=="string")for(var r=0;16>r;r++)o[r]=i.charCodeAt(n)<<24|i.charCodeAt(n+1)<<16|i.charCodeAt(n+2)<<8|i.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)o[r]=i[n]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3],n+=4;for(r=16;80>r;r++){var s=o[r-3]^o[r-8]^o[r-14]^o[r-16];o[r]=(s<<1|s>>>31)&4294967295}i=e.b[0],n=e.b[1];var l=e.b[2],c=e.b[3],u=e.b[4];for(r=0;80>r;r++){if(40>r)if(20>r){s=c^n&(l^c);var d=1518500249}else s=n^l^c,d=1859775393;else 60>r?(s=n&l|c&(n|l),d=2400959708):(s=n^l^c,d=3395469782);s=(i<<5|i>>>27)+s+u+d+o[r]&4294967295,u=c,c=l,l=(n<<30|n>>>2)&4294967295,n=i,i=s}e.b[0]=e.b[0]+i&4294967295,e.b[1]=e.b[1]+n&4294967295,e.b[2]=e.b[2]+l&4294967295,e.b[3]=e.b[3]+c&4294967295,e.b[4]=e.b[4]+u&4294967295};dd.prototype.update=function(e,i){if(e!=null){i===void 0&&(i=e.length);for(var n=i-this.j,o=0,r=this.G,s=this.o;o<i;){if(s==0)for(;o<=n;)ed(this,e,o),o+=this.j;if(typeof e=="string"){for(;o<i;)if(r[s]=e.charCodeAt(o),++s,++o,s==this.j){ed(this,r),s=0;break}}else for(;o<i;)if(r[s]=e[o],++s,++o,s==this.j){ed(this,r),s=0;break}}this.o=s,this.D+=i}},dd.prototype.digest=function(){var e=[],i=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var n=this.j-1;56<=n;n--)this.G[n]=i&255,i/=256;for(ed(this,this.G),n=i=0;5>n;n++)for(var o=24;0<=o;o-=8)e[i]=this.b[n]>>o&255,++i;return e};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(e){e=e||x.event;var i=e.screenX+e.clientX<<16;i+=e.screenY+e.clientY,i*=new Date().getTime()%1e6,kd=kd*i%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(e){var i=new fd;e=unescape(encodeURIComponent(e));for(var n=[],o=0,r=e.length;o<r;++o)n.push(e.charCodeAt(o));for(i.O.update(n),i=i.O.digest(),e="",n=0;n<i.length;n++)e+="0123456789ABCDEF".charAt(Math.floor(i[n]/16))+"0123456789ABCDEF".charAt(i[n]%16);return e};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var e=kd;return e+=parseInt(md.substr(0,20),16),md=od(md),e/(ld+Math.pow(16,20))},qd=function(){var e=new x.Uint32Array(1);return gd.getRandomValues(e),+("0."+e[0])},rd=function(){var e=K.onl;if(!e){e=B(),K.onl=e;var i=B();e.e=function(n){var o=i[n];o&&(delete i[n],o())},e.a=function(n,o){i[n]=o},e.r=function(n){delete i[n]}}return e},sd=function(e,i){return i=i.onload,typeof i=="function"?(rd().a(e,i),i):null},td=function(e){return E(/^\w+$/.test(e),"Unsupported id - "+e),rd(),'onload="window.___jsl.onl.e(&#34;'+e+'&#34;)"'},ud=function(e){rd().r(e)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(e){E(!e||ib.test(e),"Illegal url for new iframe - "+e)},zd=function(e,i,n,o,r){yd(n.src);var s,l=sd(o,n),c=l?td(o):"";try{document.all&&(s=e.createElement('<iframe frameborder="'+Wa(String(n.frameborder))+'" scrolling="'+Wa(String(n.scrolling))+'" '+c+' name="'+Wa(String(n.name))+'"/>'))}catch{}finally{s||(s=e.createElement("iframe"),l&&(s.onload=function(){s.onload=null,l.call(this)},ud(o)))}s.setAttribute("ng-non-bindable","");for(var u in n)e=n[u],u==="style"&&typeof e=="object"?D(e,s.style):wd[u]||s.setAttribute(u,String(e));return(u=r&&r.beforeNode||null)||r&&r.dontclear||ob(i),i.insertBefore(s,u),s=u?u.previousSibling:i.lastChild,n.allowtransparency&&(s.allowTransparency=!0),s},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var e=xc()||"0",i=yc(),n=xc(void 0)||e,o=yc(void 0),r="";n&&(r+="u/"+encodeURIComponent(String(n))+"/"),o&&(r+="b/"+encodeURIComponent(String(o))+"/"),n=r||null,(r=(o=Q("isLoggedIn")===!1)?"_/im/":"")&&(n="");var s=Q("iframes/:socialhost:"),l=Q("iframes/:im_socialhost:");return uc={socialhost:s,ctx_socialhost:o?l:s,session_index:e,session_delegate:i,session_prefix:n,im_prefix:r}},Dd=function(e,i){return Cd()[i]||""},Ed=function(e){return function(i,n){return e?Cd()[n]||e[n]||"":Cd()[n]||""}},Fd=function(e){var i;return e.match(/^https?%3A/i)&&(i=decodeURIComponent(e)),hb(document,i||e)},Gd=function(e){e=e||"canonical";for(var i=document.getElementsByTagName("link"),n=0,o=i.length;n<o;n++){var r=i[n],s=r.getAttribute("rel");if(s&&s.toLowerCase()==e&&(r=r.getAttribute("href"))&&(r=Fd(r))&&r.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return r}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(e,i,n){var o,r={},s=o=e;e=="plus"&&i.action&&(o=e+"_"+i.action,s=e+"/"+i.action),(o=Q("iframes/"+o+"/url"))||(o=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+s+"?usegapi=1");for(var l in Hd)r[l]=l+"/"+(i[l]||Hd[l])+"/";if(r=hb(z,o.replace(Bd,Ed(r))),l="iframes/"+e+"/params/",s={},D(i,s),(o=Q("lang")||Q("gwidget/lang"))&&(s.hl=o),Id[e]||(s.origin=window.location.origin||window.location.protocol+"//"+window.location.host),s.exp=Q(l+"exp"),l=Q(l+"location"))for(o=0;o<l.length;o++){var c=l[o];s[c]=x.location[c]}switch(e){case"plus":case"follow":l=s.href,o=i.action?void 0:"publisher",l=(l=typeof l=="string"?l:void 0)?Fd(l):Gd(o),s.url=l,delete s.href;break;case"plusone":l=(l=i.href)?Fd(l):Gd(),s.url=l,l=i.db,o=Q(),l==null&&o&&(l=o.db,l==null&&(l=o.gwidget&&o.gwidget.db)),s.db=l||void 0,l=i.ecp,o=Q(),l==null&&o&&(l=o.ecp,l==null&&(l=o.gwidget&&o.gwidget.ecp)),s.ecp=l||void 0,delete s.href;break;case"signin":s.url=Gd()}K.ILI&&(s.iloader="1"),delete s["data-onload"],delete s.rd;for(var u in Hd)s[u]&&delete s[u];s.gsrc=Q("iframes/:source:"),u=Q("inline/css"),typeof u<"u"&&0<n&&u>=n&&(s.ic="1"),u=/^#|^fr-/,n={};for(var d in s)C(s,d)&&u.test(d)&&(n[d.replace(u,"")]=s[d],delete s[d]);d=Q("iframes/"+e+"/params/si")=="q"?s:n,u=mc();for(var h in u)!C(u,h)||C(s,h)||C(n,h)||(d[h]=u[h]);h=[].concat(Kd),(d=Q("iframes/"+e+"/methods"))&&typeof d=="object"&&Na.test(d.push)&&(h=h.concat(d));for(var p in i)C(i,p)&&/^on/.test(p)&&(e!="plus"||p!="onconnect")&&(h.push(p),delete s[p]);return delete s.callback,n._methods=h.join(","),fb(r,s,n)},Nd=["style","data-gapiscan"],Pd=function(e){for(var i=B(),n=e.nodeName.toLowerCase().indexOf("g:")!=0,o=0,r=e.attributes.length;o<r;o++){var s=e.attributes[o],l=s.name,c=s.value;0<=Oa.call(Nd,l)||n&&l.indexOf("data-")!=0||c==="null"||"specified"in s&&!s.specified||(n&&(l=l.substr(5)),i[l.toLowerCase()]=c)}return e=e.style,(n=Od(e&&e.height))&&(i.height=String(n)),(e=Od(e&&e.width))&&(i.width=String(e)),i},Od=function(e){var i=void 0;return typeof e=="number"?i=e:typeof e=="string"&&(i=parseInt(e,10)),i},Rd=function(){var e=K.drw;sc(function(i){if(e!==i.id&&i.state!=4&&i.type!="share"){var n=i.id,o=i.type,r=i.url;i=i.userParams;var s=z.getElementById(n);if(s){var l=Md(o,i,0);l?(s=s.parentNode,r.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==l.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(i.dontclear=!0,i.rd=!0,i.ri=!0,i.type=o,Qd(s,i),(o=R[s.lastChild.id])&&(o.oid=n),tc(n,4))):delete R[n]}else delete R[n]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(e,i){Yd(void 0,!1,e,i)},Yd=function(e,i,n,o){L("ps0",!0),n=(typeof n=="string"?document.getElementById(n):n)||z;var r=z.documentMode;if(n.querySelectorAll&&(!r||8<r)){r=o?[o]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var s=[],l=0;l<r.length;l++){var c=r[l];s.push(".g-"+c,"g\\:"+c)}r=n.querySelectorAll(s.join(","))}else r=n.getElementsByTagName("*");for(n=B(),s=0;s<r.length;s++){l=r[s];var u=l;c=o;var d=u.nodeName.toLowerCase(),h=void 0;if(u.getAttribute("data-gapiscan"))c=null;else{var p=d.indexOf("g:");p==0?h=d.substr(2):(p=(p=String(u.className||u.getAttribute("class")))&&Wd.exec(p))&&(h=p[1]),c=!h||!(Sd[h]||Td[h]||X[h])||c&&h!==c?null:h}c&&(Xd[c]||l.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd(l)).length!=0)&&(l.setAttribute("data-gapiscan",!0),A(n,c,[]).push(l))}if(i)for(var g in n)for(i=n[g],o=0;o<i.length;o++)i[o].setAttribute("data-onload",!0);for(var f in n)Ud.push(f);if(L("ps1",!0),(g=Ud.join(":"))||e)try{F.load(g,e)}catch(M){pc(M);return}if($d(Vd||{}))for(var y in n){for(e=n[y],f=0,i=e.length;f<i;f++)e[f].removeAttribute("data-gapiscan");ae(y)}else{o=[];for(y in n)for(e=n[y],f=0,i=e.length;f<i;f++)r=e[f],be(y,r,Pd(r),o,i);ce(g,o)}},de=function(e){var i=A(F,e,{});i.go||(i.go=function(n){return Zd(n,e)},i.render=function(n,o){return o=o||{},o.type=e,Qd(n,o)})},ee=function(e){Sd[e]=!0},fe=function(e){Td[e]=!0},ge=function(e){X[e]=!0},ae=function(e,i){var n=sb(e);i&&n?(n(i),(n=i.iframeNode)&&n.setAttribute("data-gapiattached",!0)):F.load(e,function(){var o=sb(e),r=i&&i.iframeNode,s=i&&i.userParams;r&&o?(o(i),r.setAttribute("data-gapiattached",!0)):(o=F[e].go,e=="signin2"?o(r,s):o(r&&r.parentNode,s))})},$d=function(){return!1},ce=function(){},be=function(e,i,n,o,r,s,l){switch(he(i,e,s)){case 0:e=X[e]?e+"_annotation":e,o={},o.iframeNode=i,o.userParams=n,ae(e,o);break;case 1:if(i.parentNode){for(var c in n)if((s=C(n,c))&&(s=n[c],s=!!s&&typeof s=="object"&&(!s.toString||s.toString===Object.prototype.toString||s.toString===Array.prototype.toString)),s)try{n[c]=$c(n[c])}catch{delete n[c]}if(s=!0,n.dontclear&&(s=!1),delete n.dontclear,rc(),c=Md(e,n,r),r=l||{},r.allowPost=1,r.attributes=Jd,r.dontclear=!s,l={},l.userParams=n,l.url=c,l.type=e,n.rd)var u=i;else u=document.createElement("div"),i.setAttribute("data-gapistub",!0),u.style.cssText="position:absolute;width:450px;left:-10000px;",i.parentNode.insertBefore(u,i);l.siteElement=u,u.id||(i=u,A(Ld,e,0),s="___"+e+"_"+Ld[e]++,i.id=s),i=B(),i[">type"]=e,D(n,i),s=c,n=u,c=r||{},i=c.attributes||{},E(!(c.allowPost||c.forcePost)||!i.onload,"onload is not supported by post iframe (allowPost or forcePost)"),r=i=s,Ad.test(i)&&(r=Q("iframes/"+r.substring(1)+"/url"),E(!!r,"Unknown iframe url config for - "+i)),s=hb(z,r.replace(Bd,Dd)),i=n.ownerDocument||z,u=0;do r=c.id||["I",xd++,"_",new Date().getTime()].join("");while(i.getElementById(r)&&5>++u);E(5>u,"Error creating iframe id"),u={};var d={};i.documentMode&&9>i.documentMode&&(u.hostiemode=i.documentMode),D(c.queryParams||{},u),D(c.fragmentParams||{},d);var h=c.pfname,p=B();Q("iframes/dropLegacyIdParam")||(p.id=r),p._gfid=r,p.parent=i.location.protocol+"//"+i.location.host;var g=H(i.location.href,"parent");if(h=h||"",!h&&g&&(g=H(i.location.href,"_gfid","")||H(i.location.href,"id",""),h=H(i.location.href,"pfname",""),h=g?h+"/"+g:""),h||(g=Zc(H(i.location.href,"jcp","")))&&typeof g=="object"&&(h=(h=g.id)?g.pfname+"/"+h:""),p.pfname=h,c.connectWithJsonParam&&(g={},g.jcp=$c(p),p=g),g=H(s,"rpctoken")||u.rpctoken||d.rpctoken,g||(g=c.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),p.rpctoken=g),c.rpctoken=g,D(p,c.connectWithQueryParams?u:d),g=i.location.href,p=B(),(h=H(g,"_bsh",K.bsh))&&(p._bsh=h),(g=qb(g))&&(p.jsh=g),c.hintInFragment?D(p,d):D(p,u),s=fb(s,u,d,c.paramsSerializer),d=B(),D(vd,d),D(c.attributes,d),d.name=d.id=r,d.src=s,c.eurl=s,u=c||{},p=!!u.allowPost,u.forcePost||p&&2e3<s.length){if(u=I(s),d.src="",c.dropDataPostorigin||(d["data-postorigin"]=s),s=zd(i,n,d,r),navigator.userAgent.indexOf("WebKit")!=-1){var f=s.contentWindow.document;f.open(),d=f.createElement("div"),p={},g=r+"_inner",p.name=g,p.src="",p.style="display:none",zd(i,d,p,g,c)}for(d=(c=u.query[0])?c.split("&"):[],c=[],p=0;p<d.length;p++)g=d[p].split("=",2),c.push([decodeURIComponent(g[0]),decodeURIComponent(g[1])]);for(u.query=[],d=db(u),E(ib.test(d),"Invalid URL: "+d),u=i.createElement("form"),u.method="POST",u.target=r,u.style.display="none",r=d instanceof v?d:Fa(d),xa(u,"HTMLFormElement").action=Da(r),r=0;r<c.length;r++)d=i.createElement("input"),d.type="hidden",d.name=c[r][0],d.value=c[r][1],u.appendChild(d);n.appendChild(u),u.submit(),u.parentNode.removeChild(u),f&&f.close(),f=s}else f=zd(i,n,d,r,c);l.iframeNode=f,l.id=f.getAttribute("id"),f=l.id,n=B(),n.id=f,n.userParams=l.userParams,n.url=l.url,n.type=l.type,n.state=1,R[f]=n,f=l}else f=null;f&&((l=f.id)&&o.push(l),ae(e,f))}},he=function(e,i,n){if(e&&e.nodeType===1&&i){if(n)return 1;if(X[i]){if(pb[e.nodeName.toLowerCase()])return(e=e.innerHTML)&&e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[i])return 0;if(Sd[i])return 1}}return null},Qd=function(e,i){var n=i.type;delete i.type;var o=(typeof e=="string"?document.getElementById(e):e)||void 0;if(o){e={};for(var r in i)C(i,r)&&(e[r.toLowerCase()]=i[r]);e.rd=1,(i=!!e.ri)&&delete e.ri,r=[],be(n,o,e,r,0,i,void 0),ce(n,r)}else pc("gapi."+n+".render: missing element "+typeof e=="string"?e:"")};A(F,"platform",{}).go=Zd,$d=function(e){for(var i=["_c","jsl","h"],n=0;n<i.length&&e;n++)e=e[i[n]];return i=qb(La.href),!e||e.indexOf("n;")!=0&&i.indexOf("n;")!=0&&e!==i},ce=function(e,i){ie(e,i)};var lb=function(e){Yd(e,!0)},je=function(e,i){i=i||[];for(var n=0;n<i.length;++n)e(i[n]);for(e=0;e<i.length;e++)de(i[e])};N.push(["platform",function(e,i,n){if(Vd=n,i&&Ud.push(i),je(ee,e),je(fe,n._c.annotation),je(ge,n._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb(e),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),n&&(e=n.callback)){var o=Ya(e);delete n.callback}nb(function(){lb(o)})}}]),F._pl=!0;var ke=function(e){if(e=(e=R[e])?e.oid:void 0,e){var i=z.getElementById(e);i&&i.parentNode.removeChild(i),delete R[e],ke(e)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(e,i){function n(){jb("message",o,"remove","de")}function o(s){var l=s.data,c=s.origin;if(oe(l,i)){var u=r;r=!1,u&&L("rqe"),pe(e,function(){u&&L("rqd"),n();for(var d=A(K,"RPMQ",[]),h=0;h<d.length;h++)d[h]({data:l,origin:c})})}}if(i.length!==0){ne=H(La.href,"pfname","");var r=!0;jb("message",o,"add","at"),ac(e,n)}},oe=function(e,i){if(e=String(e),le.test(e))return!0;var n=!1;if(me.test(e)&&(n=!0,e=e.substr(2)),!/^\{/.test(e))return!1;var o=Zc(e);if(!o)return!1;if(e=o.f,o.s&&e&&Oa.call(i,e)!=-1){if((o.s==="_renderstart"||o.s===ne+"/"+e+"::_renderstart")&&(o=o.a&&o.a[n?0:1],i=z.getElementById(e),tc(e,2),o&&i&&o.width&&o.height)){e:{if(n=i.parentNode,e=o||{},qc()){var r=i.id;if(r){if(o=(o=R[r])?o.state:void 0,o===1||o===4)break e;ke(r)}}(o=n.nextSibling)&&o.getAttribute&&o.getAttribute("data-gapistub")&&(n.parentNode.removeChild(o),n.style.cssText=""),o=e.width;var s=e.height,l=n.style;l.textIndent="0",l.margin="0",l.padding="0",l.background="transparent",l.borderStyle="none",l.cssFloat="none",l.styleFloat="none",l.lineHeight="normal",l.fontSize="1px",l.verticalAlign="baseline",n=n.style,n.display="inline-block",l=i.style,l.position="static",l.left="0",l.top="0",l.visibility="visible",o&&(n.width=l.width=o+"px"),s&&(n.height=l.height=s+"px"),e.verticalAlign&&(n.verticalAlign=e.verticalAlign),r&&tc(r,3)}i["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function(e,i){ac(e,i)},qe=function(e,i){this.L=e,e=i||{},this.fa=Number(e.maxAge)||0,this.U=e.domain,this.X=e.path,this.ga=!!e.secure};qe.prototype.read=function(){for(var e=this.L+"=",i=document.cookie.split(/;\s*/),n=0;n<i.length;++n){var o=i[n];if(o.indexOf(e)==0)return o.substr(e.length)}},qe.prototype.write=function(e,i){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(e))throw"Invalid cookie value";if(e=this.L+"="+e,this.U&&(e+=";domain="+this.U),this.X&&(e+=";path="+this.X),i=typeof i=="number"?i:this.fa,0<=i){var n=new Date;n.setSeconds(n.getSeconds()+i),e+=";expires="+n.toUTCString()}return this.ga&&(e+=";secure"),document.cookie=e,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(e){for(var i=document.cookie.split(/;\s*/),n=0;n<i.length;++n){var o=i[n].split("="),r=o.shift();e(r,o.join("="))}};var te=function(e){this.B=e};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(e){return Y[this.B]=e,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(e){for(var i in Y)Y.hasOwnProperty(i)&&e(i,Y[i])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function(e){var i=e.substr(1),n="",o=window.location.hostname;if(i!==""){if(n=parseInt(i,10),isNaN(n)||(i=o.split("."),i.length<n-1))return null;i.length==n-1&&(o="."+o)}else o="";return{i:e.charAt(0)=="S",domain:o,l:n}},xe=function(){var e,i=null;return ve.iterate(function(n,o){n.indexOf("G_AUTHUSER_")===0&&(n=we(n.substring(11)),!e||n.i&&!e.i||n.i==e.i&&n.l>e.l)&&(e=n,i=o)}),{ea:e,F:i}},ye=function(e){if(e.indexOf("GCSC")!==0)return null;var i={W:!1};if(e=e.substr(4),!e)return i;var n=e.charAt(0);e=e.substr(1);var o=e.lastIndexOf("_");if(o==-1)return i;var r=we(e.substr(o+1));return r==null||(e=e.substring(0,o),e.charAt(0)!=="_")?i:(o=n==="E"&&r.i,!o&&(n!=="U"||r.i)||o&&!ue?i:{W:!0,i:o,ja:e.substr(1),domain:r.domain,l:r.l})},ze=function(e){return e?(e=e.split("="),e[1]?e[1].split("|"):[]):[]},Ae=function(e){return e=e.split(":"),{clientId:e[0].split("=")[1],ia:ze(e[1]),la:ze(e[2]),ka:ze(e[3])}},Be=function(){var e=xe(),i=e.ea;if(e=e.F,e!==null){var n;if(ve.iterate(function(s,l){(s=ye(s))&&s.W&&s.i==i.i&&s.l==i.l&&(n=l)}),n){var o=Ae(n),r=o&&o.ia[Number(e)];if(o=o&&o.clientId,r)return{F:e,ha:r,clientId:o}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var e=Be();(e=e&&e.F)&&hc("googleapis.config/sessionIndex",e),Ee||(Ee=A(K,"ss",new Z)),e=Ee,e.$&&e.$()};var Ce=function(){var e=Be(),i=e&&e.ha||null,n=e&&e.clientId;return ac("auth",{callback:function(){var o=x.gapi.auth,r={client_id:n,session_state:i};o.checkSessionState(r,function(s){var l=r.session_state,c=Q("isLoggedIn");s=Q("debug/forceIm")?!1:l&&s||!l&&!s,(c=c!=s)&&(hc("isLoggedIn",s),rc(),Rd(),s||((s=o.signOut)?s():(s=o.setToken)&&s(null))),s=mc();var u=Q("savedUserState");l=o._guss(s.cookiepolicy),u=u!=l&&typeof u<"u",hc("savedUserState",l),(c||u)&&nc(s)&&!Q("disableRealtimeCallback")&&o._pimf(s,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(void 0);var y_e=m4.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var HY=function(){return Nn(this,null,function*(){return new Promise(e=>{let i=document.getElementsByTagName("script")[0],n=document.createElement("script");n.id="google-platform",n.src="//apis.google.com/js/platform.js",n.async=!0,n.defer=!0,i.parentNode.insertBefore(n,i),n.onload=()=>Nn(this,null,function*(){e(window.gapi)})})})};var _3=(()=>{let i=class i{constructor(o,r){this.http=o,this._ngZone=r,this.clientId="1001414568909-9m4o7llv98hhne9trahkek6k62d7t47a.apps.googleusercontent.com",this.apiKey="AIzaSyBP_9BO-erVUz-HWUb0qmC0aC7IKxO2UpU",this.scopes="https://www.googleapis.com/auth/drive.file",this.gLoginSubject=new $i,this.gLoginFlag$=this.gLoginSubject.asObservable(),this.gDrive={},this.initGoogleAPI(),this.subscription=this.gLoginFlag$.subscribe(s=>{this._ngZone.run(()=>{this.getGDriveInfo()})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}initGoogleAPI(){return Nn(this,null,function*(){yield HY(),this.gapi=window.gapi,yield this.gapi.load("client:auth2",()=>{this.gapi.client.init({apiKey:this.apiKey,clientId:this.clientId,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:this.scopes}).then(()=>{this.getUserInfo()})})})}getUserInfo(){return Nn(this,null,function*(){let o=this.gapi.auth2.getAuthInstance().currentUser.get(),r=o?.getBasicProfile(),s=o.getAuthResponse(),l=s.access_token||this.gapi.auth.getToken()?.access_token,c=s?.session_state?.extraQueryParams?.authuser||"0";this.setGDriveInfo({token:l,owner:r?.getEmail(),authUser:c}),this.gLoginSubject.next(+new Date)})}signIn(){this.gapi.auth2.getAuthInstance().signIn().then(o=>{this.getUserInfo()})}signOut(){this.gapi.auth2.getAuthInstance().signOut().then(o=>{console.log("User signed out",o),localStorage.removeItem("gDrive"),this.gLoginSubject.next(+new Date)})}get isLoggedIn(){return!!this.gDrive.token}getGDriveInfo(){let o=localStorage.getItem("gDrive");try{this.gDrive=o?JSON.parse(o):{}}catch(r){console.error("Error parsing GitHub data from localStorage:",r)}}setGDriveInfo({token:o,owner:r,path:s,authUser:l}){let c=localStorage.getItem("gDrive");try{this.gDrive=c?JSON.parse(c):{}}catch(u){console.error("Error parsing GitHub data from localStorage:",u)}o&&(this.gDrive.token=o),r&&(this.gDrive.owner=r),s&&(this.gDrive.path=s),l&&(this.gDrive.authUser=l),localStorage.setItem("gDrive",JSON.stringify(this.gDrive))}setIndexedTable(o){if(!o)return null;let{name:r,size:s,parents:l,webViewLink:c,id:u}=o,d=`gDrive/${this.gDrive.owner}`,h={name:r,path:l.join("/"),sha:u,size:s,download_url:c,localSha:null};return{id:d,content:h}}getFolders(){let o=this.gDrive.token,r="https://www.googleapis.com/drive/v3/files",s=new Ji({Authorization:`Bearer ${o}`}),l={q:"mimeType = 'application/vnd.google-apps.folder' and trashed = false",fields:"files(id, name)"};return this.http.get(r,{headers:s,params:l})}uploadFileForm(o){let r=this.gDrive.token,s="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,mimeType,size,parents,webViewLink,shared,createdTime,webContentLink,owners",l="",c={name:o.name,mimeType:o.type},u=new FormData;u.append("metadata",new Blob([JSON.stringify(c)],{type:"application/json"})),u.append("file",o);let d=new Ji({Accept:"*/*",Authorization:`Bearer ${r}`});return this.http.post(s,u,{headers:d,reportProgress:!0,observe:"events"})}};i.\u0275fac=function(r){return new(r||i)(Et(Er),Et(vi))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var S_e=()=>[10,20],GY=(()=>{let i=class i{onCellClicked(o){if(o.colDef.headerName==="Actions"){let r=o.event.target.getAttribute("data-action"),s=o.event.target.getAttribute("data-id"),[l,c,u,d,h,p]=s.split("|-|");r==="view"?this.viewDetail(l,d,p):r==="delete"&&this.deleteFile(l,c,u,d,h)}}constructor(o,r,s,l){this.githubService=o,this.dropboxService=r,this.googleDriveService=s,this.browserDB=l,this.selectedFiles=null,this.rowSelection="single",this.rowClassRules={"red-row-sraban":c=>c.data.make=="Toyata"},this.defaultColDef={flex:1,filter:!0,floatingFilter:!0},this.columnDefs=[{field:"name"},{field:"size",valueFormatter:c=>c?.value?.toLocaleString()+"KB"},{field:"platform"},{field:"location"},{headerName:"Actions",cellRenderer:({data:c})=>{let u=`${c.platform}|-|${c.location}|-|${c.sha}|-|${c.path}|-|${c.name}|-|${c.download_url}`;return`
          <div class="action">
            <button class="btn-view" data-action="view" data-id="${u}"> <i class="icon-picture_as_pdf"></i> View</button>
            <button class="btn-delete" data-action="delete" data-id="${u}"> <i class="icon-delete"></i> Delete</button>
          </div>
        `},sortable:!1,filter:!1,width:100}]}viewDetail(o,r,s){o==bv.dropbox?this.dropboxService.previewFile(r):window.open(s,"_blank")}deleteFile(o,r,s,l,c){let u="";if(o==bv.github&&(u=`github/${r}`),o==bv.gDrive&&(u=`gDrive/${r}`),o==bv.dropbox&&(u=`dropbox/${r}`),this.updateRemovedRecord(u,s),o==bv.github){let[d,h,p]=r.split("/");this.githubService.github.owner===d&&this.githubService.deleteFileFolder(p,h,l,s).subscribe({next:g=>console.log("Delted successfully",g),error:g=>console.log("sraban err error3",g)})}this.dropboxService.dropbox.owner,this.googleDriveService.gDrive.owner}updateRemovedRecord(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(u=>u.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}onWindowLoad(o){setTimeout(()=>{this.onInit()},500)}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[u,d,h,p]=l.split("/"),g="";u=="github"&&(g=`${d}/${h}/${p}`),u=="gDrive"&&(g=d),u=="dropbox"&&(g=d);let f=c.map(y=>Ft(We({},y),{platform:u,location:g}));return r.push(...f),r},[])})}};i.\u0275fac=function(r){return new(r||i)(at(yv),at(Sv),at(_3),at(ns))},i.\u0275cmp=Ai({type:i,selectors:[["skp-file-sync"]],hostBindings:function(r,s){r&1&&_t("load",function(c){return s.onWindowLoad(c)},!1,zm)},standalone:!0,features:[Gi],decls:3,vars:9,consts:[[1,"ag-theme-material",2,"width","100%","height","350px","border","1px solid #cccccc50",3,"cellClicked","defaultColDef","columnDefs","rowData","rowSelection","rowClassRules","pagination","paginationPageSize","paginationPageSizeSelector"]],template:function(r,s){r&1&&(He(0,"h3"),Ze(1,"Uploads in Github/Dropbox/G-Drive"),Ne(),He(2,"ag-grid-angular",0),_t("cellClicked",function(c){return s.onCellClicked(c)}),Ne()),r&2&&(et(2),ct("defaultColDef",s.defaultColDef)("columnDefs",s.columnDefs)("rowData",s.itemList)("rowSelection",s.rowSelection)("rowClassRules",s.rowClassRules)("pagination",!0)("paginationPageSize",10)("paginationPageSizeSelector",No(8,S_e)))},dependencies:[yo,Xl,wn,S3,y3],styles:[".ag-theme-material[_ngcontent-%COMP%]{--ag-header-background-color: #f4f4f4}.action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:gray}"]});let e=i;return e})();var WY=(()=>{let i=class i{constructor(o,r){this.route=o,this.http=r}};i.\u0275fac=function(r){return new(r||i)(at(pl),at(Er))},i.\u0275cmp=Ai({type:i,selectors:[["skp-auth-callback"]],standalone:!0,features:[Gi],decls:2,vars:0,template:function(r,s){r&1&&(He(0,"p"),Ze(1,"auth-callback works!"),Ne())}});let e=i;return e})();function __e(e,i){if(e&1){let n=mn();He(0,"a",6),_t("click",function(){Gt(n);let r=Dt();return Wt(r.signIn())}),Ze(1," Sign In"),Ne()}}function x_e(e,i){if(e&1){let n=mn();He(0,"a",6),_t("click",function(){Gt(n);let r=Dt();return Wt(r.signOut())}),Ze(1," Sign Out"),Ne()}}function D_e(e,i){if(e&1&&(He(0,"div"),Ze(1," Drive: "),He(2,"a",7),Ze(3),Ne(),Pt(4,"br"),Ze(5),Pt(6,"br"),Ne()),e&2){let n=Dt();et(2),ct("href",n.driveLocation,hr),et(),Pn(n.driveLocation),et(2),no(" Email: ",n.googleDriveService.gDrive.owner," ")}}function E_e(e,i){if(e&1){let n=mn();He(0,"li",10)(1,"div"),Ze(2),Ne(),He(3,"div")(4,"a",7),Ze(5,"Download"),Ne(),Ze(6," | "),He(7,"a",6),_t("click",function(){let r=Gt(n).$implicit,s=Dt(2).$implicit,l=Dt();return Wt(l.deleteFile(s.key,r))}),Ze(8,"Delete"),Ne()()()}if(e&2){let n=i.$implicit;et(2),no(" ",n.name," "),et(2),ct("href",n.download_url,hr)}}function I_e(e,i){if(e&1&&(He(0,"ul"),ai(1,E_e,9,2,"li",9),Ne()),e&2){let n=i.ngIf;et(),ct("ngForOf",n)}}function M_e(e,i){if(e&1&&(He(0,"li")(1,"b",8),Ze(2),Ne(),ai(3,I_e,2,1,"ul",2),Ne()),e&2){let n=i.$implicit;et(2),Pn(n.key),et(),ct("ngIf",n==null?null:n.value)}}var jY=(()=>{let i=class i{constructor(o,r,s){this.googleDriveService=o,this._ngZone=r,this.browserDB=s,this.myFile="",this.driveLocation="",this.selectedFiles=null,this.files=[]}ngOnInit(){this.googleDriveService.gLoginFlag$.subscribe(o=>{this._ngZone.run(()=>{this.driveLocation=`https://drive.google.com/drive/u/${this.googleDriveService.gDrive.authUser}/home`,this.isSignedIn&&this.getFolders()})}),setTimeout(()=>{this.onInit()},500)}get isSignedIn(){return this.googleDriveService.isLoggedIn}signIn(){this.googleDriveService.signIn()}signOut(){this.googleDriveService.signOut()}onFileChange(o){let r=o.target;r.files&&(this.selectedFiles=r.files)}uploadFile(){if(!this.selectedFiles){alert("No files selected!");return}let o=`(/(.|[\r
])*)|(ns:[0-9]+(/.*)?)|(id:.*)`;for(let r=0;r<this.selectedFiles.length;r++){let s=this.selectedFiles[r];s&&this.googleDriveService.uploadFileForm(s).pipe(kt(l=>(l.type==Ko.UploadProgress?this.progress=Math.round(100/l.total*l.loaded):l.type==Ko.Response&&(this.progress=null),l)),eo(l=>(console.log("sraban error1",l),l.error&&alert(l.error.message),this.progress=null,Oo(l)))).subscribe(l=>{let c=this.googleDriveService.setIndexedTable(l.body);console.log("file-uploaded",l,c),c&&this.browserDB.getItem(c.id).then(u=>{if(u){let d=[...u.content,c.content];console.log("merge newContent---",u.content,d),this.browserDB.deleteItem(c.id).then(h=>{this.browserDB.addItem({id:c.id,content:d}),this.onInit()})}else this.browserDB.addItem({id:c.id,content:[c.content]}),this.onInit()})})}}deleteFile(o,r){let s=`gDrive/${o}`;this.updateLocalDB(s,r.sha),this.googleDriveService.gDrive.owner}updateLocalDB(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(u=>u.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[u,d]=l.split("/");return u=="gDrive"&&(r[d]=r[d]||[],r[d].push(...c)),r},{})})}getFolders(){this.googleDriveService.getFolders().subscribe(o=>{this.files=o})}onFileChange2(o){let r=o.target.files[0],s=r.type,l=r.name;if(r){let c=new FileReader;c.onload=u=>Nn(this,null,function*(){let d=u.target?.result;if(d){let h=new Blob([d],{type:r.type});console.log("arrayBuffer",h)}}),c.readAsBinaryString(r)}}};i.\u0275fac=function(r){return new(r||i)(at(_3),at(vi),at(ns))},i.\u0275cmp=Ai({type:i,selectors:[["skp-g-drive"]],standalone:!0,features:[Gi],decls:14,vars:9,consts:[[2,"float","right","cursor","pointer","text-decoration","underline"],[3,"click",4,"ngIf"],[4,"ngIf"],["type","file",3,"ngModelChange","change","ngModel"],[3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"click"],["target","_blank",3,"href"],[2,"margin","10px","display","block"],["style","display: flex; justify-content: space-between;",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between"]],template:function(r,s){r&1&&(He(0,"div",0),ai(1,__e,2,0,"a",1),Ze(2," | "),ai(3,x_e,2,0,"a",1),Ne(),Pt(4,"br")(5,"hr"),ai(6,D_e,7,3,"div",2),He(7,"input",3),so("ngModelChange",function(c){return ro(s.myFile,c)||(s.myFile=c),c}),_t("change",function(c){return s.onFileChange(c)}),Ne(),Pt(8,"br"),He(9,"button",4),_t("click",function(){return s.uploadFile()}),Ze(10),Ne(),He(11,"ul"),ai(12,M_e,4,2,"li",5),Yu(13,"keyvalue"),Ne()),r&2&&(et(),ct("ngIf",s.isSignedIn!==!0),et(2),ct("ngIf",s.isSignedIn==!0),et(3),ct("ngIf",s.isSignedIn==!0),et(),oo("ngModel",s.myFile),et(2),ct("disabled",!s.isSignedIn),et(),no("Upload ",s.progress?" "+s.progress+"% ....":"",""),et(2),ct("ngForOf",Zu(13,7,s.itemList)))},dependencies:[yo,Ql,js,vs,Xl,wn,Xr,pr,qm]});let e=i;return e})();function R_e(e,i){if(e&1&&(He(0,"a",8),Ze(1,"Login"),Ne()),e&2){let n=Dt();ct("href",n.dropboxService.login,hr)}}function k_e(e,i){if(e&1){let n=mn();He(0,"a",9),_t("click",function(){Gt(n);let r=Dt();return Wt(r.dropboxService.logout())}),Ze(1,"Logout"),Ne()}}function A_e(e,i){if(e&1){let n=mn();He(0,"li",13)(1,"div"),Ze(2),Ne(),He(3,"div")(4,"a",14),_t("click",function(){let r=Gt(n).$implicit,s=Dt(3);return Wt(s.dropboxService.downloadFile(r.download_url))}),Ze(5,"Download"),Ne(),Ze(6," | "),He(7,"a",14),_t("click",function(){let r=Gt(n).$implicit,s=Dt(3);return Wt(s.dropboxService.previewFile(r.path))}),Ze(8,"View"),Ne(),Ze(9," | "),He(10,"a",9),_t("click",function(){let r=Gt(n).$implicit,s=Dt(2).$implicit,l=Dt();return Wt(l.deleteFile(s.key,r))}),Ze(11,"Delete"),Ne()()()}if(e&2){let n=i.$implicit;et(2),no(" ",n.name," ")}}function F_e(e,i){if(e&1&&(He(0,"ul"),ai(1,A_e,12,1,"li",12),Ne()),e&2){let n=i.ngIf;et(),ct("ngForOf",n)}}function T_e(e,i){if(e&1&&(He(0,"li")(1,"b",10),Ze(2),Ne(),ai(3,F_e,2,1,"ul",11),Ne()),e&2){let n=i.$implicit;et(2),Pn(n.key),et(),ct("ngIf",n==null?null:n.value)}}var UY=(()=>{let i=class i{constructor(o,r){this.dropboxService=o,this.browserDB=r,this.myFile="",this.folderPath="",this.selectedFiles=null,this.drive="https://www.dropbox.com/home",this.folderPath=this.dropboxService.dropbox.path||""}ngOnInit(){setTimeout(()=>{this.onInit()},500)}onFileSelected(o){let r=o.target;r.files&&(this.selectedFiles=r.files)}uploadFile(){if(!this.selectedFiles){alert("No files selected!");return}let o=`(/(.|[\r
])*)|(ns:[0-9]+(/.*)?)|(id:.*)`;for(let r=0;r<this.selectedFiles.length;r++){let s=this.selectedFiles[r],l=s.type,c=s.name;if(s){let u=new FileReader;u.onload=d=>Nn(this,null,function*(){let h=d.target?.result;h&&this.dropboxService.uploadFile(c,h,this.folderPath).pipe(kt(p=>(p.type==Ko.UploadProgress?this.progress=Math.round(100/p.total*p.loaded):p.type==Ko.Response&&(this.progress=null),p)),eo(p=>(console.log("sraban error1",p),p.error&&alert(p.error.message),this.progress=null,Oo(p)))).subscribe(p=>{if(p.status==200){console.log("file",p.body);let g=this.dropboxService.setIndexedTable(p.body);g&&this.browserDB.getItem(g.id).then(f=>{if(f){let y=[...f.content,g.content];console.log("merge newContent---",f.content,y),this.browserDB.deleteItem(g.id).then(M=>{this.browserDB.addItem({id:g.id,content:y}),this.onInit()})}else this.browserDB.addItem({id:g.id,content:[g.content]}),this.onInit()})}})}),u.readAsArrayBuffer(s)}}}deleteFile(o,r){let s=`dropbox/${o}`;this.updateLocalDB(s,r.sha),this.dropboxService.dropbox.owner}updateLocalDB(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(u=>u.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[u,d]=l.split("/");return u=="dropbox"&&(r[d]=r[d]||[],r[d].push(...c)),r},{})})}};i.\u0275fac=function(r){return new(r||i)(at(Sv),at(ns))},i.\u0275cmp=Ai({type:i,selectors:[["skp-drop-box"]],standalone:!0,features:[Gi],decls:22,vars:12,consts:[[2,"float","right","text-decoration","underline","cursor","pointer"],[3,"href",4,"ngIf"],[3,"click",4,"ngIf"],["target","_blank",3,"href"],["type","text",3,"ngModelChange","ngModel"],["type","file","multiple","",3,"ngModelChange","change","ngModel"],[3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"href"],[3,"click"],[2,"margin","10px","display","block"],[4,"ngIf"],["style","display: flex; justify-content: space-between;",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between"],["target","_blank",3,"click"]],template:function(r,s){r&1&&(He(0,"div",0),ai(1,R_e,2,1,"a",1),Ze(2," | "),ai(3,k_e,2,0,"a",2),Ne(),Pt(4,"br")(5,"hr"),Ze(6," Drive: "),He(7,"a",3),Ze(8),Ne(),Pt(9,"br"),Ze(10),Pt(11,"br"),Ze(12,`
Path: `),He(13,"input",4),so("ngModelChange",function(c){return ro(s.folderPath,c)||(s.folderPath=c),c}),Ne(),Pt(14,"br"),He(15,"input",5),so("ngModelChange",function(c){return ro(s.myFile,c)||(s.myFile=c),c}),_t("change",function(c){return s.onFileSelected(c)}),Ne(),Pt(16,"br"),He(17,"button",6),_t("click",function(){return s.uploadFile()}),Ze(18),Ne(),He(19,"ul"),ai(20,T_e,4,2,"li",7),Yu(21,"keyvalue"),Ne()),r&2&&(et(),ct("ngIf",!s.dropboxService.isLoggedIn),et(2),ct("ngIf",s.dropboxService.isLoggedIn),et(4),ct("href",s.drive,hr),et(),Pn(s.drive),et(2),no(`
Owner: `,s.dropboxService.dropbox.owner,""),et(3),oo("ngModel",s.folderPath),et(2),oo("ngModel",s.myFile),et(2),ct("disabled",!s.dropboxService.isLoggedIn),et(),no("Upload ",s.progress?" "+s.progress+"% ....":"",""),et(2),ct("ngForOf",Zu(21,10,s.itemList)))},dependencies:[yo,Ql,js,vs,Xl,wn,Xr,pr,qm]});let e=i;return e})();function P_e(e,i){if(e&1){let n=mn();He(0,"a",6),_t("click",function(){Gt(n);let r=Dt();return Wt(r.githubService.logout())}),He(1,"button"),Ze(2,"Logout from GitHub"),Ne()()}}function L_e(e,i){if(e&1&&(He(0,"a",11)(1,"button"),Ze(2,"Login with GitHub"),Ne()()),e&2){let n=Dt();ct("href",n.githubService.loginLink,hr)}}function O_e(e,i){if(e&1){let n=mn();He(0,"li",18)(1,"div"),Ze(2),Ne(),He(3,"div")(4,"a",3),Ze(5,"Download"),Ne(),Ze(6," | "),He(7,"a",19),_t("click",function(){let r=Gt(n).$implicit,s=Dt(2).ngIf,l=Dt(3).$implicit,c=Dt();return Wt(c.deleteFile(l.key,s[1],s[0],r.path,r.sha))}),Ze(8,"Delete"),Ne()()()}if(e&2){let n=i.$implicit;et(2),no("- ",n.path,""),et(2),ct("href",n.download_url,hr)}}function N_e(e,i){if(e&1&&(He(0,"ul",16),ai(1,O_e,9,2,"li",17),Ne()),e&2){let n=i.ngIf;et(),ct("ngForOf",n)}}function B_e(e,i){if(e&1&&(Hs(0),He(1,"i"),Ze(2),Ne(),ai(3,N_e,2,1,"ul",15),zs()),e&2){let n=i.ngIf,o=Dt().$implicit;et(2),pk("",n[0]," (",n[1],")"),et(),ct("ngIf",o==null?null:o.value)}}function V_e(e,i){if(e&1&&(He(0,"li"),ai(1,B_e,4,3,"ng-container",13),Ne()),e&2){let n=i.$implicit;et(),ct("ngIf",n.key.split("/"))}}function H_e(e,i){if(e&1&&(Hs(0),He(1,"b"),Ze(2),Ne(),He(3,"ul"),ai(4,V_e,2,1,"li",14),Yu(5,"keyvalue"),Ne(),zs()),e&2){let n=i.ngIf,o=Dt().$implicit;et(2),Pn(o.key),et(2),ct("ngForOf",Zu(5,2,n))}}function z_e(e,i){if(e&1&&(He(0,"li",12),ai(1,H_e,6,4,"ng-container",13),Ne()),e&2){let n=i.$implicit;et(),ct("ngIf",n.value)}}var $Y=(()=>{let i=class i{constructor(o,r){this.githubService=o,this.browserDB=r,this.selectedFiles=null,this.repositoryName="",this.repositoryBranch="main",this.folderPath="",this.fileName="",this.repositoryName=this.githubService.github.repository||"",this.repositoryBranch=this.githubService.github.branch||"",this.folderPath=this.githubService.github.path||""}onFileSelected(o){let r=o.target;r.files&&(this.selectedFiles=r.files)}uploadFile(){if(!this.selectedFiles){alert("No files selected!");return}for(let o=0;o<this.selectedFiles.length;o++){let r=this.selectedFiles[o],s=new FileReader;s.onload=l=>Nn(this,null,function*(){let c=l.target?.result?.toString().split(",")[1];this.githubService.uploadFile(this.repositoryBranch,this.repositoryName,this.folderPath,r.name,c).pipe(kt(u=>(u.type==Ko.UploadProgress?this.progress=Math.round(100/u.total*u.loaded):u.type==Ko.Response&&(this.progress=null,this.fileName=""),u)),eo(u=>(console.log("sraban error1",u),u.error&&alert(u.error.message),this.progress=null,this.fileName="",Oo(u)))).subscribe(u=>{console.log(`Uploaded ${r.name} successfully.`,u.body);let d=this.githubService.setIndexedTable(u.body);console.log("item---->",d),d&&this.browserDB.getItem(d.id).then(h=>{if(console.log(h),h){let p=[...h.content,d.content];console.log("merge newContent---",h.content,p),this.browserDB.deleteItem(d.id).then(g=>{this.browserDB.addItem({id:d.id,content:p}),this.onInit()})}else this.browserDB.addItem({id:d.id,content:[d.content]}),this.onInit()})})}),s.readAsDataURL(r)}}deletFolderFiles(){this.githubService.deleteDirectory(this.repositoryBranch,this.repositoryName,this.folderPath).subscribe({next:o=>console.log("Delted successfully",o),error:o=>console.log("sraban err error3",o)})}ngOnInit(){setTimeout(()=>{this.onInit()},500)}onInit(){this.browserDB.retrievingAllItem().then(o=>{this.itemList=o.reduce((r,s)=>{let{id:l,content:c}=s,[u,d,h,p]=l.split("/");if(u=="github"){let g=`${h}/${p}`;r[d]=r[d]||{},r[d][g]=r[d][g]||[],r[d][g].push(...c),console.log(r)}return r},{})})}deleteFile(o,r,s,l,c){if(this.githubService.github.owner===o){let u=`github/${o}/${s}/${r}`;this.githubService.deleteFileFolder(r,s,l,c).pipe(eo(d=>(this.updateRemovedRecord(u,c),Oo(d)))).subscribe(d=>{console.log(d.content==null),d.content==null&&this.updateRemovedRecord(u,c)})}}updateRemovedRecord(o,r){this.browserDB.getItem(o).then(s=>{this.browserDB.deleteItem(o).then(l=>{if(s.content.length!==1){let c=s.content.filter(u=>u.sha!=r);this.browserDB.addItem({id:o,content:c})}this.onInit()})})}};i.\u0275fac=function(r){return new(r||i)(at(yv),at(ns))},i.\u0275cmp=Ai({type:i,selectors:[["skp-git-hub"]],standalone:!0,features:[Gi],decls:42,vars:12,consts:[["loginBlock",""],[2,"float","right"],[3,"click",4,"ngIf","ngIfElse"],["target","_blank",3,"href"],["type","text",3,"ngModelChange","ngModel"],["type","file",3,"change","ngModelChange","ngModel"],[3,"click"],[2,"display","none",3,"click"],[2,"border","1px solid grey","max-height","500px","overflow-y","auto"],[2,"padding","0 15px"],["style","border: 1px solid pink; margin-bottom: 10px; list-style: none; padding:5px 15px 15px;",4,"ngFor","ngForOf"],[3,"href"],[2,"border","1px solid pink","margin-bottom","10px","list-style","none","padding","5px 15px 15px"],[4,"ngIf"],[4,"ngFor","ngForOf"],["style","padding: 0 10px;",4,"ngIf"],[2,"padding","0 10px"],["style","display: flex; justify-content: space-between; font-size: 12px;",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between","font-size","12px"],[2,"cursor","pointer","text-decoration","underline",3,"click"]],template:function(r,s){if(r&1){let l=mn();He(0,"div",1),ai(1,P_e,3,0,"a",2)(2,L_e,3,1,"ng-template",null,0,Rz),Ne(),Pt(4,"br"),He(5,"samp"),Ze(6," Ex. "),He(7,"a",3),Ze(8),Ne(),Ze(9,"/______"),Ne(),Pt(10,"br"),He(11,"i"),Ze(12,"Repository Name: "),Ne(),He(13,"input",4),so("ngModelChange",function(u){return Gt(l),ro(s.repositoryName,u)||(s.repositoryName=u),Wt(u)}),Ne(),Pt(14,"br"),He(15,"i"),Ze(16,"Branch: "),Ne(),He(17,"input",4),so("ngModelChange",function(u){return Gt(l),ro(s.repositoryBranch,u)||(s.repositoryBranch=u),Wt(u)}),Ne(),He(18,"samp"),Ze(19," ex. main, master, .."),Ne(),Pt(20,"br"),He(21,"i"),Ze(22,"Path: "),Ne(),He(23,"input",4),so("ngModelChange",function(u){return Gt(l),ro(s.folderPath,u)||(s.folderPath=u),Wt(u)}),Ne(),He(24,"samp"),Ze(25," ex. folder/folder/folder/.."),Ne(),Pt(26,"br"),He(27,"i"),Ze(28,"File : "),Ne(),He(29,"input",5),_t("change",function(u){return Gt(l),Wt(s.onFileSelected(u))}),so("ngModelChange",function(u){return Gt(l),ro(s.fileName,u)||(s.fileName=u),Wt(u)}),Ne(),Pt(30,"br"),He(31,"button",6),_t("click",function(){return Gt(l),Wt(s.uploadFile())}),Ze(32),Ne(),Pt(33,"br"),He(34,"button",7),_t("click",function(){return Gt(l),Wt(s.deletFolderFiles())}),Ze(35,"Delete Files Git"),Ne(),He(36,"H5"),Ze(37,"All Uploads"),Ne(),He(38,"div",8)(39,"ul",9),ai(40,z_e,2,1,"li",10),Yu(41,"keyvalue"),Ne()()}if(r&2){let l,c,u=Dz(3);et(),ct("ngIf",!!s.githubService.github.token)("ngIfElse",u),et(6),ct("href","https://github.com/"+((l=s.githubService.github.owner)!==null&&l!==void 0?l:"owner")+"?tab=repositories",hr),et(),no("https://github.com/",(c=s.githubService.github.owner)!==null&&c!==void 0?c:"owner",""),et(5),oo("ngModel",s.repositoryName),et(4),oo("ngModel",s.repositoryBranch),et(6),oo("ngModel",s.folderPath),et(6),oo("ngModel",s.fileName),et(3),no("Upload ",s.progress?" "+s.progress+"% ....":"",""),et(8),ct("ngForOf",Zu(41,10,s.itemList))}},dependencies:[yo,Ql,js,vs,Xl,wn,Xr,pr,qm]});let e=i;return e})();var G_e=["resizeElem"],nZ=["*"],W_e=!1;function j_e(e){let i=0,n;for(let o=0,r=e.length;o<r;o++)n=e[o].y+e[o].h,n>i&&(i=n);return i}function U_e(e){let i={w:e.w,h:e.h,x:e.x,y:e.y,id:e.id,moved:!!e.moved,static:!!e.static};return e.minW!==void 0&&(i.minW=e.minW),e.maxW!==void 0&&(i.maxW=e.maxW),e.minH!==void 0&&(i.minH=e.minH),e.maxH!==void 0&&(i.maxH=e.maxH),e.isDraggable!==void 0&&(i.isDraggable=e.isDraggable),e.isResizable!==void 0&&(i.isResizable=e.isResizable),i}function D4(e,i){return!(e.id===i.id||e.x+e.w<=i.x||e.x>=i.x+i.w||e.y+e.h<=i.y||e.y>=i.y+i.h)}function E4(e,i,n){let o=Y_e(e),r=oZ(e,i),s=Array(e.length);for(let l=0,c=r.length;l<c;l++){let u=U_e(r[l]);u.static||(u=q_e(o,u,i,n,r),o.push(u)),s[e.indexOf(r[l])]=u,u.moved=!1}return s}var $_e={x:"w",y:"h"};function b4(e,i,n,o){let r=$_e[o];i[o]+=1;let s=e.map(l=>l.id).indexOf(i.id);for(let l=s+1;l<e.length;l++){let c=e[l];if(!c.static){if(c.y>i.y+i.h)break;D4(i,c)&&b4(e,c,n+i[r],o)}}i[o]=n}function q_e(e,i,n,o,r){let s=n==="vertical",l=n==="horizontal";if(s)for(i.y=Math.min(j_e(e),i.y);i.y>0&&!xv(e,i);)i.y--;else if(l)for(;i.x>0&&!xv(e,i);)i.x--;let c;for(;c=xv(e,i);)if(l?b4(r,i,c.x+c.w,"x"):b4(r,i,c.y+c.h,"y"),l&&i.x+i.w>o)for(i.x=o-i.w,i.y++;i.x>0&&!xv(e,i);)i.x--;return i.y=Math.max(i.y,0),i.x=Math.max(i.x,0),i}function xv(e,i){for(let n=0,o=e.length;n<o;n++)if(D4(e[n],i))return e[n];return null}function K_e(e,i){return e.filter(n=>D4(n,i))}function Y_e(e){return e.filter(i=>i.static)}function y4(e,i,n,o,r,s,l,c){if(i.static&&i.isDraggable!==!0||i.y===o&&i.x===n)return e;E3(`Moving element ${i.id} to [${String(n)},${String(o)}] from [${i.x},${i.y}]`);let u=i.x,d=i.y;typeof n=="number"&&(i.x=n),typeof o=="number"&&(i.y=o),i.moved=!0;let h=oZ(e,l);(l==="vertical"&&typeof o=="number"?d>=o:l==="horizontal"&&typeof n=="number"?u>=n:!1)&&(h=h.reverse());let g=K_e(h,i);if(s&&g.length)return E3(`Collision prevented on ${i.id}, reverting.`),i.x=u,i.y=d,i.moved=!1,e;for(let f=0,y=g.length;f<y;f++){let M=g[f];E3(`Resolving collision between ${i.id} at [${i.x},${i.y}] and ${M.id} at [${M.x},${M.y}]`),!M.moved&&(M.static?e=qY(e,M,i,r,l,c):e=qY(e,i,M,r,l,c))}return e}function qY(e,i,n,o,r,s){let l=r==="horizontal",c=r!=="horizontal",u=i.static;if(o){o=!1;let d={x:l?Math.max(i.x-n.w,0):n.x,y:c?Math.max(i.y-n.h,0):n.y,w:n.w,h:n.h,id:"-1"};if(!xv(e,d))return E3(`Doing reverse collision on ${n.id} up to [${d.x},${d.y}].`),y4(e,n,l?d.x:void 0,c?d.y:void 0,o,u,r,s)}return y4(e,n,l?n.x+1:void 0,c?n.y+1:void 0,o,u,r,s)}function oZ(e,i){return i==="horizontal"?Q_e(e):Z_e(e)}function Z_e(e){return[].concat(e).sort(function(i,n){return i.y>n.y||i.y===n.y&&i.x>n.x?1:i.y===n.y&&i.x===n.x?0:-1})}function Q_e(e){return[].concat(e).sort(function(i,n){return i.x>n.x||i.x===n.x&&i.y>n.y?1:-1})}function E3(...e){W_e&&console.log(...e)}var iS;function X_e(){if(iS==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>iS=!0}))}finally{iS=iS||!1}return iS}function R3(e){return X_e()?e:!!e.capture}var J_e=R3({passive:!0}),rZ=R3({passive:!1}),x3=null;function I4(){if(x3!=null)return x3;let e=/Android|webOS|BlackBerry|Windows Phone|iPad|iPhone|iPod/i.test(navigator.userAgent),i=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return x3=e||i,x3}function I3(e){return e.clientX!=null}function rS(e){return I3(e)?e.clientX:e.touches[0].clientX}function sS(e){return I3(e)?e.clientY:e.touches[0].clientY}function KY(e){return{clientX:I3(e)?e.clientX:e.touches[0].clientX,clientY:I3(e)?e.clientY:e.touches[0].clientY}}function YY(e){return e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse"}function M4(){return!!window.PointerEvent}function exe(e,i=1){return ym(()=>I4(),Mn(e,"touchstart",J_e).pipe(bi(n=>n.touches.length===i)),Mn(e,"mousedown",rZ).pipe(bi(n=>n.button===0)))}function txe(e,i=1){return ur(Mn(e,"touchend").pipe(bi(n=>n.touches.length===i-1)),Mn(e,"touchcancel").pipe(bi(n=>n.touches.length===i-1)))}function ixe(e,i=1){return ym(()=>I4(),txe(e,i),Mn(e,"mouseup"))}function D3(e){return M4()?Mn(e,"pointerdown",rZ).pipe(bi(i=>i.isPrimary)):exe(e)}function S4(e){return M4()?Mn(e,"pointerup").pipe(bi(i=>i.isPrimary)):ixe(e)}function k3(e,i){return i.id}function A3(e,i,n){let o=e.reduce((l,c)=>Math.max(l,Math.max(c.y+c.h,0)),0),r=(o-1)*n;return(i-r)/o}function nxe(e,i,n,o){let s=(n-o*(i-1))/i,c=(n-s)/(i-1);return Math.round(e/c)}function oxe(e,i,n,o){return Math.round(e/(i+o))}function rxe(e,i,n,o){let s=(n-o*(i-1))/i,l=e-s;return Math.round(l/(s+o))+1}function sxe(e,i,n,o){let r=e-i;return Math.round(r/(i+o))+1}function axe(e,i,n,o){let{pointerDownEvent:r,pointerDragEvent:s,gridElemClientRect:l,dragElemClientRect:c,scrollDifference:u}=o,d=e.id,h=i.layout.find(Lt=>Lt.id===d),p=rS(r),g=sS(r),f=rS(s),y=sS(s),M=p-c.left,k=g-c.top,G=l.left+u.left,J=l.top+u.top,$=f-G-M,_e=y-J-k,Fe=i.rowHeight==="fit"?A3(i.layout,i.height??l.height,i.gap):i.rowHeight,Pe=Ft(We({},h),{x:nxe($,i.cols,l.width,i.gap),y:oxe(_e,Fe,l.height,i.gap)});Pe.x=Math.max(0,Pe.x),Pe.y=Math.max(0,Pe.y),Pe.x+Pe.w>i.cols&&(Pe.x=Math.max(0,i.cols-Pe.w));let $e=i.layout,nt=$e.find(Lt=>Lt.id===d),lt=y4($e,nt,Pe.x,Pe.y,!0,i.preventCollision,n,i.cols);return lt=E4(lt,n,i.cols),{layout:lt,draggedItemPos:{top:_e,left:$,width:c.width,height:c.height}}}function lxe(e,i,n,o){let{pointerDownEvent:r,pointerDragEvent:s,gridElemClientRect:l,dragElemClientRect:c,scrollDifference:u}=o,d=e.id,h=rS(r),p=sS(r),g=rS(s),f=sS(s),y=c.width-(h-c.left),M=c.height-(p-c.top),k=i.layout.find(Pe=>Pe.id===d),G=g+y-(c.left+u.left),J=f+M-(c.top+u.top),$=i.rowHeight==="fit"?A3(i.layout,i.height??l.height,i.gap):i.rowHeight,_e=Ft(We({},k),{w:rxe(G,i.cols,l.width,i.gap),h:sxe(J,$,l.height,i.gap)});if(_e.w=ZY(_e.w,e.minW??_e.minW,e.maxW??_e.maxW),_e.h=ZY(_e.h,e.minH??_e.minH,e.maxH??_e.maxH),_e.x+_e.w>i.cols&&(_e.w=Math.max(1,i.cols-_e.x)),i.preventCollision){let Pe=_e.w,$e=_e.h,nt=_v(i.layout,_e),lt;for(;nt;)lt=cxe(_e,lt),_e[lt]--,nt=_v(i.layout,_e);if(lt==="w")for(_e.h=$e,nt=_v(i.layout,_e);nt;)_e.h--,nt=_v(i.layout,_e);if(lt==="h")for(_e.w=Pe,nt=_v(i.layout,_e);nt;)_e.w--,nt=_v(i.layout,_e)}let Fe=i.layout.map(Pe=>Pe.id===d?_e:Pe);return{layout:E4(Fe,n,i.cols),draggedItemPos:{top:c.top-l.top,left:c.left-l.left,width:G,height:J}}}function _v(e,i){return!!xv(e,i)}function cxe(e,i){return e.h<=1?"w":e.w<=1||i==="w"?"h":"w"}function ZY(e,i=1,n=1/0){return Math.min(Math.max(e,i<1?1:i),n)}function uxe(e,i){return e.id===i.id&&e.x===i.x&&e.y===i.y&&e.w===i.w&&e.h===i.h}var dxe=new Nt("KtdGridDragHandle");var hxe=new Nt("KtdGridResizeHandle");var sZ=new Nt("KtdGridItemPlaceholder"),aZ=(()=>{let i=class i{constructor(o){this.templateRef=o}};i.\u0275fac=function(r){return new(r||i)(at(Gu))},i.\u0275dir=Mo({type:i,selectors:[["ng-template","ktdGridItemPlaceholder",""]],hostAttrs:[1,"ktd-grid-item-placeholder-content"],inputs:{data:"data"},standalone:!0,features:[Qr([{provide:sZ,useExisting:i}])]});let e=i;return e})();function M3(e){return e!=null&&`${e}`!="false"}function oS(e,i=0){return pxe(e)?Number(e):i}function pxe(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}var lZ=new Nt("GRID_ITEM_GET_RENDER_DATA_TOKEN");function gxe(e){return i=>new si(n=>e.runOutsideAngular(()=>i.subscribe(n)))}function fxe(){return e=>e.pipe(bi(()=>!1))}var v4=R3({passive:!1,capture:!0}),R4=(()=>{let i=class i{constructor(o){this.ngZone=o,this.touchMoveSubject=new $i,this.touchMove$=this.touchMoveSubject.asObservable(),this.registerTouchMoveSubscription()}ngOnDestroy(){this.touchMoveSubscription.unsubscribe()}mouseOrTouchMove$(o){return M4()?Mn(o,"pointermove",v4):ym(()=>I4(),this.touchMove$,Mn(o,"mousemove",v4))}registerTouchMoveSubscription(){this.touchMoveSubscription=this.ngZone.runOutsideAngular(()=>Mn(document,"touchmove",v4).pipe(bi(o=>o.touches.length===1)).subscribe(o=>this.touchMoveSubject.next(o)))}};i.\u0275fac=function(r){return new(r||i)(Et(vi))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),aS=(()=>{let i=class i{get id(){return this._id}set id(o){this._id=o}get dragStartThreshold(){return this._dragStartThreshold}set dragStartThreshold(o){this._dragStartThreshold=oS(o)}get draggable(){return this._draggable}set draggable(o){this._draggable=M3(o),this._draggable$.next(this._draggable)}get resizable(){return this._resizable}set resizable(o){this._resizable=M3(o),this._resizable$.next(this._resizable)}constructor(o,r,s,l,c){this.elementRef=o,this.gridService=r,this.renderer=s,this.ngZone=l,this.getItemRenderData=c,this.transition="transform 500ms ease, width 500ms ease, height 500ms ease",this._dragStartThreshold=0,this._draggable=!0,this._draggable$=new bo(this._draggable),this._manualDragEvents$=new $i,this._resizable=!0,this._resizable$=new bo(this._resizable),this.dragStartSubject=new $i,this.resizeStartSubject=new $i,this.subscriptions=[],this.dragStart$=this.dragStartSubject.asObservable(),this.resizeStart$=this.resizeStartSubject.asObservable()}ngOnInit(){let o=this.getItemRenderData(this.id);this.setStyles(o)}ngAfterContentInit(){this.subscriptions.push(this._dragStart$().subscribe(this.dragStartSubject),this._resizeStart$().subscribe(this.resizeStartSubject))}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}startDragManually(o){this._manualDragEvents$.next(o)}setStyles({top:o,left:r,width:s,height:l}){this.renderer.setStyle(this.elementRef.nativeElement,"transform",`translateX(${r}) translateY(${o})`),this.renderer.setStyle(this.elementRef.nativeElement,"display","block"),this.renderer.setStyle(this.elementRef.nativeElement,"transition",this.transition),s!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"width",s),l!=null&&this.renderer.setStyle(this.elementRef.nativeElement,"height",l)}_dragStart$(){return ur(this._manualDragEvents$,this._draggable$.pipe(cn(o=>o?this._dragHandles.changes.pipe(Uh(this._dragHandles),cn(r=>ym(()=>r.length>0,ur(...r.toArray().map(s=>D3(s.element.nativeElement))),D3(this.elementRef.nativeElement)))):Ps))).pipe(gC(o=>{YY(o)&&o.preventDefault();let r=KY(o);return this.gridService.mouseOrTouchMove$(document).pipe(sg(S4(document)),gxe(this.ngZone),bi(s=>{s.preventDefault();let l=KY(s),c=Math.abs(r.clientX-l.clientX),u=Math.abs(r.clientY-l.clientY);return c+u>=this.dragStartThreshold}),to(1),kt(()=>o))}))}_resizeStart$(){return this._resizable$.pipe(cn(o=>o?this._resizeHandles.changes.pipe(Uh(this._resizeHandles),cn(r=>r.length>0?(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),ur(...r.toArray().map(s=>D3(s.element.nativeElement)))):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","block"),D3(this.resizeElem.nativeElement))),Rn(r=>{YY(r)&&r.preventDefault()})):(this.renderer.setStyle(this.resizeElem.nativeElement,"display","none"),Ps)))}};i.\u0275fac=function(r){return new(r||i)(at(Tn),at(R4),at(gs),at(vi),at(lZ))},i.\u0275cmp=Ai({type:i,selectors:[["ktd-grid-item"]],contentQueries:function(r,s,l){if(r&1&&(jm(l,sZ,5),jm(l,dxe,5),jm(l,hxe,5)),r&2){let c;xr(c=Dr())&&(s.placeholder=c.first),xr(c=Dr())&&(s._dragHandles=c),xr(c=Dr())&&(s._resizeHandles=c)}},viewQuery:function(r,s){if(r&1&&Kl(G_e,7,Tn),r&2){let l;xr(l=Dr())&&(s.resizeElem=l.first)}},inputs:{minW:"minW",minH:"minH",maxW:"maxW",maxH:"maxH",transition:"transition",id:"id",dragStartThreshold:"dragStartThreshold",draggable:"draggable",resizable:"resizable"},standalone:!0,features:[Gi],ngContentSelectors:nZ,decls:3,vars:0,consts:[["resizeElem",""],[1,"grid-item-resize-icon"]],template:function(r,s){r&1&&(dk(),hk(0),Pt(1,"div",1,0))},styles:['[_nghost-%COMP%]{display:none;position:absolute;z-index:1;overflow:hidden;touch-action:none}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;user-select:none;z-index:10}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]{cursor:se-resize;width:20px;height:20px;bottom:0;right:0;color:inherit}[_nghost-%COMP%]   div.grid-item-resize-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid;border-bottom:2px solid}.display-none[_ngcontent-%COMP%]{display:none!important}'],changeDetection:0});let e=i;return e})();function _4(e){let i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}var cZ=.05;function QY(e,i){e===window?e.scrollBy(0,i):e.scrollTop+=i}function XY(e,i){e===window?e.scrollBy(i,0):e.scrollLeft+=i}function mxe(e,i){let{top:n,bottom:o,height:r}=e,s=r*cZ;return i>=n-s&&i<=n+s?1:i>=o-s&&i<=o+s?2:0}function vxe(e,i){let{left:n,right:o,width:r}=e,s=r*cZ;return i>=n-s&&i<=n+s?1:i>=o-s&&i<=o+s?2:0}function Cxe(e,i,n,o=2){return JI(0,ZI).pipe(Rn(()=>{i===1?QY(e,-o):i===2&&QY(e,o),n===1?XY(e,-o):n===2&&XY(e,o)}),fxe())}function wxe(e,i){let n,o,r;if(e===document){n=document.defaultView;let{width:s,height:l}=yxe();o={width:s,height:l,top:0,right:s,bottom:l,left:0},r=Sxe()}else n=e,o=_4(e),r=e.scrollWidth;return i=i||{},i.disableHorizontal==null&&r<=o.width&&(i.disableHorizontal=!0),s=>s.pipe(kt(({pointerX:l,pointerY:c})=>{let u=mxe(o,c),d=vxe(o,l);return i?.disableVertical&&(u=0),i?.disableHorizontal&&(d=0),{verticalScrollDirection:u,horizontalScrollDirection:d}}),iM((l,c)=>l.verticalScrollDirection===c.verticalScrollDirection&&l.horizontalScrollDirection===c.horizontalScrollDirection),cn(({verticalScrollDirection:l,horizontalScrollDirection:c})=>l||c?Cxe(n,l,c,i?.scrollStep):Ps))}function bxe(e){let i;return e===document?i=JY():i={top:e.scrollTop,left:e.scrollLeft},Mn(e,"scroll",R3({capture:!0})).pipe(kt(()=>{let n,o;if(e===document){let l=JY();n=l.top,o=l.left}else n=e.scrollTop,o=e.scrollLeft;let r=i.top-n,s=i.left-o;return{top:r,left:s}}))}function yxe(){let e=document.defaultView||window;return{width:e.innerWidth,height:e.innerHeight}}function JY(){let e=document.defaultView||window,i=document.documentElement,n=i.getBoundingClientRect(),o=-n.top||document.body.scrollTop||e.scrollY||i.scrollTop||0,r=-n.left||document.body.scrollLeft||e.scrollX||i.scrollLeft||0;return{top:o,left:r}}function Sxe(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)}function eZ(e){let i=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*i}function _xe(e){let i=getComputedStyle(e),n=C4(i,"transition-property"),o=n.find(c=>c==="transform"||c==="all");if(!o)return 0;let r=n.indexOf(o),s=C4(i,"transition-duration"),l=C4(i,"transition-delay");return eZ(s[r])+eZ(l[r])}function C4(e,i){return e.getPropertyValue(i).split(",").map(o=>o.trim())}function w4(e,i){return{layout:i,layoutItem:i.find(n=>n.id===e.id),gridItemRef:e}}function xxe(e,i){let{cols:n,gap:o}=e;return(i-Math.max(o*(n-1),0))/n}function uZ(e,i){let{rowHeight:n,layout:o,gap:r}=e;return n==="fit"?A3(o,i,r):n}function tZ(e,i,n){let{layout:o,gap:r}=e,s=uZ(e,n),l=xxe(e,i),c={};for(let u of o)c[u.id]={id:u.id,top:u.y*s+r*u.y,left:u.x*l+r*u.x,width:u.w*l+r*Math.max(u.w-1,0),height:u.h*s+r*Math.max(u.h-1,0)};return c}function iZ(e,i,n){return e.reduce((o,r)=>Math.max(o,(r.y+r.h)*i+Math.max(r.y+r.h-1,0)*n),0)}function x4(e){return{id:e.id,top:`${e.top}px`,left:`${e.left}px`,width:`${e.width}px`,height:`${e.height}px`}}function Dxe(e){return function(i){return x4(e.getItemRenderData(i))}}function Exe(e){return Dxe(e)}var nS={borderColor:"#ffa72678",gapColor:"transparent",rowColor:"transparent",columnColor:"transparent",borderWidth:1},Np=(()=>{let i=class i{get compactOnPropsChange(){return this._compactOnPropsChange}set compactOnPropsChange(o){this._compactOnPropsChange=M3(o)}get preventCollision(){return this._preventCollision}set preventCollision(o){this._preventCollision=M3(o)}get scrollSpeed(){return this._scrollSpeed}set scrollSpeed(o){this._scrollSpeed=oS(o,2)}get compactType(){return this._compactType}set compactType(o){this._compactType=o}get rowHeight(){return this._rowHeight}set rowHeight(o){this._rowHeight=o==="fit"?o:Math.max(1,Math.round(oS(o)))}get cols(){return this._cols}set cols(o){this._cols=Math.max(1,Math.round(oS(o)))}get layout(){return this._layout}set layout(o){this._layout=o}get gap(){return this._gap}set gap(o){this._gap=Math.max(oS(o),0)}get height(){return this._height}set height(o){this._height=typeof o=="number"?Math.max(o,0):null}get backgroundConfig(){return this._backgroundConfig}set backgroundConfig(o){this._backgroundConfig=o;let r=this.elementRef.nativeElement.classList;this._backgroundConfig!==null?r.add("ktd-grid-background"):r.remove("ktd-grid-background"),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")}get config(){return{cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:this.layout,preventCollision:this.preventCollision,gap:this.gap}}constructor(o,r,s,l,c){this.gridService=o,this.elementRef=r,this.viewContainerRef=s,this.renderer=l,this.ngZone=c,this.layoutUpdated=new Xe,this.dragStarted=new Xe,this.resizeStarted=new Xe,this.dragEnded=new Xe,this.resizeEnded=new Xe,this.gridItemResize=new Xe,this.scrollableParent=null,this._compactOnPropsChange=!0,this._preventCollision=!1,this._scrollSpeed=2,this._compactType="vertical",this._rowHeight=100,this._cols=6,this._gap=0,this._height=null,this._backgroundConfig=null,this.subscriptions=[]}ngOnChanges(o){this.rowHeight==="fit"&&this.height==null&&console.warn("KtdGridComponent: The @Input() height should not be null when using rowHeight 'fit'");let r=!1,s=!1;(o.compactType||o.cols||o.layout)&&(r=!0),(r||o.rowHeight||o.height||o.gap||o.backgroundConfig)&&(s=!0),r&&this.compactOnPropsChange&&this.compactLayout(),s&&this.calculateRenderData()}ngAfterContentInit(){this.initSubscriptions()}ngAfterContentChecked(){this.render()}resize(){this.calculateRenderData(),this.render()}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}compactLayout(){this.layout=E4(this.layout,this.compactType,this.cols)}getItemsRenderData(){return We({},this._gridItemsRenderData)}getItemRenderData(o){return this._gridItemsRenderData[o]}calculateRenderData(){let o=this.elementRef.nativeElement.getBoundingClientRect();this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?o.height:iZ(this.layout,this.rowHeight,this.gap)),this._gridItemsRenderData=tZ(this.config,o.width,this.gridCurrentHeight),this.setBackgroundCssVariables(uZ(this.config,this.gridCurrentHeight))}render(){this.renderer.setStyle(this.elementRef.nativeElement,"height",`${this.gridCurrentHeight}px`),this.updateGridItemsStyles()}setBackgroundCssVariables(o){let r=this.elementRef.nativeElement.style;this._backgroundConfig?(r.setProperty("--gap",this.gap+"px"),r.setProperty("--row-height",o+"px"),r.setProperty("--columns",`${this.cols}`),r.setProperty("--border-width",(this._backgroundConfig.borderWidth??nS.borderWidth)+"px"),r.setProperty("--border-color",this._backgroundConfig.borderColor??nS.borderColor),r.setProperty("--gap-color",this._backgroundConfig.gapColor??nS.gapColor),r.setProperty("--row-color",this._backgroundConfig.rowColor??nS.rowColor),r.setProperty("--column-color",this._backgroundConfig.columnColor??nS.columnColor)):(r.removeProperty("--gap"),r.removeProperty("--row-height"),r.removeProperty("--columns"),r.removeProperty("--border-width"),r.removeProperty("--border-color"),r.removeProperty("--gap-color"),r.removeProperty("--row-color"),r.removeProperty("--column-color"))}updateGridItemsStyles(){this._gridItems.forEach(o=>{let r=this._gridItemsRenderData[o.id];r==null?console.error(`Couldn't find the specified grid item for the id: ${o.id}`):o.setStyles(x4(r))})}setGridBackgroundVisible(o){let r=this.elementRef.nativeElement.classList;o?r.add("ktd-grid-background-visible"):r.remove("ktd-grid-background-visible")}initSubscriptions(){this.subscriptions=[this._gridItems.changes.pipe(Uh(this._gridItems),cn(o=>ur(...o.map(r=>r.dragStart$.pipe(kt(s=>({event:s,gridItem:r,type:"drag"})))),...o.map(r=>r.resizeStart$.pipe(kt(s=>({event:s,gridItem:r,type:"resize"}))))).pipe(gC(({event:r,gridItem:s,type:l})=>(this.ngZone.run(()=>(l==="drag"?this.dragStarted:this.resizeStarted).emit(w4(s,this.layout))),this.setGridBackgroundVisible(this._backgroundConfig?.show==="whenDragging"||this._backgroundConfig?.show==="always"),this.performDragSequence$(s,r,l).pipe(kt(c=>({layout:c,gridItem:s,type:l})))))))).subscribe(({layout:o,gridItem:r,type:s})=>{this.layout=o,this.calculateRenderData(),(s==="drag"?this.dragEnded:this.resizeEnded).emit(w4(r,o)),this.layoutUpdated.emit(o),this.setGridBackgroundVisible(this._backgroundConfig?.show==="always")})]}performDragSequence$(o,r,s){return new si(l=>{let c=_4(this.elementRef.nativeElement),u=_4(o.elementRef.nativeElement),d=typeof this.scrollableParent=="string"?document.getElementById(this.scrollableParent):this.scrollableParent;this.renderer.addClass(o.elementRef.nativeElement,"no-transitions"),this.renderer.addClass(o.elementRef.nativeElement,"ktd-grid-item-dragging");let h=Ft(We({},u),{left:u.left-c.left,top:u.top-c.top});this.createPlaceholderElement(h,o.placeholder);let p,g=this.ngZone.runOutsideAngular(()=>(d?this.gridService.mouseOrTouchMove$(document).pipe(kt(y=>({pointerX:rS(y),pointerY:sS(y)})),wxe(d,{scrollStep:this.scrollSpeed})):Ps).pipe(sg(S4(document))).subscribe()),f=this.ngZone.runOutsideAngular(()=>ur(zh([this.gridService.mouseOrTouchMove$(document),...d?[bxe(d).pipe(Uh({top:0,left:0}))]:[Bt({top:0,left:0})]])).pipe(sg(S4(document))).subscribe(([y,M])=>{y.preventDefault();let k=p||this.layout,G=s==="drag"?axe:lxe,{layout:J,draggedItemPos:$}=G(o,{layout:k,rowHeight:this.rowHeight,height:this.height,cols:this.cols,preventCollision:this.preventCollision,gap:this.gap},this.compactType,{pointerDownEvent:r,pointerDragEvent:y,gridElemClientRect:c,dragElemClientRect:u,scrollDifference:M});p=J,this.gridCurrentHeight=this.height??(this.rowHeight==="fit"?c.height:iZ(p,this.rowHeight,this.gap)),this._gridItemsRenderData=tZ({cols:this.cols,rowHeight:this.rowHeight,height:this.height,layout:p,preventCollision:this.preventCollision,gap:this.gap},c.width,c.height);let _e=We({},this._gridItemsRenderData[o.id]),Fe=x4(_e);if(this.placeholder.style.width=Fe.width,this.placeholder.style.height=Fe.height,this.placeholder.style.transform=`translateX(${Fe.left}) translateY(${Fe.top})`,this._gridItemsRenderData[o.id]=Ft(We({},$),{id:this._gridItemsRenderData[o.id].id}),this.setBackgroundCssVariables(this.rowHeight==="fit"?A3(p,c.height,this.gap):this.rowHeight),this.render(),s==="resize"){let Pe=k.find(nt=>nt.id===o.id),$e=p.find(nt=>nt.id===o.id);uxe(Pe,$e)||this.gridItemResize.emit({width:_e.width,height:_e.height,gridItemRef:w4(o,p).gridItemRef})}},y=>l.error(y),()=>{this.ngZone.run(()=>{this.renderer.removeClass(o.elementRef.nativeElement,"no-transitions"),this.renderer.removeClass(o.elementRef.nativeElement,"ktd-grid-item-dragging"),this.addGridItemAnimatingClass(o).subscribe(),this.destroyPlaceholder(),p?l.next(p.map(y=>({id:y.id,x:y.x,y:y.y,w:y.w,h:y.h,minW:y.minW,minH:y.minH,maxW:y.maxW,maxH:y.maxH}))):l.next(this.layout),l.complete()})}));return()=>{g.unsubscribe(),f.unsubscribe()}})}addGridItemAnimatingClass(o){return new si(r=>{let s=_xe(o.elementRef.nativeElement);if(s===0){r.next(),r.complete();return}this.renderer.addClass(o.elementRef.nativeElement,"ktd-grid-item-animating");let l=d=>{(!d||d.target===o.elementRef.nativeElement&&d.propertyName==="transform")&&(this.renderer.removeClass(o.elementRef.nativeElement,"ktd-grid-item-animating"),u(),clearTimeout(c),r.next(),r.complete())},c=setTimeout(l,s*1.5),u=this.renderer.listen(o.elementRef.nativeElement,"transitionend",l)})}createPlaceholderElement(o,r){this.placeholder=this.renderer.createElement("div"),this.placeholder.style.width=`${o.width}px`,this.placeholder.style.height=`${o.height}px`,this.placeholder.style.transform=`translateX(${o.left}px) translateY(${o.top}px)`,this.placeholder.classList.add("ktd-grid-item-placeholder"),this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder),r?(this.placeholderRef=this.viewContainerRef.createEmbeddedView(r.templateRef,r.data),this.placeholderRef.rootNodes.forEach(s=>this.placeholder.appendChild(s)),this.placeholderRef.detectChanges()):this.placeholder.classList.add("ktd-grid-item-placeholder-default")}destroyPlaceholder(){this.placeholder?.remove(),this.placeholderRef?.destroy(),this.placeholder=this.placeholderRef=null}};i.\u0275fac=function(r){return new(r||i)(at(R4),at(Tn),at(Vs),at(gs),at(vi))},i.\u0275cmp=Ai({type:i,selectors:[["ktd-grid"]],contentQueries:function(r,s,l){if(r&1&&jm(l,aS,5),r&2){let c;xr(c=Dr())&&(s._gridItems=c)}},inputs:{scrollableParent:"scrollableParent",compactOnPropsChange:"compactOnPropsChange",preventCollision:"preventCollision",scrollSpeed:"scrollSpeed",compactType:"compactType",rowHeight:"rowHeight",cols:"cols",layout:"layout",gap:"gap",height:"height",backgroundConfig:"backgroundConfig"},outputs:{layoutUpdated:"layoutUpdated",dragStarted:"dragStarted",resizeStarted:"resizeStarted",dragEnded:"dragEnded",resizeEnded:"resizeEnded",gridItemResize:"gridItemResize"},standalone:!0,features:[Qr([{provide:lZ,useFactory:Exe,deps:[i]}]),ul,Gi],ngContentSelectors:nZ,decls:1,vars:0,template:function(r,s){r&1&&(dk(),hk(0))},styles:[`ktd-grid{display:block;position:relative;width:100%}ktd-grid.ktd-grid-background:before{content:"";border:none;position:absolute;inset:0;z-index:0;transition:opacity .2s;opacity:0;background-image:repeating-linear-gradient(var(--border-color) 0 var(--border-width),var(--row-color) var(--border-width) calc(var(--row-height) - var(--border-width)),var(--border-color) calc(var(--row-height) - var(--border-width)) calc(var(--row-height)),var(--gap-color) calc(var(--row-height)) calc(var(--row-height) + var(--gap))),repeating-linear-gradient(90deg,var(--border-color) 0 var(--border-width),var(--column-color) var(--border-width) calc(100% - (var(--border-width) + var(--gap))),var(--border-color) calc(100% - (var(--border-width) + var(--gap))) calc(100% - var(--gap)),var(--gap-color) calc(100% - var(--gap)) 100%);background-size:calc((100% + var(--gap)) / var(--columns)) calc(var(--row-height) + var(--gap));background-position:0 0}ktd-grid.ktd-grid-background.ktd-grid-background-visible:before{opacity:1}ktd-grid ktd-grid-item.ktd-grid-item-dragging,ktd-grid ktd-grid-item.ktd-grid-item-animating{z-index:1000}ktd-grid ktd-grid-item.no-transitions{transition:none!important}ktd-grid .ktd-grid-item-placeholder{position:absolute;z-index:0;transition-property:transform;transition:all .15s ease}ktd-grid .ktd-grid-item-placeholder-default{background-color:#8b0000;opacity:.6}
`],encapsulation:2,changeDetection:0});let e=i;return e})(),F3=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=$o({type:i}),i.\u0275inj=Uo({providers:[R4]});let e=i;return e})();function Ixe(e,i){if(e&1){let n=mn();He(0,"div",2)(1,"span",3),_t("click",function(){Gt(n);let r=Dt();return Wt(r.hideModal())}),Ze(2,"\xD7"),Ne(),He(3,"h2"),Ze(4),Ne(),He(5,"skp-markdown-editor",4),so("contentChange",function(r){Gt(n);let s=Dt();return ro(s.data,r)||(s.data=r),Wt(r)}),_t("contentChange",function(r){Gt(n);let s=Dt();return Wt(s.sendData(r))}),Ne()()}if(e&2){let n=Dt();et(4),no("Date - ",n.data==null?null:n.data.id,""),et(),oo("content",n.data)}}var hZ=(()=>{let i=class i{constructor(){this.isVisible=!1,this.isVisibleChange=new Xe,this.dataChange=new Xe}hideModal(){this.isVisible=!1,this.isVisibleChange.emit(this.isVisible)}sendData(o){console.log("event----",o),this.dataChange.emit(o)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=Ai({type:i,selectors:[["skp-editor-modal"]],inputs:{isVisible:"isVisible",data:"data"},outputs:{isVisibleChange:"isVisibleChange",dataChange:"dataChange"},standalone:!0,features:[Gi],decls:2,vars:3,consts:[[1,"modal"],["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"close-btn",3,"click"],[3,"contentChange","content"]],template:function(r,s){r&1&&(He(0,"div",0),ai(1,Ixe,6,2,"div",1),Ne()),r&2&&(_g("show",s.isVisible),et(),ct("ngIf",s.isVisible))},dependencies:[ov,wn,pr],styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center;z-index:999999999999}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:0 10px;border-radius:8px;box-shadow:0 4px 8px #0003;position:relative;width:90%;min-height:90%}.close-btn[_ngcontent-%COMP%]{color:#333;float:right;font-size:18px;cursor:pointer;position:absolute;right:10px}.close-btn[_ngcontent-%COMP%]:hover{color:red}"]});let e=i;return e})();var Mxe=()=>[2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035];function Rxe(e,i){if(e&1&&(He(0,"option",8),Ze(1),Ne()),e&2){let n=i.$implicit;ct("value",n),et(),Pn(n)}}function kxe(e,i){if(e&1&&(He(0,"option",8),Ze(1),Ne()),e&2){let n=i.$implicit;ct("value",n.id),et(),Pn(n.value)}}function Axe(e,i){if(e&1){let n=mn();He(0,"ktd-grid-item",9)(1,"div",10)(2,"div",11)(3,"a",12),_t("click",function(){let r=Gt(n).$implicit,s=Dt();return Wt(s.copyContent(r.id))}),Pt(4,"i",13),Ne(),He(5,"a",14),_t("click",function(){let r=Gt(n).$implicit,s=Dt();return Wt(s.enableEdit(r.id))})("blur",function(){let r=Gt(n).$implicit,s=Dt();return Wt(s.disableEdit(r.id))}),Pt(6,"i",15),Ne()(),Pt(7,"div",16),He(8,"div",17)(9,"div",18),Ze(10),Ne(),He(11,"div",19),Ze(12),Ne()()()()}if(e&2){let n=i.$implicit,o=Dt();ct("id",n.id)("dragStartThreshold",o.dragStartThreshold)("draggable",!o.disableDrag)("resizable",!o.disableResize),et(),ix(n.id),Wm("--base-hue",o.layoutMore[n.id].hue),et(6),ct("innerHTML",o.markdown.render(o.layoutMore[n.id].content),Hm),et(3),Pn(n.id.split("-").slice(-1)),et(2),Pn(o.getDayName(n.id))}}Ep.registerLanguage("markdown",H2);function Fxe(e,i){let n=[...e],o=e.findIndex(r=>i(r));return o>-1&&n.splice(o,1),n}var pZ=(()=>{let i=class i{constructor(o,r,s,l){this.ngZone=o,this.elementRef=r,this.document=s,this.browserDB=l,this.dragStartThreshold=0,this.autoScroll=!0,this.disableDrag=!1,this.disableResize=!1,this.disableRemove=!1,this.autoResize=!0,this.preventCollision=!1,this.isDragging=!1,this.isResizing=!1,this.gap=10,this.cols=12,this.rowHeight=100,this.compactType="vertical",this.layout=[],this.layoutMore={},this.trackById=k3,this.month=new Date().getMonth()+1,this.year=new Date().getFullYear(),this.isEditable=!1,this.isModalVisible=!1,this.markdown=new Ay({highlight:(c,u)=>{if(u&&Ep.getLanguage(u))try{return`<pre class="hljs"><code>${Ep.highlight(c,{language:u}).value}</code></pre>`}catch{}return`<pre class="hljs"><code>${this.markdown.utils.escapeHtml(c)}</code></pre>`}})}ngOnInit(){this.resizeSubscription=ur(Mn(window,"resize"),Mn(window,"orientationchange")).pipe(Wh(50),bi(()=>this.autoResize)).subscribe(()=>{this.grid.resize()})}onWindowLoad(o){this.getCalFromDB(),setTimeout(()=>{this.grid.resize()},1e3)}generateLayout(o,r){let s=this.getDatesForMonth(o,r),l=[0,3,6,9],c=0,u=0,d=s.map((h,p)=>{let g=p+1,f={id:h,x:l[u],y:c,w:3,h:2};return u++,g%4===0&&(c++,u=0),f});this.layout=[...d],this.layout.forEach(h=>{this.layoutMore[h.id]={hue:this.randomHue(),content:""}})}ngOnDestroy(){this.resizeSubscription.unsubscribe()}onDragStarted(o){this.isDragging=!0}onResizeStarted(o){this.isResizing=!0}onDragEnded(o){this.isDragging=!1}onResizeEnded(o){this.isResizing=!1}onLayoutUpdated(o){this.layout=[...o]}onAutoScrollChange(o){this.autoScroll=o}onDisableDragChange(o){this.disableDrag=o}onDisableResizeChange(o){this.disableResize=o}onDisableRemoveChange(o){this.disableRemove=o}onAutoResizeChange(o){this.autoResize=o}onPreventCollisionChange(o){this.preventCollision=o}stopEventPropagation(o){o.preventDefault(),o.stopPropagation()}removeItem(o){this.layout=Fxe(this.layout,r=>r.id===o)}copyContent(o){let r=this.layoutMore[o].content;navigator.clipboard.writeText(r).then(()=>{alert(o+" Copied!")}).catch(s=>{console.error("Failed to copy text to clipboard:",s)})}enableEdit(o){this.isModalVisible=!0,this.isEditable=!0,this.selectedGridID=o,this.selectedGridContent=this.layoutMore[o].content,this.modalData={id:this.selectedGridID,value:this.selectedGridContent}}disableEdit(o){this.isEditable=!1,this.selectedGridID=o}changeContent(){this.selectedGridID&&(this.layoutMore[this.selectedGridID].content=this.selectedGridContent)}listenDataFromModal(o){this.selectedGridContent=o.value,this.changeContent()}changeCalender(o){this.selectedGridID="",this.selectedGridContent="",this.getCalFromDB()}getCalFromDB(){let o=this.year+"-"+this.month;this.browserDB.getCalItem(o).then(r=>{if(r)this.layout=r.content.layout,this.layoutMore=r.content.layoutMore;else{this.generateLayout(this.year,this.month);let s={layout:this.layout,layoutMore:this.layoutMore};setTimeout(()=>{this.browserDB.addCalItem({id:o,content:s})},1e3)}})}save(){let o=this.year+"-"+this.month,r={layout:this.layout,layoutMore:this.layoutMore};this.browserDB.getCalItem(o).then(s=>{s&&this.browserDB.deleteCalItem(o).then(l=>{this.browserDB.addCalItem({id:o,content:r}),alert("Saved!!")})})}get months(){return[{id:1,value:"January"},{id:2,value:"February"},{id:3,value:"March"},{id:4,value:"April"},{id:5,value:"May"},{id:6,value:"June"},{id:7,value:"July"},{id:8,value:"August"},{id:9,value:"September"},{id:10,value:"October"},{id:11,value:"November"},{id:12,value:"December"}]}randomHue(){let o=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),s=Math.floor(Math.random()*256);return Math.floor(Math.random()*256)}getDatesForMonth(o,r){let s=[],l=new Date(o,r,0).getDate(),c=u=>u<10?"0"+u:u;for(let u=1;u<=l;u++)s.push(o+"-"+c(r)+"-"+c(u));return s}getDayName(o="2024-11-01"){let r=new Date(o);return new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(r)}};i.\u0275fac=function(r){return new(r||i)(at(vi),at(Tn),at(vo),at(ns))},i.\u0275cmp=Ai({type:i,selectors:[["skp-task-card"]],viewQuery:function(r,s){if(r&1&&Kl(Np,7),r&2){let l;xr(l=Dr())&&(s.grid=l.first)}},hostBindings:function(r,s){r&1&&_t("load",function(c){return s.onWindowLoad(c)},!1,zm)},standalone:!0,features:[Gi],decls:18,vars:16,consts:[["name","year",3,"change","ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","month",3,"change","ngModelChange","ngModel"],["type","button",3,"click"],[1,"icon-save"],[3,"isVisibleChange","dataChange","isVisible","data"],["scrollSpeed","4",3,"dragStarted","resizeStarted","dragEnded","resizeEnded","layoutUpdated","gap","cols","rowHeight","layout","compactType","preventCollision","scrollableParent"],[3,"id","dragStartThreshold","draggable","resizable",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[3,"id","dragStartThreshold","draggable","resizable"],[1,"grid-item-content"],[1,"header"],[3,"click"],[1,"icon-content_copy"],[3,"click","blur"],[1,"icon-fullscreen"],[1,"content",3,"innerHTML"],[1,"footer"],[1,"date"],[1,"day"]],template:function(r,s){r&1&&(Ze(0,"Filter: "),Pt(1,"br"),Ze(2,`
Year: `),He(3,"select",0),_t("change",function(){return s.changeCalender("month")}),so("ngModelChange",function(c){return ro(s.year,c)||(s.year=c),c}),ai(4,Rxe,2,2,"option",1),Ne(),Ze(5,` Month:
`),He(6,"select",2),_t("change",function(){return s.changeCalender("month")}),so("ngModelChange",function(c){return ro(s.month,c)||(s.month=c),c}),ai(7,kxe,2,2,"option",1),Ne(),Ze(8," \xA0 "),He(9,"button",3),_t("click",function(){return s.save()}),Pt(10,"i",4),Ze(11," Save "),Ne(),Pt(12,"hr")(13,"br"),He(14,"skp-editor-modal",5),so("isVisibleChange",function(c){return ro(s.isModalVisible,c)||(s.isModalVisible=c),c})("dataChange",function(c){return ro(s.modalData,c)||(s.modalData=c),c}),_t("dataChange",function(c){return s.listenDataFromModal(c)}),Ne(),He(15,"div")(16,"ktd-grid",6),_t("dragStarted",function(c){return s.onDragStarted(c)})("resizeStarted",function(c){return s.onResizeStarted(c)})("dragEnded",function(c){return s.onDragEnded(c)})("resizeEnded",function(c){return s.onResizeEnded(c)})("layoutUpdated",function(c){return s.onLayoutUpdated(c)}),ai(17,Axe,13,11,"ktd-grid-item",7),Ne()()),r&2&&(et(3),oo("ngModel",s.year),et(),ct("ngForOf",No(15,Mxe)),et(2),oo("ngModel",s.month),et(),ct("ngForOf",s.months),et(7),oo("isVisible",s.isModalVisible)("data",s.modalData),et(2),ct("gap",s.gap)("cols",s.cols)("rowHeight",s.rowHeight)("layout",s.layout)("compactType",s.compactType)("preventCollision",s.preventCollision)("scrollableParent",s.autoScroll?s.document:null),et(),ct("ngForOf",s.layout)("ngForTrackBy",s.trackById))},dependencies:[F3,Np,aS,wn,Xr,yo,bG,SG,Nx,js,vs,hZ],styles:[".grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;background:#ccc;border:10px solid transparent;box-shadow:0 0 10px #0000001a;border-image-source:url(/assets/images/border-image-css-and-svg.svg);border-image-slice:15;border-image-width:15px;border-image-repeat:round;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;padding:5px;background-color:hsl(var(--base-hue),50%,50%);color:hsl(calc(var(--base-hue) + 180),30%,95%)}.grid-item-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#000;color:#fff;opacity:.5;padding:5px;position:absolute;z-index:1111;top:-2px;right:0;display:none;border-radius:2% 2% 2% 5px}.grid-item-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.grid-item-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.2}.grid-item-content[_ngcontent-%COMP%]:hover   .header[_ngcontent-%COMP%]{display:inline-block}.grid-item-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto;width:100%;height:100%}.grid-item-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.grid-item-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:calc(100% - 30px);position:absolute;bottom:15px;display:flex;justify-content:space-between;align-items:end}.grid-item-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{background-color:#00000080;padding:10px;border-radius:50%;font-weight:700}.grid-item-content[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{background-color:#0006;padding:4px;line-height:1;border-radius:2px}"]});let e=i;return e})();function Txe(e,i){if(e&1){let n=mn();He(0,"div",11),_t("mousedown",function(r){Gt(n);let s=Dt(3);return Wt(s.stopEventPropagation(r))})("click",function(){Gt(n);let r=Dt(2).$implicit,s=Dt();return Wt(s.removeItem(r.id))}),Ne()}}function Pxe(e,i){if(e&1&&ai(0,Txe,1,0,"div",10),e&2){let n=Dt(2);ct("ngIf",!n.disableRemove)}}function Lxe(e,i){if(e&1){let n=mn();He(0,"ktd-grid-item",7)(1,"div",8),_t("click",function(){let r=Gt(n).$implicit,s=Dt();return Wt(s.enableEdit(r.id))})("blur",function(){let r=Gt(n).$implicit,s=Dt();return Wt(s.disableEdit(r.id))}),Ze(2),Ne(),ai(3,Pxe,1,1,"ng-template",9),Ne()}if(e&2){let n=i.$implicit,o=Dt();ct("id",n.id)("dragStartThreshold",o.dragStartThreshold)("draggable",!o.disableDrag)("resizable",!o.disableResize),et(),ix(n.id),Wm("--base-hue",o.layoutMore[n.id].hue),et(),no(" ",o.layoutMore[n.id].content," ")}}function Oxe(e,i){let n=[...e],o=e.findIndex(r=>i(r));return o>-1&&n.splice(o,1),n}var gZ=(()=>{let i=class i{constructor(o,r,s){this.ngZone=o,this.elementRef=r,this.document=s,this.dragStartThreshold=0,this.autoScroll=!0,this.disableDrag=!1,this.disableResize=!1,this.disableRemove=!1,this.autoResize=!0,this.preventCollision=!1,this.isDragging=!1,this.isResizing=!1,this.gap=20,this.cols=12,this.rowHeight=100,this.compactType="vertical",this.layout=[{id:"0",x:0,y:0,w:2,h:3},{id:"1",x:2,y:0,w:2,h:3},{id:"2",x:4,y:0,w:2,h:3},{id:"3",x:6,y:0,w:2,h:3},{id:"4",x:8,y:0,w:2,h:3},{id:"5",x:10,y:0,w:2,h:3},{id:"6",x:0,y:1,w:2,h:3},{id:"7",x:2,y:1,w:2,h:3},{id:"8",x:4,y:1,w:2,h:3},{id:"9",x:6,y:1,w:2,h:3},{id:"10",x:8,y:1,w:2,h:3},{id:"11",x:10,y:1,w:2,h:3},{id:"12",x:0,y:2,w:2,h:3},{id:"13",x:2,y:2,w:2,h:3},{id:"14",x:4,y:2,w:2,h:3},{id:"15",x:6,y:2,w:2,h:3},{id:"16",x:8,y:2,w:2,h:3},{id:"17",x:10,y:2,w:2,h:3}],this.layoutMore={},this.trackById=k3,this.isEditable=!1}ngOnInit(){this.resizeSubscription=ur(Mn(window,"resize"),Mn(window,"orientationchange")).pipe(Wh(50),bi(()=>this.autoResize)).subscribe(()=>{this.grid.resize()}),this.layout.forEach(o=>{this.layoutMore[o.id]={hue:this.randomHue(),content:""}})}ngOnDestroy(){this.resizeSubscription.unsubscribe()}onDragStarted(o){this.isDragging=!0}onResizeStarted(o){this.isResizing=!0}onDragEnded(o){this.isDragging=!1}onResizeEnded(o){this.isResizing=!1}onLayoutUpdated(o){console.log("on layout updated",o)}onAutoScrollChange(o){this.autoScroll=o}onDisableDragChange(o){this.disableDrag=o}onDisableResizeChange(o){this.disableResize=o}onDisableRemoveChange(o){this.disableRemove=o}onAutoResizeChange(o){this.autoResize=o}onPreventCollisionChange(o){this.preventCollision=o}stopEventPropagation(o){o.preventDefault(),o.stopPropagation()}removeItem(o){this.layout=Oxe(this.layout,r=>r.id===o)}enableEdit(o){this.isEditable=!0,this.selectedGridID=o,this.selectedGridContent=this.layoutMore[o].content}disableEdit(o){this.isEditable=!1,this.selectedGridID=o}changeContent(){this.selectedGridID&&(console.log("content",this.selectedGridContent),this.layoutMore[this.selectedGridID].content=this.selectedGridContent)}randomHue(){let o=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),s=Math.floor(Math.random()*256);return Math.floor(Math.random()*256)}};i.\u0275fac=function(r){return new(r||i)(at(vi),at(Tn),at(vo))},i.\u0275cmp=Ai({type:i,selectors:[["skp-feedbacks"]],viewQuery:function(r,s){if(r&1&&Kl(Np,7),r&2){let l;xr(l=Dr())&&(s.grid=l.first)}},standalone:!0,features:[Gi],decls:37,vars:12,consts:[["src","https://i.imgur.com/vZjWi96.png","alt","dummy"],["type","text","disabled","",3,"ngModelChange","ngModel"],[3,"ngModelChange","keyup","disabled","ngModel"],["type","button","value","Save"],["scrollSpeed","4",3,"dragStarted","resizeStarted","dragEnded","resizeEnded","layoutUpdated","gap","cols","rowHeight","layout","compactType","preventCollision","scrollableParent"],[3,"id","dragStartThreshold","draggable","resizable",4,"ngFor","ngForOf","ngForTrackBy"],["href","https://www.npmjs.com/package/@katoid/angular-grid-layout?activeTab=readme"],[3,"id","dragStartThreshold","draggable","resizable"],[1,"grid-item-content",3,"click","blur"],["ktdGridItemPlaceholder",""],["class","grid-item-remove-handle",3,"mousedown","click",4,"ngIf"],[1,"grid-item-remove-handle",3,"mousedown","click"]],template:function(r,s){r&1&&(He(0,"p"),Ze(1,"Candidates feedback"),Ne(),He(2,"p"),Ze(3,"Project feedback"),Ne(),He(4,"p"),Ze(5,"-Google Tag Manager"),Ne(),He(6,"p"),Ze(7,"-Markdown Editor"),Ne(),He(8,"p"),Ze(9,"-JS Tree"),Ne(),He(10,"p"),Ze(11,"-Material UI"),Ne(),He(12,"p"),Ze(13,"-Dynamic Grid Layout"),Ne(),He(14,"p"),Ze(15,"-npm install -D tailwindcss"),Ne(),He(16,"p"),Ze(17,"-npm install tour guide for learning..."),Ne(),Pt(18,"img",0),Ze(19,` - new updates in angular 13, 17, 18, 19 in Hindi
- new updates in javascript in Hindi
- new updates in node in Hindi `),He(20,"p"),Ze(21,"All Tasks Date Wise"),Ne(),He(22,"input",1),so("ngModelChange",function(c){return ro(s.selectedGridID,c)||(s.selectedGridID=c),c}),Ne(),Pt(23,"br"),He(24,"textarea",2),so("ngModelChange",function(c){return ro(s.selectedGridContent,c)||(s.selectedGridContent=c),c}),_t("keyup",function(){return s.changeContent()}),Ze(25,"content"),Ne(),Pt(26,"br")(27,"input",3)(28,"br"),He(29,"div")(30,"ktd-grid",4),_t("dragStarted",function(c){return s.onDragStarted(c)})("resizeStarted",function(c){return s.onResizeStarted(c)})("dragEnded",function(c){return s.onDragEnded(c)})("resizeEnded",function(c){return s.onResizeEnded(c)})("layoutUpdated",function(c){return s.onLayoutUpdated(c)}),ai(31,Lxe,4,9,"ktd-grid-item",5),Ne()(),He(32,"div")(33,"a",6),Ze(34,"https://www.npmjs.com/package/@katoid/angular-grid-layout?activeTab=readme"),Ne(),Pt(35,"br"),Ze(36,` https://stackblitz.com/edit/angular-grid-layout-playground?file=src%2Fapp%2Fplayground%2Fplayground.component.ts
`),Ne()),r&2&&(et(22),oo("ngModel",s.selectedGridID),et(2),ct("disabled",!s.isEditable),oo("ngModel",s.selectedGridContent),et(6),ct("gap",s.gap)("cols",s.cols)("rowHeight",s.rowHeight)("layout",s.layout)("compactType",s.compactType)("preventCollision",s.preventCollision)("scrollableParent",s.autoScroll?s.document:null),et(),ct("ngForOf",s.layout)("ngForTrackBy",s.trackById))},dependencies:[F3,Np,aS,aZ,wn,Xr,pr,yo,Ql,js,vs],styles:[".grid-item-content[_ngcontent-%COMP%]{box-sizing:border-box;background:#ccc;border:1px solid;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;background-color:hsl(var(--base-hue),50%,50%);color:hsl(calc(var(--base-hue) + 180),30%,95%)}"]});let e=i;return e})();var fZ=(()=>{let i=class i{constructor(o){this.http=o}readAirNews(){let r=`https://api.codetabs.com/v1/proxy/?quest=https://www.newsonair.gov.in/feed/?_=${+new Date}`;return this.http.get(r)}readYcombinatorNews(){return this.http.get("https://api.codetabs.com/v1/proxy/?quest=https://news.ycombinator.com/newest")}};i.\u0275fac=function(r){return new(r||i)(Et(Er))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Bxe=["iframe"];function Vxe(e,i){if(e&1&&(He(0,"li")(1,"b"),Ze(2),Ne(),Pt(3,"br")(4,"p",7),He(5,"a",8),Ze(6),Ne()()),e&2){let n,o=i.$implicit;et(2),Pn(o.title),et(2),ct("innerHTML",o.description,Hm),et(),ct("href",o.link,hr),et(),Pn((n=o.author)!==null&&n!==void 0?n:o.pubDate)}}function Hxe(e,i){if(e&1&&(He(0,"ol"),ai(1,Vxe,7,4,"li",6),Ne()),e&2){let n=i.ngIf;et(),ct("ngForOf",n)}}function zxe(e,i){if(e&1&&(He(0,"div",5)(1,"h5"),Ze(2),Ne(),ai(3,Hxe,2,1,"ol",2),Ne()),e&2){let n=i.ngIf;et(2),Pn(n.category),et(),ct("ngIf",n.item)}}function Gxe(e,i){if(e&1&&(Hs(0),ai(1,zxe,4,2,"div",4),zs()),e&2){let n=Dt();et(),ct("ngIf",n.detailNews==null||n.detailNews.rss==null?null:n.detailNews.rss.channel)}}function Wxe(e,i){e&1&&(Hs(0),Pt(1,"div",9),zs())}var mZ=(()=>{let i=class i{constructor(o){this.newService=o,this.detailNews="",this.isAirNewsLoaded=!1,this.isSoftNewsLoaded=!1,this.showLoader=!1}readHacker(){this.isAirNewsLoaded=!1,this.showLoader=!0;let o=this.iframeRef.nativeElement;this.newService.readYcombinatorNews().pipe(eo(r=>Bt(r.error.text))).subscribe(r=>{this.isSoftNewsLoaded=!0,this.showLoader=!1,o.srcdoc=r?.replace(/<head([^>]*)>/i,`<head$1>
          <base href="https://news.ycombinator.com/">
          <style>body center {display: flex;} body center table {width: 100%;} </style>
          <script>
          // X-Frame-Bypass navigation event handlers
          document.addEventListener('click', e => {
            if (frameElement && document.activeElement && document.activeElement.href) {
              e.preventDefault();
              //frameElement.load(document.activeElement.href);
              window.open(document.activeElement.href, '_blank');
            }
          })
          document.addEventListener('submit', e => {
            if (frameElement && document.activeElement && document.activeElement.form && document.activeElement.form.action) {
              e.preventDefault()
              if (document.activeElement.form.method === 'post')
                frameElement.load(document.activeElement.form.action, {method: 'post', body: new FormData(document.activeElement.form)})
              else
                frameElement.load(document.activeElement.form.action + '?' + new URLSearchParams(new FormData(document.activeElement.form)))
            }
          })
          <\/script>`)})}readAir(){this.isSoftNewsLoaded=!1,this.showLoader=!0,this.newService.readAirNews().pipe(eo(o=>Bt(o.error.text))).subscribe(o=>{this.isAirNewsLoaded=!0,this.showLoader=!1;let s=new DOMParser().parseFromString(o?.trim(),"text/xml");this.detailNews=this.xml2json(s)})}xml2json(o){try{let u={};if(o.children.length>0)for(var r=0;r<o.children.length;r++){var s=o.children.item(r),l=s.nodeName;if(typeof u[l]>"u")u[l]=this.xml2json(s);else{if(typeof u[l].push>"u"){var c=u[l];u[l]=[],u[l].push(c)}u[l].push(this.xml2json(s))}}else u=o.textContent;return u}catch(u){console.log(u.message)}}};i.\u0275fac=function(r){return new(r||i)(at(fZ))},i.\u0275cmp=Ai({type:i,selectors:[["skp-news"]],viewQuery:function(r,s){if(r&1&&Kl(Bxe,5),r&2){let l;xr(l=Dr())&&(s.iframeRef=l.first)}},standalone:!0,features:[Gi],decls:10,vars:3,consts:[["iframe",""],[3,"click"],[4,"ngIf"],["frameborder","0",1,"iframeLoading",3,"hidden"],["class","news-container",4,"ngIf"],[1,"news-container"],[4,"ngFor","ngForOf"],[3,"innerHTML"],["target","_blank",3,"href"],[1,"loader"]],template:function(r,s){if(r&1){let l=mn();He(0,"nav")(1,"a",1),_t("click",function(){return Gt(l),Wt(s.readAir())}),Ze(2,"Air News"),Ne(),Ze(3," | "),He(4,"a",1),_t("click",function(){return Gt(l),Wt(s.readHacker())}),Ze(5,"Hacker News"),Ne()(),ai(6,Gxe,2,1,"ng-container",2),Pt(7,"iframe",3,0),ai(9,Wxe,2,0,"ng-container",2)}r&2&&(et(6),ct("ngIf",s.isAirNewsLoaded),et(),ct("hidden",!s.isSoftNewsLoaded),et(2),ct("ngIf",s.showLoader))},dependencies:[wn,Xr,pr],styles:["nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:pink}.news-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid grey;padding:10px;margin-bottom:10px}.loader[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 25px);left:calc(50% - 25px);width:50px;height:50px;background-color:#333;border-radius:50%;animation:_ngcontent-%COMP%_loader 1s infinite ease-in-out}@keyframes _ngcontent-%COMP%_loader{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.iframeLoading[_ngcontent-%COMP%]{width:99vw;height:85vh;margin:0;padding:0}"]});let e=i;return e})();var vZ=(()=>{let i=class i{constructor(o){this.http=o,this.clientId="49925c384146f5c"}uploadFile(o){let r=new Ji({Authorization:`Client-ID ${this.clientId}`});return this.http.post("https://api.imgur.com/3/image",o,{headers:r})}};i.\u0275fac=function(r){return new(r||i)(Et(Er))},i.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var Uxe=e=>({"icon-done_all":e}),$xe=()=>[10,20];function qxe(e,i){if(e&1){let n=mn();He(0,"div"),Pt(1,"i",7),He(2,"p")(3,"a",1),_t("click",function(){Gt(n);let r=Dt(2);return Wt(r.triggerFileInput())}),He(4,"b"),Ze(5,"Browse Files"),Ne()(),Ze(6," / Drag & Drop your files here "),Ne(),He(7,"p"),Ze(8,"PNG, JPG, GIF up to 10MB"),Ne()()}}function Kxe(e,i){if(e&1&&Pt(0,"img",10),e&2){let n=Dt(3);ct("src",n.previewUrl,hr)}}function Yxe(e,i){if(e&1){let n=mn();He(0,"div"),ai(1,Kxe,1,1,"img",8),He(2,"p"),Ze(3),He(4,"i",9),_t("click",function(){Gt(n);let r=Dt(2);return Wt(r.clear())}),Ne()()()}if(e&2){let n=Dt(2);et(),ct("ngIf",n.previewUrl),et(2),no(" ",n.selectedFile.name," ")}}function Zxe(e,i){if(e&1){let n=mn();He(0,"p"),Ze(1," Uploaded Image: "),He(2,"a",11),Ze(3),Ne(),He(4,"i",12),_t("click",function(){Gt(n);let r=Dt(2);return Wt(r.copyToClipboard(r.imgurLink))}),Ne()()}if(e&2){let n=Dt(2);et(2),ct("href",n.imgurLink,hr),et(),Pn(n.imgurLink),et(),ct("ngClass",Iz(3,Uxe,n.isCopied))}}function Qxe(e,i){if(e&1){let n=mn();Hs(0),He(1,"div",3)(2,"div",4),_t("dragover",function(r){Gt(n);let s=Dt();return Wt(s.onDragOver(r))})("drop",function(r){Gt(n);let s=Dt();return Wt(s.onDrop(r))})("dragleave",function(r){Gt(n);let s=Dt();return Wt(s.onDragLeave(r))})("paste",function(r){Gt(n);let s=Dt();return Wt(s.onPaste(r))}),ai(3,qxe,9,0,"div",2)(4,Yxe,5,2,"div",2),Ne(),He(5,"input",5),_t("change",function(r){Gt(n);let s=Dt();return Wt(s.onFileChange(r))}),Ne(),He(6,"button",6),_t("click",function(){Gt(n);let r=Dt();return Wt(r.uploadImage())}),Ze(7,"Upload"),Ne(),ai(8,Zxe,5,5,"p",2),Ne(),zs()}if(e&2){let n=Dt();et(2),_g("dragover",n.isDragOver),et(),ct("ngIf",!n.selectedFile),et(),ct("ngIf",n.selectedFile),et(2),ct("disabled",!n.selectedFile&&!n.imgurLink),et(2),ct("ngIf",n.imgurLink)}}function Xxe(e,i){if(e&1&&(Hs(0),Pt(1,"ag-grid-angular",13),zs()),e&2){let n=Dt();et(),ct("defaultColDef",n.defaultColDef)("columnDefs",n.columnDefs)("rowData",n.itemList)("rowClassRules",n.rowClassRules)("pagination",!0)("paginationPageSize",10)("paginationPageSizeSelector",No(7,$xe))}}var CZ=(()=>{let i=class i{constructor(o,r){this.imgur=o,this.browserDB=r,this.isDragOver=!1,this.previewUrl=null,this.selectedFile=null,this.imgurLink="",this.isCopied=!1,this.isViewList=!1,this.itemList=[],this.rowSelection="multiple",this.rowClassRules={"red-row-sraban":s=>s.data.make=="Toyata"},this.defaultColDef={flex:1,filter:!0,floatingFilter:!0},this.columnDefs=[{field:"name"},{field:"uri",cellRenderer:s=>`<img src="${s.value}" height="50"/>`,filter:!1,sortable:!1},{field:"time"}]}triggerFileInput(){document.getElementById("fileInput")?.click()}onDragOver(o){o.preventDefault(),this.isDragOver=!0}onDragLeave(o){o.preventDefault(),this.isDragOver=!1}onDrop(o){o.preventDefault(),this.isDragOver=!1,o.dataTransfer&&o.dataTransfer.files&&o?.dataTransfer?.files?.[0]&&this.onFileSelected(o.dataTransfer.files[0])}onPaste(o){if(o.clipboardData){let r=o.clipboardData.items;if(r.length>0&&r[0].type.startsWith("image/")){let s=r[0].getAsFile();this.onFileSelected(s)}}}onFileChange(o){let r=o.target;r?.files?.[0]&&this.onFileSelected(r.files[0])}onFileSelected(o){if(this.imgurLink="",o)if(this.selectedFile=o,this.selectedFile.type.startsWith("image/")){let r=new FileReader;r.onload=s=>{this.previewUrl=s.target?.result},r.readAsDataURL(this.selectedFile)}else alert("Please select a valid image file.")}clear(){this.previewUrl="",this.selectedFile=null}uploadImage(){if(!this.selectedFile){alert("Please select a file first.");return}let o=new FormData;o.append("image",this.selectedFile),o.append("type","file"),this.imgur.uploadFile(o).subscribe(r=>{this.imgurLink=r.data.link,this.browserDB.addImgItem({name:this.selectedFile?.name,uri:this.imgurLink,time:new Date().toISOString().split("T")[0]}),this.selectedFile=null},r=>{console.error("Error uploading image:",r),alert("Failed to upload image.")})}copyToClipboard(o){navigator.clipboard.writeText(o).then(()=>{console.log("Text copied to clipboard:",o),this.isCopied=!0,setTimeout(()=>{this.isCopied=!1},1e3)}).catch(r=>{console.error("Failed to copy text to clipboard:",r)})}onWindowLoad(o){setTimeout(()=>{this.onInit()},500)}onInit(){this.browserDB.retrievingAllImage().then(o=>{this.itemList=o})}};i.\u0275fac=function(r){return new(r||i)(at(vZ),at(ns))},i.\u0275cmp=Ai({type:i,selectors:[["skp-snapshots"]],hostBindings:function(r,s){r&1&&_t("load",function(c){return s.onWindowLoad(c)},!1,zm)},standalone:!0,features:[Gi],decls:8,vars:2,consts:[[1,"tab"],[3,"click"],[4,"ngIf"],[1,"file-upload-container"],[1,"dropzone",3,"dragover","drop","dragleave","paste"],["type","file","id","fileInput","hidden","",3,"change"],[3,"click","disabled"],[1,"icon-add_photo_alternate",2,"font-size","100px","display","block"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],[1,"icon-dangerous",3,"click"],["alt","Image Preview",1,"image-preview",3,"src"],["target","_blank",3,"href"],[1,"copy","icon-content_copy",3,"click","ngClass"],[1,"ag-theme-material",2,"width","100%","height","350px","border","1px solid #cccccc50",3,"defaultColDef","columnDefs","rowData","rowClassRules","pagination","paginationPageSize","paginationPageSizeSelector"]],template:function(r,s){r&1&&(He(0,"div",0)(1,"a",1),_t("click",function(){return s.isViewList=!1}),Ze(2,"Upload"),Ne(),Ze(3," | "),He(4,"a",1),_t("click",function(){return s.isViewList=!0}),Ze(5,"List"),Ne()(),ai(6,Qxe,9,6,"ng-container",2)(7,Xxe,2,8,"ng-container",2)),r&2&&(et(6),ct("ngIf",!s.isViewList),et(),ct("ngIf",s.isViewList))},dependencies:[yo,Xl,wn,Qz,pr,S3,y3],styles:[".file-upload-container[_ngcontent-%COMP%]{text-align:center;margin:20px}.dropzone[_ngcontent-%COMP%]{border:2px dashed #ddd;padding:20px;border-radius:5px;cursor:pointer;background-color:#f9f9f9;transition:background-color .3s}.dropzone.dragover[_ngcontent-%COMP%]{background-color:#eef}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}button[_ngcontent-%COMP%]{margin-top:10px;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:none}.image-preview[_ngcontent-%COMP%]{max-width:200px}.copy[_ngcontent-%COMP%]{display:inline-block;margin:10px;cursor:pointer}.copy.icon-done_all[_ngcontent-%COMP%]{color:green}.tab[_ngcontent-%COMP%]{margin:10px 0;font-size:20px;font-weight:700}.tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}.tab[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:gray}"]});let e=i;return e})();var wZ=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=Ai({type:i,selectors:[["skp-backup-records"]],standalone:!0,features:[Gi],decls:4,vars:0,template:function(r,s){r&1&&(He(0,"p"),Ze(1,"backup-records works!"),Ne(),He(2,"h1"),Ze(3,"Coming Soon...."),Ne())}});let e=i;return e})();var bZ=[{path:"markdown",redirectTo:"editor",pathMatch:"full"},{path:"editor",component:dq},{path:"github",component:$Y},{path:"g-drive",component:jY},{path:"drop-box",component:UY},{path:"auth/callback",component:WY},{path:"datatable",component:GY},{path:"tasks",component:pZ},{path:"feedbacks",component:gZ},{path:"news",component:mZ},{path:"md",component:ov},{path:"snap",component:CZ},{path:"backup",component:wZ}];var cS="Service workers are disabled or not supported by this browser";function Jxe(e){return Bu(()=>Oo(new Error(e)))}var Dv=class{constructor(i){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=Jxe(cS);else{let o=Mn(i,"controllerchange").pipe(kt(()=>i.controller)),r=Bu(()=>Bt(i.controller)),s=Vl(r,o);this.worker=s.pipe(bi(h=>!!h)),this.registration=this.worker.pipe(cn(()=>i.getRegistration()));let d=Mn(i,"message").pipe(kt(h=>h.data)).pipe(bi(h=>h&&h.type)).pipe(oM());d.connect(),this.events=d}}postMessage(i,n){return this.worker.pipe(to(1),Rn(o=>{o.postMessage(We({action:i},n))})).toPromise().then(()=>{})}postMessageWithOperation(i,n,o){let r=this.waitForOperationCompleted(o),s=this.postMessage(i,n);return Promise.all([s,r]).then(([,l])=>l)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let n;return typeof i=="string"?n=o=>o.type===i:n=o=>i.includes(o.type),this.events.pipe(bi(n))}nextEventOfType(i){return this.eventsOfType(i).pipe(to(1))}waitForOperationCompleted(i){return this.eventsOfType("OPERATION_COMPLETED").pipe(bi(n=>n.nonce===i),to(1),kt(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},eDe=(()=>{let i=class i{get isEnabled(){return this.sw.isEnabled}constructor(o){if(this.sw=o,this.pushManager=null,this.subscriptionChanges=new $i,!o.isEnabled){this.messages=Ps,this.notificationClicks=Ps,this.subscription=Ps;return}this.messages=this.sw.eventsOfType("PUSH").pipe(kt(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(kt(s=>s.data)),this.pushManager=this.sw.registration.pipe(kt(s=>s.pushManager));let r=this.pushManager.pipe(cn(s=>s.getSubscription()));this.subscription=ur(r,this.subscriptionChanges)}requestSubscription(o){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(cS));let r={userVisibleOnly:!0},s=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(s.length));for(let c=0;c<s.length;c++)l[c]=s.charCodeAt(c);return r.applicationServerKey=l,this.pushManager.pipe(cn(c=>c.subscribe(r)),to(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(cS));let o=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(to(1),cn(o)).toPromise()}decodeBase64(o){return atob(o)}};i.\u0275fac=function(r){return new(r||i)(Et(Dv))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),tDe=(()=>{let i=class i{get isEnabled(){return this.sw.isEnabled}constructor(o){if(this.sw=o,!o.isEnabled){this.versionUpdates=Ps,this.unrecoverable=Ps;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(cS));let o=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(cS));let o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}};i.\u0275fac=function(r){return new(r||i)(Et(Dv))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})();var yZ=new Nt("");function iDe(e,i,n,o){return()=>{if(!(xk(o)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let r=e.get(vi),s=e.get(Yl);r.runOutsideAngular(()=>{let c=navigator.serviceWorker,u=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",u),s.onDestroy(()=>{c.removeEventListener("controllerchange",u)})});let l;if(typeof n.registrationStrategy=="function")l=n.registrationStrategy();else{let[c,...u]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":l=Bt(null);break;case"registerWithDelay":l=SZ(+u[0]||0);break;case"registerWhenStable":let d=fn(e.get(Yl).whenStable());l=u[0]?ur(d,SZ(+u[0])):d;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}r.runOutsideAngular(()=>l.pipe(to(1)).subscribe(()=>navigator.serviceWorker.register(i,{scope:n.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function SZ(e){return Bt(null).pipe(og(e))}function nDe(e,i){return new Dv(xk(i)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var lS=class{};function _Z(e,i={}){return Uu([eDe,tDe,{provide:yZ,useValue:e},{provide:lS,useValue:i},{provide:Dv,useFactory:nDe,deps:[lS,dl]},{provide:ox,useFactory:iDe,deps:[Ul,yZ,lS,dl],multi:!0}])}var k4=class{};var A4=class{},F4=class{};var uS=class{constructor(i){this.type=i}},Or=class extends uS{constructor(i,n=null){super(i),this.info=n}},_l=class extends uS{constructor(i,n=null){super(i),this.info=n}},Zn=class extends uS{constructor(i,n,o=null){super(i),this.reason=n,this.params=o}};function xZ(e){let i=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(i).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function DZ(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Ev=class{constructor(i){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=n=>{location.href=n},i&&Object.assign(this,i)}},Ff=class{encodeKey(i){return encodeURIComponent(i)}encodeValue(i){return encodeURIComponent(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}},T4=class{};var oDe=(()=>{let i=class i{getHashFragmentParams(o){let r=o||window.location.hash;if(r=decodeURIComponent(r),r.indexOf("#")!==0)return{};let s=r.indexOf("?");return s>-1?r=r.substr(s+1):r=r.substr(1),this.parseQueryString(r)}parseQueryString(o){let r={},s,l,c,u,d,h;if(o===null)return r;let p=o.split("&");for(let g=0;g<p.length;g++)s=p[g],l=s.indexOf("="),l===-1?(c=s,u=null):(c=s.substr(0,l),u=s.substr(l+1)),d=decodeURIComponent(c),h=decodeURIComponent(u),d.substr(0,1)==="/"&&(d=d.substr(1)),r[d]=h;return r}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})(),rDe=32;var D0t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);var E0t=new Uint8Array(rDe);var P4=class{};var EZ=(()=>{let i=class i extends Ev{constructor(o,r,s,l,c,u,d,h,p,g){super(),this.ngZone=o,this.http=r,this.config=c,this.urlHelper=u,this.logger=d,this.crypto=h,this.dateTimeService=g,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new $i,this.discoveryDocumentLoadedSubject=new $i,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=p,c||(c={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),l&&(this.tokenValidationHandler=l),c&&this.configure(c);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(f){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",f)}if(this.checkLocalStorageAccessable()){let f=window?.navigator?.userAgent;(f?.includes("MSIE ")||f?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let o="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(o,o),localStorage.removeItem(o),!0)}catch{return!1}}configure(o){Object.assign(this,new Ev,o),this.config=Object.assign({},new Ev,o),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(bi(o=>o.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(o={},r,s=!0){let l=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(Rn(c=>{c.type==="token_received"?l=!0:c.type==="logout"&&(l=!1)}),bi(c=>c.type==="token_expires"&&(r==null||r==="any"||c.info===r)),Wh(1e3)).subscribe(()=>{l&&this.refreshInternal(o,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(o,r){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(o,r)}loadDiscoveryDocumentAndTryLogin(o=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(o))}loadDiscoveryDocumentAndLogin(o=null){return o=o||{},this.loadDiscoveryDocumentAndTryLogin(o).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let r=typeof o.state=="string"?o.state:"";return this.initLoginFlow(r),!1}else return!0})}debug(...o){this.showDebugInformation&&this.logger.debug(...o)}validateUrlFromDiscoveryDocument(o){let r=[],s=this.validateUrlForHttps(o),l=this.validateUrlAgainstIssuer(o);return s||r.push("https for all urls required. Also for urls received by discovery."),l||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(o){if(!o)return!0;let r=o.toLowerCase();return this.requireHttps===!1||(r.match(/^http:\/\/localhost($|[:/])/)||r.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(o,r){if(!o)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(o))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(o){return!this.strictDiscoveryDocumentValidation||!o?!0:o.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(bi(o=>o.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let o=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),s=this.calcTimeout(r,o);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=Bt(new _l("token_expires","access_token")).pipe(og(s)).subscribe(l=>{this.ngZone.run(()=>{this.eventsSubject.next(l)})})})}setupIdTokenTimer(){let o=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),s=this.calcTimeout(r,o);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=Bt(new _l("token_expires","id_token")).pipe(og(s)).subscribe(l=>{this.ngZone.run(()=>{this.eventsSubject.next(l)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(o,r){let s=this.dateTimeService.now(),l=(r-o)*this.timeoutFactor-(s-o),c=Math.max(0,l),u=2147483647;return c>u?u:c}setStorage(o){this._storage=o,this.configChanged()}loadDiscoveryDocument(o=null){return new Promise((r,s)=>{if(o||(o=this.issuer||"",o.endsWith("/")||(o+="/"),o+=".well-known/openid-configuration"),!this.validateUrlForHttps(o)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(o).subscribe(l=>{if(!this.validateDiscoveryDocument(l)){this.eventsSubject.next(new Zn("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=l.authorization_endpoint,this.logoutUrl=l.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=l.grant_types_supported,this.issuer=l.issuer,this.tokenEndpoint=l.token_endpoint,this.userinfoEndpoint=l.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=l.jwks_uri,this.sessionCheckIFrameUrl=l.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(l),this.revocationEndpoint=l.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(c=>{let u={discoveryDocument:l,jwks:c},d=new Or("discovery_document_loaded",u);this.eventsSubject.next(d),r(d)}).catch(c=>{this.eventsSubject.next(new Zn("discovery_document_load_error",c)),s(c)})},l=>{this.logger.error("error loading discovery document",l),this.eventsSubject.next(new Zn("discovery_document_load_error",l)),s(l)})})}loadJwks(){return new Promise((o,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,o(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new Zn("jwks_load_error",s)),r(s)}):o(null)})}validateDiscoveryDocument(o){let r;return!this.skipIssuerCheck&&o.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+o.issuer),!1):(r=this.validateUrlFromDiscoveryDocument(o.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(o.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(o.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(o.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(o.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(o.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!o.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(o,r,s=new Ji){return this.fetchTokenUsingPasswordFlow(o,r,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((o,r)=>{let s=new Ji().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(l=>{if(this.debug("userinfo received",JSON.stringify(l)),l.headers.get("content-type").startsWith("application/json")){let c=JSON.parse(l.body),u=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!u.sub||c.sub!==u.sub)){r(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}c=Object.assign({},u,c),this._storage.setItem("id_token_claims_obj",JSON.stringify(c)),this.eventsSubject.next(new Or("user_profile_loaded")),o({info:c})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Or("user_profile_loaded")),o(JSON.parse(l.body))},l=>{this.logger.error("error loading user info",l),this.eventsSubject.next(new Zn("user_profile_load_error",l)),r(l)})})}fetchTokenUsingPasswordFlow(o,r,s=new Ji){let l={username:o,password:r};return this.fetchTokenUsingGrant("password",l,s)}fetchTokenUsingGrant(o,r,s=new Ji){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let l=new Jr({encoder:new Ff}).set("grant_type",o).set("scope",this.scope);if(this.useHttpBasicAuth){let c=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+c)}if(this.useHttpBasicAuth||(l=l.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(l=l.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))l=l.set(c,this.customQueryParams[c]);for(let c of Object.keys(r))l=l.set(c,r[c]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((c,u)=>{this.http.post(this.tokenEndpoint,l,{headers:s}).subscribe(d=>{this.debug("tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.oidc&&d.id_token&&this.processIdToken(d.id_token,d.access_token).then(h=>{this.storeIdToken(h),c(d)}),this.eventsSubject.next(new Or("token_received")),c(d)},d=>{this.logger.error("Error performing ${grantType} flow",d),this.eventsSubject.next(new Zn("token_error",d)),u(d)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((o,r)=>{let s=new Jr({encoder:new Ff}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),l=new Ji().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let c=btoa(`${this.clientId}:${this.dummyClientSecret}`);l=l.set("Authorization","Basic "+c)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(c,this.customQueryParams[c]);this.http.post(this.tokenEndpoint,s,{headers:l}).pipe(cn(c=>this.oidc&&c.id_token?fn(this.processIdToken(c.id_token,c.access_token,!0)).pipe(Rn(u=>this.storeIdToken(u)),kt(()=>c)):Bt(c))).subscribe(c=>{this.debug("refresh tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.eventsSubject.next(new Or("token_received")),this.eventsSubject.next(new Or("token_refreshed")),o(c)},c=>{this.logger.error("Error refreshing token",c),this.eventsSubject.next(new Zn("token_refresh_error",c)),r(c)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=o=>{let r=this.processMessageEventMessage(o);this.checkOrigin&&o.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(o={},r=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(o.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let l=this.document.getElementById(this.silentRefreshIFrameName);l&&this.document.body.removeChild(l),this.silentRefreshSubject=s.sub;let c=this.document.createElement("iframe");c.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let u=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,u,r,o).then(g=>{c.setAttribute("src",g),this.silentRefreshShowIFrame||(c.style.display="none"),this.document.body.appendChild(c)});let d=this.events.pipe(bi(g=>g instanceof Zn),Ur()),h=this.events.pipe(bi(g=>g.type==="token_received"),Ur()),p=Bt(new Zn("silent_refresh_timeout",null)).pipe(og(this.silentRefreshTimeout));return eM([d,h,p]).pipe(kt(g=>{if(g instanceof Zn)throw g.type==="silent_refresh_timeout"?this.eventsSubject.next(g):(g=new Zn("silent_refresh_error",g),this.eventsSubject.next(g)),g;return g.type==="token_received"&&(g=new Or("silently_refreshed"),this.eventsSubject.next(g)),g})).toPromise()}initImplicitFlowInPopup(o){return this.initLoginFlowInPopup(o)}initLoginFlowInPopup(o){return o=o||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((s,l)=>{let u=null;o.windowRef?o.windowRef&&!o.windowRef.closed&&(u=o.windowRef,u.location.href=r):u=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(o));let d,h=M=>{this.tryLogin({customHashFragment:M,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{g(),s(!0)},k=>{g(),l(k)})},p=()=>{(!u||u.closed)&&(g(),l(new Zn("popup_closed",{})))};u?d=window.setInterval(p,500):l(new Zn("popup_blocked",{}));let g=()=>{window.clearInterval(d),window.removeEventListener("storage",y),window.removeEventListener("message",f),u!==null&&u.close(),u=null},f=M=>{let k=this.processMessageEventMessage(M);k&&k!==null?(window.removeEventListener("storage",y),h(k)):console.log("false event firing")},y=M=>{M.key==="auth_hash"&&(window.removeEventListener("message",f),h(M.newValue))};window.addEventListener("message",f),window.addEventListener("storage",y)}))}calculatePopupFeatures(o){let r=o.height||470,s=o.width||500,l=window.screenLeft+(window.outerWidth-s)/2,c=window.screenTop+(window.outerHeight-r)/2;return`location=no,toolbar=no,width=${s},height=${r},top=${c},left=${l}`}processMessageEventMessage(o){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!o||!o.data||typeof o.data!="string")return;let s=o.data;if(s.startsWith(r))return"#"+s.substr(r.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=o=>{let r=o.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(r)){this.debug("sessionCheckEventListener","wrong origin",r,"expected",s,"event",o);return}switch(o.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",o)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new _l("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new _l("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new _l("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new _l("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(bi(o=>o.type==="silently_refreshed"||o.type==="silent_refresh_timeout"||o.type==="silent_refresh_error"),Ur()).subscribe(o=>{o.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new _l("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new _l("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let o=this.document.getElementById(this.sessionCheckIFrameName);o&&this.document.body.removeChild(o);let r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;r.setAttribute("src",s),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let o=this.document.getElementById(this.sessionCheckIFrameName);o||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let r=this.getSessionState();r||this.stopSessionCheckTimer();let s=this.clientId+" "+r;o.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return Nn(this,arguments,function*(o="",r="",s="",l=!1,c={}){let u=this,d;s?d=s:d=this.redirectUri;let h=yield this.createAndSaveNonce();if(o?o=h+this.config.nonceStateSeparator+encodeURIComponent(o):o=h,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let p=u.loginUrl.indexOf("?")>-1?"&":"?",g=u.scope;this.oidc&&!g.match(/(^|\s)openid($|\s)/)&&(g="openid "+g);let f=u.loginUrl+p+"response_type="+encodeURIComponent(u.responseType)+"&client_id="+encodeURIComponent(u.clientId)+"&state="+encodeURIComponent(o)+"&redirect_uri="+encodeURIComponent(d)+"&scope="+encodeURIComponent(g);if(this.responseType.includes("code")&&!this.disablePKCE){let[y,M]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",M):this._storage.setItem("PKCE_verifier",M),f+="&code_challenge="+y,f+="&code_challenge_method=S256"}r&&(f+="&login_hint="+encodeURIComponent(r)),u.resource&&(f+="&resource="+encodeURIComponent(u.resource)),u.oidc&&(f+="&nonce="+encodeURIComponent(h)),l&&(f+="&prompt=none");for(let y of Object.keys(c))f+="&"+encodeURIComponent(y)+"="+encodeURIComponent(c[y]);if(this.customQueryParams)for(let y of Object.getOwnPropertyNames(this.customQueryParams))f+="&"+y+"="+encodeURIComponent(this.customQueryParams[y]);return f})}initImplicitFlowInternal(o="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},l=null;typeof r=="string"?l=r:typeof r=="object"&&(s=r),this.createLoginUrl(o,l,null,!1,s).then(this.config.openUri).catch(c=>{console.error("Error in initImplicitFlow",c),this.inImplicitFlow=!1})}initImplicitFlow(o="",r=""){this.loginUrl!==""?this.initImplicitFlowInternal(o,r):this.events.pipe(bi(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(o,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(o){let r=this;if(o.onTokenReceived){let s={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};o.onTokenReceived(s)}}storeAccessTokenResponse(o,r,s,l,c){if(this._storage.setItem("access_token",o),l&&!Array.isArray(l)?this._storage.setItem("granted_scopes",JSON.stringify(l.split(" "))):l&&Array.isArray(l)&&this._storage.setItem("granted_scopes",JSON.stringify(l)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let u=s*1e3,h=this.dateTimeService.new().getTime()+u;this._storage.setItem("expires_at",""+h)}r&&this._storage.setItem("refresh_token",r),c&&c.forEach((u,d)=>{this._storage.setItem(d,u)})}tryLogin(o=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(o).then(()=>!0):this.tryLoginImplicitFlow(o)}parseQueryString(o){return!o||o.length===0?{}:(o.charAt(0)==="?"&&(o=o.substr(1)),this.urlHelper.parseQueryString(o))}tryLoginCodeFlow(o=null){return Nn(this,null,function*(){o=o||{};let r=o.customHashFragment?o.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(r),l=s.code,c=s.state,u=s.session_state;if(!o.preventClearHashAfterLogin){let p=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,p)}let[d,h]=this.parseState(c);if(this.state=h,s.error){this.debug("error trying to login"),this.handleLoginError(o,s);let p=new Zn("code_error",{},s);return this.eventsSubject.next(p),Promise.reject(p)}if(!o.disableNonceCheck){if(!d)return this.saveRequestedRoute(),Promise.resolve();if(!o.disableOAuth2StateCheck&&!this.validateNonce(d)){let g=new Zn("invalid_nonce_in_state",null);return this.eventsSubject.next(g),Promise.reject(g)}}return this.storeSessionState(u),l&&(yield this.getTokenFromCode(l,o),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let o=this._storage.getItem("requested_route");o&&history.replaceState(null,"",window.location.origin+o)}getCodePartsFromUrl(o){return!o||o.length===0?this.urlHelper.getHashFragmentParams():(o.charAt(0)==="?"&&(o=o.substr(1)),this.urlHelper.parseQueryString(o))}getTokenFromCode(o,r){let s=new Jr({encoder:new Ff}).set("grant_type","authorization_code").set("code",o).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let l;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?l=localStorage.getItem("PKCE_verifier"):l=this._storage.getItem("PKCE_verifier"),l?s=s.set("code_verifier",l):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,r)}fetchAndProcessToken(o,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new Ji().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let l=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+l)}return this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),new Promise((l,c)=>{if(this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(u,this.customQueryParams[u]);this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(u=>{this.debug("refresh tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token?this.processIdToken(u.id_token,u.access_token,r.disableNonceCheck).then(d=>{this.storeIdToken(d),this.eventsSubject.next(new Or("token_received")),this.eventsSubject.next(new Or("token_refreshed")),l(u)}).catch(d=>{this.eventsSubject.next(new Zn("token_validation_error",d)),console.error("Error validating tokens"),console.error(d),c(d)}):(this.eventsSubject.next(new Or("token_received")),this.eventsSubject.next(new Or("token_refreshed")),l(u))},u=>{console.error("Error getting token",u),this.eventsSubject.next(new Zn("token_refresh_error",u)),c(u)})})}tryLoginImplicitFlow(o=null){o=o||{};let r;o.customHashFragment?r=this.urlHelper.getHashFragmentParams(o.customHashFragment):r=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);let s=r.state,[l,c]=this.parseState(s);if(this.state=c,r.error){this.debug("error trying to login"),this.handleLoginError(o,r);let g=new Zn("token_error",{},r);return this.eventsSubject.next(g),Promise.reject(g)}let u=r.access_token,d=r.id_token,h=r.session_state,p=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!u||this.requestAccessToken&&!o.disableOAuth2StateCheck&&!s||this.oidc&&!d)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!h&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!o.disableNonceCheck&&!this.validateNonce(l)){let f=new Zn("invalid_nonce_in_state",null);return this.eventsSubject.next(f),Promise.reject(f)}return this.requestAccessToken&&this.storeAccessTokenResponse(u,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,p),this.oidc?this.processIdToken(d,u,o.disableNonceCheck).then(g=>o.validationHandler?o.validationHandler({accessToken:u,idClaims:g.idTokenClaims,idToken:g.idToken,state:s}).then(()=>g):g).then(g=>(this.storeIdToken(g),this.storeSessionState(h),this.clearHashAfterLogin&&!o.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Or("token_received")),this.callOnTokenReceivedIfExists(o),this.inImplicitFlow=!1,!0)).catch(g=>(this.eventsSubject.next(new Zn("token_validation_error",g)),this.logger.error("Error validating tokens"),this.logger.error(g),Promise.reject(g))):(this.eventsSubject.next(new Or("token_received")),this.clearHashAfterLogin&&!o.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(o),Promise.resolve(!0))}parseState(o){let r=o,s="";if(o){let l=o.indexOf(this.config.nonceStateSeparator);l>-1&&(r=o.substr(0,l),s=o.substr(l+this.config.nonceStateSeparator.length))}return[r,s]}validateNonce(o){let r;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("nonce"):r=this._storage.getItem("nonce"),r!==o?(console.error("Validating access_token failed, wrong state/nonce.",r,o),!1):!0}storeIdToken(o){this._storage.setItem("id_token",o.idToken),this._storage.setItem("id_token_claims_obj",o.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+o.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(o){this._storage.setItem("session_state",o)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(o,r){o.onLoginError&&o.onLoginError(r),this.clearHashAfterLogin&&!o.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(o=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?o:this.clockSkewInSec*1e3}processIdToken(o,r,s=!1){let l=o.split("."),c=this.padBase64(l[0]),u=xZ(c),d=JSON.parse(u),h=this.padBase64(l[1]),p=xZ(h),g=JSON.parse(p),f;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?f=localStorage.getItem("nonce"):f=this._storage.getItem("nonce"),Array.isArray(g.aud)){if(g.aud.every($=>$!==this.clientId)){let $="Wrong audience: "+g.aud.join(",");return this.logger.warn($),Promise.reject($)}}else if(g.aud!==this.clientId){let $="Wrong audience: "+g.aud;return this.logger.warn($),Promise.reject($)}if(!g.sub){let $="No sub claim in id_token";return this.logger.warn($),Promise.reject($)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==g.sub){let $=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${g.sub}`;return this.logger.warn($),Promise.reject($)}if(!g.iat){let $="No iat claim in id_token";return this.logger.warn($),Promise.reject($)}if(!this.skipIssuerCheck&&g.iss!==this.issuer){let $="Wrong issuer: "+g.iss;return this.logger.warn($),Promise.reject($)}if(!s&&g.nonce!==f){let $="Wrong nonce: "+g.nonce;return this.logger.warn($),Promise.reject($)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!g.at_hash){let $="An at_hash is needed!";return this.logger.warn($),Promise.reject($)}let y=this.dateTimeService.now(),M=g.iat*1e3,k=g.exp*1e3,G=this.getClockSkewInMsec();if(M-G>=y||k+G-this.decreaseExpirationBySec<=y){let $="Token has expired";return console.error($),console.error({now:y,issuedAtMSec:M,expiresAtMSec:k}),Promise.reject($)}let J={accessToken:r,idToken:o,jwks:this.jwks,idTokenClaims:g,idTokenHeader:d,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(J).then(()=>({idToken:o,idTokenClaims:g,idTokenClaimsJson:p,idTokenHeader:d,idTokenHeaderJson:u,idTokenExpiresAt:k})):this.checkAtHash(J).then($=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!$){let _e="Wrong at_hash";return this.logger.warn(_e),Promise.reject(_e)}return this.checkSignature(J).then(()=>{let _e=!this.disableAtHashCheck,Fe={idToken:o,idTokenClaims:g,idTokenClaimsJson:p,idTokenHeader:d,idTokenHeaderJson:u,idTokenExpiresAt:k};return _e?this.checkAtHash(J).then(Pe=>{if(this.requestAccessToken&&!Pe){let $e="Wrong at_hash";return this.logger.warn($e),Promise.reject($e)}else return Fe}):Fe})})}getIdentityClaims(){let o=this._storage.getItem("id_token_claims_obj");return o?JSON.parse(o):null}getGrantedScopes(){let o=this._storage.getItem("granted_scopes");return o?JSON.parse(o):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(o){for(;o.length%4!==0;)o+="=";return o}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let o=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(o&&parseInt(o,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let o=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(o&&parseInt(o,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(o){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(o)>=0&&this._storage.getItem(o)!==null?JSON.parse(this._storage.getItem(o)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(o={},r=""){let s=!1;typeof o=="boolean"&&(s=o,o={});let l=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(u=>this._storage.removeItem(u)),this.silentRefreshSubject=null,this.eventsSubject.next(new _l("logout")),!this.logoutUrl||s)return;let c;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)c=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(l)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let u=new Jr({encoder:new Ff});l&&(u=u.set("id_token_hint",l));let d=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";d&&(u=u.set("post_logout_redirect_uri",d),r&&(u=u.set("state",r)));for(let h in o)u=u.set(h,o[h]);c=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+u.toString()}this.config.openUri(c)}createAndSaveNonce(){let o=this;return this.createNonce().then(function(r){return o.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):o._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let o=this.document.getElementById(this.silentRefreshIFrameName);o&&o.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(o=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,l="",c=typeof self>"u"?null:self.crypto||self.msCrypto;if(c){let u=new Uint8Array(s);c.getRandomValues(u),u.map||(u.map=Array.prototype.map),u=u.map(d=>r.charCodeAt(d%r.length)),l=String.fromCharCode.apply(null,u)}else for(;0<s--;)l+=r[Math.random()*r.length|0];o(DZ(l))})}checkAtHash(o){return Nn(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(o):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(o){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(o):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(o="",r={}){return this.responseType==="code"?this.initCodeFlow(o,r):this.initImplicitFlow(o,r)}initCodeFlow(o="",r={}){this.loginUrl!==""?this.initCodeFlowInternal(o,r):this.events.pipe(bi(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(o,r))}initCodeFlowInternal(o="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},l=null;typeof r=="string"?l=r:typeof r=="object"&&(s=r),this.createLoginUrl(o,l,null,!1,s).then(this.config.openUri).catch(c=>{console.error("Error in initAuthorizationCodeFlow"),console.error(c)})}createChallangeVerifierPairForPKCE(){return Nn(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let o=yield this.createNonce(),r=yield this.crypto.calcHash(o,"sha-256");return[DZ(r),o]})}extractRecognizedCustomParameters(o){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{o[s]&&r.set(s,JSON.stringify(o[s]))}),r}revokeTokenAndLogout(o={},r=!1){let s=this.revocationEndpoint,l=this.getAccessToken(),c=this.getRefreshToken();if(!l)return Promise.resolve();let u=new Jr({encoder:new Ff}),d=new Ji().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let h=btoa(`${this.clientId}:${this.dummyClientSecret}`);d=d.set("Authorization","Basic "+h)}if(this.useHttpBasicAuth||(u=u.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(u=u.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let h of Object.getOwnPropertyNames(this.customQueryParams))u=u.set(h,this.customQueryParams[h]);return new Promise((h,p)=>{let g,f;if(l){let y=u.set("token",l).set("token_type_hint","access_token");g=this.http.post(s,y,{headers:d})}else g=Bt(null);if(c){let y=u.set("token",c).set("token_type_hint","refresh_token");f=this.http.post(s,y,{headers:d})}else f=Bt(null);r&&(g=g.pipe(eo(y=>y.status===0?Bt(null):Oo(y))),f=f.pipe(eo(y=>y.status===0?Bt(null):Oo(y)))),zh([g,f]).subscribe(y=>{this.logOut(o),h(y),this.logger.info("Token successfully revoked")},y=>{this.logger.error("Error revoking token",y),this.eventsSubject.next(new Zn("token_revoke_error",y)),p(y)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};i.\u0275fac=function(r){return new(r||i)(Et(vi),Et(Er),Et(F4,8),Et(T4,8),Et(Ev,8),Et(oDe),Et(A4),Et(P4,8),Et(vo),Et(k4))},i.\u0275prov=St({token:i,factory:i.\u0275fac});let e=i;return e})();var I0t=new Nt("AUTH_CONFIG");var IZ={providers:[Pz({eventCoalescing:!0}),eG(bZ),_Z("ngsw-worker.js",{enabled:!Nz(),registrationStrategy:"registerWithDelay:30000"}),c9(),EZ]};var sDe=()=>["/editor"],aDe=()=>["/github"],lDe=()=>["/g-drive"],cDe=()=>["/drop-box"],uDe=()=>["/datatable"],dDe=()=>["/snap"],hDe=()=>["/tasks"],pDe=()=>["/feedbacks"],gDe=()=>["/news"],fDe=()=>["/md"],mDe=()=>["/backup"],MZ=(()=>{let i=class i{constructor(o,r,s,l){this.route=o,this.router=r,this.githubService=s,this.dropboxService=l,this.title="skpedit"}ngOnInit(){this.route.queryParams.subscribe(o=>{let r=o.token,s=o.auth;s=="github"&&r?(this.githubService.login(o),this.router.navigate(["/github"])):s=="dropbox"&&r&&(this.dropboxService.saveToken(o),this.router.navigate(["/drop-box"])),s=="dropbox"&&o.code&&this.dropboxService.getToken(o.code)})}};i.\u0275fac=function(r){return new(r||i)(at(pl),at(ow),at(yv),at(Sv))},i.\u0275cmp=Ai({type:i,selectors:[["skp-root"]],standalone:!0,features:[Gi],decls:37,vars:22,consts:[["routerLink","/"],[3,"routerLink"]],template:function(r,s){r&1&&(He(0,"a",0),Ze(1,"Home"),Ne(),Ze(2," | "),He(3,"a",1),Ze(4,"Editor"),Ne(),Ze(5," | "),He(6,"a",1),Ze(7,"Github"),Ne(),Ze(8,` |
`),He(9,"a",1),Ze(10,"G-Drive"),Ne(),Ze(11," | "),He(12,"a",1),Ze(13,"DropBox"),Ne(),Ze(14,` |
`),He(15,"a",1),Ze(16,"Remote Files"),Ne(),Ze(17," | "),He(18,"a",1),Ze(19,"Snapshot"),Ne(),Ze(20,` |
`),He(21,"a",1),Ze(22,"Calender Task"),Ne(),Ze(23," | "),He(24,"a",1),Ze(25,"Feedbacks"),Ne(),Ze(26," | "),He(27,"a",1),Ze(28,"Latest News"),Ne(),Ze(29," | "),He(30,"a",1),Ze(31,"Markdown Component"),Ne(),Ze(32," | "),He(33,"a",1),Ze(34,"Backup"),Ne(),Pt(35,"br")(36,"router-outlet")),r&2&&(et(3),ct("routerLink",No(11,sDe)),et(3),ct("routerLink",No(12,aDe)),et(3),ct("routerLink",No(13,lDe)),et(3),ct("routerLink",No(14,cDe)),et(3),ct("routerLink",No(15,uDe)),et(3),ct("routerLink",No(16,dDe)),et(3),ct("routerLink",No(17,hDe)),et(3),ct("routerLink",No(18,pDe)),et(3),ct("routerLink",No(19,gDe)),et(3),ct("routerLink",No(20,fDe)),et(3),ct("routerLink",No(21,mDe)))},dependencies:[wn,fA,J9,yo],styles:[`[_nghost-%COMP%] {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(180deg,
        var(--orange-red) 0%,
        var(--vivid-pink) 50%,
        var(--electric-violet) 100%);

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(90deg,
        var(--orange-red) 0%,
        var(--vivid-pink) 50%,
        var(--electric-violet) 100%);

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1[_ngcontent-%COMP%] {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
  }

  p[_ngcontent-%COMP%] {
    margin: 0;
    color: var(--gray-700);
  }

  main[_ngcontent-%COMP%] {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo[_ngcontent-%COMP%] {
    max-width: 9.2rem;
  }

  .content[_ngcontent-%COMP%] {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {
    margin-top: 1.75rem;
  }

  .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {
    margin-top: 1.5rem;
  }

  .divider[_ngcontent-%COMP%] {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group[_ngcontent-%COMP%] {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
  }

  .pill[_ngcontent-%COMP%]:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 2) {
    --pill-accent: var(--french-violet);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 3), 
   .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 4), 
   .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 5) {
    --pill-accent: var(--hot-red);
  }

  .pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {
    margin-inline-start: 0.25rem;
  }

  .social-links[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: max-content;
    }

    .divider[_ngcontent-%COMP%] {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }`]});let e=i;return e})();v9(MZ,IZ).catch(e=>console.error(e));
